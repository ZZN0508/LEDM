"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[653],{77360:function(e,o,n){n.r(o),n.d(o,{Home:function(){return _e},default:function(){return se}});n(41539),n(54747);var t=n(86902),r=n.n(t),l=n(14310),a=n.n(l),i=n(20116),c=n.n(i),u=n(34074),m=n.n(u),_=n(39649),s=n.n(_),d=n(73126),f=n(44845),g=n(33938),p=n(59056),b=n(63109),v=n.n(b),h=n(62462),y=n.n(h),k=n(2991),E=n.n(k),Z=n(3649),C=n.n(Z),w=n(67294),I=n(72597),L=n(58405),T=n(41266),P=(n(68309),n(49697)),D=n(14351),O=n(65876),R=n(88973),S=n(92744),N=n(44999),x=n(68956),M=n(52613),j=n(58581),A=n(25413),F=n(88768),U=n(42816),H=n(17097),B=n(54871),q=["blockInfo","request_from","teaParams"];function V(e,o){var n=r()(e);if(a()){var t=a()(e);o&&(t=c()(t).call(t,(function(o){return m()(e,o).enumerable}))),n.push.apply(n,t)}return n}var z=P.Z,G=function(e){var o=e.blockInfo,n=e.request_from,t=e.teaParams,r=(0,T.Z)(e,q),l=(0,B.jY)(),a=e.channelId||R.Z.MY_ATTENTION_RECOMMEND,i=function(e,o){var n,t;H.Z.authorInfoClick({log_pb:(0,S.ST)(e.log_pb,["page_type","sourcepage"],["homepage","homepage"]),click_position:o,user_status:l.id===String(null==e||null===(n=e.user_info)||void 0===n?void 0:n.user_id)?"author":"guest",is_following:null!=e&&null!==(t=e.user_info)&&void 0!==t&&t.follow?1:0})};return w.createElement(z,(0,d.Z)({},r,{title:"关注动态",toMoreConfig:{href:"/my/attention/",onClick:function(e){x.Z.category.enterCategory({category_name:"follow",source:"more"===e?M.D.block_more:M.D.block_name,page_type:(0,j.ZP)()}),"more"===e&&x.Z.category.index_more(function(e){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?V(Object(n),!0).forEach((function(o){(0,f.Z)(e,o,n[o])})):s()?Object.defineProperties(e,s()(n)):V(Object(n)).forEach((function(o){Object.defineProperty(e,o,m()(n,o))}))}return e}({},o))}},withPaging:!1,className:"channelBlocklist",renderItem:function(e,n){if(303===e.cellType){var r=e.data,l=void 0!==r.pseries,a=l?F.IG.PSERIES:F.IG.SHORT_VIDEO;return w.createElement(D.Z,{inView:function(){var e;return x.Z.common.videoShow({log_pb:r.log_pb,rank_in_block:n+1,category_name:null==o?void 0:o.block_title,block_title:null!==(e=null==o?void 0:o.block_title)&&void 0!==e?e:""})},seriesCount:l?r.pseries.total:void 0,seriesType:l?"pseries":void 0,title:r.title,tracing:{video_card_type:a,list_entrance:"homepage",source:"follow_recommend"},RBTag:(0,S.LU)(r.duration),anchorProps:(0,N.ZF)({gid:r.group_id,pSeriresId:l?r.pseries.id:void 0,query:{logPb:r.log_pb,rank_in_block:n+1,from_page:null==t?void 0:t.from_page}}),coverURL:r.image_url,authorInfo:r.user_info,video_watch_count:r.playNum,publish_time:r.publish_time,clientShowParams:{log_pb:r.log_pb},videoURL:r.preview_url,onAuthorProfileClick:function(){return i(r,"profile")},onAuthorNameClick:function(){return i(r,"name")}})}if(304===e.cellType){var c,u=e.data,m=function(){var e;return{log_pb:u.log_pb,rank_in_block:n+1,block_title:null!==(e=null==o?void 0:o.block_title)&&void 0!==e?e:""}};return w.createElement(U.Z,{isLive:!0,inView:function(){return x.Z.common.videoShow(m())},tracing:{source:"follow_recommend",video_card_type:"live",list_entrance:"homepage"},title:u.title,anchorProps:{href:globalThis.xssNamespace.xigua_video_web_pc.filterUrl((0,A.Z)({short_id:u.short_id,room_id:u.room_id}),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),onClick:function(){return x.Z.common.videoClick(m())}},hotPoint:u.watching_count,authorInfo:u.user_info,coverURL:u.imageUrl,bottomLabel:null===(c=u.tag)||void 0===c?void 0:c.name,clientShowParams:{log_pb:u.log_pb},onAuthorProfileClick:function(){return i(u,"profile")},onAuthorNameClick:function(){return i(u,"name")},watchingCount:u.watching_count})}return null},renderLoadingItem:function(){return w.createElement(D.L,null)},fetchData:(0,O.kg)(a,n)}))},Q=n(40499),K=n(35419),W=n(94546),Y=n(87345),X=n(32089),J=n(28216),$=n(52246),ee=n(75843),oe=n(75485),ne=n(50449),te=n(36265),re=n(78089);function le(e){var o=e.url,t=e.category_name,r=void 0===t?"":t,l=(0,w.useState)(!1),a=(0,p.Z)(l,2),i=a[0],c=a[1],u=(0,w.useMemo)((function(){return{log_pb:"{}",go_url:o,category_name:r,banner_name:"用户调研banner"}}),[o,r]);return i?null:w.createElement("span",{className:"feedSurvey"},w.createElement("a",{href:globalThis.xssNamespace.xigua_video_web_pc.filterUrl(o,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),target:"_blank",title:"问卷调查入口",onClick:function(){re.Z.banner_click(u)}},w.createElement(te.Z,{src:globalThis.xssNamespace.xigua_video_web_pc.filterUrl(n(85964),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:"问卷调查入口封面",inView:function(){re.Z.banner_exposure(u)}})),w.createElement("i",{onClick:function(){re.Z.banner_close(u),c(!0)}}))}var ae=n(28169),ie=n(72169),ce=n(14008);function ue(e,o){var n=r()(e);if(a()){var t=a()(e);o&&(t=c()(t).call(t,(function(o){return m()(e,o).enumerable}))),n.push.apply(n,t)}return n}function me(e){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?ue(Object(n),!0).forEach((function(o){(0,f.Z)(e,o,n[o])})):s()?Object.defineProperties(e,s()(n)):ue(Object(n)).forEach((function(o){Object.defineProperty(e,o,m()(n,o))}))}return e}var _e=function(e){var o,n,t,r,l,a,i=e.showBanner,c=void 0===i||i,u=e.teaParams,m=(0,oe.Z)(),_=m.globalConfig,s=m.setHeaderSkin,f=null===(o=_.topConfig)||void 0===o?void 0:o.pinyinChannels.shouye,b=_.isGray,h=((null==f||null===(n=f.block_list)||void 0===n?void 0:y()(n).call(n,(function(e){return e.type===ae.eu.Feed})))||0)+1,k=(0,w.useState)(null),Z=(0,p.Z)(k,2),T=Z[0],P=Z[1];(0,w.useEffect)((function(){var e=function(){var e=(0,g.Z)(v().mark((function e(){var o,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.Z.channel.getMaterialConfig({pinyin:"shouye"});case 2:200===(o=e.sent).data.code&&(P(o.data.data),s(null===(n=o.data.data)||void 0===n?void 0:n.immerSiveBanner));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var D=(0,J.v9)((function(e){return e[ee.VD.Home]||{}})),O=D.lvideoRecomment,S=D.shortVideoRecommend,N=D.bannerData,j=D.feedSurvey,A=(0,w.useState)(!1),U=(0,p.Z)(A,2),H=U[0],B=U[1],q=(0,w.useState)((function(){if(S){var e=S;return null==e?void 0:e.channelFeed.Data}})),V=(0,p.Z)(q,2),z=V[0],te=(V[1],(0,J.I0)()),re=(0,w.useRef)("undefined"==typeof _SSR_HYDRATED_DATA?1:2);(0,w.useEffect)((function(){return function(){te((0,$.Z)("SET_HOME")({lvideoRecomment:void 0,shortVideoRecommend:void 0,bannerData:N,feedSurvey:void 0}))}}),[]);(0,w.useMemo)((function(){if(O){var e,o=O;return{list:null==o?void 0:E()(e=o.channelFeed.Data).call(e,(function(e){return me(me({},e),{},{key:e.episodeId||e.albumId})}))}}}),[O]);var ue=X.yo.IXIGUA_HOME,_e=(0,w.useMemo)((function(){return(0,W.LW)(R.Z.RECOMMENT,ue,void 0,z)}),[R.Z.RECOMMENT]),se=(0,ne.XC)({channelId:R.Z.RECOMMENT,categoryName:"subv_xg_lvideo_pc_homepage",channelType:"long_video"}),de=(0,w.useCallback)((function(e){return e&&c?w.createElement(K.Z,{data:N||(null==T?void 0:T.banner.Data)}):null}),[se,c]),fe=(0,w.useCallback)((function(){return B(!0)}),[]);return w.createElement(Y.Z,{className:"categoryPage_home",catergoryId:1,catergoryName:"home",showFooter:H,isGray:b},c&&w.createElement(ce.Z,{settings:null==T?void 0:T.immerSiveBanner}),E()(t=C()(r=f.block_list).call(r,0,h)).call(t,(function(e){return w.createElement(w.Fragment,{key:e.type+e.block_name},function(){switch(e.type){case ae.eu.Banner:return de(e);case ae.eu.Feed:return o={title:""}.title,n=""===o||!N||N&&0===N.length,w.createElement(W.EP,{maxScrollLoadTimes:8,isLazyLoad:!0,lazyDistance:0,replaceLoadingWithPlaceholder:!0,title:n?void 0:o,customHeader:n?null:void 0,className:"categoryPage_home__videoRecomment",onClickLoadButton:function(){return x.Z.category.index_more({block_id:"",block_title:"为你推荐_横",block_name:""})},blockInfo:{block_id:"",block_title:"为你推荐_横",block_name:""},queryCountRef:re,fetchData:_e,defaultLoadData:z,request_from:ue,maxItemCount:5,itemCssKey:F.Tf.wide_items_per_row,defaultRowCount:3,rowCountPerFetch:3,bottomThreshold:800,parentCb:fe,renderBlockList:function(e){return w.createElement(I.Z,(0,d.Z)({},e,{anchorQuery:me(me({},e.anchorQuery||{}),{},{from_page:null==u?void 0:u.from_page}),injectAfterItemHandler:function(e,o){return j&&e===2*o-1?w.createElement(le,{url:j.url,category_name:"首页"}):null}}))}});default:return null}var o,n}())})),H&&E()(l=C()(a=f.block_list).call(a,h+1)).call(l,(function(e){return w.createElement(w.Fragment,{key:e.type+e.block_name},function(){switch(e.type){case ae.eu.Feed:return function(e){var o={block_title:e.block_name,block_id:e.block_id,block_name:f.pinyin},n=null==T?void 0:T.blockFeed[e.block_id];return"longRecomment"===(null==n?void 0:n.type)?w.createElement(L.Z,{key:n.id,isLazyLoad:!0,request_from:ue,className:"categoryPage_home__LvideoRecomment",channelId:n.id,toMoreConfig:{href:globalThis.xssNamespace.xigua_video_web_pc.filterUrl(n.url||"",null,{logType:"js.href/src",mode:"black",reportOnly:!1}),onClick:function(n){x.Z.category.enterCategory({category_name:e.block_name,source:"more"===n?M.D.block_more:M.D.block_name,page_type:"category"}),"more"===n&&x.Z.category.index_more(me({},o))}},blockInfo:o,title:e.block_name}):w.createElement(I.Z,{key:null==n?void 0:n.id,request_from:ue,isLazyLoad:!0,title:e.block_name,channelId:null==n?void 0:n.id,blockInfo:o,toMoreConfig:{href:globalThis.xssNamespace.xigua_video_web_pc.filterUrl((null==n?void 0:n.url)||"",null,{logType:"js.href/src",mode:"black",reportOnly:!1}),onClick:function(n){x.Z.category.enterCategory({category_name:e.block_name,source:"more"===n?M.D.block_more:M.D.block_name,page_type:"category"}),"more"===n&&x.Z.category.index_more(me({},o))}},anchorQuery:{from_page:null==u?void 0:u.from_page}})}(e);case ae.eu.Horizontal:case ae.eu.Vertical:return w.createElement(Q.Z,{isLazyLoad:!0,className:"categoryPage_home__videoRecomment",data:null==T?void 0:T.feed,style:200});case ae.eu.Follow:return _.isLogin?w.createElement(G,{request_from:ue,blockInfo:{block_id:"",block_title:"我的关注",block_name:""},channelId:null==T?void 0:T.followId,teaParams:u}):null;default:return null}}())})),H&&w.createElement(W.V2,{title:"更多推荐",className:"categoryPage_home__videoRecomment",blockInfo:{block_id:"",block_title:"更多推荐_横",block_name:""},request_from:ue,queryCountRef:re,fetchData:_e,maxItemCount:5,renderBlockList:function(e){return w.createElement(I.Z,(0,d.Z)({},e,{anchorQuery:me(me({},e.anchorQuery||{}),{},{from_page:null==u?void 0:u.from_page})}))},itemCssKey:F.Tf.wide_items_per_row,defaultRowCount:3,rowCountPerFetch:3,bottomThreshold:800,replaceLoadingWithPlaceholder:!0}))};var se=_e},85964:function(e,o,n){e.exports=n.p+"static/media/survey.53270584.jpg"}}]);
//# sourceMappingURL=https://sourcemap.ixigua.com/obj/xigua-video-web-pc-sourcemap/xgpc/sourcemap/js/pages-HomeV3.3f273f8bfe.chunk.js.map