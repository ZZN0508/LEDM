(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eea9667e"],{"19f0":function(t,e,s){"use strict";var n=s("3c65"),r=s.n(n);e["default"]=r.a},"3c65":function(t,e,s){t.exports={gap1:"AddRss_gap1_3dp9S",help:"AddRss_help_1ndVV",helppop1:"AddRss_helppop1_2Wl3a",popc:"AddRss_popc_3HFwU",helppop2:"AddRss_helppop2_3DwKw",helppop3:"AddRss_helppop3_1p_RU",qa:"AddRss_qa_AF0JW",tit2:"AddRss_tit2_QXziF",top1:"AddRss_top1_2Sotm",linkb:"AddRss_linkb_3hzhr",fm:"AddRss_fm_ygVXP",cardbox:"AddRss_cardbox_2jSfh",citem:"AddRss_citem_3_6EL",cline:"AddRss_cline_I81wB",uploadbox:"AddRss_uploadbox_gltUo",uploadtip:"AddRss_uploadtip_3A3eG"}},"66d0":function(t,e,s){t.exports={layer:"AddRssModal_layer_2RAnf",close:"AddRssModal_close_3BWMD",tit:"AddRssModal_tit_2_lxf",t1:"AddRssModal_t1_1sxni",t2:"AddRssModal_t2_R38NA",fb:"AddRssModal_fb_1oayy",btn:"AddRssModal_btn_KZE2y",btn2:"AddRssModal_btn2_2bSG2",ipt:"AddRssModal_ipt_1VMO6",step:"AddRssModal_step_3kURU",sn:"AddRssModal_sn_1qPGJ",st:"AddRssModal_st_1EXcz",sl:"AddRssModal_sl_3yXIY",step1:"AddRssModal_step1_1bVSo",step2:"AddRssModal_step2_3Ce15",step3:"AddRssModal_step3_2LZU6",card:"AddRssModal_card_4_dzr",screenshotInput:"AddRssModal_screenshotInput_Lb81A"}},"7cec":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[t.rssList.length?t._e():s("div",{class:[t.$style.top1,t.$style.uploadbox]},[s("div",{class:t.$style.uploadtip},[t._v(" 已在其他平台发布？试试RSS地址快速导入发布至微博"),s("a",{on:{click:t.onBind}},[t._v("去绑定")])])]),t.rssList.length?s("woo-box",{class:t.$style.gap1,attrs:{align:"center",justify:"between"}},[s("div",{class:[t.$style.tit2,t.$style.fm]},[t._v("快捷导入")]),s("div",{class:t.$style.linkb},[s("woo-button",{attrs:{sort:"simple",kind:"default",fonticon:"add",size:"xs"},on:{click:t.onAddRss}},[t._v("添加RSS地址")])],1)]):t._e(),t.rssList.length?s("div",{class:[t.$style.cardbox,t.$style.top1]},t._l(t.rssList,(function(e,n){return s("div",{key:n,class:t.$style.citem},[s("AudioCard",{attrs:{cardSize:"cardS",hasBtn:!0,cover:e.image_url,textA:e.title,textB:e.rss_url},on:{unbind:function(s){return t.onRssUnbind(e)},publish:function(s){return t.onRssPublish(e)}}}),s("woo-divider",{class:t.$style.cline,attrs:{"border-color":"var(--w-card-border)"}})],1)})),0):t._e()],1),s("BindRssModal",{attrs:{visible:t.bindRssModalVisible,info:t.bindRssInfo},on:{close:t.onBindRssClose,bind:t.onBindRss,"bind-other":t.onBindOther}}),s("AddRssModal",{attrs:{visible:t.inputRssModalVisible},on:{"bind-success":t.onBindSuccess,close:t.onClose}})],1)},r=[],a=(s("96cf"),s("1da1")),o=s("ed09"),i=s("0d7d"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.visible?s("woo-modal",{attrs:{lockScreen:""}},[1===+t.step?s("div",{class:t.$style.layer},[s("woo-fonticon",{class:t.$style.close,attrs:{value:"cross"},nativeOn:{click:function(e){return t.$emit("close")}}}),s("woo-box",{class:[t.$style.step,t.$style.step1],attrs:{align:"center"}},[s("woo-box",{attrs:{direction:"y",align:"center"}},[s("woo-box",{class:t.$style.sn,attrs:{align:"center",justify:"center"}},[t._v("1")]),s("div",{class:t.$style.st},[t._v("输入地址")])],1),s("woo-box-item",[s("div",{class:t.$style.sl})]),s("woo-box",{attrs:{direction:"y",align:"center"}},[s("woo-box",{class:t.$style.sn,attrs:{align:"center",justify:"center"}},[t._v("2")]),s("div",{class:t.$style.st},[t._v("上传截图")])],1),s("woo-box-item",[s("div",{class:t.$style.sl})]),s("woo-box",{attrs:{direction:"y",align:"center"}},[s("woo-box",{class:t.$style.sn,attrs:{align:"center",justify:"center"}},[t._v("3")]),s("div",{class:t.$style.st},[t._v("提交成功")])],1)],1),s("h3",{class:t.$style.tit},[t._v("输入RSS地址")]),s("div",{class:t.$style.t1},[t._v(" 告诉我们您其他平台节目的RSS地址，我们可以获取您其他平台的音频内容，经由您选择和确认后，再重新发布至微博。 ")]),s("woo-input",{class:t.$style.ipt,attrs:{placeholder:"请输入RSS地址"},model:{value:t.rssForm.input,callback:function(e){t.$set(t.rssForm,"input",e)},expression:"rssForm.input"}}),s("div",{class:t.$style.t2},[t._v(" 一个RSS地址只能绑定一个微博账号，如您的节目存在多个主播，建议 "),s("span",{class:t.$style.fb},[t._v("绑定至主要账号")])]),s("woo-box",{class:t.$style.btn,attrs:{direction:"y",align:"center",justify:"center"}},[s("woo-button",{attrs:{sort:"flat",kind:"primary",loading:t.rssForm.loading,disabled:t.disableRssUrl||t.rssForm.loading},on:{click:function(e){return t.onNext(2)}}},[t._v("下一步")])],1)],1):t._e(),2===+t.step?s("div",{class:t.$style.layer},[s("woo-fonticon",{class:t.$style.close,attrs:{value:"cross"},nativeOn:{click:function(e){return t.$emit("close")}}}),s("woo-box",{class:[t.$style.step,t.$style.step2],attrs:{align:"center"}},[s("woo-box",{attrs:{direction:"y",align:"center"}},[s("woo-box",{class:t.$style.sn,attrs:{align:"center",justify:"center"}},[t._v("1")]),s("div",{class:t.$style.st},[t._v("输入地址")])],1),s("woo-box-item",[s("div",{class:t.$style.sl})]),s("woo-box",{attrs:{direction:"y",align:"center"}},[s("woo-box",{class:t.$style.sn,attrs:{align:"center",justify:"center"}},[t._v("2")]),s("div",{class:t.$style.st},[t._v("上传截图")])],1),s("woo-box-item",[s("div",{class:t.$style.sl})]),s("woo-box",{attrs:{direction:"y",align:"center"}},[s("woo-box",{class:t.$style.sn,attrs:{align:"center",justify:"center"}},[t._v("3")]),s("div",{class:t.$style.st},[t._v("提交成功")])],1)],1),s("h3",{class:t.$style.tit},[t._v("上传后台截图")]),t.rssForm.podcastInfo.title?s("audioCard",{class:t.$style.card,attrs:{cover:t.rssForm.podcastInfo.image_url,textA:t.rssForm.podcastInfo.title,textB:"主播："+t.rssForm.podcastInfo.author,textC:"关联邮箱："+t.rssForm.podcastInfo.email}}):t._e(),s("div",{class:t.$style.t1},[t._v(" 确信节目信息无误后，请上传一张托管后台的截图来证明你对节目的所有权 ")]),s("div",{class:t.$style.t2},[t._v(" 为了保护隐私你可以将敏感信息打码，但是需要保证节目名、账号名等信息清晰可见，以帮助我们判断 ")]),s("woo-box",{class:t.$style.btn,attrs:{direction:"y",align:"center",justify:"center"}},[s("woo-button",{attrs:{sort:"flat",kind:"primary",disabled:t.rssForm.loading,loading:t.rssForm.loading},on:{click:t.onUploadScreenshot}},[t._v("上传截图")]),s("input",{ref:"screenshotRef",class:t.$style.screenshotInput,attrs:{accept:".jpg, .jpeg, .png",type:"file"}}),s("woo-button",{class:t.$style.btn2,attrs:{sort:"simple",kind:"default",fonticon:"angleLeft"},on:{click:t.onPrev}},[t._v("上一步")])],1)],1):t._e(),3===+t.step?s("div",{class:t.$style.layer},[s("woo-fonticon",{class:t.$style.close,attrs:{value:"cross"},nativeOn:{click:function(e){return t.onBindSuccess(e)}}}),s("woo-box",{class:[t.$style.step,t.$style.step3],attrs:{align:"center"}},[s("woo-box",{attrs:{direction:"y",align:"center"}},[s("woo-box",{class:t.$style.sn,attrs:{align:"center",justify:"center"}},[t._v("1")]),s("div",{class:t.$style.st},[t._v("输入地址")])],1),s("woo-box-item",[s("div",{class:t.$style.sl})]),s("woo-box",{attrs:{direction:"y",align:"center"}},[s("woo-box",{class:t.$style.sn,attrs:{align:"center",justify:"center"}},[t._v("2")]),s("div",{class:t.$style.st},[t._v("上传截图")])],1),s("woo-box-item",[s("div",{class:t.$style.sl})]),s("woo-box",{attrs:{direction:"y",align:"center"}},[s("woo-box",{class:t.$style.sn,attrs:{align:"center",justify:"center"}},[t._v("3")]),s("div",{class:t.$style.st},[t._v("提交成功")])],1)],1),s("h3",{class:t.$style.tit},[t._v("提交成功")]),s("div",{class:t.$style.t1},[t._v(" 请耐心等待审核结果，审核结果会通过私信发送给您，请留意来自 "),s("a",{attrs:{href:"https://weibo.com/u/3860143361",target:"_blank"}},[t._v("@微博音频")]),t._v(" 的私信通知 ")]),s("woo-box",{class:t.$style.btn,attrs:{direction:"y",align:"center",justify:"center"}},[s("woo-button",{attrs:{sort:"flat",kind:"primary"},on:{click:t.onBindSuccess}},[t._v("知道了")])],1)],1):t._e()]):t._e()},c=[],d=(s("498a"),s("7ec3")),u={props:{visible:{type:Boolean,default:!1}},setup:function(t,e){var s=e.emit,n=Object(o["d"])(),r=n.proxy,i=Object(o["n"])(1),l=Object(o["m"])({input:"",podcastInfo:{},loading:!1}),c=Object(o["n"])(null),u=Object(o["a"])((function(){return!l.input.trim()})),p=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return l.loading=!0,t.next=3,r.$http.get("/ajax/multimedia/checkRssValid",{params:{rss_url:e}});case 3:if(s=t.sent,l.loading=!1,!(s.data.ok>0)){t.next=7;break}return t.abrupt("return",s.data.data.result);case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.$http.get("/ajax/multimedia/getRssInfoBrief",{params:{rssUrl:e}});case 2:if(s=t.sent,!(s.data.ok>0)){t.next=5;break}return t.abrupt("return",s.data.data.result);case 5:return t.abrupt("return",{});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){s("bind-success"),Object(o["f"])((function(){l.input="",l.podcastInfo={},i.value=1}))},b=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=e,t.next=2===t.t0?3:3===t.t0?13:15;break;case 3:return t.next=5,p(l.input);case 5:if(s=t.sent,!s){t.next=12;break}return i.value+=1,t.next=10,f(l.input);case 10:n=t.sent,l.podcastInfo=n;case 12:return t.abrupt("break",15);case 13:return i.value+=1,t.abrupt("break",15);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_=function(){i.value-=1},y=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return l.loading=!0,c.value.removeEventListener("change",y),t.next=4,Object(d["a"])(e.target.files[0]);case 4:return s=t.sent,t.next=7,r.$http.post("/ajax/multimedia/rssAuditSubmit",{rssUrl:l.input,pid:s});case 7:n=t.sent,l.loading=!1,n.data.ok>0&&n.data.data&&b(3);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){c.value.addEventListener("change",y),c.value.click()};return Object(o["i"])((function(){var t;null===(t=c.value)||void 0===t||t.removeEventListener("change",y)})),{step:i,rssForm:l,onNext:b,onPrev:_,disableRssUrl:u,screenshotRef:c,onUploadScreenshot:R,onBindSuccess:v}},components:{AudioCard:i["a"]}},p=u,f=s("db2a"),v=s("2877");function b(t){this["$style"]=f["default"].locals||f["default"]}var _=Object(v["a"])(p,l,c,!1,b,null,null),y=_.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.visible?s("woo-modal",{attrs:{lockScreen:""}},[s("div",{class:t.$style.layer},[s("woo-fonticon",{class:t.$style.close,attrs:{value:"cross"},nativeOn:{click:function(e){return t.$emit("close")}}}),s("h3",{class:t.$style.tit},[t._v("确定绑定RSS地址")]),s("div",{class:t.$style.t1},[t._v(" 已准备好您的节目《"+t._s(t.info.title)+"》地址，是否绑定该地址？ "),s("br"),s("a",{attrs:{href:t.info.rss_url,target:"_blank"}},[t._v(t._s(t.info.rss_url))]),s("br")]),s("div",{class:t.$style.t2},[t._v(" 一个RSS地址只能绑定一个微博账号，如您的节目存在多个主播，建议 "),s("span",{class:t.$style.fb},[t._v("绑定至主要账号")])]),s("woo-box",{class:t.$style.btn,attrs:{direction:"y",align:"center",justify:"center"}},[s("woo-button",{attrs:{sort:"flat",kind:"primary"},on:{click:function(e){return t.$emit("bind",t.info)}}},[t._v("绑定，这是我的节目地址")]),s("div",{class:t.$style.btn1},[s("woo-button",{attrs:{sort:"simple",kind:"default"},on:{click:function(e){return t.$emit("bind-other")}}},[s("span",{class:t.$style.btn1in},[t._v("绑定其他地址")])])],1)],1)],1)]):t._e()},m=[],x={props:{visible:{type:Boolean,default:!1},info:{type:Object,default:function(){return{}}}}},w=x,$=s("910c");function h(t){this["$style"]=$["default"].locals||$["default"]}var g=Object(v["a"])(w,R,m,!1,h,null,null),k=g.exports,A={components:{AudioCard:i["a"],AddRssModal:y,BindRssModal:k},setup:function(){var t=Object(o["d"])(),e=t.proxy,s=Object(o["n"])([]),n=Object(o["n"])(!1),r=Object(o["n"])(!1),i=Object(o["n"])({}),l=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u("candidate");case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:e=t.t0,e.length?(n.value=!0,i.value=e[0]):r.value=!0;case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){r.value=!1},d=function(){c()},u=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var s,n,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=r.length>0&&void 0!==r[0]?r[0]:"result",t.next=3,e.$http.get("/ajax/multimedia/getAudioRssList");case 3:if(n=t.sent,!(n.data.ok>0)){t.next=6;break}return t.abrupt("return",n.data.data[s]);case 6:return t.abrupt("return",[]);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=r.length>0&&void 0!==r[0]?r[0]:{},e.$_w_dialog({type:"confirm",title:"确认解绑该地址？",btnConfirm:"确认解绑",action:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/ajax/multimedia/unbindAudioRss",{rssUrl:n.rss_url});case 2:if(r=t.sent,!(r.data.ok>0)){t.next=7;break}return t.next=6,u();case 6:s.value=t.sent;case 7:case"end":return t.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}()});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/ajax/multimedia/bindAudioRss",{rssUrl:r.rss_url});case 2:if(a=t.sent,!(a.data.ok>0)){t.next=7;break}return t.next=6,u();case 6:s.value=t.sent;case 7:n.value=!1,i.value={};case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){_()},b=function(){n.value=!1},_=function(){n.value=!1,r.value=!0,i.value={}},y=function(t){e.$router.push({name:"RssDetail",query:{rss_url:t.rss_url}})};return Object(o["k"])(Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u();case 2:s.value=t.sent;case 3:case"end":return t.stop()}}),t)})))),{onBind:l,inputRssModalVisible:r,bindRssModalVisible:n,rssList:s,onBindSuccess:d,onClose:c,onRssUnbind:p,onRssPublish:y,bindRssInfo:i,onBindRss:f,onBindOther:_,onAddRss:v,onBindRssClose:b}}},j=A,M=s("19f0");function O(t){this["$style"]=M["default"].locals||M["default"]}var S=Object(v["a"])(j,n,r,!1,O,null,null);e["default"]=S.exports},"910c":function(t,e,s){"use strict";var n=s("9aeb"),r=s.n(n);e["default"]=r.a},"9aeb":function(t,e,s){t.exports={layer:"BindRssModal_layer_36Go4",close:"BindRssModal_close_2Q5qv",tit:"BindRssModal_tit_2X21W",t1:"BindRssModal_t1_1Ez1g",t2:"BindRssModal_t2_2HDDS",fb:"BindRssModal_fb_CSbwP",btn:"BindRssModal_btn_1CI48",btn1:"BindRssModal_btn1_5ZB2N",btn1in:"BindRssModal_btn1in_1tVPA"}},db2a:function(t,e,s){"use strict";var n=s("66d0"),r=s.n(n);e["default"]=r.a}}]);