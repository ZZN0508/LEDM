"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2015],{93282:function(e,t,n){n.d(t,{Z:function(){return k}});var a=n(67294),i=n(51808),r=(n(54747),n(68420)),l=n(44845),o=n(81643),c=n.n(o),u=n(92762),s=n.n(u),m=n(86902),d=n.n(m),f=n(14310),p=n.n(f),v=n(20116),A=n.n(v),g=n(34074),b=n.n(g),h=n(39649),Z=n.n(h),y=(n(41539),n(42057));function w(e,t){var n=d()(e);if(p()){var a=p()(e);t&&(a=A()(a).call(a,(function(t){return b()(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Z()?Object.defineProperties(e,Z()(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,b()(n,t))}))}return e}var E,_,V,P,S="undefined"!=typeof window,L=(_=[],V=function(){return _.forEach((function(e){return e._sendLog()}))},P=function(){"hidden"===document.visibilityState?(window.clearInterval(E),_.forEach((function(e){e._tabHideHandler()}))):(E=window.setInterval(V,6e4),_.forEach((function(e){return e._tabShowHandler()})))},S&&(P(),document.addEventListener("visibilitychange",P)),{add:function(e){_.push(e)},delete:function(e){var t=c()(_).call(_,e);t>-1&&s()(_).call(_,t,1)}}),N=function e(t){var n=this;(0,r.Z)(this,e),(0,l.Z)(this,"params",void 0),(0,l.Z)(this,"duration",0),(0,l.Z)(this,"maxDuration",0),(0,l.Z)(this,"lastTimestamp",void 0),(0,l.Z)(this,"isAppeared",!1),(0,l.Z)(this,"appear",(function(){n.isAppeared||(n.isAppeared=!0,n.lastTimestamp=Date.now())})),(0,l.Z)(this,"disappear",(function(){if(n.isAppeared=!1,n.lastTimestamp){var e=Date.now()-n.lastTimestamp;e>n.maxDuration&&(n.maxDuration=e),n.duration+=e,n.lastTimestamp=0}})),(0,l.Z)(this,"destroy",(function(){S&&(L.delete(n),n._sendLog())})),(0,l.Z)(this,"_sendLog",(function(){n.isAppeared&&(n.disappear(),n.appear()),n.duration>0&&((0,y.mT)("client_show",T(T({},n.params),{},{duration:n.duration,max_duration:n.maxDuration,time:Math.floor(Date.now()/1e3)})),n.duration=0,n.maxDuration=0)})),(0,l.Z)(this,"_tabHideHandler",(function(){n._sendLog()})),(0,l.Z)(this,"_tabShowHandler",(function(){n.isAppeared&&(n.lastTimestamp=Date.now())})),(0,l.Z)(this,"init",(function(){L.add(n)})),this.params=t,S&&this.init()},k=function(e){var t=(0,a.useRef)(new N(e.params)).current;return(0,a.useEffect)((function(){return t.destroy}),[]),a.createElement(i.Z,{onViewableChange:function(e){e?t.appear():t.disappear()}},e.children)}},76438:function(e,t,n){var a=n(59056),i=n(67294),r=n(94184),l=n.n(r),o=n(75485),c=n(63952),u=n(72169),s=n(71308),m=n(45804),d=n(68956),f=n(96453),p=n(64138),v="CoverAction";t.Z=function(e){var t=e.defaultStatus,n=void 0!==t&&t,r=e.status,A=e.gid,g=e.album_id,b=e.episode_id,h=e.pseries_id,Z=e.author_id,y=e.group_id,w=e.is_following,T=e.category_name,E=e.onChange,_=(0,o.Z)().globalConfig.isLogin,V=(0,i.useState)(_&&(null!=r?r:n)),P=(0,a.Z)(V,2),S=P[0],L=P[1],N=(0,i.useState)(!0),k=(0,a.Z)(N,2),x=k[0],C=k[1],F=(0,m.Z)(),D=F.ref,O=F.isHover,H=function(e){void 0===r&&L(e)};(0,p.Z)((function(){L(Boolean(r))}),[r]);var U={width:O?S?50:36:0};return i.createElement("div",{ref:D,className:l()(v,{"color-assist-3":S,"color-content-inverse":!S}),onClick:function(e){e.preventDefault(),e.stopPropagation(),x&&(_?(C(!1),S?(d.Z.cover.unFavorteClickAction({author_id:Z,group_id:y,is_following:w,category_name:T}),function(){var e=s.zc.Video;g?e=s.zc.LongVideo:h&&(e=s.zc.Pseries);var t=A||g||b||h;u.Z.video.deleteFavorite({content_id:t,content_type:e}).then((function(e){var t=e.data;t.data&&0===t.data.StatusCode&&(d.Z.cover.unFavorteAction({author_id:Z,group_id:y,is_following:w,category_name:T}),null==E||E(!1),H(!1),C(!0))})).catch((function(){C(!0)}))}()):(d.Z.cover.favorteClickAction({author_id:Z,group_id:y,is_following:w,category_name:T}),u.Z.video.addFavorite({gid:A,album_id:g,episode_id:b,pseries_id:h}).then((function(e){var t=e.data;t.data&&0===t.data.StatusCode&&(d.Z.cover.favorteAction({author_id:Z,group_id:y,is_following:w,category_name:T}),null==E||E(!0),H(!0),C(!0))})).catch((function(){C(!0)})))):c.ZP.show({source:"favorite"}))}},i.createElement("div",{className:"".concat(v,"__text"),style:U},S?"已收藏":"收藏"),i.createElement("div",{className:"".concat(v,"__icon")},S?i.createElement(f.eyz,{width:"18",height:"18"}):i.createElement(f.BYG,{width:"18",height:"18",className:"".concat(v,"__icon__default")})))}},41948:function(e,t,n){n.d(t,{eN:function(){return a},s3:function(){return h},E3:function(){return b},ZP:function(){return _}});var a,i=n(19623),r=(n(68309),n(94198)),l=n.n(r),o=n(78580),c=n.n(o),u=n(20455),s=n.n(u),m=n(67294),d=n(94184),f=n.n(d),p=n(74598),v=n(88768),A=n(67225),g=n(89138),b=function(e){var t,n,a,r,l=e.mark,o=e.className;return"object"===(0,i.Z)(l)?m.createElement(g.Z,{className:f()("component-vipTag",o)},m.createElement("span",null,(t=null==l?void 0:l.attribute,n=(0,A.Z)(t),a=n.isForVip,r=n.isNeedToPay,a?"会员":r?"付费":void 0))):null},h=function(e){var t=e.className;return m.createElement(g.Z,{className:f()("component-pSeriesTag",t)},m.createElement("span",null,"合集"))};!function(e){e[e.AttributeUndefined=0]="AttributeUndefined",e[e.AttributePay=1]="AttributePay",e[e.AttributeUseTicket=2]="AttributeUseTicket",e[e.AttributeVip=4]="AttributeVip",e[e.AttributeExclusive=8]="AttributeExclusive",e[e.AttributePremiere=16]="AttributePremiere",e[e.AttributeDolby=32]="AttributeDolby",e[e.Attribute1080P=64]="Attribute1080P",e[e.AttributeOrigin=128]="AttributeOrigin",e[e.AttributeTrailer=256]="AttributeTrailer",e[e.AttributeSubject=512]="AttributeSubject",e[e.AttributeTracking=1024]="AttributeTracking",e[e.AttributeHot=2048]="AttributeHot",e[e.AttrLimitedTimeFree=65536]="AttrLimitedTimeFree",e[e.AttrBigVip=131072]="AttrBigVip"}(a||(a={}));var Z=[a.AttributeTrailer,a.AttrLimitedTimeFree,a.AttrBigVip,a.AttributeUseTicket,a.AttributeTracking,a.AttributeExclusive,a.AttributeOrigin],y=["primary","paid","HQ","preview"],w=[{name:"预告",shortName:"预",style:y[3]},{name:"限时免费",shortName:"限免",style:y[0]},{name:"会员",style:y[1]},{name:"付费",style:y[1]},{name:"正在追",style:y[0]},{name:"独播",style:y[0]},{name:"自制",style:y[0]}],T={live:{name:m.createElement("span",{className:"livingTag"},m.createElement("span",null,"直播中")),style:"live"},stick:{name:m.createElement("span",{className:"stickingTag"},m.createElement("span",null,"置顶")),style:"sticking"},pseries:{name:m.createElement("span",{className:"pseries"},m.createElement("span",null,"合集")),style:"pseries"},series:{name:m.createElement("span",{className:"pseries"},m.createElement("span",null,"播单")),style:"pseries"}},E=function(e){var t,n={name:"",style:""};if("object"===(0,i.Z)(e))return n;if(null!=T[e])n=T[e];else if("number"==typeof e){n=function(e){return{name:m.createElement("span",{className:"stickingTag"},m.createElement("span",null,e)),style:"live"}}(v.tq[e])}else if("string"==typeof e)for(var a=0;a<Z.length;a++)if(l()(e,10)&Z[a]){n=w[a];break}return""===n.name&&""===n.style?c()(t=s()(p.O)).call(t,e)?{name:e,style:y[0]}:{name:"",style:""}:n},_=function(e){var t,n,a,r,l,o,c=e.mark,u=e.className,s=e.useShortName,d=e.isForFeed,v=e.displayText,b=e.displayStyle,h=!1;if(v)t=m.createElement("span",null,v);else if("object"===(0,i.Z)(c))h=!0,t=m.createElement(m.Fragment,null,m.createElement("div",null,m.createElement("span",null,(a=c.attribute,r=(0,A.Z)(a),l=r.isForVip,o=r.isNeedToPay,l?"会员":o?"付费":void 0))),m.createElement("div",null,m.createElement("span",null,p.O[c.albumType]))),n="paid";else if(c){var Z=E(c),y=Z.name,w=Z.shortName,T=Z.style;t=m.createElement("span",null,s&&w||y),n=T}return m.createElement(g.Z,{className:f()("component-episodeTag",n,u,{isForFeed:d,mix:h}),style:b},t)}},67853:function(e,t,n){n.d(t,{E:function(){return g}});var a=n(73126),i=n(41266),r=n(33938),l=n(59056),o=n(63109),c=n.n(o),u=n(67294),s=n(94184),m=n.n(s),d=function(e){var t=(0,u.useState)((function(){return e||Date.now()+36e5})),n=(0,l.Z)(t,2),a=n[0],i=n[1];return{checkTimeExpired:(0,u.useCallback)((function(){return Date.now()>a}),[a]),setExpireTimestamp:i}},f=n(73397),p=["url"],v=function(e){var t=e.url,n=e.className,a=t,i=(0,u.useState)(!1),r=(0,l.Z)(i,2),o=r[0],c=r[1],s=(0,u.useState)(!1),d=(0,l.Z)(s,2),f=d[0],p=d[1],v=(0,u.useState)(!0),g=(0,l.Z)(v,2),b=g[0],h=g[1],Z=(0,u.useState)(!1),y=(0,l.Z)(Z,2),w=y[0],T=y[1],E=(0,u.useRef)(null);return o?null:a?u.createElement("div",{className:m()("videoPreview",n,{canplay:f})},u.createElement("video",{ref:E,src:globalThis.xssNamespace.xigua_video_web_pc.filterUrl(a,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),muted:!0,autoPlay:!0,loop:!0,onCanPlay:function(e){A(e.currentTarget).then((function(e){return h(e)})),p(!0)},onError:function(){c(!0)}}),!b&&!w&&u.createElement("div",{className:"cannotAutoplay"},u.createElement("i",{className:"icon-play",onClick:function(e){var t;(null===(t=E.current)||void 0===t?void 0:t.play())&&T(!0),e.stopPropagation(),e.preventDefault()}}),u.createElement("div",{onClick:function(e){var t;(null===(t=E.current)||void 0===t?void 0:t.play())&&T(!0),e.stopPropagation(),e.preventDefault()}},"点击预览"))):null},A=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(n=t.play())||!n){e.next=3;break}return e.abrupt("return",n.then((function(){return!0})).catch((function(){return!1})));case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=e.expireTimestamp,n=e.refreshGid,r=(0,u.useState)(void 0),o=(0,l.Z)(r,2),c=o[0],s=o[1],m=d(t),A=m.checkTimeExpired,g=m.setExpireTimestamp,b=A();(0,u.useEffect)((function(){b&&n&&f.ZP.getPreviewVideo({gid:n}).then((function(e){var t=e.data;s(t.data||""),g(Date.now()+36e5)})).catch((function(){s(""),g(Date.now()+36e5)}))}),[b]);var h=(0,u.useMemo)((function(){return function(e){var t=e.url,n=(0,i.Z)(e,p);return b?null:u.createElement(v,(0,a.Z)({},n,{url:null!=c?c:t}))}}),[b,c]);return{isExpired:b,VideoPreview:h}}},51808:function(e,t,n){var a=n(73126),i=n(59056),r=n(41266),l=n(67294),o=n(9361),c=["onViewableChange","justOnce","children","inView"];t.Z=function(e){var t=e.onViewableChange,n=e.justOnce,u=void 0!==n&&n,s=e.children,m=e.inView,d=(0,r.Z)(e,c),f=(0,l.useState)(!1),p=(0,i.Z)(f,2),v=p[0],A=p[1];return l.createElement(o.ZP,(0,a.Z)({},d,{onChange:function(n,a){var i=n.isIntersecting;e.justOnce&&v||(t&&t(i),i&&(A(!0),u&&a(),m&&m()))}}),s)}},74598:function(e,t,n){n.d(t,{O:function(){return w}});var a,i=n(79349),r=n(44845),l=n(2991),o=n.n(l),c=n(3649),u=n.n(c),s=n(20116),m=n.n(s),d=n(77766),f=n.n(d),p=(n(69600),n(68309),n(67294)),v=n(15482),A=n(56636),g=n(75290),b=n(45579),h=n(88768),Z=n(92744),y=b.VZ,w=(a={},(0,r.Z)(a,y.Anime,"动漫"),(0,r.Z)(a,y.Child,"少儿"),(0,r.Z)(a,y.Documentary,"纪录片"),(0,r.Z)(a,y.Game,"游戏"),(0,r.Z)(a,y.MicroFilm,"微电影"),(0,r.Z)(a,y.Movie,"电影"),(0,r.Z)(a,y.Music,"音乐"),(0,r.Z)(a,y.News,"新闻"),(0,r.Z)(a,y.ShortFilm,"短片"),(0,r.Z)(a,y.Sport,"体育"),(0,r.Z)(a,y.TV,"电视剧"),(0,r.Z)(a,y.VarietyShow,"综艺"),(0,r.Z)(a,21,"戏曲"),a);t.Z=function(){var e,t,n,a,r,l,c,s,d,b,y,T,E=(0,p.useContext)(g.Z).data;if(null==E)return null;var _=E.albumInfo,V=E.episodeInfo,P=_.areaList,S=_.tagList,L=_.albumTypeList,N=_.year,k=_.intro,x=Boolean(null==V?void 0:V.parentEpisodeId),C=(null==V?void 0:V.subTitle)||(null==V?void 0:V.title),F=null==V?void 0:V.rank,D=o()(e=_.directorList||[]).call(e,(function(e){return e.name})).join("、"),O=D?"，由".concat(D,"导演"):"",H=u()(t=o()(n=_.actorList||[]).call(n,(function(e){return e.name}))).call(t,0,3).join("、"),U=H?"，由".concat(H,"等主演"):"",j=(0,Z.h2)(null==_?void 0:_.seqType),I=(0,Z.V1)(_.title,_.languageInfo);if(null===_.albumTypeList||!_.albumTypeList)return null;var B,M,q,z,G,R,Y,K,Q,J,W,X,$,ee,te="",ne="",ae="",ie=o()(a=null!=L?L:[]).call(a,(function(e){return h.tq[e]})),re=u()(r=m()(l=f()(c=[]).call(c,(0,i.Z)(ie),(0,i.Z)(null!=P?P:[]),[N],(0,i.Z)(null!=S?S:[]))).call(l,Boolean)).call(r,0,6).join("/"),le=o()(s=_.albumTypeList).call(s,(function(e){return w[e]})).join("、");if(x){var oe,ce,ue,se,me,de,fe;te=f()(oe=f()(ce="".concat(C," - ")).call(ce,I," 花絮片花视频 - ")).call(oe,le," - 高清在线观看-西瓜视频"),ne=f()(ue=f()(se="".concat(C,",")).call(se,I)).call(ue,le,",花絮片花,预告"),ae=f()(me=f()(de=f()(fe="".concat(I)).call(fe,le,",于")).call(de,N,"年上映，本页面视频内容讲述了花絮")).call(me,C,"相关内容，欢迎观看。")}else{switch(!0){case(0,A.nP)(_.albumTypeList):te=f()(d=f()(b="".concat(I," 第")).call(b,F,"集 - ")).call(d,le," - 高清完整版在线观看 - 西瓜视频");break;case(0,A.eo)(_.albumTypeList):te="".concat(I," - 电影 - 高清完整版在线观看 - 西瓜视频");break;case(0,A.ak)(_.albumTypeList):te=f()(y=f()(T="".concat(null==V?void 0:V.title," - ")).call(T,C," - ")).call(y,le," - 高清完整版在线观看 - 西瓜视频");break;case(0,A.vq)(_.albumTypeList):var pe,ve,Ae,ge,be;if(null!=_&&_.totalEpisodes&&_.totalEpisodes<=1)te="".concat(I);else if(I===C)te=f()(pe=f()(ve="".concat(I," 第")).call(ve,F)).call(pe,j);else te=f()(Ae=f()(ge=f()(be="".concat(I," 第")).call(be,F)).call(ge,j," ")).call(Ae,C);te+=" - ".concat(le," - 高清完整版在线观看 - 西瓜视频")}var he,Ze,ye,we,Te,Ee,_e,Ve,Pe,Se,Le,Ne;if(te)ne=f()(he=f()(Ze=f()(ye=f()(we=f()(Te=f()(Ee=f()(_e="西瓜视频,".concat(le,",")).call(_e,I,"完整版,")).call(Ee,I,"在线观看,")).call(Te,re,",热门")).call(we,le,"大全,经典")).call(ye,le,",")).call(Ze,le,"排行,")).call(he,I,"剧情介绍"),ae=f()(Ve=f()(Pe=f()(Se=f()(Le=f()(Ne="".concat(I,"于")).call(Ne,N,"年上映")).call(Le,O)).call(Se,U,"。简介：")).call(Pe,k,"。")).call(Ve,re)}te||(te=f()(B=f()(M="".concat(I," 第")).call(M,F,"集 - ")).call(B,le," - 高清完整版在线观看 - 西瓜视频"),ne=f()(q=f()(z=f()(G=f()(R=f()(Y=f()(K=f()(Q="西瓜视频,".concat(le,",")).call(Q,I,"完整版,")).call(K,I,"在线观看,")).call(Y,re,",热门")).call(R,le,"大全,经典")).call(G,le,",")).call(z,le,"排行,")).call(q,I,"剧情介绍"),ae=f()(J=f()(W=f()(X=f()($=f()(ee="".concat(I,"于")).call(ee,N,"年上映")).call($,O)).call(X,U,"。简介：")).call(W,k,"。")).call(J,re));ae.length>160&&(ae=u()(ae).call(ae,0,160));return p.createElement(p.Fragment,null,p.createElement(v.ql,{title:te,meta:[{name:"applicable-device",content:"pc"},{name:"keywords",content:"".concat(ne)},{name:"description",content:ae}],link:[{rel:"canonical",href:globalThis.xssNamespace.xigua_video_web_pc.filterUrl("https://www.ixigua.com/".concat(null==V?void 0:V.episodeId),null,{logType:"js.href/src",mode:"black",reportOnly:!1})}]}))}},75290:function(e,t,n){var a=n(67294).createContext(null);t.Z=a},56636:function(e,t,n){n.d(t,{nP:function(){return o},Hi:function(){return c},eo:function(){return u},ak:function(){return s},vq:function(){return m}});n(79349);var a=n(78580),i=n.n(a),r=(n(94473),n(77766),n(41539),n(9653),n(45579)),l=function(e){return function(t){return function(e,t){return!(!e||0===e.length)&&t.some((function(t){return i()(e).call(e,Number(t))}))}(t,e)}},o=l([r.VZ.TV,r.VZ.Anime,r.VZ.Child]),c=(l([r.VZ.TV,r.VZ.Anime,r.VZ.Child]),l([r.VZ.VarietyShow,r.VZ.News])),u=l([r.VZ.Movie]),s=l([r.VZ.VarietyShow]),m=(l([r.VZ.TV]),l([r.VZ.Documentary]))},67225:function(e,t,n){n.d(t,{Z:function(){return a}});n(9653);function a(e){return null==e?{}:{isNeedToPay:2==(2&(e=Number(e))),isForVip:(e&1<<17)==1<<17}}},71308:function(e,t,n){var a,i,r,l,o,c,u;n.d(t,{zc:function(){return a}}),function(e){e[e.Video=1]="Video",e[e.LongVideo=2]="LongVideo",e[e.Focus=3]="Focus",e[e.Trailer=4]="Trailer",e[e.Series=5]="Series",e[e.CompositeAlbum=6]="CompositeAlbum",e[e.PaidColumn=7]="PaidColumn",e[e.Pseries=8]="Pseries",e[e.Ad=9]="Ad",e[e.AdImage=10]="AdImage",e[e.AwemeSyncHor=11]="AwemeSyncHor",e[e.AwemeVideo=12]="AwemeVideo",e[e.TVPage=13]="TVPage",e[e.Favorites=14]="Favorites",e[e.AwemePseries=15]="AwemePseries",e[e.TvAwemeVideo=16]="TvAwemeVideo",e[e.SmallVideo=19]="SmallVideo",e[e.UgcAwemePseries=20]="UgcAwemePseries",e[e.UgcAwemeSeries=21]="UgcAwemeSeries",e[e.TVPseries=22]="TVPseries"}(a||(a={})),function(e){e[e.Video=1]="Video",e[e.Album=2]="Album",e[e.Focus=3]="Focus",e[e.Trailer=4]="Trailer",e[e.Series=5]="Series",e[e.PaidColumn=6]="PaidColumn",e[e.Pseries=8]="Pseries",e[e.Ad=9]="Ad",e[e.AdImage=10]="AdImage",e[e.AwemeSyncHor=11]="AwemeSyncHor",e[e.AwemeVideo=12]="AwemeVideo",e[e.TVPage=13]="TVPage",e[e.Favorites=14]="Favorites",e[e.AwemePseries=15]="AwemePseries",e[e.TvAwemeVideo=16]="TvAwemeVideo",e[e.SmallVideo=19]="SmallVideo",e[e.UgcAwemePseries=20]="UgcAwemePseries",e[e.UgcAwemeSeries=21]="UgcAwemeSeries",e[e.TVPseries=22]="TVPseries"}(i||(i={})),function(e){e[e.SINGLE=0]="SINGLE",e[e.TYPE_ALL=1]="TYPE_ALL",e[e.ALL=2]="ALL"}(r||(r={})),function(e){e[e.MaxTime=0]="MaxTime",e[e.Offset=1]="Offset"}(l||(l={})),function(e){e[e.Public=0]="Public",e[e.Private=1]="Private",e[e.AuditBan=2]="AuditBan"}(o||(o={})),function(e){e[e.Favorites=0]="Favorites",e[e.Stream=1]="Stream",e[e.Related=2]="Related",e[e.UserHome=3]="UserHome",e[e.Share=4]="Share",e[e.Search=5]="Search"}(c||(c={})),function(e){e[e.ALL=1]="ALL"}(u||(u={}))}}]);
//# sourceMappingURL=https://sourcemap.ixigua.com/obj/xigua-video-web-pc-sourcemap/xgpc/sourcemap/js/2015.b9fe437366.chunk.js.map