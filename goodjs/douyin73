/*! For license information please see 936.5b765665.js.LICENSE.txt */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).xss={})}(this,(function(e){"use strict";var n=function(){return n=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},n.apply(this,arguments)};function t(e,n,t){if(t||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}var r={exports:{}},o={},i={exports:{}},a={};function l(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var c=/javascript\s*\:/gim;a.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},a.getDefaultWhiteList=l,a.onAttr=function(e,n,t){},a.onIgnoreAttr=function(e,n,t){},a.safeAttrValue=function(e,n){return c.test(n)?"":n};var s={indexOf:function(e,n){var t,r;if(Array.prototype.indexOf)return e.indexOf(n);for(t=0,r=e.length;t<r;t++)if(e[t]===n)return t;return-1},forEach:function(e,n,t){var r,o;if(Array.prototype.forEach)return e.forEach(n,t);for(r=0,o=e.length;r<o;r++)n.call(t,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},u=s,d=a,f=function(e,n){";"!==(e=u.trimRight(e))[e.length-1]&&(e+=";");var t=e.length,r=!1,o=0,i=0,a="";function l(){if(!r){var t=u.trim(e.slice(o,i)),l=t.indexOf(":");if(-1!==l){var c=u.trim(t.slice(0,l)),s=u.trim(t.slice(l+1));if(c){var d=n(o,a.length,c,s,t);d&&(a+=d+"; ")}}}o=i+1}for(;i<t;i++){var c=e[i];if("/"===c&&"*"===e[i+1]){var s=e.indexOf("*/",i+2);if(-1===s)break;o=(i=s+1)+1,r=!1}else"("===c?r=!0:")"===c?r=!1:";"===c?r||l():"\n"===c&&l()}return u.trim(a)};function m(e){return null==e}function v(e){(e=function(e){var n={};for(var t in e)n[t]=e[t];return n}(e||{})).whiteList=e.whiteList||d.whiteList,e.onAttr=e.onAttr||d.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||d.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||d.safeAttrValue,this.options=e}v.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var n=this.options,t=n.whiteList,r=n.onAttr,o=n.onIgnoreAttr,i=n.safeAttrValue;return f(e,(function(e,n,a,l,c){var s=t[a],u=!1;if(!0===s?u=s:"function"==typeof s?u=s(l):s instanceof RegExp&&(u=s.test(l)),!0!==u&&(u=!1),l=i(a,l)){var d,f={position:n,sourcePosition:e,source:c,isWhite:u};return u?m(d=r(a,l,f))?a+":"+l:d:m(d=o(a,l,f))?void 0:d}}))};var p=v;!function(e,n){var t=a,r=p;for(var o in(n=e.exports=function(e,n){return new r(n).process(e)}).FilterCSS=r,t)n[o]=t[o];"undefined"!=typeof window&&(window.filterCSS=e.exports)}(i,i.exports);var h={indexOf:function(e,n){var t,r;if(Array.prototype.indexOf)return e.indexOf(n);for(t=0,r=e.length;t<r;t++)if(e[t]===n)return t;return-1},forEach:function(e,n,t){var r,o;if(Array.prototype.forEach)return e.forEach(n,t);for(r=0,o=e.length;r<o;r++)n.call(t,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var n=/\s|\n|\t/.exec(e);return n?n.index:-1}},g=i.exports.FilterCSS,w=i.exports.getDefaultWhiteList,y=h;var _=new g;function b(e){return e.replace(E,"&lt;").replace(k,"&gt;")}var E=/</g,k=/>/g,C=/"/g,N=/&quot;/g,T=/&#([a-zA-Z0-9]*);?/gim,x=/&colon;?/gim,S=/&newline;?/gim,L=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,I=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Z=/u\s*r\s*l\s*\(.*/gi;function A(e){return e.replace(C,"&quot;")}function P(e){return e.replace(N,'"')}function D(e){return e.replace(T,(function(e,n){return"x"===n[0]||"X"===n[0]?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))}))}function M(e){return e.replace(x,":").replace(S," ")}function B(e){for(var n="",t=0,r=e.length;t<r;t++)n+=e.charCodeAt(t)<32?" ":e.charAt(t);return y.trim(n)}function O(e){return B(e=M(e=D(e=P(e))))}function R(e){return b(e=A(e))}o.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},o.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},o.onTag=function(e,n,t){},o.onIgnoreTag=function(e,n,t){},o.onTagAttr=function(e,n,t){},o.onIgnoreTagAttr=function(e,n,t){},o.safeAttrValue=function(e,n,t,r){if(t=O(t),"href"===n||"src"===n){if("#"===(t=y.trim(t)))return"#";if("http://"!==t.substr(0,7)&&"https://"!==t.substr(0,8)&&"mailto:"!==t.substr(0,7)&&"tel:"!==t.substr(0,4)&&"data:image/"!==t.substr(0,11)&&"ftp://"!==t.substr(0,6)&&"./"!==t.substr(0,2)&&"../"!==t.substr(0,3)&&"#"!==t[0]&&"/"!==t[0])return""}else if("background"===n){if(L.lastIndex=0,L.test(t))return""}else if("style"===n){if(I.lastIndex=0,I.test(t))return"";if(Z.lastIndex=0,Z.test(t)&&(L.lastIndex=0,L.test(t)))return"";!1!==r&&(t=(r=r||_).process(t))}return R(t)},o.escapeHtml=b,o.escapeQuote=A,o.unescapeQuote=P,o.escapeHtmlEntities=D,o.escapeDangerHtml5Entities=M,o.clearNonPrintableCharacter=B,o.friendlyAttrValue=O,o.escapeAttrValue=R,o.onIgnoreTagStripAll=function(){return""},o.StripTagBody=function(e,n){"function"!=typeof n&&(n=function(){});var t=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(i,a,l){if(function(n){return!!t||-1!==y.indexOf(e,n)}(i)){if(l.isClosing){var c="[/removed]",s=l.position+10;return r.push([!1!==o?o:l.position,s]),o=!1,c}return o||(o=l.position),"[removed]"}return n(i,a,l)},remove:function(e){var n="",t=0;return y.forEach(r,(function(r){n+=e.slice(t,r[0]),t=r[1]})),n+=e.slice(t)}}},o.stripCommentTag=function(e){for(var n="",t=0;t<e.length;){var r=e.indexOf("\x3c!--",t);if(-1===r){n+=e.slice(t);break}n+=e.slice(t,r);var o=e.indexOf("--\x3e",r);if(-1===o)break;t=o+3}return n},o.stripBlankChar=function(e){var n=e.split("");return(n=n.filter((function(e){var n=e.charCodeAt(0);return!(127===n||n<=31&&10!==n&&13!==n)}))).join("")},o.cssFilter=_,o.getDefaultCSSWhiteList=w;var V={},F=h;function W(e){var n,t=F.spaceIndex(e);return n=-1===t?e.slice(1,-1):e.slice(1,t+1),"/"===(n=F.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function U(e){return"</"===e.slice(0,2)}var H=/[^a-zA-Z0-9\\_:.-]/gim;function j(e,n){for(;n<e.length;n++){var t=e[n];if(" "!==t)return"="===t?n:-1}}function G(e,n){for(;n<e.length;n++){var t=e[n];if(" "!==t)return"'"===t||'"'===t?n:-1}}function K(e,n){for(;n>0;n--){var t=e[n];if(" "!==t)return"="===t?n:-1}}function q(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}V.parseTag=function(e,n,t){var r="",o=0,i=!1,a=!1,l=0,c=e.length,s="",u="";e:for(l=0;l<c;l++){var d=e.charAt(l);if(!1===i){if("<"===d){i=l;continue}}else if(!1===a){if("<"===d){r+=t(e.slice(o,l)),i=l,o=l;continue}if(">"===d||l===c-1){r+=t(e.slice(o,i)),s=W(u=e.slice(i,l+1)),r+=n(i,r.length,s,u,U(u)),o=l+1,i=!1;continue}if('"'===d||"'"===d)for(var f=1,m=e.charAt(l-f);""===m.trim()||"="===m;){if("="===m){a=d;continue e}m=e.charAt(l-++f)}}else if(d===a){a=!1;continue}}return o<c&&(r+=t(e.substr(o))),r},V.parseAttr=function(e,n){var t=0,r=0,o=[],i=!1,a=e.length;function l(e,t){if(!((e=(e=F.trim(e)).replace(H,"").toLowerCase()).length<1)){var r=n(e,t||"");r&&o.push(r)}}for(var c=0;c<a;c++){var s,u=e.charAt(c);if(!1!==i||"="!==u)if(!1===i||c!==r){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(s=j(e,c))){l(F.trim(e.slice(t,c))),i=!1,t=c+1;continue}c=s-1;continue}if(-1===(s=K(e,c-1))){l(i,q(F.trim(e.slice(t,c)))),i=!1,t=c+1;continue}}}else{if(-1===(s=e.indexOf(u,c+1)))break;l(i,F.trim(e.slice(r+1,s))),i=!1,t=(c=s)+1}else i=e.slice(t,c),t=c+1,r='"'===e.charAt(t)||"'"===e.charAt(t)?t:G(e,c+1)}return t<e.length&&(!1===i?l(e.slice(t)):l(i,q(F.trim(e.slice(t))))),F.trim(o.join(" "))};var Q=i.exports.FilterCSS,z=o,Y=V,J=Y.parseTag,X=Y.parseAttr,$=h;function ee(e){return null==e}function ne(e){(e=function(e){var n={};for(var t in e)n[t]=e[t];return n}(e||{})).stripIgnoreTag&&(e.onIgnoreTag,e.onIgnoreTag=z.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var n={};for(var t in e)Array.isArray(e[t])?n[t.toLowerCase()]=e[t].map((function(e){return e.toLowerCase()})):n[t.toLowerCase()]=e[t];return n}(e.whiteList||e.allowList):e.whiteList=z.whiteList,e.onTag=e.onTag||z.onTag,e.onTagAttr=e.onTagAttr||z.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||z.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||z.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||z.safeAttrValue,e.escapeHtml=e.escapeHtml||z.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Q(e.css))}ne.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var n=this.options,t=n.whiteList,r=n.onTag,o=n.onIgnoreTag,i=n.onTagAttr,a=n.onIgnoreTagAttr,l=n.safeAttrValue,c=n.escapeHtml,s=this.cssFilter;n.stripBlankChar&&(e=z.stripBlankChar(e)),n.allowCommentTag||(e=z.stripCommentTag(e));var u=!1;n.stripIgnoreTagBody&&(u=z.StripTagBody(n.stripIgnoreTagBody,o),o=u.onIgnoreTag);var d=J(e,(function(e,n,u,d,f){var m={sourcePosition:e,position:n,isClosing:f,isWhite:Object.prototype.hasOwnProperty.call(t,u)},v=r(u,d,m);if(!ee(v))return v;if(m.isWhite){if(m.isClosing)return"</"+u+">";var p=function(e){var n=$.spaceIndex(e);if(-1===n)return{html:"",closing:"/"===e[e.length-2]};var t="/"===(e=$.trim(e.slice(n+1,-1)))[e.length-1];return t&&(e=$.trim(e.slice(0,-1))),{html:e,closing:t}}(d),h=t[u],g=X(p.html,(function(e,n){var t=-1!==$.indexOf(h,e),r=i(u,e,n,t);return ee(r)?t?(n=l(u,e,n,s))?e+'="'+n+'"':e:ee(r=a(u,e,n,t))?void 0:r:r}));return d="<"+u,g&&(d+=" "+g),p.closing&&(d+=" /"),d+">"}return ee(v=o(u,d,m))?c(d):v}),c);return u&&(d=u.remove(d)),d};var te=ne;function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}!function(e,n){var t=o,r=V,i=te;function a(e,n){return new i(n).process(e)}(n=e.exports=a).filterXSS=a,n.FilterXSS=i,function(){for(var e in t)n[e]=t[e];for(var o in r)n[o]=r[o]}(),"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(r,r.exports);var oe,ie="function"==typeof atob,ae="function"==typeof btoa,le="function"==typeof Buffer,ce="function"==typeof TextDecoder?new TextDecoder:void 0,se="function"==typeof TextEncoder?new TextEncoder:void 0,ue=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),de=(oe={},ue.forEach((function(e,n){return oe[e]=n})),oe),fe=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,me=String.fromCharCode.bind(String),ve="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(e){return new Uint8Array(Array.prototype.slice.call(e,0))},pe=function(e){return e.replace(/[^A-Za-z0-9\+\/]/g,"")},he=ae?function(e){return btoa(e)}:le?function(e){return Buffer.from(e,"binary").toString("base64")}:function(e){for(var n,t,r,o,i="",a=e.length%3,l=0;l<e.length;){if((t=e.charCodeAt(l++))>255||(r=e.charCodeAt(l++))>255||(o=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");i+=ue[(n=t<<16|r<<8|o)>>18&63]+ue[n>>12&63]+ue[n>>6&63]+ue[63&n]}return a?i.slice(0,a-3)+"===".substring(a):i},ge=le?function(e){return Buffer.from(e).toString("base64")}:function(e){for(var n=[],t=0,r=e.length;t<r;t+=4096)n.push(me.apply(null,e.subarray(t,t+4096)));return he(n.join(""))},we=function(e){if(e.length<2)return(n=e.charCodeAt(0))<128?e:n<2048?me(192|n>>>6)+me(128|63&n):me(224|n>>>12&15)+me(128|n>>>6&63)+me(128|63&n);var n=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return me(240|n>>>18&7)+me(128|n>>>12&63)+me(128|n>>>6&63)+me(128|63&n)},ye=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,_e=le?function(e){return Buffer.from(e,"utf8").toString("base64")}:se?function(e){return ge(se.encode(e))}:function(e){return he(e.replace(ye,we))},be=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?function(e){return e.replace(/=/g,"").replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"}))}(_e(e)):_e(e)},Ee=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ke=function(e){switch(e.length){case 4:var n=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return me(55296+(n>>>10))+me(56320+(1023&n));case 3:return me((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return me((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Ce=ie?function(e){return atob(pe(e))}:le?function(e){return Buffer.from(e,"base64").toString("binary")}:function(e){if(e=e.replace(/\s+/g,""),!fe.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));for(var n,t,r,o="",i=0;i<e.length;)n=de[e.charAt(i++)]<<18|de[e.charAt(i++)]<<12|(t=de[e.charAt(i++)])<<6|(r=de[e.charAt(i++)]),o+=64===t?me(n>>16&255):64===r?me(n>>16&255,n>>8&255):me(n>>16&255,n>>8&255,255&n);return o},Ne=le?function(e){return ve(Buffer.from(e,"base64"))}:function(e){return ve(Ce(e).split("").map((function(e){return e.charCodeAt(0)})))},Te=le?function(e){return Buffer.from(e,"base64").toString("utf8")}:ce?function(e){return ce.decode(Ne(e))}:function(e){return Ce(e).replace(Ee,ke)},xe=function(e){return Te(function(e){return pe(e.replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})))}(e))},Se=function(e){return e&&e.Math==Math&&e},Le=Se("object"===("undefined"==typeof globalThis?"undefined":re(globalThis))&&globalThis)||Se("object"===("undefined"==typeof window?"undefined":re(window))&&window)||Se("object"===("undefined"==typeof self?"undefined":re(self))&&self)||Se("object"===("undefined"==typeof global?"undefined":re(global))&&global)||Function("return this")(),Ie=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.getSlardarBid=function(){var n,t,r="douyin_web";if(!r.includes("bid"))return r;if(e.config&&e.config.bid)return e.config.bid;var o=Le;if(o&&o._xssBid)return o._xssBid;if(o&&o.slardar&&"function"==typeof o.slardar.config){var i=(o.slardar.config()||{}).bid;if(i)return i}if(o&&o.Slardar&&"function"==typeof o.Slardar.config){var a=(o.Slardar.config()||{}).bid;if(a)return a}return(null===(t=null===(n=null==o?void 0:o.Slardar)||void 0===n?void 0:n._baseParams)||void 0===t?void 0:t.bid)||"argus"},this.getConfigRegion=function(){var n;return"cn".includes("region")?e.config&&e.config.region?e.config.region:((null===(n=null==Le?void 0:Le.gfdatav1)||void 0===n?void 0:n.region)||"cn").toLowerCase():"cn"},this.gerReportUrl=function(){var n={cn:xe("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:xe("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:xe("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:xe("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:xe("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:xe("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:xe("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(n)return n+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.config=e},e.prototype.upload=function(){var e=this,n=this.gerReportUrl();!this.lock&&n&&0!==this.batchData.length&&(this.lock=!0,setTimeout((function(){var t=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),Le.fetch(n,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).catch((function(e){})),e.lock=!1,e.upload()}),this.timeout))},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var n=this.generateKey(e);if(Le.fetch&&e.collectKey){var t="object"===("undefined"==typeof window?"undefined":re(window))?window.location.href:"SSR";e.documentUrl=t;var r={age:Math.floor(Date.now()),type:"xss",url:t,body:e,"user-agent":""};"enforce"===e.disposition&&"SSR"!==t||(r.url=n),"SSR"===t&&(r.url="SSR___".concat(r.url),r.body.ssr=!0),this.push(r)}},e}()),Ze=function(e){for(var n=0,t=function(t){Array.isArray(e[t])?0===e[t].length?delete e[t]:(e[t]=Array.from(new Set(e[t])),n+=e[t].length):0===Object.keys(e[t]).length?delete e[t]:Object.keys(e[t]).forEach((function(r){e[t][r]=Array.from(new Set(e[t][r])),n+=e[t][r].length}))},r=0,o=Object.keys(e);r<o.length;r++)t(o[r]);return{count:n,ret:e}};function Ae(e,n){return Ie.setConfig(n),new r.exports.FilterXSS(n).process(e)}function Pe(e){var n,t=(n=/\s|\n|\t/.exec(e))?n.index:-1;if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=e.slice(t+1,-1).trim())[e.length-1];return r&&(e=e.slice(0,-1).trim()),{html:e,closing:r}}var De=function(e){return-1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,(function(e,n,t,r){return String.fromCharCode(n?parseInt(t,16):parseInt(r))})).toLowerCase()};function Me(e,n){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if((e=De(e)).includes("base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!e.includes("data:text/html;base64")}catch(e){return!0}}(e))return n&&n("data:text/html;base64"),!1;var t=["expression(","behavior:","view-source:"];if(t.some((function(n){return-1!==e.indexOf(n)})))return t.forEach((function(t){-1!==e.indexOf(t)&&n&&n(t)})),!1;var r=["data:application","data:javascript","data:text/html","data:texthtml"];if(r.some((function(n){return-1!==e.indexOf(n)})))return r.forEach((function(t){-1!==e.indexOf(t)&&n&&n(t)})),!1;if(e.indexOf("javascript:")>0)return n&&n("javascript:"),!1;if(/^javascript:/i.test(e)){var o=e.slice(11).replace(/\s/g,"").trim();return!!["void","void(0)","void0","false","undefined",";"].some((function(e){return e===o}))||(n&&n("javascript:"),!1)}return!0}var Be=function(e,n){return Me(e,n)?e:"#"};function Oe(e,n,r){if(void 0===e&&(e=""),void 0===n&&(n=[]),"string"!=typeof e)return!0;if(!Me(e=De(e)))return!1;var o=function(e){var n=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[];return{url:n[0],scheme:n[1],slash:n[2],host:n[3],port:n[4],path:n[5],query:n[6],hash:n[7]}}(e),i=o.scheme,a=o.host;return r?Boolean(r(e)):!["http","https","file"].includes(i)||("object"===("undefined"==typeof window?"undefined":re(window))&&window&&(n=t(t([],n,!0),[location.host],!1)),n.some((function(e){return!!(e instanceof RegExp&&e.test(a))||e===a})))}var Re=Oe,Ve=Oe,Fe={a:["target","title","spellcheck","rel"],canvas:[],abbr:["title"],address:[],area:["shape","coords","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:["dir"],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["alt","title","width","height","decoding"],ins:["datetime"],li:[],mark:[],nav:[],ol:["start"],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],delete:[],form:[],strong:[],mask:["maskunits","x","y","width","height","fill"],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],wbr:[],video:["autoplay","controls","loop","preload","height","width"],svg:["viewBox","version","xmlns","fill","width","height","stroke","stroke-width","style"],path:["d","fill","opacity","stroke","p-id","fill-rule","clip-rule","stroke-width","stroke-linecap","stroke-linejoin","fill-opacity","mask"],rect:["x","y","width","height","fill","stroke","rx"],g:[]},We={collect:null,initCollect:function(){this.collect={whiteList:{},filterProtocol:[]}},removeCollect:function(){var e=Ze(this.collect),n=e.count,t=e.ret;return this.collect=null,{collectKey:0===n?null:JSON.stringify(t),collectMode:"white"}},onIgnoreTagAttr:function(e,n,r){return e&&["href","src"].indexOf(n)>-1?We.domainWhiteList&&Array.isArray(We.domainWhiteList)&&We.domainWhiteList.length>0&&!Re(r,t([],We.domainWhiteList,!0))?"":"".concat(n,'="').concat(Be(r,(function(e){var n;null===(n=We.collect)||void 0===n||n.filterProtocol.push(e)})),'"'):e&&(["style","class","id"].indexOf(n)>-1||n.indexOf("data-")>-1)?"".concat(n,'="').concat(r,'"'):(We.collect.whiteList[e]=We.collect.whiteList[e]||[],void We.collect.whiteList[e].push(n))},onIgnoreTag:function(e,n){if("style"===e)return n;r.exports.parseTag(n,(function(e,n,t,o){var i=Pe(o);r.exports.parseAttr(i.html.replace("/",""),(function(e){We.collect.whiteList[t]=We.collect.whiteList[t]||[],We.collect.whiteList[t].push(e)}))}),r.exports.escapeHtml)},whiteList:Fe,mergeWhiteList:function(e){for(var n={},t=0,r=Object.keys(Fe);t<r.length;t++)n[a=r[t]]=Array.from(Fe[a]);for(var o=0,i=Object.keys(e);o<i.length;o++){var a;n[a=i[o]]=a in Fe?Fe[a].concat(e[a]):Array.from(e[a])}return n},setWhiteList:function(e){for(var n=0,t=Object.keys(e);n<t.length;n++){var r=t[n];this.whiteList[r]=r in Fe?Fe[r].concat(e[r]):Array.from(e[r])}}};try{var Ue=JSON.parse({}.replace(/'/g,'"')),He="merge";He.includes("override")&&(We.whiteList=Ue.whiteList),He.includes("merge")&&We.setWhiteList(Ue.whiteList)}catch(e){}var je={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"]};try{var Ge=JSON.parse({}.replace(/'/g,'"'));Ge.blackAttrRegExps&&(Ge.blackAttrRegExps=Ge.blackAttrRegExps.map((function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))})));var Ke="merge";Ke.includes("override")&&(je=Ge),Ke.includes("merge")&&(je=function e(n,t){for(var r={},o=0,i=Object.keys(n);o<i.length;o++){var a=i[o];Array.isArray(n[a])?r[a]=Array.from(n[a]):r[a]=e({},n[a])}for(var l=0,c=Object.keys(t);l<c.length;l++)(a=c[l])in n?Array.isArray(n[a])?r[a]=n[a].concat(t[a]):r[a]=e(n[a],t[a]):Array.isArray(t[a])?r[a]=Array.from(t[a]):r[a]=e({},t[a]);return r}(je,Ge))}catch(e){}var qe,Qe={whiteList:{},collect:null,initCollect:function(){Qe.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=Ze(Qe.collect),n=e.count,t=e.ret;return Qe.collect=null,{collectKey:0===n?null:JSON.stringify(t),collectMode:"black"}},onIgnoreTag:function(e,n){var t;if(!je.blackTags.includes(e)){var o=r.exports.parseTag(n,(function(e,n,t,o,i){if(-1!==t.indexOf("/"))return r.exports.escapeHtml(o);if(i)return"</".concat(t,">");var a=Pe(o),l=r.exports.parseAttr(a.html,(function(e,n){var r,o=0;if(je.blackList[t]&&je.blackList[t].includes(e)&&(Qe.collect.blackList[t]=Qe.collect.blackList[t]||[],Qe.collect.blackList[t].push(e),o++),je.blackAttrRegExps.length&&je.blackAttrRegExps.some((function(n){return n.test(e)}))&&je.blackAttrRegExps.forEach((function(n){n.test(e)&&(Qe.collect.blackAttrRegExps.push("".concat(n.toString(),"->").concat(e)),o++)})),je.blackAttrs.length&&je.blackAttrs.includes(e)&&(je.blackAttrs.push(e),o++),!o){if(je.filterList&&je.filterList[t]&&je.filterList[t].includes(e)){var i=Be(n,(function(e){var n;null===(n=Qe.collect)||void 0===n||n.filterProtocol.push(e)}));return i!==n&&(Qe.collect.filterList[t]=Qe.collect.filterList[t]||[],Qe.collect.filterList[t].push(e)),n?"".concat(e,"='").concat(i,"'"):e}return je.filterAttrs&&je.filterAttrs.includes(e)?(i=Be(n,(function(e){var n;null===(n=Qe.collect)||void 0===n||n.filterProtocol.push(e)})),i!==n&&(null===(r=Qe.collect)||void 0===r||r.filterAttrs.push(e)),n?"".concat(e,"='").concat(i,"'"):e):n?"".concat(e,"='").concat(n,"'"):e}}));return o="<".concat(t),l&&(o+=" ".concat(l)),a.closing&&(o+=" /"),o+">"}),r.exports.escapeHtml);return o}null===(t=Qe.collect)||void 0===t||t.blackTags.push(e)}},ze=function(e){var n=e.reportOnly,t=void 0===n||n,r=e.block;return t&&"all"===t?"report":r?"enforce":t?"report":"enforce"},Ye=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},Je=function(e){return function(t,r,o){if(!t||"string"!=typeof t)return t;var i=r;e===Ae&&(i=We,o&&"black"===o.mode&&(i=Qe),We.enabled?i=r:Qe.enabled&&(i=Qe),i.initCollect());var a=e(t,i);if(Ye(a)===Ye(t))return t;if(!o)return a;var l=o.logType,c=ze(o),s=i.removeCollect();return Ie.report(n(n({type:l,disposition:c},s),{sourceText:be(t),filterText:be(a)})),"enforce"===c?a:t}},Xe=Je(r.exports.filterXSS),$e=Je(Ae),en=(qe=Be,function(e,n,t){var r=[],o=qe(e,(function(e){r.push(e)}));if(o===e)return e;r=Array.from(new Set(r));var i=n||t||{};if(!i)return o;var a=i.logType,l=ze(t);return Ie.report({type:a,disposition:l,collectKey:r.join("___"),collectData:JSON.stringify(r),collectMode:"black",sourceText:be(e),filterText:be(o)}),"enforce"===l?o:e}),nn=Le._xssProject||{},tn=Le.xssNamespace||{},rn="3.0.15",on={FilterXSS:r.exports.FilterXSS,version:rn,filterXSS:Xe,_filterXSS:$e,filterUrl:en,Config:We,BlackConfig:Qe,project:nn,setProjectName:function(e){nn[e]=this,Le._xssProjectName=e}};tn.douyin_web=on,Le.xssNamespace=tn,Le.Math&&!Le.Math.xssNamespace&&(Le.Math.xssNamespace=tn),nn[rn]=on,Le.globalThis=Le,Le.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:on},Le.xss=on,Le.isSafeUrl=Re,Le.isSafeDomain=Ve,Le.isSafeProtocol=Me,Le._xssProject=nn,Le._xssProjectName&&(nn[Le._xssProjectName]=on);var an=on.setProjectName.bind(on);e.BlackConfig=Qe,e.Config=We,e.FilterXSS=r.exports.FilterXSS,e._filterXSS=$e,e.filterUrl=en,e.filterXSS=Xe,e.isSafeDomain=Ve,e.isSafeProtocol=Me,e.isSafeUrl=Re,e.project=nn,e.setProjectName=an,e.setXssNamespace=function(e){var n=e.appId,t=e.bid,r=e.region,o=e.mode,i=void 0===o?"black":o;tn[n]=on;var a=null;(a="black"===i?Qe:We).bid=t,a.region=r,a.enabled=!0},e.xssNamespace=tn,Object.defineProperty(e,"__esModule",{value:!0})})),(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([[936],{59858:function(e,n,t){t.d(n,{j:function(){return l}});var r=t(38290),o=t(72176),i=t(53864),a=o.C;function l(){var e=(0,i.useContext)(a);if(e===undefined)throw(0,r.g)("abtest"),new Error("abtest must be used within Provider");return e}},86028:function(e,n,t){t.d(n,{S:function(){return l}});var r=t(38290),o=t(7607),i=t(53864),a=o.Context;function l(){var e=(0,i.useContext)(a);if(e===undefined)throw(0,r.g)("user"),new Error("user must be used within Provider");return e}},77060:function(e,n,t){t.d(n,{a:function(){return y}});var r=t(65902),o=t(32781),i=t(67161),a=t(92524),l=t.n(a),c=t(56442),s=t.n(c),u=t(53864),d=t(67330),f=t(79705),m=t.n(f),v=t(79297),p=t(8372),h=t(71043),g={aLink:"B3AsdZT9"},w=["href","children","style","className","passParamKeys","spa","isNeedSeoOpt","refEl"];function y(e){var n=e.href,t=void 0===n?"":n,a=e.children,c=e.style,f=e.className,y=e.passParamKeys,_=void 0===y?[]:y,b=e.spa,E=e.isNeedSeoOpt,k=void 0===E||E,C=e.refEl,N=(0,i.Z)(e,w),T=(0,u.useState)(""),x=(0,o.Z)(T,2),S=x[0],L=x[1],I=(0,u.useRef)(null);(0,u.useEffect)((function(){var e=(0,p.U)({passParamKeys:_}),n=(0,d.stringify)(e);L(n)}),[]);var Z=(0,u.useMemo)((function(){if(!t)return undefined;var e,n,r=l()(t).call(t,"#");-1!==r?(e=s()(t).call(t,0,r),n=s()(t).call(t,r+1)):(e=t,n="");var o=l()(e).call(e,"?"),i="",a="";-1!==o?(i=s()(e).call(e,0,o),a=s()(e).call(e,o+1)):(i=e,a="");var c=[];return S&&c.push(S),a&&c.push(a),c.length>0?[i,c.join("&")].join("?")+(n&&"#".concat(n)):i+(n&&"#".concat(n))}),[S,t]),A=Z;if(k&&!b&&A){var P=A.split("#"),D=(0,o.Z)(P,2);A=D[0],D[1];var M=A.split("?"),B=(0,o.Z)(M,2);A=B[0],B[1]}return b?u.createElement(v.rU,(0,r.Z)({to:Z,className:m()(g.aLink,f),style:c},N,{suppressHydrationWarning:!0}),a):u.createElement("a",(0,r.Z)({suppressHydrationWarning:!0,href:globalThis.xssNamespace.douyin_web.filterUrl(A,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:m()(g.aLink,f),style:c,ref:function(e){I.current=e,C&&(C.current=e)}},N,{target:(0,h.f)()?"_self":N.target,onClick:function(e){try{var n;I.current.href=globalThis.xssNamespace.douyin_web.filterUrl(Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),null==N||null===(n=N.onClick)||void 0===n||n.call(N,e)}catch(t){}}}),a)}},80704:function(e,n,t){t.d(n,{SJ:function(){return R},ev:function(){return V},zk:function(){return W},qR:function(){return U},c3:function(){return H},ZP:function(){return q}});var r,o=t(30906),i=t(32781),a=t(64408),l=t(29809),c=t.n(l),s=t(92524),u=t.n(s),d=t(85792),f=t.n(d),m=t(11227),v=t.n(m),p=t(34346),h=t.n(p),g=t(5594),w=t.n(g),y=t(53864),_=t(73457),b=t(77386),E=t.n(b),k=t(79705),C=t.n(k),N=t(44180),T=t(28712),x=t(56462),S=t(97876),L=t(72603),I=t(9191),Z=t(5277),A=t(92281),P=t(33389),D=t(27809),M=t(4836),B=t(65175),O=t(29774),R=function(){var e=(0,a.Z)(w().mark((function e(){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(3001).then(t.bind(t,73001)).then((function(e){return e.default}));case 2:return n=e.sent,e.abrupt("return");case 5:n.use(),!0;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){return null},F=(0,T.p)()?null:x.Q,W=function(e,n){return!!e&&new Date(e).toDateString()===new Date(n).toDateString()},U=function(e){if(!(0,T.p)()){var n=F&&c()(F.getItem({sKey:e}),10)||0;return n&&W(n,H)||!1}},H=(new Date).getTime(),j=!(0,T.p)()&&(u()(r=navigator.userAgent).call(r,"Window")>0&&window.devicePixelRatio>1),G=function(e){switch(e){case"LOGIN_MOBILE_CODE":default:return"phone_sms";case"LOGIN_ACCOUNT_PWD":return"phone_password";case"LOGIN_SCAN_CODE":return"qr_code"}},K="click_x";function q(e){var n,t=e.config,r=e.destroy,l=e.text,c=e.isPage,s=e.enterMethod,u=void 0===s?"":s,d=e.isCanClose,m=void 0===d||d,p=e.onClose,g=void 0===p?null:p,b=e.loginBgImg,k=void 0===b?"https://p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/login-resetpwd-bg.png":b,T=e.subTitle,x=void 0===T?["\u70b9\u8d5e\u8bc4\u8bba\u968f\u5fc3\u53d1","\u76f4\u64ad\u95f4\u7545\u804a\u6253\u8d4f","\u670b\u53cb\u89c6\u9891\u4e00\u952e\u89c8"]:T,R=(0,y.useRef)(null),F=(0,y.useState)(""),W=(0,i.Z)(F,2),U=W[0],H=W[1],q=(0,y.useState)(!1),Q=(0,i.Z)(q,2),z=Q[0],Y=Q[1],J="PASSWORD_RESET"===U,X=window.DOMAIN&&window.DOMAIN===A.LIVE_XIGUA_DOMAIN?"\u76f4\u64ad\u670d\u52a1\u7531\u6296\u97f3\u63d0\u4f9b \u9700\u767b\u5f55":"\u767b\u5f55\u540e\u6296\u97f3\u66f4\u61c2\u4f60",$=l||X;switch(U){case"PASSWORD_RESET":$="\u91cd\u7f6e\u5bc6\u7801";break;case"LOGIN_PUSH":$="\u8bf7\u6253\u5f00\u624b\u673a\u6296\u97f3\u786e\u8ba4\u767b\u5f55"}V=function(e){Y(!1),f()((function(){var n;null===(n=R.current)||void 0===n||n.call(R),e?(0,O.V7)().clear():null==r||r(),S.emit(S.EVENT.showLoginPane,!1)}),200)};(0,y.useEffect)((function(){var e;(0,N.Gn)();var n=function(e){e.stopPropagation()};return f()((function(){S.emit(S.EVENT.videoStopPlayNext)}),500),null===(e=document)||void 0===e||e.addEventListener("keydown",n,!0),function(){var e;S.emit(S.EVENT.videoRemoveStopPlayNext),null===(e=document)||void 0===e||e.removeEventListener("keydown",n,!0)}}),[]),(0,y.useEffect)((function(){return S.listen(S.EVENT.hideModal,r)}),[]);var ee=y.useCallback(function(){var e=(0,a.Z)(w().mark((function e(n){var r,i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return S.emit(S.EVENT.showLoginPane,!0),e.next=5,(0,M.j1)();case 5:r=e.sent,i=(0,L.yW)()||"",null!==P.n&&void 0!==P.n&&P.n.loginGuideShowed&&"follow"!==i&&"friend"!==i&&P.n.destroy(),a=new r((0,o.Z)((0,o.Z)({},t),{},{success:function(e){null!=e&&e.redirect_url?E().get(null==e?void 0:e.redirect_url).then((function(){var n;f()((function(){V(!0)}),500),null==t||null===(n=t.success)||void 0===n||n.call(t,e)})).catch((function(){V()})):V()},onPageChange:function(e){H(e),B.Z.sendLog("clickLoginMethod",{enter_from:(0,L.vM)(),enter_method:u,login_method:G(e),login_suggest_method:"qr_code"})},getCloseFunc:function(){return K},onCloseLoginPanel:function(){null==g||g(),V()},ele:n})),R.current=a.init(),a.setTeaConfig({ug_source:(0,I.Rs)("ug_source"),sem_keyword:(0,I.Rs)("sem_keyword"),browser_is_360:(0,Z.a2)()?"1":"0"});case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[u,t]);(0,y.useEffect)((function(){Y(!0)}),[]);var ne=v()(n=["cold_start_full","cold_start","auto","navigation_bar","force_login_guide","force_login_bar","force_login_popup_tab"]).call(n,u)&&!J,te=y.createElement("div",{id:"login-pannel",className:C()({bigqr:!0},{resetpwd:J},{subtitle:ne},{scale:j},{scan_login_text:!0}),style:{background:"#fff url(".concat(k,") no-repeat"),backgroundSize:"100% auto"}},y.createElement("div",{className:"login-pannel__header",onClick:function(e){e.stopPropagation()}},y.createElement("div",{className:"login-pannel__header-title"},$),ne&&0!==x.length&&y.createElement("div",{className:"login-pannel__header-title-desc"},y.createElement("ul",{id:"sub-title"},h()(x).call(x,(function(e,n){return y.createElement("li",{key:n,id:"".concat((t=e,"\u9ad8\u6e05\u89c6\u9891\u514d\u8d39\u770b"===t?"video":"\u70b9\u8d5e\u8bc4\u8bba\u968f\u5fc3\u53d1"===t?"comment":"\u76f4\u64ad\u95f4\u7545\u804a\u6253\u8d4f"===t?"live":"\u670b\u53cb\u89c6\u9891\u4e00\u952e\u89c8"===t?"friend":"video"))},e);var t}))))),!c&&m&&y.createElement("div",{className:"dy-account-close",onClick:function(e){var n,r;e.stopPropagation(),B.Z.sendLog("ucLoginExit",(0,o.Z)({},null==t||null===(n=t.teaConfig)||void 0===n||null===(r=n.config)||void 0===r?void 0:r.evtParams)),null==g||g(),V()}}),y.createElement("div",{ref:ee,onClick:function(e){e.stopPropagation()}}));return y.createElement(y.Fragment,null,c?y.createElement("div",{className:"login-page"},te):y.createElement(_.Kv,{in:z,classNames:"login-mask",timeout:{enter:400,exit:150},unmountOnExit:!0,appear:!0},y.createElement(D.T,{className:"screen-mask",onClick:function(){B.Z.sendLog("clickLoginOutside",{enter_method:u,enter_from:(0,L.vM)()})}},y.createElement("div",{className:"box-align-center"},y.createElement(_.Kv,{in:z,classNames:"login-pannel",timeout:{enter:400,exit:150},appear:!0,unmountOnExit:!0},te)))))}},32226:function(e,n,t){t.d(n,{NS:function(){return A},Pm:function(){return R},oo:function(){return P},f:function(){return B},pF:function(){return O}});var r,o=t(32781),i=t(64408),a=t(65146),l=t(5594),c=t.n(l),s=t(68493),u=t.n(s),d=t(85792),f=t.n(d),m=t(29809),v=t.n(m),p=t(56920),h=t(76335),g=t(353),w=t(28712),y=t(56462),_=t(13971),b=t(92281),E=t(60349),k=t(38210),C=t(53864),N=t(60443),T=t(71116),x=t(65175),S=function(e){var n=e.confirmHandler,t=void 0===n?null:n,r=e.cancelHandler,i=void 0===r?null:r,a=e.defaultHandler,l=void 0===a?null:a,c=e.countdown,s=void 0===c?5:c,u=(0,C.useRef)(null),d=(0,C.useState)(s),m=(0,o.Z)(d,2),v=m[0],p=m[1],h=function(){clearTimeout(u.current)};return(0,C.useEffect)((function(){return u.current=f()((function(){null==l||l()}),1e3*s),function(){clearTimeout(u.current)}}),[]),(0,C.useEffect)((function(){f()((function(){v>0&&p(v-1)}),1e3)}),[v]),C.createElement("div",{className:"trust-login-dialog-mask"},C.createElement("div",{className:"trust-login-dialog-content"},C.createElement("div",{className:"trust-login-dialog-title"},"\u662f\u5426\u4fdd\u5b58\u767b\u5f55\u4fe1\u606f\uff1f\uff08".concat(v,"\uff09")),C.createElement("div",{className:"trust-login-dialog-info"},"\u4fdd\u5b58\u540e\u4e0b\u6b21\u767b\u5f55\u514d\u9a8c\u8bc1\uff0c\u53ef\u5728\u4e2a\u4eba\u4e2d\u5fc3\u8bbe\u7f6e"),C.createElement("div",{className:"trust-login-dialog-button"},C.createElement("div",{className:"trust-login-dialog-button-confirm",onClick:function(){h(),null==t||t()}},"\u4fdd\u5b58"),C.createElement("div",{className:"trust-login-dialog-button-cancel",onClick:function(){h(),null==i||i()}},"\u53d6\u6d88"))))},L=function(e){var n,t=e.confirmHandler,r=void 0===t?null:t,o=e.cancelHandler,i=void 0===o?null:o,a=e.countdown,l=void 0===a?5:a,c=e.showWay,s=void 0===c?"":c,u=document.createElement("div");u.setAttribute("id","trust-logout-dialog"),document.body.appendChild(u),x.Z.sendLog("loginInfoPopupShow",{popup_type:s,params_for_special:"uc_login",device_id:null===(n=(0,T.Es)())||void 0===n?void 0:n.user_unique_id}),N.render(C.createElement(S,{confirmHandler:function(){var e;x.Z.sendLog("loginInfoPopupResult",{popup_type:s,result:"save",params_for_special:"uc_login",device_id:null===(e=(0,T.Es)())||void 0===e?void 0:e.user_unique_id});try{(0,E.dg)(1,{login_type:s,method:"popup",page:"save_guide"}).then((function(){u&&document.body.contains(u)&&document.body.removeChild(u),null==r||r()})).catch((function(){u&&document.body.contains(u)&&document.body.removeChild(u),null==r||r()}))}catch(n){}},cancelHandler:function(){var e;x.Z.sendLog("loginInfoPopupResult",{popup_type:s,result:"cancel",params_for_special:"uc_login",device_id:null===(e=(0,T.Es)())||void 0===e?void 0:e.user_unique_id});try{2!==(0,_.$o)(g.LocalStorageKeys.IsAllowTrust)?(0,E.dg)(2).then((function(){u&&document.body.contains(u)&&document.body.removeChild(u),null==i||i()})).catch((function(){u&&document.body.contains(u)&&document.body.removeChild(u),null==i||i()})):(u&&document.body.contains(u)&&document.body.removeChild(u),null==i||i())}catch(n){}},defaultHandler:function(){var e;x.Z.sendLog("loginInfoPopupResult",{popup_type:s,result:"close",params_for_special:"uc_login",device_id:null===(e=(0,T.Es)())||void 0===e?void 0:e.user_unique_id});try{u&&document.body.contains(u)&&document.body.removeChild(u),null==i||i()}catch(n){}},countdown:l}),u)},I=(0,w.p)()?null:y.Q,Z=function(e){return new(u())((function(n){return f()(n,e)}))},A=(r={},(0,a.Z)(r,p.sc.V0,1),(0,a.Z)(r,p.sc.V1,3),(0,a.Z)(r,p.sc.V2,1),r),P=function(){var e=(0,i.Z)(c().mark((function e(n){var t,r,i,a,l,s,d,f,m,w,y,b;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().all([h.h.getVar({name:"trust_rd_freq",defaultValue:p.sc.V0})]);case 2:if(t=e.sent,r=(0,o.Z)(t,1),i=r[0],a=I&&v()(I.getItem({sKey:"LOGIN_STATUS"}),10)||0,(l=1===a)||(I.setItem("LOGIN_STATUS",1,Infinity,"/","douyin.com",""),(null==(d=(0,_.$o)(g.LocalStorageKeys.UserInfo))?void 0:d.uid)!==(null==n||null===(s=n.info)||void 0===s?void 0:s.secUid)&&((0,_.qQ)(g.LocalStorageKeys.UserInfo,{uid:null==n||null===(f=n.info)||void 0===f?void 0:f.secUid,nickname:null==n||null===(m=n.info)||void 0===m?void 0:m.nickname,avatarUrl:null==n||null===(w=n.info)||void 0===w?void 0:w.avatarUrl}),(0,_.bv)(g.LocalStorageKeys.IsAllowTrust),(0,_.bv)(g.LocalStorageKeys.HasLoginShow),(0,_.bv)(g.LocalStorageKeys.HasLogoutShow),(0,_.bv)(g.LocalStorageKeys.TrustMenuCount),(0,_.bv)(g.LocalStorageKeys.TrustBubbleCount))),"number"==typeof(y=(0,_.$o)(g.LocalStorageKeys.IsAllowTrust))){e.next=19;break}return e.prev=10,e.next=13,(0,E.q3)();case 13:y=e.sent,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10);case 19:if(1!==y){e.next=21;break}return e.abrupt("return");case 21:i===p.sc.V0?D(l):(b=(null==A?void 0:A[i])||0,M(l,b));case 22:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(n){return e.apply(this,arguments)}}(),D=function(){var e=(0,i.Z)(c().mark((function e(n){var t,r,o,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return");case 2:t=R({key:g.LocalStorageKeys.HasLoginShow,freq:1}),r=t.count,o=void 0===r?0:r,i=t.inFreq,void 0!==i&&i&&(O({key:g.LocalStorageKeys.HasLoginShow,count:o+1}),L({showWay:"new_login"}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),M=function(){var e=(0,i.Z)(c().mark((function e(n,t){var r,o,i,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(2e3);case 2:r=R({key:g.LocalStorageKeys.TrustMenuCount,freq:Number(t)}),o=r.count,i=void 0===o?0:o,a=r.inFreq,void 0!==a&&a&&(O({key:g.LocalStorageKeys.TrustMenuCount,count:i+1}),(0,k.F)({showWay:n?"old_login":"new_login"}));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),B=function(){var e=(0,i.Z)(c().mark((function e(n){var t,r,i,a,l,s,d,f,m;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().all([h.h.getVar({name:"trust_rd_freq",defaultValue:p.sc.V0})]);case 2:t=e.sent,r=(0,o.Z)(t,1),i=r[0],a=(0,_.$o)(g.LocalStorageKeys.IsAllowTrust),l=R({key:g.LocalStorageKeys.HasLogoutShow,freq:1}),s=l.count,d=void 0===s?0:s,f=l.inFreq,m=void 0!==f&&f,1!==a&&m&&document.domain!==b.LIVE_DOMAIN?(O({key:g.LocalStorageKeys.HasLogoutShow,count:d+1}),i===p.sc.V0?L({confirmHandler:n,cancelHandler:n,showWay:"logout"}):(0,k.F)({confirmHandler:n,cancelHandler:n,showWay:"logout"})):n();case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),O=function(e){var n,t=e.key,r=e.count,o=void 0===r?0:r,i=(new Date).getTime(),a=Number(null===(n=(0,_.$o)(t))||void 0===n?void 0:n.firstTime)||0,l=(i-a)/1e3/60/60/24>30;(0,_.qQ)(t,{count:o,lastTime:i,firstTime:l?i:a})},R=function(e){var n=e.key,t=e.freq,r=void 0===t?0:t,o=(0,_.$o)(n)||{};if("number"==typeof o)return O({key:n,count:o}),{count:o,inFreq:o<r};var i,a,l=(new Date).getTime(),c=o.firstTime,s=void 0===c?0:c,u=o.lastTime,d=void 0===u?0:u,f=o.count,m=void 0===f?0:f;return(l-Number(s))/1e3/60/60/24>30?{count:0,inFreq:!0}:(a=l,!!(i=d)&&new Date(i).toDateString()===new Date(a).toDateString())?{count:m,inFreq:!1}:{count:m,inFreq:m<r}}},38210:function(e,n,t){t.d(n,{J:function(){return f},F:function(){return m}});var r=t(32781),o=t(53864),i=t(79705),a=t.n(i),l=t(5611),c=t(97876),s=t(71116),u=t(60349),d=t(65175),f=function(){var e=(0,o.useState)(!1),n=(0,r.Z)(e,2),t=n[0],i=n[1],s=(0,o.useRef)(!1),u=(0,o.useRef)(null),d=(0,o.useRef)(null),f=(0,o.useState)(""),m=(0,r.Z)(f,2),v=(m[0],m[1]),p=(0,l.DT)();(0,o.useEffect)((function(){c.listen(c.EVENT.trustMenuShow,(function(e){var n,t=e.show,r=e.confirmHandler,o=e.cancelHandler,a=e.showWay;(r&&(u.current=r),o&&(d.current=o),a&&v(a),!t&&s.current)&&(null===(n=d.current)||void 0===n||n.call(d));i(t),s.current=t})),c.listen(c.EVENT.updateTrustSwitch,(function(e){1===e&&(i(!1),s.current=!1)}))}),[]);return o.createElement(o.Fragment,null,t&&o.createElement("div",{className:a()("trust-login-menu-content",{isClient:p})},o.createElement("div",{className:"trust-login-menu-title"},"\u662f\u5426\u4fdd\u5b58\u767b\u5f55\u4fe1\u606f"),o.createElement("div",{className:"trust-login-menu-info"},"\u4e0b\u6b21\u4e00\u952e\u767b\u5f55\u514d\u9a8c\u8bc1\uff0c\u53ef\u5728\u4e2a\u4eba\u4e2d\u5fc3\u5173\u95ed"),o.createElement("div",{className:"trust-login-menu-button"},o.createElement("div",{className:"trust-login-menu-button-confirm",onClick:function(){var e;i(!1),s.current=!1,null===(e=u.current)||void 0===e||e.call(u)}},"\u4fdd\u5b58"),o.createElement("div",{className:"trust-login-menu-button-cancel",onClick:function(){var e;i(!1),s.current=!1,null===(e=d.current)||void 0===e||e.call(d)}},"\u4e0d\u4fdd\u5b58"))))},m=function(e){var n,t=e.confirmHandler,r=void 0===t?function(){return null}:t,o=e.cancelHandler,i=void 0===o?function(){return null}:o,a=e.showWay,l=void 0===a?"":a;c.emit(c.EVENT.trustMenuShow,{show:!0,confirmHandler:function(){var e;(0,u.dg)(1,{login_type:l,method:"popup",page:"save_guide"}),d.Z.sendLog("loginInfoPopupResult",{popup_type:l,result:"save",params_for_special:"uc_login",device_id:null===(e=(0,s.Es)())||void 0===e?void 0:e.user_unique_id}),r()},cancelHandler:function(){var e;d.Z.sendLog("loginInfoPopupResult",{popup_type:l,result:"cancel",params_for_special:"uc_login",device_id:null===(e=(0,s.Es)())||void 0===e?void 0:e.user_unique_id}),i()},showWay:l}),d.Z.sendLog("loginInfoPopupShow",{popup_type:l,params_for_special:"uc_login",device_id:null===(n=(0,s.Es)())||void 0===n?void 0:n.user_unique_id})}},82526:function(e,n,t){t.d(n,{Z:function(){return S}});var r,o=t(65146),i=t(64408),a=t(32781),l=t(5594),c=t.n(l),s=t(68493),u=t.n(s),d=t(85792),f=t.n(d),m=t(53864),v=t(79705),p=t.n(v),h=t(76335),g=t(56920),w=t(353),y=t(13971),_=t(97876),b=t(71116),E=t(60349),k=t(9909);function C(){return C=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},C.apply(this,arguments)}var N=function(e){return m.createElement("svg",C({width:15,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 15.473a7.5 7.5 0 100-15 7.5 7.5 0 000 15zm.034-12c-.956 0-1.842.367-2.45 1.076-.076.089-.162.22-.243.36-.209.357-.056.805.308.999l.027.014c.396.211.842-.003 1.114-.36.3-.393.715-.588 1.244-.588.787 0 1.338.327 1.338.992 0 .536-.427.94-.91 1.371l-.03.028c-.517.469-1.05.953-1.277 1.857-.01.04-.02.088-.028.14-.077.464.31.86.779.86.423 0 .753-.33.858-.74a.984.984 0 01.027-.092c.185-.512.535-.848.885-1.152.676-.6 1.324-1.227 1.324-2.272 0-1.619-1.366-2.493-2.966-2.493zm-.034 7.5a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25z",fill:"#2F3035",fillOpacity:.4})))},T=t(65175),x=t(32226),S=function(e){var n=e.classname,t=void 0===n?"":n,r=e.iconPosition,l=void 0===r?"":r,s=e.pageIndex,d=e.tipInfoPosition,v=void 0===d?"":d,C=e.isNeedBubble,S=void 0!==C&&C,L=(0,y.$o)(w.LocalStorageKeys.IsAllowTrust),I=(0,m.useState)(1===L),Z=(0,a.Z)(I,2),A=Z[0],P=Z[1],D=(0,m.useState)(!1),M=(0,a.Z)(D,2),B=M[0],O=M[1],R=(0,m.useRef)(!1),V=null;(0,m.useEffect)((function(){W()}),[]);var F=function(){O(!1),R.current=!1,V&&(clearTimeout(V),V=null)},W=function(){var e=(0,i.Z)(c().mark((function e(){var n,t,r,o,i,l,s,d,m,v,p,E,k;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.listen(_.EVENT.updateTrustSwitch,(function(e){P(1===e),1===e&&R.current&&F()})),1===(0,y.$o)(w.LocalStorageKeys.IsAllowTrust)||!S){e.next=12;break}return e.next=5,u().all([h.h.getVar({name:"trust_rd_freq",defaultValue:g.sc.V0})]);case 5:n=e.sent,t=(0,a.Z)(n,1),r=t[0],o=(null===x.NS||void 0===x.NS?void 0:x.NS[r])||0,i=(0,x.Pm)({key:w.LocalStorageKeys.TrustBubbleCount,freq:Number(o)}),l=i.count,s=void 0===l?0:l,d=i.inFreq,m=void 0!==d&&d,v=(0,x.Pm)({key:w.LocalStorageKeys.TrustMenuCount,freq:Number(o)}),p=v.inFreq,E=void 0!==p&&p,r!==g.sc.V0&&m&&!E&&(O(!0),R.current=!0,T.Z.sendLog("loginInfoBubbleShow",{params_for_special:"uc_login",device_id:null===(k=(0,b.Es)())||void 0===k?void 0:k.user_unique_id}),(0,x.pF)({key:w.LocalStorageKeys.TrustBubbleCount,count:s+1}),V=f()((function(){var e;R.current&&(O(!1),R.current=!1,V=null,T.Z.sendLog("loginInfoBubbleClose",{close_method:"auto",switch_status:A?"on":"off",params_for_special:"uc_login",device_id:null===(e=(0,b.Es)())||void 0===e?void 0:e.user_unique_id}))}),15e3));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m.createElement("div",{className:p()("trust-login-switch",(0,o.Z)({},t,t))},m.createElement("div",{className:p()("trust-login-tips",(0,o.Z)({},l,l))},m.createElement("div",{className:"trust-login-tips-icon",onMouseEnter:function(){var e;R.current&&(F(),T.Z.sendLog("loginInfoBubbleClose",{close_method:"hover",switch_status:A?"on":"off",params_for_special:"uc_login",device_id:null===(e=(0,b.Es)())||void 0===e?void 0:e.user_unique_id}),_.emit(_.EVENT.trustMenuShow,{show:!1}))}},m.createElement(k.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(N,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:15,height:16,viewBox:"0 0 15 16"}),m.createElement("div",{className:p()("trust-login-tips-info",(0,o.Z)({},"trust-login-tips-info-".concat(v),Boolean(v)))},"\u4fdd\u5b58\u767b\u5f55\u4fe1\u606f\uff0c\u4e0b\u6b21\u767b\u5f55\u514d\u9a8c\u8bc1"))),m.createElement("div",{className:"trust-login-switch-title"},"\u4fdd\u5b58\u767b\u5f55\u4fe1\u606f"),m.createElement("div",{className:p()("trust-login-switch-button",{check:A},{uncheck:!A}),onClick:function(){var e,n;(T.Z.sendLog("clickLoginInfoSwitch",{page:s,result:A?"off":"on",params_for_special:"uc_login",device_id:null===(e=(0,b.Es)())||void 0===e?void 0:e.user_unique_id}),R.current)&&T.Z.sendLog("loginInfoBubbleClose",{close_method:"click_switch",switch_status:"on",params_for_special:"uc_login",device_id:null===(n=(0,b.Es)())||void 0===n?void 0:n.user_unique_id});(0,E.dg)(A?2:1,{login_type:"old_login",method:"switch",page:s})}}),B&&m.createElement("div",{className:"trust-login-bubble",onClick:function(){var e;(0,E.dg)(1,{login_type:"old_login",method:"bubble",page:s}),T.Z.sendLog("loginInfoBubbleClose",{close_method:"click_bubble",switch_status:"on",params_for_special:"uc_login",device_id:null===(e=(0,b.Es)())||void 0===e?void 0:e.user_unique_id})}},"\u4fdd\u5b58\u767b\u5f55\u4fe1\u606f\uff0c\u4e0b\u6b21\u767b\u5f55\u514d\u9a8c\u8bc1"))}},12139:function(e,n,t){t.d(n,{C:function(){return y}});var r,o=t(64408),i=t(5594),a=t.n(i),l=t(85792),c=t.n(l),s=t(8761),u=t(28712),d=t(71116),f=t(27868),m=t(4836),v=t(31554),p=t(64088),h=3e5,g="AUTO_LOGIN_PROMPT_TIMESTAMP",w="__SELF_AUTO_LOGIN_PROMPT_DELAY";function y(e,n){return _.apply(this,arguments)}function _(){return(_=(0,o.Z)(a().mark((function e(n,t){var i,l,y,_;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.p)()&&n!==undefined){e.next=2;break}return e.abrupt("return");case 2:if(l=function(){return window.localStorage.getItem(g)},y=Number(null===(i=window)||void 0===i?void 0:i.localStorage.getItem(w))||h,_=function(){return(new Date).toDateString()},!n){e.next=10;break}clearTimeout(r),e.next=17;break;case 10:if(l()===_()||r){e.next=17;break}return e.next=13,(0,p.iM)(t);case 13:if(!e.sent){e.next=16;break}return e.abrupt("return");case 16:r=c()((0,o.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=_(),!d.Le.getConfig(d.gI.IsMiniWin)){e.next=4;break}return e.abrupt("return");case 4:if(!(0,s.DL)("auto")){e.next=6;break}return e.abrupt("return");case 6:if(window.localStorage.getItem(g)===n){e.next=13;break}return e.next=9,(0,f.b)();case 9:if(!e.sent.isLogin){e.next=12;break}return e.abrupt("return");case 12:"visible"===document.visibilityState?(0,v.default)({success:function(){window.location.reload()},enterMethod:"auto",isActive:"0",next:(0,m.pL)()}):document.addEventListener("visibilitychange",(function(){c()((function(){(0,v.default)({success:function(){window.location.reload()},enterMethod:"auto",isActive:"0",next:(0,m.pL)()})}),500)}),{once:!0});case 13:(0,s.nQ)("auto"),window.localStorage.setItem(g,n);case 15:case"end":return e.stop()}}),e)}))),y);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},19006:function(e,n,t){t.d(n,{e:function(){return M},_:function(){return L}});var r,o,i=t(64408),a=t(65146),l=t(5594),c=t.n(l),s=t(85792),u=t.n(s),d=t(56920),f=t(353),m=t(13971),v=t(28712),p=t(27868),h=t(29774),g=t(32781),w=t(94090),y=t.n(w),_=t(53864),b=t(60443),E=t(97876),k=t(65175),C=t(31554),N=t(4836),T=function(){var e=document.getElementById("free-ad-login-dialog");null==e||e.remove()},x=function(e){if(!document.getElementById("free-ad-login-dialog")){var n=document.createElement("div");n.id="free-ad-login-dialog",document.body.appendChild(n),b.render(_.createElement(S,{onClose:function(){(0,h.V7)().closeDialog("freeAdDialog")},type:e}),n)}},S=function(e){var n,t=(0,_.useRef)(null),r=(0,_.useState)(!0),o=(0,g.Z)(r,2),i=o[0],a=o[1],l=e.onClose,c=void 0===l?function(){}:l,s=e.type,u=void 0===s?"blue":s;(0,_.useEffect)((function(){return t.current=E.listen(E.EVENT.hoverIcon,(function(e){a(!e)})),k.Z.sendLog("freeAdPopupShow",{params_for_special:"uc_login"}),function(){var e;t.current&&(null===(e=t.current)||void 0===e||e.call(t),t.current=null)}}),[]);var d=function(){var e;t.current&&(null===(e=t.current)||void 0===e||e.call(t),t.current=null);c()};return _.createElement(_.Fragment,null,_.createElement("div",{className:y()(n="free-ad-dialog ".concat(u," ")).call(n,i?"show":"hide")},_.createElement("div",{className:"free-ad-dialog_close",onClick:function(){k.Z.sendLog("freeAdPopupClick",{result:0,params_for_special:"uc_login"}),d()}}),_.createElement("div",{className:"free-ad-dialog_info"},_.createElement("div",{className:"free-ad-dialog_title"},"\u767b\u5f55\u98863\u5929\u514d\u5e7f\u544a\u6743\u76ca"),_.createElement("div",{className:"free-ad-dialog_desc"},"\u9650\u65f6\u9886\u53d6\uff0c\u4eab\u53d7\u6781\u81f4\u6e05\u723d\u4f53\u9a8c")),_.createElement("div",{className:"free-ad-dialog_button",onClick:function(){k.Z.sendLog("freeAdPopupClick",{result:1,params_for_special:"uc_login"}),d(),(0,C.default)({headerText:"\u767b\u5f55\u540e\uff0c\u4eab3\u5929\u514d\u5e7f\u544a",success:function(){window.location.reload()},enterMethod:"click_free_ad",next:(0,N.pL)(),isFreeAd:!0})}},"\u7acb\u5373\u9886\u53d6")))},L=(r={},(0,a.Z)(r,d.eV.V0,{total:0,timesOfPerDay:0}),(0,a.Z)(r,d.eV.V1,{total:6,timesOfPerDay:1}),(0,a.Z)(r,d.eV.V2,{total:6,timesOfPerDay:1}),(0,a.Z)(r,d.eV.V3,{total:3,timesOfPerDay:1}),(0,a.Z)(r,d.eV.V4,{total:10,timesOfPerDay:10}),r),I=f.LocalStorageKeys.FreeAdGuideFreq,Z=12e4,A="AUTO_FREE_AD_LOGIN_DELAY",P=14,D="NEW_USER_WID_INTERVAL";function M(e,n){var t=Number((0,m.$o)(D)||P),r=(0,h.Kx)(t),a=n.loginFreeAd,l=void 0===a?d.eV.V0:a,s=Boolean((0,m.$o)(f.LocalStorageKeys.deviceHaveFreeAd)||0);if(!(0,v.p)()&&e!==undefined&&!s&&l!==d.eV.V0&&l!==d.eV.V4&&r)if(e)clearTimeout(o);else if(!o){var g=new h.Yl({type:"localStorage",key:I,strategy:L[l]});if(g.isInFreq()){var w,y=Number(null===(w=window)||void 0===w?void 0:w.localStorage.getItem(A))||Z;o=u()((0,i.Z)(c().mark((function e(){var n,t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.b)();case 2:if(null==(n=e.sent)||!n.isLogin){e.next=5;break}return e.abrupt("return");case 5:t=function(){var e=g.getFreq(),n=e.total,t=void 0===n?0:n,r=e.timesOfPerDay,o=void 0===r?0:r,i=l===d.eV.V2?"green":"blue";g.setFreq({total:t+1,timesOfPerDay:o+1,lastTime:(new Date).getTime()}),x(i)},r=(0,h.XR)()?"immediately":"inOrder",(0,h.V7)().showDialog({onShow:t,onClose:T,id:"freeAdDialog",rule:r});case 8:case"end":return e.stop()}}),e)}))),y)}}}},65175:function(e,n,t){var r=t(13795),o=t(72603),i={ucLoginExit:{eventName:"uc_login_exit",params:{enter_from:(0,o.vM)(),enter_method:"",params_for_special:""}},qrLoginGuide:{eventName:"qr_login_guide",params:{enter_from:(0,o.vM)(),enter_method:"",login_suggest_method:"",page_type:(0,o.yW)()}},clickLoginMethod:{eventName:"click_login_method",params:{enter_from:(0,o.vM)(),enter_method:"",login_method:"",login_suggest_method:""}},clickLoginOutside:{eventName:"click_login_outside",params:{enter_from:(0,o.vM)(),enter_method:""}},loginInfoPopupShow:{eventName:"login_info_popup_show",params:{popup_type:"",params_for_special:"uc_login",device_id:""}},loginInfoPopupResult:{eventName:"login_info_popup_result",params:{popup_type:"",result:"",params_for_special:"uc_login",device_id:"",duration:0}},loginInfoPopupClose:{eventName:"login_info_popup_close",params:{popup_type:"",method:"",params_for_special:"uc_login",device_id:""}},clickLoginInfoSwitch:{eventName:"click_login_info_switch",params:{result:"",params_for_special:"uc_login",device_id:"",page:""}},loginInfoSwitchOn:{eventName:"login_info_switch_on",params:{login_type:"",method:"",page:"",params_for_special:"uc_login",device_id:""}},loginInfoBubbleShow:{eventName:"login_info_bubble_show",params:{method:"",params_for_special:"uc_login",device_id:""}},loginInfoBubbleClose:{eventName:"login_info_bubble_close",params:{close_method:"",switch_status:"",params_for_special:"uc_login",device_id:""}},saveLoginApiResult:{eventName:"save_login_api_result",params:{login_type:"",method:"",page:"",params_for_special:"uc_login",device_id:"",switch_status:"",result:""}},freeAdPopupShow:{eventName:"free_ad_popup_show",params:{params_for_special:"uc_login"}},freeAdPopupClick:{eventName:"free_ad_popup_click",params:{result:0,params_for_special:"uc_login"}},freeAdStatus:{eventName:"free_ad_status",params:{status:"",params_for_special:"uc_login"}}};n.Z=new r.hD(i)},60349:function(e,n,t){t.d(n,{q3:function(){return _},dg:function(){return b}});var r,o=t(30906),i=t(64408),a=t(5594),l=t.n(a),c=t(68493),s=t.n(c),u=t(353),d=t(76335),f=t(44180),m=t(65586),v=t(13971),p=t(97876),h=t(71116),g=t(65175);function w(e){return y.apply(this,arguments)}function y(){return(y=(0,i.Z)(l().mark((function e(n){var o,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,f.Gn)(),e.next=3,Promise.all([t.e(1098),t.e(1886)]).then(t.t.bind(t,1886,23));case 3:return o=e.sent,i=o.WebInterfaceSdk,r||(r=new i({aid:6383,isOversea:!1,isBoe:m.uZ,region:"cn",appName:"\u6296\u97f3 Web \u7ad9",secondVerifyWebOptions:{useSmsMode:6},enabledMonitor:!1})),e.abrupt("return",new(s())((function(e,t){r.request(n).then((function(n){e(n)})).catch((function(e){t(e)}))})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(){return new(s())((function(e,n){w({url:"/passport/user/web_record_status/get/"}).then((function(n){var t=n.user_web_record_status,r=Number(t);(0,v.qQ)(u.LocalStorageKeys.IsAllowTrust,r),p.emit(p.EVENT.updateTrustSwitch,r),e(r)})).catch((function(n){e(0)}))}))},b=function(){var e=(0,i.Z)(l().mark((function e(){var n,t,r,i,a,c=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&c[0]!==undefined?c[0]:2,t=c.length>1&&c[1]!==undefined?c[1]:{},r=!1,e.prev=4,e.next=7,d.h.getVar({name:"trust_status_sync",defaultValue:0});case 7:i=e.sent,r=Boolean(i),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:return 1===n&&g.Z.sendLog("loginInfoSwitchOn",(0,o.Z)((0,o.Z)({},t),{},{params_for_special:"uc_login",device_id:null===(a=(0,h.Es)())||void 0===a?void 0:a.user_unique_id})),e.abrupt("return",new(s())((function(e,i){w({url:"/passport/user/web_record_status/set/",data:{user_web_record_status:n}}).then((function(r){var i,a=r.user_web_record_status,l=Number(a),c=1===l?"on":"off";g.Z.sendLog("saveLoginApiResult",(0,o.Z)({params_for_special:"uc_login",device_id:null===(i=(0,h.Es)())||void 0===i?void 0:i.user_unique_id,switch_status:c,result:"success"},t)),(0,v.qQ)(u.LocalStorageKeys.IsAllowTrust,n),p.emit(p.EVENT.updateTrustSwitch,n),e(l)})).catch((function(e){var a,l=1===n?"on":"off";g.Z.sendLog("saveLoginApiResult",(0,o.Z)({params_for_special:"uc_login",device_id:null===(a=(0,h.Es)())||void 0===a?void 0:a.user_unique_id,switch_status:l,result:"fail"},t)),r||((0,v.qQ)(u.LocalStorageKeys.IsAllowTrust,n),p.emit(p.EVENT.updateTrustSwitch,n)),i(e)}))})));case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}()},31554:function(e,n,t){t.r(n),t.d(n,{default:function(){return ae},disturbShowAccount:function(){return fe},liveShowAccount:function(){return ue},loginPanelInfo:function(){return ie},navShowAccount:function(){return se},removeLoginPanel:function(){return me},showAccountPage:function(){return ce}});var r,o=t(32781),i=t(30906),a=t(67161),l=t(64408),c=t(5594),s=t.n(c),u=t(76569),d=t.n(u),f=t(11227),m=t.n(f),v=t(68493),p=t.n(v),h=t(53864),g=t(60443),w=t(40032),y=t(56920),_=t(76335),b=t(353),E=t(13971),k=t(45098),C=t(97876),N=t(61898),T=t(61065),x=t(25902),S=t(94739),L=t(28712),I=t(4836),Z=t(29774),A=t(19006),P=t(65146),D=t(85792),M=t.n(D),B=t(75951),O=t(91072),R=t(12338),V=t(40501),F=t(64054),W=t(71116),U=t(72603),H=t(88817),j=t(9191),G=t(39690),K=t(5277),q=t(65586),Q=t(65175),z=t(7786),Y=["success","host","next","ScanCodeDescription","enterMethod","isActive","teaEvtParams","isUnion","mobileLoginOnly","loginTabStyle","isAuto","gearName","clarity","currentUserInfo","isAllowTrust","sdkConfig","isFreeAd"],J=(r={},(0,P.Z)(r,V.J.NoRight,""),(0,P.Z)(r,V.J.Success,"activated"),(0,P.Z)(r,V.J.Fail,"failed"),(0,P.Z)(r,V.J.InEffect,"activated"),(0,P.Z)(r,V.J.ExpiredNeedTips,"expired"),(0,P.Z)(r,V.J.ExpiredAlreadyTips,"expired"),r),X=[{key:"LOGIN_SCAN_CODE",existOn:["LOGIN_ACCOUNT_PWD","LOGIN_MOBILE_CODE","LOGIN_SCAN_CODE"]},{key:"LOGIN_MOBILE_CODE",existOn:["LOGIN_MOBILE_CODE","LOGIN_ACCOUNT_PWD","LOGIN_SCAN_CODE"]},{key:"LOGIN_ACCOUNT_PWD",existOn:["LOGIN_ACCOUNT_PWD","LOGIN_MOBILE_CODE","LOGIN_SCAN_CODE"]}],$=[{key:"login",existOn:["PASSWORD_RESET"],text:"\u8fd4\u56de\u767b\u5f55",type:"page",clickToPage:"LOGIN_ACCOUNT_PWD"}],ee=function(){var e=(0,l.Z)(s().mark((function e(n){var t,r,o,c,u,d,f,m,v,p,h,g,w,y,_,k,C,N,T,S,Z,A,P,D,ee,ne,te,re,oe,ie,ae,le,ce,se,ue;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=n.success,m=n.host,v=n.next,p=n.ScanCodeDescription,h=n.enterMethod,g=n.isActive,w=n.teaEvtParams,y=void 0===w?{}:w,_=n.isUnion,k=void 0!==_&&_,C=n.mobileLoginOnly,N=void 0!==C&&C,T=n.loginTabStyle,void 0===T?1:T,S=n.isAuto,Z=void 0===S?1:S,A=n.gearName,P=void 0===A?"":A,D=n.clarity,ee=void 0===D?"":D,ne=n.currentUserInfo,te=void 0===ne?null:ne,re=n.isAllowTrust,oe=void 0!==re&&re,ie=n.sdkConfig,ae=void 0===ie?{}:ie,le=n.isFreeAd,ce=void 0!==le&&le,se=(0,a.Z)(n,Y),e.next=3,(0,I.Q4)();case 3:return ue=e.sent,e.abrupt("return",(0,i.Z)((0,i.Z)({},ue),{},{device_id:null===(t=(0,W.Es)())||void 0===t?void 0:t.user_unique_id,slardarContext:{enter_method:h,enter_from:(0,U.vM)()||"",page_type:(0,U.yW)()||""},currentUserInfo:te,isAllowTrust:oe,isFirstTrust:!0,lastPage:(0,E.$o)(b.LocalStorageKeys.LastLoginWay),refreshNumber:5,teaConfig:{appId:6383,config:{evtParams:(0,i.Z)((0,i.Z)((0,i.Z)({page_type:(0,U.yW)()||"",enter_method:h||"",enter_from:(0,U.vM)()||"",is_guide:"0",url_path:(0,L.p)()?"":null===(r=window)||void 0===r||null===(o=r.location)||void 0===o?void 0:o.pathname,video_detail_enter_from:(0,H.z)("web_link"),previous_page:(0,j.Rs)("previous_page"),is_active:g,is_video_guide:"0",is_full_screen:(0,x.r)()?"1":"0",is_full_webscreen:z.s.getIsPageFullscreen()?"1":"0",is_auto:Z,gear_name:P,clarity:ee,theme:ce?"free_ad":""},y),se),{},{url_source:(0,L.p)()?"":null!==(c=null===(u=(0,G.pf)(null===(d=location)||void 0===d?void 0:d.href))||void 0===u?void 0:u.urlSource)&&void 0!==c?c:""}),ug_source:(0,j.Rs)("ug_source"),sem_keyword:(0,j.Rs)("sem_keyword"),browser_is_360:(0,K.a2)()?"1":"0"}},host:m||(null===q.k4||void 0===q.k4?void 0:q.k4.sso)||"https://sso.douyin.com",next:v||(null===q.k4||void 0===q.k4?void 0:q.k4.next)||"https://www.douyin.com/",loginType:k?["LOGIN_MOBILE_CODE","LOGIN_ACCOUNT_PWD"]:["LOGIN_SCAN_CODE","LOGIN_MOBILE_CODE","LOGIN_ACCOUNT_PWD"],ScanCodeDescription:p,bindConflictType:"create_account",rememberPwd:!1,textConfig:{mobileCodeLoginText:{title:"\u9a8c\u8bc1\u7801\u767b\u5f55",mobilePlaceholder:"\u624b\u673a\u53f7",codePlaceholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",buttonText:N?"\u767b\u5f55":"\u767b\u5f55/\u6ce8\u518c",confirmInfoBeforeText:"\u540c\u610f"},accountPwdLoginText:{title:"\u5bc6\u7801\u767b\u5f55",accountPlaceholder:"\u624b\u673a\u53f7",accountLabel:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",pwdPlaceholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",confirmInfoBeforeText:"\u540c\u610f"},scanCodeLoginText:{refreshCode:"\u4e8c\u7ef4\u7801\u5df2\u5931\u6548",getCodeFailed:"\u4e8c\u7ef4\u7801\u5df2\u5931\u6548",refreshBtnText:"\u70b9\u51fb\u5237\u65b0",codeFailedBtnText:"\u70b9\u51fb\u5237\u65b0"},passwordResetText:{accountPlaceholder:"\u624b\u673a\u53f7",accountLabel:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",newPwdPlaceholder:"\u65b0\u5bc6\u7801",confirmPwdPlaceholder:"\u5bc6\u7801\u786e\u8ba4",codePlaceholder:"\u9a8c\u8bc1\u7801"},bindConflictText:{title:"",description:"\u68c0\u6d4b\u5230\u6296\u97f3\u6388\u6743\u7684\u624b\u673a\u53f7\u6ce8\u518c\u7684\u897f\u74dc\u8d26\u53f7\u5df2\u7ed1\u5b9a\u53e6\u4e00\u4e2a\u6296\u97f3\u8d26\u53f7\u201c{aweme_conflict_name}\u201d\uff0c\u5b58\u5728\u7ed1\u5b9a\u51b2\u7a81\uff0c\u8bf7\u5728\u4e0b\u65b9\u9009\u62e9\u89e3\u51b3\u65b9\u5f0f",loginBtnText:"\u6362\u7ed1\u5e76\u767b\u5f55",unbindText:"\u89e3\u9664\u7ed1\u5b9a",backToLogin:"\u8fd4\u56de\u91cd\u65b0\u767b\u5f55"},extraText:{otherLoginText:"\u5176\u4ed6\u65b9\u5f0f\uff1a"}},unionLoginPanel:k,linkAreaPosition:"top",loginTab:X,loginOnly:{mobileCode:N},linkList:$,accountType:["mobile"],success:function(){var e=(0,l.Z)(s().mark((function e(n){var t,r,o,i,a,l,c,u,d,m,v,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.currentPage,(0,E.qQ)(b.LocalStorageKeys.LastLoginWay,t),!ce){e.next=13;break}return e.next=5,(0,F.DK)({action_type:1});case 5:r=e.sent,o=r.status_code,i=void 0===o?0:o,a=r.ad_free_right_info,c=(l=void 0===a?{}:a).right_status,u=void 0===c?-1:c,d=l.has_notified,m=void 0===d?0:d,v=(0,B.W)({statusCode:i,rightStatus:u,hasNotified:m}),(p=V.b[v])&&R.F.info({text:p,zIndex:1e4}),Q.Z.sendLog("freeAdStatus",{status:J[v],params_for_special:"uc_login"}),v===V.J.Success?(0,E.qQ)(b.LocalStorageKeys.deviceHaveFreeAd,1):v===V.J.ExpiredNeedTips&&(v=V.J.ExpiredAlreadyTips),W.Le.setConfig(W.gI.FreeAdStatus,{status:v,message:V.b[v]});case 13:f(n),M()((function(){(0,O.h)()}),800);case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),confirm:[{text:"\u7528\u6237\u534f\u8bae",url:"https://www.douyin.com/agreements/?id=6773906068725565448"},{text:"\u9690\u79c1\u653f\u7b56",url:"https://www.douyin.com/agreements/?id=6773901168964798477"}],unsetCheckbox:{accountPwd:1,mobileCode:1,scanCode:1,trusted:1,resetPwd:1},isPwdToMobile:!0,useWrap:k?{mobileCode:!0,accountPwd:!0,scanCode:!1}:{},upSmsRegisterCallback:{showCallback:function(){var e=document.getElementsByClassName("screen-mask");if(0!==e.length){e[0].style.visibility="hidden"}else{var n=document.getElementById("login-pannel");n&&(n.style.visibility="hidden")}},closeCallBack:function(){var e=document.getElementsByClassName("screen-mask");if(0!==e.length){e[0].style.visibility="visible"}else{var n=document.getElementById("login-pannel");n&&(n.style.visibility="hidden")}}},LoginSecondSmsCallback:{showCallback:function(){var e=document.getElementsByClassName("screen-mask");if(0!==e.length){e[0].style.visibility="hidden"}else{var n=document.getElementById("login-pannel");n&&(n.style.visibility="hidden")}},closeCallBack:function(){var e=document.getElementsByClassName("screen-mask");if(0!==e.length){e[0].style.visibility="visible"}else{var n=document.getElementById("login-pannel");n&&(n.style.visibility="hidden")}}}},ae));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ne=ee,te=t(80704),re=t(33389),oe=["success","host","next","enterMethod","headerText","isPage","isActive","onClose","isCanClose","teaEvtParams","disabledABTest","isGuide","isAuto","gearName","clarity","sdkConfig","subTitle","fromLive"],ie={isShowingAccount:!1,isShowingAccountPage:!1,isInAccountPage:!1,accountPageParams:{enterMethod:""}};function ae(e,n){return le.apply(this,arguments)}function le(){return le=(0,l.Z)(s().mark((function e(n,t){var r,c,u,d,f,v,g,L,I,P,D,M,B,O,R,V,F,W,U,H,j,G,K,q,Q,z,Y,J,X,$,ee,re,ae,le,ce,se,ue,de,fe,ve;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.success,c=void 0===r?null:r,u=n.host,d=void 0===u?null:u,f=n.next,v=void 0===f?null:f,g=n.enterMethod,L=void 0===g?"":g,I=n.headerText,P=void 0===I?"":I,D=n.isPage,M=void 0!==D&&D,B=n.isActive,O=void 0===B?"1":B,R=n.onClose,V=void 0===R?null:R,F=n.isCanClose,W=void 0===F||F,U=n.teaEvtParams,H=void 0===U?{}:U,j=n.disabledABTest,void 0!==j&&j,G=n.isGuide,void 0!==G&&G,K=n.isAuto,q=void 0===K?1:K,Q=n.gearName,z=void 0===Q?"":Q,Y=n.clarity,J=void 0===Y?"":Y,X=n.sdkConfig,$=void 0===X?{}:X,ee=n.subTitle,re=n.fromLive,ae=void 0!==re&&re,le=(0,a.Z)(n,oe),e.next=3,(0,te.SJ)();case 3:if(me(),M){e.next=10;break}if(!((ie.isShowingAccount||null!==(ce=document)&&void 0!==ce&&null!==(se=ce.querySelector)&&void 0!==se&&se.call(ce,"#login-pannel"))&&!ae||ae&&ie.isShowingAccount)){e.next=8;break}return null==V||V(),e.abrupt("return",(function(){return null}));case 8:e.next=13;break;case 10:if(!ie.isShowingAccountPage){e.next=13;break}return null==V||V(),e.abrupt("return",(function(){return null}));case 13:return ue=function(e){e.stopPropagation()},W||null===(de=document)||void 0===de||de.addEventListener("keydown",ue,!0),fe="https://p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/login-resetpwd-bg.png",M?ie.isShowingAccountPage=!0:ie.isShowingAccount=!0,ie.isInAccountPage=!1,ve=function(){var e=(0,l.Z)(s().mark((function e(n){var r,o,a,l,u,f,p,g,_,I,D,B,R,F,U,j,G,K,Q,Y,X,re,oe,ae,ce,se,de,me,ve,pe,he;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.loginBgImg,o=void 0===r?fe:r,a=n.freeAdAbValue,l=void 0===a?y.eV.V0:a,u=n.feedbackAb,f=void 0===u?y.Fi.V0:u,p=n.isFirstTrust,g=void 0===p?y.yO.V0:p,_=!1,P?I=P:(D=(0,Z.Kx)(14),B=new Z.Yl({type:"localStorage",key:b.LocalStorageKeys.FreeAdGuideFreq,strategy:A._[l]}),R=B.isInFreq(),!Boolean((0,E.$o)(b.LocalStorageKeys.deviceHaveFreeAd)||0)&&D&&"cold_start_full"===L&&l===y.eV.V4&&R?(I="\u767b\u5f55\u540e\uff0c\u4eab3\u5929\u514d\u5e7f\u544a",_=!0,F=B.getFreq(),U=F.total,j=void 0===U?0:U,G=F.timesOfPerDay,K=void 0===G?0:G,B.setFreq({total:j+1,timesOfPerDay:K+1,lastTime:(new Date).getTime()})):I=m()(Q=["cold_start_full","cold_start","auto","navigation_bar"]).call(Q,L)?"\u767b\u5f55\u540e\u514d\u8d39\u7545\u4eab\u9ad8\u6e05\u89c6\u9891":""),Y=f===y.Fi.V1||f===y.Fi.V2,X=function(){return h.createElement("div",{className:"web-login-scan-desc-text"},h.createElement("div",null,"\u6253\u5f00",h.createElement("span",{className:"web-login-scan-desc-text-sub ".concat(Y?"black":"")},"\u300c\u6296\u97f3APP\u300d"),"\u626b\u63cf\u4e8c\u7ef4\u7801\u767b\u5f55"))},re="login-full-panel-".concat((0,k.D)()),!1,oe=(0,i.Z)((0,i.Z)({},$),{},{isFirstTrust:Boolean(g),onFeedbackClick:function(){C.emit(C.EVENT.loginShowFeedback,{isShow:!0})},feedbackShowTime:f===y.Fi.V1?"always":f===y.Fi.V2?"whileErr":"never"}),e.next=10,ne((0,i.Z)({success:c,host:d,next:v,ScanCodeDescription:X,enterMethod:L,isUnion:false,isActive:O,teaEvtParams:H,isAuto:q,gearName:z,clarity:J,currentUserInfo:(0,E.$o)(b.LocalStorageKeys.UserInfo),isAllowTrust:1===(0,E.$o)(b.LocalStorageKeys.IsAllowTrust),mobileLoginOnly:(0,N.X)(),sdkConfig:oe,isFreeAd:_},le));case 10:return ae=e.sent,ce=document.createElement("div"),se=(0,w.createRoot)(ce),ce.id=re,de=document.body,t?(de=t,t.appendChild(ce)):(me=document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||(0,T.W)(),(0,x.r)()&&me?(de=me,me.appendChild(ce)):document.body.appendChild(ce)),ve=function(){var e;(f!==y.Fi.V1&&f!==y.Fi.V2||C.emit(C.EVENT.loginShowFeedback,{isShow:!1}),document.body.style.overflow="",se.unmount(),de.contains(ce)&&de.removeChild(ce),null==V||V(),W)||(null===(e=document)||void 0===e||e.removeEventListener("keydown",ue))},document.body.style.overflow="hidden",(0,S.IX)(),pe=function(){(0,Z.V7)().closeDialog(re)},he=function(){se.render(h.createElement(te.ZP,{config:ae,destroy:function(){M?ie.isShowingAccountPage=!1:ie.isShowingAccount=!1,pe()},text:I,isPage:M,onClose:V,enterMethod:L,isCanClose:W,loginBgImg:o,subTitle:ee}))},(0,Z.V7)().showDialog({id:re,onShow:he,onClose:ve,rule:"immediately"}),e.abrupt("return",pe);case 23:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p().all([_.h.getVar({name:"login_bg_img",defaultValue:fe}),_.h.getVar({name:"login_free_ad",defaultValue:y.eV.V0}),_.h.getVar({name:"login_add_feedback",defaultValue:y.Fi.V0}),_.h.getVar({name:"is_first_trust",defaultValue:y.yO.V0}),_.h.getVar({name:"push_login_verify",defaultValue:0})]).then((function(e){var n=(0,o.Z)(e,4),t=n[0],r=void 0===t?fe:t,i=n[1],a=void 0===i?y.eV.V0:i,l=n[2],c=void 0===l?y.Fi.V0:l,s=n[3],u=void 0===s?y.yO.V0:s;return ve({loginBgImg:r,freeAdAbValue:a,feedbackAb:c,isFirstTrust:u})})).catch((function(){return ve({loginBgImg:fe,freeAdAbValue:y.eV.V0,feedbackAb:y.Fi.V0,isFirstTrust:y.yO.V0})})),e.abrupt("return",(function(){return null}));case 21:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}function ce(e){ae((0,i.Z)({isPage:!0,next:(0,I.pL)()},e)),ie.accountPageParams=e,ie.isInAccountPage=!0}function se(e){ie.isShowingAccount=!1;var n=ie.isInAccountPage?d()(ce).call(ce,null,ie.accountPageParams):function(){return null};ae((0,i.Z)((0,i.Z)({},e),{},{next:(null==e?void 0:e.next)||(0,I.pL)(),onClose:n}))}function ue(e){ae((0,i.Z)((0,i.Z)({},e),{},{fromLive:!0}))}(0,L.p)()||(window.showAccount=ae);var de=!1,fe=function(){var e=(0,l.Z)(s().mark((function e(n,t,r,o){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:me(),null!==re.n&&void 0!==re.n&&re.n.loginGuideShowed&&re.n.destroy(),ae(n,t);case 3:case"end":return e.stop()}}),e)})));return function(n,t,r,o){return e.apply(this,arguments)}}(),me=function(){var e=document.querySelectorAll(".disturb-login-panel");if(0!==e.length){for(var n=0;n<e.length;n++)e[n]&&g.unmountComponentAtNode(e[n]);C.emit(C.EVENT.showDisturbLoginPanel,!1),de&&(C.emit(C.EVENT.videoRemoveStopPlayNext),de=!1)}}},29774:function(e,n,t){t.d(n,{ju:function(){return C},zk:function(){return T},XR:function(){return x},_v:function(){return S},Kx:function(){return L},Yl:function(){return I},V7:function(){return P}});var r=t(30906),o=t(95508),i=t(19049),a=t(65146),l=t(85792),c=t.n(l),s=t(68493),u=t.n(s),d=t(8e3),f=t.n(d),m=t(56442),v=t.n(m),p=t(21155),h=t.n(p),g=t(28712),w=t(56462),y=t(72603),_=t(71116),b=t(13971),E=t(353),k=(0,g.p)()?null:w.Q;function C(e,n){var t=null,r=!1;c()((function o(){r||(null==e||e(),t=c()(o,n))}),n);return function(){r=!0,t&&clearTimeout(t),t=null}}var N,T=function(e,n){return!!e&&new Date(e).toDateString()===new Date(n).toDateString()},x=function(){var e=(0,y.yW)()||"";return"follow"===e||"friend"===e},S=function(e){return new(u())((function(n){return c()(n,e)}))},L=function(e){var n=(0,_.AQ)(),t=(new Date).getTime()/1e3,r=Math.floor((t-n)/60/60/24);return!!n&&(e?r<=e:new Date(1e3*n).toDateString()===(new Date).toDateString())},I=(0,o.Z)((function e(n){var t=this;(0,i.Z)(this,e),(0,a.Z)(this,"strategy",{}),(0,a.Z)(this,"freq",{}),(0,a.Z)(this,"key",""),(0,a.Z)(this,"type","localStorage"),(0,a.Z)(this,"getFreq",(function(){return t.freq})),(0,a.Z)(this,"setFreq",(function(e){var n=(0,r.Z)((0,r.Z)({},t.freq),e);t.freq=n,"cookie"!==t.type?(0,b.qQ)(t.key,n):k&&k.setItem(t.key,n,E.COOKIE_DEFAULT_EXPIRE_DURATION,"/",E.COOKIE_DOMAIN,"")})),(0,a.Z)(this,"isInFreq",(function(){var e=t.freq||{},n=e.total,r=void 0===n?0:n,o=e.timesOfPerDay,i=void 0===o?0:o,a=e.lastTime,l=void 0===a?0:a,c=t.strategy||{},s=c.total,u=void 0===s?0:s,d=c.timesOfPerDay,f=void 0===d?0:d;if(r<u){var m=(new Date).getTime(),v=T(l,m);return!!(v&&i<f)||!v&&(t.setFreq({lastTime:m,timesOfPerDay:0}),!0)}return!1}));var o=n.key,l=void 0===o?"":o,c=n.strategy,s=void 0===c?{}:c,u=n.type,d=void 0===u?"localStorage":u;this.strategy=s,this.key=l,this.type=d,this.freq=function(e){var n=e.type,t=void 0===n?"localStorage":n,r=e.key,o=void 0===r?"":r;return"cookie"===t?k&&k.getItem({sKey:o})||{}:(0,b.$o)(o)||{}}({type:d,key:l})||{}})),Z=function(e){return e.InOrder="inOrder",e.Immediately="immediately",e}(Z||{}),A=(0,o.Z)((function e(){var n=this;(0,i.Z)(this,e),(0,a.Z)(this,"showingQueue",[]),(0,a.Z)(this,"waitingQueue",[]),(0,a.Z)(this,"showDialog",(function(e){var t=e.rule;if((void 0===t?Z.InOrder:t)===Z.Immediately)return n.showingQueue.push(e),void e.onShow();0===n.showingQueue.length?(n.showingQueue.push(e),e.onShow()):n.waitingQueue.push(e)})),(0,a.Z)(this,"closeDialog",(function(e){var t;n.showingQueue=f()(t=n.showingQueue).call(t,(function(n,t){return n.id!==e||(n.onClose(),!1)})),n.showNext()})),(0,a.Z)(this,"showNext",(function(){if(n.waitingQueue.length>0){var e,t=n.waitingQueue[0];n.waitingQueue=v()(e=n.waitingQueue).call(e,1),t.onShow(),n.showingQueue.push(t)}})),(0,a.Z)(this,"clear",(function(){var e;n.waitingQueue=[],h()(e=n.showingQueue).call(e,(function(e,n){e.onClose()})),n.showingQueue=[]}))})),P=function(){return N||(N=(0,g.p)()?null:new A)}},51078:function(e,n,t){t.d(n,{q:function(){return d}});var r=t(65146),o=t(32781),i=t(85792),a=t.n(i),l=t(53864),c=t(79705),s=t.n(c),u={avatarIcon:"BXCYEFpt",avatar:"F55pZYYH",image:"PbpHcHqa",live:"hidFvG2l",extraExtraExtraSmall:"LI_QQRBx",extraExtraSmall:"dq39KdYi",extraSmall:"zzYG7dwz",small:"MtWaibfJ",default:"QsTz7P83",showOverflow:"qTgJQqwp",self:"XMvzRCvu",pendant:"ScZNxJWS"};function d(e){var n,t=e.type,i=void 0===t?"default":t,c=e.src,d=e.alt,f=void 0===d?"":d,m=e.isSpider,v=void 0!==m&&m,p=e.isSelf,h=void 0!==p&&p,g=e.showImageInSSR,w=void 0!==g&&g,y=e.className,_=e.defaultClassName,b=e.imgClassName,E=e.maskConf,k=e.onMouseEnter,C=e.onMouseLeave,N=e.onClick,T=e.children,x=(0,l.useState)(0),S=(0,o.Z)(x,2),L=S[0],I=S[1],Z=c&&(1===L||v||w),A=E||{},P=A.showMask,D=A.MaskItem,M=A.className,B=function(){return I(1)};return(0,l.useEffect)((function(){var e=!1,n=new Image;n.onload=function(){e||(e=!0,B(),n=null)},n.onerror=function(){e||(e=!0,I(-1),n=null)};var t=a()((function(){e=!0,B()}),3e3);return n.src=globalThis.xssNamespace.douyin_web.filterUrl(c,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),function(){n&&(n.onload=null,n.onerror=null),clearTimeout(t)}}),[c]),l.createElement("div",{className:s()(u.avatar,u[i],"avatar-component-avatar-container",(n={},(0,r.Z)(n,y,y),(0,r.Z)(n,u.self,h),n)),onMouseEnter:k,onMouseLeave:C,"data-e2e":"live-avatar",onClick:N},P?l.createElement(D,{className:M}):null,Z?l.createElement("img",{src:globalThis.xssNamespace.douyin_web.filterUrl(c,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:f,className:s()(u.image,b),onError:function(){return I(-1)},onLoad:B}):l.createElement("div",{className:s()(u[i],u.avatarIcon,(0,r.Z)({},y,_))}),T)}},54516:function(e,n,t){t.d(n,{n:function(){return y},t:function(){return w}});var r=t(65146),o=t(30906),i=t(53864),a=t(79705),l=t.n(a),c=t(90037),s=t(97921),u=t(16437),d=t(29171),f=t(75203),m=t(55610),v=t(79784),p={avatarContainer:"QecmPpxX",isFirstLive:"JgxT_z8s",avatarBorder:"X0v0tibw",avatarBorderAnimation:"huP9OS34","first-live-cover-border-scale-animation":"xyb6OqsT","cover-border-scale-animation":"aKbSlHZH",avatar:"RUVTDzAp","cover-animation":"sBNZrvc_",liveTag:"LrQqtaiB",liveTagText:"w4SksZun",xsmall:"TEfudMm7",liveTagInner:"XQ9v_nAP",liveTagInnerImg:"LkrPIgdh",small:"TrKWAgc9",large:"nGtv725p",push:"IpUDli_q",hideAnimation:"tJqdBHbQ"},h=new(t(13795).hD)({livesdkLiveShow:{eventName:"livesdk_live_show",params:{enter_from_merge:"",enter_method:"web_video_head",action_type:"",request_id:"",is_vs:0,vs_episode_id:"",vs_ep_group_id:"",vs_season_id:"",vs_episode_stage:"",anchor_id:"",room_id:"",video_id:"",cid:0,if_qianchuan_ad:0,ad_type:-1,stream_type:""}},livesdkRecLivePlay:{eventName:"livesdk_rec_live_play",params:{anchor_id:"",room_id:"",enter_from_merge:"",enter_method:"web_video_head",game_name:"",live_type:"",is_aweme_tied:0,game_live_source:"",url:"",url_path:"",action_type:"click",request_id:"",is_vs:0,vs_episode_id:"",vs_ep_group_id:"",vs_season_id:"",vs_episode_stage:"",cid:0,if_qianchuan_ad:0,ad_type:-1,stream_type:""}}}),g=t(77060);function w(){var e,n,t,r,i,a,l,u=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",d=arguments.length>1?arguments[1]:undefined,f=arguments.length>2?arguments[2]:undefined,m=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0,p=arguments.length>4&&arguments[4]!==undefined&&arguments[4],g=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};if(d){var w=null==f?void 0:f.episodeExtra,y={};p&&(y={EVENT_ORIGIN_FEATURE:"TEMAI"}),h.sendLog("livesdkRecLivePlay",(0,o.Z)((0,o.Z)((0,o.Z)({},y),g),{},{cid:m,if_qianchuan_ad:m?1:0,ad_type:m?c.Z9.Live:undefined,enter_from_merge:d.enter_from_merge,enter_method:d.enter_method||"web_video_head",anchor_id:u,room_id:d.room_id,live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname,request_id:null!==(e=null==f?void 0:f.logId)&&void 0!==e?e:"",stream_type:null!==(n=v.LIVE_STREAM_TYPE[null==f?void 0:f.streamType])&&void 0!==n?n:"other",is_vs:w?1:0,vs_episode_id:w?null==f||null===(t=f.episodeExtra)||void 0===t?void 0:t.episode_id_str:"",vs_ep_group_id:w?null==f||null===(r=f.episodeExtra)||void 0===r?void 0:r.item_id:"",vs_season_id:w?null==f||null===(i=f.episodeExtra)||void 0===i?void 0:i.season_id_str:"",vs_episode_stage:w?(null==f||null===(a=f.episodeExtra)||void 0===a||null===(l=a.mod)||void 0===l?void 0:l.episode_stage)===s.W.FirstLive?"premiere":"live":""}))}}function y(e){var n,t=e.type,a=void 0===t?"normal":t,y=e.src,_=e.alt,b=void 0===_?"":_,E=e.uid,k=void 0===E?"":E,C=e.liveRoomUrl,N=e.isNeedSeoOpt,T=void 0!==N&&N,x=e.isNeedSendLog,S=void 0!==x&&x,L=e.liveRoomParam,I=void 0===L?{logId:""}:L,Z=e.isShow,A=void 0===Z||Z,P=e.isFirstLive,D=void 0!==P&&P,M=e.onClick,B=void 0===M?function(){}:M,O=e.groupId,R=e.disableBorderAnim,V=void 0!==R&&R,F=e.className,W=e.onMouseOver,U=void 0===W?function(){}:W,H=e.cid,j=void 0===H?0:H,G=e.adType,K=e.isEcomLive,q=e.paidLiveParams,Q=void 0===q?{}:q,z=(0,i.useMemo)((function(){return"String"!==(0,u.tQ)(C)?null:(0,d.D)(C.split("?",2)[1])}),[C]),Y=(0,i.useRef)(!1),J=(0,i.useRef)(null),X=(0,i.useCallback)((function(e){B(e),S&&w(k,z,I,j,K,Q)}),[S,B,k,z,I,j]);return(0,i.useEffect)((function(){if(z&&null!=I&&I.logId&&!Y.current&&A){var e,n,t,r,i,a,l=null==I?void 0:I.episodeExtra,u={};K&&(u={EVENT_ORIGIN_FEATURE:"TEMAI"}),h.sendLog("livesdkLiveShow",(0,o.Z)((0,o.Z)((0,o.Z)({},u),Q),{},{cid:j,if_qianchuan_ad:G===c.Z9.Live||G===c.Z9.ShopVideo?1:0,ad_type:G,anchor_id:k,room_id:z.room_id,action_type:z.action_type,enter_from_merge:z.enter_from_merge,enter_method:z.enter_method,request_id:null==I?void 0:I.logId,stream_type:null!==(e=v.LIVE_STREAM_TYPE[null==I?void 0:I.streamType])&&void 0!==e?e:"other",video_id:O,is_vs:l?1:0,vs_episode_id:l?null==I||null===(n=I.episodeExtra)||void 0===n?void 0:n.episode_id_str:"",vs_ep_group_id:l?null==I||null===(t=I.episodeExtra)||void 0===t?void 0:t.item_id:"",vs_season_id:l?null==I||null===(r=I.episodeExtra)||void 0===r?void 0:r.season_id_str:"",vs_episode_stage:l?(null==I||null===(i=I.episodeExtra)||void 0===i||null===(a=i.mod)||void 0===a?void 0:a.episode_stage)===s.W.FirstLive?"premiere":"live":""})),Y.current=!0}}),[I,A]),i.createElement(g.a,{href:globalThis.xssNamespace.douyin_web.filterUrl(C,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),isNeedSeoOpt:T,target:"_blank",refEl:J,rel:"noopener noreferrer",className:l()(F),onClick:X,onMouseOver:U},i.createElement("div",{className:l()(p.avatarContainer,(n={},(0,r.Z)(n,p.isFirstLive,D),(0,r.Z)(n,p.small,"small"===a),(0,r.Z)(n,p.xsmall,"xsmall"===a),(0,r.Z)(n,p.large,"large"===a),(0,r.Z)(n,p.push,"push"===a),n))},i.createElement("img",{className:p.avatar,src:globalThis.xssNamespace.douyin_web.filterUrl(y,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:b}),i.createElement("div",{className:p.avatarBorder}),i.createElement("div",{className:l()(p.avatarBorder,p.avatarBorderAnimation,(0,r.Z)({},p.hideAnimation,V))}),"small"!==a&&"push"!==a&&"xsmall"!==a?i.createElement("div",{className:p.liveTag},i.createElement("span",{className:p.liveTagText,"data-e2e":"user-info-living"},D?"\u9996\u64ad\u4e2d":"\u76f4\u64ad\u4e2d")):i.createElement("div",{className:p.liveTagInner},i.createElement("img",{className:p.liveTagInnerImg,src:globalThis.xssNamespace.douyin_web.filterUrl(D?m:f,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:"LiveIcon"}))))}},58585:function(e,n,t){t.d(n,{Z:function(){return O}});var r=t(65146),o=t(56442),i=t.n(o),a=t(34346),l=t.n(a),c=t(53864),s=t(79705),u=t.n(s),d=t(79297),f=t(55305),m="eMILp7VW",v="ZPb9HNlR",p="EC6NgmS6",h="yJ1mwEDn",g="pkkxrNjW",w=new(t(13795).hD)({fastLiveHeadClickMore:{eventName:"fast_live_head_click_more",params:{entrance_type:"",hover_show_cnt:0}},fastLiveHeadShow:{eventName:"fast_live_head_show",params:{entrance_type:"",anchor_id:"",room_id:"",show_type:""}}}),y=t(30906),_=t(32781),b=t(8e3),E=t.n(b),k=t(50182),C=t(96716),N=t(56920),T=t(61897),x=t(16016),S=t(16437),L=t(29171),I=t(97876),Z=t(73596),A="mKmy67CK",P="r0bIPW50",D="F_oxBtrC",M=t(54516),B=function(e){var n,t,r=e.data,o=e.logParams,i=e.abTestData,a=e.liveList,s=e.index,u=e.defaultShowCount,d=e.isInDouyinWeb,f=(0,k.Z)(),m=(0,_.Z)(f,2),v=m[0],p=m[1],h=(0,C.x)((function(){w.sendLog("fastLiveHeadShow",{entrance_type:o.entrance_type,anchor_id:null==r?void 0:r.anchorId,room_id:null==r?void 0:r.roomId,show_type:"hover"})})),g=(0,x.cc)((0,y.Z)({web_rid:null==r?void 0:r.webRid,room_id:null==r?void 0:r.roomId,action_type:"click"},o)),b={episodeExtra:null==r?void 0:r.episodeExtra,logId:"0"},B=(0,c.useMemo)((function(){return"String"!==(0,S.tQ)(g)?null:(0,L.D)(g.split("?",2)[1])}),[g]),O=(0,c.useCallback)((function(){return(0,y.Z)((0,y.Z)({},o),{},{show_rank:"".concat(s+1),show_cnt:u})}),[o,u,s]),R=(0,c.useMemo)((function(){var e,n,t,o,a=1159===(null==r||null===(e=r.episodeExtra)||void 0===e||null===(n=e.main_camera_match_info)||void 0===n||null===(t=n.league_info)||void 0===t?void 0:t.league_id),l=Number(null==r||null===(o=r.paidLiveData)||void 0===o?void 0:o.paid_type);return d&&!a&&!l&&((null==i?void 0:i.liveModalFullplayer)===N.if.WithoutAction||(null==i?void 0:i.liveModalFullplayer)===N.if.DynamicBg||(null==i?void 0:i.liveModalFullplayer)===N.if.EntranceStrengthen||(null==i?void 0:i.liveModalFullplayer)===N.if.Normal)}),[r,null==i?void 0:i.liveModalFullplayer,d]),V=(0,c.useCallback)((function(){I.emit(I.EVENT.videoPause),I.emit(I.EVENT.livePause),I.emit(I.EVENT.searchMusicPause)}),[]);return c.createElement("div",{ref:v},c.createElement("div",{ref:h},c.createElement(T.a,{href:globalThis.xssNamespace.douyin_web.filterUrl(g,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),rel:"noopener noreferrer",target:"_blank",className:A,onClick:function(e){(0,M.t)(null==r?void 0:r.anchorId,B,b,0,null==r?void 0:r.isEcomLive),function(e){var n,t;V(),R&&(null==e||e.preventDefault(),I.emit(I.EVENT.liveModalShow,{type:"liveFollowList",data:{webRid:null==r?void 0:r.webRid,roomId:null==r?void 0:r.roomId,anchorId:null==r?void 0:r.anchorId},liveFollowList:null==a||null===(n=E()(a).call(a,(function(e){var n,t,r;return 1159!==(null==e||null===(n=e.episodeExtra)||void 0===n||null===(t=n.main_camera_match_info)||void 0===t||null===(r=t.league_info)||void 0===r?void 0:r.league_id)})))||void 0===n||null===(t=E()(n).call(n,(function(e){var n;return!(null!=e&&null!==(n=e.paidLiveData)&&void 0!==n&&n.paid_type)})))||void 0===t?void 0:l()(t).call(t,(function(e){return{webRid:e.webRid,roomId:e.roomId,anchorId:e.anchorId}})),enterMethod:Z.a.FOLLOW_TOP,teaLogParams:(0,y.Z)({},O())}))}(e)}},c.createElement(M.n,{isEcomLive:null==r?void 0:r.isEcomLive,isShow:p,src:globalThis.xssNamespace.douyin_web.filterUrl(null==r?void 0:r.coverSrc,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:P,uid:null==r?void 0:r.anchorId,type:"xsmall",isFirstLive:2===(null==r||null===(n=r.episodeExtra)||void 0===n||null===(t=n.mod)||void 0===t?void 0:t.episode_stage),liveRoomUrl:g,liveRoomParam:b}),c.createElement("div",{className:D},null==r?void 0:r.userName))))},O=function(e){var n=e.liveList,t=void 0===n?[]:n,o=e.hasLimit,a=e.loading,s=e.logParams,y=e.abTestData,_=e.isInDouyinWeb,b=o?i()(t).call(t,0,3):t,E=b.length<6?b.length:5,k=(0,c.useRef)();return(0,c.useEffect)((function(){var e=function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()},n=k.current,t=o||b.length<5;return t&&(null==n||n.addEventListener("wheel",e)),function(){t&&(null==n||n.removeEventListener("wheel",e))}}),[o]),c.createElement("div",{ref:k,className:u()(p,m,(0,r.Z)({},g,!o))},a?c.createElement(f.g,{className:v}):c.createElement("div",null,l()(b).call(b,(function(e,n){return c.createElement(B,{key:e.anchorId,data:e,logParams:s,index:n,abTestData:y,liveList:t,defaultShowCount:E,isInDouyinWeb:_})})),o&&c.createElement(d.rU,{className:h,to:"/follow",onClick:function(){w.sendLog("fastLiveHeadClickMore",{entrance_type:s.entrance_type,hover_show_cnt:t.length})}},"\u67e5\u770b\u66f4\u591a")))}},95138:function(e,n,t){t.d(n,{zx:function(){return v},qE:function(){return f},L$:function(){return m}});var r=t(65902),o=t(30906),i=t(65146),a=t(67161),l=t(53864),c=t(79705),s=t.n(c),u={button:"B10aL8VQ",small:"gPRZQy7u",fixed:"ODGbpnws",normal:"s6mStVxD",large:"oAtLbey6",primary:"vMQD6aai",border:"vk7WaOg_",secondary:"cFQVxkEQ",ghost:"uLcV3IR8"},d=["size","type","children","autoFixed","className","width","style","theme","disabled"],f=function(e){return e.small="small",e.normal="normal",e.large="large",e}({}),m=function(e){return e.primary="primary",e.secondary="secondary",e}({});function v(e){var n=e.size,t=void 0===n?"normal":n,c=e.type,f=void 0===c?"primary":c,m=e.children,v=e.autoFixed,p=void 0===v||v,h=e.className,g=e.width,w=e.style,y=e.theme,_=void 0===y?"solid":y,b=e.disabled,E=void 0!==b&&b,k=(0,a.Z)(e,d);return l.createElement("button",(0,r.Z)({type:"button",disabled:E,className:s()(u.button,u[t],u[f],u[_],(0,i.Z)({},u.fixed,!p),h),style:(0,o.Z)({width:g&&"".concat(g,"px")},w)},k),m)}},34568:function(e,n,t){t.d(n,{y:function(){return f},Z:function(){return m}});var r=t(53864),o=t(79705),i=t.n(o),a="SqeFYoiC",l="mkUxw4US",c="IpuZKQ1K",s="t0N_nLFy",u="SRFKvhkS",d="hOtRX_FH",f=function(e){var n={transform:"rotate(-135deg)"},t={transform:"rotate(-135deg)"},o=e.percent||0;return o<=50?(t.transform="rotate(-135deg)",n.transform="rotate(".concat(3.6*o-135,"deg")):(n.transform="rotate(45deg)",t.transform="rotate(".concat(3.6*(o-50)-135,"deg")),r.createElement("div",{className:a},r.createElement("div",{className:l}),r.createElement("div",{className:i()(c,s)},r.createElement("div",{className:i()(d,s),style:n})),r.createElement("div",{className:i()(c,u)},r.createElement("div",{className:i()(d,u),style:t})))},m=f},43646:function(e,n,t){t.d(n,{S:function(){return ae}});var r,o,i,a,l=t(64408),c=t(32781),s=t(65146),u=t(60260),d=t.n(u),f=t(5594),m=t.n(f),v=t(43332),p=t.n(v),h=t(85792),g=t.n(h),w=t(94090),y=t.n(w),_=t(11227),b=t.n(_),E=t(53864),k=t(79705),C=t.n(k),N=t(40032),T=t(77386),x=t.n(T),S=t(84173),L=t.n(S),I=t(96404),Z=t.n(I),A=t(68595),P=t.n(A),D=t(34452),M=t(21518),B=t(97876),O=t(5611),R=t(78384),V=t(32711),F="sHURmIt0",W="_84aO2W5",U="XSkSf8iC",H="uH0g_l72",j="dVvPAX88",G="YXT6HaTO",K="r3XMNBZ8",q="mCBsYvv8",Q=t(95138),z=t(34568),Y=t(31554),J=function(e,n){var t=p().createObjectURL(new Blob([e])),r=document.createElement("a");r.href=globalThis.xssNamespace.douyin_web.filterUrl(t,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r)},X="show",$="progress",ee="fail",ne="success",te=(r={},(0,s.Z)(r,ne,"\u4e0b\u8f7d\u5b8c\u6210\uff0c\u8bf7\u5b89\u88c5\u65b0\u7248\u672c"),(0,s.Z)(r,ee,"\u5b89\u88c5\u5305\u4e0b\u8f7d\u5931\u8d25"),(0,s.Z)(r,"Default","\u7248\u672c\u8fc7\u4f4e\uff0c\u8bf7\u5347\u7ea7\u81f3\u65b0\u7248\u672c\u540e\u4f7f\u7528"),r),re=(o={},(0,s.Z)(o,ne,"\u8bf7\u6253\u5f00\u4e0b\u8f7d\u7684\u5b89\u88c5\u5305\u5b89\u88c5"),(0,s.Z)(o,"Default","\u65b0\u7248\u672c\u6709\u91cd\u8981\u66f4\u65b0\uff0c\u5927\u5e45\u4f18\u5316\u4e86\u5361\u987f\u3001\u5d29\u6e83\u7b49\u6027\u80fd\u95ee\u9898\uff0c\u89c2\u770b\u4f53\u9a8c\u66f4\u6d41\u7545"),o),oe=function(e){var n,t,r=e.file,o=e.allowDownload,l=(0,E.useState)(X),s=(0,c.Z)(l,2),u=s[0],f=s[1],m=(0,E.useState)(),v=(0,c.Z)(m,2),p=v[0],h=v[1],w=(0,E.useState)(0),_=(0,c.Z)(w,2),b=_[0],k=_[1],N=(0,E.useRef)(),T=null===(n=r.url)||void 0===n||null===(t=n.split("/"))||void 0===t?void 0:t.pop(),S=function(){try{var e;null===(e=a)||void 0===e||e()}catch(n){}},I=function(){clearTimeout(i)},A=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;I(),100!==e&&(i=g()((function(){f(ee),S()}),3e4))};(0,E.useEffect)((function(){var e,n,t,r,o=function(e){e.stopPropagation()};return null===(e=document)||void 0===e||e.addEventListener("keydown",o,!0),null===(n=document)||void 0===n||n.addEventListener("wheel",o,!0),null!==(t=document)&&void 0!==t&&null!==(r=t.body)&&void 0!==r&&r.style&&(document.body.style.overflow="hidden"),function(){document.removeEventListener("keydown",o,!0),document.removeEventListener("wheel",o,!0),I(),S()}}),[]);var P=d()((function(e){var n,t="".concat(Math.round(r.size/1024/1024),"MB"),o=null==e?void 0:e.loaded,i=(null==e?void 0:e.total)||r.size||1,a=Math.min(Math.round(o/i*100),100);k(a),h(y()(n="\u4e0b\u8f7d\u4e2d ".concat(t,"/")).call(n,a,"%")),A(a)}),200),D=function(){var e,n,t;N.current?J(N.current,T):(A(),f($),(e=r.url,n=P,t=x().CancelToken.source(),a=t.cancel,x()({url:e,method:"GET",responseType:"arraybuffer",cancelToken:t.token,onDownloadProgress:function(e){n(e)}})).then((function(e){!function(e,n){try{return L()(Z().create(e)).toString()===n}catch(t){return!1}}(null==e?void 0:e.data,r.hash)?f(ee):(N.current=e.data,J(N.current,T),f(ne)),I()})).catch((function(e){f(ee),I()})))},M=function(){window.open("https://www.douyin.com/downloadpage","_blank")};return E.createElement("div",{className:F},E.createElement("div",{className:W},E.createElement("div",{className:U}),E.createElement("div",{className:H},E.createElement("div",{className:j},te[u]||te.Default),E.createElement("div",{className:G},re[u]||re.Default),o&&u===X&&E.createElement(Q.zx,{className:K,onClick:D},"\u4e0b\u8f7d\u65b0\u7248\u672c\u5b89\u88c5\u5305"),u===$&&E.createElement(Q.zx,{className:C()(K),disabled:!0},E.createElement(z.y,{percent:b}),p?E.createElement("div",{className:q},p):null),u===ee&&E.createElement(Q.zx,{className:K,onClick:M},"\u53bb\u6d4f\u89c8\u5668\u4e0b\u8f7d"),u===ne&&E.createElement(Q.zx,{className:K,onClick:D},"\u91cd\u65b0\u4e0b\u8f7d"),!o&&E.createElement(Q.zx,{className:K,onClick:M},"\u53bb\u6d4f\u89c8\u5668\u4e0b\u8f7d"))))},ie=null,ae=function(){var e=function(){var e=(0,l.Z)(m().mark((function e(){var n,t,r,o,i,a,l,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,O.DT)()){e.next=12;break}return e.next=3,P().app.getVersion();case 3:return o=e.sent,i=null==o||null===(n=o.data)||void 0===n?void 0:n.version,e.next=7,D.U2({key:M.TccKey.ClientForceUpdateConfig,defaultValue:M.TCC_DEFAULT_VALUE_MAP.get(M.TccKey.ClientForceUpdateConfig)});case 7:a=e.sent,l={url:"",size:0,hash:""},(0,R.Q5)()&&!(0,O.xo)()&&null!==(t=a.macVersion)&&void 0!==t&&b()(t).call(t,i)&&(l.url=a.macDownloadUrl,l.size=a.macDownloadSize,l.hash=a.macDownloadHash),!(0,R.Q5)()&&null!==(r=a.winVersion)&&void 0!==r&&b()(r).call(r,i)&&(l.url=a.winDownloadUrl,l.size=a.winDownloadSize,l.hash=a.winDownloadHash),l.url&&(c=i&&(0,V.y)(i,"<=","1.4.0"),s={file:l,allowDownload:c},ie||(Y.loginPanelInfo.isShowingAccount=!0,window.__CLIENT_FORCE_UPDATE__=!0,B.emitAfterListen(B.EVENT.videoPause),B.emitAfterListen(B.EVENT.livePause),ie=document.createElement("div"),document.body.appendChild(ie),(0,N.createRoot)(ie).render(E.createElement(oe,s))));case 12:case"end":return e.stop()}var s}),e)})));return function(){return e.apply(this,arguments)}}();return(0,E.useEffect)((function(){e()}),[]),null}},66028:function(e,n,t){t.d(n,{k:function(){return a}});var r=t(53864),o=t(91287),i=t(51365),a=function(e){var n=e.fallback,t=e.beforeCapture,a=e.onError,l=e.componentName,c=e.children,s=e.Slardar,u=(0,r.useCallback)((function(e,n){var t;i.oe.event.error({name:i.Mo.ComponentErrorBoundary,report:{message:e.message,stack:null!==(t=e.stack)&&void 0!==t?t:"",componentStack:n.toString(),componentName:l}}),null==a||a(e,n)}),[]);return s?r.createElement(o.SV,{fallback:n,onError:u,beforeCapture:t,Slardar:s||i.oe.getSlardarInstance()},c):r.createElement(r.Fragment,null,c)}},4163:function(e,n,t){t.d(n,{o:function(){return Ut}});var r,o=t(65902),i=t(64408),a=t(30906),l=t(30673),c=t(32781),s=t(65146),u=t(88021),d=t.n(u),f=t(5594),m=t.n(f),v=t(94090),p=t.n(v),h=t(34346),g=t.n(h),w=t(88743),y=t.n(w),_=t(52249),b=t.n(_),E=t(11227),k=t.n(E),C=t(26447),N=t.n(C),T=t(90457),x=t.n(T),S=t(53361),L=t.n(S),I=t(8369),Z=t.n(I),A=t(7943),P=t.n(A),D=t(79705),M=t.n(D),B=t(53864),O=t(21518),R=t(76335),V=t(56920),F=t(8939),W=t(50799),U=t(71116),H=t(72603),j=t(15909),G=t(28712),K=t(16016),q=t(5611),Q=t(32711),z=t(63320),Y=t(94556),J="n9PPTk22",X="N_HNXA04",$="gtbObvwD",ee="JVPLvXh3",ne="JsnJzo_w",te="eSxOflMd",re="HQwsRJFy",oe="RzBzzWsU",ie="Bo1o4KGi",ae="aLqVEhhA",le="XFvPYpcw",ce="iViO9oMI",se="BmcsyffA",ue="kQ2JnIMK",de="S9ST96Zy",fe="YrFhKzRI",me="pi5uYseT",ve="NPFHI9Rb",pe="gaIgCiUy",he=t(67321),ge=t(67330),we=t(92281),ye=t(92371),_e=[{url:"https://www.douyin.com/friend_links",title:"\u53cb\u60c5\u94fe\u63a5"},{url:"https://www.douyin.com/htmlmap/hotauthor_0_1",title:"\u7ad9\u70b9\u5730\u56fe"}],be=p()(r=[{url:"https://www.oceanengine.com/resource/douyin",title:"\u5e7f\u544a\u6295\u653e"},{url:"https://www.douyin.com/agreements/?id=6773906068725565448",title:"\u7528\u6237\u670d\u52a1\u534f\u8bae",needExtraParams:!0},{url:"https://www.douyin.com/agreements/?id=6773901168964798477",title:"\u9690\u79c1\u653f\u7b56",needExtraParams:!0},{url:"https://www.douyin.com/recovery_account/",title:"\u8d26\u53f7\u627e\u56de"},{url:"https://www.douyin.com/aboutus/#contact",title:"\u8054\u7cfb\u6211\u4eec"},{url:"https://www.douyin.com/aboutus/#join",title:"\u52a0\u5165\u6211\u4eec"},{url:"https://www.douyin.com/business_license/",title:"\u8425\u4e1a\u6267\u7167"}]).call(r,_e,[{url:"https://www.douyin.com/downloadpage",title:"\u4e0b\u8f7d\u6296\u97f3"},{url:"https://mix.jinritemai.com/falcon/mix_page/index.html?__live_platform__=webcast&allowMediaAutoPlay=1&enter_from=others&hide_nav_bar=1&hide_system_video_poster=1&id=7117178766052294949&origin_type=others&should_full_screen=1&trans_status_bar=1&ttwebview_extension_mixrender=1&hide_nav_bar=1&should_full_screen=1&trans_status_bar=1&web_bg_color=#ffffffff",title:"\u6296\u97f3\u7535\u5546"}]),Ee=[[{title:"".concat((new Date).getFullYear()," \xa9 \u6296\u97f3")},{url:"https://beian.miit.gov.cn/",title:"\u4eacICP\u590716016397\u53f7-3"},{icon:"//p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/emblem.png",url:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11000002002046",title:"\u4eac\u516c\u7f51\u5b89\u5907 11000002002046\u53f7"},{url:"https://lf3-static.bytednsdoc.com/obj/eden-cn/uhbrpzps/douyin_license_online/radio_tv_license.jpg",title:"\u5e7f\u64ad\u7535\u89c6\u8282\u76ee\u5236\u4f5c\u7ecf\u8425\u8bb8\u53ef\u8bc1"},{url:"https://p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/zengzhixuke.jpeg",title:"\u4eacB2-20170846"},{url:"https://lf3-static.bytednsdoc.com/obj/eden-cn/uhbrpzps/douyin_license_online/internet_culture_management.jpg",title:"\u7f51\u7edc\u6587\u5316\u8bb8\u53ef\u8bc1-\u4eac\u7f51\u6587-\uff082022\uff090938-030\u53f7"},{title:"\u4e92\u8054\u7f51\u5b97\u6559\u4fe1\u606f\u670d\u52a1\u8bb8\u53ef\u8bc1 \u4eac\uff082022\uff090000057"},{title:"\u836f\u54c1\u533b\u7597\u5668\u68b0\u7f51\u7edc\u4fe1\u606f\u670d\u52a1\u5907\u6848  \uff08\u4eac\uff09\u7f51\u836f\u68b0\u4fe1\u606f\u5907\uff082023\uff09\u7b2c00318\u53f7"}],[{url:"https://www.piyao.org.cn/yybgt/index.htm",title:"\u7f51\u7edc\u8c23\u8a00\u66dd\u5149\u53f0"},{url:"https://www.12377.cn/",title:"\u7f51\u4e0a\u6709\u5bb3\u4fe1\u606f\u4e3e\u62a5"},{title:"\u8fdd\u6cd5\u548c\u4e0d\u826f\u4fe1\u606f\u4e3e\u62a5 400-140-2108"},{title:"\u9752\u5c11\u5e74\u5b88\u62a4\u4e13\u7ebf 400-9922-556"},{title:"\u7b97\u6cd5\u63a8\u8350\u4e13\u9879\u4e3e\u62a5 sfjubao@bytedance.com"},{title:"\u7f51\u7edc\u5185\u5bb9\u4ece\u4e1a\u4eba\u5458\u8fdd\u6cd5\u8fdd\u89c4\u884c\u4e3a\u4e3e\u62a5 feedback@douyin.com"}]],ke="NRSpjbcb",Ce="wQmC940F",Ne="yA0rrc2M",Te="o1h2uP_i",xe="YfdKaFoj",Se="h9hROuDG",Le="eb9O5iw_",Ie="XqQpcdUx",Ze=t(13795),Ae=new Ze.hD({pageClick:{eventName:"page_click",params:{click_position:"site_map"}}}),Pe=t(77060),De=(0,B.memo)((function(e){var n=e.links;return B.createElement("div",{className:Ne},g()(n).call(n,(function(e,n){var t=e.url;return B.createElement("div",{key:"link_".concat(n),className:xe},e.url?B.createElement(Pe.a,{href:globalThis.xssNamespace.douyin_web.filterUrl(t,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),onClick:function(n){if("\u7ad9\u70b9\u5730\u56fe"===e.title){var r,o,i,a,l,c,s,u,d,f=t,m=ge.parse(null!==(r=null===(o=window)||void 0===o||null===(i=o.location)||void 0===i?void 0:i.search)&&void 0!==r?r:"");m.from=null===(a=window)||void 0===a||null===(l=a.location)||void 0===l?void 0:l.pathname,null!==(c=window)&&void 0!==c&&null!==(s=c.location)&&void 0!==s&&k()(u=s.href).call(u,we.LIVE_DOMAIN)&&(m.from="live"),f+="".concat(decodeURIComponent("?".concat(ge.stringify(m)))),null===(d=window)||void 0===d||d.open(f,"_blank"),Ae.sendLog("pageClick"),n.preventDefault()}},target:"_blank",rel:"noopener noreferrer ".concat((0,ye.P)(e.title)),isNeedSeoOpt:!(null!=e&&e.needExtraParams)},e.title):B.createElement("span",null,e.title))})))})),Me=(0,B.memo)((function(e){var n=e.sublink;return B.createElement("div",{className:Se},n.url?B.createElement(Pe.a,{href:globalThis.xssNamespace.douyin_web.filterUrl(n.url,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),target:"_blank",rel:"noopener noreferrer"},n.icon&&B.createElement("img",{className:Le,src:globalThis.xssNamespace.douyin_web.filterUrl(n.icon,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:"icon"}),n.title):B.createElement("span",null,n.title))})),Be=(0,B.memo)((function(e){var n=e.sublinksGroup;return B.createElement(B.Fragment,null,g()(n).call(n,(function(e,n){return B.createElement(B.Fragment,{key:"e_".concat(n)},B.createElement("div",{key:"c_".concat(n),className:Te},g()(e).call(e,(function(e,n){return B.createElement(Me,{key:"sublink_".concat(n),sublink:e})}))),B.createElement("div",{className:Ie,key:"g_".concat(n)}))})))}));function Oe(e){var n=e.linkItems,t=e.subLinkItems,r=e.specTheme,o=e.isSpider,i=(0,B.useMemo)((function(){return n||(o?_e:be)}),[n]),a=(0,B.useMemo)((function(){return t||(o?[]:Ee)}),[t]);return B.createElement("footer",null,B.createElement("div",{className:M()(Ce,(0,s.Z)({},ke,null==r?void 0:r.themeFurtherSwitch))},B.createElement(Be,{sublinksGroup:a}),B.createElement(De,{links:i})))}var Re,Ve,Fe=t(18227),We=t(13529),Ue="h0MeccaR",He="Fb1750DZ",je="IxmB8gaR",Ge="vtuLG4fC",Ke=function(e){var n=e.isSearchTab;return B.createElement("div",{className:M()(Ue,(0,s.Z)({},Ge,n))},B.createElement("img",{src:globalThis.xssNamespace.douyin_web.filterUrl(Fe,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:He}),B.createElement("img",{src:globalThis.xssNamespace.douyin_web.filterUrl(We,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:je}))},qe=t(60443),Qe=t(92267),ze=t(96431),Ye="fb6MCJLr",Je="YFxRCLNZ",Xe="X3ZcRwMR",$e="taE6Nr_G",en="jZNnk6WH",nn="jq65FbDp",tn="ufTsXeCz",rn=t(9909),on=t(20712),an=t(44635),ln=function(e){var n=e.portalRef,t=e.btnRect,r=e.changeType,o=e.isSearch,i=(0,on.u)().cooperationDropdownItems,a=(0,B.useRef)(null),l=(0,B.useMemo)((function(){return 39*i.length+48}),[i]),c=(0,B.useMemo)((function(){return t?t.bottom>l?{top:"".concat(t.bottom-l,"px")}:{top:"".concat(t.top,"px")}:{display:"none"}}),[t,l]);return(0,B.useEffect)((function(){var e,n=function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()};return null===(e=a.current)||void 0===e||e.addEventListener("wheel",n),function(){var e;null===(e=a.current)||void 0===e||e.removeEventListener("wheel",n)}}),[]),(0,qe.createPortal)(B.createElement("div",{ref:a,className:M()("coopPanel",(0,s.Z)({},Je,o)),style:c,onMouseEnter:function(){r(!0)},onMouseLeave:function(){r(!1)}},null==i?void 0:g()(i).call(i,(function(e,n){return B.createElement(Pe.a,{key:e.key||n,className:tn,onClick:e.onClick,href:globalThis.xssNamespace.douyin_web.filterUrl(e.url,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),target:"_blank"},e.text)}))),n)},cn=function(e){var n,t=e.tabType,r=e.isSearch,o=(0,B.useRef)(null),i=(0,B.useState)(),a=(0,c.Z)(i,2),l=a[0],u=a[1],d=(0,an.P)({delayDisappear:50}),f=d.type,m=d.changeType;(0,B.useEffect)((function(){var e;o.current=document.createElement("div"),null===(e=document.body)||void 0===e||e.appendChild(o.current)}),[]);return B.createElement("div",{onMouseEnter:function(e){var n,t;if(!f){Qe.i.sendLog("cooperatePanelShow",{enter_from:(0,H.mo)()});var r=null==e||null===(n=e.target)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n);u(r),m(!0)}},onMouseLeave:function(){m(!1)}},B.createElement("div",{className:M()(Xe,(n={},(0,s.Z)(n,nn,t),(0,s.Z)(n,en,f),(0,s.Z)(n,Je,r),n)),onClick:function(){window.open("https://www.douyin.com/home","_blank","noopener")}},t&&B.createElement("div",{className:Ye}),B.createElement("div",{className:$e},B.createElement("span",null,"\u4e1a\u52a1\u5408\u4f5c"),B.createElement(rn.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(ze.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:12,height:12,viewBox:"0 0 12 12"}))),f&&B.createElement(ln,{btnRect:l,portalRef:o.current,changeType:m,isSearch:r}))},sn=t(8e3),un=t.n(sn),dn=t(12083),fn="HLKZ9U4X",mn="r62Yt4yT",vn="qoKzjoSV",pn="L4Q5Pfp6",hn=new Ze.hD({navEnterDuration:{eventName:"nav_enter_duration",params:{duration:0,tab_name:""}}}),gn=t(21155),wn=t.n(gn),yn=t(59676),_n=t(93662),bn=t.n(_n),En=t(91287),kn=t(5277),Cn={icon:"MOB6aWRv",hidden:"d_U4I_82",iconDark:"wgiDTgSZ",iconLight:"dki5MdEh",tab:"fuy_wmct",textWrap:"Hn1a7lpc",yellowPoint:"BR0rQm90",redPoint:"Oxwxk5t9",newRedPoint:"RDH0PrmQ",liveRedPoint:"d96_zlEE",liveNewIcon:"OkRi6llv",numberYellowPoint:"wnWWZubH",moreCount:"BxYyDMoK",numberRedPoint:"vXRPN9Nt",numberYellowPointPosText2:"xkdCyo8O",numberYellowPointPosText3:"PZM366wi",digitsNumberYellowPoint:"HVgmsdv9",digitsNumberRedPoint:"tJShiVlw",text:"xPz2YtoZ",activeClickable:"fFvA7aLB",itemLink:"qShuAbdm",active:"LXX79le5",borderNone:"wfyh1Wz6",searchTabWrap:"RWHJXAjL",planarIcon:"z_9g2ART",discover:"QsH66ENx",recommend:"vy2P7q_c",follow:"SZMIoGf2",friend:"w9t7wiDT",user_self:"VE5qN8zp",svgIcon:"GZrDRcCX",linearIcon:"JtwPigHZ"};function Nn(){return Nn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Nn.apply(this,arguments)}var Tn=function(e){return B.createElement("svg",Nn({width:22,height:9,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Re||(Re=B.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.483 1.137C4.923.379 4.113 0 3.055 0 2.187 0 1.461.284.876.853.292 1.413 0 2.128 0 2.996c0 .853.249 1.543.746 2.072.521.561 1.208.841 2.06.841.435 0 .822-.083 1.161-.248a2.32 2.32 0 00.912-.782h.06v.107c0 .797-.167 1.464-.498 2-.348.57-.81.853-1.386.853-.829 0-1.33-.402-1.504-1.207H.166C.379 8.21 1.338 9 3.043 9c1.003 0 1.8-.438 2.393-1.314.584-.869.876-2.01.876-3.423 0-1.326-.276-2.368-.83-3.126zm-3.612.556c.316-.347.726-.52 1.232-.52.497 0 .904.157 1.22.473.307.316.461.75.461 1.303 0 .56-.146 1.002-.438 1.326-.3.324-.714.486-1.243.486-.521 0-.932-.162-1.232-.486-.308-.316-.462-.742-.462-1.279 0-.529.154-.963.462-1.303zM12.754 1.137C12.194.379 11.384 0 10.326 0c-.868 0-1.594.284-2.179.853-.584.56-.876 1.275-.876 2.143 0 .853.249 1.543.746 2.072.521.561 1.208.841 2.06.841.435 0 .822-.083 1.161-.248a2.32 2.32 0 00.912-.782h.06v.107c0 .797-.167 1.464-.498 2-.348.57-.81.853-1.386.853-.829 0-1.33-.402-1.504-1.207H7.437C7.65 8.21 8.609 9 10.315 9c1.002 0 1.8-.438 2.392-1.314.584-.869.876-2.01.876-3.423 0-1.326-.276-2.368-.83-3.126zm-3.612.556c.316-.347.726-.52 1.232-.52.497 0 .904.157 1.22.473.307.316.461.75.461 1.303 0 .56-.146 1.002-.438 1.326-.3.324-.714.486-1.243.486-.521 0-.932-.162-1.232-.486-.308-.316-.462-.742-.462-1.279 0-.529.154-.963.462-1.303z",fill:"#fff"})),Ve||(Ve=B.createElement("path",{d:"M19.181 1.654h-1.137V4.14h-2.498v1.15h2.498v2.486h1.137V5.289h2.487V4.14H19.18V1.654z",fill:"#fff"})))},xn=t(67624),Sn=t.n(xn),Ln=t(92762),In=t(34080),Zn="MoQWZoTN",An="UqusYa12",Pn="kVDE1onh",Dn="AJbcSJri",Mn="LQOiJJXR",Bn="T3FP2rdt",On="CyFHfLRN",Rn="I6O_p7Gl",Vn="Rlk_prZy",Fn="e0OEnO1u",Wn="_XYQB999",Un=function(e){var n,t,r=e.value,o=e.spa,i=e.href,a=e.label,l=e.target,c=e.handleTabClick,u=e.className,d=e.showYellowPoint,f=void 0!==d&&d,m=e.showDotRedPoint,v=void 0!==m&&m,p=e.showLiveRedPoint,h=void 0!==p&&p,g=e.showNumberYellowPoint,w=void 0!==g&&g,y=e.showLiveRedCnPoint,_=void 0!==y&&y,b=e.numberYellowPointCount,E=void 0===b?0:b,k=e.numberYellowClassName,C=e.showNumberRedPoint,N=e.numberRedPointCount,T=e.active,x=e.renderLabel,S=new(Sn())([]);return B.createElement("div",{className:M()(Zn,u)},B.createElement(Pe.a,{className:Fn,spa:o,href:globalThis.xssNamespace.douyin_web.filterUrl(i,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),target:l,onClick:c,title:a},B.createElement("div",{className:M()(Dn,S.get(r))},f&&B.createElement("div",{className:An}),v&&B.createElement("div",{className:Pn}),h&&B.createElement("div",{className:Mn},B.createElement(rn.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(Ln.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),viewBox:"0 0 19 7",height:7,width:19})),w&&B.createElement("div",{className:M()(k,(n={},(0,s.Z)(n,Rn,E<10),(0,s.Z)(n,On,E>=10),n))},E>99?"99+":E),C&&B.createElement("div",{className:M()(k,(t={},(0,s.Z)(t,Vn,N<10),(0,s.Z)(t,Wn,N>=10),t))},N>99?"99+":N),_&&B.createElement("div",{className:Bn},B.createElement(rn.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(In.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),viewBox:"0 0 44 20",height:20,width:44})),null==x?void 0:x({active:T}))))},Hn=t(58144),jn=t.n(Hn),Gn=function(e){var n=e.pointInfoList,t=e.typeList,r=e.active,o=g()(t).call(t,(function(e){return jn()(n).call(n,(function(n){return n.type===e}))}));return g()(o).call(o,(function(e){return function(e){var n=e.active,t=e.point;return{state:!n&&Boolean((null==t?void 0:t.hasNotice)&&(null==t?void 0:t.count)>0),count:(null==t?void 0:t.count)||0}}({active:r,point:e})}))},Kn=function(e){var n=e.pointInfoList,t=e.typeList,r=e.active,o=g()(t).call(t,(function(e){return jn()(n).call(n,(function(n){return n.type===e}))}));return g()(o).call(o,(function(e){return function(e){var n=e.active,t=e.point;return!n&&Boolean(null==t?void 0:t.hasNotice)}({active:r,point:e})}))},qn=["friend","home","recommend","follow","live","hot","channel_300201","channel_200204","channel_300203","channel_300205","channel_300204","channel_300207","channel_300208","channel_300209","channel_300202"],Qn=["channel_300206"],zn=t(96716),Yn=t(63947),Jn="_3Syl4Ec",Xn="ds4s9SnU",$n="iqcvlDqG",et="gzD0_2Jt",nt="Xg89vTrh",tt="OxjNdzou",rt="gTUXGZGk",ot="OfUHFMQV",it="kbZWis6L",at="_kS28Pcj",lt=t(76928).s,ct=new Ze.hD(lt),st=function(){var e=(0,B.useRef)(null);return(0,B.useEffect)((function(){return e.current=document.createElement("div"),document.body.append(e.current),function(){document.body.removeChild(e.current)}}),[]),e.current},ut="wIQp1VgG",dt="oTg5zq34",ft=function(e){var n=e.portalElement,t=e.children,r=e.referenceRect,o=e.isSearch,i=void 0!==o&&o,a=e.setIsHover,l={top:r.top-12};return(0,qe.createPortal)(B.createElement("div",{onClick:function(e){e.stopPropagation()},onMouseEnter:function(){null==a||a(!0)},onMouseLeave:function(){null==a||a(!1)},className:M()(ut,(0,s.Z)({},dt,i)),style:l},t),n)},mt=t(58585),vt=t(36609),pt=function(e){var n,t,r=e.specTheme,o=e.current,i=e.textPositionClassName,a=e.iconPositionClassName,l=e.abTestData,c=e.isSearch,u=e.isLive,d=e.isTabHover,f=e.setIsTabHover,m=e.positionRect,v=(0,vt.Z)(),p=v.liveList,h=v.updateData,g=v.loading,w=st(),y=null==p?void 0:p[0],_=2===(null==y||null===(n=y.episodeExtra)||void 0===n||null===(t=n.mod)||void 0===t?void 0:t.episode_stage),b=Boolean(l.liveListType)&&y,E=(0,zn.x)((function(){ct.sendLog("fastLiveHeadShow",{entrance_type:"follow",anchor_id:null==y?void 0:y.anchorId,room_id:null==y?void 0:y.roomId,show_type:"default"})}));(0,B.useEffect)((function(){l.liveListType&&h()}),[o,l,h]),(0,B.useEffect)((function(){d&&(h(),ct.sendLog("fastLiveHeadHover",{entrance_type:"follow",hover_show_cnt:p.length}))}),[d,h]);var k=B.createElement("div",null,B.createElement("div",{ref:E,className:M()(Jn,a)},B.createElement("div",{className:M()(Xn,(0,s.Z)({},$n,_))}),B.createElement("div",{className:M()(Xn,(0,s.Z)({},$n,_),_?it:ot,(0,s.Z)({},at,d))}),B.createElement(Yn.x,{src:globalThis.xssNamespace.douyin_web.filterUrl(null==y?void 0:y.coverSrc,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),imgClass:M()(et,(0,s.Z)({},at,d)),renderDefault:B.createElement("div",{className:nt})})),d?B.createElement(ft,{portalElement:w,referenceRect:m,isSearch:c,setIsHover:f},B.createElement(mt.Z,{abTestData:l,loading:g,liveList:p,hasLimit:l.liveListType===V.ZP.Short,logParams:{enter_method:"follow_tab_fast_live_head",enter_from_merge:(0,H.yW)(),entrance_type:"follow"},isInDouyinWeb:!c&&!u})):null);return b?k:B.createElement("div",{className:M()(i,tt,(0,s.Z)({},rt,(null==r?void 0:r.themeFurtherSwitch)||!0))},B.createElement(rn.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(Ln.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),viewBox:"0 0 19 7",height:7,width:19}))};var ht=t(55931),gt=(0,yn.default)((function(){return Promise.all([t.e(2447),t.e(7134)]).then(t.bind(t,17134))}),{ssr:!1}),wt=(0,kn.b_)(),yt=function(e){var n,t,r,o=e.label,l=e.value,u=e.type,d=e.onClick,f=e.active,v=e.className,p=e.renderLabel,h=e.renderImg,g=e.href,w=e.target,y=e.spa,_=e.activeClickable,b=e.iconBackgroundPosition,E=e.iconAnimation,C=e.points,N=e.pointClick,T=e.pointShow,x=e.userInfo,S=void 0===x?{}:x,L=(e.tccKeyWord,e.socialInfo),I=void 0===L?{}:L,Z=e.customProps,A=e.abTestData,P=e.isSpider,D=e.onLinkAction,O=e.current,R=B.useState(bn()(E)?null:E),F=(0,c.Z)(R,2),U=F[0],H=(F[1],B.useState(!1)),j=(0,c.Z)(H,2),G=j[0],K=j[1],q=B.useState(!1),Q=(0,c.Z)(q,2),Y=Q[0],J=(Q[1],B.useState(!1)),X=(0,c.Z)(J,2),$=X[0],ee=X[1],ne=B.useState(!1),te=(0,c.Z)(ne,2),re=te[0],oe=te[1],ie=B.useState(!1),ae=(0,c.Z)(ie,2),le=ae[0],ce=ae[1],se=B.useState(!1),ue=(0,c.Z)(se,2),de=ue[0],fe=ue[1],me=B.useState(!1),ve=(0,c.Z)(me,2),pe=ve[0],he=ve[1],ge=B.useState(!1),we=(0,c.Z)(ge,2),ye=we[0],_e=we[1],be=B.useState(0),Ee=(0,c.Z)(be,2),ke=Ee[0],Ce=Ee[1],Ne=B.useState(!1),Te=(0,c.Z)(Ne,2),xe=Te[0],Se=Te[1],Le=B.useState(0),Ie=(0,c.Z)(Le,2),Ze=Ie[0],Ae=Ie[1],De=function(){var e=(0,an.P)({delayDisappear:100}),n=e.changeType;return{isHover:e.type,setIsHover:n,positionRectRef:(0,B.useRef)()}}(),Me=De.isHover,Be=De.setIsHover,Oe=De.positionRectRef,Re=B.useRef(),Ve=B.useRef(),Fe=B.useCallback((function(e){if(null==D||D(l,"click"),d){var n=[{isShow:re,type:W.TabPointType.YellowDot},{isShow:ye,type:W.TabPointType.YellowNumber},{isShow:$,type:W.TabPointType.RedDot},{isShow:le,type:W.TabPointType.RedNew},{isShow:de,type:W.TabPointType.RedLive},{isShow:pe,type:W.TabPointType.RedLiveCn},{isShow:xe,type:W.TabPointType.RedNumber}];wn()(n).call(n,(function(e){var n=e.isShow,t=e.type;n&&(null==N||N((0,a.Z)((0,a.Z)({},S.info),{},{pointType:t,isLogin:S.isLogin,redPointCount:Ze})))})),oe(!1),ee(!1),ce(!1),_e(!1),fe(!1),he(!1),Se(!1),_?d(l,e):f||d(l,e)}}),[l,d,f,S,re,ye,$,le,de,pe,_,N,xe,Ze,D]);B.useEffect((function(){var e=!1;return"function"==typeof C&&(f?(oe(!1),ee(!1),ce(!1),_e(!1),fe(!1),he(!1),Se(!1)):(0,i.Z)(m().mark((function n(){var t,r,o,i,l,s,u,d,v,p,h,g;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C((0,a.Z)((0,a.Z)({},null==S?void 0:S.info),{},{isLogin:null==S?void 0:S.isLogin,socialInfo:I,abTestData:A}));case 2:if(n.t0=n.sent,n.t0){n.next=5;break}n.t0=[];case 5:t=n.t0,e||(o=Kn({pointInfoList:t,typeList:[W.TabPointType.YellowDot,W.TabPointType.RedDot,W.TabPointType.RedNew,W.TabPointType.RedLive],active:f}),i=(0,c.Z)(o,4),l=i[0],s=i[1],u=i[2],d=i[3],v=Gn({pointInfoList:t,typeList:[W.TabPointType.YellowNumber,W.TabPointType.RedNumber],active:f}),p=(0,c.Z)(v,2),h=p[0],g=p[1],oe(l),_e(h.state),Ce(h.count),Se(g.state),Ae(g.count),ee(s),ce(u),k()(r=[V.hE.AllLive,V.hE.SomeLive]).call(r,null==A?void 0:A.newSkylight)||fe(d));case 7:case"end":return n.stop()}}),n)})))()),function(){e=!0}}),[S,f,I]),B.useEffect((function(){var e=[{isShow:re,type:W.TabPointType.YellowDot},{isShow:ye,type:W.TabPointType.YellowNumber},{isShow:$,type:W.TabPointType.RedDot},{isShow:de,type:W.TabPointType.RedLive},{isShow:pe,type:W.TabPointType.RedLiveCn},{isShow:xe,type:W.TabPointType.RedNumber}];wn()(e).call(e,(function(e){e.isShow&&(null==T||T({pointType:e.type,isLogin:null==S?void 0:S.isLogin,redPointCount:Ze}))}))}),[null==S?void 0:S.isLogin,re,ye,$,le,de,pe,xe,Ze,T]);var We=B.useCallback((function(){var e,n,t=null===(e=Re.current)||void 0===e||null===(n=e.getLottieInstance)||void 0===n?void 0:n.call(e);return{playLottie:function(){var e,n;null==t||null===(e=t.setDirection)||void 0===e||e.call(t,1),null==t||null===(n=t.play)||void 0===n||n.call(t)},resetLottie:function(){var e;null==t||null===(e=t.goToAndStop)||void 0===e||e.call(t,0)},reversePlayLottie:function(){var e,n;null==t||null===(e=t.setDirection)||void 0===e||e.call(t,-1),null==t||null===(n=t.play)||void 0===n||n.call(t)},endOfLottie:function(){var e;null==t||null===(e=t.goToAndStop)||void 0===e||e.call(t,null==t?void 0:t.getDuration(!0),!0)}}}),[]);B.useEffect((function(){Ve.current&&clearTimeout(Ve.current),f?We().endOfLottie():We().resetLottie()}),[f]);var Ue=(0,ht.Z)().specTheme,He=B.useCallback((function(e){var n,t;null==D||D(l,"enter"),Oe.current=null==e||null===(n=e.currentTarget)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n),Be(!0)}),[D,Be]),je=B.useCallback((function(){Be(!1),null==D||D(l,"leave")}),[Be,D,l]);return B.createElement(B.Fragment,null,"text"===u&&B.createElement("div",{className:M()(Cn.tab,Cn.linearIcon,(n={},(0,s.Z)(n,Cn.active,f),(0,s.Z)(n,null==Cn?void 0:Cn[l],l),(0,s.Z)(n,Cn.activeClickable,_&&f),(0,s.Z)(n,Cn.searchTabWrap,null==Z?void 0:Z.isSearchSideNav),n),v)},B.createElement(Pe.a,{className:Cn.itemLink,spa:y,href:globalThis.xssNamespace.douyin_web.filterUrl(g,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),target:w,onClick:Fe,onMouseEnter:He,onMouseLeave:je},re&&B.createElement("div",{className:Cn.yellowPoint}),$&&B.createElement("div",{className:Cn.redPoint}),de&&B.createElement(pt,{isSearch:null==Z?void 0:Z.isSearchSideNav,isLive:null==Z?void 0:Z.isLiveSideNav,specTheme:Ue,current:O,textPositionClassName:Cn.liveRedPoint,iconPositionClassName:Cn.liveNewIcon,abTestData:A,isTabHover:Me,setIsTabHover:Be,positionRect:Oe.current}),ye&&B.createElement("div",{className:M()((t={},(0,s.Z)(t,Cn.numberYellowPointPosText2,k()(qn).call(qn,l)),(0,s.Z)(t,Cn.numberYellowPointPosText3,k()(Qn).call(Qn,l)),(0,s.Z)(t,Cn.digitsNumberYellowPoint,ke<10||!1),(0,s.Z)(t,Cn.numberYellowPoint,ke>=10),(0,s.Z)(t,Cn.moreCount,ke>99),(0,s.Z)(t,Cn.borderNone,(null==Ue?void 0:Ue.themeFurtherSwitch)||!0),t))},ke>99?B.createElement(rn.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(Tn,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),viewBox:"0 0 22 9",height:9,width:22}):ke),xe&&B.createElement("div",{className:M()((r={},(0,s.Z)(r,Cn.numberYellowPointPosText2,k()(qn).call(qn,l)),(0,s.Z)(r,Cn.numberYellowPointPosText3,k()(Qn).call(Qn,l)),(0,s.Z)(r,Cn.digitsNumberRedPoint,Ze<10),(0,s.Z)(r,Cn.numberRedPoint,Ze>=10),(0,s.Z)(r,Cn.moreCount,Ze>99),(0,s.Z)(r,Cn.borderNone,(null==Ue?void 0:Ue.themeFurtherSwitch)||!0),r))},Ze>99?B.createElement(rn.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(Tn,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),viewBox:"0 0 22 9",height:9,width:22}):Ze),!P&&!h&&B.createElement(B.Fragment,null,B.createElement("div",{className:M()(Cn.icon,Cn.iconDark,(0,s.Z)({},Cn.hidden,G)),style:{backgroundPosition:"".concat(f?b.darkActive:b.dark),backgroundSize:"".concat(z.U2,"px auto")}}),B.createElement("div",{className:M()(Cn.icon,Cn.iconLight,(0,s.Z)({},Cn.hidden,G)),style:{backgroundPosition:"".concat(f?b.lightActive:b.light),backgroundSize:"".concat(z.U2,"px auto")}})),!P&&(null==h?void 0:h()),!wt&&Y&&B.createElement(En.SV,null,B.createElement(gt,{data:U,hidden:!1,loop:!1,autoplay:!1,ref:Re,className:M()(Cn.icon,(0,s.Z)({},Cn.hidden,!G)),onInit:function(){K(!0),f?We().endOfLottie():We().resetLottie()}})),B.createElement("div",{className:Cn.textWrap},B.createElement("span",{className:Cn.text},p?p():o)))),"image"===u&&B.createElement(Un,{spa:y,href:globalThis.xssNamespace.douyin_web.filterUrl(g,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),label:o,target:w,value:l,handleTabClick:Fe,showLiveRedPoint:de,showYellowPoint:re,showDotRedPoint:$,showNumberYellowPoint:ye,showLiveRedCnPoint:pe,showNumberRedPoint:xe,active:f,activeClickable:_,renderLabel:p}))},_t=function(e){var n,t=e.list,r=e.current,l=e.onChange,u=e.className,d=e.activeClickable,f=e.userInfo,v=e.abTestData,p=e.customProps,h=e.onLinkAction,w=e.isSpider,y=B.useRef(null),_=(0,B.useState)(),b=(0,c.Z)(_,2),E=b[0],k=b[1];(0,B.useEffect)((function(){var e=!1;return r&&(0,i.Z)(m().mark((function n(){var t,o,i;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,dn.U)();case 2:t=n.sent,e||(o=U.Le.getConfig(U.gI.TabPointCache),i=t,U.Le.setConfig(U.gI.TabPointCache,{followCount:"follow"===r?0:(null==i?void 0:i.count)||(null==o?void 0:o.followCount),followHasLive:"follow"!==r&&((null==i?void 0:i.hasLive)||(null==o?void 0:o.followHasNotice)),followHasNotice:"follow"!==r&&((null==i?void 0:i.hasNotice)||(null==o?void 0:o.followHasLive)),friendHasNotice:"friend"!==r&&((null==i?void 0:i.friendHasNotice)||(null==o?void 0:o.friendHasNotice)),friendNoticeCount:"friend"===r?0:(null==i?void 0:i.friendNoticeCount)||(null==o?void 0:o.friendNoticeCount)}),i.count="follow"===r?0:t.count||(null==o?void 0:o.followCount),i.hasNotice="follow"!==r&&(t.hasNotice||(null==o?void 0:o.followHasNotice)),i.hasLive="follow"!==r&&(t.hasLive||(null==o?void 0:o.followHasLive)),i.friendHasNotice="friend"!==r&&(t.friendHasNotice||(null==o?void 0:o.friendHasNotice)),i.friendNoticeCount="friend"===r?0:t.friendNoticeCount||(null==o?void 0:o.friendNoticeCount),k(i));case 4:case"end":return n.stop()}}),n)})))(),function(){e=!0}}),[r]);var C=function(e){var n=e.tabsGroupRef,t=(0,B.useRef)(0),r=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";t.current>0&&(hn.sendLog("navEnterDuration",{duration:N()()-t.current,tab_name:e}),t.current=0)};return(0,B.useEffect)((function(){var e=n.current,o=function(){t.current=N()()},i=function(){r()};return e&&(e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",i)),function(){e&&e.removeEventListener("mouseenter",o),e&&e.removeEventListener("mouseleave",i)}}),[n]),{reportNavViewLog:r}}({tabsGroupRef:y}),T=C.reportNavViewLog;return B.createElement("div",{className:M()(fn,u,(0,s.Z)({},pn,null==p?void 0:p.isSearchSideNav)),ref:y},g()(n=un()(t).call(t,(function(e){return!e.hideTab}))).call(n,(function(e){return"divider"===e.value?B.createElement("div",{key:e.value,className:mn}):B.createElement(yt,(0,o.Z)({abTestData:v,userInfo:f,active:e.value===r,activeClickable:d,className:vn,onClick:function(){return T(e.value),l.apply(void 0,arguments)},customProps:(0,a.Z)((0,a.Z)({},p),e.custom),isHidden:e.hideTab,key:e.value,socialInfo:E,onLinkAction:h,isSpider:w,current:r},e))})))},bt=t(60417),Et=t(42155),kt="GuSbEOy7",Ct="PZ9RCv1n",Nt="H3w1iDzb",Tt="zPc4oZVy",xt="vUCGH4WQ",St="ETaKHYhF",Lt="vrKoVatG",It="MxoM7PCk",Zt="D8gl48qZ",At="SKasw4pP",Pt="GctVLOFA",Dt="PFKtPjJX",Mt=(0,B.memo)((function(e){var n=e.showType,t=e.miniImageDark,r=e.miniImageLight,o=e.miniImageLightHover,i=e.miniImageDarkHover,a=e.miniAnimationLight,l=e.miniAnimationDark,u=e.miniTextLight,d=e.miniTextDark,f=(0,B.useState)(!1),m=(0,c.Z)(f,2),v=m[0],h=m[1];(0,B.useEffect)((function(){var e,n,c,s=[{name:"--vs-spring-entry-mini-animation-light",value:a},{name:"--vs-spring-entry-mini-animation-dark",value:l},{name:"--vs-spring-entry-mini-image-light",value:r},{name:"--vs-spring-entry-mini-image-dark",value:t},{name:"--vs-spring-entry-mini-image-light-hover",value:o},{name:"--vs-spring-entry-mini-image-dark-hover",value:i},{name:"--vs-spring-entry-mini-text-light",value:u},{name:"--vs-spring-entry-mini-text-dark",value:d}],f=g()(s).call(s,(function(e){var n;return p()(n="".concat(e.name,": url(")).call(n,e.value,");")})).join("");null===(e=document.getElementsByClassName(Lt))||void 0===e||null===(n=e[0])||void 0===n||null===(c=n.setAttribute)||void 0===c||c.call(n,"style",f)}),[t,r,o,i,a,l,u,d]);var w=n===Et.pC.Animation&&!v;return B.createElement("div",{className:M()(Lt),onMouseEnter:function(){h(!0)}},B.createElement("div",{className:M()(It,At,(0,s.Z)({},Dt,w))}),B.createElement("div",{className:M()(It,Zt,(0,s.Z)({},Dt,!w))}),B.createElement("div",{className:Pt}),B.createElement("img",{className:Dt,src:globalThis.xssNamespace.douyin_web.filterUrl(r,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}),B.createElement("img",{className:Dt,src:globalThis.xssNamespace.douyin_web.filterUrl(t,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}),B.createElement("img",{className:Dt,src:globalThis.xssNamespace.douyin_web.filterUrl(o,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}),B.createElement("img",{className:Dt,src:globalThis.xssNamespace.douyin_web.filterUrl(i,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}),B.createElement("img",{className:Dt,src:globalThis.xssNamespace.douyin_web.filterUrl(u,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}),B.createElement("img",{className:Dt,src:globalThis.xssNamespace.douyin_web.filterUrl(d,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}))})),Bt=new Ze.hD({brandAdBadgeShow:{eventName:"brand_ad_badge_show",params:{web_rid:""}}}),Ot=(0,B.memo)((function(e){var n=e.showType,t=e.imageDark,r=e.imageLight,o=e.imageDarkHover,i=e.imageLightHover,a=e.animationDark,l=e.animationLight,u=e.animationDarkV2,d=e.animationLightV2,f=e.abtest,m=e.webRid,v=(0,B.useState)(!1),h=(0,c.Z)(v,2),w=h[0],y=h[1],_=(0,zn.x)((function(){Bt.sendLog("brandAdBadgeShow",{web_rid:m})}));(0,B.useEffect)((function(){var e,n,c,s=[{name:"--vs-spring-entry-animation-light",value:null!=f&&f.vsEntryAnimate?d:l},{name:"--vs-spring-entry-animation-dark",value:null!=f&&f.vsEntryAnimate?u:a},{name:"--vs-spring-entry-image-light",value:r},{name:"--vs-spring-entry-image-dark",value:t},{name:"--vs-spring-entry-image-light-hover",value:i},{name:"--vs-spring-entry-image-dark-hover",value:o}],m=g()(s).call(s,(function(e){var n;return p()(n="".concat(e.name,": url(")).call(n,e.value,");")})).join("");null===(e=document.getElementsByClassName(kt))||void 0===e||null===(n=e[0])||void 0===n||null===(c=n.setAttribute)||void 0===c||c.call(n,"style",m)}),[l,a,r,t,i,o,u,d,null==f?void 0:f.vsEntryAnimate]);var b=n===Et.pC.Animation&&!w;return B.createElement("div",{className:M()(kt),onMouseEnter:function(){y(!0)},ref:_},B.createElement("div",{className:St},B.createElement(Mt,e)),B.createElement("div",{className:M()(Ct,Tt,(0,s.Z)({},xt,b))}),B.createElement("div",{className:M()(Ct,Nt,(0,s.Z)({},xt,!b))}),B.createElement("img",{className:xt,src:globalThis.xssNamespace.douyin_web.filterUrl(r,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}),B.createElement("img",{className:xt,src:globalThis.xssNamespace.douyin_web.filterUrl(t,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}),B.createElement("img",{className:xt,src:globalThis.xssNamespace.douyin_web.filterUrl(i,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}),B.createElement("img",{className:xt,src:globalThis.xssNamespace.douyin_web.filterUrl(o,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}))})),Rt=W,Vt=Rt.commonChannelMenu,Ft=Rt.channelMenu,Wt=(0,s.Z)({hot:"trend"},"user_self","personal_tab"),Ut=function(e){var n,t,r,u,f,v,h,w,_,E,C,T,S,I,A=B.useState(undefined),D=(0,c.Z)(A,2),ge=D[0],we=D[1],ye=B.useState((null==e||null===(n=e.customProps)||void 0===n?void 0:n.isClient)||!1),_e=(0,c.Z)(ye,1)[0],be=B.useState(!_e),Ee=(0,c.Z)(be,2),ke=Ee[0],Ce=Ee[1],Ne=B.useRef(null),Te=e.refEl,xe=e.abTestData,Se=e.current,Le=e.isSpider,Ie=e.tccConfig,Ze=void 0===Ie?{}:Ie,Ae=e.userInfo,De=e.isAsianGamesLive,Me=void 0!==De&&De,Be=null!==(t=null!==(r=null==Ze?void 0:Ze[O.TccKey.VsSpringEntry])&&void 0!==r?r:null===(u=U.Le.getConfig(U.gI.TccData))||void 0===u?void 0:u[O.TccKey.VsSpringEntry])&&void 0!==t?t:{},Re=B.useMemo((function(){var e,n,t,r=p()(e=[]).call(e,(0,l.Z)(Vt()),[{value:"divider"}],(0,l.Z)(Ft()));return g()(n=y()(d()(p()(t=[]).call(t,(0,l.Z)(r),(0,l.Z)(z.F4)),"value"))).call(n,(function(e){return b()(e).call(e,(function(e,n){return(0,a.Z)((0,a.Z)({},e),n)}),{})}))}),[]);B.useEffect((function(){(0,i.Z)(m().mark((function e(){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.h.getVar({name:"showNewTab",defaultValue:0});case 2:n=e.sent,we(n);case 4:case"end":return e.stop()}}),e)})))()}),[]);var Ve=function(e){var n;return null!==(n=Wt[e])&&void 0!==n?n:e};B.useEffect((function(){var n={only:"stayVideoTab",event:function(n,t){t>0&&he.Z.sendLog("stayVideoTab",{tab_name:Ve(e.current),duration:t,is_visible:Number(n)},!1)}};(0,j.vP)(n)}),[e.current]);var Fe=B.useMemo((function(){var n,t,r,i=null==e||null===(n=e.customProps)||void 0===n||null===(t=n.os)||void 0===t?void 0:t.isMas,l=g()(Re).call(Re,(function(n){var t,r,l,c,s;if("/discover"===n.route)return(0,a.Z)((0,a.Z)({},n),{},{hideTab:Boolean(xe.discoverTabHidden)});if(ge){if(function(e){return"channel_300203"===e.value}(n))return(0,a.Z)((0,a.Z)({},n),{},{hideTab:!0});if(function(e){return"channel_200204"===e.value}(n)||function(e){return"channel_200202"===e.value}(n))return(0,a.Z)((0,a.Z)({},n),{},{hideTab:!1})}if(n.value===W.NavigationMenuItemVal.Vs){var u,d,f,m,v,p,h,g=null!==(u=null!==(d=null==Ze||null===(f=Ze.masConfig)||void 0===f?void 0:f.vsEntryOpen)&&void 0!==d?d:null===(m=U.Le.getConfig(U.gI.TccData))||void 0===m||null===(v=m.masConfig)||void 0===v?void 0:v.vsEntryOpen)&&void 0!==u&&u;i||!(0,G.p)()&&(null===(p=window.TTE_ENV)||void 0===p||p.isMas);if(i)return(0,a.Z)((0,a.Z)({},n),{},{hideTab:!g});if(!(0,G.p)()&&null!==(h=window.TTE_ENV)&&void 0!==h&&h.isMas)return(0,a.Z)((0,a.Z)({},n),{},{hideTab:!g})}if(n.value===W.NavigationMenuItemVal.CarCarnival){var w=Be.timeInterval,y=Be.webRid,_=N()();null!=w&&x()(w).call(w,(function(e){var n=e.startTime,t=e.endTime;return _>=n&&_<=t}))?(n.href=globalThis.xssNamespace.douyin_web.filterUrl((0,K.CT)(y),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),n.renderLabel=function(){return B.createElement(Ot,(0,o.Z)({},Be,{webRid:y}))},n.hideTab=!1,n.type="image"):n.hideTab=!0}var b=null===(t=null!==(r=null==Ze||null===(l=Ze.NCEE)||void 0===l?void 0:l.offLine)&&void 0!==r?r:null===(c=U.Le.getConfig(U.gI.TccData))||void 0===c||null===(s=c.NCEE)||void 0===s?void 0:s.offLine)||void 0===t||t;return n.value!==W.NavigationMenuItemVal.Knowledge||(null==xe?void 0:xe.NCEE)!==V.gp.LiveAndWaterfall||b?n:(0,a.Z)((0,a.Z)({},n),{},{type:Se===n.value?"text":"image",renderLabel:Se===n.value?undefined:function(){var n;return B.createElement(Ke,{isSearchTab:null==e||null===(n=e.customProps)||void 0===n?void 0:n.isSearchSideNav})}})}));if(k()(r=[V.gp.WaterfallAndEntrance,V.gp.LiveAndWaterfall]).call(r,null==xe?void 0:xe.NCEE)){var c=L()(l).call(l,(function(e){return"\u70ed\u70b9"===e.label})),s=L()(l).call(l,(function(e){return"\u77e5\u8bc6"===e.label}));if(c-s!=1){var u=Z()(l).call(l,s,1)[0];Z()(l).call(l,c,-1,u)}}return l}),[ge,Re,Se,xe,Ze,Ae]),We=B.useCallback((function(){var e,n=null!==(e=(0,q.FJ)().awemePcClient)&&void 0!==e?e:"";_e&&(0,Q.y)(n,">=","1.2.0")?Ce(!1):Ce(!0)}),[_e]);B.useEffect((function(){We()}),[We]),B.useEffect((function(){var e,n,t=function(e){"ArrowDown"!==e.key&&"ArrowUp"!==e.key||null==e||e.preventDefault()};return null===(e=Ne.current)||void 0===e||e.setAttribute("tabindex",0),null===(n=Ne.current)||void 0===n||n.addEventListener("keydown",t),function(){var e;null===(e=Ne.current)||void 0===e||e.removeEventListener("keydown",t)}}),[]);var Ue=(0,ht.Z)(),He=Ue.specTheme,je=Ue.isDark,Ge=B.useMemo((function(){return null!=He&&He.themeFurtherSwitch?{background:"url(".concat(je?null==He?void 0:He.siderDark:null==He?void 0:He.siderLight,") 100% 92% / 100% no-repeat")}:{}}),[He,je]),qe=(0,F.T)({canShow:!(Me||k()(f=["vs","asianGame"]).call(f,Se)||null!=Se&&P()(Se).call(Se,"/search"))}).isShow;return B.createElement("div",{className:M()(X,null==e?void 0:e.className,(0,s.Z)({},ee,null==e||null===(v=e.customProps)||void 0===v?void 0:v.isSearchSideNav)),ref:function(e){Te&&(Te.current=e)}},B.createElement("div",{className:M()(ne,(0,s.Z)({},te,!qe))},B.createElement("div",{className:M()(re,(_={},(0,s.Z)(_,ie,null==e||null===(h=e.customProps)||void 0===h?void 0:h.isLogoFixed),(0,s.Z)(_,oe,_e),(0,s.Z)(_,le,null==e||null===(w=e.customProps)||void 0===w?void 0:w.isSearchLogoFixed),(0,s.Z)(_,$,null==e?void 0:e.needGrayscale),(0,s.Z)(_,ae,!0),_))},!(_e&&"Mac"===(null==e||null===(E=e.customProps)||void 0===E||null===(C=E.os)||void 0===C?void 0:C.os))&&B.createElement("div",{className:M()(ce,(0,s.Z)({},ae,!0))},B.createElement(Pe.a,{href:globalThis.xssNamespace.douyin_web.filterUrl((0,K.kj)(),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:se,onClick:function(){he.Z.sendLog("clickAwemeLogo",{enter_from:(0,H.yW)()})}}))),B.createElement("div",{"data-e2e":"douyin-navigation",className:M()(ue,de,(T={},(0,s.Z)(T,$,null==e?void 0:e.needGrayscale),(0,s.Z)(T,ae,!(null!=He&&He.themeFurtherSwitch)),T)),style:Ge,ref:Ne},B.createElement("div",{className:M()(fe,(0,s.Z)({},me,!ke))},B.createElement(_t,(0,o.Z)({},e,{onChange:function(n,t){var r,o,i,l,c=(0,H.yW)(),s=c.match(Y.PH)?c:"";null!==(r=location)&&void 0!==r&&null!==(o=r.pathname)&&void 0!==o&&k()(o).call(o,"/search")&&(s="search_result");var u,d,f,m,v,p,h,g,w={};!(0,G.p)()&&"live.douyin.com"===(null===(i=window.location)||void 0===i?void 0:i.host)&&/^\/[0-9|a-z|A-Z]{1,}.*/.test(null===(l=window.location)||void 0===l?void 0:l.pathname)&&(s="live_detail",w={anchor_id:null===(u=window.__STORE__)||void 0===u||null===(d=u.roomStore)||void 0===d||null===(f=d.roomInfo)||void 0===f||null===(m=f.anchor)||void 0===m?void 0:m.id_str,room_id:null===(v=window.__STORE__)||void 0===v||null===(p=v.roomStore)||void 0===p||null===(h=p.roomInfo)||void 0===h?void 0:h.roomId,url:null===(g=window)||void 0===g?void 0:g.location.href});he.Z.sendLog("enterVideoTab",(0,a.Z)({tab_name:Ve(n),previous_page:s},w)),n===W.NavigationMenuItemVal.CarCarnival&&he.Z.sendLog("brandAdBadgeClick",{web_rid:Be.webRid}),(0,bt.b)(),e.onChange&&e.onChange(n,t)},className:e.className,list:Fe,customProps:null==e?void 0:e.customProps,isSpider:Le}))),!_e&&B.createElement("div",{className:ve}),!_e&&B.createElement(cn,{tabType:!0,isSearch:null==e||null===(S=e.customProps)||void 0===S?void 0:S.isSearchSideNav}),!_e&&B.createElement("div",{className:ve,style:{marginTop:"2px"}}),ke&&B.createElement("div",{className:M()(J,(I={},(0,s.Z)(I,pe,null==He?void 0:He.themeFurtherSwitch),(0,s.Z)(I,ae,!0),I))},B.createElement(Oe,{specTheme:He,isSpider:Le})))))}},67321:function(e,n,t){var r=t(13795);n.Z=new r.hD({enterVideoTab:{eventName:"enter_video_tab",params:{tab_name:"",previous_page:""}},stayVideoTab:{eventName:"stay_video_tab",params:{tab_name:"",duration:0,is_visible:1}},clickMoreTab:{eventName:"click_more_tab",params:{}},navigationBarExpand:{eventName:"navigation_bar_expand",params:{enter_from:""}},navigationBarFold:{eventName:"navigation_bar_fold",params:{enter_from:""}},clickAwemeLogo:{eventName:"click_aweme_logo",params:{enter_from:""}},brandAdBadgeClick:{eventName:"brand_ad_badge_click",params:{web_rid:""}}})},52590:function(e,n,t){t.d(n,{L:function(){return d}});var r=t(53864),o=t(95921),i=t(353),a=t(97876),l=t(56462),c=t(45921),s=t(72603),u=t(80289),d=function(){var e=i,n=e.CookieKeys,t=e.ThemeValues,d=a.EVENT,f=l.Q.getItem({sKey:n.Theme}),m=(0,c.Dr)(f)===t.Dark,v=(0,o.TH)().pathname;return(0,r.useEffect)((function(){var e=(0,c.Bj)((0,s.yW)()),n=m;"dark"===e?((0,u.Ly)(!0),n=!0):"light"===e?((0,u.Ly)(!1),n=!1):(0,u.Ly)(m),a.emit(d.changeTheme,{theme:n?t.Dark:t.Light})}),[m,v]),null}},51508:function(e,n,t){t.d(n,{i:function(){return l}});var r=t(53864),o={divider:"HWiSubLL"},i=t(79705),a=t.n(i);function l(e){var n=e||{},t=n.style,i=n.className,l=void 0===i?"":i;return r.createElement("div",{className:a()(o.divider,l),style:t})}},46930:function(e,n,t){var r=t(13795);n.Z=new r.hD({addToDesktopShow:{eventName:"add_to_desktop_show",params:{enter_from:"",type:"",platform:"client"}},addToDesktopClick:{eventName:"add_to_desktop_click",params:{enter_from:"",type:"",platform:"client"}}})},28006:function(e,n,t){t.d(n,{A:function(){return b},D:function(){return E}});var r=t(65146),o=t(30906),i=t(94090),a=t.n(i),l=t(26447),c=t.n(l),s=t(8e3),u=t.n(s),d=t(50750),f=t.n(d),m=t(52249),v=t.n(m),p=t(353),h=t(56462),g=t(5611),w=t(71116),y=t(96164),_=function(e){var n=e.split("_");return{comment:{total:Number(n[0])||0,lastTime:Number(n[1])||0},follow:{total:Number(n[2])||0,lastTime:Number(n[3])||0},im:{total:Number(n[4])||0,lastTime:Number(n[5])||0}}},b=function(e){var n,t=h.Q.getItem({sKey:p.CookieKeys.enhanceDownloadGuide}),r=_(t),o=Math.floor(c()()/1e3),i=u()(n=f()(r)).call(n,(function(n){return n!==e})),a=v()(i).call(i,(function(e,n){return r[n].lastTime>e?r[n].lastTime:e}),0);return r[e].total<5&&r[e].lastTime+259200<o&&a+1800<o&&!(0,g.DT)()&&(0,y.Jo)()&&!1===w.Le.getConfig(w.gI.IsClientInstalled)},E=function(e){var n,t,i,l,s,u,d=h.Q.getItem({sKey:p.CookieKeys.enhanceDownloadGuide}),f=_(d),m=(0,o.Z)((0,o.Z)({},f),{},(0,r.Z)({},e,{total:f[e].total+1,lastTime:Math.floor(c()()/1e3)}));h.Q.setItem(p.CookieKeys.enhanceDownloadGuide,(n=m,a()(t=a()(i=a()(l=a()(s=a()(u="".concat(n.comment.total,"_")).call(u,n.comment.lastTime,"_")).call(s,n.follow.total,"_")).call(l,n.follow.lastTime,"_")).call(i,n.im.total,"_")).call(t,n.im.lastTime)))}},3543:function(e,n,t){t.d(n,{xH:function(){return g},jj:function(){return f},NI:function(){return u},p5:function(){return y},XJ:function(){return _},oO:function(){return m},dR:function(){return v},gi:function(){return h},EJ:function(){return w},nl:function(){return p}});var r=t(34346),o=t.n(r),i=t(53864),a=t(79705),l=t.n(a),c={errorPage:"sYchRh9A",light:"SVTSAifN",dark:"o7ZnmcKX",icon:"JPn6aZOW",title:"P6wJrwQ6",desc:"yCJWkVDx",buttonGroup:"nIacgv9o",unfollow:"PSP9nKme",emptyList:"jv3IxrX1",emptySearch:"NQdOhvdu",noLogin:"pGxQkQMP",notFound:"PlNfyMRU",noNetwork:"lEKTDbtw",serverError:"E0SE3sqF",commentTmptyList:"AgxBovAc"},s=t(95138),u=function(e){return e.unfollow="unfollow",e.emptyList="emptyList",e.commentTmptyList="commentTmptyList",e.emptySearch="emptySearch",e.noLogin="noLogin",e.notFound="notFound",e.noNetwork="noNetwork",e.serverError="serverError",e}({}),d={unfollow:c.unfollow,emptyList:c.emptyList,commentTmptyList:c.commentTmptyList,emptySearch:c.emptySearch,noLogin:c.noLogin,notFound:c.notFound,noNetwork:c.noNetwork,serverError:c.serverError};function f(e){var n=e.type,t=void 0===n?"notFound":n,r=e.title,a=void 0===r?"":r,u=e.desc,f=void 0===u?"":u,m=e.className,v=void 0===m?"":m,p=e.theme,h=void 0===p?"default":p,g=e.titleClassName,w=void 0===g?"":g,y=e.style,_=void 0===y?{}:y,b=e.primaryButtonTitle,E=void 0===b?"":b,k=e.primaryButtonAction,C=e.secondaryButtonTitle,N=void 0===C?"":C,T=e.secondaryButtonAction;return i.createElement("div",{"data-e2e":"error-page",className:l()(c.errorPage,c[h],v),style:_},i.createElement("div",{className:c.icon},i.createElement("div",{className:d[t]})),a&&i.createElement("div",{className:l()(c.title,w)},a),"string"==typeof f?i.createElement("div",{className:c.desc},f):o()(f).call(f,(function(e,n){return i.createElement("div",{key:n,className:c.desc},e)})),i.createElement("div",{className:c.buttonGroup},N&&T&&i.createElement(s.zx,{size:"normal",type:"secondary",onClick:T},N),E&&k&&i.createElement(s.zx,{autoFixed:!1,size:"normal",type:"primary",onClick:k},E)))}function m(e){var n=e.title,t=e.desc,r=e.className,o=e.style,a=e.theme,l=e.primaryButtonTitle,c=e.primaryButtonAction,s=e.secondaryButtonTitle,d=e.secondaryButtonAction;return i.createElement(f,{style:o,className:r,type:u.noNetwork,title:n||"\u7f51\u7edc\u51fa\u73b0\u95ee\u9898",desc:t||"\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\u540e\u91cd\u8bd5",primaryButtonTitle:l,primaryButtonAction:c,secondaryButtonTitle:s||"\u5237\u65b0",theme:a,secondaryButtonAction:d||function(){window.location.reload()}})}function v(e){var n=e.title,t=e.desc,r=e.className,o=e.style,a=e.theme,l=e.primaryButtonTitle,c=e.primaryButtonAction,s=e.secondaryButtonTitle,d=e.secondaryButtonAction;return i.createElement(f,{style:o,className:r,type:u.notFound,title:n||"404",desc:t||"\u9875\u9762\u4e0d\u89c1\u4e86",theme:a,primaryButtonTitle:l,primaryButtonAction:c,secondaryButtonTitle:s,secondaryButtonAction:d})}function p(e){var n=e.title,t=e.desc,r=e.className,o=e.style,a=e.primaryButtonTitle,l=e.primaryButtonAction,c=e.secondaryButtonTitle,s=e.secondaryButtonAction,d=e.theme;return i.createElement(f,{style:o,className:r,type:u.serverError,title:n||"\u670d\u52a1\u51fa\u73b0\u5f02\u5e38",desc:t,theme:d,primaryButtonTitle:a,primaryButtonAction:l,secondaryButtonTitle:c,secondaryButtonAction:s})}function h(e){var n=e.title,t=void 0===n?"\u79c1\u5bc6\u8d26\u53f7":n,r=e.desc,o=e.className,a=e.style,l=e.theme,c=e.primaryButtonTitle,s=e.primaryButtonAction,d=e.secondaryButtonTitle,m=e.secondaryButtonAction;return i.createElement(f,{style:a,className:o,type:u.emptyList,title:t,desc:r||"\u53d1\u8d77\u5173\u6ce8\u8bf7\u6c42\uff0c\u901a\u8fc7\u540e\u5373\u53ef\u67e5\u770b\u8be5\u8d26\u53f7\u5185\u5bb9",theme:l,primaryButtonTitle:c,primaryButtonAction:s,secondaryButtonTitle:d,secondaryButtonAction:m})}function g(e){var n=e.title,t=e.desc,r=e.className,o=e.style,a=e.primaryButtonTitle,l=e.primaryButtonAction,c=e.secondaryButtonTitle,s=e.secondaryButtonAction,d=e.theme;return i.createElement(f,{style:o,className:r,type:u.commentTmptyList,title:n,desc:t||"\u6682\u65e0\u8bc4\u8bba",theme:d,primaryButtonTitle:a,primaryButtonAction:l,secondaryButtonTitle:c,secondaryButtonAction:s})}function w(e){var n=e.title,t=e.desc,r=e.className,o=e.style,a=e.primaryButtonTitle,l=e.primaryButtonAction,c=e.secondaryButtonTitle,s=e.secondaryButtonAction,d=e.theme;return i.createElement(f,{style:o,className:r,type:u.emptySearch,title:n||"\u65e0\u641c\u7d22\u5185\u5bb9",desc:t,theme:d,primaryButtonTitle:a,primaryButtonAction:l,secondaryButtonTitle:c,secondaryButtonAction:s})}function y(e){var n=e.title,t=e.desc,r=e.className,o=e.style,a=e.primaryButtonTitle,l=e.primaryButtonAction,c=e.secondaryButtonTitle,s=e.secondaryButtonAction,d=e.theme;return i.createElement(f,{style:o,className:r,type:u.unfollow,title:n||"\u6682\u65f6\u6ca1\u6709\u66f4\u591a\u4f5c\u54c1",desc:t,theme:d,primaryButtonTitle:a,primaryButtonAction:l,secondaryButtonTitle:c,secondaryButtonAction:s})}function _(e){var n=e.title,t=e.desc,r=e.className,o=e.style,a=e.primaryButtonTitle,l=e.primaryButtonAction,c=e.secondaryButtonTitle,s=e.secondaryButtonAction,d=e.theme;return i.createElement(f,{style:o,className:r,type:u.serverError,title:n,desc:t,theme:d,primaryButtonTitle:a,primaryButtonAction:l,secondaryButtonTitle:c,secondaryButtonAction:s})}},1694:function(e,n,t){t.d(n,{p:function(){return l}});var r=t(53864),o=t(63182),i=t(97876),a=t(76299),l=function(e){var n=e.children,l=e.headerPopupName,c=e.replaceEvenAlreadyExist,s=void 0===c||c,u=e.isPopupShow,d=(0,r.useRef)(!1),f=(0,r.useRef)(null);(0,r.useEffect)((function(){!f.current&&Promise.all([t.e(9344),t.e(9955),t.e(2880),t.e(9083),t.e(3237),t.e(8177)]).then(t.bind(t,45690)).then((function(e){f.current=null==e?void 0:e.default}))}),[]);var m=(0,r.useCallback)((function(){o.YY.replaceCurrentTask({id:o.BE.HoverTaskId,priority:o.T0.HoverPriority,isBlock:!0},{replaceEvenAlreadyExist:s}),l&&i.emit(i.EVENT.showHeaderPopUp,{type:l,isShow:!0})}),[l,s]),v=(0,r.useCallback)((function(){o.YY.finishTask(o.BE.HoverTaskId),l&&i.emit(i.EVENT.showHeaderPopUp,{type:l,isShow:!1})}),[l]),p=(0,a.U)({enterDelay:200,leaveDelay:200,onMouseEnter:function(){u===undefined&&m()},onMouseLeave:function(){var e;null!==(e=f.current)&&void 0!==e&&e.curConversation||u!==undefined||v()}}),h=p.onMouseEnter,g=p.onMouseLeave;return(0,r.useEffect)((function(){u?(d.current=!0,m()):d.current&&v()}),[u]),r.createElement("div",{onMouseEnter:h,onMouseLeave:g},n)}},55283:function(e,n,t){t.d(n,{Y:function(){return x}});var r=t(30906),o=t(67161),i=t(65146),a=t(94090),l=t.n(a),c=t(34346),s=t.n(c),u=t(8e3),d=t.n(u),f=t(53864),m=t(79705),v=t.n(m),p=t(84631),h=t(89909),g=t(97876),w=t(43670),y=t(56003),_=t(9909),b=t(44635),E=t(55931),k=t(77060),C=t(82573),N=["key"];function T(e){var n,t,r,o,a,c,s,u=e.className,d=e.avatarUrl,m=e.text,p=e.avatarHeight,y=e.avatarWidth,N=e.badge,T=e.badgeText,x=e.onMouseEnter,S=e.onMouseLeave,L=e.onMouseOver,I=e.onMouseOut,Z=e.onClick,A=e.viewBox,P=e.activityName,D=e.badgeIconSvg,M=e.badgeIconHeight,B=e.badgeIconWidth,O=e.badgeIconViewbox,R=e.headerPopupName,V=e.circleButtonContainerClassName,F=e.children,W=e.svgContainerClassName,U=e.showBadge,H=void 0!==U&&U,j=e.url,G=e.downloadAttr,K=e.target,q=e.transparent,Q=e.badgeStyle,z=(0,f.useContext)(C.R).userUiStyle,Y=e.icon,J=e.iconHeight,X=e.iconWidth;Y=null!==(n=Y)&&void 0!==n?n:d,X=null!==(t=X)&&void 0!==t?t:y,J=null!==(r=J)&&void 0!==r?r:p;var $=(0,b.P)({delayShow:100}),ee=($.type,$.changeType);(0,f.useEffect)((function(){var e=g.listen(g.EVENT.showHeaderPopUp,(function(e){R===e.type&&!1===e.isShow&&ee()}));return function(){return e()}}),[R]);var ne=(0,f.useMemo)((function(){var e;return f.createElement(_.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(Y,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:X,height:J,viewBox:A||l()(e="0 0 ".concat(X," ")).call(e,J),className:w.Z.iconSvg})}),[Y,X,J,A]),te=(0,E.Z)().specTheme;return f.createElement("div",{className:v()(w.Z.circleButtonWrapper,V),onMouseEnter:function(e){null==x||x(e)},onMouseLeave:function(e){null==S||S(e)},onMouseOver:function(e){null==L||L(e)},onMouseOut:function(e){null==I||I(e)}},j&&f.createElement(k.a,{href:globalThis.xssNamespace.douyin_web.filterUrl(j,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),download:G,target:K,onClick:Z,className:v()(w.Z.circleButton,w.Z.circleButtonWithText,(o={isDark:Boolean(P)||q&&!z},(0,i.Z)(o,w.Z.activity,Boolean(P)||q),(0,i.Z)(o,null===w.Z||void 0===w.Z?void 0:w.Z[P],P),(0,i.Z)(o,w.Z.transparent,q),o),u)},f.createElement("div",{className:w.Z.iconContainer},ne),f.createElement("p",{className:w.Z.text},m)),!j&&f.createElement("div",{onClick:Z,className:v()(w.Z.circleButton,w.Z.circleButtonWithText,(a={isDark:Boolean(P)||q&&!z},(0,i.Z)(a,w.Z.activity,Boolean(P)||q),(0,i.Z)(a,null===w.Z||void 0===w.Z?void 0:w.Z[P],P),(0,i.Z)(a,w.Z.transparent,q),a),u),"data-e2e":"something-button"},f.createElement("div",{className:w.Z.iconContainer},ne),f.createElement("p",{className:w.Z.text},m)),H&&("text"===N||"round"===N)&&f.createElement(h.C,{className:v()((c={},(0,i.Z)(c,w.Z.textBadge,"text"===N),(0,i.Z)(c,w.Z.roundBadge,"round"===N),(0,i.Z)(c,w.Z.circleButtonWithTextRoundBadge,"round"===N),c)),type:N,text:"text"===N?T||m:"",style:Q}),H&&"image"===N&&f.createElement("div",{className:v()(w.Z.imageBadge,W,w.Z.circleButtonWithTextImageBadge,(0,i.Z)({},w.Z.themeSwitch,null==te?void 0:te.themeSwitch))},f.createElement(_.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(D,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:B,height:M,viewBox:O||l()(s="0 0 ".concat(B," ")).call(s,M)})),F)}var x=(0,f.memo)((function e(n){var t=n.type,a=n.className,l=n.trigger,c=n.items,u=n.onMouseEnter,m=n.onMouseLeave,h=n.onMouseOver,_=n.onMouseOut,E=n.children,k=n.itemsContainerClassName,C=n.headerPopupName,x=(0,b.P)({delayDisappear:200,delayShow:200}),S=x.type,L=x.changeType,I=(0,f.useCallback)((function(e){"hover"===l&&L("active"),null==u||u(e)}),[l,u,L]),Z=(0,f.useCallback)((function(e){"hover"===l&&L(),null==m||m(e)}),[l,m,L]),A=(0,f.useCallback)((function(e){return null==h?void 0:h(e)}),[h]),P=(0,f.useCallback)((function(e){return null==_?void 0:_(e)}),[_]),D=(0,f.useMemo)((function(){var n,t;return"hover"===l&&c&&c.length?f.createElement("div",{className:v()(w.Z.dropdownContainer,(n={},(0,i.Z)(n,w.Z.active,Boolean(S)),(0,i.Z)(n,k,Boolean(S&&k!==undefined)),n))},f.createElement("ul",{"data-e2e":"cooperate-list"},s()(t=d()(c).call(c,(function(e){return!e.hidden}))).call(t,(function(n){var t=n.key,r=(0,o.Z)(n,N);return f.createElement("li",{key:t||n.text,onClick:function(){n.clickHiddenDropMenu&&L()}},f.createElement(e,r))})))):[]}),[c,l,S,k]);(0,f.useEffect)((function(){return C&&g.listen(g.EVENT.showHeaderPopUp,(function(e){"active"===S&&e.type!==C&&e.isShow&&L("",!0)}))}),[L,S,C]);var M=(0,p.Z)(S);return(0,f.useEffect)((function(){M!==S&&C&&g.emit(g.EVENT.showHeaderPopUp,{type:C,isShow:Boolean(S)})}),[S,C,M]),f.createElement(f.Fragment,null,"textLink"!==t&&f.createElement(T,(0,r.Z)((0,r.Z)({},n),{},{className:a,onMouseEnter:I,onMouseLeave:Z,onMouseOver:A,onMouseOut:P}),D,E),"textLink"===t&&f.createElement("div",null,f.createElement(y.h,(0,r.Z)((0,r.Z)({},n),{},{className:a,onMouseEnter:I,onMouseLeave:Z,onMouseOver:A,onMouseOut:P,aLinkStyle:w.Z.textLinkALink}),D,E)))}))},14033:function(e,n,t){t.d(n,{tN:function(){return S},g8:function(){return I},eQ:function(){return Z}});var r=t(30906),o=t(64408),i=t(32781),a=t(93662),l=t.n(a),c=t(5594),s=t.n(c),u=t(56442),d=t.n(u),f=t(94090),m=t.n(f),v=t(53864),p=t(68595),h=t.n(p),g=t(353),w=t(56920),y=t(12338),_=t(536),b=t(13971),E=t(97876),k=t(51613),C=t(92267),N=t(7607),T=t(72176),x=t(31554),S=function(e){return e.failed="failed",e.pending="pending",e.isDownloading="isDownloading",e.completed="completed",e.interrupted="interrupted",e}({}),L=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),I=function(){var e,n,t,r;if(!L)return null;var o=(null===(e=document)||void 0===e?void 0:e.fullscreenElement)||(null===(n=document)||void 0===n?void 0:n.msFullscreenElement)||(null===(t=document)||void 0===t?void 0:t.mozFullScreenElement)||(null===(r=document)||void 0===r?void 0:r.webkitFullscreenElement)||null;return o||document.body},Z=function(){var e,n=null!==(e=(0,v.useContext)(N.Context))&&void 0!==e?e:{},t=n.dispatch,a=n.userInfo,c=(0,v.useContext)(T.C),u=(0,v.useState)(!1),f=(0,i.Z)(u,2),p=f[0],L=f[1],Z=(0,v.useState)(null),A=(0,i.Z)(Z,2),P=A[0],D=A[1],M=(0,v.useRef)(S.pending),B=(0,v.useRef)(!1),O=(0,v.useCallback)((function(e){y.F.info({text:e,zIndex:9999},I())}),[]),R=(0,v.useCallback)(function(){var e=(0,o.Z)(s().mark((function e(n){var t,o,i,a,l,c,u,f,v,p,h,g,w,y,b,E,C,N,T,x,S,I,Z,A=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v=A.length>1&&A[1]!==undefined&&A[1],navigator.onLine){e.next=4;break}return O("\u65e0\u6cd5\u4e0b\u8f7d\u89c6\u9891\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc"),e.abrupt("return");case 4:if(!B.current){e.next=7;break}return O("\u6b63\u5728\u83b7\u53d6\u89c6\u9891\u4e0b\u8f7d\u4fe1\u606f\uff0c\u8bf7\u7a0d\u7b49"),e.abrupt("return");case 7:return p=null,e.prev=8,h=null!=n?n:P.id,B.current=!0,e.next=13,(0,k.m_)({awemeId:h});case 13:g=e.sent,w=g.detail,B.current=!1,p=w,D((0,r.Z)((0,r.Z)({},p.download),{},{id:p.awemeId})),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:if(null!==(t=p)&&void 0!==t&&t.download&&!1!==(null===(o=p)||void 0===o||null===(i=o.download)||void 0===i?void 0:i.allowDownload)){e.next=25;break}return O("\u56e0\u4f5c\u54c1\u6743\u9650\u6216\u5df2\u88ab\u5220\u9664\uff0c\u6682\u65f6\u65e0\u6cd5\u4e0b\u8f7d"),e.abrupt("return");case 25:y=new Date,b=y.getFullYear(),E=y.getMonth()+1,C=y.getDate(),N=null===(a=p)||void 0===a||null===(l=a.awemeId)||void 0===l?void 0:d()(l).call(l,-6),T=m()(c=m()(u=m()(f="\u6296\u97f3".concat(b)).call(f,E)).call(u,C,"-")).call(c,N,".mp4");try{_.d("downloadURL",{url:null===(x=p)||void 0===x||null===(S=x.download)||void 0===S||null===(I=S.urlList)||void 0===I?void 0:I[0],rename:T,id:null===(Z=p)||void 0===Z?void 0:Z.awemeId,is_retry:v})}catch(s){}L(!0);case 33:case"end":return e.stop()}}),e,null,[[8,20]])})));return function(n){return e.apply(this,arguments)}}(),[O,P]),V=(0,v.useCallback)((0,o.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(P.id,!0);case 1:case"end":return e.stop()}}),e)}))),[P,R]),F=(0,v.useCallback)((function(e){1===(0,b.$o)(g.LocalStorageKeys.ShowDownloadPathPanel)?R(null==e?void 0:e.awemeId):E.emit(E.EVENT.openDownloadDirPanel)}),[R]),W=(0,v.useCallback)((function(e){var n=null==a?void 0:a.isLogin;if(M.current!==S.isDownloading)if(D((0,r.Z)((0,r.Z)({},null==e?void 0:e.download),{},{id:null==e?void 0:e.awemeId})),!1!==n)!0!==n||F(e);else{var o,i=null!==(o=(0,b.$o)(g.LocalStorageKeys.DownloadTimesBeforeLogin))&&void 0!==o?o:0;(null==c?void 0:c.supportDownloadVideo)===w.WH.DownloadAfterLogin||i>=10?(0,x.default)({success:function(){null==t||t({type:"updateUserInfo"}),F(e)},enterMethod:"download",headerText:"\u767b\u5f55\u540e\uff0c\u5373\u4eab\u4e0b\u8f7d\u89c6\u9891\u6743\u9650"}):F(e)}else O("\u89c6\u9891\u4e0b\u8f7d\u4e2d\uff0c\u7a0d\u540e\u5c1d\u8bd5")}),[a,t,c,F,O]),U=function(e,n){if(M.current=n.state,n.state===S.completed&&C.i.sendLog("downloadResult",{result:"success"}),n.state===S.interrupted&&C.i.sendLog("downloadResult",{result:"failure"}),n.state===S.failed&&C.i.sendLog("downloadResult",{result:"failure"}),M.current===S.completed){var t,r=null!==(t=(0,b.$o)(g.LocalStorageKeys.DownloadTimesBeforeLogin))&&void 0!==t?t:0;(0,b.qQ)(g.LocalStorageKeys.DownloadTimesBeforeLogin,r+1)}};(0,v.useEffect)((function(){var e=E.listen(E.EVENT.downloadVideo,W),n=E.listen(E.EVENT.continueDownloadVideo,R),t=E.listen(E.EVENT.retryDownloadVideo,V),r=h().on("downloadURL:progress",U);return function(){null==e||e(),null==n||n(),null==t||t(),l()(r)&&(null==r||r())}}),[W,R,V]);var H=(0,v.useCallback)((function(){L(!1)}),[]);return{showDownloadCard:p,downloadInfo:P,onClose:H}}},6801:function(e,n,t){t.d(n,{C_:function(){return b},De:function(){return E},U7:function(){return k},dY:function(){return x},I7:function(){return S},Vi:function(){return L}});var r,o=t(64408),i=t(32781),a=t(5594),l=t.n(a),c=t(26447),s=t.n(c),u=t(53864),d=t(353),f=t(34452),m=t(21518),v=t(36177),p=t(67318),h=t(13971),g=t(97876),w=t(72603),y=t(92267),_=t(45350),b=function(e){var n,t,r=null!==(n=(0,h.$o)(d.LocalStorageKeys.PhoneResumeUidCache))&&void 0!==n?n:{};return s()()-((null===(t=r[e])||void 0===t?void 0:t.time)===undefined?0:new Date(r[e].time).getTime())>=864e5},E=function(e){var n,t=null!==(n=(0,h.$o)(d.LocalStorageKeys.PhoneResumeUidCache))&&void 0!==n?n:{};t[e]={time:s()()},(0,h.qQ)(d.LocalStorageKeys.PhoneResumeUidCache,t)},k=function(){var e,n=(0,u.useState)(null===(e=r)||void 0===e||e),t=(0,i.Z)(n,2),a=t[0],c=t[1];return(0,u.useEffect)((function(){r===undefined&&(0,o.Z)(l().mark((function e(){var n,t,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.U2({key:m.TccKey.PhoneResumeConfig,defaultValue:m.TCC_DEFAULT_VALUE_MAP.get(m.TccKey.PhoneResumeConfig)});case 2:n=e.sent,t=(n||{}).enable,r=o=void 0===t||t,c(o);case 6:case"end":return e.stop()}}),e)})))()}),[]),a},C=null,N=function(){var e=(0,o.Z)(l().mark((function e(){var n,t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=2;break}return e.abrupt("return",C);case 2:return e.prev=2,e.next=5,(0,p.Dn)();case 5:return t=e.sent,r=t.data,C=void 0===r?null:r,e.abrupt("return",null!==(n=C)&&void 0!==n?n:{});case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",{});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),T=null,x=function(e){var n=arguments.length>1&&arguments[1]!==undefined&&arguments[1],t=(0,u.useState)({}),r=(0,i.Z)(t,2),a=r[0],c=r[1];return(0,u.useEffect)((function(){n&&(0,o.Z)(l().mark((function n(){var t;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null===T&&(T=N()),n.next=3,T;case 3:t=n.sent,c(null==t?void 0:t[e]);case 5:case"end":return n.stop()}}),n)})))()}),[n,e]),a},S=function(e){var n=arguments.length>1&&arguments[1]!==undefined&&arguments[1],t=k(),r=x("multi_device_resume",n);return(0,u.useMemo)((function(){var n=e===v.ed.Normal;return t&&1===(null==r?void 0:r.enable)&&1===(null==r?void 0:r.pc_manual)&&n}),[e,r,t])},L=function(){var e=(0,u.useState)(null),n=(0,i.Z)(e,2),t=n[0],r=n[1];(0,u.useEffect)((function(){var e=g.listen(g.EVENT.webFeedPushMessage,(function(e){r({type:_.i.FeedMulticast,cover:e.cover,itemId:e.itemId,awemeInfo:e.awemeInfo})}));return function(){e()}}),[]);return{multicastInfo:t,onShow:(0,u.useCallback)((function(){y.i.sendLog("continuedBroadcastToastShow",{enter_from:(0,w.vM)()})}),[]),onClick:function(e){y.i.sendLog("continuedBroadcastToastClick",{enter_from:(0,w.vM)(),action:"btn"}),g.emit(g.EVENT.recommendInsertVideo,e.awemeInfo)},onClose:(0,u.useCallback)((function(){r(null)}),[])}}},45350:function(e,n,t){t.d(n,{i:function(){return An},H:function(){return Pn}});var r,o=t(30906),i=t(30673),a=t(32781),l=t(58144),c=t.n(l),s=t(94090),u=t.n(s),d=t(8e3),f=t.n(d),m=t(26447),v=t.n(m),p=t(34346),h=t.n(p),g=t(53864),w=t(63182),y=t(56462),_=t(353),b=t(64408),E=t(5594),k=t.n(E),C=t(82766),N=t.n(C),T=t(56442),x=t.n(T),S=t(11227),L=t.n(S),I=t(88743),Z=t.n(I),A=t(31674),P=t.n(A),D=t(68595),M=t.n(D),B=t(34452),O=t(50101),R=t(92267),V=t(71116),F=t(51365),W=t(72603),U=t(97876),H=t(56596),j=t(92297),G=t(21518),K=0,q=function(e,n){var t=(0,g.useState)(null),r=(0,a.Z)(t,2),o=r[0],i=r[1],l=(0,g.useState)([]),c=(0,a.Z)(l,2),s=c[0],d=c[1];(0,g.useEffect)((function(){var t=!1,r=function(){var e=(0,b.Z)(k().mark((function e(){var r,o,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.U2({key:G.TccKey.LivePush,defaultValue:[],namespace:B.m_.HOME});case 2:r=e.sent,t||d(N()(o=f()(i=f()(r).call(r,(function(e){return 1e3*e.endTime>v()()}))).call(i,(function(e){return!e.isAggressive||Boolean(n)}))).call(o,(function(e,n){return e.startTime-n.startTime})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e&&H.H(r),function(){t=!0}}),[n,e]);var m=(0,g.useMemo)((function(){return(n=null==(e=s)?void 0:e[0])?Math.max(1e3*n.startTime-v()(),0):0;var e,n}),[s]),p=(0,O.I)((0,g.useCallback)(function(){var e=(0,b.Z)(k().mark((function e(n){var t,r,o,a,l,c,u,f,m,p,h,g,w,b,E,C,N,T,S,I,A,D,B,O,R,W;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s.length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,null===(t=M().app)||void 0===t||null===(r=t.getIsFrontShow)||void 0===r?void 0:r.call(t);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:return C=e.t0,N=C.data,e.next=12,(0,j.j)();case 12:if(T=e.sent,S=V.Le.getConfig(V.gI.IsForceInsert)||{},I=S.isForceLive,A=y.Q.getItem({sKey:_.CookieKeys.LivePushRecord})||{},D=A.roomId,B=A.endTime,O=y.Q.getItem({sKey:_.CookieKeys.ClientPush})||{},R=O.live_push_record,W=R&&JSON.parse(R),!(v()()>1e3*s[0].endTime||!1===N||null!=W&&W[null==T||null===(o=T.data)||void 0===o?void 0:o.roomId]&&s[0].startTime<=(null==W?void 0:W[null==T||null===(a=T.data)||void 0===a?void 0:a.roomId])||(null===(l=window)||void 0===l||null===(c=l.__STORE__)||void 0===c||null===(u=c.roomStore)||void 0===u||null===(f=u.roomInfo)||void 0===f?void 0:f.roomId)===(null==T||null===(m=T.data)||void 0===m?void 0:m.roomId)&&null!=T&&null!==(p=T.data)&&void 0!==p&&p.roomId||(null==T||null===(h=T.data)||void 0===h?void 0:h.roomId)===D&&v()()<1e3*B)){e.next=20;break}return d(x()(s).call(s,1)),e.abrupt("return");case 20:if(n()){e.next=24;break}return e.abrupt("return");case 24:if(!1===I||"/"!==(null===(g=location)||void 0===g?void 0:g.pathname)&&"/recommend"!==(null===(w=location)||void 0===w?void 0:w.pathname)||"live.douyin.com"===(null===(b=location)||void 0===b?void 0:b.hostname)){e.next=28;break}return e.abrupt("return");case 28:if(T.haveInfo&&T.haveData&&!L()(E=Z()(null==T?void 0:T.data)).call(E,undefined)){e.next=34;break}if(((K+=1)-1)%3==0){e.next=32;break}return e.abrupt("return");case 32:return F.oe.event.error({name:F.Mo.LivePushNoDataError,report:{logId:null==T?void 0:T.logId,queryRes:P()(T),haveInfo:null==T?void 0:T.haveInfo,haveData:null==T?void 0:T.haveData}}),e.abrupt("return");case 34:i(T),e.next=40;break;case 37:e.prev=37,e.t1=e.catch(0);case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(n){return e.apply(this,arguments)}}(),[s]),3e5,m),h=p.cancel;(0,g.useEffect)((function(){s.length||h()}),[h,s]);var w=(0,g.useCallback)((function(){if(o){var e=(null==o?void 0:o.data)||{},n=e.roomId,t=e.userId,r=s[0]||{},i=r.startTime,a=r.endTime;R.i.sendLog("innerPushShow",{enter_from:(0,W.yW)(),room_id:n,anchor_id:t});y.Q.setItem(_.CookieKeys.LivePushRecord,{roomId:n,startTime:i,endTime:a},86400)}}),[o,s]),E=(0,g.useCallback)((function(){i(null),d(x()(s).call(s,1))}),[s]),C=(0,g.useCallback)((function(){var e,n,t;if(null!=o&&null!==(e=o.data)&&void 0!==e&&e.webRid){var r=(null==o?void 0:o.data)||{},i=r.roomId,a=r.userId,l=(0,W.yW)();R.i.sendLog("innerPushClick",{enter_from:l,room_id:i,anchor_id:a,click_position:"watch"}),U.emit(U.EVENT.videoPause),window.open(u()(n="https://live.douyin.com/".concat(null==o||null===(t=o.data)||void 0===t?void 0:t.webRid,"?enter_from_merge=")).call(n,l,"&enter_method=hq_live_push"))}}),[o]),T=(0,g.useCallback)((function(){var e=(null==o?void 0:o.data)||{},n=e.roomId,t=e.userId,r=(0,W.yW)();R.i.sendLog("innerPushClick",{enter_from:r,room_id:n,anchor_id:t,click_position:"more"}),window.open("https://www.douyin.com/vs","_blank")}),[o]);return{liveInfo:(0,g.useMemo)((function(){return(e=o)?{avatar:null===(n=e.data)||void 0===n||null===(t=n.avatar)||void 0===t||null===(r=t.url_list)||void 0===r?void 0:r[0],cover:null===(i=e.data)||void 0===i||null===(a=i.cover)||void 0===a||null===(l=a.url_list)||void 0===l?void 0:l[0],title:null===(c=e.data)||void 0===c?void 0:c.title,roomId:null===(s=e.data)||void 0===s?void 0:s.roomId,type:An.PushLive,anchorId:null===(u=e.data)||void 0===u?void 0:u.userId,text:"\u6b63\u5728\u64ad\u51fa"}:null;var e,n,t,r,i,a,l,c,s,u}),[o]),onShow:w,onClose:E,onClick:C,onSubTitleClick:T}},Q=function(){var e=(0,g.useState)(null),n=(0,a.Z)(e,2),t=n[0],r=n[1];(0,g.useEffect)((function(){var e=U.listen(U.EVENT.webLivePushMessage,(function(e){var n;null!=e&&e.imageUrl&&null!=e&&e.text&&null!=e&&e.title&&null!=e&&e.webRid?L()(n=location.href).call(n,"live.douyin.com/".concat(null==e?void 0:e.webRid))||r(e):F.oe.event.error({name:F.Mo.LivePushMessageError,report:{message:P()(e)}})}));return function(){e()}}),[]);var l=(0,g.useCallback)((function(){var e,n=t||{},r=n.roomId,o=n.anchorId,a=(0,W.yW)();R.i.sendLog("appointmentPushShow",{enter_from:a,room_id:r,anchor_id:o});var l=y.Q.getItem({sKey:_.CookieKeys.LivePreorderList})||[];y.Q.setItem(_.CookieKeys.LivePreorderList,u()(e=[]).call(e,(0,i.Z)(l),[{roomId:r}]))}),[t]),c=(0,g.useCallback)((function(){var e,n=t||{},r=n.roomId,o=n.anchorId,i=n.webRid,a=(0,W.yW)();R.i.sendLog("appointmentPushClick",{enter_from:a,room_id:r,anchor_id:o}),U.emit(U.EVENT.videoPause),window.open(u()(e="https://live.douyin.com/".concat(i,"?enter_from_merge=")).call(e,a,"&enter_method=inner_push"),"_blank")}),[t]),s=(0,g.useCallback)((function(){r(null)}),[]);return{orderInfo:(0,g.useMemo)((function(){return(e=t)?(0,o.Z)((0,o.Z)({},e),{},{avatar:e.imageUrl,type:An.Preorder}):null;var e}),[t]),onShow:l,onClick:c,onClose:s}},z=t(6801),Y=t(85792),J=t.n(Y),X=t(54805),$=t(79705),ee=t.n($),ne="EAnZYE_A",te="wl54lwxY",re="vT3pEATX",oe="lhN14CeY",ie="KFtP7bgM",ae="FUBL0LO9",le="Qqv8ONZm",ce="XVAncFKz",se="IzPXzHgT",ue="Wy0VnG2u",de="PiEHXdAk",fe="lhD2j0OC",me="S6mQI4xV",ve="GrBDc8t3";function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},pe.apply(this,arguments)}var he,ge,we,ye,_e,be,Ee,ke=function(e){return g.createElement("svg",pe({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=g.createElement("path",{d:"M13.667 13.667a.757.757 0 01-1.07 0l-2.32-2.32-2.318 2.32a.757.757 0 01-1.07-1.07l2.318-2.32-2.319-2.319a.757.757 0 111.07-1.07l2.32 2.319 2.319-2.32a.757.757 0 111.07 1.071l-2.319 2.32 2.32 2.318a.757.757 0 010 1.07z"})))},Ce=t(54516),Ne=t(78846),Te=t(9909),xe=(0,g.memo)((function(e){var n=e.liveInfo,t=e.onClose,r=e.onShow,o=e.onClick,i=e.subTitleElement,a=n||{},l=a.avatar,c=a.title,s=a.text,u=(0,g.useRef)(),d=(0,X.Z)((function(){u.current=J()((function(){t()}),1e4)}));return(0,g.useEffect)((function(){r()}),[r]),(0,g.useEffect)((function(){return d(),function(){clearTimeout(u.current)}}),[]),g.createElement("div",{className:ne,onMouseEnter:function(){clearTimeout(u.current)},onMouseLeave:function(){u.current=J()((function(){t()}),1e4)}},g.createElement("div",{className:te,onClick:o},g.createElement("div",{className:re},g.createElement(Ce.n,{type:"push",src:globalThis.xssNamespace.douyin_web.filterUrl(l,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),liveRoomUrl:"",onClick:function(e){return e.preventDefault()}})),g.createElement("div",{className:oe},g.createElement(Ne.R,{text:c,className:ie}),s&&g.createElement("div",{className:ae,style:{cursor:"default"},onClick:function(e){return e.stopPropagation()}},s),Boolean(i)&&i),g.createElement("div",{className:le},g.createElement("span",null,"\u53bb\u770b\u770b"))),g.createElement(Te.Z,{onClick:function(){t()},className:ee()(ce),src:globalThis.xssNamespace.douyin_web.filterUrl(ke,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:20,height:20,viewBox:"0 0 20 20"}))})),Se=t(59676),Le=t(52441),Ie=(0,Se.default)((function(){return Promise.all([t.e(2447),t.e(7134)]).then(t.bind(t,17134))}),{ssr:!1}),Ze=(0,g.memo)((function(e){var n=e.liveInfo,t=e.onClose,r=e.onShow,o=e.onClick,i=e.subTitleElement,a=n||{},l=a.cover,c=a.title,s=a.text,u=(0,g.useRef)(),d=(0,X.Z)((function(){u.current=J()((function(){t()}),1e4)}));return(0,g.useEffect)((function(){r()}),[r]),(0,g.useEffect)((function(){return d(),function(){clearTimeout(u.current)}}),[]),g.createElement("div",{className:se,onMouseEnter:function(){clearTimeout(u.current)},onMouseLeave:function(){u.current=J()((function(){t()}),1e4)}},g.createElement("div",{className:te,onClick:o},g.createElement("div",{className:ue},g.createElement("img",{src:globalThis.xssNamespace.douyin_web.filterUrl(l,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),onClick:function(e){return e.preventDefault()},width:74}))),g.createElement("div",{className:le,onClick:o},g.createElement(Ne.R,{text:c,className:ie}),s&&g.createElement("div",{className:ae,style:{cursor:"default"},onClick:function(e){return e.stopPropagation()}},s),Boolean(i)&&i,g.createElement("div",{className:de},g.createElement(Ie,{autoplay:!0,loop:!0,data:Le,className:fe}),g.createElement("span",null,"\u89c2\u770b\u76f4\u64ad"))),g.createElement(Te.Z,{onClick:function(){t()},className:ee()(ce),src:globalThis.xssNamespace.douyin_web.filterUrl(ke,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:20,height:20,viewBox:"0 0 20 20"}))})),Ae=t(45380),Pe="JwA6KPqe",De="bV9CRlhx",Me="fjx_GtjM",Be="tyPQ0Zas",Oe="YmCN099L",Re="cqRM3CJs",Ve="dtBTcQbi",Fe="K1GotyNH",We="eRsa9Gtk";function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ue.apply(this,arguments)}var He,je=function(e){return g.createElement("svg",Ue({width:48,height:48,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),he||(he=g.createElement("rect",{x:3,y:3,width:42,height:42,rx:10.125,fill:"#000"})),ge||(ge=g.createElement("path",{d:"M20.948 20.75v-1.196c-.415-.05-.83-.083-1.262-.083-5.15 0-9.354 4.185-9.354 9.349a9.357 9.357 0 003.987 7.654 9.282 9.282 0 01-2.508-6.36c.016-5.097 4.087-9.248 9.137-9.364z",fill:"#00FAF0"})),we||(we=g.createElement("path",{d:"M21.164 34.35a4.264 4.264 0 004.253-4.102V9.908h3.722a6.589 6.589 0 01-.116-1.296h-5.084v20.34a4.264 4.264 0 01-4.253 4.102 4.157 4.157 0 01-1.977-.498 4.235 4.235 0 003.455 1.793zM36.099 16.815v-1.13a7.007 7.007 0 01-3.855-1.145 7.22 7.22 0 003.855 2.275z",fill:"#00FAF0"})),ye||(ye=g.createElement("path",{d:"M32.262 14.541a7.042 7.042 0 01-1.744-4.633h-1.363a7.146 7.146 0 003.107 4.633zM19.686 24.536c-2.36 0-4.27 1.91-4.27 4.267 0 1.644.93 3.055 2.293 3.77a4.292 4.292 0 01-.815-2.491 4.267 4.267 0 014.27-4.268c.432 0 .864.067 1.263.2v-5.181a10.52 10.52 0 00-1.263-.083h-.216v3.985a3.944 3.944 0 00-1.262-.2z",fill:"#FF0050"})),_e||(_e=g.createElement("path",{d:"M36.1 16.815v3.952c-2.642 0-5.068-.847-7.061-2.275v10.311c0 5.148-4.187 9.349-9.354 9.349a9.273 9.273 0 01-5.35-1.694c1.712 1.827 4.137 2.99 6.845 2.99 5.15 0 9.354-4.185 9.354-9.35v-10.31a12.101 12.101 0 007.06 2.274v-5.081a8.76 8.76 0 01-1.494-.166z",fill:"#FF0050"})),be||(be=g.createElement("path",{d:"M29.038 28.804V18.492a12.101 12.101 0 007.06 2.275v-3.952a7.159 7.159 0 01-3.854-2.275 6.987 6.987 0 01-3.09-4.633h-3.721v20.341a4.264 4.264 0 01-4.253 4.102 4.218 4.218 0 01-3.456-1.777 4.266 4.266 0 01-2.293-3.77 4.267 4.267 0 014.27-4.267c.432 0 .864.067 1.263.2V20.75c-5.05.117-9.121 4.268-9.121 9.332 0 2.458.947 4.7 2.508 6.36a9.313 9.313 0 005.35 1.694c5.134.016 9.337-4.185 9.337-9.332z",fill:"#fff"})),Ee||(Ee=g.createElement("rect",{x:35,y:1,width:12,height:12,rx:6,fill:"#FE2C55"})))},Ge=t(95138),Ke=(0,g.memo)((function(e){var n=e.onClose,t=e.item,r=t.scene,o=t.guide,i=t.title,a=t.subTitle,l=(0,g.useRef)();return(0,g.useEffect)((function(){return Ae.Gq.onShow(r,o),l.current=J()((function(){n()}),1e4),function(){clearTimeout(l.current)}}),[]),g.createElement("div",{className:Pe,onMouseEnter:function(){clearTimeout(l.current)},onMouseLeave:function(){l.current=J()((function(){n()}),1e4)}},g.createElement("div",{className:De},g.createElement(Te.Z,{className:ee()(Me),src:globalThis.xssNamespace.douyin_web.filterUrl(je,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:48,height:48,viewBox:"0 0 48 48"}),g.createElement("div",{className:Be},g.createElement("div",{className:Oe},i),g.createElement("div",{className:Re},a)),g.createElement("div",{className:Ve},g.createElement(Ge.zx,{className:Fe,size:"small",onClick:function(){Ae.Gq.onOpen(r,o),n()}},"\u5f00\u542f"))),g.createElement(Te.Z,{onClick:function(){Ae.Gq.onClose(r,o),n()},className:ee()(We),src:globalThis.xssNamespace.douyin_web.filterUrl(ke,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:20,height:20,viewBox:"0 0 20 20"}))})),qe=t(65906),Qe=t(24556);function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ze.apply(this,arguments)}var Ye,Je=function(e){return g.createElement("svg",ze({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),He||(He=g.createElement("path",{d:"M13.707 1.707A1 1 0 0012.293.293L7 5.586 1.707.293A1 1 0 00.293 1.707L5.586 7 .293 12.293a1 1 0 101.414 1.414L7 8.414l5.293 5.293a1 1 0 001.414-1.414L8.414 7l5.293-5.293z",fill:"#fff"})))};function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Xe.apply(this,arguments)}var $e,en=function(e){return g.createElement("svg",Xe({width:17,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ye||(Ye=g.createElement("path",{opacity:.7,d:"M.043 4.28v13.66c0 1.749 0 2.624.363 3.093a1.74 1.74 0 001.314.675c.593.022 1.304-.488 2.726-1.506l9.757-6.989c1.087-.778 1.63-1.168 1.818-1.648a1.74 1.74 0 00-.014-1.303c-.198-.475-.75-.853-1.854-1.608l-9.756-6.67C2.985 1.019 2.28.536 1.693.567A1.74 1.74 0 00.4 1.249C.043 1.716.043 2.571.043 4.281z",fill:"#fff",fillOpacity:.9})))},nn=(0,g.memo)((function(e){var n=e.onClick,t=e.onClose,r=e.onShow,o=e.info,i=o.title,a=void 0===i?"\u662f\u5426\u7eed\u64ad\u624b\u673a\u6296\u97f3\u672a\u770b\u5b8c\u7684\u89c6\u9891\uff1f":i,l=o.text,c=void 0===l?"\u53ef\u5728\u6296\u97f3App\u3010\u64ad\u653e\u8bbe\u7f6e\u3011\u4e2d\u8fdb\u884c\u5173\u95ed":l,s=(0,g.useRef)(),u=(0,X.Z)((function(){s.current=J()((function(){t()}),1e4)}));return(0,g.useEffect)((function(){return r(),u(),function(){clearTimeout(s.current)}}),[]),g.createElement("div",{className:me,onMouseEnter:function(){clearTimeout(s.current)},onMouseLeave:function(){s.current=J()((function(){t()}),1e4)}},g.createElement("div",{className:te,onClick:n},g.createElement("div",{className:ue},g.createElement(Qe.Q,{src:globalThis.xssNamespace.douyin_web.filterUrl(null==o?void 0:o.cover,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),iconWidth:24,iconHeight:28}),g.createElement(Te.Z,{className:ee()(ve),src:globalThis.xssNamespace.douyin_web.filterUrl(en,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:17,height:22,viewBox:"0 0 17 22"}))),g.createElement("div",{className:le},g.createElement("div",null,g.createElement("div",{className:ie},a),c&&g.createElement("div",{className:ae,style:{cursor:"default"},onClick:function(e){return e.stopPropagation()}},c)),g.createElement("div",{className:de,onClick:n},g.createElement("span",null,"\u7ee7\u7eed\u64ad\u653e"))),g.createElement(Te.Z,{onClick:function(){R.i.sendLog("continuedBroadcastToastClick",{enter_from:(0,W.mo)(),action:"close"}),t()},className:ee()(ce),src:globalThis.xssNamespace.douyin_web.filterUrl(Je,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:14,height:14,viewBox:"0 0 14 14"}))})),tn=t(93662),rn=t.n(tn),on=t(60443),an=t(92264),ln=t(12338),cn=t(78384),sn=t(536),un="VNA6qhjy",dn="lNoNb6yc",fn="ckntjaJR",mn="aPuSnZS4",vn="ij3LRkRF",pn="lxzKfsoq",hn="gT7dbIVr",gn="kdOy4ZeY";function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},wn.apply(this,arguments)}var yn,_n,bn=function(e){return g.createElement("svg",wn({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),$e||($e=g.createElement("g",{stroke:"#fff",strokeWidth:2},g.createElement("path",{d:"M1 8a7 7 0 017-7v0a7 7 0 017 7v0a7 7 0 01-7 7v0a7 7 0 01-7-7v0z"}),g.createElement("path",{d:"M5 7.3l2.5 2.5 4-4"}))))};function En(){return En=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},En.apply(this,arguments)}var kn=function(e){return g.createElement("svg",En({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),yn||(yn=g.createElement("path",{d:"M1 8a7 7 0 017-7v0a7 7 0 017 7v0a7 7 0 01-7 7v0a7 7 0 01-7-7v0z",stroke:"#fff",strokeWidth:2})),_n||(_n=g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.587 8L5 9.588 6.414 11 8 9.415l1.588 1.587 1.414-1.415-1.587-1.586 1.587-1.586L9.589 5 8 6.587 6.414 5 5 6.414l1.587 1.587z",fill:"#fff"})))},Cn=t(34568),Nn=t(14033);function Tn(e){var n=e.totalBytes,t=e.progress,r=e.handleButtonClick,o=e.buttonText;return g.createElement("div",{className:mn},g.createElement("div",{className:vn},g.createElement(Cn.Z,{percent:t}),g.createElement("div",{className:hn},"\u4e0b\u8f7d\u4e2d ",n,"MB/",t,"%")),g.createElement(Ge.zx,{className:dn,type:"secondary",size:"small",onClick:r},o))}function xn(e){var n=e.handleButtonClick,t=e.descText,r=e.buttonText,o=e.iconSrc,i=e.hideButton,a=void 0!==i&&i,l=e.iconClass;return g.createElement("div",{className:mn},g.createElement("div",{className:vn},g.createElement(Te.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(o,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:16,height:16,viewBox:"0 0 16 16",className:ee()(pn,l)}),g.createElement("div",{className:hn},t)),!1===a&&g.createElement(Ge.zx,{className:dn,type:"secondary",size:"small",onClick:n},r))}var Sn=5e3,Ln=(0,g.memo)((function(e){var n=e.item,t=(0,g.useState)(0),r=(0,a.Z)(t,2),o=r[0],i=r[1],l=(0,g.useState)("0"),c=(0,a.Z)(l,2),s=c[0],u=c[1],d=(0,g.useState)(Nn.tN.pending),f=(0,a.Z)(d,2),m=f[0],v=f[1],p=(0,g.useRef)(),h=(0,g.useState)(0),w=(0,a.Z)(h,2),y=w[0],_=w[1],E=(0,g.useState)((0,cn.Q5)()?1e6:1048576),C=(0,a.Z)(E,1)[0],N=(0,g.useState)(!1),T=(0,a.Z)(N,2),x=T[0],S=T[1],L=e.onClose,I=(0,g.useCallback)((function(e){ln.F.info({text:e,zIndex:9999},(0,Nn.g8)())}),[]);(0,an.O)({onChange:function(e){e.isFullscreen&&(null==L||L())}});var Z=(0,g.useCallback)((function(){clearTimeout(p.current)}),[]),A=(0,g.useCallback)((function(){m!==Nn.tN.isDownloading&&m!==Nn.tN.pending&&(p.current=J()((function(){L()}),Sn))}),[m,L]);(0,g.useEffect)((function(){return function(){clearTimeout(p.current)}}),[]),(0,g.useEffect)((function(){var e=U.listen(U.EVENT.changeMinWindows,(function(e){var n=e.event;"open"===n&&S(!0),"close"===n&&S(!1)}));return function(){null==e||e()}}),[]),(0,g.useEffect)((function(){n.dataSize?u((n.dataSize/C).toFixed(1)):u("0")}),[n,C]),(0,g.useEffect)((function(){var e=M().on("downloadURL:progress",(function(e,t){var r=t.receivedBytes,o=t.state,a=t.totalBytes;if(Number(a)>0&&u((Number(a)/C).toFixed(1)),o===Nn.tN.interrupted)return I("\u89c6\u9891\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6587\u4ef6\u4e0b\u8f7d\u76ee\u5f55\u6743\u9650/\u5185\u5b58\u7a7a\u95f4"),v(Nn.tN.failed),void(p.current=J()((function(){L()}),Sn));if(o!==Nn.tN.isDownloading)return o===Nn.tN.completed?(v(Nn.tN.completed),void(p.current=J()((function(){L()}),Sn))):o===Nn.tN.failed?(v(Nn.tN.failed),void(p.current=J()((function(){L()}),Sn))):void 0;v(Nn.tN.isDownloading),clearTimeout(p.current);var l=Math.floor(r/n.dataSize*100);i(l<100?l:100)}));return function(){rn()(e)&&(null==e||e())}}),[n,e,L,C,I]);var P=function(){var e=(0,b.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(Nn.tN.pending),_(y+1),U.emit(U.EVENT.retryDownloadVideo);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g.createElement("div",{className:un,onMouseEnter:Z,onMouseLeave:A,style:{visibility:x?"hidden":"visible"}},(m===Nn.tN.isDownloading||m===Nn.tN.pending)&&g.createElement(Tn,{totalBytes:s,progress:o,handleButtonClick:function(){sn.d("cancelVideoDownload"),I("\u89c6\u9891\u4e0b\u8f7d\u5df2\u53d6\u6d88"),L()},buttonText:"\u53d6\u6d88\u4e0b\u8f7d"}),m===Nn.tN.completed&&g.createElement(xn,{iconSrc:bn,handleButtonClick:function(){R.i.sendLog("downloadMenuClick",{click_from:"download_success_push"}),sn.d("showItemInFolder"),L()},descText:"\u4e0b\u8f7d\u5b8c\u6210",buttonText:"\u6253\u5f00\u76ee\u5f55"}),m===Nn.tN.failed&&g.createElement(xn,{iconSrc:kn,handleButtonClick:P,descText:"\u4e0b\u8f7d\u5931\u8d25",buttonText:"\u91cd\u65b0\u4e0b\u8f7d",hideButton:y>=3,iconClass:gn}),g.createElement(Te.Z,{onClick:function(){m===Nn.tN.isDownloading&&(sn.d("cancelVideoDownload"),I("\u89c6\u9891\u4e0b\u8f7d\u5df2\u53d6\u6d88")),L()},className:ee()(fn),src:globalThis.xssNamespace.douyin_web.filterUrl(ke,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:20,height:20,viewBox:"0 0 20 20"}))})),In=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),Zn=(0,g.memo)((function(e){var n,t=(0,g.useRef)(),r=(0,g.useRef)(),o=(0,g.useRef)(!1);!o.current&&In&&(r.current=function(){var e,n,t,r;if(!In)return null;var o=document.createElement("div"),i=(null===(e=document)||void 0===e?void 0:e.fullscreenElement)||(null===(n=document)||void 0===n?void 0:n.msFullscreenElement)||(null===(t=document)||void 0===t?void 0:t.mozFullScreenElement)||(null===(r=document)||void 0===r?void 0:r.webkitFullscreenElement)||null;return i?i.appendChild(o):document.body.appendChild(o),o}(),t.current=null===(n=r.current)||void 0===n?void 0:n.parentNode,o.current=!0);return(0,g.useEffect)((function(){var e;return null===(null===(e=r.current)||void 0===e?void 0:e.parentNode)&&null!==t.current&&t.current.appendChild(r.current),function(){var e,n;null===(e=r.current)||void 0===e||null===(n=e.parentNode)||void 0===n||n.removeChild(r.current)}}),[]),r.current?on.createPortal(g.createElement(Ln,e),r.current):null})),An=function(e){return e.Preorder="preorder",e.PushLive="pushLive",e.TrayPushGuide="TrayPushGuide",e.FeedMulticast="FeedMulticast",e.DownloadVideo="DownloadVideo",e}({}),Pn=function(){var e=(0,g.useState)([]),n=(0,a.Z)(e,2),t=n[0],r=n[1],l=(0,g.useRef)([]),s=q(!0,!1),d=s.liveInfo,m=s.onShow,p=s.onClose,b=s.onClick,E=Q(),k=E.orderInfo,C=E.onShow,N=E.onClick,T=E.onClose,x=function(){var e=(0,g.useState)(null),n=(0,a.Z)(e,2),t=n[0],r=n[1];return(0,g.useEffect)((function(){var e=U.listen(U.EVENT.showTrayPushGuide,(function(e){var n,t,o=e||{},i=o.scene,a=o.guide;i===qe.bu.FriendTab&&a===qe.YY.Tray&&(n="\u5f00\u542f\u300c\u5f00\u673a\u81ea\u542f\u52a8\u300d",t="\u53ca\u65f6\u63a5\u6536\u4e0e\u4f60\u76f8\u5173\u7684\u4e92\u52a8\u6d88\u606f"),i===qe.bu.FriendTab&&a===qe.YY.Push&&(n="\u5f00\u542f\u6d88\u606f\u901a\u77e5\u8bbe\u7f6e",t="\u53ca\u65f6\u63a5\u6536\u4e0e\u4f60\u76f8\u5173\u7684\u4e92\u52a8\u6d88\u606f"),i===qe.bu.Follow&&a===qe.YY.Push&&(n="\u5f00\u542f\u300c\u76f4\u64ad\u300d\u63d0\u9192",t="\u53ca\u65f6\u63a5\u6536TA\u7684\u5f00\u64ad\u6d88\u606f"),n&&r({scene:i,guide:a,title:n,subTitle:t})}));return function(){e()}}),[]),{info:t,onClose:(0,g.useCallback)((function(){r(null)}),[])}}(),S=x.info,L=x.onClose,I=(0,Nn.eQ)(),Z=I.showDownloadCard,A=I.downloadInfo,P=I.onClose,D=(0,z.Vi)(),M=D.multicastInfo,B=D.onShow,O=D.onClick,R=D.onClose;(0,g.useEffect)((function(){l.current=t}),[t]),(0,g.useEffect)((function(){var e=l.current;if(d&&!c()(e).call(e,(function(e){return e.roomId===d.roomId}))){var n=y.Q.getItem({sKey:_.CookieKeys.LivePreorderList})||[];if(c()(n).call(n,(function(e){return e.roomId===d.roomId})))return;w.YY.insertTask(w.BE.PushMessage,(function(){r((function(e){var n;return u()(n=[d]).call(n,(0,i.Z)(e))}))}),{isBlock:!0,onFinish:function(){r((function(e){return f()(e).call(e,(function(e){return e.roomId!==d.roomId}))}))}})}if(k&&!c()(e).call(e,(function(e){return e.roomId===k.roomId}))){var t=y.Q.getItem({sKey:_.CookieKeys.LivePushRecord})||{};if(t.roomId===k.roomId&&1e3*t.endTime>v()())return;w.YY.insertTask(w.BE.PushMessage,(function(){r((function(e){var n;return u()(n=[k]).call(n,(0,i.Z)(e))}))}),{isBlock:!0,onFinish:function(){r((function(e){return f()(e).call(e,(function(e){return e.roomId!==k.roomId}))}))}})}M&&w.YY.insertTask(w.BE.PushMessage,(function(){r((function(e){var n;return u()(n=[M]).call(n,(0,i.Z)(e))}))}),{isBlock:!1,onFinish:function(){r((function(e){return f()(e).call(e,(function(e){return e.itemId!==M.itemId}))}))}})}),[d,k,M]),(0,g.useEffect)((function(){S&&w.YY.insertTask(w.BE.PushMessage,(function(){r((function(e){var n;return u()(n=[(0,o.Z)((0,o.Z)({},S),{},{type:An.TrayPushGuide})]).call(n,(0,i.Z)(e))}))}),{isBlock:!0,onFinish:function(){r((function(e){return f()(e).call(e,(function(e){return e.type!==An.TrayPushGuide}))}))}})}),[S]),(0,g.useEffect)((function(){t&&t.length||w.YY.finishTask(w.BE.PushMessage)}),[t]);var V=function(e){var n=e||{},t=n.type,o=n.roomId;t===An.Preorder?T():t===An.PushLive&&p(),r((function(e){return null==e?void 0:f()(e).call(e,(function(e){return(null==e?void 0:e.roomId)!==o}))}))},F=function(e){var n=(e||{}).type;n===An.Preorder?C():n===An.PushLive&&m()},W=function(e){var n=(e||{}).type;n===An.Preorder?N():n===An.PushLive&&b(),V(e)},H=function(e){R(),r((function(n){return null==n?void 0:f()(n).call(n,(function(n){return(null==n?void 0:n.itemId)!==e.itemId}))}))};return g.createElement(g.Fragment,null,Z&&g.createElement(Zn,{item:A,onClose:P}),g.createElement("div",null,h()(t).call(t,(function(e){return e.type&&e.type===An.TrayPushGuide?g.createElement(Ke,{key:An.TrayPushGuide,item:e,onClose:function(){L(),V(e)}}):e.type===An.Preorder?g.createElement(xe,{key:null==e?void 0:e.roomId,liveInfo:e,onClose:function(){return V(e)},onShow:function(){return F(e)},onClick:function(){return W(e)}}):e.type===An.PushLive?g.createElement(Ze,{key:null==e?void 0:e.roomId,liveInfo:e,onClose:function(){return V(e)},onShow:function(){return F(e)},onClick:function(){return W(e)}}):e.type===An.FeedMulticast?g.createElement(nn,{info:e,onClose:function(){H(e)},onShow:B,onClick:function(){var n;O(n=e),H(n)}}):null}))))}},29416:function(e,n,t){t.d(n,{tt:function(){return ce},_R:function(){return ue},ep:function(){return se}});var r,o,i,a,l,c,s,u,d,f=t(64408),m=t(32781),v=t(65146),p=t(5594),h=t.n(p),g=t(53864),w=t(79705),y=t.n(w),_=t(96716),b=t(34452),E=t(21518),k=t(72603),C=t(5277),N=t(78384),T=t(25361),x=t(74317),S=t(22161),L=t(63255);function I(){return I=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},I.apply(this,arguments)}var Z,A,P=function(e){return g.createElement("svg",I({width:50,height:51,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=g.createElement("rect",{x:2,width:48,height:48,rx:10.667,fill:"#000"})),o||(o=g.createElement("rect",{x:2.25,y:.25,width:47.5,height:47.5,rx:10.417,stroke:"#fff",strokeOpacity:.3,strokeWidth:.5})),i||(i=g.createElement("path",{d:"M23.485 19.383v-1.33a11.694 11.694 0 00-1.404-.092c-5.727 0-10.401 4.653-10.401 10.396 0 3.508 1.755 6.629 4.434 8.512a10.322 10.322 0 01-2.79-7.072c.018-5.669 4.545-10.285 10.161-10.414z",fill:"#00FAF0"})),a||(a=g.createElement("path",{d:"M23.726 34.504a4.742 4.742 0 004.73-4.56V7.323h4.138a7.328 7.328 0 01-.13-1.441h-5.653v22.62a4.742 4.742 0 01-4.73 4.56 4.623 4.623 0 01-2.198-.553 4.71 4.71 0 003.843 1.994zM40.333 15.006v-1.255a7.792 7.792 0 01-4.286-1.274 8.029 8.029 0 004.286 2.53z",fill:"#00FAF0"})),l||(l=g.createElement("path",{d:"M36.064 12.472a7.83 7.83 0 01-1.94-5.152H32.61a7.946 7.946 0 003.455 5.152zM22.084 23.593a4.745 4.745 0 00-4.748 4.745 4.723 4.723 0 002.55 4.192 4.774 4.774 0 01-.906-2.77 4.745 4.745 0 014.748-4.745c.48 0 .961.074 1.404.221v-5.76a11.694 11.694 0 00-1.404-.093h-.24v4.431a4.386 4.386 0 00-1.404-.221z",fill:"#FE2C55"})),c||(c=g.createElement("path",{d:"M40.335 15.008v4.395c-2.937 0-5.635-.942-7.852-2.53V28.34c0 5.724-4.655 10.396-10.401 10.396-2.217 0-4.268-.702-5.95-1.884 1.904 2.032 4.601 3.324 7.613 3.324 5.727 0 10.401-4.653 10.401-10.396V18.313a13.457 13.457 0 007.852 2.53v-5.65a9.755 9.755 0 01-1.663-.185z",fill:"#FE2C55"})),s||(s=g.createElement("path",{d:"M32.481 28.334V16.867a13.457 13.457 0 007.852 2.53v-4.395a7.961 7.961 0 01-4.286-2.53 7.77 7.77 0 01-3.436-5.152h-4.139v22.62a4.742 4.742 0 01-4.73 4.561 4.691 4.691 0 01-3.842-1.975 4.744 4.744 0 01-2.55-4.192 4.745 4.745 0 014.748-4.746c.48 0 .96.074 1.404.222v-4.432c-5.616.13-10.143 4.746-10.143 10.378 0 2.733 1.053 5.225 2.79 7.072a10.356 10.356 0 005.95 1.883c5.708.019 10.382-4.653 10.382-10.377z",fill:"#fff"})),u||(u=g.createElement("g",{filter:"url(#dy_svg__filter0_d_3174_122649)"},g.createElement("path",{d:"M6.433 38.133c-2.065 2.655-3.011 6.874-3.097 8.534 1.445-3.034 4.387-5.531 5.677-6.4l2.323 1.896V36H4.368l2.065 2.133z",fill:"#2C2D31"}),g.createElement("path",{d:"M8.989 40.966l1.994 1.629a.558.558 0 00.91-.432V36a.558.558 0 00-.557-.557H4.368a.557.557 0 00-.4.945l1.736 1.794c-.939 1.332-1.624 2.944-2.093 4.423-.516 1.627-.786 3.144-.832 4.033a.558.558 0 001.06.268c1.272-2.67 3.781-4.936 5.15-5.94z",stroke:"#fff",strokeWidth:1.115,strokeLinecap:"round",strokeLinejoin:"round"}))),d||(d=g.createElement("defs",null,g.createElement("filter",{id:"dy_svg__filter0_d_3174_122649",x:.546,y:33.768,width:13.58,height:16.244,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},g.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),g.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),g.createElement("feOffset",{dy:.558}),g.createElement("feGaussianBlur",{stdDeviation:.836}),g.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),g.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),g.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_3174_122649"}),g.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_3174_122649",result:"shape"})))))};function D(){return D=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},D.apply(this,arguments)}var M,B=function(e){return g.createElement("svg",D({width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Z||(Z=g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.25 10.479V7.1a2.35 2.35 0 00-2.35-2.35h-8.4v.057l.618 1.443H20.9c.47 0 .85.38.85.85v2.953h.15c.502 0 .968.157 1.35.426z",fill:"#8d8e93"})),A||(A=g.createElement("path",{d:"M4.5 5.6A1.6 1.6 0 016.1 4h4.183a1.6 1.6 0 011.471.97l2.084 4.863a1.6 1.6 0 001.47.97H21.9a1.6 1.6 0 011.6 1.6V21.4a1.6 1.6 0 01-1.6 1.6H6.1a1.6 1.6 0 01-1.6-1.6V5.6z",stroke:"#8d8e93",strokeWidth:1.5})))};function O(){return O=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},O.apply(this,arguments)}var R,V=function(e){return g.createElement("svg",O({width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M||(M=g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.25 22.4a2.35 2.35 0 002.35 2.35h16.8a2.35 2.35 0 002.35-2.35V5.6a2.35 2.35 0 00-2.35-2.35H5.6A2.35 2.35 0 003.25 5.6v16.8zm2.35.85a.85.85 0 01-.85-.85v-9.65h18.5v9.65c0 .47-.38.85-.85.85H5.6zM4.75 5.6v5.65h18.5V5.6a.85.85 0 00-.85-.85H5.6a.85.85 0 00-.85.85zM15.5 8.75h5v-1.5h-5v1.5z",fill:"#8d8e93"})))};function F(){return F=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},F.apply(this,arguments)}var W=function(e){return g.createElement("svg",F({width:8,height:10,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),R||(R=g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 0h-1v5.473l-2.293-2.18L.5 4 4 7.328 7.5 4l-.707-.707L4.5 5.473V0zm3 8.5h-7v1h7v-1z",fill:"#8d8e93"})))},U="k2rclMPY",H="Jw69oSDo",j="id5GRi1B",G="x0DqWvcJ",K="MFrWMGy6",q="bFNz5MI6",Q="FSXeeUsN",z="vucBBXWL",Y="Z75_VPSX",J="GFQHopYK",X="c6roK33L",$="KjOZCZMM",ee="RKfGw3iO",ne="Ji9YW1s3",te=t(9909),re=t(55283),oe=t(51357),ie=t(96164),ae=t(34590),le=function(e){var n=e.isInner,t=e.installPWA,r=e.withQuickAccessClose,o=(0,g.useCallback)((function(){oe.Z.sendLog("webCollectClick",{enter_from:(0,k.vM)(),enter_method:n?"hover":"guide"}),t(),r&&r()}),[t,r,n]);return g.createElement("div",{className:y()(z,(0,v.Z)({},Y,n))},g.createElement(te.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(P,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:50,height:51,viewBox:"0 0 50 51"}),g.createElement("div",{className:J},"\u6dfb\u52a0\u6296\u97f3\u5230\u7535\u8111\u684c\u9762"),g.createElement("div",{className:X},"\u4e0b\u6b21\u53ef\u4ee5\u5728\u684c\u9762\u5feb\u6377\u8bbf\u95ee\u6296\u97f3"),g.createElement("div",{className:y()($,(0,v.Z)({},Y,n)),onClick:o},"\u7acb\u5373\u6dfb\u52a0"))},ce=(0,g.memo)((function(e){var n=e.installPWA,t=e.withQuickAccessClose,r=(0,_.x)((function(){return oe.Z.sendLog("webCollectNotify",{enter_from:(0,k.mo)(),enter_method:"guide"})}));return g.createElement("div",{className:K,ref:r},g.createElement("div",{className:q},g.createElement(te.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(T.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:y()(Q),onClick:t,width:10,height:10,viewBox:"0 0 13 13"}),g.createElement(le,{isInner:!1,installPWA:n,withQuickAccessClose:t})),g.createElement("div",{className:j}),g.createElement("div",{className:G}))})),se=(0,g.memo)((function(e){var n=e.installPWA,t=e.showBrowserPluginGuide,r=e.showQuickAccessPWA,o=e.withQuickAccessClose,i=(0,_.x)((function(){return oe.Z.sendLog("webCollectNotify",{enter_from:(0,k.mo)(),enter_method:"hover"})})),a=(0,_.x)((function(){return oe.Z.sendLog("webDesktopNotify",{enter_from:(0,k.vM)()})})),l=(0,g.useState)([]),c=(0,m.Z)(l,2),s=c[0],u=c[1],d=(0,g.useCallback)((0,f.Z)(h().mark((function e(){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe.Z.sendLog("webDesktopClick",{enter_from:(0,k.vM)()}),e.next=3,(0,ie.Bg)();case 3:if(n=e.sent,!(0,C.i7)()||n){e.next=7;break}return ae.F.info("\u5f53\u524d\u7f51\u7edc\u65e0\u6cd5\u8bbf\u95eechrome\u5e94\u7528\u5546\u5e97\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u540e\u518d\u8bd5"),e.abrupt("return");case 7:(0,ie.d7)(s),o&&o();case 9:case"end":return e.stop()}}),e)}))),[s,o]);return(0,g.useEffect)((function(){if(t){var e=!1;return b.U2({key:E.TccKey.BrowserPluginInfo,defaultValue:E.TCC_DEFAULT_VALUE_MAP.get(E.TccKey.BrowserPluginInfo)}).then((function(n){var t;return!e&&u(null!==(t=null==n?void 0:n.pluginUrlList)&&void 0!==t?t:[])})),function(){e=!0}}}),[]),g.createElement("div",{className:K,ref:i},g.createElement("div",{className:q},r&&g.createElement(le,{isInner:!0,installPWA:n}),t&&g.createElement("div",{className:H,ref:a},g.createElement(te.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(V,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:28,height:28,viewBox:"0 0 28 28"}),g.createElement("div",{className:ee},g.createElement("p",{className:J},"\u6296\u97f3\u6d4f\u89c8\u5668\u63d2\u4ef6"),g.createElement("p",{className:X},"\u81ea\u5b9a\u4e49\u6d4f\u89c8\u5668\u65b0\u6807\u7b7e\u9875")),g.createElement("div",{className:$,onClick:d},g.createElement(te.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(W,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:7,height:10,viewBox:"0 0 7 10"}),g.createElement("span",{className:ne},"\u53bb\u5b89\u88c5"))),g.createElement("div",{className:H},g.createElement(te.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(B,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:28,height:28,viewBox:"0 0 28 28"}),g.createElement("div",{className:ee},g.createElement("div",{className:J},"\u6dfb\u52a0\u7f51\u9875\u6536\u85cf\u5939"),g.createElement("div",{className:X},(0,N.Q5)()?"\u300ccommand+D\u300d\u6dfb\u52a0\u81f3\u6536\u85cf\u5939":"\u300cctrl+D\u300d\u6dfb\u52a0\u6296\u97f3\u81f3\u6536\u85cf\u5939")))))})),ue=(0,g.memo)((function(e){var n=e.activityName,t=e.transparent,r=e.installPWA,o=e.onQuickAccessGuideEnter,i=e.onQuickAccessGuideLeave,a=e.showColdStart,l=e.showHover,c=e.showQuickAccessBadge,s=e.withQuickAccessClose,u=e.showBrowserPluginGuide,d=e.showQuickAccessPWA,f=e.onMouseEnter,m=e.onMouseLeave,v=e.useLinearIcon,p=e.usePlanarIcon;return g.createElement(re.Y,{type:"circleButtonWithText",badge:"round",text:"\u5feb\u6377\u8bbf\u95ee",icon:v?x.Z:p?S.Z:L.Z,iconHeight:24,iconWidth:24,viewBox:"0 0 24 24",onMouseEnter:function(e){o(e),f()},onMouseLeave:function(){i(),m()},showBadge:c,activityName:n,transparent:t,className:"quick-access-nav-icon"},!l&&a&&g.createElement("div",{className:U},g.createElement(ce,{installPWA:r,withQuickAccessClose:s})),l&&g.createElement("div",{className:U},g.createElement(se,{installPWA:r,showBrowserPluginGuide:u,showQuickAccessPWA:d,withQuickAccessClose:s})))}))},56003:function(e,n,t){t.d(n,{h:function(){return y},j:function(){return T}});var r=t(65146),o=t(94090),i=t.n(o),a=t(53864),l=t(79705),c=t.n(l),s=t(23391),u=t(89909),d=t(65586),f=t(92371),m=t(92281),v=t(11179),p={hoverBold:"bhpixfNG",aLinkWrapper:"OMlv_Xup",badge:"QIJri12p",svgBadge:"DWRJmlZ8",activity:"qm891520",vsTransMode:"oTbgb08Q",childrenContainer:"nkKKNGny"},h=t(77060),g=t(9909),w="\u76f4\u64ad\u6570\u636e";function y(e){var n,o=e.className,l=e.onClick,s=e.isLogin,m=e.url,y=e.text,_=e.clickToLogin,b=e.loginSuccess,E=e.onMouseEnter,k=e.onMouseLeave,C=e.onMouseOver,N=e.onMouseOut,T=e.loginHeaderText,x=e.jumpAfterLogin,S=e.loginEventParams,L=e.badge,I=e.activityName,Z=e.aLinkStyle,A=e.children,P=e.childrenContainerClassName,D=e.downloadAttr,M=e.target,B=e.showBadge,O=void 0===B||B,R=e.badgeStyle,V=e.badgeText,F=function(e){var n,r,o=null==l?void 0:l(e);_&&!1===s&&(t.e(6405).then(t.bind(t,26405)).then((function(e){var n,t,r;(0,e.navShowAccount)({success:function(){x&&window.open(m,"_blank"),null==b||b()},enterMethod:"navigation_bar",next:i()(n="".concat(d.tJ)).call(n,null===(t=window)||void 0===t||null===(r=t.location)||void 0===r?void 0:r.host),headerText:T,teaEvtParams:S})})),null==e||null===(r=e.preventDefault)||void 0===r||r.call(e));return!m&&(null==e||null===(n=e.preventDefault)||void 0===n||n.call(e)),o},W=["noopener",(0,f.P)(y)];return y!==w&&W.push("noreferrer"),a.createElement("div",{onMouseEnter:function(e){null==E||E(e)},onMouseLeave:function(e){null==k||k(e)},onMouseOver:function(e){null==C||C(e)},onMouseOut:function(e){null==N||N(e)},className:c()(p.aLinkWrapper,p.hoverBold,o,(n={isDark:Boolean(I)},(0,r.Z)(n,p.activity,Boolean(I)),(0,r.Z)(n,null==p?void 0:p[I],I),n))},m?a.createElement(h.a,{target:M||"_blank",rel:W.join(" "),href:globalThis.xssNamespace.douyin_web.filterUrl(m,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),onClick:F,className:Z,download:D,"data-e2e":"alink-item"},y):a.createElement("span",{className:Z,onClick:F},y),O&&("round"===L||"text"===L)&&a.createElement(u.C,{className:p.badge,type:L,text:"text"===L?V||y:"",style:R}),O&&"svg"===L&&a.createElement(g.Z,{style:R,className:p.svgBadge,src:globalThis.xssNamespace.douyin_web.filterUrl(v.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),viewBox:"0 0 29 12",width:29,height:12}),a.createElement("div",{className:c()(p.childrenContainer,P)},A))}var _={key:"doubi_recharge",text:"\u6296\u5e01\u5145\u503c",url:"https://".concat(m.HOME_DOMAIN,"/falcon/webcast_openpc/pages/douyin_recharge/index.html")},b={key:"creator",text:"\u521b\u4f5c\u8005\u670d\u52a1",url:"https://".concat(m.CREATOR_DOMAIN)},E={key:"rule",text:"\u89c4\u5219\u4e2d\u5fc3",url:"https://".concat(m.HOME_DOMAIN,"/rule")},k={key:"aboutDouyin",text:"\u5173\u4e8e\u6296\u97f3",url:"https://".concat(m.HOME_DOMAIN,"/home")},C={key:"platform",text:"\u6296\u97f3\u5f00\u653e\u5e73\u53f0",url:"https://".concat(m.OPRNPLATFORM_DOMAIN,"/?source=douyin_web")},N={key:"certification",text:"\u8ba4\u8bc1\u4e0e\u5408\u4f5c",url:"https://".concat(m.HOME_DOMAIN,"/certification/#certification")},T={recharge:_,homepage:{key:"personal_panel",text:"\u4e2a\u4eba\u4e3b\u9875",clickToLogin:!0,loginHeaderText:"\u767b\u5f55\u540e\u5373\u53ef\u67e5\u770b\u201c\u4e2a\u4eba\u4e3b\u9875\u201d"},liveMate:{key:"streaming_tool",text:"\u76f4\u64ad\u4f34\u4fa3",url:"https://streamingtool.douyin.com/",clickToLogin:!0,jumpAfterLogin:!0,loginHeaderText:"\u767b\u5f55\u540e\u5373\u53ef\u67e5\u770b\u201c\u76f4\u64ad\u4f34\u4fa3\u201d"},logout:{key:"logout",text:"\u9000\u51fa\u767b\u5f55"},creator:b,rule:E,aboutDouyin:k,marketing:{key:"marketing",text:"\u5e7f\u544a\u6295\u653e",url:"https://".concat(m.OCEAN_ENGINE_DOMAIN,"/resource/douyin?source=douyin-pc")},ecommerce:{text:"\u6296\u97f3\u7535\u5546",url:"//".concat(m.DOUYIN_EC_DOMAIN,"/"),key:"ecommerce"},certification:N,platform:C,publish:{key:"publish",text:"\u53d1\u5e03\u89c6\u9891",url:"https://".concat(m.CREATOR_DOMAIN,"/creator-micro/content/upload?enter_from=dou_web"),badge:"round",badgeStyle:{right:"54px",top:"18px"}},videoManage:{key:"videoManage",text:"\u89c6\u9891\u7ba1\u7406",url:"https://".concat(m.CREATOR_DOMAIN,"/creator-micro/content/manage")},postStatistics:{key:"postStatistics",text:"\u4f5c\u54c1\u6570\u636e",url:"https://".concat(m.CREATOR_DOMAIN,"/creator-micro/data/stats/overview?enter_from=dou_web"),badge:"svg",badgeText:"NEW",badgeStyle:{top:"17px",right:"42px"}},creatorSchool:{key:"creatorSchool",text:"\u521b\u4f5c\u8005\u5b66\u4e60\u4e2d\u5fc3",url:"https://".concat(m.CREATOR_DOMAIN,"/creator-school")},backToHome:{key:"backToHome",text:"\u8fd4\u56de\u63a8\u8350\u9875",url:"https://".concat(m.HOME_DOMAIN)},cooperation:{key:"cooperation",text:"\u5408\u4f5c"},downloadClient:{key:"downloadClient",text:"\u4e0b\u8f7d\u5ba2\u6237\u7aef"},collectionGuide:{key:"collectionDouyin",text:"\u6536\u85cf\u7f51\u9875"},liveData:{key:"livedata",text:"\u76f4\u64ad\u6570\u636e",url:s.LIVE_DATA_LINK},liveSafaMainDomain:{key:"liveSafaMainDomain",text:"\u6296\u97f3\u76f4\u64ad\u81ea\u5f8b\u5e73\u53f0",url:"https://live.douyin.com/live_communication"},myOrder:{key:"my_order",text:"\u6211\u7684\u8ba2\u5355",clickToLogin:!0,loginHeaderText:"\u767b\u5f55\u540e\u5373\u53ef\u67e5\u770b\u201c\u6211\u7684\u8ba2\u5355\u201d"},quickAccess:{key:"quickAccess",text:"\u5feb\u6377\u8bbf\u95ee"},capcutConfig:{key:"capcut",text:"\u526a\u6620\u4e13\u4e1a\u7248",url:"https://api.amemv.com/magic/eco/runtime/release/6461f944e84c15036369f2a8?appType=douyinpc&magic_page_no=1&call_link=vega%3A%2F%2Fcom.ies.videocut%2Fmain%2Fdraft%2Fnew_draft%3F%3Ffrom%3Ddouyin_post_panel",badge:"svg",badgeText:"NEW",badgeStyle:{top:"17px",right:"29px"}}}},57768:function(e,n,t){t.d(n,{E6:function(){return $}});var r=t(32781),o=t(19478),i=t.n(o),a=t(53864),l=t(25902),c=t(71116),s=t(65146),u=t(79705),d=t.n(u),f=t(25361),m=t(86846),v={dropdownContainer:"fDnxVO4K",shadowChange:"DjFZ2wqx",overflowChange:"jbD6tSpU",container:"NHdGr1he",dropDownListInCenterChange:"iYVa3OlH",downloadButton:"gXinDMC0",childrenContainer:"axcaw7Or",closeIcon:"OB566taK",hidden:"BUuB45Oo",downloadButtonContainer:"NVZEtZMn",aDownloadLink:"Bb0OfhbR",dot:"Zmyd68GR",dotKeyframes:"d9ir9sgK",finger:"nhILhCdm",fingerKeyframes:"qVIqJtP8",logoContainer:"GjyJhuRZ",logo:"fywmvWAO",conversationDtailAnimationKeyframes:"iqwUAO1_",dropDownListInNoCenterChange:"UIg3MeZB",showDeleteAllMessageModal:"ctoos5uX",dropDownListInNoCenterLeftTopChange:"SvH5C1LK",dropDownListOutChange:"VDSczErx"};function p(e){var n=e.downloadAttr,t=e.downloadHref,r=e.children,o=e.childrenBoxClassName,i=e.withClose,l=e.onClose,c=e.buttonText,u=e.withEffect,p=e.onDownload,h=e.downloadPWA,g=e.shouldDownloadPWA,w=e.showLOGO;return a.createElement("div",{className:v.dropdownContainer},a.createElement("div",{className:v.container},a.createElement(m.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(f.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:d()(v.closeIcon,(0,s.Z)({},v.hidden,!i)),onClick:l,width:10,height:10,viewBox:"0 0 13 13"}),w&&a.createElement("div",{className:v.logoContainer},a.createElement("div",{className:v.logo})),a.createElement("div",{className:d()(v.childrenContainer,o),"data-e2e":"download-container"},r),a.createElement("div",{className:v.downloadButtonContainer},g&&a.createElement("span",{className:d()(v.aDownloadLink,v.downloadButton),onClick:function(e){null==h||h(),null==p||p(e)}},c),!g&&a.createElement("a",{className:d()(v.aDownloadLink,v.downloadButton),onClickCapture:p,download:n,href:globalThis.xssNamespace.douyin_web.filterUrl(t,null,{logType:"js.href/src",mode:"black",reportOnly:!1})},c),u&&a.createElement("div",{className:v.dot}),u&&a.createElement("div",{className:v.finger}))))}var h,g,w,y={container:"OJheq9Ab",text:"Z19CJIKl"};function _(){return _=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_.apply(this,arguments)}var b,E,k,C=function(e){return a.createElement("svg",_({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),h||(h=a.createElement("path",{opacity:.1,d:"M0 9a9 9 0 1118 0A9 9 0 010 9z",fill:"#FE2C55"})),g||(g=a.createElement("path",{d:"M3 11.071v.78c0 .22.18.399.4.399h1.189a.4.4 0 00.4-.4V9.831H6.438v2.02c0 .22.179.399.4.399h1.188a.4.4 0 00.4-.4V6.93v-.78a.4.4 0 00-.4-.399H6.838a.4.4 0 00-.4.4v1.904H4.989V6.929v-.78a.4.4 0 00-.4-.399H3.4a.4.4 0 00-.4.4v4.921zM9.735 9.988v1.863c0 .22.179.399.4.399h2.28c1.165 0 2.045-.468 2.386-1.51.152-.469.199-.851.199-1.74s-.047-1.271-.199-1.74c-.34-1.042-1.222-1.51-2.386-1.51h-2.28a.4.4 0 00-.4.4v3.838zm1.988.484V7.528H12.007c.512 0 .777.115.9.497.066.2.085.373.085.975s-.019.774-.085.975c-.123.382-.388.497-.9.497H11.723z",fill:"#FE2C55"})),w||(w=a.createElement("defs",null,a.createElement("linearGradient",{id:"hd_svg__paint0_linear_31317_137960",x1:3,y1:5.75,x2:8.511,y2:15.806,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#FF1764"}),a.createElement("stop",{offset:1,stopColor:"#ED3495"})),a.createElement("linearGradient",{id:"hd_svg__paint1_linear_31317_137960",x1:3,y1:5.75,x2:8.511,y2:15.806,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#FF1764"}),a.createElement("stop",{offset:1,stopColor:"#ED3495"})))))};function N(){return N=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},N.apply(this,arguments)}var T,x,S,L=function(e){return a.createElement("svg",N({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),b||(b=a.createElement("path",{opacity:.1,d:"M0 9a9 9 0 1118 0A9 9 0 010 9z",fill:"#FE2C55"})),E||(E=a.createElement("path",{d:"M13.25 11.083c-.016.04-.22.726-.72 1.426-.44.61-.888 1.22-1.598 1.23-.7.01-.924-.4-1.723-.4s-1.05.39-1.713.41c-.684.025-1.211-.665-1.65-1.27-.892-1.23-1.582-3.507-.657-5.027a2.582 2.582 0 012.161-1.26c.668-.01 1.31.434 1.718.434.418 0 1.19-.54 2.005-.46.34.015 1.295.135 1.905.99-.046.03-1.138.65-1.127 1.906.01 1.516 1.383 2.016 1.399 2.021zm-2.715-5.727c.365-.43.61-1.02.543-1.606-.522.02-1.164.335-1.54.76-.334.37-.632.97-.548 1.551.58.03 1.18-.295 1.545-.705z",fill:"#FE2C55"})),k||(k=a.createElement("defs",null,a.createElement("linearGradient",{id:"apple_svg__paint0_linear_31317_137969",x1:4.75,y1:3.75,x2:14.658,y2:12.074,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#FF1764"}),a.createElement("stop",{offset:1,stopColor:"#ED3495"})))))};function I(){return I=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},I.apply(this,arguments)}var Z,A,P,D=function(e){return a.createElement("svg",I({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T||(T=a.createElement("path",{opacity:.3,d:"M0 9a9 9 0 1118 0A9 9 0 010 9z",fill:"#FE2C55"})),x||(x=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 8.487C4.5 6.144 6.515 4.25 9 4.25s4.5 1.894 4.5 4.237c0 2.342-2.015 4.236-4.5 4.236 0 0-1.09.064-1.534.166-.291.064-.786.23-1.09.333a.35.35 0 01-.469-.243c-.045-.188-.028-.63-.015-.971.01-.241.017-.432 0-.448C5.04 10.784 4.5 9.693 4.5 8.487zm3.586 2.17a1.976 1.976 0 01-.349-.126.429.429 0 11.383-.767c.024.012.089.037.191.065.446.122.995.122 1.625-.088a.429.429 0 01.27.813c-.798.266-1.518.266-2.12.102z",fill:"#FE2C55"})),S||(S=a.createElement("defs",null,a.createElement("linearGradient",{id:"message_svg__paint0_linear_4551_137166",x1:4.5,y1:4.25,x2:13.549,y2:13.197,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#FF1764"}),a.createElement("stop",{offset:1,stopColor:"#ED3495"})))))};function M(){return M=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},M.apply(this,arguments)}var B=function(e){return a.createElement("svg",M({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Z||(Z=a.createElement("path",{opacity:.1,d:"M0 9a9 9 0 1118 0A9 9 0 010 9z",fill:"#FE2C55"})),A||(A=a.createElement("path",{d:"M12.744 7.615H9.81V4.657a.4.4 0 00-.715-.248L4.909 9.737a.4.4 0 00.314.648h2.935v2.958a.4.4 0 00.714.248l4.187-5.328a.4.4 0 00-.315-.648z",fill:"#FE2C55"})),P||(P=a.createElement("defs",null,a.createElement("linearGradient",{id:"thunder_svg__paint0_linear_31317_137964",x1:4.4,y1:3.5,x2:15.26,y2:12.444,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#FF1764"}),a.createElement("stop",{offset:1,stopColor:"#ED3495"})))))};function O(e){var n=e.svg,t=e.text,r=e.svgWidth,o=e.svgHeight,i=e.svgViewBox;return a.createElement("div",{className:y.container},a.createElement(m.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(n,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:r,height:o,viewBox:i}),a.createElement("span",{className:y.text},t))}function R(){return a.createElement(O,{svgWidth:18,svgHeight:18,svgViewBox:"0 0 18 18",text:"\u9ad8\u6e05\u6d41\u7545\u64ad\u653e",svg:C})}function V(){return a.createElement(O,{svgWidth:18,svgHeight:18,svgViewBox:"0 0 18 18",text:"\u4e3aMac\u8bbe\u5907\u5b9a\u5236",svg:L})}function F(){return a.createElement(O,{svgWidth:18,svgHeight:18,svgViewBox:"0 0 18 18",text:"\u597d\u53cb\u6d88\u606f\u901a\u77e5",svg:D})}function W(){return a.createElement(O,{svgWidth:18,svgHeight:18,svgViewBox:"0 0 18 18",text:"\u684c\u9762\u4fbf\u6377\u8bbf\u95ee",svg:B})}var U="lQIAhiNv",H=function(e){var n=e.className,t=e.text;return a.createElement("div",{className:d()(U,n)},a.createElement("span",null,t))},j={priviledgeContainer:"GUjjfnC_",downloadGuide:"qScktcui",originDescription:"LBoSugOM",wallpaperChildren:"bztI1HCQ",pureTextWithLogo:"qIFzqnb5"},G={container:"I6OwFsJu",icon:"jcjnHarg",desc:"InqOpTNF"};function K(e){var n=e.text,t=e.textClassName;return a.createElement("div",{className:G.container},a.createElement("div",{className:G.icon}),a.createElement("div",{className:d()(G.desc,t)},n))}var q=t(96164),Q=t(26613),z=t(21720),Y=t(51357);function J(e){var n=e.isShow,t=e.onDownload,r=(0,z.o)(),o=r.downloadAttr,i=r.downloadHref,c=(0,a.useCallback)((function(){Y.Z.sendLog("addToDesktopClick",{enter_from:"personal_homepage",type:"live_detail_button",platform:"client",is_full_screen:(0,l.r)()?"1":"0"}),null==t||t()}),[t]);return(0,a.useEffect)((function(){n&&Y.Z.sendLog("addToDesktopShow",{enter_from:"live_detail",is_full_screen:(0,l.r)()?"1":"0",platform:"client",type:"live_detail_button"})}),[n]),a.createElement("div",null,n&&a.createElement(p,{buttonText:"\u4e0b\u8f7d\u7535\u8111\u5ba2\u6237\u7aef",downloadAttr:o,downloadHref:i,onDownload:c,withClose:!1},a.createElement("div",{className:j.priviledgeContainer},a.createElement(R,null),a.createElement(W,null))))}function X(e){var n=e.onDownload,t=e.onClose,o=e.downloadPWA,s=e.shouldShowGuideType,u=e.clientDownloadAttr,d=e.clientDownloadHref,f=e.withClose,m=e.withEffect,v=e.showType,h=e.setShowClientBadge,g=e.guideText,w=e.guideFrom,y=(0,a.useState)(null),_=(0,r.Z)(y,2),b=_[0],E=_[1],k=(0,a.useState)("\u4e0b\u8f7d\u7535\u8111\u5ba2\u6237\u7aef"),C=(0,r.Z)(k,2),N=C[0],T=C[1],x=(0,a.useCallback)((function(){Y.Z.sendLog("addToDesktopClick",{enter_from:(0,Y.v)(),is_full_screen:(0,l.r)()?"1":"0",type:v===Q.KK.Hover?"hover":"guide",platform:s===Q.xj.PWA?"pwa":"client",guide_type:w}),c.Le.setConfig(c.gI.UserClick2DownloadClient,!0),null==n||n(),(0,Q.v2)(!0),null==h||h(!1)}),[n,s,v,h,w]),S=(0,a.useCallback)(i()((function(e,n,t){var r=n===Q.xj.PWA?"pwa":"client_downloader";Y.Z.sendLog("addToDesktopShow",{enter_from:(0,Y.v)(),is_full_screen:(0,l.r)()?"1":"0",platform:r,type:e===Q.KK.Hover?"hover":"guide",guide_type:t})}),500),[]);return(0,a.useEffect)((function(){S(v,s,w)}),[v,s,w,S]),(0,a.useEffect)((function(){E((0,q.P0)())}),[]),(0,a.useEffect)((function(){s===Q.xj.Client?T("\u4e0b\u8f7d\u7535\u8111\u5ba2\u6237\u7aef"):T("\u6dfb\u52a0\u5230\u684c\u9762")}),[s]),a.createElement("div",{className:j.downloadGuide},s!==Q.xj.None&&a.createElement(p,{buttonText:N,downloadAttr:u,downloadHref:d,shouldDownloadPWA:s===Q.xj.PWA,downloadPWA:o,withClose:f,onDownload:x,onClose:t,withEffect:m,showLOGO:Boolean(g),childrenBoxClassName:g?j.pureTextWithLogo:""},a.createElement("div",{className:j.priviledgeContainer},s===Q.xj.Client&&b===q.CT.Mac&&!g&&a.createElement(a.Fragment,null,a.createElement(R,null),a.createElement(W,null),a.createElement(V,null)),s===Q.xj.Client&&b===q.CT.Win7Up&&!g&&a.createElement(a.Fragment,null,a.createElement(R,null),a.createElement(F,null),a.createElement(W,null)),s===Q.xj.Client&&b===q.CT.Win7Up&&g&&a.createElement(H,{text:g}),s===Q.xj.PWA&&a.createElement(K,{text:"\u684c\u9762\u4fbf\u6377\u8bbf\u95ee"}))))}function $(e){return e.forLive?a.createElement(J,e):a.createElement(X,e)}},28873:function(e,n,t){t.d(n,{Z:function(){return $}});var r=t(30906),o=t(65146),i=t(32781),a=t(11227),l=t.n(a),c=t(92524),s=t.n(c),u=t(79705),d=t.n(u),f=t(53864),m=t(59676),v=t(68595),p=t.n(v),h=t(66453),g=t(8939),w=t(50230),y=t(71043),_=t(97876),b=t(72603),E=t(28712),k=t(45921),C=t(71116),N=t(16016),T=t(73231),x={container:"xWPMYXKp",header:"as6Is8fx",rightContent:"jBznOiN_",electronDrag:"cZXI0Cgq",pushMessageEntry:"LI3Qb5Gw",fixed:"gOSlkVoB",electron:"Hdnzr7ZA",headerNoDragArea:"JmGtWqk3",electronMacInner:"fKioNiHC",pwaDivider:"M2OddgI4",imModalVideo:"aGIMqkll",grayscale:"adeS852H",searchLightActivity:"B7TQl0jr",activity:"AKgRu2ef",blur:"P6UP3mPi",isSpringSkin:"fi8E3e7M",skinBack:"ELcL6mXw",toMainWindowBtn:"KqUR0Ggz",logoCt:"wTSNJym2",logo:"sfZOz62F",detailLogoText:"w5sOx18c",searchCt:"pYtLoHol",searchBar:"k11STNQn",newSearchBar:"ZGEpVbMV",searchBlank:"tKyfsEFi",menuCt:"cA2cEKVo",floatRight:"HGpANr58",borderNone:"iWTfO1Fi",isVsHeader:"Eg06iJ0B",transmode:"kjFbeAlu",isNormalHeader:"imItpCwi",fadeIn:"LCZkAaJx",searchBarCenterLayout:"cSbcB2l6",searchBarCenterWebLayout:"aKE_9Sle",rightContentInner:"Oxvyt0aA",searchBarCenterMacClientLayout:"hcrIuQBW",searchBarCenterWinsClientLayout:"Av7p3Eza",searchBarCenterPlayer:"ibvqnL3x",searchBarCenterWebPlayer:"_OVxBh_a",searchBarCenterMacClientPlayer:"rWBjt_7E",searchBarCenterWinsClientPlayer:"BK2l6XS2",bkgImg:"TceSOZYf"},S=new(t(13795).hD)({clickAwemeLogo:{eventName:"click_aweme_logo",params:{enter_from:""}}}),L=t(77060),I=t(22896),Z=t(88162),A=t(90030),P=t(89993),D=t(66308),M=t(48419),B=t(55931),O=t(99208),R=t(30556),V=t(27004),F=t(82573),W=t(35562),U=t(45350),H=t(26502),j=t(43646),G=t(40890),K=t(41560),q=t(97707),Q=(0,m.default)((function(){return Promise.all([t.e(2398),t.e(2875),t.e(9),t.e(7780),t.e(5254),t.e(5847),t.e(3803),t.e(6193),t.e(4339),t.e(2934),t.e(2447),t.e(6647),t.e(9443),t.e(8930)]).then(t.bind(t,75421))}),{ssr:!1}),z=(0,m.default)((function(){return Promise.all([t.e(2398),t.e(2875),t.e(9),t.e(7780),t.e(5254),t.e(5847),t.e(3803),t.e(6193),t.e(4339),t.e(2934),t.e(2447),t.e(6647),t.e(9443),t.e(8930)]).then(t.bind(t,11330))}),{ssr:!1}),Y=(0,m.default)((function(){return Promise.all([t.e(5847),t.e(6193),t.e(8617)]).then(t.bind(t,62474))}),{resolveComponent:function(e){return e.ReturnButton}}),J=(0,m.default)((function(){return Promise.all([t.e(5847),t.e(6193),t.e(8617)]).then(t.bind(t,62474))}),{resolveComponent:function(e){return e.ReturnToMainWindow}}),X=function(e){return e.light="isLight",e.dark="isDark",e}(X||{});function $(e){var n,t,a,c,u,m,v,$=e.userInfo,ee=e.onChangeLoginStatus,ne=e.abTestData,te=e.customProps,re=e.className,oe=e.needGrayscale,ie=void 0!==oe&&oe,ae=e.loginPopupStatus,le=void 0===ae?M.T.Off:ae;(0,O.i)();var ce=te.pathname,se=te.isClient,ue=te.os,de=te.redirectFrom,fe=te.isVsTab,me=te.isVsTabTrans,ve=te.searchLightActivity,pe=te.isActivity,he=te.activityName,ge=te.disableSpecTheme,we=te.isAsianGamesLive,ye=void 0!==we&&we,_e=te.hasScrollTransparent,be=void 0!==_e&&_e,Ee=(0,I.T)({userInfo:$,redirectFrom:de}).handleHiddenLog,ke=(0,f.useState)(!1),Ce=(0,i.Z)(ke,2),Ne=Ce[0],Te=Ce[1],xe=(0,f.useState)(!1),Se=(0,i.Z)(xe,2),Le=Se[0],Ie=Se[1],Ze=f.useState(!1),Ae=(0,i.Z)(Ze,2),Pe=Ae[0],De=Ae[1],Me=(0,f.useState)(null),Be=(0,i.Z)(Me,2),Oe=Be[0],Re=Be[1],Ve=(0,f.useState)(!1),Fe=(0,i.Z)(Ve,2),We=Fe[0],Ue=Fe[1],He=(0,f.useState)(null),je=(0,i.Z)(He,2),Ge=je[0],Ke=je[1],qe=(0,f.useRef)(),Qe=pe,ze=he,Ye=ge||Qe,Je=h.a.wrapClientOsInfo(se,ue),Xe=Je.isMac,$e=Je.isWindows,en=(0,V.c)(),nn=(0,f.useState)(!1),tn=(0,i.Z)(nn,2),rn=tn[0],on=tn[1],an=(0,f.useMemo)((function(){return fe&&me}),[fe,me]),ln=(0,D.L)(),cn=ln.setModalCardInfo,sn=ln.restoreModalCardInfo,un=(0,H.j)(be).transparent,dn=h.a.useIsMainWindowDetect();(0,j.S)(),(0,f.useEffect)((function(){(0,y.f)()&&Te(!0)}),[]),(0,M.S)({isLogin:null==$?void 0:$.isLogin,noDisturbVal:null==ne?void 0:ne.noDisturbV2,loginPopupStatus:le}),(0,G.I)($),(0,f.useEffect)((function(){var e=_.listen(_.EVENT.openImAwemeModal,(function(e){Re(e),cn(),Ie(!0),_.emit(_.EVENT.videoPause),_.emit(_.EVENT.livePause)})),n=_.listen(_.EVENT.openNoticeAwemeModal,(function(e){Ke(e),Ue(!0),_.emit(_.EVENT.videoPause),_.emit(_.EVENT.livePause)})),t=_.listen(_.EVENT.openDownloadDirPanel,(function(){De(!0)}));return function(){e(),n(),t()}}),[]);var fn=(0,f.useCallback)((function(e){Xe&&"doubleClick"===e.target.getAttribute("data-click")&&p().app.maximize()}),[Xe]);(0,f.useEffect)((function(){var e=_.listen(_.EVENT.changeNavBarBlur,(function(e){on(e)}));return function(){return e()}}),[]);var mn=(0,B.Z)(),vn=mn.specTheme,pn=mn.isDark,hn=(0,f.useMemo)((function(){var e;if(Ye)return{};var n=(0,b.yW)();return l()(e=["vs","vschannel","download","personal_homepage","others_homepage","error_homepage"]).call(e,n)?{}:null!=vn&&vn.themeSwitch?{backgroundImage:"url(".concat(pn?null==vn?void 0:vn.headerDark:null==vn?void 0:vn.headerLight,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat"}:{}}),[vn,pn,Ye]),gn=!(0,E.p)()&&!Ye&&(null==vn?void 0:vn.themeSwitch);(0,f.useEffect)((function(){var e=(0,k.Bj)((0,b.yW)());e&&(qe.current=e)}),[]);var wn=null===(n=(0,C.Es)())||void 0===n?void 0:n.user_unique_id;(0,W.E)({isLogin:null==$?void 0:$.isLogin,webId:wn});var yn=(0,g.T)({canShow:!ye,pathname:ce}).isShow;(0,K.d)({isOn:!0});var _n=(null==te?void 0:s()(t=te.pathname).call(t,"user"))>-1;return f.useEffect((function(){var e,n;_n&&(null===(e=document.documentElement)||void 0===e||null===(n=e.setAttribute)||void 0===n||n.call(e,"not-navigation","true"))}),[_n]),f.createElement("div",{onDoubleClick:fn,className:d()(X[qe.current],x.container,x.searchBarCenterPlayer,(a={},(0,o.Z)(a,x.activity,Qe||un),(0,o.Z)(a,x.transparent,un),(0,o.Z)(a,re,re),(0,o.Z)(a,x.isVsHeader,fe),(0,o.Z)(a,x.isNormalHeader,fe&&!an),(0,o.Z)(a,x.transmode,an),(0,o.Z)(a,x.blur,(Qe||un)&&rn),(0,o.Z)(a,x.searchBarCenterWebPlayer,!se),(0,o.Z)(a,x.searchBarCenterWinsClientPlayer,se&&$e),(0,o.Z)(a,x.searchBarCenterMacClientPlayer,se&&Xe),(0,o.Z)(a,x.borderNone,_n),a))},f.createElement("div",{className:d()(x.fixed,(c={},(0,o.Z)(c,x.grayscale,ie),(0,o.Z)(c,x.bkgImg,_n?yn&&!un&&_n:yn),(0,o.Z)(c,x.searchLightActivity,null==te?void 0:te.searchLightActivity),c)),id:"douyin-header","data-click":"doubleClick"},f.createElement(q.R,{abTestData:ne}),f.createElement("header",{className:d()(x.header,(u={},(0,o.Z)(u,x.electron,se),(0,o.Z)(u,x.electronDrag,se&&!en),(0,o.Z)(u,x.electronMacInner,Xe),u)),style:hn},se&&f.createElement(f.Fragment,null,f.createElement("div",{className:x.headerNoDragArea}),!dn&&f.createElement(J,{transparent:un&&!_n,isVsTransmode:an,className:x.toMainWindowBtn}),f.createElement(Y,{transparent:un&&!_n,isVsTransmode:an})),!se&&f.createElement("div",{className:d()(x.logoCt,{isDark:Qe||an||un}),onClick:function(){S.sendLog("clickAwemeLogo",{enter_from:(0,b.yW)()})}},f.createElement(L.a,{href:globalThis.xssNamespace.douyin_web.filterUrl((0,N.kj)("enter_recommend_method=feed_click"),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:x.logo})),f.createElement("div",{className:x.rightContent,"data-click":"doubleClick"},f.createElement("div",{className:x.searchCt},f.createElement("div",{className:x.searchBar},f.createElement("div",{className:x.searchBlank}),f.createElement(R.SearchBar,{customProps:{isHeaderSearchBar:!0,isActivity:Qe||an,activityName:ze||(an?"vsTransMode":""),transparent:un,isSearchPage:Boolean(null==ce?void 0:ce.match(/^\/search/)),pathname:ce,themeSwitch:gn,searchLightActivity:ve,transparentBg:_n},userInfo:$,abTestData:ne,onSearchClick:function(e){return Ee(e)},onHistoryClick:function(e){var n=e.currentTarget.dataset.text;return Ee(n)},onInputKeyDown:function(e,n){if("Enter"===(0,T.CS)(e))return Ee(n)}}))),f.createElement("div",{className:d()(x.menuCt,{isDark:Qe})},f.createElement("div",{className:x.floatRight},f.createElement(F.R.Provider,{value:{isActivity:Qe||an||(null==te?void 0:te.isActivity),activityName:ze||(an?"vsTransMode":"")||(null==te?void 0:te.activityName),isVsTransmode:an,transparent:un,userUiStyle:_n}},f.createElement(Z.Z,{customProps:(0,r.Z)((0,r.Z)({},te),{},{isActivity:Qe||an,activityName:ze||(an?"vsTransMode":"")}),success:ee,userInfo:$,abTestData:ne,transparent:un})))))),Ne&&f.createElement("div",{className:x.pwaDivider}),Le&&f.createElement(Q,{className:x.imModalVideo,awemeIds:null==Oe?void 0:Oe.videoMsgList,clientId:null==Oe?void 0:Oe.msgClientId,fetchAwemeIds:null==Oe?void 0:Oe.getMoreVideo,logParams:null==Oe?void 0:Oe.logParams,insertCommentId:null==Oe?void 0:Oe.commentId,defaultCommentShow:null==Oe?void 0:Oe.commentId,disableAutoPlay:!0,abtestData:ne,anyHooks:P.Z,useOldModal:!0,moreBoxShowList:{notInterestingIcon:!1,unfollow:!1,report:!0},close:function(){sn(),Ie(!1)},userContext:{userInfo:$,dispatch:function(){}},modalEnterFrom:"im",shortCutFilteredList:[null===(m=w.getShortcut().dislike)||void 0===m?void 0:m.badgeText]}),We&&f.createElement(Q,{className:x.imModalVideo,awemeId:null==Ge?void 0:Ge.awemeId,insertCommentId:null==Ge?void 0:Ge.cid,logParams:null==Ge?void 0:Ge.logParams,defaultCommentShow:null==Ge?void 0:Ge.cid,disableSwitch:!0,disableAutoPlay:!0,abtestData:ne,anyHooks:A.Z,useOldModal:!0,moreBoxShowList:{notInterestingIcon:!1,unfollow:!1,report:!0},close:function(){Ue(!1)},userContext:{userInfo:$,dispatch:function(){}},danmakuInfo:null==Ge?void 0:Ge.danmakuInfo,modalEnterFrom:"im",shortCutFilteredList:[null===(v=w.getShortcut().dislike)||void 0===v?void 0:v.badgeText]}),Pe&&f.createElement(z,{close:function(){De(!1)}}),f.createElement("div",{className:x.pushMessageEntry},f.createElement(U.H,null))))}},82573:function(e,n,t){t.d(n,{R:function(){return X},Z:function(){return $}});var r=t(30906),o=t(65146),i=t(32781),a=t(92524),l=t.n(a),c=t(53864),s=t(79705),u=t.n(s),d=t(59676),f=t(68595),m=t.n(f),v=t(91287),p=t(66453),h=t(8939),g=t(57465),w=t(50230),y=t(71043),_=t(97876),b=t(72603),E=t(71116),k=t(16016),C=t(73231),N={container:"iwzpXgQ3",isVsHeader:"sAwvCdl4",transmode:"y_0iP_ba",header:"ePAmHZ9n",rightContentInner:"y4Jb5f1C",electronDrag:"co6fXiMO",pushMessageEntry:"WvX0NZjv",fixed:"oJArD0aS",searchLightActivity:"nkXDuzA4",logoCt:"R35PYAeO",logo:"HFXyaoZL",transparentLogo:"xMxzuI6Y",foldWrap:"oZVIncTC",expandIcon:"Q0OFEVPt",searchCt:"gi8dveFW",searchBar:"PH5Y_vRb",searchBlank:"aAzQ4d0g",menuCt:"iqHX00br",floatRight:"lC4tlkED",rightContent:"IuGYRqPB",basicHeight:"s9bzS93E",clientRightContent:"YkTBMc6k",pwaDivider:"NSjLk5Jn",imModalVideo:"du5ElX10",activity:"oFLS6cdv",transparent:"I7ffFawZ",borderNone:"jaLR5322",containerNew:"lXuWkeYW",isNormalHeader:"DAJOGppR",fadeIn:"_fFi1vd0",isFixed:"dSNgkU25",isVideoOrVsHeader:"nsv2qaIn",isSearchHeader:"C3PgeKkg",grayscale:"lDy0g1sc",rightContentInnerNew:"GSBPs9bN",foldable:"OaUEPdOk",searchBarCenterLayout:"K4TZD9ct",searchBarCenterWebLayout:"wJgU15d1",searchBarCenterMacClientLayout:"PuAPJZlP",searchBarCenterWinsClientLayout:"tacOceLH",searchBarCenterPlayer:"Y1nI_Y6K",searchBarCenterWebPlayer:"bhg4sH7R",searchBarCenterMacClientPlayer:"eXWEoJOB",searchBarCenterWinsClientPlayer:"isbgsitG",bkgImg:"MTjbG5fz"},T=t(22896),x=t(88162),S=t(67321),L=t(90030),I=t(89993),Z=t(55931),A=t(77060),P=t(66308),D=t(99208),M=t(48419),B=t(30556),O=t(26502),R=t(27004),V=t(35562),F=t(50750),W=t.n(F),U=t(31674),H=t.n(U);var j=t(40890),G=t(41560),K=t(45350),q=t(43646),Q=t(97707),z=(0,d.default)((function(){return Promise.all([t.e(2398),t.e(2875),t.e(9),t.e(7780),t.e(5254),t.e(5847),t.e(3803),t.e(6193),t.e(4339),t.e(2934),t.e(2447),t.e(6647),t.e(9443),t.e(8930)]).then(t.bind(t,75421))}),{ssr:!1}),Y=(0,d.default)((function(){return t.e(4601).then(t.bind(t,17620))}),{ssr:!1}),J=(0,d.default)((function(){return Promise.all([t.e(2398),t.e(2875),t.e(9),t.e(7780),t.e(5254),t.e(5847),t.e(3803),t.e(6193),t.e(4339),t.e(2934),t.e(2447),t.e(6647),t.e(9443),t.e(8930)]).then(t.bind(t,11330))}),{ssr:!1}),X=c.createContext({activityName:"",isActivity:!1,isVsTransmode:!1,transparent:!1,userUiStyle:!1});function $(e){var n,t,a,s,d,f,F,U,$,ee,ne,te=e.userInfo,re=e.onChangeLoginStatus,oe=e.abTestData,ie=void 0===oe?{}:oe,ae=e.customProps,le=e.className,ce=e.needGrayscale,se=e.loginPopupStatus,ue=void 0===se?M.T.Off:se;(0,D.i)();var de=(0,T.T)({userInfo:te,redirectFrom:null==ae?void 0:ae.redirectFrom}).handleHiddenLog,fe=c.useState(!1),me=(0,i.Z)(fe,2),ve=me[0],pe=me[1],he=c.useState(!1),ge=(0,i.Z)(he,2),we=ge[0],ye=ge[1],_e=c.useState(!1),be=(0,i.Z)(_e,2),Ee=be[0],ke=be[1],Ce=c.useState(!1),Ne=(0,i.Z)(Ce,2),Te=Ne[0],xe=Ne[1],Se=c.useState(null),Le=(0,i.Z)(Se,2),Ie=Le[0],Ze=Le[1],Ae=c.useState(!1),Pe=(0,i.Z)(Ae,2),De=Pe[0],Me=Pe[1],Be=c.useState(null),Oe=(0,i.Z)(Be,2),Re=Oe[0],Ve=Oe[1],Fe=ae.isClient,We=ae.os,Ue=ae.hasScrollTransparent,He=void 0!==Ue&&Ue,je=ae.isAsianGamesLive,Ge=void 0!==je&&je,Ke=ae.isSpider,qe=void 0!==Ke&&Ke,Qe=(0,O.j)(He).transparent,ze=(0,c.useMemo)((function(){return p.a.wrapClientOsInfo(Fe,We)}),[Fe,We]),Ye=ze.isMac,Je=ze.isWindows,Xe=(0,R.c)(),$e=c.useMemo((function(){return(null==ae?void 0:ae.isVsTab)&&(null==ae?void 0:ae.isVsTabTrans)}),[ae]),en=(0,P.L)(),nn=en.setModalCardInfo,tn=en.restoreModalCardInfo;(0,M.S)({isLogin:null==te?void 0:te.isLogin,noDisturbVal:null==ie?void 0:ie.noDisturbV2,loginPopupStatus:ue}),(0,j.I)(te),function(e){var n=e.abTestData;(0,c.useEffect)((function(){var e,t;if(null!==(e=window)&&void 0!==e&&e.TTCommon&&(null===(t=W()(n))||void 0===t?void 0:t.length)>0){var r=Math.max(null==n?void 0:n.mediaPreloadSeconds,null==n?void 0:n.mediaPreloadSecondsServer);try{var o,i,a,l={media_preload_seconds:r};null===(o=window)||void 0===o||null===(i=o.TTCommon)||void 0===i||null===(a=i.execute)||void 0===a||a.call(i,"applyConfig",H()(l))}catch(c){}}}),[n])}({abTestData:ie}),(0,q.S)(),c.useEffect((function(){(0,y.f)()&&pe(!0)}),[]),c.useEffect((function(){var e=_.listen(_.EVENT.headerGradient,(function(e){return ye(e)})),n=_.listen(_.EVENT.openImAwemeModal,(function(e){Ze(e),nn(),ke(!0),_.emit(_.EVENT.videoPause),_.emit(_.EVENT.livePause)})),t=_.listen(_.EVENT.openNoticeAwemeModal,(function(e){Ve(e),Me(!0),_.emit(_.EVENT.videoPause),_.emit(_.EVENT.livePause)})),r=_.listen(_.EVENT.openDownloadDirPanel,(function(){xe(!0)}));return function(){n(),t(),e(),r()}}),[]);var rn=c.useCallback((function(e){Ye&&"doubleClick"===e.target.getAttribute("data-click")&&m().app.maximize()}),[Ye]),on=(0,Z.Z)(),an=on.specTheme,ln=on.isDark,cn=c.useMemo((function(){return null!=an&&an.themeSwitch?{backgroundImage:"url(".concat(ln?null==an?void 0:an.headerDark:null==an?void 0:an.headerLight,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat"}:{}}),[an,ln]),sn=null===(n=(0,E.Es)())||void 0===n?void 0:n.user_unique_id;(0,V.E)({isLogin:null==te?void 0:te.isLogin,webId:sn});var un=(0,h.T)({canShow:!Ge,pathname:null==ae?void 0:ae.pathname}).isShow,dn=(null==ae?void 0:l()(t=ae.pathname).call(t,"user"))>-1;return(0,G.d)({isOn:!0}),c.createElement("div",{onDoubleClick:rn,className:u()(N.container,N.containerNew,N.searchBarCenterPlayer,(a={},(0,o.Z)(a,N.activity,(null==ae?void 0:ae.isActivity)||Qe),(0,o.Z)(a,N.transparent,Qe),(0,o.Z)(a,N.changeColor,we),(0,o.Z)(a,le,le),(0,o.Z)(a,N.isFixed,null==ae?void 0:ae.isFixed),(0,o.Z)(a,N.isVsHeader,ae.isVsTab),(0,o.Z)(a,N.isNormalHeader,ae.isVsTab&&!$e),(0,o.Z)(a,N.transmode,$e),(0,o.Z)(a,N.isVideoOrVsHeader,null==ae?void 0:ae.isVsOrVideo),(0,o.Z)(a,N.isSearchHeader,null==ae?void 0:ae.isSearchResult),(0,o.Z)(a,N.grayscale,ce),(0,o.Z)(a,N.searchBarCenterWebPlayer,!Fe),(0,o.Z)(a,N.searchBarCenterWinsClientPlayer,Fe&&Je),(0,o.Z)(a,N.searchBarCenterMacClientPlayer,Fe&&Ye),(0,o.Z)(a,N.bkgImg,dn?un&&!Qe&&dn:un),(0,o.Z)(a,N.borderNone,dn),a)),id:"douyin-header","data-click":"doubleClick"},c.createElement("div",{className:u()(N.fixed,(0,o.Z)({},N.searchLightActivity,null==ae?void 0:ae.searchLightActivity)),style:cn,"data-click":"doubleClick"},c.createElement(Q.R,{abTestData:ie}),c.createElement("header",{className:u()(N.header)},c.createElement("div",{className:u()(N.rightContent,(s={},(0,o.Z)(s,N.clientRightContent,Fe),(0,o.Z)(s,N.electronDrag,Fe&&!Xe),s)),"data-click":"doubleClick"},Ye&&c.createElement("div",{className:N.basicHeight},c.createElement("div",{className:u()(N.logoCt)},c.createElement(A.a,{href:globalThis.xssNamespace.douyin_web.filterUrl((0,k.kj)(),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:u()(N.logo,(0,o.Z)({},N.transparentLogo,Qe&&!dn)),onClick:function(){S.Z.sendLog("clickAwemeLogo",{enter_from:(0,b.yW)()})}}))),c.createElement("div",{className:u()(N.rightContentInner,N.rightContentInnerNew),"data-click":"doubleClick"},c.createElement("div",{className:u()(N.searchCt)},c.createElement("div",{className:N.searchBar},c.createElement("div",{className:N.searchBlank}),c.createElement(B.SearchBar,{customProps:{isHeaderSearchBar:!0,isActivity:$e||(null==ae?void 0:ae.isActivity),activityName:($e?"vsTransMode":"")||(null==ae?void 0:ae.activityName),isSearchPage:Boolean(null==ae||null===(d=ae.pathname)||void 0===d?void 0:d.match(/^\/search/)),pathname:null==ae?void 0:ae.pathname,themeSwitch:null==an?void 0:an.themeSwitch,searchLightActivity:null==ae?void 0:ae.searchLightActivity,transparent:Qe,transparentBg:dn},userInfo:te,abTestData:ie,onSearchClick:function(e){return de(e)},onHistoryClick:function(e){var n=e.currentTarget.dataset.text;return de(n)},onInputKeyDown:function(e,n){if("Enter"===(0,C.CS)(e))return de(n)}}))),!qe&&c.createElement("div",{className:u()(N.menuCt)},c.createElement("div",{className:N.floatRight},c.createElement(X.Provider,{value:{isActivity:$e||(null==ae?void 0:ae.isActivity),activityName:($e?"vsTransMode":"")||(null==ae?void 0:ae.activityName),isVsTransmode:$e,transparent:Qe,userUiStyle:dn}},c.createElement(x.Z,{customProps:(0,r.Z)((0,r.Z)({},ae),{},{isActivity:$e||(null==ae?void 0:ae.isActivity),activityName:($e?"vsTransMode":"")||(null==ae?void 0:ae.activityName),landingPage:ae.landingPage}),transparent:Qe,success:re,userInfo:te,abTestData:ie}))))))),ve&&c.createElement("div",{className:N.pwaDivider}),Ee&&c.createElement(z,{className:N.imModalVideo,awemeIds:null==Ie?void 0:Ie.videoMsgList,clientId:null==Ie?void 0:Ie.msgClientId,fetchAwemeIds:null==Ie?void 0:Ie.getMoreVideo,logParams:null==Ie?void 0:Ie.logParams,insertCommentId:null==Ie?void 0:Ie.commentId,defaultCommentShow:null==Ie?void 0:Ie.commentId,disableAutoPlay:!0,abtestData:ie,anyHooks:I.Z,useOldModal:!0,moreBoxShowList:{notInterestingIcon:!1,unfollow:!1,report:!0},close:function(){tn(),ke(!1)},userContext:{userInfo:te,dispatch:function(){}},shortCutFilteredList:[null==g||null===(f=w)||void 0===f||null===(F=f.getShortcut())||void 0===F||null===(U=F.dislike)||void 0===U?void 0:U.badgeText],modalEnterFrom:"im"}),De&&c.createElement(z,{className:N.imModalVideo,awemeId:null==Re?void 0:Re.awemeId,insertCommentId:null==Re?void 0:Re.cid,logParams:null==Re?void 0:Re.logParams,defaultCommentShow:null==Re?void 0:Re.cid,disableSwitch:!0,disableAutoPlay:!0,abtestData:ie,anyHooks:L.Z,useOldModal:!0,moreBoxShowList:{notInterestingIcon:!1,unfollow:!1,report:!0},close:function(){Me(!1)},userContext:{userInfo:te,dispatch:function(){}},danmakuInfo:null==Re?void 0:Re.danmakuInfo,modalEnterFrom:"im",shortCutFilteredList:[null==g||null===($=w)||void 0===$||null===(ee=$.getShortcut())||void 0===ee||null===(ne=ee.dislike)||void 0===ne?void 0:ne.badgeText]}),Te&&c.createElement(J,{close:function(){xe(!1)}})),c.createElement("div",{className:N.pushMessageEntry},c.createElement(K.H,null)),!qe&&c.createElement(v.SV,null,c.createElement(Y,{abTestData:ie})))}},88162:function(e,n,t){t.d(n,{Z:function(){return er}});var r,o=t(65146),i=t(32781),a=t(8e3),l=t.n(a),c=t(53864),s=t(79705),u=t.n(s),d=t(59676),f=t(66453),m=t(56920),v=t(79784),p=t(72603),h=t(97876),g=t(43530),w=t(95921),y=t(18185),_=t(16016),b=t(51078),E=t(77060),k=t(44635),C=t(33639),N=t(51357),T=t(67161),x=t(64408),S=t(30906),L=t(5594),I=t.n(L),Z=t(34346),A=t.n(Z),P=t(26447),D=t.n(P),M=t(353),B=t(28712),O=t(56462),R=t(94739),V=t(45921),F=t(80806),W=t(13971),U=t(30978),H=t(92281),j=t(70038),G=t(72389),K=t(78595),q=t(89784),Q=t(61898);function z(){return z=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},z.apply(this,arguments)}var Y=function(e){return c.createElement("svg",z({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=c.createElement("path",{d:"M5 3l3 2.972L5 9",stroke:"#161823",strokeOpacity:.34,strokeLinecap:"round",strokeLinejoin:"round"})))},J={userMenuPanelCollect:"QYL6YoEb",loginGuideText:"xOYQgf3L",qrCode:"C9szXiEl",userLoginInfo:"de0WAGYo",userNickname:"kDmWiWzh",nickname:"wx4oFjSc",pointer:"yb7hwk9G",userMsgBox:"pMBwmxGS",userMsgWrap:"HAR_KXpk",userMsg:"KTBfvwdu",title:"wiqwDybA",count:"OBTB5uUk",countText:"rkXLBN0o",userMsgLogout:"M47JrU_f",verticalDivider:"n9pk1U7S",userMsgPanel:"dRK46_Ne",newThemeEntry:"rXIy1Pzb",userSettings:"Ss4qK0Lv",leftDividerLine:"pJPJwZFf",userMsgPanelLogout:"ZjthpVf3",hoverBold:"yfM1qCF7",hoverEnlarge:"lI8OjXhd"},X=t(94090),$=t.n(X),ee=t(16437),ne=t(65586);function te(e,n,t){return function(){try{window.open((0,_.HC)("self","showTab=".concat(n,"&enter_method=personal_panel")),t?"_self":"_blank","noopener")}catch(r){}!t&&"Function"===(0,ee.tQ)(e)&&e.apply(void 0,arguments)}}function re(e,n,r){return(0,c.useCallback)((function(o){var i;null==o||null===(i=o.preventDefault)||void 0===i||i.call(o),t.e(6405).then(t.bind(t,26405)).then((function(t){var o,i,a;(0,t.navShowAccount)({success:e,enterMethod:"navigation_bar",next:$()(o="".concat(ne.tJ)).call(o,null===(i=window)||void 0===i||null===(a=i.location)||void 0===a?void 0:a.host),headerText:n,teaEvtParams:r})}))}),[e,n])}var oe,ie,ae=t(51508),le=t(9909),ce=t(56003),se=t(68595),ue=t.n(se),de=t(92267),fe=t(3345),me=t(5611),ve="Ox4lnVeA",pe="AalWIHiD",he=t(80289),ge=function(){var e=M,n=e.CookieKeys,t=e.ThemeValues,r=h.EVENT,o=O.Q.getItem({sKey:n.Theme}),a=(0,V.Dr)(o)===t.Dark,l=(0,c.useState)(a),s=(0,i.Z)(l,2),u=s[0],d=s[1];return(0,c.useEffect)((function(){(0,he.Ly)(u),h.emit(r.changeTheme,{theme:u?t.Dark:t.Light})}),[u]),c.createElement("div",{className:ve,onClick:function(){(0,he.c4)(!u),(0,he.Ly)(!u),"undefined"!=typeof localStorage&&localStorage.setItem("ELECTRON_THEME_KEY",u?"":"DARK"),(0,me.DT)()&&ue().app.themeChange({isDark:!u}),de.i.sendLog("changeThemeSetting",{theme:u?t.Light:t.Dark,enter_from:(0,p.yW)()}),d((function(e){return!e}))}},c.createElement(le.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(fe.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:24.7,height:20.3,viewBox:"0 0 22 19"}),c.createElement("span",{className:pe},"\u6362\u80a4"))},we=t(32226),ye=t(82526),_e=t(20764);function be(){return be=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},be.apply(this,arguments)}var Ee=function(e){return c.createElement("svg",be({width:15,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),oe||(oe=c.createElement("path",{d:"M1.568 6.592l1.44-2.519L4.47 1.566a.15.15 0 01.129-.075L7.5 1.48l2.901.012a.15.15 0 01.13.074l1.46 2.507 1.441 2.52a.15.15 0 010 .148l-1.44 2.519-1.462 2.507a.15.15 0 01-.129.075l-2.901.011-2.902-.011a.15.15 0 01-.13-.075L3.01 9.26 1.568 6.741a.15.15 0 010-.149z",stroke:"#2F3035",strokeOpacity:.4,strokeWidth:1.2})),ie||(ie=c.createElement("circle",{cx:7.501,cy:6.667,r:2.067,stroke:"#2F3035",strokeOpacity:.4,strokeWidth:1.2})))},ke="jsuR4Zb3",Ce="T6Es2pPN",Ne=t(73027),Te=function(e){var n=e.showTitleNotice;return c.createElement("div",{className:ke,onClick:function(){(0,Ne.l)({from:"personal_panel",showNotice:n})}},c.createElement(Ee,null),c.createElement("span",{className:Ce},"\u8bbe\u7f6e"))},xe=t(55305),Se=t(86846),Le=t(51613),Ie=t(3388),Ze="UuNR3AUI",Ae="m0Z1dnsv",Pe="SGYqMvc3",De="azaSXw_D",Me="pgSOSkOn",Be="_tuUnj3d",Oe="OSo_eMpt",Re="TtnPwsKy",Ve=(0,c.memo)((function(e){var n=e.className,t=e.isShowProps,r=e.secUid,a=e.onMouseEnter,l=e.onMouseLeave,s=(0,c.useState)(""),d=(0,i.Z)(s,2),f=d[0],m=d[1],v=(0,c.useState)(undefined),p=(0,i.Z)(v,2),h=p[0],g=p[1],w=(0,c.useCallback)((0,x.Z)(I().mark((function e(){var n,t,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(undefined),n="douyin_pc",e.next=4,(0,Le.ep)(n,{schema:"object_id=".concat(n,"&schema_type=56&share_scene=aweme_user_order_list&enter_from=douyin_pc")});case 4:0===(null==(t=e.sent)?void 0:t.statusCode)?(r=(t||{}).qrcodeUrl,m(r),g(!1)):g(!0);case 6:case"end":return e.stop()}}),e)}))),[r]),y=(0,c.useCallback)((function(){g(!0)}),[]);return(0,c.useEffect)((function(){!f&&t&&w()}),[t,f]),c.createElement("div",{className:u()(n,Ze,(0,o.Z)({},Ae,t)),onMouseEnter:a,onMouseLeave:l},c.createElement("div",{className:u()(Pe)},c.createElement("div",{className:Me},h===undefined&&c.createElement(xe.g,null),h&&c.createElement("div",{className:u()(Oe,Be,Me),onClick:function(){w()}},c.createElement("span",null,"\u6296\u97f3\u7801\u83b7\u53d6\u5931\u8d25"),c.createElement("div",{className:Re},c.createElement(Se.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(Ie.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:13,height:12,viewBox:"0 0 14 13"}),"\u5237\u65b0")),!h&&f&&c.createElement("img",{className:De,src:globalThis.xssNamespace.douyin_web.filterUrl(f,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),onError:y}))))})),Fe=t(12827),We=["key"],Ue=(0,B.p)()?null:O.Q;function He(e){var n,t=e.awemeCount,r=e.favoritingCount,a=e.awemeCollectCount,s=e.secUid,d=e.isLogin,f=e.success,v=e.hide,g=e.isActive,b=e.abtest,L=e.isClient,Z=e.nickname,P=e.onOrderLeave,B=e.onOrderEnter,O=(0,c.useState)(!1),z=(0,i.Z)(O,2),X=z[0],$=z[1],ee=(0,k.P)(),ne=ee.type,oe=ee.changeType,ie=(0,C.o)(L).isHorizontalLayout,se=(0,c.useState)(!1),ue=(0,i.Z)(se,2),de=ue[0],fe=ue[1];(0,c.useEffect)((function(){fe((0,y.k)(window.location.href))}),[]);var me=(0,w.s0)(),ve=d&&!L,pe=[{key:"post",iconSvg:j.Z,title:"\u6211\u7684\u4f5c\u54c1",count:t,clickPosition:"post",clickToLogin:re(te(f,"post",ie),"\u767b\u5f55\u5373\u53ef\u67e5\u770b\u201c\u6211\u7684\u4f5c\u54c1\u201d",{enter_method:"panel_post"})},{key:"like",iconSvg:G.Z,title:"\u6211\u7684\u559c\u6b22",count:r,clickPosition:"like",clickToLogin:re(te(f,"like",ie),"\u767b\u5f55\u5373\u53ef\u67e5\u770b\u201c\u6211\u7684\u559c\u6b22\u201d",{enter_method:"panel_like"})},{key:"favorite_collection",iconSvg:K.Z,title:"\u6211\u7684\u6536\u85cf",count:a,clickPosition:"favorite_collection",clickToLogin:re(te(f,"favorite_collection",ie),"\u767b\u5f55\u5373\u53ef\u67e5\u770b\u201c\u6211\u7684\u6536\u85cf\u201d",{enter_method:"panel_favotite"})},{key:"record",iconSvg:q.Z,title:"\u89c2\u770b\u5386\u53f2",count:0,clickPosition:"record",clickToLogin:re(te(f,"record",ie),"\u767b\u5f55\u5373\u53ef\u67e5\u770b\u201c\u89c2\u770b\u5386\u53f2\u201d",{enter_method:"panel_record"})}],he=function(e){Ue.setItem("LOGIN_STATUS",0,Infinity,"/","douyin.com",""),e.preventDefault(),(0,R.JB)(),(0,R.kS)(Le.href),N.Z.sendLog("clickLogOut",{enter_from:(0,p.vM)()})},be=re((function(){window.location.reload()}),"\u767b\u5f55\u5373\u53ef\u67e5\u770b\u201c\u6211\u7684\u8ba2\u5355\u201d",{enter_method:"ecom_order"}),Ee=(0,_e.K)().rechargeConfig,ke=(0,c.useMemo)((function(){var e=[(0,S.Z)((0,S.Z)({},ce.j.myOrder),{},{isLogin:d,loginSuccess:f,onClick:function(){d||be((function(){}))},onMouseEnter:function(){oe("hover_order"),N.Z.sendLog("clickMyEcomOrder",{enter_from:(0,p.yW)()})},onMouseLeave:function(){oe("")},hidden:!1}),(0,S.Z)((0,S.Z)({},ce.j.recharge),{},{text:Ee.userPanelName||ce.j.recharge.text,onClick:function(e){null==v||v()},hidden:(0,Q.X)()}),(0,S.Z)((0,S.Z)({},ce.j.liveMate),{},{isLogin:d,loginSuccess:f,onClick:v,hidden:!1})];return d&&e.push((0,S.Z)((0,S.Z)({},ce.j.logout),{},{isLogin:d,onClick:function(e){Ie(e)},hidden:!d})),(0,Q.X)()&&(e=l()(e).call(e,(function(e){return"doubi_recharge"!==e.key}))),l()(e).call(e,(function(e){return!e.hidden}))}),[d,b,null==Ee?void 0:Ee.userPanelName]);(0,c.useEffect)((function(){"hover_order"===ne?null==B||B():null==P||P()}),[ne]);var Ce=(0,c.useState)((0,V.Bj)((0,p.yW)())),Ne=(0,i.Z)(Ce,2),xe=Ne[0],Se=Ne[1],Le=(0,w.TH)();(0,c.useEffect)((function(){Se((0,V.Bj)((0,p.yW)()))}),[Le.pathname]);var Ie=function(){var e=(0,x.Z)(I().mark((function e(n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==v||v(),(0,we.f)((function(){var e;1===(null==b||null===(e=b.speedBlock)||void 0===e?void 0:e.speed_block)&&(0,F.t_)(M.SessionStorageKeys.PlayerPlaybackratio,1),he(n)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){document.domain!==H.LIVE_DOMAIN&&$(!0)}),[]),c.createElement("div",{className:u()(J.userMenuPanelCollect)},!d&&c.createElement("p",{className:J.loginGuideText},"\u767b\u5f55\u540e\u5373\u53ef\u89c2\u770b\u559c\u6b22\u3001\u6536\u85cf\u7684\u89c6\u9891"),d&&X&&c.createElement("div",{className:u()(J.userLoginInfo)},c.createElement("div",{className:u()(J.userNickname,J.pointer),onClick:function(){window.open((0,_.HC)("self","showTab=post&enter_method=personal_panel"),ie?"_self":"_blank")}},c.createElement("div",{className:J.nickname},Z||(null===(n=(0,W.$o)(M.LocalStorageKeys.UserInfo))||void 0===n?void 0:n.nickname)||"\u672a\u77e5"),c.createElement(le.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(Y,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:12,height:12,viewBox:"0 0 12 12"})),g?c.createElement(ye.Z,{pageIndex:"personal_panel"}):null),c.createElement(Ve,{secUid:s,isShowProps:"hover_order"===ne&&d,className:J.qrCode,onMouseEnter:function(){oe("hover_order")},onMouseLeave:function(){oe("")}}),c.createElement("ul",{className:J.userMsgBox},A()(pe).call(pe,(function(e,n){return c.createElement("ul",{key:e.key,className:J.userMsgWrap},d?c.createElement(E.a,{rel:"noopener noreferrer",href:globalThis.xssNamespace.douyin_web.filterUrl((0,_.HC)("self","showTab=".concat(e.key,"&enter_method=personal_panel")),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),target:ie?"_self":"_blank",onClick:function(n){N.Z.sendLog("personalPanelClick",{enter_from:(0,p.vM)(),click_position:e.clickPosition||e.key}),null==v||v(),(null==b?void 0:b.selfUseSpa)===m.$j.On&&de&&(n.preventDefault(),"personal_homepage"!==(0,p.yW)()?me({pathname:(0,_.HC)("self","showTab=".concat(e.key,"&enter_method=personal_panel"))}):h.emit(h.EVENT.userChangeTab,e.key))}},c.createElement("li",{className:J.userMsg,"data-e2e":"usermsg-item"},c.createElement(le.Z,{width:32,height:32,src:globalThis.xssNamespace.douyin_web.filterUrl(e.iconSvg,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),viewBox:"0 0 32 32",className:J.hoverEnlarge}),c.createElement("p",{className:J.count},"record"===e.key?c.createElement("span",null,"30"):(0,U.qe)(e.count),"record"===e.key?c.createElement("span",{className:J.countText},"\u5929\u5185"):undefined),c.createElement("p",{className:J.title},e.title))):c.createElement("div",{onClick:function(n){N.Z.sendLog("personalPanelClick",{enter_from:(0,p.vM)(),click_position:e.clickPosition||e.key}),e.clickToLogin(n),null==v||v()}},c.createElement("li",{className:u()(J.userMsg,J.userMsgLogout)},c.createElement(le.Z,{width:32,height:32,src:globalThis.xssNamespace.douyin_web.filterUrl(e.iconSvg,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),viewBox:"0 0 32 32",className:J.hoverEnlarge}),c.createElement("p",{className:J.title},e.title))),n!==pe.length-1&&c.createElement("div",{className:J.verticalDivider}))}))),c.createElement(ae.i,null),c.createElement("ul",{className:u()(J.userMsgPanel,(0,o.Z)({},J.userMsgPanelLogout,!d)),key:(0,Q.X)()?D()():undefined},c.createElement(Fe.r,null,A()(ke).call(ke,(function(e){var n=e.key,t=(0,T.Z)(e,We);return c.createElement("li",{key:n},c.createElement(ce.h,t))}))),!xe&&c.createElement(Fe.r,null,c.createElement("li",{className:J.newThemeEntry,key:"newThemeEntry"},c.createElement(ge,null))),Boolean(ve)&&c.createElement("li",{className:u()(J.userSettings,(0,o.Z)({},J.leftDividerLine,xe)),key:"userSettings"},c.createElement(Te,{showTitleNotice:!0}))))}var je=t(1694),Ge=t(38210);function Ke(e){var n,t=(0,k.P)({delayDisappear:100,delayShow:100}),r=t.type,a=t.changeType,l=e.secUid,s=e.avatarUrl,d=e.awemeCount,f=e.favoritingCount,v=e.awemeCollectCount,T=e.className,x=e.isClient,S=e.abtest,L=e.nickname,I=(0,c.useState)(!1),Z=(0,i.Z)(I,2),A=Z[0],P=Z[1],D=(0,C.o)(x).isHorizontalLayout,M=(0,c.useState)(!1),B=(0,i.Z)(M,2),O=B[0],R=B[1],V=(0,w.s0)();(0,c.useEffect)((function(){R((0,y.k)(window.location.href))}),[]),(0,c.useEffect)((function(){var e=h.listen(h.EVENT.showHeaderPopUp,(function(e){var n=e||{},t=n.type,r=n.isShow;"im"===t&&r&&a()}));return function(){return e()}}),[]),(0,c.useEffect)((function(){"active"===r&&h.emit(h.EVENT.showHeaderPopUp,{type:"userDetail",isShow:!0})}),[r]);var F=(0,c.useCallback)((function(){P(!0)}),[]),W=(0,c.useCallback)((function(){P(!1)}),[]);return c.createElement(je.p,{headerPopupName:"userDetail"},c.createElement("div",{className:u()(g.Z.avataUserCt,g.Z.avataUserMini,T,(0,o.Z)({},g.Z.clientAvatarLi,x)),onMouseEnter:function(){a("active"),h.emit(h.EVENT.trustMenuShow,{show:!1})},onMouseLeave:function(){a()}},c.createElement(E.a,{target:D?"_self":"_blank",rel:"noopener noreferrer",href:globalThis.xssNamespace.douyin_web.filterUrl((0,_.HC)("self","enter_method=top_bar"),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:u()(g.Z.avatar,g.Z.hoverEnlarge),onClick:function(e){(null==S?void 0:S.selfUseSpa)===m.$j.On&&O&&(e.preventDefault(),V({pathname:(0,_.HC)("self","enter_method=top_bar")}),h.emit(h.EVENT.userChangeTab,"post"))}},c.createElement(b.q,{type:"extraExtraSmall",className:u()((0,o.Z)({},g.Z.clientAvatr,x)),src:globalThis.xssNamespace.douyin_web.filterUrl(s,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),isSelf:!0})),c.createElement("div",{className:u()(g.Z.dropdownContainer,g.Z.userPanelCollect,(n={},(0,o.Z)(n,g.Z.active,Boolean(r)),(0,o.Z)(n,g.Z.clearOverflow,A),n)),onMouseEnter:function(){a("active"),N.Z.sendLog("personalPanelShow",{enter_from:(0,p.vM)()})},onMouseLeave:function(){a()}},c.createElement("ul",null,c.createElement(He,{awemeCount:d,favoritingCount:f,awemeCollectCount:v,secUid:l,isLogin:!0,isActive:"active"===r,hide:function(){return a()},abtest:S,isClient:x,nickname:L,onOrderEnter:F,onOrderLeave:W})))),c.createElement(Ge.J,null))}var qe=t(33389),Qe=t(83655),ze={loginCircleCt:"tcTjz3nj",circleLoginBtn:"LrcT0jFU"};function Ye(e){var n=e.className,t=e.success,r=e.onMouseEnter,o=e.onMouseLeave,i=e.displayAvatar,a=void 0===i||i,l=e.avatarUrl,s=void 0===l?Qe.Z:l,u=re(t,e.headerText);return c.createElement("div",{className:n,id:ze.loginCircleCt},a?c.createElement("div",{className:ze.circleLoginBtn,onClick:u,onMouseEnter:r,onMouseLeave:o},c.createElement(le.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(s,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:32,height:32,viewBox:"0 0 32 32"})):c.createElement("div",{className:ze.circleLoginBtn,onClick:u,onMouseEnter:r,onMouseLeave:o}," ","\u767b\u5f55"," "))}var Je={loginCt:"_7hLtYmO",loginBtn:"FRVbbGB0",loginButtonText:"lqiPv8cB"},Xe=t(95138),$e=t(65902),en=t(35625),nn=t(68350),tn=function(e){var n=e.width,t=void 0===n?38:n,r=e.height,o=void 0===r?38:r,i=e.className,a=e.viewBox,l=void 0===a?"0 0 38 38":a;return c.createElement(nn.A,(0,$e.Z)({},e,{width:t,height:o,src:globalThis.xssNamespace.douyin_web.filterUrl(en.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),id:"svg_icon_avatar",defaultWidth:38,defaultHeight:38,viewBox:l,className:i}))};function rn(e){var n,t=e.className,r=e.isActivity,i=e.theme,a=e.success,l=e.customProps,s=e.onMouseEnter,d=e.onMouseLeave,f=e.headerText;return c.createElement("div",{className:u()(t,null==Je?void 0:Je[null==l?void 0:l.activityName],(n={},(0,o.Z)(n,Je.isActivity,r),(0,o.Z)(n,"isDark","dark"===i),(0,o.Z)(n,"theme","light"===i),n)),id:Je.loginCt,onMouseEnter:s,onMouseLeave:d},c.createElement(Xe.zx,{className:Je.loginBtn,theme:"border",onClick:re(a,f)},c.createElement(tn,{height:18,width:18,viewBox:"0 0 18 18"}),c.createElement("p",{className:Je.loginButtonText},"\u767b\u5f55")))}function on(e){var n=e.isToggleLoginBtn,t=void 0===n||n,r=e.success,o=e.className,i=e.customProps,a=e.displayAvatar,l=e.onMouseEnter,s=e.onMouseLeave;return t?c.createElement(rn,{success:r,className:o,customProps:i,isActivity:null==i?void 0:i.isActivity,theme:null==i?void 0:i.theme,onMouseEnter:l,onMouseLeave:s}):c.createElement(Ye,{success:r,className:o,onMouseEnter:l,onMouseLeave:s,displayAvatar:a})}var an,ln,cn=t(29809),sn=t.n(cn),un=t(60443),dn=t(25902),fn=t(61065),mn=t(31554),vn=t(4836),pn=t(95508),hn=t(19049),gn=t(9191),wn=t(27868),yn=t(29774),_n=t(80704),bn=(0,B.p)()?null:O.Q,En=function(e){if(bn){var n=bn.getItem({sKey:M.CookieKeys.forceLogin});bn.setItem(M.CookieKeys.forceLogin,(0,S.Z)((0,S.Z)({},n),e),M.COOKIE_DEFAULT_EXPIRE_DURATION,"/",M.COOKIE_DOMAIN,"")}},kn=(an={},(0,o.Z)(an,m.Ds.V0,180),(0,o.Z)(an,m.Ds.V1,180),(0,o.Z)(an,m.Ds.V2,900),an),Cn=(0,pn.Z)((function e(){var n=this;(0,hn.Z)(this,e),(0,o.Z)(this,"removeHoverListener",null),(0,o.Z)(this,"removePanelListener",null),(0,o.Z)(this,"forceLoginTimer",null),(0,o.Z)(this,"abValue",m.Ds.V0),(0,o.Z)(this,"forceLoginRemainCount",180),(0,o.Z)(this,"isPanelShow",!1),(0,o.Z)(this,"hasInit",!1),(0,o.Z)(this,"cancleForce",(function(){n.stopForce(),null===_n.ev||void 0===_n.ev||(0,_n.ev)(),En({isEscapeForce:1})})),(0,o.Z)(this,"stopForce",(function(){n.forceLoginTimer&&(n.stopTimer(),document.removeEventListener("visibilitychange",n.onVisibilityChange),window.removeEventListener("unload",n.onBeforeunload))})),(0,o.Z)(this,"showPanel",(function(){if(!n.isPanelShow){n.isPanelShow=!0,document.removeEventListener("visibilitychange",n.onVisibilityChange),h.emit(h.EVENT.forceDialogShow,{show:!1}),h.emit(h.EVENT.videoPause);var e=n.abValue===m.Ds.V2?{isShowCloseBtnAfterLoginFail:!0}:{};(0,mn.default)({success:function(){window.location.reload()},enterMethod:"force_login_guide",isActive:"0",next:(0,vn.pL)(),isCanClose:!1,headerText:"\u8bd5\u770b\u7ed3\u675f\uff0c\u767b\u5f55\u4eab\u66f4\u591a\u7cbe\u5f69\u89c6\u9891",subTitle:["\u9ad8\u6e05\u89c6\u9891\u514d\u8d39\u770b","\u70b9\u8d5e\u8bc4\u8bba\u968f\u5fc3\u53d1","\u76f4\u64ad\u95f4\u7545\u804a\u6253\u8d4f"],sdkConfig:e,onClose:function(){n.cancleForce()}})}})),(0,o.Z)(this,"stopTimer",(function(e){var t,r,o,i=null!=e?e:n.forceLoginRemainCount;(En({videoConsumedRemainSeconds:i}),n.forceLoginTimer)&&(null===(t=n.forceLoginTimer)||void 0===t||t.call(n),n.forceLoginTimer=null);n.removeHoverListener&&(null===(r=n.removeHoverListener)||void 0===r||r.call(n),n.removeHoverListener=null);n.removePanelListener&&(null===(o=n.removePanelListener)||void 0===o||o.call(n),n.removePanelListener=null)})),(0,o.Z)(this,"tickFunc",(function(){n.forceLoginRemainCount>0?(h.emit(h.EVENT.forceLoginCount,n.forceLoginRemainCount),60===n.forceLoginRemainCount&&(h.emit(h.EVENT.forcePopShow,{show:!1}),Tn()||h.emit(h.EVENT.forceDialogShow,{show:!0})),n.forceLoginRemainCount--):(h.emit(h.EVENT.forceDialogShow,{show:!1}),(0,yn.XR)()||mn.loginPanelInfo.isShowingAccount||(n.stopTimer(),n.showPanel()))})),(0,o.Z)(this,"panelExclusive",(function(e){(0,yn.XR)()||n.exclusive(e)})),(0,o.Z)(this,"hoverExclusive",(function(e){n.exclusive(e)})),(0,o.Z)(this,"exclusive",(function(e){e?(h.emit(h.EVENT.forceDialogShow,{show:!1}),h.emit(h.EVENT.forcePopShow,{show:!1})):n.forceLoginRemainCount>0&&n.forceLoginRemainCount<60&&h.emit(h.EVENT.forceDialogShow,{show:!0})})),(0,o.Z)(this,"startTimer",(function(){var e=(bn&&bn.getItem({sKey:M.CookieKeys.forceLogin})||{}).videoConsumedRemainSeconds,t=void 0===e?n.forceLoginRemainCount:e;n.forceLoginRemainCount=t,n.forceLoginTimer||n.isPanelShow||(n.removePanelListener=h.listen(h.EVENT.showLoginPane,n.panelExclusive),n.removeHoverListener=h.listen(h.EVENT.hoverIcon,n.hoverExclusive),n.forceLoginTimer=(0,yn.ju)((function(){n.tickFunc()}),1e3))})),(0,o.Z)(this,"onVisibilityChange",(function(){"hidden"===document.visibilityState?n.stopTimer():n.startTimer()})),(0,o.Z)(this,"onBeforeunload",(function(){En({videoConsumedRemainSeconds:n.forceLoginRemainCount})})),(0,o.Z)(this,"init",(0,x.Z)(I().mark((function e(){var t,r,o,i,a,l,c,s,u,d,f,v,p,g,w,y,_,b,E=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=E.length>0&&E[0]!==undefined?E[0]:m.Ds.V0,!n.forceLoginTimer&&!n.hasInit){e.next=3;break}return e.abrupt("return");case 3:return r=(0,me.DT)(),o=(0,gn.Rs)("ug_source"),e.next=7,(0,wn.b)();case 7:if(i=e.sent,a=i.isLogin,l=void 0!==a&&a,n.abValue=t,c=bn&&bn.getItem({sKey:M.CookieKeys.forceLogin})||{},s=c.timeToFirstCome,u=void 0===s?0:s,d=c.videoConsumedRemainSeconds,f=void 0===d?n.forceLoginRemainCount:d,v=c.isForcePopClose,p=void 0===v?0:v,g=c.isForceDialogClose,w=void 0===g?0:g,y=c.isEscapeForce,_=void 0===y?0:y,!((0,B.p)()||r||o||l||t===m.Ds.V0||t===m.Ds.V2&&_)){e.next=15;break}return n.stopTimer(f),e.abrupt("return");case 15:if(n.hasInit=!0,b=(new Date).getTime(),!(0,yn.zk)(u,b)?(En({timeToFirstCome:b,videoConsumedRemainSeconds:kn[t],isForcePopClose:0,isForceDialogClose:0,isEscapeForce:0}),n.forceLoginRemainCount=kn[t]):n.forceLoginRemainCount=f,!(n.forceLoginRemainCount>60)||p){e.next=23;break}return e.next=22,(0,yn._v)(2e3);case 22:h.emit(h.EVENT.forcePopShow,{show:!0});case 23:n.forceLoginRemainCount>0&&n.forceLoginRemainCount<=60&&!w&&h.emit(h.EVENT.forceDialogShow,{show:!0}),n.startTimer(),document.addEventListener("visibilitychange",n.onVisibilityChange),window.addEventListener("unload",n.onBeforeunload);case 27:case"end":return e.stop()}}),e)}))))})),Nn=function(){return ln||(ln=(0,B.p)()?null:new Cn)},Tn=function(){var e=(0,yn.XR)();return mn.loginPanelInfo.isShowingAccount&&!e},xn=t(15971),Sn=function(){var e=(0,c.useState)(""),n=(0,i.Z)(e,2),t=n[0],r=n[1],o=(0,c.useRef)(null);return(0,c.useEffect)((function(){return o.current=h.listen(h.EVENT.forceLoginCount,(function(e){var n=function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"m:s";e=Number(e);var t={m:sn()(e%3600/60),s:sn()(e%60)},r=n.replace(/(d|h|m|s)/g,(function(e){var n=t[e];return e&&n<10&&(n="0".concat(n)),n||0}));return r}(e);r(n)})),function(){var e;o.current&&(null===(e=o.current)||void 0===e||e.call(o),o.current=null)}}),[]),c.createElement("div",{className:"force-countdown-count"},t)},Ln=function(){var e=(0,c.useRef)(null),n=(0,dn.r)(),t=(0,c.useRef)(!1);(0,c.useEffect)((function(){return e.current=h.listen(h.EVENT.forcePopShow,(function(e){e.show?a():i()})),function(){var n;e.current&&(null===(n=e.current)||void 0===n||n.call(e),e.current=null)}}),[]),(0,c.useEffect)((function(){if(n){(document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||(0,fn.W)())&&t.current&&a()}else{var e=document.getElementById("force-login-pop-in-full");null==e||e.remove()}}),[n]);var r=function(){i(),(0,mn.default)({headerText:"\u767b\u5f55\u4eab\u66f4\u591a\u7cbe\u5f69\u89c6\u9891",subTitle:["\u9ad8\u6e05\u89c6\u9891\u514d\u8d39\u770b","\u70b9\u8d5e\u8bc4\u8bba\u968f\u5fc3\u53d1","\u76f4\u64ad\u95f4\u7545\u804a\u6253\u8d4f"],success:function(){window.location.reload()},enterMethod:"force_login_bar",isActive:"0",next:(0,vn.pL)()})},o=function(){i()},i=function(){if(document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||(0,fn.W)()){var n=document.getElementById("force-login-pop-in-full");null==n||n.remove()}var r,o=document.getElementById("force-login-pop-in-body");(null==o||o.remove(),t.current=!1,En({isForcePopClose:1}),e.current)&&(null===(r=e.current)||void 0===r||r.call(e),e.current=null)},a=function(){var e=document.createElement("div"),i=document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||(0,fn.W)();n&&i?(e.id="force-login-pop-in-full",i.appendChild(e)):(e.id="force-login-pop-in-body",document.body.appendChild(e)),un.render(c.createElement("div",{className:u()("force-pop",{isFullScreen:n})},c.createElement("div",{className:"force-pop-close",onClick:o}),c.createElement("div",{className:"force-pop-countdown"},c.createElement(Sn,null),c.createElement("div",{className:"force-pop-countdown-text"},"\u540e\u8bd5\u770b\u7ed3\u675f")),c.createElement("div",{className:"force-pop-desc"},c.createElement("div",{className:"force-pop-desc-btn",onClick:r},"\u767b\u5f55"),c.createElement("div",null,"\u7ee7\u7eed\u89c2\u770b\u7cbe\u5f69\u89c6\u9891"))),e),t.current=!0};return c.createElement(c.Fragment,null)},In=function(){var e=(0,c.useRef)(null),n=(0,dn.r)(),t=(0,c.useRef)(!1),r=(0,c.useRef)(!1);(0,c.useEffect)((function(){return e.current=h.listen(h.EVENT.forceDialogShow,(function(e){e.show?s():a()})),function(){var n;e.current&&(null===(n=e.current)||void 0===n||n.call(e),e.current=null)}}),[]),(0,c.useEffect)((function(){t.current&&s()}),[n]);var o=function(){a(),(0,mn.default)({headerText:"\u767b\u5f55\u4eab\u66f4\u591a\u7cbe\u5f69\u89c6\u9891",subTitle:["\u9ad8\u6e05\u89c6\u9891\u514d\u8d39\u770b","\u70b9\u8d5e\u8bc4\u8bba\u968f\u5fc3\u53d1","\u76f4\u64ad\u95f4\u7545\u804a\u6253\u8d4f"],success:function(){window.location.reload()},enterMethod:"force_login_popup_tab",isActive:"0",next:(0,vn.pL)()})},i=function(){var n;(a(),r.current=!0,t.current=!1,En({isForceDialogClose:1}),e.current)&&(null===(n=e.current)||void 0===n||n.call(e),e.current=null)},a=function(){var e=document.getElementById("force-login-dialog-in-full");null==e||e.remove();var n=document.getElementById("force-login-dialog-in-body");null==n||n.remove()},l=function(e){return c.createElement("div",{className:"login-guide__desc"},c.createElement("div",{className:"login-guide__force__desc"},c.createElement(Sn,null),"\u540e\u8bd5\u770b\u7ed3\u675f"),c.createElement("div",null,"\u767b\u5f55\u540e\uff0c\u7ee7\u7eed\u89c2\u770b\u7cbe\u5f69\u89c6\u9891"))},s=function(){var e=(0,x.Z)(I().mark((function e(){var n,s,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.current){e.next=2;break}return e.abrupt("return");case 2:return a(),n=document.createElement("div"),(s=document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||(0,fn.W)())?(n.id="force-login-dialog-in-full",s.appendChild(n)):(n.id="force-login-dialog-in-body",document.body.appendChild(n)),e.next=8,(0,vn.gE)({ScanCodeDescription:l,enterMethod:"force_login_popup",scanCodeNeedLogo:!0});case 8:u=e.sent,un.render(c.createElement(xn.Z,{config:u,destroy:a,onCloseClick:i,onLoginClick:o}),n),t.current=!0;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.createElement(c.Fragment,null)},Zn=function(){return c.createElement(c.Fragment,null,c.createElement(Ln,null),c.createElement(In,null))};function An(e){var n=e.success,t=e.isToggleLoginBtn,r=e.displayAvatar,i=void 0!==r&&r,a=e.className,l=e.isClient,s=e.abtest,d=(0,k.P)({delayDisappear:100,delayShow:100}),f=d.type,m=d.changeType;return(0,c.useEffect)((function(){var e=h.listen(h.EVENT.showHeaderPopUp,(function(e){var n=e||{},t=n.type,r=n.isShow;"im"===t&&r&&m()}));return function(){return e()}}),[]),(0,c.useEffect)((function(){"active"===f?(h.emit(h.EVENT.showHeaderPopUp,{type:"userDetail",isShow:!0}),null!==qe.n&&void 0!==qe.n&&qe.n.loginGuideShowed&&qe.n.destroy(),h.emit(h.EVENT.forcePopShow,{show:!1}),h.emit(h.EVENT.hoverIcon,!0)):h.emit(h.EVENT.hoverIcon,!1)}),[f]),c.createElement(je.p,{headerPopupName:"userDetail"},c.createElement("div",{className:u()(g.Z.avataUserCt,g.Z.avataUserMini,a,(0,o.Z)({},g.Z.clientAvataUserCt,l)),onMouseEnter:function(){m("active")},onMouseLeave:function(){m()}},l?c.createElement(Ye,{success:n}):c.createElement(on,{isToggleLoginBtn:t,displayAvatar:i,success:n}),c.createElement("div",{className:u()(g.Z.dropdownContainer,g.Z.userPanelCollect,(0,o.Z)({},g.Z.active,Boolean(f))),onMouseEnter:function(){N.Z.sendLog("personalPanelShow",{enter_from:(0,p.vM)()})}},c.createElement("ul",null,c.createElement(He,{secUid:"0",isLogin:!1,hide:function(){return m()},abtest:s,isClient:l,success:n})))),c.createElement(Zn,null))}var Pn=t(71116),Dn=t(58383),Mn=t(85922),Bn=t(55283),On=t(52904),Rn=t(57768),Vn=t(26613),Fn=t(9058),Wn=t(85792),Un=t.n(Wn),Hn=t(63182),jn=t(28006),Gn=t(46930),Kn=function(e){var n=e.isDownloadGuideShow,t=e.onDownloadGuideVisibleChange,r=e.onDownloadGuideEnter,o=e.onDownloadGuideLeave,a=e.abTestData,l=e.isLogin,s=e.osInfo,u=e.clientDownloadAttr,d=e.clientDownloadHref,f=e.downloadPWA,m=e.withClose,v=e.withEffect,w=e.showType,y=e.showDownloadGuide,_=e.shouldShowGuideType,b=e.hideDownloadGuide,E=e.showClientBadge,k=e.setShowClientBadge,C=e.activityName,T=e.transparent,x=e.guideText,S=e.onMouseEnter,L=e.onMouseLeave,I=e.guideFrom,Z=e.popoverSpacing,A=void 0===Z?10:Z,P=(0,c.useState)(!1),M=(0,i.Z)(P,2),B=M[0],O=M[1],R=function(e){var n=(0,c.useState)(!1),t=(0,i.Z)(n,2),r=t[0],o=t[1],a=(0,c.useRef)(!1),l=(0,c.useRef)(null);(0,c.useEffect)((function(){!l.current&&r&&(l.current=Un()((function(){if(a.current)return a.current=!1,clearTimeout(l.current),void(l.current=null);(0,jn.D)("follow"),Hn.YY.finishTask(Hn.BE.DownloadGuideTaskId),o(!1),clearTimeout(l.current),l.current=null}),3e3))}),[r]),(0,c.useEffect)((function(){if(!e)return function(){return null};var n=h.listen(h.EVENT.showClientDownloadGuide,(function(e){var n,t=e.isShow,r=e.type,i=e.from,a=(null===(n=Pn.Le.getConfig(Pn.gI.IsDownloadBarShow))||void 0===n?void 0:n.timeColdStartShow)||0,l=!a||D()()-a>18e5;"follow"===r&&t&&(0,jn.A)(r)&&"im"!==i&&l&&Hn.YY.insertTask(Hn.BE.DownloadGuideTaskId,(function(){o(!0)}),{onFinish:function(){o(!1)},delay:0,priority:Hn.T0.ClientDownloadPriority})}));return function(){null==n||n()}}),[e]),(0,c.useEffect)((function(){var n=h.listen(h.EVENT.showHeaderPopUp,(function(n){n.isShow&&e&&(Hn.YY.finishTask(Hn.BE.DownloadGuideTaskId),o(!1))}));return function(){null==n||n()}}),[e]);var s=(0,c.useCallback)((function(){a.current=!0,o((function(e){return e&&(0,jn.D)("follow"),!1})),Hn.YY.finishTask(Hn.BE.DownloadGuideTaskId)}),[]);return(0,c.useEffect)((function(){r&&Gn.Z.sendLog("addToDesktopShow",{enter_from:(0,p.vM)(),type:"follow"})}),[r]),{isShow:r,closeTip:s}}(!0),V=R.isShow,F=R.closeTip;return c.createElement(Fn.C,{content:"\u4e0b\u8f7d\u5ba2\u6237\u7aef\uff0c\u53ca\u65f6\u63a5\u6536TA\u7684\u5f00\u64ad\u63d0\u9192",showTip:V,setShowTip:V?F:function(){return null},type:"bottom",tipClassName:g.Z.downloadTip,otherHide:!1},c.createElement(On.J,{position:"bottom",visible:n,onVisibleChange:t,mouseEnterDelay:100,mouseLeaveDelay:200,mouseEnter:S,mouseLeave:L,spacing:A,content:c.createElement("div",{onMouseEnter:r,onMouseLeave:o},c.createElement(Rn.E6,{isLogin:l,abTestData:a,osInfo:s,downloadPWA:f,withClose:m,withEffect:v,showType:w,shouldShowGuideType:_,clientDownloadHref:d,clientDownloadAttr:u,showDownloadGuide:y,onClose:b,setShowClientBadge:k,guideText:x,guideFrom:I}))},c.createElement("div",{className:g.Z.menuItem},c.createElement(je.p,{headerPopupName:"client"},c.createElement("a",{href:globalThis.xssNamespace.douyin_web.filterUrl(d,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),download:""===u?undefined:u,target:"_self",onClick:function(){var e=_===Vn.xj.PWA?"pwa":"client_downloader";N.Z.sendLog("addToDesktopClick",{enter_from:(0,N.v)(),is_full_screen:(0,dn.r)()?"1":"0",type:"icon",platform:e}),Pn.Le.setConfig(Pn.gI.UserClick2DownloadClient,!0)}},c.createElement(Bn.Y,{activityName:C,text:"\u5ba2\u6237\u7aef",icon:Dn.Z,iconWidth:24,iconHeight:24,iconViewBox:"0 0 24 24",showBadge:E,badge:"image",badgeIconSvg:Mn.Z,badgeIconHeight:15,badgeIconWidth:28,badgeIconViewBox:"0 0 28 15",transparent:T,onMouseEnter:function(){return O(!0)},onMouseLeave:function(){return O(!1)}},B&&c.createElement("div",{className:g.Z.clientPanelMask})))))))},qn=t(30350),Qn=function(e){var n=e.abTestData,t=e.transparent,r=e.postDropdownItems,o=e.isPublishGuideShow,i=e.activityName,a=e.onMouseEnter,s=e.onMouseLeave,u=(0,c.useCallback)((function(){var e,n,t=null===(e=l()(r).call(r,(function(e){return"publish"===e.key})))||void 0===e?void 0:e[0];null==t||null===(n=t.onClick)||void 0===n||n.call(t),N.Z.sendLog("clickPublish",{enter_from:(0,p.vM)(),is_badge:Number(o)}),null!=t&&t.url&&window.open(t.url,"_blank","noopener")}),[r,o,n]);return c.createElement("div",{className:g.Z.menuItem},c.createElement(je.p,{headerPopupName:"post"},c.createElement(Bn.Y,{text:"\u6295\u7a3f",type:"circleButtonWithText",icon:qn.Z,activityName:i,iconHeight:24,iconWidth:24,viewBox:"0 0 24 24",trigger:"hover",items:r,itemsContainerClassName:g.Z.dropdownContainer,headerPopupName:"post",onClick:u,transparent:t,badge:"round",showBadge:o,badgeStyle:{right:"-5px",top:"1px"},onMouseEnter:a,onMouseLeave:s})))},zn=t(29416),Yn=function(e){var n=e.showType,t=e.inMiniScreen,r=e.isDownloadGuideShow,o=e.showQuickAccessColdStart,i=e.osInfo,a=e.isLogin,l=e.abTestData,s=e.installPWA,u=e.withQuickAccessClose,d=e.downloadPWA,f=e.withClose,m=e.withEffect,v=e.shouldShowGuideType,p=e.clientDownloadAttr,h=e.clientDownloadHref,w=e.showDownloadGuide,y=e.hideDownloadGuide,_=e.guideFrom,b=e.guideText;return c.createElement(c.Fragment,null,n===Vn.KK.Auto&&t&&r&&c.createElement("div",{className:g.Z.miniScreen},c.createElement("div",{className:g.Z.fixedToHeaderBelow},c.createElement("div",{className:g.Z.miniScreenDownloadGuideContainer},c.createElement(Rn.E6,{isLogin:a,isShow:r,abTestData:l,osInfo:i,showType:n,downloadPWA:d,withClose:f,withEffect:m,shouldShowGuideType:v,clientDownloadAttr:p,clientDownloadHref:h,showDownloadGuide:w,onClose:y,guideFrom:_,guideText:b})))),t&&o&&c.createElement("div",{className:g.Z.miniScreen},c.createElement("div",{className:g.Z.fixedToHeaderBelow},c.createElement("div",{className:g.Z.miniScreenDownloadGuideContainer},c.createElement(zn.tt,{installPWA:s,withQuickAccessClose:u})))))},Jn=t(97664),Xn=t(54805),$n=t(9053),et=t(28427),nt=t(76299),tt=function(e){return function(){try{return e.apply(void 0,arguments)}catch(n){}}},rt=tt((function(){var e=(O.Q.getItem({sKey:M.CookieKeys.PWA2Guide})||"").split("|"),n=(0,i.Z)(e,4),t=n[0],r=void 0===t?"0":t,o=n[1],a=void 0===o?"0":o,l=n[2],c=void 0===l?"0":l,s=n[3],u=void 0===s?"0":s;return{showGuideCount:Number(r),hovered:a,quickAccessShowGuideCount:Number(c),quickAccessHovered:u}})),ot=tt((function(e){var n=rt(),t=(0,S.Z)((0,S.Z)({},n),e),r=t.showGuideCount,o=t.hovered,i=t.quickAccessShowGuideCount,a=t.quickAccessHovered;O.Q.setItem(M.CookieKeys.PWA2Guide,[r,o,i,a].join("|"))})),it=tt((function(){var e=rt().hovered;return"0"===(void 0===e?"0":e)})),at=tt((function(){var e=rt();ot({showGuideCount:Math.min(e.showGuideCount+1,3)})})),lt=tt((function(){var e=rt(),n=e.showGuideCount;return"1"!==e.hovered&&n<3})),ct=tt((function(){var e=rt().quickAccessHovered;return"0"===(void 0===e?"0":e)})),st=tt((function(){var e=rt();ot({quickAccessShowGuideCount:Math.min(e.quickAccessShowGuideCount+1,3)})})),ut=tt((function(){return rt().quickAccessShowGuideCount<3})),dt={STAY_TIME:5e3,TOTAL_COUNT:3,getPWA2GuideData:rt,updatePWAGuideData:ot,increasePWA2ShowGuideCount:at,checkBadgeVisible:it,checkAutoShowPanel:lt,increasePWA2QuickAccessShowGuideCount:st,checkQuickAccessBadgeVisible:ct,checkAutoShowQuickAccessPanel:ut},ft=function(){var e=(0,x.Z)(I().mark((function e(){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$n.pL)();case 2:return n=e.sent,e.abrupt("return",!n||(0,et.KC)(1e3*n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mt=function(e){var n=e.isLogin,t=e.isLoginClient,r=e.PWAInstallable,o=(0,c.useState)(!1),a=(0,i.Z)(o,2),l=a[0],s=a[1],u=(0,c.useState)(!1),d=(0,i.Z)(u,2),f=d[0],m=d[1],v=(0,c.useState)(!1),p=(0,i.Z)(v,2),g=p[0],w=p[1],y=(0,c.useState)(!1),_=(0,i.Z)(y,2),b=_[0],E=_[1],k=(0,c.useRef)(),C=(0,c.useRef)(),N=(0,c.useMemo)((function(){return!!r}),[r]),T=function(){m(!0),g&&(dt.updatePWAGuideData({quickAccessHovered:"1"}),w(!1))},S=(0,nt.U)({enterDelay:200,leaveDelay:200,onMouseEnter:function(e){if(l)return e.target.closest(".quick-access-nav-icon")&&(s(!1),T()),void(C.current&&window.clearTimeout(C.current));T(),k.current&&window.clearTimeout(k.current)},onMouseLeave:function(){m(!1),l&&(C.current=Un()((function(){s(!1)}),5e3))}}),L=S.onMouseEnter,Z=S.onMouseLeave,A=(0,Xn.Z)((function(){s(!1),m(!1)})),P=(0,Xn.Z)((function(){Pn.Le.getConfig(Pn.gI.UserClick2DownloadClient)||dt.checkAutoShowQuickAccessPanel()&&(s(!0),dt.increasePWA2QuickAccessShowGuideCount(),C.current&&window.clearTimeout(C.current),C.current=Un()((function(){s(!1)}),5e3))}));return(0,c.useEffect)((function(){(0,me.DT)()?E(!1):E(!0)}),[]),(0,c.useEffect)((function(){dt.checkQuickAccessBadgeVisible()&&w(!0)}),[]),(0,c.useEffect)((function(){h.listen(h.EVENT.showHeaderPopUp,(function(e){var n=e.type,t=e.isShow;"quickaccess"!==n&&t&&s(!1)}))}),[]),(0,c.useEffect)((function(){(0,x.Z)(I().mark((function e(){var o,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:if(r){e.next=4;break}return e.abrupt("return");case 4:if(!n||!t){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,ft();case 8:o=e.sent,i=o?9e4:6e4,k.current&&window.clearTimeout(k.current),k.current=Un()((function(){P()}),i);case 12:case"end":return e.stop()}}),e)})))()}),[n,t,P,r,b]),{onQuickAccessGuideEnter:L,onQuickAccessGuideLeave:Z,withQuickAccessClose:A,showQuickAccessNav:b,showQuickAccessColdStart:l,showQuickAccessHover:f,showQuickAccessBadge:g,showQuickAccessPWA:N}},vt=t(84324),pt=t(28349),ht=t(34222),gt=t(12365),wt=t(54725),yt=t(91836),_t=t(96078),bt="dlb-login-guide-active",Et=c.forwardRef((function(e,n){var t=e.hint,r=e.changeType,o=e.enterMethod;return c.createElement("div",{className:_t.Z.imLoginGuidePanelWrapper},c.createElement("div",{ref:n,className:_t.Z.imLoginGuidePanel},c.createElement("p",{className:_t.Z.desc},t),c.createElement("div",{className:_t.Z.loginBtn,onClick:function(){var e,n,i;null==r||r("",!0),(0,mn.navShowAccount)({success:function(){window.location.reload()},headerText:t,next:$()(e="".concat(ne.tJ)).call(e,null===(n=window)||void 0===n||null===(i=n.location)||void 0===i?void 0:i.host),enterMethod:o,teaEvtParams:{is_guide:"1",enter_method:o}})}},"\u7acb\u5373\u767b\u5f55")))}));var kt=function(e){var n=e.customProps,t=e.dlgName,r=e.hint,o=e.entryIcon,i=e.enterMethod,a=e.iconText,l=e.avatarWidth,s=e.avatarHeight,u=e.viewBox,d=e.transparent,f=(0,k.P)({delayDisappear:200,delayShow:100}),m=f.type,v=f.changeType,p=f.clearShowTimer,g=(0,c.useCallback)((function(){qe.n.loginGuideShowed&&qe.n.destroy(),v(bt),h.emit(h.EVENT.showHeaderPopUp,{type:t,isShow:!0})}),[m]),w=(0,c.useCallback)((function(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];m?v(undefined,!0===e):p()}),[m]);return c.createElement(c.Fragment,null,c.createElement("div",{"data-e2e":"".concat(t,"-entry"),className:_t.Z.cicleButtonWithText},c.createElement(Bn.Y,{type:"circleButtonWithText",text:a,onMouseEnter:function(){g()},onMouseLeave:function(){w()},avatarUrl:o,avatarWidth:l,avatarHeight:s,viewBox:u,activityName:null==n?void 0:n.activityName,headerPopupName:t,className:_t.Z.polymorphicButton,transparent:d},m===bt&&c.createElement(Et,{hint:r,changeType:v,enterMethod:i}))))};function Ct(e){var n=e.customProps,t=e.transparent,r=n||{},o=r.usePlanarIcon,i=r.useLinearIcon;return c.createElement(kt,{customProps:n,dlgName:"im",hint:"\u767b\u5f55\u540e\u5373\u53ef\u67e5\u770b\u79c1\u4fe1\u6d88\u606f",entryIcon:i?ht.Z:o?gt.Z:yt.Z,avatarWidth:24,avatarHeight:24,viewBox:"0 0 24 24",enterMethod:"IM",iconText:"\u79c1\u4fe1",transparent:t})}function Nt(e){var n=e.customProps,t=e.transparent,r=n||{},o=r.usePlanarIcon,i=r.useLinearIcon;return c.createElement(kt,{customProps:n,dlgName:"notice",hint:"\u767b\u5f55\u540e\u5373\u53ef\u67e5\u770b\u901a\u77e5\u6d88\u606f",entryIcon:i?vt.Z:o?pt.Z:wt.Z,avatarWidth:24,avatarHeight:24,viewBox:"0 0 24 24",enterMethod:"interact",iconText:"\u901a\u77e5",transparent:t})}var Tt=t(11766),xt=t.n(Tt),St=t(32711),Lt=function(e,n){var t=xt()(e).call(e,n);return e.substring(t+1,e.length)};var It,Zt=t(68493),At=t.n(Zt),Pt=t(56442),Dt=t.n(Pt),Mt=t(19466),Bt=t(56596),Ot=t(3400),Rt=t(232),Vt=function(){var e=(Pn.Le.getConfig(Pn.gI.FirstInstallTime)||{}).time,n=void 0===e?0:e,t=!1;return D()()-1e3*n<14*Rt.s2&&(t=!0),t},Ft=2592e5,Wt=function(){var e=O.Q.getItem({sKey:M.CookieKeys.PublishBadgeShowInfo});e||(e="0,0,0,".concat(D()()),O.Q.setItem(M.CookieKeys.PublishBadgeShowInfo,e));var n=e.split(","),t=(0,i.Z)(n,4);return{isPublishHovered:t[0],isNewVideoClicked:t[1],isPostDataClicked:t[2],publishGuideInitTime:t[3]}},Ut=function(){var e=(0,x.Z)(I().mark((function e(){var n,t,r,o,a,l,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[(0,Mt.Vk)({highlight_type:Ot.WebGuideToCreatorScene.PublishAndNewVideo}),(0,Mt.Vk)({highlight_type:Ot.WebGuideToCreatorScene.PublishAndPost})],e.next=3,At().allSettled(n);case 3:return t=e.sent,r=(0,i.Z)(t,2),o=r[0],a=r[1],l="fulfilled"===o.status&&o.value.isHighlight,c="fulfilled"===a.status&&a.value.isHighlight,e.abrupt("return",{publishAndNewVideoHighlight:l,publishAndPostlight:c});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var Ht=t(36543);function jt(){var e,n,t,r,o,a,l=(0,c.useState)(!1),s=(0,i.Z)(l,2),u=s[0],d=s[1],f=(e=function(){return(0,B.p)()?{innerHeight:0,innerWidth:0,inSSR:!0}:{innerHeight:window.innerHeight,innerWidth:window.innerWidth}},n=c.useState(e()),t=(0,i.Z)(n,2),r=t[0],o=t[1],a=function(){o(e())},c.useEffect((function(){return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[]),r),m=f.inSSR,v=f.innerWidth;return(0,c.useEffect)((function(){return d(!m&&v<=1032)}),[v,m]),(0,S.Z)({inMiniScreen:u},f)}var Gt=function(e){e.abTestData;var n=(0,c.useState)(!1),t=(0,i.Z)(n,2),r=t[0],o=t[1],a=(0,c.useState)(!1),l=(0,i.Z)(a,2),s=l[0],u=l[1];(0,c.useEffect)((function(){var e,n=(0,W.$o)(M.LocalStorageKeys.HeaderRechargeGuide);(!n||(null==n?void 0:n.count)<3&&(!(e=null==n?void 0:n.showTime)||new Date(e).toDateString()!==(new Date).toDateString()))&&(u(!0),(0,W.qQ)(M.LocalStorageKeys.HeaderRechargeGuide,{count:(null==n?void 0:n.count)!==undefined?n.count+1:1,showTime:(new Date).getTime()}))}),[]);var d=function(){(0,W.qQ)(M.LocalStorageKeys.HeaderRechargeGuide,{count:4,showTime:(new Date).getTime()}),o(!0)},f=function(){o(!1)},m=(0,nt.U)({enterDelay:200,leaveDelay:200,onMouseEnter:function(){d()},onMouseLeave:function(){f()}});return{isShow:r,onRechargeEntryEnter:m.onMouseEnter,onRechargeEntryLeave:m.onMouseLeave,onRechargeVisibleChange:(0,Xn.Z)((function(e){e?d():f()})),onRechargeSuccess:(0,Xn.Z)((function(){"recommend"===(0,p.yW)()&&h.emit(h.EVENT.refreshPage),O.Q.setItem(M.CookieKeys.RechargeFlag,1,Rt.s2/1e3)})),onLoginSuccess:(0,Xn.Z)((function(){"recommend"===(0,p.yW)()&&h.emit(h.EVENT.refreshPage)})),isShowGuide:s}},Kt=t(20712),qt=t(96164),Qt=(0,d.default)((function(){return t.e(9672).then(t.bind(t,16749))}),{ssr:!1,resolveComponent:function(e){return e.MoreBtn}}),zt=(0,d.default)((function(){return Promise.all([t.e(2827),t.e(2880),t.e(5590)]).then(t.bind(t,72827))}),{ssr:!1}),Yt=(0,d.default)((function(){return Promise.all([t.e(9344),t.e(2003),t.e(9955),t.e(2880),t.e(9083),t.e(3237),t.e(6780)]).then(t.bind(t,52140))}),{ssr:!1}),Jt=(0,d.default)((function(){return Promise.all([t.e(5847),t.e(6193),t.e(8617)]).then(t.bind(t,53747))}),{resolveComponent:function(e){return e.WindowToolBar}}),Xt=(0,d.default)((function(){return t.e(4371).then(t.bind(t,58605))}),{resolveComponent:function(e){return e.RechargeBtn}}),$t=(0,d.default)((function(){return Promise.all([t.e(5847),t.e(6193),t.e(8617)]).then(t.bind(t,91394))}),{resolveComponent:function(e){return e.NewWallpaper}});function er(e){var n,t,r,a,s=e.success,d=e.userInfo,w=e.abTestData,y=e.customProps,_=e.transparent,b=d||{},E=b.isLogin,k=b.info,C=k||{},T=C.avatarUrl,S=C.secUid,L=C.awemeCount,Z=void 0===L?0:L,A=C.favoritingCount,P=void 0===A?0:A,B=C.userCollectCount,R=void 0===B?{}:B,V=C.uid,F=void 0===V?"":V,W=null==R||null===(n=R.collectCountList)||void 0===n?void 0:l()(n).call(n,(function(e){return 2===e.itemType}))[0],U=null!==(t=null==W?void 0:W.collectCount)&&void 0!==t?t:0,H=y.isClient,j=y.landingPage,G=y.os,K=y.activityName,q=(y.userUiStyle,f.a.wrapClientOsInfo(H,G)),Q=q.isMac,z=q.isWindows,Y=function(e){var n=e.isClient,t=e.osInfo,r=(0,c.useState)(!1),o=(0,i.Z)(r,2),a=o[0],l=o[1];return(0,c.useEffect)((function(){var e,r,o,i,a=null!==(e=(0,me.FJ)().awemePcClient)&&void 0!==e?e:"",c=null!==(r=null===(o=window)||void 0===o||null===(i=o.TTE_ENV)||void 0===i?void 0:i.osVersion)&&void 0!==r?r:"",s=Lt(c," ");n&&("Win10"===(null==t?void 0:t.version)&&(0,St.y)(a,">=","1.1.0")&&l(!0),"Mac"===(null==t?void 0:t.os)&&(0,St.y)(s,">=","10.14")&&(0,St.y)(a,">=","1.7.0")&&l(!0))}),[t,n]),{newWallpaperShow:a}}({isClient:H,osInfo:G}),J=Y.newWallpaperShow,X=(0,c.useContext)(Jn.hn),ee=X.PWAInstallable,ne=X.installPWA,te=function(e){var n=(0,c.useState)(!1),t=(0,i.Z)(n,2),r=t[0],o=t[1];return(0,c.useEffect)((function(){e&&(0,Ht.Y)().then((function(e){o(e),Pn.Le.setConfig(Pn.gI.IsClientInstalled,e)}))}),[e]),{isClientInstalled:r}}(null==d||null===(r=d.info)||void 0===r?void 0:r.uid),re=te.isClientInstalled,oe=(0,Vn.GZ)({isLogin:E,PWAInstallable:ee,installPWA:ne,useEnhanceClientBar:!0}),ie=oe.onDownloadGuideEnter,ae=oe.onDownloadGuideLeave,le=oe.show,ce=oe.downloadPWA,se=oe.withClose,de=oe.withEffect,fe=oe.shouldShowGuideType,ve=oe.clientDownloadHref,pe=oe.clientDownloadAttr,he=oe.showDownloadGuide,ge=oe.hideDownloadGuide,we=oe.onDownloadGuideEntryEnter,ye=oe.onDownloadGuideEntryLeave,_e=oe.onDownloadGuideVisibleChange,be=oe.showType,Ee=oe.showClientBadge,ke=oe.setShowClientBadge,Ce=oe.guideText,Ne=oe.guideFrom;!function(e,n,t,r){(0,c.useEffect)((function(){e&&r!==undefined&&ue().app.syncLoginState({isLogin:r,uid:n,secUid:t})}),[r,n,t,e])}(H,F,S,E);var Te=function(e){var n=e.isLogin,t=(0,c.useState)(!1),r=(0,i.Z)(t,2),o=r[0],a=r[1],l=(0,c.useState)(!1),s=(0,i.Z)(l,2),u=s[0],d=s[1],f=(0,c.useState)(!1),m=(0,i.Z)(f,2),v=m[0],p=m[1],h=(0,c.useState)(!1),g=(0,i.Z)(h,2),w=g[0],y=g[1],_=(0,c.useRef)({isPublishGuideShow:!0,isNewVideoGuideShow:!0,isPostDataGuideShow:!0});(0,c.useEffect)((function(){Vt()||y(!0!==O.Q.getItem({sKey:M.CookieKeys.PostDropdownItemsCapcut}))}),[]),(0,c.useEffect)((function(){if(n){var e=Wt(),t=e.isPublishHovered,r=e.isNewVideoClicked,o=e.isPostDataClicked,i=e.publishGuideInitTime,l=Boolean(i)&&D()()-Number(i)>=Ft;if(!Number(t)&&!l||!Number(r)||!Number(o)){(Number(t)||l)&&(_.current.isPublishGuideShow=!1),Number(r)&&(_.current.isNewVideoGuideShow=!1),Number(o)&&(_.current.isPostDataGuideShow=!1);var c=!1;return Bt.H((function(){(0,x.Z)(I().mark((function e(){var n,t,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:n=e.t0,t=n.publishAndNewVideoHighlight,r=n.publishAndPostlight,c||(a(_.current.isPublishGuideShow&&(t||r)),d(_.current.isNewVideoGuideShow&&t),p(_.current.isPostDataGuideShow&&r));case 9:case"end":return e.stop()}}),e)})))()})),function(){c=!0}}}}),[n]);var b=(0,c.useCallback)((function(){var e;if(o){a(!1);var n=null!==(e=O.Q.getItem({sKey:M.CookieKeys.PublishBadgeShowInfo}))&&void 0!==e?e:"0,0,0,0";O.Q.setItem(M.CookieKeys.PublishBadgeShowInfo,"1,".concat(Dt()(n).call(n,2)))}}),[o]),E=(0,c.useCallback)((function(){var e,n;if(u){d(!1);var t=null!==(e=O.Q.getItem({sKey:M.CookieKeys.PublishBadgeShowInfo}))&&void 0!==e?e:"0,0,0,0";O.Q.setItem(M.CookieKeys.PublishBadgeShowInfo,$()(n="".concat(Dt()(t).call(t,0,1),",1,")).call(n,Dt()(t).call(t,4)))}}),[u]),k=(0,c.useCallback)((function(){var e,n;if(v){p(!1);var t=null!==(e=O.Q.getItem({sKey:M.CookieKeys.PublishBadgeShowInfo}))&&void 0!==e?e:"0,0,0,0";O.Q.setItem(M.CookieKeys.PublishBadgeShowInfo,$()(n="".concat(Dt()(t).call(t,0,3),",1,")).call(n,Dt()(t).call(t,6)))}}),[v]),C=(0,c.useCallback)((function(){N.Z.sendLog("jianying_publish_entrance_click",{badge:w?1:0}),O.Q.setItem(M.CookieKeys.PostDropdownItemsCapcut,!0,Infinity),y(!1)}),[w]);return(0,c.useEffect)((function(){if(o){var e,n,t=null!==(e=O.Q.getItem({sKey:M.CookieKeys.PublishBadgeShowInfo}))&&void 0!==e?e:"0,0,0,0";O.Q.setItem(M.CookieKeys.PublishBadgeShowInfo,$()(n="".concat(Dt()(t).call(t,0,5),",")).call(n,D()())),N.Z.sendLog("publishNotifyShow",{})}}),[o]),{isPublishGuideShow:o,isNewVideoGuideShow:u,isPostDataGuideShow:v,isCapcutGuideShow:w,handlePublishHovered:b,handleNewVideoClicked:E,handlePostDataClick:k,handleCapcutClick:C}}({isLogin:E}),xe=(0,c.useState)(!0),Se=(0,i.Z)(xe,2),Le=Se[0],Ie=Se[1];(0,c.useEffect)((function(){Ie(!1)}),[]);var Ze=(0,Kt.u)(E,w,_,Te),Ae=Ze.postDropdownItems,Pe=Ze.cooperationDropdownItems,De=(null==w?void 0:w.showCapcutLink)===m.YM.V1||(null==w?void 0:w.showCapcutLink)===m.YM.V2,Me=Te.isPublishGuideShow,Be=Te.isCapcutGuideShow,Oe=Te.handlePublishHovered,Re=(null==w?void 0:w.showCapcutLink)===m.YM.V1?Me||Be:Me;(0,c.useEffect)((function(){Ee&&N.Z.sendLog("addToDesktopBadgeShow",{enter_from:(0,p.vM)()})}),[Ee]),(0,c.useEffect)((function(){if(!1===E){var e,n=(null==w?void 0:w.forceLogin)||m.Ds.V0;null===(e=Nn())||void 0===e||e.init(n)}else if(!0===E){var t;null===(t=Nn())||void 0===t||t.stopForce()}}),[E,w]);var Ve=jt().inMiniScreen,Fe=qt.ZT,We=Gt({abTestData:w}),Ue=We.isShow,He=We.onRechargeVisibleChange,Ge=We.onRechargeSuccess,qe=We.onLoginSuccess,Qe=We.onRechargeEntryEnter,ze=We.onRechargeEntryLeave,Ye=We.isShowGuide,Je=mt({isLogin:E,isLoginClient:re,PWAInstallable:ee}),Xe=Je.onQuickAccessGuideEnter,$e=Je.onQuickAccessGuideLeave,en=Je.withQuickAccessClose,nn=Je.showQuickAccessNav,tn=Je.showQuickAccessColdStart,rn=Je.showQuickAccessHover,on=Je.showQuickAccessBadge,an=Je.showQuickAccessPWA,ln=function(){E&&h.emit(h.EVENT.trustMenuShow,{show:!1}),!E&&h.emit(h.EVENT.hoverIcon,!0)},cn=function(){!E&&h.emit(h.EVENT.hoverIcon,!1)},sn=function(e){var n,t,r=e.initImSDK,o=void 0===r||r,a=e.initNoticeSDK,l=void 0===a||a,s=(0,c.useState)(null!==(n=It)&&void 0!==n?n:o),u=(0,i.Z)(s,2),d=u[0],f=u[1],m=(0,c.useState)(null!==(t=It)&&void 0!==t?t:l),v=(0,i.Z)(m,2),p=v[0],g=v[1];return(0,c.useEffect)((function(){It||Un()((function(){It=!0,f(!0),g(!0)}),9500)}),[]),(0,c.useEffect)((function(){var e=h.listen(h.EVENT.initIMNoticeSDK,(function(e){It=!0,f(!0),g(!0)}));return function(){return e()}}),[]),(0,c.useEffect)((function(){var e=h.listen(h.EVENT.initImSDK,(function(e){It=!0,f(!0)}));return function(){return e()}}),[]),(0,c.useEffect)((function(){var e=h.listen(h.EVENT.initNoticeSDK,(function(e){It=!0,g(!0)}));return function(){return e()}}),[]),{initImSDK:d,initNoticeSDK:p,setInitImSDK:f,setNoticeSDK:g}}({initImSDK:!1,initNoticeSDK:!1}),un=sn.initImSDK,dn=sn.initNoticeSDK,fn=sn.setInitImSDK,mn=sn.setNoticeSDK,vn=(0,c.useState)(10),pn=(0,i.Z)(vn,2),hn=pn[0],gn=pn[1];return(0,c.useEffect)((function(){var e,n,t,r=null===(e=document)||void 0===e||null===(n=e.documentElement)||void 0===n||null===(t=n.getAttribute)||void 0===t?void 0:t.call(n,"header-variant");r===v.HeaderType.HEADER_VARIANT_66?(0,c.startTransition)((function(){gn(13)})):r===v.HeaderType.HEADER_VARIANT_72&&(0,c.startTransition)((function(){gn(16)}));var i=h.listen(h.EVENT.headerHeightChange,(function(e){var n,t=e.header_type,r=(n={},(0,o.Z)(n,v.HeaderType.DEFAULT,10),(0,o.Z)(n,v.HeaderType.HEADER_VARIANT_66,13),(0,o.Z)(n,v.HeaderType.HEADER_VARIANT_72,16),n);gn(r[t])}));return(0,c.startTransition)((function(){gn(14)})),function(){null==i||i()}}),[]),c.createElement("div",{className:u()(g.Z.newHeaderContainer,g.Z.buttonWithTextContainer,(0,o.Z)({},g.Z.clientHeaderContainer,H))},!H&&Ve&&c.createElement(Qt,{isDownloadGuideShow:le,isLogin:E,abTestData:w,osInfo:G,clientDownloadHref:ve,clientDownloadAttr:pe,downloadPWA:ce,withClose:se,withEffect:de,showType:be,shouldShowGuideType:fe,showDownloadGuide:he,hideDownloadGuide:ge,activityName:null==y?void 0:y.activityName,transparent:_,cooperationDropdownItems:Pe,onDownloadGuideEntryEnter:we,onDownloadGuideEntryLeave:ye,onRechargeEntryEnter:Qe,onRechargeEntryLeave:ze,isRechargeShow:Ue,installPWA:ne,onRechargeSuccess:Ge,onLoginSuccessByRecharge:qe,showBrowserPluginGuide:Fe,onMouseEnter:ln,onMouseLeave:cn,showQuickAccessNav:nn,showQuickAccessHover:rn,showQuickAccessPWA:an,onQuickAccessEnter:Xe,onQuickAccessLeave:$e,withQuickAccessClose:en}),(!Ve||z)&&!Q&&!Le&&c.createElement(Xt,{popoverSpacing:hn,onRechargeEntryEnter:Qe,onRechargeEntryLeave:ze,isRechargeShow:Ue,isLogin:E,onRechargeVisibleChange:He,onRechargeSuccess:Ge,onLoginSuccess:qe,transparent:_,isShowRechargeGuide:Ye,activityName:null==y?void 0:y.activityName,onMouseEnter:ln,onMouseLeave:cn,useNormalIcon:!1,usePlanarIcon:!1,useLinearIcon:!0}),!H&&!Ve&&c.createElement(c.Fragment,null,c.createElement(Kn,{popoverSpacing:hn,isDownloadGuideShow:le,onDownloadGuideVisibleChange:_e,onDownloadGuideEnter:ie,onDownloadGuideLeave:ae,isLogin:E,abTestData:w,osInfo:G,clientDownloadHref:ve,clientDownloadAttr:pe,downloadPWA:ce,withClose:se,withEffect:de,showType:be,shouldShowGuideType:fe,showDownloadGuide:he,hideDownloadGuide:ge,showClientBadge:Ee,setShowClientBadge:ke,activityName:null==y?void 0:y.activityName,transparent:_,guideText:Ce,guideFrom:Ne,onMouseEnter:ln,onMouseLeave:cn}),nn&&c.createElement("div",{className:g.Z.menuItem},c.createElement(je.p,{headerPopupName:"quickaccess"},c.createElement(zn._R,{transparent:_,activityName:null==y?void 0:y.activityName,installPWA:ne,onQuickAccessGuideEnter:Xe,onQuickAccessGuideLeave:$e,showColdStart:tn,showHover:rn,showQuickAccessBadge:on,withQuickAccessClose:en,showBrowserPluginGuide:Fe,showQuickAccessPWA:an,onMouseEnter:ln,onMouseLeave:cn,usePlanarIcon:!1,useLinearIcon:!0})))),J&&c.createElement($t,{abTestData:w,transparent:_,isClient:H,activityName:null==y?void 0:y.activityName,isLogin:E,landingPage:j}),dn&&c.createElement("ul",{className:g.Z.menuItem,onMouseEnter:function(){mn(!0),ln()},onMouseLeave:cn},c.createElement(je.p,null,E?c.createElement(zt,{customProps:{isActivity:null==y?void 0:y.isActivity,activityName:null==y?void 0:y.activityName},className:g.Z.menuItemContent,isLogin:E,abTestData:w,uInfo:k,initNoticeSDK:dn,transparent:_}):c.createElement(Nt,{customProps:{isActivity:null==y?void 0:y.isActivity,activityName:null==y?void 0:y.activityName,usePlanarIcon:!1,useLinearIcon:!0},transparent:_}))),un&&c.createElement("ul",{className:g.Z.menuItem,onMouseEnter:function(){fn(!0),ln()},onMouseLeave:cn},c.createElement(je.p,{replaceEvenAlreadyExist:!1},E?c.createElement(Yt,{isLogin:E,abTestData:w,uInfo:k,className:g.Z.menuItemContent,customProps:{isActivity:null==y?void 0:y.isActivity,activityName:null==y?void 0:y.activityName},initImSDK:un,transparent:_}):c.createElement(Ct,{customProps:{isActivity:null==y?void 0:y.isActivity,activityName:null==y?void 0:y.activityName,usePlanarIcon:!1,useLinearIcon:!0},transparent:_}))),c.createElement(Qn,{abTestData:w,transparent:_,postDropdownItems:Ae,isPublishGuideShow:Re,activityName:K,onMouseEnter:function(){N.Z.sendLog("publishPanelShow",{enter_from:(0,p.vM)(),is_badge:Number(Me)}),Oe(),ln(),De&&N.Z.sendLog("jianying_publish_entrance_show",{badge:Number(Be)})},onMouseLeave:cn}),c.createElement("div",{className:u()(g.Z.verticalDivider,(a={},(0,o.Z)(a,null===g.Z||void 0===g.Z?void 0:g.Z[null==y?void 0:y.activityName],null==y?void 0:y.activityName),(0,o.Z)(a,g.Z.transparent,_),(0,o.Z)(a,g.Z.hidden,H),a))}),E&&c.createElement(Ke,{uid:F,secUid:S,avatarUrl:T,awemeCount:Z,favoritingCount:P,awemeCollectCount:U,className:g.Z.isLogin,isClient:H,abtest:w,nickname:null==k?void 0:k.nickname}),!E&&E!==undefined&&Ve&&c.createElement(An,{isToggleLoginBtn:!1,success:s,displayAvatar:!1,abtest:w,className:u()(g.Z.avataUserMini,g.Z.isLogout,g.Z.miniScreen),isClient:H}),!E&&E!==undefined&&!Ve&&c.createElement(An,{isToggleLoginBtn:!0,success:s,isClient:H,abtest:w,className:g.Z.isLogout}),c.createElement(Yn,{showType:be,inMiniScreen:Ve,isDownloadGuideShow:le,showQuickAccessColdStart:tn,osInfo:G,isLogin:E,abTestData:w,installPWA:ne,withQuickAccessClose:en,downloadPWA:ce,withClose:se,withEffect:de,shouldShowGuideType:fe,clientDownloadAttr:pe,clientDownloadHref:ve,showDownloadGuide:he,hideDownloadGuide:ge,guideText:Ce,guideFrom:Ne}),H&&c.createElement(Jt,{osInfo:G,abTestData:w,isLogin:E,landingPage:j}))}},97707:function(e,n,t){t.d(n,{R:function(){return I}});var r,o=t(32781),i=t(53864),a=t(68595),l=t.n(a),c=t(79705),s=t.n(c),u=t(56920),d=t(353),f=t(5611),m=t(78384),v=t(56462),p=t(97876);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},h.apply(this,arguments)}var g=function(e){return i.createElement("svg",h({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M13.667 13.667a.757.757 0 01-1.07 0l-2.32-2.32-2.318 2.32a.757.757 0 01-1.07-1.07l2.318-2.32-2.319-2.319a.757.757 0 111.07-1.07l2.32 2.319 2.319-2.32a.757.757 0 111.07 1.071l-2.319 2.32 2.32 2.318a.757.757 0 010 1.07z"})))},w="u3y0EMvZ",y="XPfq4UPL",_="sfxXkiA6",b="icJIALeR",E="u7GM9Vwr",k="lqaF767m",C="XZ42MOg0",N="ZNWZb5NC",T="i2MBrMxl",x=t(9909),S=t(51357),L=(0,f.DT)()&&(0,m.dz)(),I=function(e){var n=e.abTestData,t=(0,i.useState)(undefined),r=(0,o.Z)(t,2),a=r[0],c=r[1];return(0,i.useEffect)((function(){if(L){(null==n?void 0:n.showClientDriverCheck)===u.lU.On&&function(){if(a===undefined){var e=v.Q.getItem({sKey:d.CookieKeys.ClientDriverCheck})||0;e<5&&l().app.checkDriver().then((function(n){var t;null!==(t=n.data)&&void 0!==t&&t.needUpdate&&(v.Q.setItem(d.CookieKeys.ClientDriverCheck,e+1,Infinity),c(!0),S.Z.sendLog("clientDriverCheckShow"))}))}}();var e=p.listen(p.EVENT.openClientDriverCheck,(function(){c(!1)}));return function(){e()}}return function(){}}),[n]),a&&L?i.createElement("div",{className:w},i.createElement("div",{className:y},i.createElement("div",{className:_},i.createElement("div",{className:b},i.createElement("div",{className:E},"\u95ee\u9898\u4fee\u590d"),i.createElement("div",{className:k},"\u5f53\u524d\u663e\u5361\u9a71\u52a8\u7248\u672c\u8fc7\u4f4e\uff0c\u53ef\u80fd\u5f71\u54cd\u89c2\u770b\u89c6\u9891")),i.createElement("div",{className:C},i.createElement("div",{className:N,onClick:function(){c(!1),S.Z.sendLog("clientDriverCheckClick",{enter_from:"tip"}),l().app.openDriverCheckWindow()}},"\u53bb\u4fee\u590d"))),i.createElement(x.Z,{onClick:function(){c(!1)},className:s()(T),src:globalThis.xssNamespace.douyin_web.filterUrl(g,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:20,height:20,viewBox:"0 0 20 20"}))):null}},48419:function(e,n,t){t.d(n,{T:function(){return s},S:function(){return d}});var r=t(11227),o=t.n(r),i=t(53864),a=t(63182),l=t(56920),c=t(87184),s={Unknown:0,On:1,Off:2};function u(e){e.shouldShowLoginPopup&&a.YY.configTask(a.BE.LoginGuideTaskId,a.T0.LoginGuidePriority),a.YY.configTaskComplete()}var d=function(e){var n=e.isLogin,t=e.loginPopupStatus,r=void 0===t?s.Off:t,d=e.noDisturbVal,f=void 0===d?l.LD.Normal:d,m=(0,i.useRef)(!1);(0,i.useEffect)((function(){var e;n!==undefined&&(o()(e=[l.LD.A1,l.LD.All]).call(e,f)?a.YY.setMode(c.f.SingleMode):a.YY.setMode(c.f.ParallelMode),m.current||(n?(m.current=!0,u({shouldShowLoginPopup:!1})):r!==s.Unknown&&u({shouldShowLoginPopup:r===s.On})))}),[n,r,f])}},26613:function(e,n,t){t.d(n,{v2:function(){return O},xj:function(){return V},KK:function(){return F},GZ:function(){return U}});var r=t(64408),o=t(32781),i=t(5594),a=t.n(i),l=t(94090),c=t.n(l),s=t(26447),u=t.n(s),d=t(85792),f=t.n(d),m=t(53864),v=t(22541),p=t.n(v),h=t(54805),g=t(353),w=t(63182),y=t(56462),_=t(5611),b=t(71043),E=t(28427),k=t(97876),C=t(71116),N=t(9053),T=t(36543),x=t(21720),S=t(97664),L=t(96164),I=t(76299),Z=t(28006),A=g,P=A.COOKIE_DEFAULT_EXPIRE_DURATION,D=A.CookieKeys,M=A.COOKIE_DOMAIN;function B(){var e=(y.Q.getItem({sKey:D.DownloadGuide})||"").split("/");return{count:Number(e[0]||"0"),lastTime:e[1]||"",hovered:"1"===e[2]}}function O(e){var n,t,r=B();y.Q.setItem(D.DownloadGuide,c()(n=c()(t="".concat(r.count,"/")).call(t,r.lastTime,"/")).call(n,e?"1":"0"),P,"/",M)}function R(){var e,n,t=B();y.Q.setItem(D.DownloadGuide,c()(e=c()(n="".concat(t.count+1,"/")).call(n,p()().format("YYYYMMDD"),"/")).call(e,t.hovered?"1":"0"),P,"/",M)}var V=function(e){return e[e.None=0]="None",e[e.PWA=1]="PWA",e[e.Client=2]="Client",e}({}),F={Hover:0,Auto:1},W=Math.pow(2,31)-1,U=function(e){var n=e.isLogin,t=e.PWAInstallable,i=e.installPWA,l=e.useEnhanceClientBar,c=void 0!==l&&l,s=(0,x.o)(),d=s.downloadAttr,v=s.downloadHref,g=(0,m.useState)(V.None),y=(0,o.Z)(g,2),A=y[0],P=y[1],D=(0,m.useState)(W),M=(0,o.Z)(D,2),U=M[0],H=M[1],j=(0,m.useState)(!1),G=(0,o.Z)(j,2),K=G[0],q=G[1],Q=(0,m.useState)(!1),z=(0,o.Z)(Q,2),Y=z[0],J=z[1],X=(0,m.useState)(""),$=(0,o.Z)(X,2),ee=$[0],ne=$[1],te=(0,m.useState)(!1),re=(0,o.Z)(te,2),oe=re[0],ie=re[1],ae=(0,m.useState)(F.Hover),le=(0,o.Z)(ae,2),ce=le[0],se=le[1],ue=(0,m.useState)(""),de=(0,o.Z)(ue,2),fe=de[0],me=de[1],ve=(0,m.useRef)(!1),pe=(0,m.useRef)(!1),he=(0,m.useRef)(0),ge=(0,h.Z)((function(){return i()})),we=(0,m.useCallback)(function(){var e=(0,r.Z)(a().mark((function e(o){var i,l,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){return(l=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==(0,L.D5)()){e.next=2;break}return e.abrupt("return",!1);case 2:if(!(0,_.DT)()){e.next=4;break}return e.abrupt("return",!1);case 4:if(!o){e.next=6;break}return e.abrupt("return",!0);case 6:if(e.t0=n,!e.t0){e.next=11;break}return e.next=10,(0,T.Y)();case 10:e.t0=e.sent;case 11:if(!e.t0){e.next=13;break}return e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(){return l.apply(this,arguments)},c=function(){return!(0,L.D5)()&&(!(0,b.f)()&&(!!(0,b.y)()&&(!(0,S.Ah)()&&t)))},e.next=5,i();case 5:if(!e.sent){e.next=7;break}return e.abrupt("return",V.Client);case 7:return e.abrupt("return",c()?V.PWA:V.None);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[t,n]),ye=(0,m.useRef)(5e3);(0,m.useEffect)((function(){var e=function(){var e=(0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,N.pL)();case 2:return n=e.sent,e.abrupt("return",!n||(0,E.KC)(1e3*n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n===undefined){t.next=8;break}return t.next=3,e();case 3:if(!t.sent){t.next=7;break}return H(6e4),t.abrupt("return");case 7:H(3e4);case 8:case"end":return t.stop()}}),t)})))()}),[n]);var _e=(0,m.useRef)(),be=(0,m.useRef)(!1),Ee=(0,h.Z)((function(){ie(!0),ve.current=!0})),ke=(0,h.Z)((function(){clearTimeout(_e.current),ie(!1),ve.current=!1,w.YY.finishTask(w.BE.DownloadGuideTaskId),be.current=!1,q(!1),J(!1),me("")})),Ce=(0,m.useRef)((function(){}));Ce.current=function(){A===V.Client&&k.emit(k.EVENT.downloadGuideInformPWA2Guide,{downloadGuideType:"client"})};var Ne=(0,h.Z)((function(){Ee(),q(!0),J(!0)})),Te=(0,h.Z)((0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(!1);case 2:if((n=e.sent)!==V.PWA){e.next=6;break}return k.emit(k.EVENT.downloadGuideInformPWA2Guide,{downloadGuideType:"pwa"}),e.abrupt("return");case 6:if(n!==V.None&&(t=3,r=!1,o=void 0,!((o=B()).count>=t||r&&o.lastTime===p()().format("YYYYMMDD")))&&!ve.current){e.next=10;break}return w.YY.cancelTask(w.BE.DownloadGuideTaskId),e.abrupt("return");case 10:pe.current=!0,he.current=u()(),C.Le.setConfig(C.gI.IsDownloadBarShow,{timeColdStartShow:he.current}),ne(""),P(n),se(F.Auto),Ne(),R(),_e.current=f()((function(){ke()}),ye.current);case 19:case"end":return e.stop()}var t,r,o}),e)}))));(0,m.useEffect)((function(){U!==W&&w.YY.insertTask(w.BE.DownloadGuideTaskId,(function(){Te()}),{onFinish:function(){ve.current&&ke(),Ce.current()},delay:U,priority:w.T0.ClientDownloadPriority})}),[U]);var xe=(0,h.Z)((function(){ce===F.Auto&&(be.current=!0),clearTimeout(_e.current)})),Se=(0,h.Z)((function(){be.current&&(clearTimeout(_e.current),_e.current=f()((function(){ke()}),ye.current))}));(0,m.useEffect)((function(){var e=k.listen(k.EVENT.showClientDownloadGuide,(function(e){var n=e||{},t=n.isShow,r=(n.text,n.type),o=n.from;if(!oe){var i=!he.current||u()()-he.current>18e5;t&&c&&(0,Z.A)(r)&&"im"!==o&&"follow"===r&&i&&(Re(!0),O(!1),f()((function(){H((function(e){return e===W?W:15e5}))}),3500))}}));return function(){null==e||e()}}),[c]);var Le=function(){var e=(0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(_e.current),w.YY.replaceCurrentTask({id:w.BE.DownloadGuideTaskId,priority:w.T0.HoverPriority,isBlock:!0}),ve.current){e.next=10;break}return e.next=5,we(!0);case 5:n=e.sent,ne(""),P(n),Ee(),se(F.Hover);case 10:O(!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){be.current||(Re(!1),ke())},Ze=(0,h.Z)(function(){var e=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return Le(),e.abrupt("return");case 3:Ie();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Ae=(0,I.U)({enterDelay:200,leaveDelay:200,onMouseEnter:function(){Le()},onMouseLeave:function(){Ie()}}),Pe=Ae.onMouseEnter,De=Ae.onMouseLeave,Me=(0,m.useState)(!1),Be=(0,o.Z)(Me,2),Oe=Be[0],Re=Be[1];return(0,m.useEffect)((function(){(0,L.D5)()&&(B().hovered||"boolean"==typeof n&&(n?(0,T.Y)().then((function(e){Re(!e)})):Re(!0)))}),[n]),{shouldShowGuideType:A,clientDownloadHref:v,clientDownloadAttr:d,downloadPWA:ge,show:oe,hideDownloadGuide:ke,showDownloadGuideWithCloseAndEffect:Ne,withClose:K,withEffect:Y,showDownloadGuide:Ee,onDownloadGuideEnter:xe,onDownloadGuideLeave:Se,onDownloadGuideEntryEnter:Pe,onDownloadGuideEntryLeave:De,onDownloadGuideVisibleChange:Ze,showType:ce,showClientBadge:Oe,setShowClientBadge:Re,guideText:fe,guideFrom:ee}}},21720:function(e,n,t){t.d(n,{o:function(){return _}});var r=t(32781),o=t(11766),i=t.n(o),a=t(94090),l=t.n(a),c=t(53864),s=t(71116),u=t(40313),d=t(39690),f=t(64408),m=t(5594),v=t.n(m),p=t(34452),h=t(21518),g={apk:"https://lf3-cdn-tos.bytegoofy.com/obj/douyin-pc-client/7044145585217083655/releases/10334640/2.2.2/win32-ia32/douyin-v2.2.2-win32-ia32-douyin.exe",apkExp1:"https://lf3-cdn-tos.bytegoofy.com/obj/douyin-pc-client/7044145585217083655/releases/10334640/2.2.2/win32-ia32/douyin-v2.2.2-win32-ia32-douyinDownload1.exe",apkDownloader:"https://lf3-cdn-tos.bytegoofy.com/obj/douyin-pc-client/7044145585217083655/releases/10433720/2.3.1/win32-ia32/douyin-downloader-v2.3.1-win32-ia32-douyin.exe",apkDownloaderExp1:"https://lf3-cdn-tos.bytegoofy.com/obj/douyin-pc-client/7044145585217083655/releases/10433720/2.3.1/win32-ia32/douyin-downloader-v2.3.1-win32-ia32-douyinDownload1.exe",limit:"windows 7\u53ca\u4ee5\u4e0a",time:"2023-4-24",version:"2.2.2",video:"https://p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/video.mp4",macApk:"https://lf3-cdn-tos.bytegoofy.com/obj/douyin-pc-client/7044145585217083655/releases/10334640/2.2.2/darwin-universal/douyin-v2.2.2-darwin-universal.dmg",macLimit:"macOS\u7cfb\u7edf",macTime:"2023-4-24",macVersion:"2.2.2"};function w(){return(w=(0,f.Z)(v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.U2({key:h.TccKey.DownloadPCInfo,defaultValue:g});case 2:return n=e.sent,e.abrupt("return",{winUrl:n.apkDownloaderExp1||n.apk,macUrl:n.macApk});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=t(96164);function _(){var e=c.useState(""),n=(0,r.Z)(e,2),t=n[0],o=n[1],a=(0,c.useState)(""),f=(0,r.Z)(a,2),m=f[0],v=f[1],p=(0,c.useState)(""),h=(0,r.Z)(p,2),g=h[0],_=h[1],b=(0,c.useState)(""),E=(0,r.Z)(b,2),k=E[0],C=E[1];return c.useEffect((function(){(function(){return w.apply(this,arguments)})().then((function(e){o((0,y.G1)()?e.macUrl:e.winUrl)}))}),[]),(0,c.useEffect)((function(){var e,n=(null===(e=(0,s.Es)())||void 0===e?void 0:e.user_unique_id)||"",t=(0,u.N)(n,62);v(t)}),[]),(0,c.useEffect)((function(){var e=(0,y.P0)()===y.CT.Mac?".dmg":".exe",n="douyin".concat(e);if(t){var r,o=t;n=o.substring(i()(o).call(o,"/")+1),n="".concat(l()(r="".concat(n.split(e)[0],"-wid-")).call(r,m),e)}C(n)}),[m,t]),(0,c.useEffect)((function(){var e,n=(0,d.w6)(t);null!=n&&n.pathname?_(l()(e="https://".concat(location.host,"/download/pc")).call(e,n.pathname)):_(t)}),[t]),{downloadHref:g,downloadAttr:k}}},20712:function(e,n,t){t.d(n,{u:function(){return f}});var r=t(30906),o=t(94090),i=t.n(o),a=t(53864),l=t(56920),c=t(72603),s=t(92281),u=t(51357),d=t(56003);function f(e,n,t,o){var f=(null==n?void 0:n.showCapcutLink)===l.YM.V1||(null==n?void 0:n.showCapcutLink)===l.YM.V2,m=o||{},v=m.isNewVideoGuideShow,p=void 0!==v&&v,h=m.isPostDataGuideShow,g=void 0!==h&&h,w=m.isCapcutGuideShow,y=m.handleNewVideoClicked,_=m.handlePostDataClick,b=m.handleCapcutClick,E=(null==n?void 0:n.showCapcutLink)===l.YM.V1&&w,k=function(e){return u.Z.sendLog("pageClick",{enter_from:(0,c.vM)(),click_position:e})},C=[(0,r.Z)((0,r.Z)({},d.j.liveSafaMainDomain),{},{type:"textLink",onClick:function(){return k("liveSafaMainDomain")},clickHiddenDropMenu:!0})];return{postDropdownItems:(0,a.useMemo)((function(){return[(0,r.Z)((0,r.Z)({},d.j.publish),{},{type:"textLink",url:e?d.j.publish.url:"https://".concat(s.CREATOR_DOMAIN,"/"),onClick:function(){k("publish"),null==y||y()},transparent:t,showBadge:p,clickHiddenDropMenu:!0}),(0,r.Z)((0,r.Z)({},d.j.videoManage),{},{type:"textLink",onClick:function(){k("manage")},transparent:t,clickHiddenDropMenu:!0}),(0,r.Z)((0,r.Z)({},d.j.postStatistics),{},{type:"textLink",onClick:function(){k("data"),null==_||_()},transparent:t,showBadge:g,clickHiddenDropMenu:!0}),(0,r.Z)((0,r.Z)({},d.j.liveData),{},{type:"textLink",transparent:t,onClick:function(){k("live")},clickHiddenDropMenu:!0}),(0,r.Z)((0,r.Z)({},d.j.creatorSchool),{},{type:"textLink",onClick:function(){k("creator_learning")},transparent:t,clickHiddenDropMenu:!0}),(0,r.Z)((0,r.Z)({},d.j.creator),{},{type:"textLink",text:"\u521b\u4f5c\u8005\u670d\u52a1\u5e73\u53f0",onClick:function(){k("creator_platform")},url:e?d.j.creator.url:"//".concat(s.CREATOR_DOMAIN,"/"),transparent:t,clickHiddenDropMenu:!0}),(0,r.Z)((0,r.Z)({},d.j.capcutConfig),{},{type:"textLink",hidden:!f,onClick:function(){k("capcut"),b()},transparent:t,showBadge:E,clickHiddenDropMenu:!0})]}),[e,p,g,E,f]),cooperationDropdownItems:(0,a.useMemo)((function(){var e;return i()(e=[(0,r.Z)((0,r.Z)({},d.j.platform),{},{type:"textLink",onClick:function(){return k("open_platform")},clickHiddenDropMenu:!0}),(0,r.Z)((0,r.Z)({},d.j.certification),{},{type:"textLink",onClick:function(){return k("certification")},clickHiddenDropMenu:!0}),(0,r.Z)((0,r.Z)({},d.j.marketing),{},{type:"textLink",onClick:function(){return k("ad_serving")},clickHiddenDropMenu:!0}),(0,r.Z)((0,r.Z)({},d.j.ecommerce),{},{type:"textLink",onClick:function(){return k("ecommerce")},clickHiddenDropMenu:!0})]).call(e,C,[(0,r.Z)((0,r.Z)({},d.j.rule),{},{type:"textLink",text:"\u89c4\u5219\u4e2d\u5fc3",onClick:function(){return k("security_report")},clickHiddenDropMenu:!0}),(0,r.Z)((0,r.Z)({},d.j.aboutDouyin),{},{type:"textLink",onClick:function(){return k("about_douyin")},clickHiddenDropMenu:!0})])}),[])}}},99208:function(e,n,t){t.d(n,{i:function(){return s}});var r=t(64408),o=t(5594),i=t.n(o),a=t(53864),l=t(34452),c=t(21518),s=function(){var e=(0,a.useCallback)((0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.U2({key:c.TccKey.SpecUserFollowerUidList,defaultValue:[]});case 2:n=e.sent,window.spec_user_follower_uid_list=n;case 4:case"end":return e.stop()}}),e)}))),[]);return(0,a.useEffect)((function(){e()}),[]),null}},22896:function(e,n,t){t.d(n,{T:function(){return W}});var r=t(64408),o=t(32781),i=t(5594),a=t.n(i),l=t(92524),c=t.n(l),s=t(50750),u=t.n(s),d=t(7943),f=t.n(d),m=t(11227),v=t.n(m),p=t(67330),h=t(53864),g=t(54817),w=t(22541),y=t.n(w),_=t(94556),b=t(96793),E=t(75906),k=t(9191),C=t(71116),N=t(5611),T=t(72603),x=t(45921),S=t(56462),L=t(11706),I=t(28712),Z=t(39690),A=t(15909),P=t(353),D=t(93542),M=t(71043),B=t(61898),O=t(11157),R=t(51357),V=t(60417),F=!1,W=function(e){var n=e.userInfo,t=e.redirectFrom,i=(0,O.x)(),l=(0,o.Z)(i,2),s=(l[0],l[1]),d=(0,h.useRef)(n),m=(0,g.k6)(),w=_.lp,W=_.sN,U=(0,h.useRef)(""),H=(0,h.useRef)(!1);(0,b.s)();var j=(0,h.useCallback)((function(){var e=p.parseUrl(location.href),n=e.url,t=e.query||{},r=(0,k.Rs)("sourceid")||(null==t?void 0:t.sourceid);if(r&&!H.current){var o,i=null===(o=(0,C.Es)())||void 0===o?void 0:o.user_unique_id;if((0,k.U$)(["sourceid"]),null!=t&&t.sourceid){var a,l;delete t.sourceid;var c=(0,p.stringify)(t);null===(a=window)||void 0===a||null===(l=a.history)||void 0===l||l.replaceState({},"",c?[n,c].join("?"):n)}H.current=!0,R.Z.sendLog("from360",{qhclickid:r||"",uuid:i}),(0,E.N)({qhclickid:r,trans_id:(0,D.H)(i)})}}),[]),G=(0,h.useCallback)((0,r.Z)(a().mark((function e(){var r,o,i,l,s,d,m,v,p,h,g,y,_,b,E,D,O,F,H,G,K,q,Q,z,Y,J,X,$,ee,ne,te,re;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(R.Z.sendLog("pageViewMonitorTest",{url:location.href},!1),(-1!==(null===(r=location)||void 0===r||null===(o=r.host)||void 0===o?void 0:c()(o).call(o,"live"))||new RegExp(W).test(null===(i=location)||void 0===i?void 0:i.pathname)&&!(0,N._Q)())&&j(),d=(n||{}).info,m=null===(l=(0,C.Es)())||void 0===l?void 0:l.user_unique_id,v=(0,k.Rs)("previous_page")||"",h=0,g=u()(w);h<g.length;h++)b=g[h],null!==(y=location)&&void 0!==y&&null!==(_=y.pathname)&&void 0!==_&&_.match(new RegExp(b))&&"search_result"!==(p=-1===(null===(E=location)||void 0===E||null===(D=E.host)||void 0===D?void 0:c()(D).call(D,"live"))?w[b]:"/"===(null===(O=location)||void 0===O?void 0:O.pathname)?"live":w[b])&&(0,T.TU)(p);if("live_detail"===(0,T.yW)()&&(p="live_detail"),F={app_code_link:"app_code",web_code_link:"web_code",jianying_publish:"jianying_publish",jianying_profile:"jianying_profile",screen_share_to_pc:"screen_share_to_pc"},H=f()(s=location.pathname).call(s,"/note")?68:0,R.Z.sendLog("pageViewMonitor",{enter_from:p||"",url:location.href,uid:null==d?void 0:d.uid,uuid:m}),!p||!(null!=d&&d.uid||m)){e.next=25;break}return J="/hot"===location.pathname?"trend":"",X=null!==(G=(0,k.Rs)("enter_method"))&&void 0!==G?G:"other",$=(0,k.Rs)("match_id"),ee=(0,k.Rs)("enter_from_merge"),e.next=17,(0,B.R)();case 17:ne=e.sent,R.Z.sendLog("pageView",{enter_from:p,url:location.href,url_path:location.pathname,link_from:(0,M.f)()?"pwa":F[v]||"",enter_method:X,tab_name:J,aweme_type:H,theme:(0,x.Dr)(S.Q.getItem({sKey:P.CookieKeys.Theme})),enter_by_tab:(0,V.S)(),browser_height:window.innerHeight,browser_width:window.innerWidth,browser_ratio:window.innerHeight/window.innerWidth,redirect_from:t,from_push:S.Q.getItem({sKey:P.CookieKeys.FromClientPush})?1:0,seo_vids:L.t("seo_vids")||"",url_source:(0,I.p)()?"":null!==(K=null===(q=(0,Z.pf)(location.href))||void 0===q?void 0:q.urlSource)&&void 0!==K?K:"",url_source_method:(0,I.p)()?"":null!==(Q=null===(z=(0,Z.pf)(location.href))||void 0===z?void 0:z.urlSourceMethod)&&void 0!==Q?Q:"",word_strategy:null===(Y=window)||void 0===Y?void 0:Y.word_strategy,physical_screen_num:ne.physical_screen_num,physical_screen_info:ne.physical_screen_info,match_id:$,enter_from_merge:ee}),te=location.href,re=location.pathname,U.current=re,(0,A.vP)({key:re,event:function(e,n){n>0&&(0,T.yW)()&&R.Z.sendLog("pageStayTime",{enter_from:(0,T.yW)(),enter_method:X,url:te,url_path:re,duration:n,is_visible:Number(e),link_from:(0,M.f)()?"pwa":F[v]||"",tab_name:J,aweme_type:H},!1)}}),e.next=26;break;case 25:R.Z.sendLog("pageViewError",{enter_from:p||"",url:location.href,uid:null==d?void 0:d.uid,uuid:m});case 26:case"end":return e.stop()}}),e)}))),[n,j,t]);return(0,h.useEffect)((function(){F||(G(),F=!0);var e=m.listen((function(){if(C.Le.setConfig(C.gI.MarkFirstEnter,null),C.Le.setConfig(C.gI.isVideoPlayed,null),U.current){try{(0,A.wq)()}catch(e){}(0,A.xC)(U.current)}G()}));return function(){null==e||e()}}),[]),(0,h.useEffect)((function(){var e,t=d.current;d.current=n;var r=null==n?void 0:n.info;(null==t||null===(e=t.info)||void 0===e?void 0:e.uid)!==(null==r?void 0:r.uid)&&(null==t?void 0:t.isLogin)!==undefined&&G()}),[n]),(0,h.useEffect)((function(){var e=y()().format("YYYY-MM-DD");return(0,A.vP)({key:"PAGE_VIEW_EVENTS_TRACKING_UPDATE_ACROSS_DAY",event:function(){var n="visible"===document.visibilityState,t=y()().format("YYYY-MM-DD");n?t!==e&&(G(),e=t):e=t}}),function(){return(0,A.xC)("PAGE_VIEW_EVENTS_TRACKING_UPDATE_ACROSS_DAY")}}),[]),{handleHiddenLog:(0,h.useCallback)((function(e){var n;if(!v()(n=[O.O.LogTrace,O.O.UserInfo]).call(n,e))return!0;s({key:e})}),[s])}}},89993:function(e,n,t){var r=t(64408),o=t(32781),i=t(5594),a=t.n(i),l=t(7943),c=t.n(l),s=t(53361),u=t.n(s),d=t(34346),f=t.n(d),m=t(68493),v=t.n(m),p=t(8e3),h=t.n(p),g=t(85792),w=t.n(g),y=t(94090),_=t.n(y),b=t(53864),E=t(14819),k=t.n(E),C=t(5794),N=t.n(C),T=t(51613),x=t(97876),S=t(34590),L=function(e,n){for(var t=0,r=0;r<e.length&&t<n.length;r++){var o;c()(o=e[r].awemeId).call(o,n[t].awemeId)&&(n[t].msgClientId=e[r].msgClientId,t++)}return n},I=function(e,n,t){var r=u()(n).call(n,(function(e){return(null==e?void 0:e.msgClientId)===t}));if(-1!==r)return{status:!0,rank:r};for(var o=u()(e).call(e,(function(e){return(null==e?void 0:e.msgClientId)===t})),i=0,a=0;a<=o&&i<n.length;a++){var l;c()(l=e[a].awemeId).call(l,n[i].awemeId)&&i++}return{status:!1,rank:i<n.length?i:i-1}};n.Z=function(e){var n=e.awemeIds,t=e.clientId,i=e.fetchAwemeIds,l=e.currentNumber,c=e.setCurrentNumber,s=e.awemeInfoList,d=e.setAwemeInfoList,m=e.refPrevVideoCallBack,p=e.refNextVideoCallBack,g=e.setIsFirst,y=(e.setIsLast,e.close),E=(0,b.useRef)(!0),C=(0,b.useRef)(!1),Z=(0,b.useRef)(!0),A=(0,b.useRef)(l),P=(0,b.useState)(n),D=(0,o.Z)(P,2),M=D[0],B=D[1],O=(0,b.useCallback)(function(){var e=(0,r.Z)(a().mark((function e(n){var r,o,i,l,s,u,m,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.current=!0,o=f()(n).call(n,(function(e){return e.awemeId})),i=k()(o,50),e.next=5,v().all(f()(i).call(i,(function(e){return(0,T.c7)(e)})));case 5:if(l=e.sent,s=h()(l).call(l,(function(e){return 0===(null==e?void 0:e.statusCode)})),!(0===(u={statusCode:s.length>0?0:1,detail:N()(f()(s).call(s,(function(e){var n;return(null===(n=e.detail)||void 0===n?void 0:n.length)>0?e.detail:[]})))}).statusCode&&(null===(r=u.detail)||void 0===r?void 0:r.length)>0)){e.next=26;break}if(m=L(n,u.detail),!E.current){e.next=22;break}if(E.current=!1,-1!==(p=I(n,m,t)).rank){e.next=17;break}return S.F.info("\u89c6\u9891\u6d88\u5931\u4e86"),w()((function(){null==y||y()}),3e3),e.abrupt("return");case 17:p.status||S.F.info("\u89c6\u9891\u6d88\u5931\u4e86"),d(u.detail),c(p.rank),e.next=24;break;case 22:d((function(e){var n;return _()(n=u.detail).call(n,e)})),c(u.detail.length-1);case 24:e.next=28;break;case 26:S.F.info("\u89c6\u9891\u6d88\u5931\u4e86"),w()((function(){null==y||y()}),3e3);case 28:C.current=!1;case 29:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]);(0,b.useEffect)((function(){O(n)}),[]),(0,b.useEffect)((function(){p.current=(0,r.Z)(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=M[M.length-1],t=s[s.length-1],n.msgClientId!==t.msgClientId&&S.F.info("\u89c6\u9891\u6d88\u5931\u4e86");case 3:case"end":return e.stop()}}),e)}))),m.current=(0,r.Z)(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M[0].msgClientId!==s[0].msgClientId&&S.F.info("\u89c6\u9891\u6d88\u5931\u4e86"),Z.current){e.next=3;break}return e.abrupt("return");case 3:if(C.current){e.next=12;break}return C.current=!0,e.next=7,i();case 7:t=e.sent,Z.current=t.hasMore,g(!t.hasMore),B((function(e){var n;return _()(n=t.videoMsgList).call(n,e)})),(null==t||null===(n=t.videoMsgList)||void 0===n?void 0:n.length)>0?O(t.videoMsgList):C.current=!1;case 12:case"end":return e.stop()}}),e)})))}),[M,s]),(0,b.useEffect)((function(){if(-1!==A.current){var e=s[A.current].msgClientId,n=u()(M).call(M,(function(n){return n.msgClientId===e}));A.current+1===l&&M[n+1].msgClientId!==s[l].msgClientId&&S.F.info("\u89c6\u9891\u6d88\u5931\u4e86"),A.current-1===l&&M[n-1].msgClientId!==s[l].msgClientId&&S.F.info("\u89c6\u9891\u6d88\u5931\u4e86")}A.current=l}),[l,s,M]),(0,b.useEffect)((function(){g(!Z.current&&0===l)}),[l,s]),(0,b.useEffect)((function(){var e=x.listen(x.EVENT.imAwemeRecall,(function(e){e.msgClientId===s[l].msgClientId?(null==y||y(),S.F.info("\u6d88\u606f\u5df2\u88ab\u64a4\u56de")):(u()(s).call(s,(function(n){return n.msgClientId===e.msgClientId}))<l&&c((function(e){return e-1})),B((function(n){return h()(n).call(n,(function(n){return n.msgClientId!==e.msgClientId}))})),d((function(n){return h()(n).call(n,(function(n){return n.msgClientId!==e.msgClientId}))})))}));return function(){return e()}}),[l,s,M])}},90030:function(e,n,t){var r=t(30906),o=t(64408),i=t(32781),a=t(5594),l=t.n(a),c=t(85792),s=t.n(c),u=t(53864),d=t(51613),f=t(34590);n.Z=function(e){var n=e.awemeId,t=(e.currentNumber,e.setCurrentNumber),a=(e.awemeInfoList,e.setAwemeInfoList),c=(0,u.useState)(null),m=(0,i.Z)(c,2),v=m[0],p=m[1],h=(0,u.useCallback)((0,o.Z)(l().mark((function t(){var o,i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.m_)({awemeId:n});case 2:0===(null==(o=t.sent)?void 0:o.statusCode)?(i=(0,r.Z)((0,r.Z)({},null==o?void 0:o.detail),{},{logPb:null==o?void 0:o.logPb}),p(i)):(f.F.info("\u89c6\u9891\u6d88\u5931\u4e86\uff0c\u8bf7\u7ee7\u7eed\u6d4f\u89c8\u5176\u4ed6\u4f5c\u54c1"),s()((function(){var n;null===(n=e.close)||void 0===n||n.call(e)}),5e3));case 4:case"end":return t.stop()}}),t)}))),[n]);(0,u.useEffect)((function(){h()}),[n,h]),(0,u.useEffect)((function(){v&&(a([v]),t(0))}),[v,a,t])}},35562:function(e,n,t){t.d(n,{E:function(){return M}});var r=t(64408),o=t(85792),i=t.n(o),a=t(5594),l=t.n(a),c=t(53864),s=t(84173),u=t.n(s),d=t(77606),f=t(51365),m=t(5611),v=t(71116),p=t(97876),h=t(94139),g=t(67330),w=t(65981),y=t.n(w),_=function(e){var n=function(e){var n,t,r,o="",i="",a="";if(null!=e&&e.open_url){var l=g.parseUrl(null==e?void 0:e.open_url).query;o=null==l?void 0:l.web_rid,i=null==l?void 0:l.room_id,a=null==l?void 0:l.user_id}return{id:null==e||null===(n=e.id)||void 0===n?void 0:n.toString(),text:null==e?void 0:e.text,title:null==e?void 0:e.title,imageUrl:null==e?void 0:e.image_url,webRid:o,roomId:i,anchorId:a,type:null==e||null===(t=e.ttpush_event_extra)||void 0===t?void 0:t.push_type,eventType:null==e||null===(r=e.ttpush_event_extra)||void 0===r?void 0:r.event_type}}(function(e){var n;return y().parse(null==e||null===(n=e.message)||void 0===n?void 0:n.textPayload)}(e));"live"===(null==n?void 0:n.type)&&"live_start_appointed"===(null==n?void 0:n.eventType)&&p.emit(p.EVENT.webLivePushMessage,n)},b=t(26447),E=t.n(b),k=t(353),C=t(13971),N=function(e){var n=function(e){var n;return y().parse(null==e||null===(n=e.message)||void 0===n?void 0:n.textPayload)}(e);"open_live_from_aweme_app"===n.message_type&&("visible"===document.visibilityState?location.href=globalThis.xssNamespace.douyin_web.filterUrl(g.stringifyUrl({url:"https://live.douyin.com/".concat(n.web_rid.toString()),query:{message_from:"app",previous_page:"screen_share_to_pc"}}),null,{logType:"js.href/src",mode:"black",reportOnly:!1}):(0,C.qQ)(k.LocalStorageKeys.LastWatchOnPC,{time:E()(),webRid:n.web_rid.toString()}))},T=t(84639),x=t.n(T),S=t(11227),L=t.n(S),I=t(51613),Z=t(72603),A=function(e){var n,t=function(e){var n;return y().parse(null==e||null===(n=e.message)||void 0===n?void 0:n.textPayload)}(e),o=function(e){var n,t,r,o,i,a,l,c,s,u,d,f=e.continuation_info,m={appId:null==e||null===(n=e.app_id)||void 0===n?void 0:n.toString(),deviceId:null==e||null===(t=e.device_id)||void 0===t?void 0:t.toString(),messageType:null==e||null===(r=e.message_type)||void 0===r?void 0:r.toString(),toDeviceType:null==e||null===(o=e.to_device_type)||void 0===o?void 0:o.toString(),userId:null==e||null===(i=e.user_id)||void 0===i?void 0:i.toString()};return f!==undefined&&x()(m,{continuationInfo:{cover:null==f?void 0:f.Cover,userId:null==f||null===(a=f.UserId)||void 0===a?void 0:a.toString(),itemId:null==f||null===(l=f.ItemId)||void 0===l?void 0:l.toString(),itemType:null==f||null===(c=f.ItemType)||void 0===c?void 0:c.toString(),playTime:null==f?void 0:f.PlayTime,fromDeviceId:null==f||null===(s=f.FromDeviceId)||void 0===s?void 0:s.toString(),fromDeviceType:null==f||null===(u=f.FromDeviceType)||void 0===u?void 0:u.toString(),recordType:null==f||null===(d=f.RecordType)||void 0===d?void 0:d.toString()}}),m}(t);if(L()(n=[d.Yi.Default,d.Yi.Phone,d.Yi.PC]).call(n,o.toDeviceType))switch(o.messageType){case d.Cs.ReportMessage:!function(e){p.emit(p.EVENT.sendPullMessage,{toDeviceId:e.deviceId,toDeviceType:d.Yi.Phone})}(o);break;case d.Cs.PushMessage:!function(e){e.continuationInfo.fromDeviceType!==d.Yi.Phone||"visible"!==document.visibilityState&&!(0,m.DT)()||("recommend"!==(0,Z.yW)()?location.href=globalThis.xssNamespace.douyin_web.filterUrl(g.stringifyUrl({url:"https://www.douyin.com",query:{feed_operation:"insert",aweme_id:e.continuationInfo.itemId,play_progress:e.continuationInfo.playTime,from_device_id:e.continuationInfo.fromDeviceId,record_type:e.continuationInfo.recordType}}),null,{logType:"js.href/src",mode:"black",reportOnly:!1}):(0,r.Z)(l().mark((function n(){var t,r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,I.m_)({awemeId:e.continuationInfo.itemId});case 2:0===(t=n.sent).statusCode&&t.detail&&((r=t.detail).continationInfo={playProgress:e.continuationInfo.playTime,continationVideoAlreadyConsume:!1,fromDeviceId:e.continuationInfo.fromDeviceId,recordType:e.continuationInfo.recordType,urlSource:"app_continued"},p.emit(p.EVENT.recommendInsertVideo,r));case 4:case"end":return n.stop()}}),n)})))())}(o)}},P=t(6801);function D(e,n){try{var t,r,o=String(null!==(t=null===(r=e.message)||void 0===r?void 0:r.service)&&void 0!==t?t:"0");if(o===d.oU.Multicast)return void(n.current&&A(e));if(o===d.oU.WatchOnPC&&N(e),o===d.oU.LivePush)return void _(e)}catch(a){var i;f.oe.event.error({name:f.Mo.FrontierMessageError,report:{message:null==e||null===(i=e.message)||void 0===i?void 0:i.textPayload}})}}var M=function(e){var n=e.webId,o=e.isLogin,a=(0,c.useRef)(),s=(0,c.useRef)(!0),d=(0,P.U7)(),f=(0,P.dY)("multi_device_resume",o);s.current=d&&1===(null==f?void 0:f.enable)&&1===(null==f?void 0:f.pc_manual);var w=(0,c.useCallback)((0,r.Z)(l().mark((function e(){var r,o,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,(0,h.k)();case 3:return e.next=5,t.e(4999).then(t.t.bind(t,64999,23));case 5:r=e.sent,o=r.FWS,i=new o({fpID:"32",aID:"6383",enableTransformTextPayload:!0,accessKey:u()("".concat(32,"a1ede44a8715fd38c64d52cbd6dc7f5b",n,"f8a69f1719916z")),deviceID:n,url:"ws://frontier-pc.douyin.com",payloadEncoding:{encoding:"",force:!0},payloadType:{type:"application/json",force:!0},customParams:{conn_tag:(0,m.DT)()?"aweme_pc_client":"aweme_pc_web"}}),a.current=i,v.Le.setConfig(v.gI.fwsExample,{fwsExample:i}),p.emit(p.EVENT.fwsExampleInit,i),i.onopen=function(e){},i.onmessage=function(e){D(e,s)};case 13:case"end":return e.stop()}}),e)}))),[n]);return(0,c.useEffect)((function(){var e;return!n||!o||null!=a&&a.current||(e=i()((function(){w()}),5e3)),function(){var n;null==a||null===(n=a.current)||void 0===n||n.close(),e&&clearTimeout(e)}}),[n,o,w]),(0,c.useEffect)((function(){var e=function(){var e=(0,C.$o)(k.LocalStorageKeys.LastWatchOnPC);e&&e.webRid&&e.time&&(E()()-e.time<=6e4?"visible"===document.visibilityState&&((0,C.bv)(k.LocalStorageKeys.LastWatchOnPC),location.href=globalThis.xssNamespace.douyin_web.filterUrl(g.stringifyUrl({url:"https://live.douyin.com/".concat(e.webRid),query:{message_from:"app",previous_page:"screen_share_to_pc"}}),null,{logType:"js.href/src",mode:"black",reportOnly:!1})):(0,C.bv)(k.LocalStorageKeys.LastWatchOnPC))};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[]),{fwsRef:a}}},40890:function(e,n,t){t.d(n,{I:function(){return a}});var r=t(53864),o=t(353),i=t(13971),a=function(e){return(0,r.useEffect)((function(){e.isLogin&&(0,i.qQ)(o.LocalStorageKeys.HasUserLogin,1)}),[e]),null}},27004:function(e,n,t){t.d(n,{c:function(){return a}});var r=t(32781),o=t(53864),i=t(97876);function a(){var e=o.useState(!1),n=(0,r.Z)(e,2),t=n[0],a=n[1];return(0,o.useEffect)((function(){var e=i.listen(i.EVENT.searchBarFocus,(function(){a(!0)})),n=i.listen(i.EVENT.searchBarBlur,(function(){a(!1)}));return function(){e(),n()}}),[]),t}},55931:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(64408),o=t(32781),i=t(5594),a=t.n(i),l=t(53864),c=t(34452),s=t(21518),u=t(56462),d=t(14690),f=t(5611),m=t(97876),v=t(28712),p=t(353);function h(){var e=l.useState(null),n=(0,o.Z)(e,2),t=n[0],i=n[1],h=(0,l.useState)(!0),g=(0,o.Z)(h,2),w=g[0],y=g[1];return(0,l.useEffect)((function(){var e=function(){var e=u.Q.getItem({sKey:p.CookieKeys.Theme})!==p.ThemeValues.Light;y(e)};if(e(),(0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.U2({key:s.TccKey.SpecTheme,defaultValue:s.TCC_DEFAULT_VALUE_MAP.get(s.TccKey.SpecTheme)});case 2:n=e.sent,(0,d.L)((function(){i(n)}));case 4:case"end":return e.stop()}}),e)})))(),(0,f.DT)())return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[]),(0,l.useEffect)((function(){var e=m.listen(m.EVENT.changeTheme,(function(e){var n=e.theme;return y(n===p.ThemeValues.Dark)}));return function(){e()}}),[]),(0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,v.p)()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,c.U2({key:s.TccKey.SpecTheme,defaultValue:s.TCC_DEFAULT_VALUE_MAP.get(s.TccKey.SpecTheme)});case 4:n=e.sent,(0,d.L)((function(){i(n)}));case 6:case"end":return e.stop()}}),e)})))(),{specTheme:t,isDark:w}}},41560:function(e,n,t){t.d(n,{d:function(){return k}});var r=t(64408),o=t(19478),i=t.n(o),a=t(5594),l=t.n(a),c=t(68493),s=t.n(c),u=t(85792),d=t.n(u),f=t(54343),m=t.n(f),v=t(53864),p=t(92267),h=t(28712),g=t(56462),w=t(97876),y=t(71116),_=t(353),b=function(){return!!(0,h.p)()||"visible"===document.visibilityState},E=function(){var e,n,t;if((0,h.p)())return null;var r=document.createElement("link");return r.type="image/x-icon",r.rel="shortcut icon",null===(e=document.getElementsByTagName("head"))||void 0===e||null===(n=e[0])||void 0===n||null===(t=n.appendChild)||void 0===t||t.call(n,r),r},k=function(e){var n=e.isOn,t=void 0!==n&&n,o=(0,v.useRef)(!1),a=(0,v.useRef)(0),c=(0,v.useRef)(null),u=(0,v.useCallback)((function(e){return new(s())((function(n,t){var r=new Image;r.src=globalThis.xssNamespace.douyin_web.filterUrl(e,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),r.onload=function(){n(!0),r.onload=null,r.onerror=null,r=null},r.onerror=function(e){t(e),r.onerror=null,r.onload=null,r=null}}))}),[]),f=(0,v.useCallback)(function(){var e=(0,r.Z)(l().mark((function e(n){var t,r,o,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,h.p)()){e.next=2;break}return e.abrupt("return",!1);case 2:return t=(a=n)>0?"https://p-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/favicon/".concat(Math.min(a,10),".png"):"https://p-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/favicon.png",c.current||(r=document.querySelector('link[type="image/x-icon"]'),c.current=r,r||(c.current=E())),e.next=6,u(t);case 6:return o=e.sent,i=c.current,o&&i&&(i.href=globalThis.xssNamespace.douyin_web.filterUrl(t,null,{logType:"js.href/src",mode:"black",reportOnly:!1})),e.abrupt("return",o&&i);case 10:case"end":return e.stop()}var a}),e)})));return function(n){return e.apply(this,arguments)}}(),[u]),k=(0,v.useCallback)(function(){var e=(0,r.Z)(l().mark((function e(n){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e=(0,r.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d()((function(){f(0).then((function(e){if(e)var r=d()((function(){f(n),clearTimeout(r),clearTimeout(t)}),500);else clearTimeout(t)}))}),500);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),!g.Q.getItem({sKey:_.CookieKeys.IsDouyinActive})&&0!==n){e.next=6;break}f(n),e.next=10;break;case 6:return e.next=8,f(n);case 8:e.sent&&t();case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[f]),C=(0,v.useCallback)((function(){f(0),o.current=!1}),[f]);(0,v.useEffect)((function(){var e=w.listen(w.EVENT.updateUnReadCount,i()((function(e){var n=g.Q.getItem({sKey:_.CookieKeys.HideTitleNotice}),r=g.Q.getItem({sKey:_.CookieKeys.IsDouyinActive}),i=y.Le.getConfig(y.gI.UnReadCount)||{},l=i.im,c=void 0===l?0:l,s=i.notice,u=c+(void 0===s?0:s);!e||!t||n||!o.current&&r||u===a.current||(a.current=u,k(u),o.current=u>0,u>0&&p.i.sendLog("webRedDotShow"))}),1e3));return function(){null==e||e()}}),[t,k]),(0,v.useEffect)((function(){var e=function(){if(b()){p.i.sendLog("webIconClick",{red_dot:o.current?1:0});var e=d()((function(){g.Q.setItem(_.CookieKeys.IsDouyinActive,!0),clearTimeout(e)}),500)}else g.Q.setItem(_.CookieKeys.IsDouyinActive,!1)},n=function(){return g.Q.setItem(_.CookieKeys.IsDouyinActive,!0)},t=function(){return g.Q.setItem(_.CookieKeys.IsDouyinActive,!1)};return g.Q.getItem({sKey:_.CookieKeys.IsDouyinActive})||g.Q.setItem(_.CookieKeys.IsDouyinActive,b()),document.addEventListener("visibilitychange",e),document.addEventListener("focus",n),window.addEventListener("beforeunload",t),function(){document.removeEventListener("visibilitychange",e),document.removeEventListener("focus",n),window.removeEventListener("beforeunload",t)}}),[]),(0,v.useEffect)((function(){var e=null;t?(e&&clearInterval(e),e=m()((function(){g.Q.getItem({sKey:_.CookieKeys.HideTitleNotice})&&o.current&&C()}),5e3)):(clearInterval(e),e=null)}),[t,C])}},26502:function(e,n,t){t.d(n,{j:function(){return c}});var r=t(32781),o=t(53864),i=t(95921),a=t(97876),l="^/user/*?";function c(e){var n=(0,o.useState)(!0),t=(0,r.Z)(n,2),c=t[0],s=t[1],u=(0,o.useState)(!0),d=(0,r.Z)(u,2),f=d[0],m=d[1],v=(0,o.useRef)(0),p=(0,o.useRef)(!1),h=(0,i.TH)();return(0,o.useEffect)((function(){return s(0===window.scrollY)}),[]),(0,o.useEffect)((function(){if(f){var e=function(){v.current=window.scrollY,p.current||window.requestAnimationFrame((function(){s(0===v.current),p.current=!1})),p.current=!0};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e),s(!1)}}}),[f]),(0,o.useEffect)((function(){var e=a.listen(a.EVENT.headerTransparent,(function(e){s(e)})),n=a.listen(a.EVENT.headerAbleTransparent,(function(e){m(e)}));return function(){e(),n()}}),[]),{transparent:c&&(new RegExp(l).test(h.pathname)||e)}}},51357:function(e,n,t){t.d(n,{v:function(){return a}});var r=t(13795),o=t(28712),i=t(72603),a=function(){return(0,o.p)()?"":(0,i.vM)()},l={pageClick:{eventName:"page_click",params:{click_position:"",enter_from:""}},pageView:{eventName:"page_view",params:{url:"",url_path:"",enter_from:"",link_from:"",tab_name:"",enter_method:"",aweme_type:0,theme:"light",is_topknot:0,abtest:"",ischange:"",old_ttwid:"",enter_by_tab:0,browser_height:0,browser_width:0,browser_ratio:0,redirect_from:"",from_push:0,seo_vids:"",url_source:"",url_source_method:"",word_strategy:"",physical_screen_num:0,physical_screen_info:"",match_id:"",enter_from_merge:""}},pageViewError:{eventName:"page_view_error",params:{url:"",enter_from:"",uid:"",uuid:""}},pageViewMonitor:{eventName:"page_view_monitor",params:{url:"",enter_from:"",uid:"",uuid:""}},pageViewMonitorTest:{eventName:"page_view_monitor_test",params:{url:""}},pageStayTime:{eventName:"page_stay_time",params:{url:"",url_path:"",enter_from:"",enter_method:"",duration:0,is_visible:1,link_from:"",tab_name:"",aweme_type:0}},topknotWearShow:{eventName:"topknot_waer_show",params:{}},webPushVerify:{eventName:"web_push_verify",params:{browser:"",can_use_notification_api:"0",can_use_push_api:"0",can_use_sw_api:"0",can_use_all_api:"0",user_agant:""}},addToDesktopShow:{eventName:"add_to_desktop_show",params:{enter_from:"",type:"hover",is_full_screen:"0",platform:"",guide_type:""}},addToDesktopClick:{eventName:"add_to_desktop_click",params:{enter_from:"",type:"hover",is_full_screen:"0",platform:"",guide_type:""}},addToDesktopGuideClose:{eventName:"add_to_desktop_guide_close",params:{enter_from:"",is_full_screen:"0"}},installNativePanelShow:{eventName:"install_native_panel_show",params:{}},installNativePanelClick:{eventName:"install_native_panel_click",params:{action:"cancel"}},personalPanelShow:{eventName:"personal_panel_show",params:{enter_from:""}},personalPanelClick:{eventName:"personal_panel_click",params:{enter_from:"",click_position:"post"}},clickLogOut:{eventName:"click_log_out",params:{enter_from:""}},newImShow:{eventName:"new_im_show",params:{is_new:"",enter_from:(0,i.yW)()}},clickPreviousPage:{eventName:"click_previous_page",params:{enter_from:""}},clickMainPage:{eventName:"click_main_page",params:{enter_from:""}},clientSettingHover:{eventName:"client_setting_hover",params:{badge:1}},clientSettingClick:{eventName:"client_setting_click",params:{position:"",badge:1}},from360:{eventName:"from_360",params:{qhclickid:"",uuid:""}},cooperatePanelShow:{eventName:"cooperate_panel_show",params:{enter_from:""}},publishPanelShow:{eventName:"publish_panel_show",params:{enter_from:"",is_badge:0}},downloadPanelShow:{eventName:"download_panel_show",params:{enter_from:""}},downloadPanelClick:{eventName:"download_panel_click",params:{enter_from:""}},feedClick:{eventName:"feed_click",params:{enter_from:""}},clickReturnPage:{eventName:"click_return_page",params:{enter_from:""}},addToDesktopBadgeShow:{eventName:"add_to_desktop_badge_show",params:{enter_from:""}},clientSettingBadgeShow:{eventName:"client_setting_badge_show",params:{}},hevcInfo:{eventName:"hevc_info",params:{support:-1,total_frames:-1,dropped_frames:-1,dropped_rate:-1}},addToDesktopClose:{eventName:"add_to_desktop_close",params:{enter_from:""}},downloadExtension:{eventName:"download_extension",params:{available:0}},webCollectNotify:{eventName:"web_collect_notify",params:{enter_from:"",enter_method:"hover"}},webCollectClick:{eventName:"web_collect_click",params:{enter_from:"",enter_method:"hover"}},publishNotifyShow:{eventName:"publish_notify_show",params:{}},clickPublish:{eventName:"click_publish",params:{enter_from:"",is_badge:0}},webDesktopNotify:{eventName:"web_desktop_notify",params:{enter_from:""}},webDesktopClick:{eventName:"web_desktop_click",params:{enter_from:""}},jianying_publish_entrance_show:{eventName:"jianying_publish_entrance_show",params:{badge:0}},jianying_publish_entrance_click:{eventName:"jianying_publish_entrance_click",params:{badge:0}},clickMyEcomOrder:{eventName:"click_my_ecom_order",params:{enter_from:""}},clientDriverCheckShow:{eventName:"client_driver_check_show",params:{}},clientDriverCheckClick:{eventName:"client_driver_check_click",params:{enter_from:""}}};n.Z=new r.hD(l)},60417:function(e,n,t){t.d(n,{b:function(){return o},S:function(){return i}});var r=0;function o(){r=1}function i(){return r}},96164:function(e,n,t){t.d(n,{G1:function(){return g},Jo:function(){return w},CT:function(){return y},P0:function(){return _},D5:function(){return b},ZT:function(){return E},Bg:function(){return k},d7:function(){return N}});var r=t(64408),o=t(5594),i=t.n(o),a=t(11227),l=t.n(a),c=t(58144),s=t.n(c),u=t(26447),d=t.n(u),f=t(77386),m=t.n(f),v=t(78384),p=t(5277),h=t(5611);function g(e){return"Mac"===(e||(0,v.fV)()).os}function w(e){var n,t=e||(0,v.fV)();return"Windows"===t.os&&l()(n=["Win7","Win8","Win8.1","Win10"]).call(n,t.version)}var y=function(e){return e.Mac="Mac",e.Win7Up="Win7Up",e.Linux="Linux",e.Win7Down="Win7Down",e.Unknown="Unknown",e}({});function _(){var e=(0,v.fV)();return g(e)?y.Mac:function(e){return"Linux"===(e||(0,v.fV)()).os}(e)?y.Linux:w(e)?y.Win7Up:function(e){var n,t=e||(0,v.fV)();return"Windows"===t.os&&l()(n=["Win2000","WinXp","Win2003","WinVista"]).call(n,t.version)}(e)?y.Win7Down:y.Unknown}function b(){var e=_();return e===y.Win7Up||e===y.Mac}var E=((0,p.a2)()||(0,p.i7)()||(0,p.un)())&&!(0,h.DT)()&&!(0,p.GP)()&&!(0,p.NN)();function k(){return C.apply(this,arguments)}function C(){return(C=(0,r.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://chrome.google.com/webstore/detail/%E7%A8%80%E5%9C%9F%E6%8E%98%E9%87%91/lecdifefmmfjnjjinhaennhdlmcaeeeb",n=d()(),t=0,e.next=5,m()({method:"get",url:"https://chrome.google.com/webstore/detail/%E7%A8%80%E5%9C%9F%E6%8E%98%E9%87%91/lecdifefmmfjnjjinhaennhdlmcaeeeb",timeout:3500}).catch((function(e){t=d()()})).finally((function(){t=t||d()()}));case 5:return e.abrupt("return",t-n<3e3);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e){var n,t,r;(0,p.a2)()?window.open((null===(n=s()(e).call(e,(function(e){return"360"===e.browserId})))||void 0===n?void 0:n.url)||"","_blank"):(0,p.i7)()?window.open((null===(t=s()(e).call(e,(function(e){return"Chrome"===e.browserId})))||void 0===t?void 0:t.url)||"","_blank"):(0,p.un)()&&window.open((null===(r=s()(e).call(e,(function(e){return"Edge"===e.browserId})))||void 0===r?void 0:r.url)||"","_blank")}},1067:function(e,n,t){t.d(n,{P:function(){return i},p:function(){return a}});var r=t(32781),o=t(53864),i=(0,o.createContext)(null),a=function(e){var n=e.children,t=(0,o.useState)({}),a=(0,r.Z)(t,2),l=a[0],c=a[1];return o.createElement(i.Provider,{value:{usedIconMap:l,setUsedIconMap:c}},n)}},68350:function(e,n,t){t.d(n,{A:function(){return h}});var r=t(65146),o=t(30906),i=t(94090),a=t.n(i),l=t(53361),c=t.n(l),s=t(8369),u=t.n(s),d=t(53864),f=t(35556),m=t(14690),v=t(9909),p=t(1067),h=function(e){var n,t=e.src,i=e.width,l=e.height,s=e.id,h=e.viewBox,g=e.className,w=e.onClick,y=e.isSpider,_=void 0!==y&&y,b=(0,d.useContext)(p.P),E=(0,d.useRef)(b);E.current=b;var k=(0,d.useRef)((0,f.o)()),C=(0,d.useRef)();(0,d.useEffect)((function(){var e=E.current;if(e&&C.current!==s){var n;C.current=s;var t=a()(n=e.usedIconMap[s]||[]).call(n,[]);t.push({id:k.current,width:Number(i),height:Number(l)}),(0,m.L)((function(){e.setUsedIconMap((0,o.Z)((0,o.Z)({},e.usedIconMap),{},(0,r.Z)({},s,t)))}))}return function(){var e=E.current;if(e){var n,t=e.usedIconMap[s]||[],r=c()(t).call(t,(function(e){return e.id===k.current}));if(r>-1)u()(t).call(t,r,1),e.usedIconMap[s]=t,null===(n=e.setUsedIconMap)||void 0===n||n.call(e,(0,o.Z)({},e.usedIconMap))}}}),[s]);var N=(0,d.useMemo)((function(){if(b){var e,n,t=b.usedIconMap[s]||[];return(null===(e=t[0])||void 0===e?void 0:e.id)&&(null===(n=t[0])||void 0===n?void 0:n.id)!==k.current}return!1}),[s,null==b?void 0:b.usedIconMap]);return _?null:N?d.createElement("svg",{onClick:w,width:Number(i),height:Number(l),viewBox:a()(n="0 0 ".concat(i," ")).call(n,l),className:g},d.createElement("use",{xlinkHref:"#".concat(s)})):d.createElement(v.Z,{onClick:w,src:globalThis.xssNamespace.douyin_web.filterUrl(t,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:Number(i),height:Number(l),viewBox:h,id:s,className:g})}},24556:function(e,n,t){t.d(n,{Q:function(){return _}});var r=t(30906),o=t(65902),i=t(65146),a=t(32781),l=t(67161),c=t(26447),s=t.n(c),u=t(85792),d=t.n(u),f=t(53864),m=t(79705),v=t.n(m),p=t(54805),h=t(12098),g={imageContainer:"Z6bzLUc0",imagePlaceholder:"diDKTH8Q",blurBg:"C0BsJO3C",blurMask:"DJOgq4kE",imgDefaultBg:"hAnPHcWL",hidden:"LdcTss5O"},w=t(9909),y=["src","className","iconWidth","iconHeight","iconColor","iconStyle","withBlurBg","onHandleImgLoad","imgClass","skeletonStyle","skeletonClass","isPreviewing","isSpider","showImageInSSR","renderDefault","useMonitor","onError","mainStyle","priority","width","height","decoding"];function _(e){var n=e.src,t=e.className,c=e.iconWidth,u=void 0===c?105:c,m=e.iconHeight,_=void 0===m?120:m,b=e.iconColor,E=void 0===b?"rgba(169, 170, 183, 1)":b,k=e.iconStyle,C=e.withBlurBg,N=void 0!==C&&C,T=e.onHandleImgLoad,x=e.imgClass,S=e.skeletonStyle,L=e.skeletonClass,I=e.isPreviewing,Z=e.isSpider,A=e.showImageInSSR,P=void 0!==A&&A,D=e.renderDefault,M=(e.useMonitor,e.onError),B=e.mainStyle,O=e.priority,R=e.width,V=e.height,F=e.decoding,W=(0,l.Z)(e,y),U=(0,f.useState)(0),H=(0,a.Z)(U,2),j=H[0],G=H[1],K=(0,f.useRef)(!1),q=(0,f.useRef)(0),Q=function(){var e=!(arguments.length>0&&arguments[0]!==undefined)||arguments[0];K.current||(T&&T(e),K.current=!0)},z=(0,f.useCallback)((function(){G(1),Q(!0)}),[]),Y=(0,p.Z)((function(e){Q(!1),G(0),null==M||M(e)}));(0,f.useEffect)((function(){var e,t,r=!1;return n?(q.current=s()(),(e=new Image).onload=function(){r||(r=!0,z(),e=null)},e.onerror=function(e){r||(Y(e),r=!0)},t=d()((function(e){r||(r=!0,Y(e))}),3e3),e.src=globalThis.xssNamespace.douyin_web.filterUrl(n,null,{logType:"js.href/src",mode:"black",reportOnly:!1})):G(0),function(){e&&(e.onload=undefined,e.onerror=undefined,clearTimeout(t))}}),[n]);var J=Z||P||1===j;return f.createElement("div",{className:v()(g.imageContainer,t,(0,i.Z)({},g.imagePlaceholder,!J)),style:B||null},N&&J&&!Z&&f.createElement(f.Fragment,null,f.createElement("div",{className:g.blurBg,style:{backgroundImage:"url(".concat(n,")")}}),f.createElement("div",{className:g.blurBg,style:{backgroundImage:"url(".concat(n,")")}}),f.createElement("div",{className:g.blurMask})),f.createElement("img",(0,o.Z)({src:globalThis.xssNamespace.douyin_web.filterUrl(n,null,{logType:"js.href/src",mode:"black",reportOnly:!1})},W,{className:v()(x,(0,i.Z)({},g.hidden,I)),onLoad:z,onError:Y,fetchpriority:!0===O?"high":undefined,loading:!1===O?"lazy":undefined,width:R&&Math.round(R),height:V&&Math.round(V),decoding:F})),!J&&(D||f.createElement("div",{style:S,className:v()(g.imgDefaultBg,L,(0,i.Z)({},g.hidden,I))},f.createElement(w.Z,{style:(0,r.Z)({width:u,height:_},k),src:globalThis.xssNamespace.douyin_web.filterUrl(h.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),viewBox:"0 0 105 120",color:E}))))}},75422:function(e,n,t){t.d(n,{g:function(){return l}});var r=t(53864),o=t(79705),i=t.n(o),a={container:"wBikGyzB",loading:"Sr905S5u",text:"aWSRclC8"};function l(e){var n=e.className,t=e.text,o=e.textClassName,l=e.style;return r.createElement("div",{className:i()(a.container,n),style:l},r.createElement("div",{className:a.loading}),t&&r.createElement("div",{className:i()(a.text,o)},t))}},15971:function(e,n,t){var r=t(30906),o=t(64408),i=t(5594),a=t.n(i),l=t(53864),c=t(79705),s=t.n(c),u=t(77386),d=t.n(u),f=t(91072),m=t(72603),v=t(9191),p=t(5277),h=t(31554),g=t(4836);n.Z=function(e){var n=e.config,t=e.destroy,i=e.onLoginClick,c=e.onCloseClick,u=(0,l.useRef)(null),w=l.useCallback(function(){var e=(0,o.Z)(a().mark((function e(o){var i,l,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,g.j1)();case 4:if(i=e.sent,l=(0,m.vM)(),!h.loginPanelInfo.isShowingAccount||"follow"===l||"friend"===l){e.next=10;break}return e.next=9,t();case 9:return e.abrupt("return");case 10:c=new i((0,r.Z)((0,r.Z)({},n),{},{success:function(e){null!=e&&e.redirect_url?d().get(null==e?void 0:e.redirect_url).then((function(){(0,f.h)(),window.location.reload()})).catch((function(){t()})):t()}})),u.current=c.init(o),c.setTeaConfig({ug_source:(0,v.Rs)("ug_source"),sem_keyword:(0,v.Rs)("sem_keyword"),browser_is_360:(0,p.a2)()?"1":"0"});case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]);return(0,l.useEffect)((function(){return function(){var e;null==u||null===(e=u.current)||void 0===e||e.call(u)}}),[]),l.createElement("div",{id:"login-guide",className:s()("login-guide")},l.createElement("i",{className:"login-guide__close",onClick:c}),l.createElement("div",{ref:w,onClick:function(e){e.stopPropagation()}}),l.createElement("div",{className:"login-guide__btn",onClick:i},l.createElement("div",{className:"login-guide__btn__animation"},l.createElement("div",{className:"login-guide__btn__animation__target"}),l.createElement("div",{className:"login-guide__btn__animation__cursor"})),"\u7acb\u5373\u767b\u5f55"))}},33389:function(e,n,t){t.d(n,{n:function(){return P}});var r=t(32781),o=t(65902),i=t(19049),a=t(95508),l=t(65146),c=t(64408),s=t(29809),u=t.n(s),d=t(85792),f=t.n(d),m=t(68493),v=t.n(m),p=t(5594),h=t.n(p),g=t(53864),w=t(60443),y=t(76335),_=t(63182),b=t(72603),E=t(56462),k=t(27868),C=t(28712),N=t(64088),T=t(15971),x=new(t(13795).hD)({loginScanQrcodeStay:{eventName:"login_scan_qrcode_stay",params:{duration:0,enter_from:"",enter_method:"cold_start",isActive:""}}}),S=t(4836),L=t(31554),I="0",Z=function(){var e=(0,c.Z)(h().mark((function e(){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(5236).then(t.bind(t,15236)).then((function(e){return e.default}));case 2:return n=e.sent,e.abrupt("return");case 5:n.use(),!0;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){function e(){var n=this;(0,i.Z)(this,e),(0,l.Z)(this,"AB_LOGIN_GUIDE_STORAGE_KEY","AB_LOGIN_GUIDE_TIMESTAMP"),(0,l.Z)(this,"ScanCodeDescription",(function(e){var t=e.getQRCode,r=e.autoRefreshNum;return n.getQrcode=t,n.nowRefreshNum=r,g.createElement("div",{className:"login-guide__desc"},g.createElement("div",null,"\u767b\u5f55\u540e\uff0c\u6296\u97f3\u66f4\u61c2\u4f60"),g.createElement("div",null,"\u8fd8\u53ef\u4ee5\u70b9\u8d5e\u559c\u6b22\u7684\u89c6\u9891\u54e6"))})),(0,l.Z)(this,"dynamicDesc",(function(e){return function(t){var r=t.getQRCode,o=t.autoRefreshNum;return n.getQrcode=r,n.nowRefreshNum=o,g.createElement("div",{className:"login-guide__desc"},g.createElement("div",null,e[0]),g.createElement("div",null,e[1]))}})),(0,l.Z)(this,"operationCallback",(function(e,t){if("LOGIN_SCAN_CODE"===e)if("scannedQrCode"===t){if(n.isScan=!0,n.showTime){var r=(new Date).getTime()-n.showTime;x.sendLog("loginScanQrcodeStay",{duration:Math.round(r/1e3),enter_from:(0,b.vM)()||"",enter_method:"cold_start",isActive:"0"})}n.showTime=0}else n.isScan=!1})),(0,l.Z)(this,"isToday",(function(e,n){return!!e&&new Date(e).toDateString()===new Date(n).toDateString()})),(0,l.Z)(this,"getCookiesTime",(function(){var e=E.Q,t=e&&e.getItem({sKey:n.AB_LOGIN_GUIDE_STORAGE_KEY});return t?u()(t,10):0})),(0,l.Z)(this,"handler",(function(){n.isScan?n.closeTimer=f()(n.handler,1e3):n.destroy()})),(0,l.Z)(this,"renderDialog",(function(e,t){n.showTime=(new Date).getTime(),n.loginGuideShowed=!0,n.mountEle=document.createElement("div"),n.mountEle.classList.add("login-guide-container"),document.body.appendChild(n.mountEle),w.render(g.createElement(T.Z,(0,o.Z)({config:e,destroy:function(){n.destroy()},onCloseClick:function(){n.destroy()},onLoginClick:function(){n.destroy()}},t)),n.mountEle)}));E.Q;this.loginGuideShowed=!1,this.TODAY=(new Date).getTime(),this.duration=5,this.refreshNumber=2,this.closeTimer=null,this.nowRefreshNum=0,this.getQrcode=null}var n,t;return(0,a.Z)(e,[{key:"extraGetQr",value:function(){I="1",this.nowRefreshNum>=this.refreshNumber&&(this.getQrcode(),this.nowRefreshNum>=this.duration&&(clearTimeout(this.closeTimer),this.closeTimer=f()(this.handler,6e4)))}},{key:"show",value:(t=(0,c.Z)(h().mark((function e(){var n,t,o,i,a,l,s,u=this,d=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>0&&d[0]!==undefined?d[0]:"0",e.next=3,Z();case 3:return I=n,e.next=6,(0,k.b)();case 6:return t=e.sent,o=t.isLogin,e.next=10,v().all([y.h.getVar({name:"download_guide_stage2",defaultValue:0})]);case 10:if(i=e.sent,(0,r.Z)(i,1)[0],!this.loginGuideShowed&&!o&&"follow"!==(0,b.yW)()){e.next=15;break}return e.abrupt("return");case 15:return a=["\u767b\u5f55\u540e\uff0c\u7545\u4eab\u514d\u8d39\u9ad8\u6e05\u89c6\u9891","\u70b9\u8d5e\u8bc4\u8bba\u5b9e\u65f6\u4e92\u52a8"],e.next=18,(0,S.gE)({ScanCodeDescription:this.dynamicDesc(a),refreshNumber:this.refreshNumber,operationCallback:function(e,n){u.operationCallback(e,n)},enterMethod:"cold_start",videoGuideFunc:function(){return I},teaEvtParams:{},scanCodeNeedLogo:!0});case 18:l=e.sent,s=function(){var e=(0,c.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.destroy();case 2:(0,L.default)({headerText:"",success:function(){window.location.reload()},enterMethod:"cold_start",isActive:"0",next:(0,S.pL)(),teaEvtParams:{is_video_guide:I||"0"}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),this.renderDialog(l,{onLoginClick:s}),this.duration>0&&(this.closeTimer=f()(this.handler,60*this.duration*1e3));case 22:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"showPerDay",value:(n=(0,c.Z)(h().mark((function e(n){var t,r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==undefined){e.next=5;break}return e.next=3,(0,k.b)();case 3:t=e.sent,n=null==t?void 0:t.isLogin;case 5:if(!n){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,(0,N.iM)();case 9:if(!e.sent){e.next=12;break}return e.abrupt("return");case 12:return _.YY.insertTask(_.BE.LoginGuideTaskId,(function(){r.show()}),{delay:0,priority:_.T0.LoginGuidePriority,onFinish:function(){r.handler()}}),e.abrupt("return");case 14:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"destroy",value:function(){clearTimeout(this.closeTimer),this.mountEle&&(w.unmountComponentAtNode(this.mountEle),document.body.contains(this.mountEle)&&document.body.removeChild(this.mountEle)),this.loginGuideShowed=!1,_.YY.finishTask(_.BE.LoginGuideTaskId)}},{key:"hasShowedToday",value:function(){var e=this.getCookiesTime();return e&&this.isToday(e,this.TODAY)||!1}}]),e}(),P=(0,C.p)()?null:new A},78846:function(e,n,t){t.d(n,{R:function(){return u}});var r=t(65146),o=t(32781),i=t(53864),a=t(79705),l=t.n(a),c="zyqwKfMV",s="fbLMcq1Z",u=function(e){var n=e||{},t=n.text,a=n.className,u=n.textClassName,d=n.gap,f=n.duration,m=(0,i.useState)(!1),v=(0,o.Z)(m,2),p=v[0],h=v[1];return i.createElement("div",{className:l()(c,a)},i.createElement("div",{ref:function(e){var n;e&&e.clientWidth>(null===(n=e.parentElement)||void 0===n?void 0:n.clientWidth)&&h(!0)},className:l()(u,(0,r.Z)({},s,p)),style:{"--marquee-gap":"".concat(d||20,"px"),"--marquee-duration":"".concat(f||15,"s")},"data-text":t},t))}},12827:function(e,n,t){t.d(n,{r:function(){return i}});var r=t(32781),o=t(53864),i=function(e){var n=e.children,t=e.fallback,i=o.useState(!1),a=(0,r.Z)(i,2),l=a[0],c=a[1];return o.useEffect((function(){return c(!0)}),[]),l?n:null!=t?t:o.createElement(o.Fragment,null)}},74218:function(e,n,t){t.d(n,{L:function(){return j}});var r,o=t(32781),i=t(60260),a=t.n(i),l=t(26447),c=t.n(l),s=t(54343),u=t.n(s),d=t(94090),f=t.n(d),m=t(85792),v=t.n(m),p=t(53864),h=t(91287),g=t(61508),w=t(353),y=t(13971),_=t(72603),b=t(80806),E=t(97876),k=t(71116),C=t(85011),N="trEBje6A",T="Eiy88UXe",x="LGadVOk0",S="T5OurqYY",L="VWWoS2Ln",I="c3PuJQZR",Z="T4RUJnx2",A="cnjR7nlg",P=new(t(13795).hD)({consumeNoMovePopShow:{eventName:"consume_no_move_pop_show",params:{enter_from_merge:"",enter_from:"",ecom_group_type:"",content_id:"",author_id:"",reason_type:"",is_visible:1}},consumeNoMoveReaction:{eventName:"consume_no_move_reaction",params:{enter_from_merge:"",enter_from:"",ecom_group_type:"",content_id:"",author_id:"",reason_type:"",is_visible:1,reaction_duration:0}},consumeNoMovePause:{eventName:"consume_no_move_pause",params:{enter_from_merge:"",enter_from:"",ecom_group_type:"",content_id:"",author_id:"",reason_type:"",is_visible:1}}}),D=t(9909),M=t(27809),B=t(95138),O=t(7786),R=function(e){return e.Single="single_video_loop",e.Auto="video_auto_play",e.Long="long_video_play",e}(R||{}),V=function(){var e;return O.s.getPlayer(O.s.lastRegisterPlayerId)||(null===(e=window)||void 0===e?void 0:e.player)},F=function(e){var n,t=(0,y.$o)(w.LocalStorageKeys.PLAYER_NEXT_AUTOPLAY),r="",o=V();return e===(null==o||null===(n=o.config)||void 0===n?void 0:n.vid)?r=null!=o&&o.replayed?R.Single:R.Long:Number(t)&&(r=R.Auto),r},W="",U=1,H=function(e){var n,t=e.SlardarInstance,i=e.onClose,a=e.initPlayerId,l=e.countDownTime,s=(0,p.useState)(l),d=(0,o.Z)(s,2),m=d[0],v=d[1],w=(0,p.useState)(""),y=(0,o.Z)(w,2),b=y[0],E=y[1];return(0,p.useEffect)((function(){var e,n,t,o,s,d,f,m=V();W=F(a),U="hidden"===document.visibilityState?0:1,r=c()(),P.sendLog("consumeNoMovePopShow",{enter_from:(0,_.yW)(),enter_from_merge:(0,_.vM)(),ecom_group_type:"MP3"===(null==m||null===(e=m.config)||void 0===e?void 0:e.vtype)?"photo":"video",content_id:(null==m||null===(n=m.config)||void 0===n||null===(t=n.awemeInfo)||void 0===t?void 0:t.awemeId)||(null==m||null===(o=m.config)||void 0===o?void 0:o.vid),author_id:(null==m||null===(s=m.config)||void 0===s||null===(d=s.awemeInfo)||void 0===d?void 0:d.authorId)||(null==m||null===(f=m.config)||void 0===f?void 0:f.authorId),reason_type:W,is_visible:U}),v(l);var p=u()((function(){v((function(e){if(e>0)return e-1;var n,t,r,o,a,l,c,s,u;P.sendLog("consumeNoMovePause",{enter_from:(0,_.yW)(),enter_from_merge:(0,_.vM)(),ecom_group_type:"MP3"===(null==m||null===(n=m.config)||void 0===n?void 0:n.vtype)?"photo":"video",content_id:(null==m||null===(t=m.config)||void 0===t||null===(r=t.awemeInfo)||void 0===r?void 0:r.awemeId)||(null==m||null===(o=m.config)||void 0===o?void 0:o.vid),author_id:(null==m||null===(a=m.config)||void 0===a||null===(l=a.awemeInfo)||void 0===l?void 0:l.authorId)||(null==m||null===(c=m.config)||void 0===c?void 0:c.authorId),reason_type:W,is_visible:U});var d=V();null==d||null===(s=d.video)||void 0===s||s.pause();return null==d||null===(u=d.on)||void 0===u||u.call(d,g.PLAY,(function e(){var n;i(),null==d||null===(n=d.off)||void 0===n||n.call(d,g.PLAY,e)})),clearInterval(p),0}))}),1e3);return function(){return clearInterval(p)}}),[l]),(0,p.useEffect)((function(){if(m>=60){var e,n,t=Math.floor(m/60),r=m-60*t;E(f()(e=f()(n="".concat(t,":")).call(n,r>9?"":0)).call(e,r))}}),[m]),p.createElement(h.SV,{Slardar:t},p.createElement("div",{className:N,onClick:i},p.createElement("div",{className:T},"\u89c6\u9891\u6682\u505c\u63d0\u9192"),p.createElement(D.Z,{width:36,height:36,src:globalThis.xssNamespace.douyin_web.filterUrl(C.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),color:"#A9AAB7",className:x,onClick:i}),p.createElement("div",{className:L},p.createElement("div",{className:S},"\u7531\u4e8e\u4f60\u957f\u65f6\u95f4\u65e0\u4efb\u4f55\u64cd\u4f5c\uff0c\u53ef\u80fd\u5df2\u79bb\u5f00\u5c4f\u5e55\uff0c"),l>=60?p.createElement("div",{className:S},"".concat(Math.floor(l/60),"\u5206\u949f\u540e\u5c06\u6682\u505c\u64ad\u653e")):p.createElement("div",{className:S},"".concat(l,"\u79d2\u540e\u5c06\u6682\u505c\u64ad\u653e")),p.createElement("div",{className:I},m>=60?p.createElement("span",{className:Z},b):p.createElement("span",{className:Z},f()(n="0:".concat(m>=10?"":0)).call(n,m))),p.createElement(B.zx,{className:A},"\u4efb\u610f\u64cd\u4f5c\u53ef\u6062\u590d\u64ad\u653e"))))},j=function(e){var n=e.abTestData,t=e.SlardarInstance,o=(null==n?void 0:n.onDemandCost)||{},i=o.frontCycleTime,l=void 0===i?42e4:i,s=o.frontAutoTime,u=void 0===s?9e5:s,d=o.frontTime,f=void 0===d?18e5:d,m=o.backTime,h=void 0===m?3e5:m,g=o.peakStartTime,y=void 0===g?684e5:g,C=o.peakEndTime,N=void 0===C?828e5:C,T=o.intervalTime,x=void 0===T?18e5:T,S=o.countDownTime,L=void 0===S?12e4:S,I=(0,p.useRef)(!1),Z=(0,p.useRef)(null),A=(0,p.useRef)(null),D=(0,p.useRef)(null),B=(0,p.useRef)(null),O=(0,p.useRef)(null),j=(0,p.useRef)(!1),G=(new Date).setHours(0,0,0,0),K=(0,p.useRef)(null),q=(0,p.useRef)(null),Q=function(){var e;if(j.current){var n,t,o,i,a,l,s,u,d,f=V();P.sendLog("consumeNoMoveReaction",{enter_from:(0,_.yW)(),enter_from_merge:(0,_.vM)(),ecom_group_type:"MP3"===(null==f||null===(n=f.config)||void 0===n?void 0:n.vtype)?"photo":"video",content_id:(null==f||null===(t=f.config)||void 0===t||null===(o=t.awemeInfo)||void 0===o?void 0:o.awemeId)||(null==f||null===(i=f.config)||void 0===i?void 0:i.vid),author_id:(null==f||null===(a=f.config)||void 0===a||null===(l=a.awemeInfo)||void 0===l?void 0:l.authorId)||(null==f||null===(s=f.config)||void 0===s?void 0:s.authorId),reason_type:W,is_visible:U,reaction_duration:null!==(u=c()()-r)&&void 0!==u?u:0}),null==f||null===(d=f.video)||void 0===d||d.play(),(0,b.t_)(w.SessionStorageKeys.PausePop,c()())}I.current=!1,j.current=!1,M.U.destroy(),null===(e=q.current)||void 0===e||e.call(q)},z=function(){var e=(0,b.G)(w.SessionStorageKeys.PausePop);c()()-e<x||(E.emit(E.EVENT.hideModal),j.current=!0,I.current=!1,clearInterval(O.current),M.U.renderImmediate({children:p.createElement(H,{SlardarInstance:t,onClose:Q,initPlayerId:K.current,countDownTime:Math.floor(L/1e3)}),onMaskClick:Q}))},Y=function(){var e,n=V(),t=k.Le.getConfig(k.gI.IsMiniWin);if(n&&(null==n||!n.paused)&&((e=c()()-G)>=y&&e<=N)&&!t&&I.current){var r=(0,b.G)(w.SessionStorageKeys.PausePop),o=c()()-r;o<x?O.current=v()(z,x-o):z()}};(0,p.useEffect)((function(){var e=G+y-c()();if(e>0){var n=v()((function(){clearTimeout(n),I.current&&Y()}),e);return function(){clearTimeout(n)}}}),[y]);var J=function(){var e=V();l>0&&(A.current=v()((function(){var n;clearTimeout(A.current),F(null==e||null===(n=e.config)||void 0===n?void 0:n.vid)===R.Single&&(clearTimeout(Z.current),clearTimeout(D.current),I.current=!0,Y())}),l)),u>0&&(D.current=v()((function(){var n;clearTimeout(D.current),F(null==e||null===(n=e.config)||void 0===n?void 0:n.vid)===R.Auto&&(clearTimeout(A.current),clearTimeout(Z.current),I.current=!0,Y())}),u)),f>0&&(Z.current=v()((function(){clearTimeout(A.current),clearTimeout(Z.current),clearTimeout(D.current),I.current=!0,Y()}),f))};return q.current=J,(0,p.useEffect)((function(){var e=a()((function(){var e,n;clearTimeout(Z.current),clearTimeout(A.current),clearTimeout(D.current),clearInterval(O.current),I.current=!1,j.current?Q():(K.current=null===(e=V())||void 0===e||null===(n=e.config)||void 0===n?void 0:n.vid,J())}),1e3,{leading:!0,trailing:!0});if(f>0||u>0||l>0||h>0){var n,t;K.current=null===(n=V())||void 0===n||null===(t=n.config)||void 0===t?void 0:t.vid,J(),document.addEventListener("mousemove",e,!0),document.addEventListener("click",e,!0),document.addEventListener("keydown",e,!0),document.addEventListener("wheel",e,!0);var r=E.listen(E.EVENT.golbalEventPrevented,e);return function(){clearTimeout(Z.current),clearTimeout(A.current),clearTimeout(D.current),clearInterval(O.current),document.removeEventListener("mousemove",e),document.removeEventListener("click",e),document.removeEventListener("keydown",e),document.removeEventListener("wheel",e),r()}}}),[f,u,l,h]),(0,p.useEffect)((function(){var e=function(){clearTimeout(B.current),clearTimeout(Z.current),clearTimeout(A.current),clearTimeout(D.current),clearInterval(O.current),"hidden"===document.visibilityState?B.current=v()((function(){clearTimeout(B.current),I.current=!0,Y()}),h):J()};if(h>0)return document.addEventListener("visibilitychange",e),function(){clearTimeout(B.current),clearTimeout(Z.current),clearTimeout(D.current),clearTimeout(A.current),clearInterval(O.current),document.removeEventListener("visibilitychange",e)}}),[h]),null}},52904:function(e,n,t){t.d(n,{J:function(){return v}});var r=t(65146),o=t(32781),i=t(11227),a=t.n(i),l=t(53864),c=t(79705),s=t.n(c),u=t(83411),d={popover:"QUUswvJ3",content:"zWjTVNan",left:"sSoR5D5a",right:"KOMwqSsA",top:"F42n42IL",bottom:"DWl8khup"},f=t(76299),m={left:"right",right:"left",top:"bottom",bottom:"top"},v=(0,l.memo)((function(e){var n=e.position,t=void 0===n?"bottom":n,i=e.defaultVisible,c=void 0!==i&&i,v=e.visible,p=e.onVisibleChange,h=e.content,g=e.spacing,w=void 0===g?10:g,y=e.children,_=e.contentClassName,b=e.mouseEnterDelay,E=e.mouseLeaveDelay,k=e.mouseEnter,C=e.mouseLeave,N=e.className,T=e.mouseType,x=void 0===T?"enter":T,S=(0,u.C)({defaultValue:c,value:v}),L=(0,o.Z)(S,2),I=L[0],Z=L[1],A=(0,l.useRef)(null),P=(0,f.U)({enterDelay:b,leaveDelay:E,onMouseEnter:function(){Z(!0),null==k||k(),I||null==p||p(!0)},onMouseLeave:function(){Z(!1),null==C||C(),I&&(null==p||p(!1))}}),D=P.onMouseEnter,M=P.onMouseLeave,B=(0,l.useState)(0),O=(0,o.Z)(B,2),R=O[0],V=O[1];return(0,l.useEffect)((function(){var e,n;I&&A.current&&(a()(e=["top","bottom"]).call(e,t)?V(A.current.offsetHeight):a()(n=["left","right"]).call(n,t)&&V(A.current.offsetWidth))}),[I,t]),l.createElement("div",{className:s()(d.popover,N),ref:A,onMouseEnter:function(){"enter"===x&&D()},onMouseLeave:function(){"enter"===x&&M()},onMouseOver:function(){"over"===x&&D()},onMouseOut:function(){"over"===x&&M()}},y,I&&l.createElement("div",{className:s()(d.content,d[t],_),style:(0,r.Z)({},m[t],R+w)},h))}))},27809:function(e,n,t){t.d(n,{T:function(){return p},U:function(){return h}});var r=t(30906),o=t(19049),i=t(95508),a=t(65902),l=t(67161),c=t(53864),s=t(79705),u=t.n(s),d=t(40032),f=t(25902),m={outerContainer:"mPWahmAI",noAnimation:"MCFm5GqJ"},v=["children","className","style"];function p(e){var n=e.children,t=e.className,r=e.style,o=(0,l.Z)(e,v),i=o.onMaskClick,s=(0,c.useRef)(null),d=(0,c.useCallback)((function(e){e.target===s.current&&(null==i||i())}),[i]);return(0,c.useEffect)((function(){if(""===document.body.style.overflow)return document.body.style.overflow="hidden",function(){document.body.style.overflow=""}}),[]),c.createElement("div",(0,a.Z)({className:u()(m.outerContainer,t),style:r,ref:s,onMouseDown:d},o),n)}var h=new(function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,[{key:"isActive",value:function(){return Boolean(this.root)}},{key:"destroy",value:function(){this.reactDomRoot&&this.reactDomRoot.unmount(),this.root&&(this.root.remove(),this.root=null),this.eventListenerFunc&&(document.removeEventListener("fullscreenchange",this.eventListenerFunc),this.eventListenerFunc=null)}},{key:"render",value:function(e){var n=this;this.root=document.createElement("div");var t=document.body;this.reactDomRoot=(0,d.createRoot)(this.root),(0,f.r)()&&(t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement),t.appendChild(this.root),this.reactDomRoot.render(c.createElement(p,e)),this.eventListenerFunc||(this.eventListenerFunc=function(){n.destroy(),n.render((0,r.Z)((0,r.Z)({},e),{},{className:u()(null==e?void 0:e.className,m.noAnimation)}))},document.addEventListener("fullscreenchange",this.eventListenerFunc))}},{key:"renderImmediate",value:function(e){this.destroy(),this.render(e)}}]),e}())},30556:function(e,n,t){t.r(n),t.d(n,{SearchBar:function(){return Mt},default:function(){return Bt}});var r=t(65146),o=t(32781),i=t(34346),a=t.n(i),l=t(53864),c=t(79705),s=t.n(c),u=t(51605),d=t(97354),f=t(56920),m=t(97876),v=t(76653),p=t(25361),h=t(50062),g=t(42716),w=t(94090),y=t.n(w),_={container:"TQyYs3PX",activity:"amIDhWuZ",vsTransMode:"VcpXaq3g",textContainer:"lQpwjd4D",transparent:"gPhh1v3h",divider:"KvfxdKpG",item:"TIH59QVh",underInboxWordText:"TAn3w_zT",guessListItemIcon:"tOtGysdX",guessListItemIconHot:"df7kV4w4",guessListItemIconLive:"tSZuNI0A"},b=function(e){var n=e.word;return l.createElement("div",{className:_.underInboxWordText},n)},E=function(e){var n,t=e.wordList,o=void 0===t?[]:t,i=e.onUnderInboxWordClick,c=e.customProps;return l.createElement("div",{className:s()(_.container,(n={},(0,r.Z)(n,_.activity,(null==c?void 0:c.isActivity)||(null==c?void 0:c.transparent)),(0,r.Z)(n,null==_?void 0:_[null==c?void 0:c.activityName],null==c?void 0:c.activityName),(0,r.Z)(n,_.transparent,null==c?void 0:c.transparent),n))},a()(o).call(o,(function(e,n){var t,o,a,c="2"===e.words_type,u="10"===e.words_type;return l.createElement("div",{className:_.item,key:y()(t="bottom_".concat(null!==(o=e.id)&&void 0!==o?o:"","_")).call(t,n)},0!==n&&l.createElement("div",{className:_.divider}),l.createElement("div",{className:_.textContainer,"data-text":e.word,"data-index":n,"data-id":e.id,onClick:i},l.createElement(b,{word:e.word}),(c||u)&&l.createElement("div",{className:s()(_.guessListItemIcon,(a={},(0,r.Z)(a,_.guessListItemIconHot,c),(0,r.Z)(a,_.guessListItemIconLive,u),a))})))})))},k=30069,C="\u641c\u7d22\u4f60\u611f\u5174\u8da3\u7684\u5185\u5bb9",N=["main_page","discover","follow","friend","live","hot","vs","recommend","personal_homepage","asiangame"],T=[{searchText:"\u70b9\u51fb\u641c\u7d22\uff0c\u770b\u592e\u89c6\u6625\u665a",searchKeyword:"\u592e\u89c6\u6625\u665a",startTime:16436124e5,endTime:1643652e6},{searchText:"\u9650\u65f6\u514d\u8d39\u770b\u6211\u548c\u6211\u7684\u7236\u8f88",searchKeyword:"\u6211\u548c\u6211\u7684\u7236\u8f88",startTime:16436772e5,endTime:16441632e5}],x={enterSearch:{eventName:"enter_search",params:{enter_from:"",enter_from_second:"",click_method:""}},searchAnti:{eventName:"search_anti_rpt",params:{anti_id:"",anti_query_input_time:0,anti_search_press_duration:0,anti_search_viewport:""}},sugShow:{eventName:"search_sug",params:{impr_id:"",search_keyword:"",search_type:"",sug_keyword:"",action_type:"show",sug_type:""}},sugClick:{eventName:"search_sug",params:{impr_id:"",search_keyword:"",search_type:"",sug_keyword:"",action_type:"click",sug_type:""}},trendingShow:{eventName:"trending_show",params:{log_pb:{},impr_id:"",search_id:"",words_num:0,words_source:"sug",raw_query:"",rank:-1,search_position:""}},trendingWordsShow:{eventName:"trending_words_show",params:{impr_id:"",search_id:"",enter_from:"",words_source:"sug",words_position:0,words_content:"",words_num:0,raw_query:"",rank:-1,search_position:"",query_id:"",group_id:"",sug_type:""}},trendingWordsClick:{eventName:"trending_words_click",params:{impr_id:"",words_source:"sug",words_position:0,enter_from:"",words_content:"",raw_query:"",words_num:0,rank:-1,search_position:"",query_id:"",group_id:"",sug_type:""}},historyClick:{eventName:"trending_words_click",params:{enter_from:"",words_source:"search_history",words_num:"0",words_position:"0",words_content:""}},hotWordClick:{eventName:"trending_words_click",params:{impr_id:"",enter_from:"",words_source:"hot_search_board",words_num:"0",words_position:"0",words_content:"",group_id:""}},historyShow:{eventName:"trending_words_show",params:{enter_from:"",words_source:"search_history",words_num:"0",words_position:0,words_content:""}},hotWordShow:{eventName:"trending_words_show",params:{impr_id:"",enter_from:"",words_source:"hot_search_board",words_num:"0",words_position:0,words_content:"",group_id:""}},guessWordShow:{eventName:"trending_words_show",params:{impr_id:"",enter_from:"",words_source:"recom_search",words_num:"0",words_position:0,words_content:"",group_id:""}},guessWordClick:{eventName:"trending_words_click",params:{impr_id:"",enter_from:"",words_source:"recom_search",words_num:"0",words_position:0,words_content:"",group_id:""}},clearButtonClick:{eventName:"clear_search_keyword",params:{enter_from:""}},searchSugLoadPerformance:{eventName:"search_sug_load_performance",params:{impr_id:"",search_type:"",sug_keyword:"",words_num:0,sug_fetch_duration:0,sug_render_duration:0,enter_from:""}},relatedTrendingShow:{eventName:"trending_show",params:{words_num:"",words_source:"related_search",raw_query:"",rank:0,search_position:"general"}},relatedWordsShow:{eventName:"trending_words_show",params:{words_source:"related_search",words_position:0,words_content:"",raw_query:"",rank:0,search_position:"general",query_id:"",group_id:"",sug_type:""}},relatedWordsClick:{eventName:"trending_words_click",params:{words_source:"related_search",words_position:0,words_content:"",raw_query:"",rank:0,search_position:"general",query_id:"",group_id:"",sug_type:""}},recomSearchChangeButtonShow:{eventName:"recom_search_change_button_show",params:{}},recomSearchChangeButtonClick:{eventName:"recom_search_change_button_click",params:{}},historyFoldButtonShow:{eventName:"history_fold_button_show",params:{}},historyFoldButtonClick:{eventName:"history_fold_button_click",params:{}}},S=t(30673),L=t(30906),I=t(64408),Z=t(19478),A=t.n(Z),P=t(1821),D=t.n(P),M=t(11227),B=t.n(M),O=t(76473),R=t.n(O),V=t(42249),F=t.n(V),W=t(19672),U=t.n(W),H=t(56442),j=t.n(H),G=t(21155),K=t.n(G),q=t(85792),Q=t.n(q),z=t(5594),Y=t.n(z),J=t(7793),X=t(34452),$=t(21518),ee=t(13795),ne=t(6067),te=t(65317),re=t(56493),oe=t(96716),ie=t(25902),ae=t(71116),le=t(72603),ce=t(8372),se=t(28712),ue=t(12318),de=t(73231),fe=t(8e3),me=t.n(fe),ve=t(5375),pe=t(22912),he=t(36177),ge=t(29529),we=t(29809),ye=t.n(we),_e=t(50750),be=t.n(_e),Ee=t(26447),ke=t.n(Ee),Ce=t(52249),Ne=t.n(Ce),Te=t(67330),xe=t(46457),Se=t(79784),Le=t(54867),Ie=t(5277),Ze=t(16016);function Ae(e){e.preventDefault()}function Pe(e,n,t,r){var o,i=/firefox/i.test(navigator.userAgent),a="param-input";if(i)if(r){var l,c=function(){var e;K()(e=R()(t.getElementsByClassName(a))).call(e,(function(e){e.parentNode.removeChild(e)}))};c(),K()(l=be()(n)).call(l,(function(e){var r=document.createElement("input");r.type="hidden",r.name=e,r.value=n[e],r.className=a,t.insertBefore(r,t.children[0])})),t.action=(0,Ze.Sp)(encodeURIComponent(e)),Q()((function(){c()}),0)}else{var s=window.open("about:blank");s&&(s.location.href=globalThis.xssNamespace.douyin_web.filterUrl((0,Ze.Sp)(encodeURIComponent(e),(0,Te.stringify)(n)),null,{logType:"js.href/src",mode:"black",reportOnly:!1}))}else{var u=(0,Ze.Sp)(encodeURIComponent(e),(0,Te.stringify)(n));(0,Ie.G6)()||(0,Ie.i7)()&&ye()(null===(o=(0,Ie.Lq)().browser_version.split("."))||void 0===o?void 0:o[0],10)<70?window.open(u):window.open(u,"_blank","noopener")}}function De(e){var n=me()(e).call(e,(function(e){return e.scene===he.gQ.FeedBottomRec})),t=Ne()(n).call(n,(function(e,n){var t;return y()(e).call(e,a()(t=n.words).call(t,(function(e){return e.wordId})))}),[]);return R()(new(F())(t)).join(",")}var Me=function(e){return"object"!==(0,ge.Z)(e)?{}:(null!=e&&e.from_group_id||delete e.from_group_id,e)},Be=function(e){var n,t=e.scene,r=e.modalEnterFrom,o=e.suggestWords;return t===Le.lT.Recommend||t===Le.lT.Follow||t===Le.lT.Modal&&(r===Se.ModalEnterFromVal.Search||r===Se.ModalEnterFromVal.UserPost||r===Se.ModalEnterFromVal.UserLike)||(null===(n=me()(o).call(o,(function(e){return e.scene===he.gQ.SearchBarInboxRec})))||void 0===n?void 0:n.length)>0},Oe=function(e,n,t){return!(!n.isModalVideo&&t.scene===Le.lT.Modal)&&((!n.isModalVideo||t.scene===Le.lT.Modal)&&(!(!n.isInnerUpper&&t.scene===Le.lT.InnerUpper)&&((!n.isInnerUpper||t.scene===Le.lT.InnerUpper)&&(!(!n.isFullScreenShow&&t.fullScreenScene===Le.lT.FullScreen)&&((!n.isFullScreenShow||t.fullScreenScene===Le.lT.FullScreen||t.scene===Le.lT.Detail)&&(!t.awemeId||e.current.curVideoAwemeId!==t.awemeId))))))},Re=pe.COMMON_SEARCH_PARAMS,Ve=function(e){var n,t={logId:null==e?void 0:e.log_id,data:{inboxWords:{words:[]},underInboxWords:{words:[]}}},r=null!==(n=null==e?void 0:e.data)&&void 0!==n?n:[];if(U()(r)&&r.length>0&&K()(r).call(r,(function(e){var n=t.data,r=n.inboxWords,o=n.underInboxWords;null!=e&&e.type&&U()(null==e?void 0:e.words)&&0!==e.words.length&&("inbox"===e.type?r.words=e.words:"under_inbox"===e.type&&(o.words=e.words))})),t.data.inboxWords.words.length>0&&t.data.underInboxWords.words.length>0){var o,i=function(e){var n=e.inboxWords,t=e.underInboxWords,r=e.priority,o=void 0===r?"inbox":r,i={dedupedInboxWords:n,dedupedUnderInboxWords:t};return null!=n&&n.word&&0!==t.length?("inbox"===o?i.dedupedUnderInboxWords=me()(t).call(t,(function(e){return(null==e?void 0:e.word)!==n.word})):me()(t).call(t,(function(e){return(null==e?void 0:e.word)===n.word})).length>0&&(i.dedupedInboxWords=null),i):i}({inboxWords:null===(o=t.data.inboxWords.words)||void 0===o?void 0:o[0],underInboxWords:t.data.underInboxWords.words}),a=i.dedupedUnderInboxWords;t.data.underInboxWords.words=a}if(t.data.inboxWords.words.length>0){var l,c,s=t.data.inboxWords.words[0];if(null!=s&&null!==(l=s.params)&&void 0!==l&&null!==(c=l.extra_info)&&void 0!==c&&c.tag_icon){var u=JSON.parse(s.params.extra_info.tag_icon);u.icon_url&&(s.icon_info=u)}}return t},Fe=function(){var e=(0,I.Z)(Y().mark((function e(n){var t;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ve.U2)("/aweme/v1/web/api/suggest_words/",(0,L.Z)((0,L.Z)({},Re),Me(n)));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),We=function(){var e=(0,I.Z)(Y().mark((function e(n){var t,r,o,i,a,l=arguments;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>1&&l[1]!==undefined?l[1]:{},r=(0,le.yW)(),o=(t||{}).isModalVideo,i=void 0!==o&&o,"recommend"!==r||i||(n.pd="pc_recommend"),"inbox",e.next=7,Fe((0,L.Z)({business_id:k,rsp_source:"inbox"},Me(n)));case 7:return a=e.sent,e.abrupt("return",Ve(a));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ue=function(){var e=(0,I.Z)(Y().mark((function e(){var n,t,r=arguments;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&r[0]!==undefined?r[0]:{},e.next=3,Fe((0,L.Z)({business_id:30068},Me(n)));case 3:return t=e.sent,e.abrupt("return",Ve(t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=(0,I.Z)(Y().mark((function e(){var n,t,r,o=arguments;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&o[0]!==undefined?o[0]:{},t=Me(n),"under_inbox",t.penetrate_params=(0,L.Z)((0,L.Z)({},t.penetrate_params),{},{recommend_guess_scene:"pc_under_inbox"}),e.next=6,Fe((0,L.Z)({business_id:k,rsp_source:"under_inbox"},t));case 6:return r=e.sent,e.abrupt("return",Ve(r));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=(0,I.Z)(Y().mark((function e(n){var t,r,o,i,a,l,c,s,u=arguments;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>1&&u[1]!==undefined?u[1]:{},r=(0,le.yW)(),i=(o=t||{}).isModalVideo,a=void 0!==i&&i,l=o.shouldUseUnderInbox,void 0===l||l,"recommend"!==r||a||(n.pd="pc_recommend"),(c=Me(n)).penetrate_params=(0,L.Z)((0,L.Z)({},c.penetrate_params),{},{recommend_guess_scene:"pc_under_inbox"}),"inbox,under_inbox",e.next=9,Fe((0,L.Z)({business_id:k,rsp_source:"inbox,under_inbox"},c));case 9:return s=e.sent,e.abrupt("return",Ve(s));case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ge=function(){var e=(0,I.Z)(Y().mark((function e(){var n,t,r=arguments;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&r[0]!==undefined?r[0]:{},e.next=3,(0,ve.U2)("/aweme/v1/web/hot/search/list/",(0,L.Z)((0,L.Z)({},Re),{},{detail_list:1,source:6},Me(n)));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=(0,I.Z)(Y().mark((function e(){var n,t,r,o=arguments;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&o[0]!==undefined?o[0]:{},t=o.length>1&&o[1]!==undefined?o[1]:{current:null},e.next=4,(0,ve.U2)("/aweme/v1/web/search/sug/",(0,L.Z)((0,L.Z)({},Re),Me(n)),{},undefined,undefined,undefined,t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(e){var n,t,r=null===(n=me()(e).call(e,(function(e){return e.scene===he.gQ.SearchBarInboxRec}))[0])||void 0===n||null===(t=n.words)||void 0===t?void 0:t[0];return{word:null==r?void 0:r.word,id:null==r?void 0:r.wordId}},Qe=t(67161),ze=t(60260),Ye=t.n(ze),Je=["sugStartTime","sugFetchTime"],Xe=t(56596),$e=t(55633),en=function(){var e,n,t,r,i,a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},c=arguments.length>1?arguments[1]:undefined,s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},u=arguments.length>3?arguments[3]:undefined,d=arguments.length>4?arguments[4]:undefined,f=arguments.length>5?arguments[5]:undefined,v=arguments.length>6?arguments[6]:undefined,p=arguments.length>7?arguments[7]:undefined,h=(0,l.useState)([]),g=(0,o.Z)(h,2),w=g[0],y=g[1],_=(0,l.useMemo)((function(){return(0,ee.y$)(x)}),[]),b=(0,l.useRef)(""),E=(0,l.useRef)([]),k=(0,l.useRef)([]),C=(0,l.useMemo)((function(){return["recommend","follow","friend"]}),[]),N=(0,l.useState)(!1),T=(0,o.Z)(N,2),S=T[0],L=T[1],Z=(0,l.useCallback)((function(){var e;if(null!=a&&null!==(e=a.underInboxWord)&&void 0!==e&&e.enable){var n=(0,le.yW)();if(!("recommend"===n||"follow"===n&&null!=c&&c.isLogin||"friend"===n&&null!=c&&c.isLogin))return!0}return!1}),[C,null==a||null===(e=a.underInboxWord)||void 0===e?void 0:e.enable,null==c?void 0:c.isLogin]),P=(0,l.useCallback)((function(e){k.current=e}),[]),D=(0,l.useCallback)((function(e){var n;if(p()){var t=(e||{}).disableLog,r=void 0!==t&&t,o=j()(n=k.current).call(n,0),i=f.current;if(i){var l=i.clientWidth,c=(0,$e.y)(o,l,"bottom").displayableNum,s=Math.min(c,999),u=j()(o).call(o,0,s);y(u),L(!0),function(e){var n,t;if(!(0,se.p)()){var r="header-variant",o=document.documentElement;null!=o&&null!==(n=o.hasAttribute)&&void 0!==n&&n.call(o,r)||(null==o||null===(t=o.setAttribute)||void 0===t||t.call(o,r,e),m.emit(m.EVENT.headerHeightChange,{header_type:e}))}}(a.underInboxWord.header_type),E.current=u,!r&&K()(u).call(u,(function(e,n){_("guessWordShow",{enter_from:d(),impr_id:b.current,words_content:e.word,words_num:String(u.length),words_position:Number(n),words_source:"recom_under_box",group_id:e.id})}))}}}),[d,f,_,p,null==a||null===(n=a.underInboxWord)||void 0===n?void 0:n.header_type]),M=(0,l.useCallback)((function(){L(!1),function(){var e;if(!(0,se.p)()){var n,t="header-variant",r=document.documentElement;null!=r&&null!==(e=r.hasAttribute)&&void 0!==e&&e.call(r,t)&&(null==r||null===(n=r.removeAttribute)||void 0===n||n.call(r,t),m.emit(m.EVENT.headerHeightChange,{header_type:Se.HeaderType.DEFAULT}))}}()}),[]),B=(0,l.useCallback)((0,I.Z)(Y().mark((function e(){var n,t,r,o,i,a,l;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,se.p)()){e.next=2;break}return e.abrupt("return");case 2:return r=me()(n=[u.current.feedBarIds,null===(t=u.current.guessText)||void 0===t?void 0:t.id]).call(n,Boolean).join(","),e.next=5,He({from_group_id:u.current.curVideoGroupId,penetrate_params:{pre_query_ids:r}});case 5:o=e.sent,i=o.data.underInboxWords,a=o.logId,l=i.words,U()(l)&&l.length>0&&(b.current=a,P(l),D());case 9:case"end":return e.stop()}}),e)}))),[u,P,D]),O=(0,l.useCallback)((function(e){var n,t=e.currentTarget.dataset,r=t.text,o=t.index;v(r,"recom_under_box","",!1,!0),_("guessWordClick",{enter_from:d(),impr_id:b.current,words_content:r,words_num:String(E.current.length),words_position:Number(o),words_source:"recom_under_box",group_id:null===(n=E.current[o])||void 0===n?void 0:n.id})}),[v,d,_]);(0,l.useEffect)((function(){null!=s&&s.pathname&&p()&&(u.current.underInboxRefreshCount=999,Z()&&B())}),[null==s?void 0:s.pathname]),(0,l.useEffect)((function(){var e;if(null!=a&&null!==(e=a.underInboxWord)&&void 0!==e&&e.enable){var n=function(){var e=(0,I.Z)(Y().mark((function e(){var n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.U2({namespace:X.m_.SEARCH,key:$.TccKey.SearchUnderInboxConfig,defaultValue:$.TCC_DEFAULT_VALUE_MAP.get($.TccKey.SearchUnderInboxConfig)});case 2:(n=e.sent).update_frequency&&(u.current.underInboxRefreshFrequency=n.update_frequency);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}}),[u,null==a||null===(t=a.underInboxWord)||void 0===t?void 0:t.enable]);var R=(0,l.useCallback)(A()((function(){var e;0!==k.current.length&&(null!=a&&null!==(e=a.underInboxWord)&&void 0!==e&&e.disable_in_small_window?(window.innerHeight<616&&M(),window.innerHeight>=616&&D({disableLog:!0})):D({disableLog:!0}))}),500),[M,D,null==a||null===(r=a.underInboxWord)||void 0===r?void 0:r.disable_in_small_window]);return(0,l.useEffect)((function(){var e;if(null!=a&&null!==(e=a.underInboxWord)&&void 0!==e&&e.enable)return window.addEventListener("resize",R),function(){window.removeEventListener("resize",R)}}),[R,null==a||null===(i=a.underInboxWord)||void 0===i?void 0:i.enable]),{isUnderBoxWordShow:S,underInboxWordList:w,onUnderInboxWordClick:O,fetchUnderInboxIndependently:B,updateUnderInboxWord:P,showUnderInboxWord:D,underInboxWordLogIdRef:b}};function nn(){var e,n,t,i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},c=arguments.length>1?arguments[1]:undefined,s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},u=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},d=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{},v=(0,l.useMemo)((function(){return(0,ee.y$)(x)}),[]),p=(0,ne.wu)(),h=p.searchParams,g=p.changeKeyword,w=(0,te.u)(null==i||null===(e=i.info)||void 0===e?void 0:e.secUid),_=w.history,b=w.clearAll,E=w.deleteWord,k=w.unshiftWord,Z=(0,l.useMemo)((function(){return function(){var e="",n="",t=ke()();return K()(T).call(T,(function(r){var o=r.startTime,i=r.endTime,a=r.searchText,l=r.searchKeyword;t>=o&&t<=i&&(e=a,n=l)})),{hotSearchText:e,hotSearchKeyword:n}}()}),[]),P=Z.hotSearchText,M=Z.hotSearchKeyword,O=(0,l.useState)(""),V=(0,o.Z)(O,2),W=V[0],H=V[1],G=(0,l.useState)(""),q=(0,o.Z)(G,2),z=q[0],X=q[1],$=(0,l.useState)("idle"),fe=(0,o.Z)($,2),me=fe[0],ve=fe[1],pe=(0,l.useState)(!1),he=(0,o.Z)(pe,2),ge=he[0],we=he[1],ye=(0,l.useState)(!1),_e=(0,o.Z)(ye,2),be=_e[0],Ee=_e[1],Ce=(0,l.useState)(C),Ne=(0,o.Z)(Ce,2),Te=Ne[0],Se=Ne[1],Le=(0,l.useState)(!1),Ie=(0,o.Z)(Le,2),Ze=Ie[0],Me=Ie[1],Re=(0,l.useState)(null),Ve=(0,o.Z)(Re,2),Fe=Ve[0],He=Ve[1],ze=(0,l.useState)([]),$e=(0,o.Z)(ze,2),nn=$e[0],tn=$e[1],rn=(0,l.useState)(!1),on=(0,o.Z)(rn,2),an=on[0],ln=on[1],cn=(0,l.useState)(!1),sn=(0,o.Z)(cn,2),un=sn[0],dn=sn[1],fn=(0,l.useState)(null),mn=(0,o.Z)(fn,2),vn=mn[0],pn=mn[1],hn=(0,l.useMemo)((function(){return ge||be}),[ge,be]),gn=(0,l.useRef)(),wn=(0,l.useRef)(),yn=(0,l.useRef)(),_n=(0,l.useRef)(""),bn=(0,l.useRef)(null),En=(0,ie.r)(),kn=(null===(n=ae.Le.getConfig(ae.gI.IsPageFullScreen))||void 0===n?void 0:n.type)||En,Cn=(0,l.useRef)({focusTime:0,pressDownTime:0,response:undefined,suggestionState:me,showText:z,inputText:W,inputFocus:ge,hotSearchText:P,hotSearchKeyword:M,guessText:Fe,guessTextId:"",sug:{sugList:[],query:""},tab:h.tab,keyword:h.keyword,history:_,isPinyin:!1,isFirefox:!1,hotListLogId:"",searchBarWordLogId:"",guessListLogId:"",curVideoAwemeId:"",curVideoGroupId:"",feedBarIds:"",hasGuessTextShown:!1,guessList:[],suggestWordsPreloadList:{},hasHotListFetched:!1,underInboxMoreCursor:0,guessListDedup:[],underInboxRefreshCount:999,underInboxRefreshFrequency:10});Cn.current=(0,L.Z)((0,L.Z)({},Cn.current),{},{tab:h.tab,keyword:h.keyword,suggestionState:me,showText:z,inputText:W,inputFocus:ge,guessText:Fe,history:_});var Nn,Tn=(0,l.useCallback)((function(){return u.isModalVideo?"modal_entrance":u.isInnerUpper?"video_detail":(0,le.yW)()}),[u.isModalVideo,u.isInnerUpper]),xn=(0,l.useCallback)((function(e,n,t){var r=arguments.length>3&&arguments[3]!==undefined&&arguments[3],o=!(arguments.length>4&&arguments[4]!==undefined)||arguments[4];if(null!=e&&D()(e).call(e)){var i=(0,re.Z)(),a=performance.now(),l="normal_search"===n?r?-2:a-Cn.current.pressDownTime:-1;if(v("searchAnti",{anti_id:i,anti_query_input_time:a-Cn.current.focusTime,anti_search_press_duration:l,anti_search_viewport:t}),u.isSearchPage&&Cn.current.keyword&&(gn.current.blur(),we(!1),Ee(!1)),o&&k(e),u.isSearchPage&&Cn.current.keyword&&!u.isModalVideo&&!u.isInnerUpper)g(e,n,i);else{var s=Tn()||"search_result",d=(0,L.Z)({source:n,aid:i,enter_from:s},(0,ce.U)());Cn.current.curVideoGroupId&&(d.gid=Cn.current.curVideoGroupId),Cn.current.curVideoAwemeId&&(d.aweme_id=Cn.current.curVideoAwemeId),_n.current&&(d.focus_method=_n.current),c&&c(),Pe(e,d,wn.current,r)}}}),[c]),Sn=function(e,n,t,r,i,c,s){var u=(0,l.useState)({sugList:[],query:""}),d=(0,o.Z)(u,2),f=d[0],m=d[1],v=(0,l.useMemo)((function(){return(0,ee.y$)(x)}),[]),p=(0,l.useRef)(null),h=(0,l.useRef)({}),g=(0,l.useCallback)((function(e){var t,r,o,i,a,l=Number(e.currentTarget.dataset.index),s=n.current.sug.sugList[l];v("sugClick",{impr_id:n.current.response.log_pb.impr_id,search_keyword:n.current.inputText,search_type:n.current.tab,sug_keyword:s.content,sug_type:null!=s&&s.isRichSug?"user_enrich_sug":""}),v("trendingWordsClick",{impr_id:n.current.response.log_pb.impr_id,words_position:l,words_content:s.content,raw_query:n.current.inputText,rank:-1,search_position:n.current.tab,words_num:null===(t=n.current.response.sug_list)||void 0===t?void 0:t.length,enter_from:c(),query_id:null===(r=n.current.response.words_query_record)||void 0===r?void 0:r.query_id,group_id:null===(o=n.current.response.sug_list)||void 0===o||null===(i=o[l])||void 0===i||null===(a=i.word_record)||void 0===a?void 0:a.group_id,sug_type:null!=s&&s.isRichSug?"user_enrich_sug":""}),window.open("https://www.douyin.com/user/".concat(s.sec_uid),"_blank","noopener")}),[]),w=(0,l.useCallback)((function(e){var t,r,o,i,a,l=Number(e.currentTarget.dataset.index),u=n.current.sug.sugList[l];s(u.content,"search_sug","-1,-1"),v("sugClick",{impr_id:n.current.response.log_pb.impr_id,search_keyword:n.current.inputText,search_type:n.current.tab,sug_keyword:u.content}),v("trendingWordsClick",{impr_id:n.current.response.log_pb.impr_id,words_position:l,words_content:u.content,raw_query:n.current.inputText,words_num:null===(t=n.current.response.sug_list)||void 0===t?void 0:t.length,enter_from:c(),rank:-1,search_position:n.current.tab,query_id:null===(r=n.current.response.words_query_record)||void 0===r?void 0:r.query_id,group_id:null===(o=n.current.response.sug_list)||void 0===o||null===(i=o[l])||void 0===i||null===(a=i.word_record)||void 0===a?void 0:a.group_id,sug_type:null!=u&&u.isRichSug?"user_enrich_sug":""})}),[s]),y=(0,l.useMemo)((function(){return!t||null!==r||n.current.sug.sugList.length&&n.current.sug.query===e?function(){return undefined}:Ye()((0,I.Z)(Y().mark((function t(){var r,o,l,s,u,d,f,g,w,y,_,b,E,k,C,N,T,x,S,L;return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null==e||!D()(e).call(e)){t.next=23;break}return null===(r=p.current)||void 0===r||r.call(p),E=performance.now(),t.next=6,Ke({keyword:e,source:"aweme_video_web",from_group_id:i},p);case 6:if(!(k=t.sent).isCancel){t.next=10;break}return t.abrupt("return");case 10:C=n.current.tab,n.current.response=k,N=k.log_pb.impr_id,T=null===(o=k.extra)||void 0===o?void 0:o.logId,x=null!==(l=null===(s=k.words_query_record)||void 0===s?void 0:s.query_id)&&void 0!==l?l:"",S=null!==(u=null===(d=k.sug_list)||void 0===d?void 0:d.length)&&void 0!==u?u:0,L=performance.now(),h.current[e]={sugStartTime:E,sugFetchTime:L,impr_id:N,words_num:S,search_type:C,sug_keyword:e},v("sugShow",{impr_id:N,search_keyword:e,search_type:C,sug_keyword:k.sug_list?null===(f=k.sug_list[0])||void 0===f?void 0:f.content:"",sug_type:"richsug"===(null===(g=k.sug_list)||void 0===g||null===(w=g[0])||void 0===w||null===(y=w.extra_info)||void 0===y?void 0:y.special_type)?"user_enrich_sug":""}),v("trendingShow",{log_pb:k.log_pb,impr_id:N,search_id:T,words_num:S,raw_query:e,search_position:C}),m({sugList:a()(_=null!==(b=k.sug_list)&&void 0!==b?b:[]).call(_,(function(n,t,r){return v("trendingWordsShow",{impr_id:N,search_id:T,enter_from:c(),words_position:t,words_content:n.content,words_num:r.length,raw_query:e,rank:-1,search_position:C,query_id:x,group_id:n.word_record.group_id,sug_type:"richsug"===n.extra_info.special_type?"user_enrich_sug":""}),{content:n.content,isRichSug:"richsug"===n.extra_info.special_type,nickname:n.extra_info.rich_sug_nickname,relation:n.extra_info.rich_sug_relation_type,sec_uid:n.extra_info.rich_sug_sec_uid,short_id:n.extra_info.rich_sug_short_id,avatar:n.extra_info.rich_sug_avatar_uri,userRichType:n.extra_info.rich_sug_user_type,richSugType:n.extra_info.rich_sug_type}})),query:e}),t.next=24;break;case 23:m({sugList:[],query:e});case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(0),m({sugList:[],query:e});case 29:case"end":return t.stop()}}),t,null,[[0,26]])}))),300)}),[t,e,r,v]);return(0,l.useEffect)((function(){y()}),[y]),(0,l.useEffect)((function(){if(f.query){var e=performance.now(),n=h.current[f.query]||{},t=n.sugStartTime,r=n.sugFetchTime,o=(0,Qe.Z)(n,Je);v("searchSugLoadPerformance",(0,L.Z)((0,L.Z)({},o),{},{sug_fetch_duration:r-t,sug_render_duration:e-r,enter_from:c()})),delete h.current[f.query]}}),[f]),(0,l.useEffect)((function(){n.current.sug=f}),[f]),{sug:f,onRichSugClick:g,onSugClick:w}}(W,Cn,hn,vn,Cn.current.curVideoGroupId,Tn,xn),Ln=Sn.sug,In=Sn.onRichSugClick,Zn=Sn.onSugClick,An=function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},t=arguments.length>2?arguments[2]:undefined,r=arguments.length>3?arguments[3]:undefined,i=(0,l.useState)([]),c=(0,o.Z)(i,2),s=c[0],u=c[1],d=(0,l.useMemo)((function(){return(0,ee.y$)(x)}),[]),m=(0,l.useRef)({hotListLogId:"",hasHotListFetched:!1}),v=n.hotListOpt===f.vW.On,p=(0,oe.x)((function(){K()(s).call(s,(function(e,n){var t;d("hotWordShow",{impr_id:m.current.hotListLogId,enter_from:r(),words_num:String((null==s?void 0:s.length)||0),words_position:n,words_content:e.word,group_id:(null==s||null===(t=s[n])||void 0===t?void 0:t.group_id)||""})}))})),h=(0,l.useCallback)((0,I.Z)(Y().mark((function e(){var n,t,r,o,i,l,c,s,d,f,p;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.current.hasHotListFetched){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,m.current.hasHotListFetched=!0,e.next=6,Ge({});case 6:n=e.sent,t=n.statusCode,r=n.data,o=void 0===r?{}:r,i=n.log_pb,l=o.word_list,s=14===(c=void 0===l?[]:l)[0].word_type||2===c[0].word_type?1:0,d=(v?10:5)+s,!t&&c.length>0&&(p=a()(f=j()(c).call(c,0,d)).call(f,(function(e){return{word:e.word,word_type:e.word_type,position:e.position,group_id:e.group_id||"",label:e.label||0,hot_value:e.hot_value}})),m.current.hotListLogId=null==i?void 0:i.impr_id,u(p)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),m.current.hasHotListFetched=!1;case 20:case"end":return e.stop()}}),e,null,[[2,17]])}))),[v]),g=(0,l.useCallback)((function(e){var n,o=e.currentTarget.dataset,i=o.text,a=o.index;i&&(t(i,"hot_search_board","",!1,!1),d("hotWordClick",{impr_id:m.current.hotListLogId,enter_from:r(),words_num:String((null==s?void 0:s.length)||0),words_position:a,words_content:i,group_id:(null==s||null===(n=s[a])||void 0===n?void 0:n.group_id)||""}))}),[t]);return(0,l.useEffect)((function(){Xe.H(h)}),[]),(0,l.useEffect)((function(){e&&h()}),[e,h]),{hotList:s,hotListRef:p,onHotListWordClick:g}}(hn,s,xn,Tn),Pn=An.hotList,Dn=An.hotListRef,Mn=An.onHotListWordClick,Bn=(0,l.useCallback)((function(){var e;if((0,se.p)())return!1;if(!(0,ue.T)())return!1;if(null!==(e=s.underInboxWord)&&void 0!==e&&e.disable_in_small_window&&window.innerHeight<616)return!1;if(u.isModalVideo)return!1;if(u.isInnerUpper)return!1;if(u.isFullScreenShow)return!1;if(u.isSearchPage)return!1;if(!(0,le.yW)())return!1;var n=(0,le.yW)();return!!B()(N).call(N,n)}),[u.isModalVideo,u.isInnerUpper,u.isFullScreenShow,u.isSearchPage,null==s||null===(t=s.underInboxWord)||void 0===t?void 0:t.disable_in_small_window]),On=function(e,n,t,r,i,a,c){var s=(0,l.useState)(null),u=(0,o.Z)(s,2),d=u[0],f=u[1],m=(0,l.useState)(""),v=(0,o.Z)(m,2),p=v[0],h=v[1];return(0,xe.Z)("ArrowUp",(function(t){t.stopPropagation(),n||f((function(n){return 0===e?null:"sug"===r&&0===n?(c&&c(p),null):"sug"===r&&null===n?(h(a),e-1):null===n?0:0===n?e-1:Math.max(0,n-1)}))}),{target:t}),(0,xe.Z)("ArrowDown",(function(t){t.stopPropagation(),n||f((function(n){return 0===e?null:("sug"===r&&null===n&&h(a),"sug"===r&&n===e-1?(c&&c(p),null):null===n||n===e-1?0:Math.min(e-1,n+1))}))}),{target:t}),{keyboardNavIndex:d,restKeyboardNavIndex:(0,l.useCallback)((function(){f(null)}),[])}}({idle:0,middle_page:nn.length+Pn.length,sug:Ln.sugList.length}[me],Cn.current.isPinyin,gn.current,me,0,z,X),Rn=On.keyboardNavIndex,Vn=On.restKeyboardNavIndex,Fn=en(s,i,u,Cn,Tn,yn,xn,Bn),Wn=Fn.isUnderBoxWordShow,Un=Fn.underInboxWordList,Hn=Fn.onUnderInboxWordClick,jn=Fn.updateUnderInboxWord,Gn=Fn.showUnderInboxWord,Kn=Fn.underInboxWordLogIdRef,qn=Fn.fetchUnderInboxIndependently,Qn=(Nn=(0,l.useRef)(!1),{stopAutoplay:(0,l.useCallback)((function(){Nn.current||(m.emit(m.EVENT.videoStopPlayNext),Nn.current=!0)}),[]),continueAutoplay:(0,l.useCallback)((function(){Nn.current&&(m.emit(m.EVENT.videoRemoveStopPlayNext),Nn.current=!1)}),[])}),zn=Qn.stopAutoplay,Yn=Qn.continueAutoplay;(0,l.useEffect)((function(){pn(Rn)}),[Rn]);var Jn=(0,l.useRef)(!1);(0,l.useEffect)((function(){u.isModalVideo||u.isInnerUpper||("init"===h.changeReason||"keyword"===h.changeReason||"resetUrlTransParams"===h.changeReason&&!Jn.current)&&(Jn.current=!0,we(!1),Ee(!1),H(h.keyword),X(h.keyword),Vn())}),[u.isModalVideo,u.isInnerUpper,h,Vn]),(0,l.useEffect)((function(){if(null!==Rn){if("middle_page"===Cn.current.suggestionState){var e,n=y()(e=[]).call(e,(0,S.Z)(nn),(0,S.Z)(Pn));X(n[Rn].word)}"sug"===Cn.current.suggestionState&&X(Cn.current.sug.sugList[Rn].content)}}),[s,Rn,nn,Pn]),(0,l.useEffect)((function(){Cn.current.isFirefox=/firefox/i.test(navigator.userAgent)}),[]);var Xn=(0,l.useCallback)((function(){Cn.current.guessText&&(Se(""),Me(!0),Cn.current.hasGuessTextShown=!0)}),[]),$n=(0,l.useCallback)((function(){var e;Ze&&(Se((null===(e=Cn.current.guessText)||void 0===e?void 0:e.word)||C),Me(!1))}),[Ze]),et=(0,l.useCallback)(function(){var e=(0,I.Z)(Y().mark((function e(n){var t,r,o,i,a;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.params,r=n.fetchType,Cn.current.suggestWordsPreloadList[Cn.current.curVideoGroupId]?o=Cn.current.suggestWordsPreloadList[Cn.current.curVideoGroupId]:(i=We,"inboxAndUnderInbox"===r&&(Cn.current.underInboxRefreshCount>=Cn.current.underInboxRefreshFrequency?(i=je,Cn.current.underInboxRefreshCount=1):Cn.current.underInboxRefreshCount++),o=i((0,L.Z)({from_group_id:Cn.current.curVideoGroupId},t),{isModalVideo:null==u?void 0:u.isModalVideo}),Cn.current.suggestWordsPreloadList[Cn.current.curVideoGroupId]=o),e.next=4,o;case 4:return a=e.sent,Cn.current.searchBarWordLogId=a.logId,Kn.current=a.logId,e.abrupt("return",a.data);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[u,Kn]),nt=(0,l.useCallback)(A()((function(e){var n=e.fetchType,t=e.params,o=e.groupId;if(!Cn.current.suggestWordsPreloadList[o]){var i=We;"inboxAndUnderInbox"===n&&(Cn.current.underInboxRefreshCount>=Cn.current.underInboxRefreshFrequency?(i=je,Cn.current.underInboxRefreshCount=1):Cn.current.underInboxRefreshCount++),Cn.current.suggestWordsPreloadList=(0,L.Z)((0,L.Z)({},Cn.current.suggestWordsPreloadList),{},(0,r.Z)({},o,i((0,L.Z)({from_group_id:o},t),{isModalVideo:null==u?void 0:u.isModalVideo})))}}),500,{leading:!1}),[u]),tt=(0,l.useCallback)(function(){var e=(0,I.Z)(Y().mark((function e(n){var t,r,o,i,l,c,s;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={count:8,query:null===(t=Cn.current.guessText)||void 0===t?void 0:t.word},l=[],c={},Cn.current.feedBarIds&&(l=y()(l).call(l,Cn.current.feedBarIds)),n&&(c.is_manual_change=n,l=y()(l).call(l,Cn.current.guessListDedup)),l.length>0&&(c.pre_query_ids=R()(new(F())(l)).join(",")),i.penetrate_params=c,e.next=9,Ue((0,L.Z)({from_group_id:Cn.current.curVideoGroupId},i));case 9:return s=e.sent,Cn.current.guessListLogId=s.logId,Cn.current.guessListDedup=y()(r=Cn.current.guessListDedup).call(r,a()(o=s.data.inboxWords.words).call(o,(function(e){return e.id}))),e.abrupt("return",s.data.inboxWords.words);case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]),rt=(0,l.useCallback)((function(e){null!=e&&e.word?(Cn.current.guessText=e,Cn.current.guessTextId=null==e?void 0:e.id,He(e)):(Cn.current.guessText=null,Cn.current.guessTextId="",He(null))}),[]),ot=(0,l.useCallback)(function(){var e=(0,I.Z)(Y().mark((function e(n){var t;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(n);case 2:t=e.sent,U()(t)&&t.length>0&&(tn(j()(t).call(t,0,8)),Cn.current.guessList=j()(t).call(t,0,8));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[tt]),it=(0,l.useCallback)(function(){var e=(0,I.Z)(Y().mark((function e(n){var t,r,o,i,a,l,c,d,f,m,p,h,g,w,y,_;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Oe(Cn,u,n)){e.next=2;break}return e.abrupt("return");case 2:if(r=n.suggestWords,o=void 0===r?[]:r,i=Bn()&&(null===(t=s.underInboxWord)||void 0===t?void 0:t.enable),!Be(n)){e.next=18;break}if(null==n||!n.preload){e.next=7;break}return e.abrupt("return");case 7:if(Cn.current.curVideoGroupId=n.groupId||"",Cn.current.curVideoAwemeId=n.awemeId||"",a=De(o),Cn.current.feedBarIds=a,l=qe(o),rt(l),!Cn.current.inputFocus){e.next=15;break}return e.abrupt("return");case 15:return Cn.current.guessText?(H(""),X(""),Xn(),v("guessWordShow",{impr_id:Cn.current.searchBarWordLogId,enter_from:Tn(),words_num:"1",words_position:0,words_source:"search_bar_inner",words_content:null===(c=Cn.current.guessText)||void 0===c?void 0:c.word,group_id:Cn.current.guessTextId})):$n(),i&&(Cn.current.underInboxRefreshCount>=Cn.current.underInboxRefreshFrequency?(Cn.current.underInboxRefreshCount=1,qn()):Cn.current.underInboxRefreshCount++),e.abrupt("return");case 18:if(null==n||!n.preload){e.next=23;break}d=De(o),nt({params:{penetrate_params:{pre_query_ids:d}},groupId:n.groupId,fetchType:i?"inboxAndUnderInbox":"inbox"}),e.next=46;break;case 23:return Cn.current.curVideoGroupId=n.groupId||"",Cn.current.curVideoAwemeId=n.awemeId||"",f=De(o),Cn.current.feedBarIds=f,e.prev=27,m="inbox",i&&(m="inboxAndUnderInbox"),e.next=32,et({params:{penetrate_params:{pre_query_ids:f}},fetchType:m});case 32:if(p=e.sent,h=p.inboxWords,g=p.underInboxWords,w=h.words[0],y=g.words,rt(w),!Cn.current.inputFocus){e.next=39;break}return e.abrupt("return");case 39:Cn.current.guessText?(H(""),X(""),Xn(),v("guessWordShow",{impr_id:Cn.current.searchBarWordLogId,enter_from:Tn(),words_num:"1",words_position:0,words_source:"search_bar_inner",words_content:null===(_=Cn.current.guessText)||void 0===_?void 0:_.word,group_id:Cn.current.guessTextId})):$n(),U()(y)&&y.length>0&&(jn(y),Gn()),e.next=46;break;case 43:e.prev=43,e.t0=e.catch(27),$n();case 46:case"end":return e.stop()}}),e,null,[[27,43]])})));return function(n){return e.apply(this,arguments)}}(),[s,u.isModalVideo,u.isInnerUpper,rt,Xn,$n,nt,et,jn,Gn,Tn,v,Bn,qn]);(0,l.useEffect)((function(){if(u.isHeaderSearchBar){var e=ae.Le.getConfig(ae.gI.FirstFeedVideoSearchInfo);e&&it(e)}}),[]),(0,l.useEffect)((function(){var e=m.listen(m.EVENT.postCurVideoInfo,(function(e){it(e)}));return function(){null==e||e()}}),[it]),(0,l.useEffect)((function(){var e;if(null!=d&&null!==(e=d.awemeInfo)&&void 0!==e&&e.awemeId){var n=d.awemeInfo,t=d.scene,r=d.modalEnterFrom,o=d.fullScreenScene;it({awemeId:null==n?void 0:n.awemeId,groupId:null==n?void 0:n.groupId,scene:t,suggestWords:null==n?void 0:n.suggestWords,modalEnterFrom:r,fullScreenScene:o})}}),[]);var at=(0,l.useCallback)((function(e){e.preventDefault(),Cn.current.pressDownTime=performance.now()}),[]),lt=(0,l.useCallback)((function(){H(""),X(""),Vn(),v("clearButtonClick",{enter_from:Tn()})}),[Vn,v]),ct=(0,l.useCallback)((function(e){var n,t,r;if(!z&&Cn.current.guessText)return xn(null===(t=Cn.current.guessText)||void 0===t?void 0:t.word,"search_bar_inner","",!1,!0),void v("guessWordClick",{enter_from:Tn(),impr_id:Cn.current.searchBarWordLogId,words_content:null===(r=Cn.current.guessText)||void 0===r?void 0:r.word,words_num:"1",words_position:0,words_source:"search_bar_inner",group_id:Cn.current.guessTextId});xn(Cn.current.showText||Cn.current.hotSearchKeyword,"normal_search",y()(n="".concat(null==e?void 0:e.pageX,",")).call(n,null==e?void 0:e.pageY))}),[xn,Te,z]),st=(0,l.useCallback)((function(e){var n=(0,de.CS)(e);if("ArrowUp"!==n&&"ArrowDown"!==n||e.preventDefault(),"Enter"===n&&!Cn.current.isPinyin){var t,r=Cn.current.showText;if(r&&Cn.current.isFirefox||e.preventDefault(),!z&&Cn.current.guessText)return void xn(null===(t=Cn.current.guessText)||void 0===t?void 0:t.word,"search_bar_inner","",!0,!0);if(null===Rn)xn(r,"normal_search","-2,-2",!0);else if("sug"===Cn.current.suggestionState){var o,i,a,l;xn(r,"search_sug","-1,-1"),v("sugClick",{impr_id:Cn.current.response.log_pb.impr_id,search_keyword:r,search_type:Cn.current.tab,sug_keyword:r}),v("trendingWordsClick",{impr_id:Cn.current.response.log_pb.impr_id,words_position:Rn,words_content:r,raw_query:r,rank:Rn+1,search_position:Cn.current.tab,query_id:null===(o=Cn.current.response.words_query_record)||void 0===o?void 0:o.query_id,group_id:null===(i=Cn.current.response.sug_list)||void 0===i||null===(a=i[Rn])||void 0===a||null===(l=a.word_record)||void 0===l?void 0:l.group_id})}else if("middle_page"===Cn.current.suggestionState&&(nn.length>0||Pn.length>0)){var c,s;if(Rn<nn.length)xn(r,"recom_search","-2,-2",!0,!0),v("guessWordClick",{impr_id:Cn.current.guessListLogId,enter_from:Tn(),words_num:String(nn.length),words_position:Rn,words_content:r,group_id:(null===(c=nn[Rn])||void 0===c?void 0:c.id)||""});else xn(r,"hot_search_board","-2,-2",!0,!1),v("hotWordClick",{impr_id:Cn.current.hotListLogId,enter_from:Tn(),words_num:String(Pn.length),words_position:String(Rn),words_content:r,group_id:(null===(s=Pn[Rn-nn.length])||void 0===s?void 0:s.group_id)||""})}}}),[xn,Rn,nn,Pn,Te,v,z]),ut=(0,l.useCallback)((function(e){var n=e.currentTarget.dataset,t=n.text,r=n.index;xn(t,"search_history","-1,-1"),v("historyClick",{enter_from:Tn(),words_num:String(_&&_.length>0&&Math.min(_.length,10)||0),words_position:r,words_content:t})}),[xn]),dt=(0,l.useCallback)((function(e){var n=e.currentTarget.dataset.text;xn(n,"search_cny_word","-1,-1"),v("trendingWordsClick",{words_content:M})}),[xn]);(0,l.useEffect)((function(){hn&&!W&&(Boolean(null==_?void 0:_.length)||Boolean(null==Pn?void 0:Pn.length)||Boolean(null==nn?void 0:nn.length))?ve("middle_page"):hn&&Boolean(W)&&Boolean(Ln.sugList.length)?(ve("sug"),dn(!1)):(ve("idle"),dn(!1))}),[hn,_,Ln,W,Pn,nn]),(0,l.useEffect)((function(){hn&&ot()}),[hn,ot]);var ft=(0,l.useCallback)((function(){b()}),[]),mt=(0,l.useCallback)((function(e){ge||we(!0);var n=e.target.value;H(n),X(n),Vn()}),[]),vt=(0,l.useCallback)((function(e){e.stopPropagation();var n=e.currentTarget.dataset.text;E(n)}),[]),pt=(0,l.useCallback)((function(e){e.stopPropagation();var n=e.currentTarget.dataset.text;H(n),X(n),Vn()}),[]),ht=(0,l.useCallback)((function(){v("enterSearch",{enter_from:Tn(),enter_from_second:Tn(),click_method:_n.current}),Cn.current.focusTime=performance.now(),Cn.current.inputFocus=!0,$n(),we(!0),zn(),m.emit(m.EVENT.searchBarFocus)}),[v,$n,Tn,zn]),gt=(0,l.useCallback)((function(){Cn.current.inputFocus=!1,Cn.current.guessText?Xn():$n(),_n.current="",we(!1),Ee(!1),Vn(),Yn(),m.emit(m.EVENT.searchBarBlur)}),[Xn,$n,Vn,Yn]),wt=(0,l.useCallback)((function(){Cn.current.isPinyin=!0}),[]),yt=(0,l.useCallback)((function(){Cn.current.isPinyin=!1}),[]),_t=(0,l.useCallback)((function(e){var n,t=e.currentTarget.dataset,r=t.text,o=t.index;r&&(xn(r,"recom_search","",!1,!0),v("guessWordClick",{impr_id:Cn.current.guessListLogId,enter_from:Tn(),words_num:String(nn.length||0),words_position:Number(o),words_content:r,group_id:(null===(n=nn[Number(o)])||void 0===n?void 0:n.id)||""}))}),[xn,v,nn]),bt=(0,oe.x)((function(){v("trendingWordsShow",{words_content:M})})),Et=(0,oe.x)((function(){K()(_).call(_,(function(e,n){v("historyShow",{enter_from:Tn(),words_num:String(_&&_.length>0&&Math.min(_.length,10)||0),words_position:n,words_content:e})}))})),kt=(0,oe.x)((function(){K()(nn).call(nn,(function(e,n){v("guessWordShow",{impr_id:Cn.current.guessListLogId,enter_from:Tn(),words_num:String(nn.length||0),words_position:n,words_content:e.word,group_id:e.id})}))}));(0,l.useEffect)((function(){var e=m.listen(m.EVENT.focusSearch,(function(e){var n,t,r=null===(n=ae.Le.getConfig(ae.gI.IsInModalVideo))||void 0===n?void 0:n.isInModal,o=null===(t=ae.Le.getConfig(ae.gI.IsInLookMiniModal))||void 0===t?void 0:t.isInMiniModal;if(!(!u.isModalVideo&&r&&!o||u.isModalVideo&&!r)&&!(!u.isInnerUpper&&o||u.isInnerUpper&&!o)&&(u.isFullScreenShow||!kn||o||r)&&(!u.isFullScreenShow||kn)){var i=null==e?void 0:e.isFocus;Cn.current.guessText?(_n.current="hot_key",i&&ct(),_n.current=""):Q()((function(){i?(_n.current="hot_key",gn.current.focus()):gn.current.blur()}),50)}}));return function(){null==e||e()}}),[ct,ht,gt,u.isModalVideo,u.isFullScreenShow,u.isInnerUpper]),(0,J.Z)((function(){rt(null),$n()}),[null==u?void 0:u.pathname]);var Ct=(0,l.useCallback)((function(){Cn.current.inputFocus||(bn.current=Q()((function(){Ee(!0),zn(),m.emit(m.EVENT.searchBarFocus)}),500))}),[zn]),Nt=(0,l.useCallback)((function(){clearTimeout(bn.current),Ee(!1),Cn.current.inputFocus||(Yn(),m.emit(m.EVENT.searchBarBlur))}),[Yn]);return{history:_,showText:z,hotSearchText:P,hotSearchKeyword:M,hotList:Pn,suggestionState:me,onFocus:ht,inputFocus:ge,onBlur:gt,onInputChange:mt,onSearchClick:ct,onInputKeyDown:st,clearHistory:ft,onHistoryClick:ut,onHotWordClick:dt,onSugClick:Zn,onRichSugClick:In,onDeleteHistoryItem:vt,sug:Ln,setInputText:H,onSetSug:pt,preventDefault:Ae,onMouseDown:at,searchBarRef:yn,inputRef:gn,formRef:wn,hotWordRef:bt,historyRef:Et,hotListRef:Dn,guessListRef:kt,onCompositionStart:wt,onCompositionEnd:yt,keyboardNavIndex:Rn,onHotListWordClick:Mn,onGuessListWordClick:_t,onInputClearButtonClick:lt,placeHolder:Te,isGuessTextShow:Ze,guessText:Fe,guessList:nn,isUnderBoxWordShow:Wn,underInboxWordList:Un,onUnderInboxWordClick:Hn,isButtonHover:an,setButtonHover:ln,updateGuessList:ot,onMouseEnter:Ct,onMouseLeave:Nt,isMiddlePageReady:un,setMiddlePageReady:dn}}var tn={hotView:"ECfNAnuN",searchBarContainer:"AFTy15pW",searchBar:"lPytbapz",transparentBg:"Mk6eKrgQ",borderInput:"XClSex3D",activity:"QkLBoTmY",asianGame:"KmjNBiAb",searchBarGuessText:"eV6rINZw",vsTransMode:"DcMccBwQ",transparent:"nihbySfV",inputClearButton:"rb7mtFl_",iconClose:"gMkV3yx8",input:"igFQqPKs",button:"rB8dMXOc",buttonIcon:"FhOy97Hs",modalSearchBar:"NBmn3s18",modalSearchBarIdle:"mnN5bEWt",feedFullScreen:"AQ_Babhf",feedFullscreenIdle:"iFKealWD",searchLightActivity:"yl6cpjZP",searchIcon:"T9sNU2wZ",searchBarInputForm:"zyznJl4l",inputLanternIcon:"yLUSLRPP",searchBarHotIcon:"HtoEiInk",searchBarGuessTextWrapper:"rQK5s_5G",isActivity:"FZyRCCRa",activityIcon:"u8BJEVLC",searchBarInsideWord:"QEnWATW0",blur:"qYYUxsS2",hotInput:"zwPQYqPg",inputWithClearButton:"LfNI_GvG",borderInputSpec:"yKzPCGu9",suggestionContainer:"bMNdUnXg",suggestion:"qdBdEa5M",grayscale:"UIy2gpGc",newStyle:"qphKCYoV",hotLine:"SYsqE8WM",sugLanternIcon:"LlJUvkns",hotText:"c7ds0Iod",sugArrowRightIcon:"BLrmVLv5",titleView:"Bn9halsY",titleViewText:"RJ3jOaxm",hotBoardTitleViewText:"Ict4f2gg",refreshButtonView:"Y8iOISUm",refreshButtonText:"fBqC2_4f",suggestionItem:"mAxh4Myr",keyboardSelected:"QWsKM5ZL",suggestionItemContext:"zc76CbGr",guessListDouble:"qVKaKr1k",guessListItemWrapper:"lZVDVDUI",itemLeft:"WaH4na5z",itemRight:"ROQco5Dk",guessListItem:"c83o2HHV",guessListItemBg:"GlBGbioI",oldSelectedStyle:"Uom64Olj",guessListItemText:"r4GRlgqE",guessListItemTextHighlight:"aZU1HeCW",guessListItemIcon:"dgH2Pao8",guessListItemIconHot:"jHBrjtT1",guessListItemIconLive:"B2CLKUW6",underInboxWord:"N7WC10t2",show:"R0e9n3hS"},rn=t(92887),on=t(58778),an=t(72830),ln="G1wNaptA",cn="Hwa4NdpH",sn="nCWuTGbt",un="Gzyl1zZ2",dn="oODOqrsZ",fn="xVVBuUHj",mn="yt2kqmdu",vn="eo3_cSOv",pn="Y2_zgfIU",hn="ZFs_o_xH",gn="ivS2xlnF",wn=t(9909),yn=(0,l.forwardRef)((function(e,n){var t,i,c=e.history,u=void 0===c?[]:c,d=e.onHistoryItemClick,f=e.customProps,m=e.onDeleteHistoryItem,v=e.limit,p=e.clearHistory,h=e.onReady,g=e.setExpandHistory,w=(0,l.useState)(v),y=(0,o.Z)(w,2),_=y[0],b=y[1],E=(0,l.useState)(!1),k=(0,o.Z)(E,2),C=k[0],N=k[1],T=(i=(0,l.useMemo)((function(){return(0,ee.y$)(x)}),[]),{buttonRef:(0,oe.x)((function(){return i("historyFoldButtonShow")})),onButtonClick:(0,l.useCallback)((function(){return i("historyFoldButtonClick")}),[i])}),S=T.buttonRef,L=T.onButtonClick,I=(0,l.useCallback)((function(){L(),N(!1),b(v),g(!0)}),[N,b,L,v]),Z=(0,l.useCallback)((function(){for(var e,t,r=R()((null==n||null===(e=n.current)||void 0===e?void 0:e.children)||[]),o=(null==n||null===(t=n.current)||void 0===t?void 0:t.offsetWidth)||0,i=56,a=0;a<r.length;a++){var l=r[a];if(null==l||!l.offsetTop)break;if(0!==a){if(l.offsetTop===i+64){var c=o-r[a-1].offsetWidth-r[a-1].offsetLeft-20-8;b(c>=30?a:a-1),N(!0),g(!1);break}}else i=l.offsetTop}h&&h()}),[n,h]),A=(0,l.useRef)(Z);return A.current=Z,(0,l.useEffect)((function(){return A.current(),window.addEventListener("resize",(function(){return A.current()})),window.removeEventListener("resize",(function(){return A.current()}))}),[]),0===u.length?null:l.createElement(l.Fragment,null,l.createElement("div",{className:ln},l.createElement("span",{className:cn},"\u5386\u53f2\u8bb0\u5f55"),l.createElement("div",{className:sn,onClick:p},l.createElement(wn.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(an.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:14,height:14,viewBox:"0 0 14 14"}),l.createElement("span",{className:un},"\u6e05\u9664\u8bb0\u5f55"))),l.createElement("div",{className:dn,ref:n,"data-e2e":"search-history-container"},a()(t=j()(u).call(u,0,_)).call(t,(function(e,n){return l.createElement("div",{"data-text":e,"data-index":n,onClick:d,className:s()(fn,(0,r.Z)({},mn,null==f?void 0:f.isModalVideo)),key:e},l.createElement("span",{className:hn},e),l.createElement("div",{className:vn,"data-text":e,onClick:m},l.createElement(wn.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(rn.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:pn,width:14,height:14,viewBox:"0 0 12 12"})))})),C&&_<=u.length-1&&l.createElement("div",{ref:S,onClick:I,className:gn,style:{width:22}},l.createElement(wn.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(on.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:12,height:12,viewBox:"0 0 12 12"}))))})),_n=t(4561),bn=t(97568),En=t(67136),kn=t(52296),Cn=t(64215),Nn=t(45985),Tn=t(71181),xn=t(24875),Sn=t(79781),Ln=t(51259),In=t(78365),Zn=t(16251),An=t(15511),Pn=t(81898),Dn=t(1526),Mn=t(74032),Bn=t(3644),On=t(81052),Rn=t(44022),Vn=t(82530),Fn=t(90652),Wn=t(71376),Un=t(30978),Hn="vqfdjzM5",jn="fiIy5nbp",Gn="c0mueFh4",Kn="inw2djyn",qn="z9qGEsHa",Qn="g7fmIfaR",zn="WEUFhcyk",Yn="Q0NzjPYb",Jn="LQYkBceO",Xn="AENTRjKc",$n="oMNI99D9",et="GOGqegyQ",nt="HgSE2rtp",tt="g25K7Uij",rt="gmZdiwrz",ot="SJAvwtZo",it="AgKsld0h",at="c_EtEJTc",lt="hOZ8IXeg",ct=function(e){var n,t=e.guessList,o=e.keyboardNavIndex,i=e.hotList,c=e.hotListRef,u=e.abTestData,d=e.onHotListWordClick,f=[_n.Z,bn.Z,En.Z,kn.Z,Cn.Z,Nn.Z,Tn.Z],m={1:{width:18,image:Dn,text:"\u65b0"},2:{width:18,image:Pn,text:"\u5546"},3:{width:18,image:An,text:"\u70ed"},4:{width:18,image:Mn,text:"\u7206"},5:{width:30,image:Wn,text:"\u9996\u53d1"},6:{width:18,image:On,text:"\u76f4\u64ad"},7:{width:30,image:Rn,text:"\u540c\u57ce"},8:{width:30,image:Fn,text:"\u72ec\u5bb6"},9:{width:30,image:Vn,text:"\u6311\u6218"},10:{width:42,image:Bn,text:"\u5f53\u4e8b\u4eba"}},v=[Sn.Z,Ln.Z,In.Z,Zn.Z],p=14===i[0].word_type;return l.createElement(l.Fragment,null,l.createElement("div",{className:Hn,style:{height:24,marginTop:4}},0===u.hotListOpt?l.createElement("span",{className:s()(jn,Gn)},"\u6296\u97f3\u70ed\u70b9"):l.createElement(wn.Z,{width:54,height:13,src:globalThis.xssNamespace.douyin_web.filterUrl(xn.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),viewBox:"0 0 54 13"})),l.createElement("div",{ref:c,"data-e2e":"search-hot-container"},a()(n=j()(i).call(i,0,p?11:10)).call(n,(function(e,n){var i,a,c,h=p?n:n+1,g=t.length+n;return l.createElement(l.Fragment,null,0===u.hotListOpt?l.createElement("div",{className:s()(Kn,Qn,(i={},(0,r.Z)(i,zn,h>=4),(0,r.Z)(i,qn,g===o),i)),key:e.word,"data-text":e.word,"data-index":n,onClick:d},l.createElement(wn.Z,{className:s()(Jn,(0,r.Z)({},Xn,h>=4)),src:globalThis.xssNamespace.douyin_web.filterUrl(f[h],null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:h<4?20:23,height:h<4?20:24,viewBox:h<4?"0 0 20 20":"0 0 23 24"}),l.createElement("span",{className:Yn},e.word)):l.createElement("div",{className:s()($n,(a={},(0,r.Z)(a,rt,0===h),(0,r.Z)(a,ot,h>0&&h<4),(0,r.Z)(a,qn,g===o),a)),key:e.word,"data-text":e.word,"data-index":n,onClick:d},l.createElement("div",{className:et},h<4?l.createElement(wn.Z,{className:s()(Jn,(0,r.Z)({},Xn,h>=4)),src:globalThis.xssNamespace.douyin_web.filterUrl(v[h],null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:16,height:16,viewBox:"0 0 16 16"}):l.createElement("div",{className:it},h),l.createElement("span",{className:at},e.word),Boolean(e.label)&&(null===(c=m[e.label])||void 0===c?void 0:c.image)&&l.createElement("img",{src:globalThis.xssNamespace.douyin_web.filterUrl(m[e.label].image,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:lt,style:{width:m[e.label].width,height:18}})),e.hot_value?l.createElement("div",{className:s()(nt,(0,r.Z)({},tt,h<4))},(0,Un.qe)(e.hot_value)):null))}))))},st=t(34357),ut=t(84722),dt=t(14577),ft=t(91854),mt="D3dskfZA",vt="p7DR1ZPa",pt="ETG3Tpk2",ht="Sxbxo_Ay",gt="VSBzfJH8",wt="nOdu3m_h",yt="p8hGVGd2",_t="_8VbKULk",bt="fEqRX_Fw",Et="K6J8C0I3",kt="U0Pto7FV",Ct="aBc62Phd",Nt="k8CmQqrn",Tt="BRVE4qrf",xt="z2s_TyUv",St="gdjBVZkf",Lt="P7ncj7UC",It="K2YlGSHG",Zt="nEuCrfGR",At=function(e){var n,t=e.words,r=e.query,o=e.matchClass,i=a()(n=t.content===r?[""]:t.content.split(r)).call(n,(function(e,n){return""===e?l.createElement("span",{key:n,className:o},r):e}));return l.createElement("span",{className:bt},i)},Pt=function(e){var n,t,r=e.words,o=e.query,i=e.matchClass,c=a()(n=r.nickname===o?[""]:r.nickname.split(o)).call(n,(function(e,n){return""===e?l.createElement("span",{key:n,className:i},o):e})),s=a()(t=r.short_id===o?[""]:r.short_id.split(o)).call(t,(function(e,n){return""===e?l.createElement("span",{key:n,className:i},o):e}));return l.createElement("div",{className:Ct},l.createElement("div",{className:Nt},l.createElement("img",{className:Tt,src:globalThis.xssNamespace.douyin_web.filterUrl(r.avatar,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:"\u7528\u6237\u5934\u50cf"}),r.userRichType&&"-1"!==r.userRichType&&l.createElement("img",{className:xt,src:globalThis.xssNamespace.douyin_web.filterUrl("1"===r.userRichType?dt:ft,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:"\u7528\u6237\u6807\u7b7e"})),l.createElement("div",{className:St},l.createElement("div",{className:Lt},l.createElement("span",{className:bt},c),r.relation&&l.createElement("div",{className:It},r.relation)),l.createElement("div",{className:Zt},"\u6296\u97f3\u53f7\uff1a",s)))},Dt=function(e){var n,t,o=e.sug,i=e.grayscale,c=e.keyboardNavIndex,u=e.abTestData,d=e.preventDefault,m=e.onRichSugClick,v=e.onSugClick,p=e.onSetSug,h=u.sugShowOpt;return l.createElement("div",{className:mt},l.createElement("div",{className:s()(vt,(0,r.Z)({},pt,i)),onMouseDown:d},a()(n=j()(t=o.sugList).call(t,0,10)).call(n,(function(e,n){var t,i,a=e.isRichSug&&h===f.V$.On;return l.createElement("div",{"data-index":n,onClick:a?m:v,className:s()(ht,(t={},(0,r.Z)(t,gt,n===c),(0,r.Z)(t,_t,a),t)),key:y()(i="".concat(e.content)).call(i,e.richSugType)},a&&"0"!==e.richSugType?l.createElement(l.Fragment,null,l.createElement(Pt,{words:e,query:o.query,matchClass:Et}),l.createElement("div",{className:"icon","data-text":e.content},l.createElement("span",{className:wt},"\u4e2a\u4eba\u4e3b\u9875"),l.createElement(wn.Z,{className:yt,width:24,height:24,viewBox:"0 0 24 24",src:globalThis.xssNamespace.douyin_web.filterUrl(ut.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}))):l.createElement(l.Fragment,null,l.createElement(At,{words:e,query:o.query,matchClass:Et}),l.createElement("div",{className:"icon","data-text":e.content,onClick:p},l.createElement(st.Z,{className:kt}))))}))))},Mt=function(e){var n,t,i,c,w,y=e.abTestData,_=void 0===y?{}:y,b=e.userInfo,k=e.onSearchClick,C=e.onHistoryClick,N=e.onInputKeyDown,T=e.customProps,S=void 0===T?{}:T,L=e.playerProps,Z=void 0===L?{}:L,A=(0,l.useState)(0),P=(0,o.Z)(A,2),D=P[0],M=P[1],B=(0,l.useState)(!1),O=(0,o.Z)(B,2),R=O[0],V=O[1],F=(0,l.useRef)(),W=function(){var e=(0,l.useState)(!1),n=(0,o.Z)(e,2),t=n[0],r=n[1];return(0,l.useEffect)((function(){(0,I.Z)(Y().mark((function e(){var n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.U2({key:$.TccKey.SearchPanelGrayscale,defaultValue:$.TCC_DEFAULT_VALUE_MAP.get($.TccKey.SearchPanelGrayscale),namespace:X.m_.SEARCH});case 2:n=e.sent,r(n.grayscale);case 4:case"end":return e.stop()}}),e)})))()}),[]),t}(),U=nn(b,(function(){m.emit(m.EVENT.videoPause),m.emit(m.EVENT.musicPause)}),_,S,Z),H=U.inputRef,j=U.formRef,G=U.hotWordRef,K=U.showText,q=U.hotSearchText,Q=U.hotSearchKeyword,z=U.hotList,J=U.suggestionState,ne=U.keyboardNavIndex,te=U.onFocus,re=U.inputFocus,ie=U.onBlur,ae=U.onInputChange,le=U.onMouseDown,ce=U.onSearchClick,se=U.onInputKeyDown,ue=U.clearHistory,de=U.onHistoryClick,fe=U.onHotWordClick,me=U.onSugClick,ve=U.onRichSugClick,pe=U.history,he=U.sug,ge=U.onSetSug,we=U.onDeleteHistoryItem,ye=U.preventDefault,_e=U.onCompositionStart,be=U.onCompositionEnd,Ee=U.onHotListWordClick,ke=U.onGuessListWordClick,Ce=U.onInputClearButtonClick,Ne=U.placeHolder,Te=U.historyRef,xe=U.hotListRef,Se=U.guessListRef,Le=U.isGuessTextShow,Ie=U.guessText,Ze=U.guessList,Ae=U.isUnderBoxWordShow,Pe=U.underInboxWordList,De=U.onUnderInboxWordClick,Me=U.setButtonHover,Be=U.searchBarRef,Oe=U.updateGuessList,Re=U.onMouseEnter,Ve=U.onMouseLeave,Fe=U.isMiddlePageReady,We=U.setMiddlePageReady,Ue=(w=(0,l.useMemo)((function(){return(0,ee.y$)(x)}),[]),{refreshButtonRef:(0,oe.x)((function(){return w("recomSearchChangeButtonShow")})),onRefreshButtonClick:(0,l.useCallback)((function(){return w("recomSearchChangeButtonClick")}),[w])}),He=Ue.refreshButtonRef,je=Ue.onRefreshButtonClick,Ge=(0,u.Z)((function(){var e,n;if(0!==Ze.length){var t=S.isFullScreenShow||S.isInnerUpper||S.isModalVideo?87:50,r=0!==z.length&&14===(null===(e=z[0])||void 0===e?void 0:e.word_type)?6:5,o=20+(0!==Ze.length?134:0)+(0!==z.length?28+40*r:0)+(((null===(n=He.current)||void 0===n?void 0:n.offsetTop)||144)-28),i=document.body.clientHeight-o-t<=112?document.body.clientHeight-t-112:o;M(i)}}),100,[Ze,z,pe,q,S,R]).run;(0,d.Z)((function(){var e;if(F.current)return null===(e=F.current)||void 0===e||e.addEventListener("wheel",(function(e){e.stopPropagation()})),function(){var e;null===(e=F.current)||void 0===e||e.removeEventListener("wheel",(function(e){e.stopPropagation()}))}}),[F.current]),(0,d.Z)((function(){if(He.current)return Ge(),window.addEventListener("resize",Ge),function(){window.removeEventListener("resize",Ge)}}),[He.current,Ge]);var Ke=(0,l.useCallback)((function(e){var n=H.current.value;k&&k(n)&&ce(e)}),[ce]),qe=((0,l.useCallback)((function(e){C&&C(e)&&de(e)}),[de]),(0,l.useCallback)((function(e){e.stopPropagation();var n=H.current.value;N&&N(e,n)&&se(e)}),[se]));(0,l.useEffect)((function(){var e=m.listen(m.EVENT.closeSearchSelect,(function(){H.current.blur()}));return function(){e()}}),[]);var Qe={guessList:Ze,keyboardNavIndex:ne,hotList:z,hotListRef:xe,onHotListWordClick:Ee,abTestData:_},ze={sug:he,grayscale:W,keyboardNavIndex:ne,abTestData:_,preventDefault:ye,onSugClick:me,onRichSugClick:ve,onSetSug:ge};return l.createElement(l.Fragment,null,l.createElement("div",{className:tn.searchBarContainer,onMouseEnter:_.enableHoverToDisplay?Re:function(){},onMouseLeave:_.enableHoverToDisplay?Ve:function(){}},l.createElement("div",{ref:Be,className:s()(tn.searchBar,tn.borderInput,(n={},(0,r.Z)(n,tn.modalSearchBar,null==S?void 0:S.isModalVideo),(0,r.Z)(n,tn.modalSearchBarIdle,(null==S?void 0:S.isModalVideo)&&!re),(0,r.Z)(n,tn.feedFullScreen,(null==S?void 0:S.isInnerUpper)||(null==S?void 0:S.isFullScreenShow)),(0,r.Z)(n,tn.feedFullscreenIdle,((null==S?void 0:S.isInnerUpper)||(null==S?void 0:S.isFullScreenShow))&&!re),(0,r.Z)(n,tn.activity,(null==S?void 0:S.isActivity)||(null==S?void 0:S.transparent)&&!(null!=S&&S.transparentBg)),(0,r.Z)(n,null==tn?void 0:tn[null==S?void 0:S.activityName],null==S?void 0:S.activityName),(0,r.Z)(n,tn.borderInputSpec,null==S?void 0:S.themeSwitch),(0,r.Z)(n,tn.transparent,null==S?void 0:S.transparent),(0,r.Z)(n,tn.searchLightActivity,null==S?void 0:S.searchLightActivity),(0,r.Z)(n,tn.transparentBg,null==S?void 0:S.transparentBg),n))},!re&&q&&l.createElement("div",{className:tn.inputLanternIcon}),l.createElement("form",{className:s()(tn.searchBarInputForm,{isLight:(null==S?void 0:S.isActivity)&&"gaokaoSearch"!==(null==S?void 0:S.activityName)}),action:"",target:"_blank",ref:j},!K&&Le&&Ie&&l.createElement("div",{className:tn.searchBarGuessTextWrapper},Ie.icon_info&&l.createElement("img",{src:globalThis.xssNamespace.douyin_web.filterUrl(Ie.icon_info.icon_url,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:tn.activityIcon,style:{width:Ie.icon_info.icon_width||20,height:Ie.icon_info.icon_height||20}}),l.createElement("div",{className:s()(tn.searchBarGuessText,(0,r.Z)({},tn.isActivity,Ie.icon_info))},Ie.word)),K&&re&&l.createElement("div",{onClick:Ce,onMouseDown:ye,className:tn.inputClearButton,"data-e2e":"clear-search"},l.createElement(p.Z,{className:tn.iconClose})),l.createElement("input",{ref:H,value:K,onFocus:te,onBlur:ie,onChange:ae,onKeyDown:qe,onCompositionStart:_e,onCompositionEnd:be,className:s()(tn.input,(t={},(0,r.Z)(t,tn.blur,!re&&!S.isSearchPage),(0,r.Z)(t,tn.hotInput,!re&&q),(0,r.Z)(t,tn.inputWithClearButton,re&&K),t)),"data-e2e":"searchbar-input",type:"text",maxLength:100,placeholder:q||Ne||""}),l.createElement("input",{type:"submit",value:"Submit",style:{display:"none"}})),l.createElement("button",{className:s()(tn.button,{isLight:null==S?void 0:S.isActivity}),"data-e2e":"searchbar-button",type:"button",onMouseDown:le,onClick:Ke,onMouseEnter:function(){return Me(!0)},onMouseLeave:function(){return Me(!1)}},l.createElement(v.Z,{className:tn.buttonIcon}),l.createElement("span",{className:"btn-title"},"\u641c\u7d22")),"middle_page"===J&&l.createElement("div",{className:tn.suggestionContainer,style:{visibility:Fe?"unset":"hidden"}},l.createElement("div",{className:s()(tn.suggestion,(i={},(0,r.Z)(i,tn.grayscale,W),(0,r.Z)(i,tn.newStyle,_.hotListOpt),i)),ref:F,onMouseDown:ye,style:_.hotListOpt?{height:D}:{}},q&&l.createElement("div",{className:tn.hotView},l.createElement("div",{ref:G,"data-text":Q,onClick:fe,className:tn.hotLine},l.createElement("div",{className:tn.sugLanternIcon}),l.createElement("p",{className:s()(tn.hotText,tn.suggestionItemContext)},q),l.createElement(h.Z,{width:6,height:11,viewBox:"0 0 17 33",className:tn.sugArrowRightIcon}))),l.createElement(yn,{ref:Te,history:pe,onDeleteHistoryItem:we,onHistoryItemClick:de,clearHistory:ue,customProps:S,limit:10,setExpandHistory:V,onReady:function(){return We(!0)}}),Ze.length>0&&l.createElement(l.Fragment,null,l.createElement("div",{className:tn.titleView},l.createElement("span",{className:tn.titleViewText},"\u731c\u4f60\u60f3\u641c"),l.createElement("div",{ref:He,className:tn.refreshButtonView,onClick:function(){Oe(!0),je()}},l.createElement(wn.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(g.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:14,height:14,viewBox:"0 0 14 14"}),l.createElement("span",{className:tn.refreshButtonText},"\u6362\u4e00\u6362"))),l.createElement("div",{ref:Se,className:tn.guessListDouble,"data-e2e":"search-guess-container"},a()(Ze).call(Ze,(function(e,n){var t,o,i="2"===e.words_type,a="10"===e.words_type,c=0===n&&Ie&&Ie.icon_info&&e.word===Ie.word;return l.createElement("div",{key:e.word,className:tn.guessListItemWrapper},l.createElement("div",{className:s()(tn.guessListItem,tn.guessListItemBg,n%2==0?tn.itemLeft:tn.itemRight,(t={},(0,r.Z)(t,tn.keyboardSelected,n===ne),(0,r.Z)(t,tn.oldSelectedStyle,_.hotListOpt===f.vW.Off),t)),"data-text":e.word,"data-index":n,onClick:ke},l.createElement("span",{className:s()(tn.guessListItemText,(0,r.Z)({},tn.guessListItemTextHighlight,n<2))},e.word),(i||a)&&l.createElement("div",{className:s()(tn.guessListItemIcon,(o={},(0,r.Z)(o,tn.guessListItemIconHot,i),(0,r.Z)(o,tn.guessListItemIconLive,a),o))}),c&&l.createElement("img",{src:globalThis.xssNamespace.douyin_web.filterUrl(Ie.icon_info.icon_url,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:tn.guessListItemIcon,style:{width:Ie.icon_info.icon_width||20,height:Ie.icon_info.icon_height||20}})))})))),z&&z.length>0&&l.createElement(ct,Qe))),"sug"===J&&l.createElement(Dt,ze))),l.createElement("div",{className:s()(tn.underInboxWord,(c={},(0,r.Z)(c,tn.show,Ae),(0,r.Z)(c,tn.activity,null==S?void 0:S.isActivity),(0,r.Z)(c,null==tn?void 0:tn[null==S?void 0:S.activityName],null==S?void 0:S.activityName),c))},l.createElement(E,{wordList:Pe,onUnderInboxWordClick:De,customProps:S})))},Bt=Mt},43850:function(e,n,t){t.d(n,{n:function(){return L}});var r=t(65902),o=t(19478),i=t.n(o),a=t(34346),l=t.n(a),c=t(53864),s=t(50230),u=t(87384),d=t(76445),f=t(72603),m=t(71116),v=t(85011),p="IOzHI_Q0",h="_OvPhoA0",g="CF1v8wMa",w="ez9FGvzz",y="exfV7WwB",_="MVFLzT2R",b="pWull77S",E="KlsyUvwu",k="UeCZSLDf",C=new(t(13795).hD)({hotKeyListShow:{eventName:"hot_key_list_show",params:{enter_from:"",click_method:""}},hotKeyListExit:{eventName:"hot_key_list_exit",params:{enter_from:""}}}),N=t(27809),T=t(9909),x=s.defaultShortcutList,S=function(e){var n=e.shortcutList,t=e.logParams,r=c.useRef(null),o=c.useRef(null),a=c.useRef(!1),s=c.useRef(!1),p=function(){N.U.destroy()};return c.useEffect((function(){var e="shortcutList";return(0,d.o)({pausePlayControlShortcut:!0,pauseCustomShortcut:!0,pauseGlobalShortcut:!0},e),function(){(0,d.m)(e)}}),[]),c.useEffect((function(){var e=(0,f.yW)();return C.sendLog("hotKeyListShow",{enter_from:e,click_method:null==t?void 0:t.clickMethod}),function(){C.sendLog("hotKeyListExit",{enter_from:e})}}),[]),c.useEffect((function(){var e,n,t,r,l=i()((function(){s.current=!1,a.current&&p()}),100),c=function(e){e.stopPropagation(),s.current=!0,a.current&&e.preventDefault()};return null===(e=o.current)||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,"wheel",l),null===(t=o.current)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"wheel",c),m.Le.setConfig(m.gI.DisableExit,!0),function(){var e,n,t,r;null===(e=o.current)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"wheel",l),null===(t=o.current)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"wheel",c),m.Le.setConfig(m.gI.DisableExit,!1)}}),[]),c.useEffect((function(){var e=function(e){e.stopPropagation(),e.shiftKey||e.metaKey||e.ctrlKey||"Escape"===(null==e?void 0:e.code)&&(a.current=!0,s.current||p())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),c.createElement("div",{className:h,ref:o},c.createElement("div",{className:g},"\u5feb\u6377\u952e\u5217\u8868"),c.createElement(T.Z,{className:w,width:36,height:36,src:globalThis.xssNamespace.douyin_web.filterUrl(v.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),color:"#A9AAB7",onClick:p}),c.createElement(u.i,{className:y}),c.createElement("div",{className:_,ref:r},l()(n).call(n,(function(e){return c.createElement("div",{className:b,key:e.action},c.createElement("span",{className:E},e.action),c.createElement("span",{className:k},e.key))}))))},L=function(e){var n=e||{},t=n.shortcutList,o=n.abtestData,i=null!=t?t:x(o);N.U.render({children:c.createElement(S,(0,r.Z)({},e,{shortcutList:i})),className:p,onMaskClick:function(){return N.U.destroy()}})}},67289:function(e,n,t){t.d(n,{R5:function(){return r},t6:function(){return o},qF:function(){return i}});var r={Recommend:0,Follow:1,Friend:2,Modal:3,Topic:4},o={OUTSIDE:"outside",OUTOFCONTAINER:"out-of-container",INSIDE:"inside",OCCUPATION:"occupation",CONTAINERSTART:"container-start",CONTAINEREND:"container-end",WRAPPERSTART:"wrapper-start",WRAPPEREND:"wrapper-end"},i={nextSwiperHeaderHeight:30,cardBetween:24,upperSpace:24}},9909:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(65902),o=t(32781),i=t(30906),a=t(67161),l=t(53864),c=t(79705),s=t.n(c),u="u1O5vnab",d=["src","width","height","color","viewBox","className","onClick","onMouseEnter","onMouseLeave","style","needRenderInSSR","id"],f=function(e){var n=e.src,t=e.width,c=void 0===t?18:t,f=e.height,m=void 0===f?18:f,v=e.color,p=e.viewBox,h=e.className,g=void 0===h?"":h,w=e.onClick,y=e.onMouseEnter,_=e.onMouseLeave,b=e.style,E=e.needRenderInSSR,k=void 0!==E&&E,C=e.id,N=(0,a.Z)(e,d),T=v?(0,i.Z)((0,i.Z)({},N),{},{fill:v}):N,x=(0,l.useState)(!1),S=(0,o.Z)(x,2),L=S[0],I=S[1];return(0,l.useEffect)((function(){I(!0)}),[]),L||k?l.createElement(n,(0,r.Z)({className:s()(v?u:"",g),width:c,height:m,viewBox:p||"0 0 36 36",onClick:w,onMouseEnter:y,onMouseLeave:_},T,{style:b,id:C})):l.createElement(l.Fragment,null)},m=l.memo(f)},80289:function(e,n,t){t.d(n,{x$:function(){return q},c4:function(){return G},Ly:function(){return K}});var r,o=t(65146),i=t(32781),a=t(85792),l=t.n(a),c=t(53864),s=t(79705),u=t.n(s),d=t(56462),f=t(45921),m=t(97876),v=t(72603),p=t(3345),h=t(85289),g=t(353);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},w.apply(this,arguments)}var y,_,b=function(e){return c.createElement("svg",w({width:24,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=c.createElement("path",{opacity:.7,d:"M20.414 5.613a6.718 6.718 0 01-2.886-4.39A6.808 6.808 0 0117.416 0h-4.732l-.008 19.29c-.079 2.16-1.827 3.895-3.969 3.895-.665 0-1.292-.17-1.845-.465a4.06 4.06 0 01-2.132-3.582c0-2.23 1.785-4.046 3.977-4.046.41 0 .802.07 1.174.187v-4.913a8.618 8.618 0 00-1.174-.087C3.907 10.28 0 14.254 0 19.14a8.898 8.898 0 003.718 7.255A8.557 8.557 0 008.708 28c4.803 0 8.71-3.974 8.71-8.86V9.357A11.12 11.12 0 0024 11.51V6.696a6.47 6.47 0 01-3.586-1.083z",fill:"#E7E7EC"})))};function E(){return E=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},E.apply(this,arguments)}var k,C=function(e){return c.createElement("svg",E({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),y||(y=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16A8 8 0 108 0a8 8 0 000 16z",fill:"#FE2C55"})),_||(_=c.createElement("path",{d:"M4 7.5a1 1 0 000 1.415l2.342 2.28a1 1 0 001.415 0l.008-.008 4.65-4.772A1 1 0 0011 5L7.05 9.073 5.414 7.5A1 1 0 004 7.5z",fill:"#fff"})))};function N(){return N=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},N.apply(this,arguments)}var T=function(e){return c.createElement("svg",N({width:9,height:9,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k||(k=c.createElement("path",{d:"M8.805 1.471A.667.667 0 107.862.53L4.667 3.724 1.47.529a.667.667 0 10-.942.942l3.195 3.196L.529 7.862a.667.667 0 00.942.943l3.196-3.196 3.195 3.196a.667.667 0 10.943-.943L5.609 4.667 8.805 1.47z",fill:"#fff"})))},x=new(t(13795).hD)({changeThemeSetting:{eventName:"change_theme_setting",params:{theme:"light",enter_from:""}},themeSettingGuideConfirm:{eventName:"theme_setting_guide_confirm",params:{theme:"light"}},themeSettingGuideShow:{eventName:"theme_setting_guide_show",params:{theme:"light"}}}),S="JHraiF99",L="EtCcWLb5",I="nG9kzwxB",Z="lMuW5qkn",A="HMJIOD8d",P="gnfYyz1O",D="tVgaIByW",M="Kx8aac8K",B="_8fqldc6",O="aB450Cfo",R="_BdQ0DrR",V="fwYhOTEP",F="FAiirZle",W="CuCn9bOg",U="L0BGw3mC",H=t(9909),j=t(18812),G=function(e){var n;(null===(n=document.cookie.match(/theme=(\w+);/g))||void 0===n?void 0:n.length)>1&&d.Q.removeItem(g.CookieKeys.Theme,"/"),d.Q.setItem(g.CookieKeys.Theme,e?g.ThemeValues.Dark:g.ThemeValues.Light,g.COOKIE_DEFAULT_EXPIRE_DURATION,"/",g.COOKIE_DOMAIN,"",!0)},K=function(e){var n,t,r,o="dark",i=document.documentElement,a=document.getElementById("dark");e?null==i||null===(n=i.setAttribute)||void 0===n||n.call(i,o,"true"):(null==i||null===(t=i.removeAttribute)||void 0===t||t.call(i,o),null==a||null===(r=a.removeAttribute)||void 0===r||r.call(a,"id"))},q=function(e){var n=e.TipComponent,t=e.isXiguaDomain,r=d.Q.getItem({sKey:g.CookieKeys.Theme}),a=(0,f.Dr)(r)===g.ThemeValues.Dark,l=(0,c.useState)(a),s=(0,i.Z)(l,2),w=s[0],y=s[1],_=(0,c.useState)(!1),b=(0,i.Z)(_,2),E=b[0],k=b[1];return(0,c.useEffect)((function(){var e,n,t=document.documentElement;null==t||null===(e=t.setAttribute)||void 0===e||e.call(t,"switch-theme",""),null==t||null===(n=t.setAttribute)||void 0===n||n.call(t,"video-opacity","")}),[]),(0,c.useEffect)((function(){K(w),t&&document.body.style.setProperty("--color-primary","#fe3355"),m.emit(m.EVENT.changeTheme,{theme:w?g.ThemeValues.Dark:g.ThemeValues.Light})}),[w]),c.createElement(c.Fragment,null,c.createElement(n,{type:"left",showTip:E,tipClassName:W,content:c.createElement(Q,{setShowTip:k,isDark:w,setIsDark:y,setThemeCookie:G})},t&&c.createElement(j.e,{text:w?"\u5207\u6362\u6d45\u8272\u5916\u89c2":"\u5207\u6362\u6df1\u8272\u5916\u89c2",isXiguaDomain:t},c.createElement("div",{className:u()(S,(0,o.Z)({},U,t)),onClick:function(){y((function(e){return x.sendLog("changeThemeSetting",{theme:e?g.ThemeValues.Light:g.ThemeValues.Dark,enter_from:(0,v.yW)()}),G(!e),!e}))}},c.createElement(H.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(h.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:24.7,height:20.3,viewBox:"0 0 22 19",color:"var(--color-text-t2)"}))),!t&&c.createElement("div",{className:u()(S),onClick:function(){y((function(e){return x.sendLog("changeThemeSetting",{theme:e?g.ThemeValues.Light:g.ThemeValues.Dark,enter_from:(0,v.yW)()}),G(!e),!e}))}},c.createElement(H.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(p.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:24.7,height:20.3,viewBox:"0 0 22 19"}))))},Q=function(e){var n=e.isDark,t=e.setIsDark,r=e.setShowTip,i=e.setThemeCookie,a=function(e){x.sendLog("themeSettingGuideConfirm",{theme:e?g.ThemeValues.Dark:g.ThemeValues.Light})};return(0,c.useEffect)((function(){x.sendLog("themeSettingGuideShow",{theme:n?g.ThemeValues.Dark:g.ThemeValues.Light})}),[]),c.createElement("div",{className:L},c.createElement(H.Z,{className:I,onClick:function(){a(n),i(n),r(!1)},src:globalThis.xssNamespace.douyin_web.filterUrl(T,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:9,height:9,viewBox:"0 0 9 9"}),c.createElement("div",{className:Z},"\u80cc\u666f\u5207\u6362"),c.createElement("div",{className:A},"\u70b9\u51fb\u300c\u6362\u80a4\u300d\u6309\u94ae\u5207\u6362\u80cc\u666f\u8272"),c.createElement("div",{className:P},c.createElement("div",{className:D},c.createElement("div",{className:M,onClick:function(){a(!1),t(!1),i(!1),m.emit(m.EVENT.changeTheme,{theme:g.ThemeValues.Light}),l()((function(){r(!1)}),2e3)}},c.createElement(H.Z,{className:F,src:globalThis.xssNamespace.douyin_web.filterUrl(b,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:24,height:28,viewBox:"0 0 24 28"}),c.createElement(H.Z,{className:u()(R,(0,o.Z)({},V,n)),src:globalThis.xssNamespace.douyin_web.filterUrl(C,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:16,height:16,viewBox:"0 0 16 16"}))),c.createElement("div",{className:O},c.createElement("div",{className:B,onClick:function(){a(!0),t(!0),i(!0),m.emit(m.EVENT.changeTheme,{theme:g.ThemeValues.Dark}),l()((function(){r(!1)}),2e3)}},c.createElement(H.Z,{className:F,src:globalThis.xssNamespace.douyin_web.filterUrl(b,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:24,height:28,viewBox:"0 0 24 28"}),c.createElement(H.Z,{className:u()(R,(0,o.Z)({},V,!n)),src:globalThis.xssNamespace.douyin_web.filterUrl(C,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:16,height:16,viewBox:"0 0 16 16"})))))}},9058:function(e,n,t){t.d(n,{C:function(){return d}});var r,o=t(53864),i=t(79705),a=t.n(i),l={tooltipWrapper:"NRiH5zYV",tooltip:"BQT1A3Va",left:"Xtzbk1D8",right:"pBQCcTij",top:"mTNC2mtW",bottom:"yGdoJ_A9",icon:"RQ1fJbHb"};function c(){return c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c.apply(this,arguments)}var s=function(e){return o.createElement("svg",c({width:4,height:17,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M0 0a8 8 0 002.168 5.476l1.174 1.25a2 2 0 010 2.738l-1.174 1.25A8 8 0 000 16.19V0z",fill:"#323442"})))},u=t(9909),d=function(e){var n=e.type,t=void 0===n?"left":n,r=e.hoverShow,i=void 0!==r&&r,c=e.showTip,d=e.setShowTip,f=e.content,m=e.className,v=e.tipClassName,p=e.iconClassName,h=e.otherHide,g=void 0===h||h,w=e.clickHide,y=void 0===w||w,_=e.children,b=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e,n=function(e){d(!1)},t=function(){d(!1)},r=function(){d(!0)},o=i&&b.current;return o&&(b.current.addEventListener("mouseleave",t),b.current.addEventListener("mouseenter",r)),y&&(null===(e=b.current)||void 0===e||e.addEventListener("click",n)),c&&d&&g&&(document.addEventListener("scroll",n),document.addEventListener("click",n)),function(){var e,i,a;(document.removeEventListener("scroll",n),document.removeEventListener("click",n),null===(e=b.current)||void 0===e||e.removeEventListener("click",n),o)&&(null===(i=b.current)||void 0===i||i.removeEventListener("mouseleave",t),null===(a=b.current)||void 0===a||a.removeEventListener("mouseenter",r))}}),[c,i,d]),o.createElement("div",{className:a()(l.tooltipWrapper,m),ref:b},Boolean(c)&&o.createElement("div",{className:a()(l.tooltip,l[t],v)},o.createElement(u.Z,{width:4,height:17,src:globalThis.xssNamespace.douyin_web.filterUrl(s,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:a()(l.icon,l[t],p),viewBox:"0 0 4 17"}),f),_)}},34590:function(e,n,t){t.d(n,{F:function(){return D}});var r=t(29529),o=t(30906),i=t(19049),a=t(95508),l=t(73316),c=t(6670),s=t(78034),u=t(65146),d=t(94090),f=t.n(d),m=t(11227),v=t.n(m),p=t(85792),h=t.n(p),g=t(76569),w=t.n(g),y=t(79705),_=t.n(y),b=t(53864),E=t(60443),k=t(40032),C=t(25902),N=t(61065),T="N4KSpGs0",x="Y58u3RjO",S="G8j0DJHl",L=null,I=null,Z=null,A={text:"",duration:3e3},P=function(e){(0,c.Z)(t,e);var n=(0,s.Z)(t);function t(){var e,r;(0,i.Z)(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return r=n.call.apply(n,f()(e=[this]).call(e,a)),(0,u.Z)((0,l.Z)(r),"state",{showToast:!1}),(0,u.Z)((0,l.Z)(r),"mouseCloseFn",(function(e){r.handleCloseToast(),r.destroy(),I=null})),(0,u.Z)((0,l.Z)(r),"keyboardCloseFn",(function(e){var n;v()(n=["Escape","ArrowUp","ArrowDown"]).call(n,e.key)&&(r.handleCloseToast(),r.destroy(),I=null)})),r}return(0,a.Z)(t,[{key:"handleShowToast",value:function(e){var n,r,o=this;I&&(clearTimeout(I),I=null);var i=t.textList.shift();this.setState({showToast:!0,options:i}),I=h()((function(){t.textList.length?o.handleCloseToast((function(){var e;h()(w()(e=o.handleShowToast).call(e,o),50)})):(o.handleCloseToast(),o.destroy()),I=null}),e||i.duration),null===(n=document)||void 0===n||n.addEventListener("keydown",this.keyboardCloseFn),null===(r=Z)||void 0===r||r.addEventListener("click",this.mouseCloseFn)}},{key:"handleCloseToast",value:function(e){this.setState({showToast:!1},(function(){return e&&e()}))}},{key:"destroy",value:function(){var e,n,t;null===(e=document)||void 0===e||e.removeEventListener("keydown",this.keyboardCloseFn),null===(n=Z)||void 0===n||n.removeEventListener("click",this.mouseCloseFn),null===(t=Z)||void 0===t||t.remove(),L=null}},{key:"render",value:function(){var e=this.state,n=e.showToast,t=e.options,r=n&&t&&b.createElement("div",{className:_()(x,t.className,(0,u.Z)({},S,(0,C.r)()||!t.className&&t.root)),"data-e2e":"toast"},t.text);return b.createElement(b.Fragment,null,t&&t.root?E.createPortal(r,t.root):r)}}],[{key:"create",value:function(e){if(L)return e&&e(L);document.querySelector("#toastContainer")||((Z=document.createElement("div")).className=T,Z.id="toastContainer",document.body.appendChild(Z)),(0,k.createRoot)(Z).render(b.createElement(t,{ref:function(n){L=n,e&&e(L)}}))}},{key:"info",value:function(e,n,t){var i=(0,o.Z)({},A);"string"==typeof e?(i.text=e,i.root=(null==n?void 0:n.current)||n):"object"===(0,r.Z)(e)&&null!==e&&(i=(0,o.Z)((0,o.Z)({},A),{},{root:(null==n?void 0:n.current)||n},e));var a=document.querySelector(".xgplayer-fullscreen-parent")||(0,N.W)();(0,C.r)()&&a&&!i.root&&(i.root=a),this.textList.push(i),this.create((function(e){I||e&&e.handleShowToast(t)}))}},{key:"infoInModalVideo",value:function(e,n,t){var i=(0,o.Z)({},A);"string"==typeof e?(i.text=e,i.root=(null==n?void 0:n.current)||n):"object"===(0,r.Z)(e)&&null!==e&&(i=(0,o.Z)((0,o.Z)({},A),{},{root:(null==n?void 0:n.current)||n},e));var a=document.querySelector("#upperFeedContainer")?document.querySelector('#sliderVideo[data-e2e="feed-active-video"] .xg-video-container'):"",l=document.querySelector("#slideMode .xg-video-container")||a||i.root;l&&(i.root=l),this.textList.push(i),this.create((function(e){I||e&&e.handleShowToast(t)}))}}]),t}(b.Component);(0,u.Z)(P,"textList",[]);var D=P},18812:function(e,n,t){t.d(n,{e:function(){return _}});var r,o=t(65146),i=t(30906),a=t(32781),l=t(85792),c=t.n(l),s=t(11227),u=t.n(s),d=t(53864),f=t(60443),m=t(79705),v=t.n(m),p={tooltipWrapper:"Wn5rJXak",tooltip:"Lf6MwTlM",xiguaTooltip:"DTV6OxM_",icon:"zi4zRGj1",left:"UQZybSAr",right:"NgpOGWLI",top:"a5rCXbcN",bottom:"p0ESuZn8"};function h(){return h=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},h.apply(this,arguments)}var g=function(e){return d.createElement("svg",h({width:4,height:17,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=d.createElement("path",{d:"M0 0a8 8 0 002.168 5.476l1.174 1.25a2 2 0 010 2.738l-1.174 1.25A8 8 0 000 16.19V0z",fill:"#323442"})))},w=t(9909),y=function(e){return e.left="top",e.right="top",e.top="left",e.bottom="left",e}(y||{}),_=function(e){var n=e.type,t=void 0===n?"left":n,r=e.text,l=e.offsetArrow,s=e.offsetContainer,m=e.className,h=e.children,_=e.isXiguaDomain,b=e.onMouseEnter,E=(0,d.useState)({width:0,height:0}),k=(0,a.Z)(E,2),C=k[0],N=k[1],T=(0,d.useState)(t),x=(0,a.Z)(T,2),S=x[0],L=x[1],I=(0,d.useState)(!1),Z=(0,a.Z)(I,2),A=Z[0],P=Z[1],D=(0,d.useState)({}),M=(0,a.Z)(D,2),B=M[0],O=M[1],R=(0,d.useState)(l),V=(0,a.Z)(R,2),F=V[0],W=V[1],U=(0,d.useRef)(null),H=(0,d.useRef)(),j=(0,d.useRef)(null),G=function(){clearTimeout(j.current),j.current=c()((function(){P(!1)}),200)},K=(0,d.useCallback)((function(){var e,n,r,o;if(!U.current)return{};var a=H.current.getBoundingClientRect(),l=a.x,c=a.y,d=a.width,f=a.height,m=l,v=c,p=(C.width-d)/2,h=(C.height-f)/2;if(u()(e=["left","right"]).call(e,t)){switch(t){case"left":m-=C.width+10;break;case"right":m+=d+10}v+="number"==typeof s?s:-h}else if(u()(n=["top","bottom"]).call(n,t)){switch(t){case"top":v-=C.height+10;break;case"bottom":v+=f+10}m+="number"==typeof s?s:-p}var g=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0,o=window.innerWidth,i=window.innerHeight;return{left:e<0?e:0,top:n<0?n:0,right:e+t>o?o-e-t:0,bottom:n+r>i?i-n-r:0}}(m,v,C.width,C.height),w=g.top,y=g.left,_=g.right,b=g.bottom;return L(t),u()(r=["left","right"]).call(r,t)?(w&&(v-=w),b&&(v+=b),y&&!_&&(m+=C.width+20+d,L("right")),_&&!y&&(m-=C.width+20+d,L("left"))):u()(o=["top","bottom"]).call(o,t)&&(y&&(W(y),m-=y),_&&(W(_),m+=_),w&&!b&&(v+=C.height+20+f,L("bottom")),b&&!w&&(v-=C.height+20+f,L("top"))),(0,i.Z)((0,i.Z)({},B),{},{left:"".concat(m,"px"),top:"".concat(v,"px")})}),[B,C]),q=(0,d.useCallback)((function(){var e=d.Children.only(h);return d.cloneElement(e,{onMouseEnter:function(e){clearTimeout(j.current),P(!0),H.current||(H.current=e.target),O(K()),null==b||b()},onMouseLeave:function(){G()}})}),[C]);return(0,d.useEffect)((function(){var e=function(e){A&&O(K())};return document.addEventListener("scroll",e,!0),function(){document.removeEventListener("scroll",e,!0)}}),[K]),(0,d.useEffect)((function(){U.current&&N(U.current.getBoundingClientRect())}),[A]),(0,d.useEffect)((function(){H.current&&O(K())}),[C]),d.createElement(d.Fragment,null,A&&f.createPortal(d.createElement("div",{ref:U,style:(0,i.Z)({position:"fixed"},B),onMouseEnter:function(e){clearTimeout(j.current)},onMouseLeave:function(){G()},className:v()(p.tooltip,p[t],m,(0,o.Z)({},p.xiguaTooltip,_))},d.createElement(w.Z,{width:4,height:17,src:globalThis.xssNamespace.douyin_web.filterUrl(g,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),style:(0,o.Z)({},y[S],F&&"calc(50% - ".concat(F,"px)")),className:v()(p.icon,p[S]),viewBox:"0 0 4 17"}),d.createElement("span",{className:""},r)),document.body),q())}},73027:function(e,n,t){t.d(n,{l:function(){return dn}});var r,o=t(65902),i=t(65146),a=t(30673),l=t(30906),c=t(32781),s=t(34346),u=t.n(s),d=t(94090),f=t.n(d),m=t(58144),v=t.n(m),p=t(53864),h=t(40032),g=t(79705),w=t.n(g),y=t(86719),_=t(37205),b=t(92267),E=t(4085),k=t(85011),C=t(9333),N=t(9053),T="MUKuSCkv",x="ckls8QYo",S="jv4yd5Yt",L="zQNIhOVG",I="CudCvVQo",Z="IwOLc57Y",A="N20XIgh6",P="jEMVfIEz",D="RbvzkD8x",M="cqiW9uJH",B="kKbFjDdr",O="R8FbV9Ep";function R(){return R=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},R.apply(this,arguments)}var V,F,W=function(e){return p.createElement("svg",R({width:17,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=p.createElement("path",{d:"M8.5.9C5.735.9 3.478 2.951 3.478 5.5v2.259C2.053 7.807.9 8.88.9 10.214v6.429c0 1.365 1.208 2.457 2.678 2.457h9.844c1.47 0 2.678-1.092 2.678-2.457v-6.429c0-1.334-1.153-2.407-2.578-2.455V5.5c0-2.549-2.257-4.6-5.022-4.6zM5.084 7.757V5.5c0-1.712 1.521-3.114 3.416-3.114s3.416 1.402 3.416 3.114v2.257H5.084zm9.41 2.457v6.429c0 .528-.471.971-1.072.971H3.578c-.6 0-1.072-.443-1.072-.971v-6.429c0-.528.472-.971 1.072-.971h9.844c.6 0 1.072.443 1.072.971z",fill:"#2F3035",stroke:"#2F3035",strokeWidth:.2,strokeLinecap:"round",strokeLinejoin:"round"})))};function U(){return U=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},U.apply(this,arguments)}var H,j=function(e){return p.createElement("svg",U({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),V||(V=p.createElement("path",{d:"M17.5 10H11a1 1 0 00-1 1v13a1 1 0 001 1h13a1 1 0 001-1v-6.5",stroke:"#fff",strokeWidth:1.8})),F||(F=p.createElement("circle",{cx:23.5,cy:11.5,r:2.5,fill:"#fff"})))},G="online_state_list",K="notice_setting",q=[{key:C.fJ.FRIEND_CAN_SEE,title:"\u5168\u90e8\u53ef\u89c1",value:1},{key:C.fJ.PART_FRIEND_CAN_SEE,title:"\u90e8\u5206\u4eba\u53ef\u89c1",value:2,hasCount:!0,count:0,selectFriend:!0},{key:C.fJ.PART_FRIEND_CAN_NOT_SEE,title:"\u4e0d\u7ed9\u8c01\u770b",value:3,hasCount:!0,count:0,selectFriend:!0},{key:C.fJ.CLOSE_FRIEND_CAN_SEE,title:"\u5bc6\u53cb\u53ef\u89c1",extraText:"(\u8bbe\u7f6e\u5bc6\u53cb\u8bf7\u524d\u5f80app\u7aef\u8fdb\u884c\u64cd\u4f5c)",value:4,disabled:!0}],Q=t(60225),z=t(16478),Y=t(353),J=t(13971),X="UzQgt7ss",$="IFDObXDq",ee="C5hy1t05",ne="BSAZIM9q",te="u9yuJ5pW",re="EM3YnRB_",oe="FUr7WICQ",ie="T10NCc_3",ae="gA5QKlfe",le="ryZlk3nV",ce="R3kS2a0_",se="aJYWPJVe",ue="a0aBcR_e";function de(){return de=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},de.apply(this,arguments)}var fe,me=function(e){return p.createElement("svg",de({width:23,height:23,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),H||(H=p.createElement("circle",{cx:11.5,cy:11.5,r:10.285,fill:"#13C15A",stroke:"#F7F7F9",strokeWidth:1.571})))},ve=t(51078),pe=t(77060);function he(){return he=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},he.apply(this,arguments)}var ge=function(e){return p.createElement("svg",he({width:8,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),fe||(fe=p.createElement("path",{d:"M1.3 14.3L6.7 8 1.3 1.7",stroke:"#2F3035",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))};function we(e){var n,t=e.className,r=e.onlineState,o=e.onlineStateList,a=e.handleEnterIconClick,l=e.onOnlineStateChange,c=e.disabled,s=e.selfAvatar;return p.createElement("div",{className:t},p.createElement("div",{className:X},p.createElement(pe.a,{className:$,href:globalThis.xssNamespace.douyin_web.filterUrl("https://www.douyin.com/user/".concat(null===(n=(0,J.$o)(Y.LocalStorageKeys.UserInfo))||void 0===n?void 0:n.uid),null,{logType:"js.href/src",mode:"black",reportOnly:!1})},p.createElement(ve.q,{className:ee,src:globalThis.xssNamespace.douyin_web.filterUrl(s,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),isSpider:!1,isSelf:!0}),p.createElement(me,{className:w()(ne,(0,i.Z)({},te,Boolean(r!==C.fJ.CLOSE_ACTIVE_STATUS)))})),p.createElement("div",{className:re},p.createElement("p",{className:oe},"\u5728\u7ebf\u72b6\u6001"),p.createElement("p",null,"\u5f00\u542f\u540e\uff0c\u4e92\u5173\u597d\u53cb\u53ef\u4ee5\u5728\u79c1\u4fe1\u3001\u901a\u77e5\u3001\u5206\u4eab\u7b49\u9875\u9762\u770b\u5230\u4f60\u7684\u6d3b\u8dc3\u72b6\u6001\u3002"),p.createElement("p",null,"\u53ef\u5728PC\u7aef\u201c\u9690\u79c1\u8bbe\u7f6e\u201d\u4e2d\u66f4\u6539\uff0c\u4e5f\u53ef\u5728APP\u7aef\u201c\u8bbe\u7f6e\u201d-\u201c\u9690\u79c1\u8bbe\u7f6e\u201d\u4e2d\u66f4\u6539\u3002"))),p.createElement("div",{className:ie},p.createElement("span",null,"\u5c55\u793a\u5728\u7ebf\u72b6\u6001"),p.createElement(Q.r,{disabled:c,checked:Boolean(r!==C.fJ.CLOSE_ACTIVE_STATUS),onChange:function(){l(r===C.fJ.CLOSE_ACTIVE_STATUS?C.fJ.FRIEND_CAN_SEE:C.fJ.CLOSE_ACTIVE_STATUS)}})),p.createElement(z.Y.Group,{defaultValue:r,onChange:function(e,n){l(Number(n))}},p.createElement("ul",{className:ae},u()(o).call(o,(function(e){return p.createElement("li",{key:e.key,className:w()(le),onClick:function(){!c&&r===e.key&&e.selectFriend&&a(e.key)}},p.createElement(z.Y,{value:e.key,className:ce,disabled:c||e.disabled},p.createElement("span",{className:se},p.createElement("span",null,e.title,e.count?" \xb7 ".concat(e.count,"\u4eba"):"",e.extraText&&p.createElement("span",{className:ue},e.extraText)),e.selectFriend&&p.createElement("span",{onClick:function(n){n.stopPropagation(),a(e.key)},style:{width:32,textAlign:"right"}},p.createElement(ge,null)))))})))))}var ye,_e=t(8e3),be=t.n(_e),Ee=t(11227),ke=t.n(Ee),Ce=t(82766),Ne=t.n(Ce),Te=t(7855),xe="mh6EUXQA",Se="W072p8cd",Le="jfItQa6C",Ie="jwKMKLjP",Ze="omyorfCl",Ae="qWvQZ8l5",Pe="drDrSRWO",De="ApWZuofw",Me="T43Dz0AZ",Be="DKigDUP3",Oe="KEqsx3IV";function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Re.apply(this,arguments)}var Ve,Fe=function(e){return p.createElement("svg",Re({width:8,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ye||(ye=p.createElement("path",{d:"M7 1L1 8l6 7",stroke:"#2F3035",strokeOpacity:.4,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))};function We(){return We=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},We.apply(this,arguments)}var Ue=function(e){return p.createElement("svg",We({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ve||(Ve=p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 .333a5.667 5.667 0 103.237 10.319l2.723 2.722a1 1 0 001.414-1.414l-2.722-2.723A5.667 5.667 0 006 .333zM2.333 6a3.667 3.667 0 117.334 0 3.667 3.667 0 01-7.333 0z",fill:"#2F3035",fillOpacity:.4})))},He=t(95138),je=function(e){return e[e.FollowEachOtherStatus=2]="FollowEachOtherStatus",e}({}),Ge=0;function Ke(e){var n=e.className,r=e.handleBackClick,o=e.handleCompleteClick,i=e.selectedUserList,l=e.title,s=(0,p.useState)(!0),d=(0,c.Z)(s,2),m=d[0],h=d[1],g=(0,p.useState)(""),_=(0,c.Z)(g,2),b=_[0],E=_[1],k=(0,p.useState)((0,a.Z)(i)),C=(0,c.Z)(k,2),N=C[0],T=C[1],x=(0,p.useState)([]),S=(0,c.Z)(x,2),L=S[0],I=S[1],Z=(0,y.ZP)((function(){return Promise.all([t.e(9344),t.e(2003),t.e(9955),t.e(2880),t.e(9083),t.e(3237),t.e(6780)]).then(t.bind(t,25183)).then((function(e){var n,t,r,o=e.getAllFriendInfoList;return null==o||null===(n=o())||void 0===n||null===(t=be()(n).call(n,(function(e){return(null==e?void 0:e.follow_status)===je.FollowEachOtherStatus||ke()(N).call(N,null==e?void 0:e.sec_uid)})))||void 0===t||null===(r=u()(t).call(t,(function(e){var n,t;return{uid:null==e?void 0:e.sec_uid,avatarSrc:null==e||null===(n=e.avatar_small)||void 0===n||null===(t=n.url_list)||void 0===t?void 0:t[0],nickName:(null==e?void 0:e.remark_name)||(null==e?void 0:e.nickname)}})))||void 0===r?void 0:Ne()(r).call(r,(function(e,n){return!ke()(N).call(N,e.uid)&&ke()(N).call(N,n.uid)?1:ke()(N).call(N,e.uid)&&!ke()(N).call(N,n.uid)?-1:0}))})).then((function(e){return I(null!=e?e:[]),e}))}),{auto:!0}),A=Z.data,P=Z.run,D=function(e){var n,t;if(b){E("");var r=f()(n=be()(t=u()(e).call(e,(function(e){return v()(A).call(A,(function(n){return n.uid===e}))}))).call(t,(function(e){return e}))).call(n,be()(A).call(A,(function(n){return!ke()(e).call(e,n.uid)})));I(r)}};return(0,p.useEffect)((function(){return h(0===N.length)}),[N]),p.createElement("div",{className:w()(n,xe)},p.createElement("div",{className:Se},p.createElement("span",{style:{width:32,cursor:"pointer"},onClick:r},p.createElement(Fe,null)),p.createElement("span",{className:Le,onClick:function(){(Ge+=1)>=5&&(Ge=0,o([]))}},l)),p.createElement("div",{className:Ie},p.createElement(Ue,null),p.createElement("input",{placeholder:"\u641c\u7d22",value:b,onChange:function(e){var n=e.target.value;if(E(n),n){var t=be()(A).call(A,(function(e){var t;return ke()(t=e.nickName).call(t,n)}));I(t)}else I(A)}})),L.length?p.createElement("ul",{className:Ze},u()(L).call(L,(function(e){return p.createElement("li",{className:Ae,key:e.uid,onClick:function(){return function(e){var n;if(ke()(N).call(N,e))return T((function(n){return be()(n).call(n,(function(n){return n!==e}))})),void D(be()(N).call(N,(function(n){return n!==e})));T((function(n){return f()(n).call(n,e)})),D(f()(n=[e]).call(n,(0,a.Z)(N)))}(e.uid)}},p.createElement("div",{className:Pe},p.createElement(ve.q,{className:De,src:globalThis.xssNamespace.douyin_web.filterUrl(e.avatarSrc,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),isSpider:!1,isSelf:!0}),p.createElement("span",null,e.nickName)),p.createElement(Te.X,{checked:ke()(N).call(N,e.uid)}))}))):p.createElement("div",{className:Oe,onClick:function(){return P()}},"\u6682\u65e0\u5217\u8868\uff0c\u70b9\u51fb\u5237\u65b0"),p.createElement("div",{className:Me},p.createElement(He.zx,{disabled:m,className:w()(Be),onClick:function(){o(N)}},"\u5b8c\u6210",N.length?"\uff08".concat(N.length,"\uff09"):"")))}var qe=t(56462),Qe="EAzrrNLy",ze="R_yBabgi",Ye="Gp2P3YNn",Je="fV5txC0p",Xe="xH31VdAP",$e="lKFr0wLs",en="_Y8Nppmc",nn="SEgaaWes",tn="QEOoIvHZ",rn="UaP3Xu7z",on="YcoAF7F9",an=function(e){var n=e.title,t=e.optName,r=e.showDot,o=void 0!==r&&r;return p.createElement(p.Fragment,null,p.createElement("div",{className:$e},p.createElement("div",{className:w()(en,(0,i.Z)({},nn,o))}),p.createElement("div",{className:ze},n)),p.createElement("div",{className:tn},"www.douyin.com"),p.createElement("div",{className:rn},t))},ln=function(){var e=(0,p.useState)((function(){var e=qe.Q.getItem({sKey:Y.CookieKeys.HideTitleNotice});return e===undefined||!e})),n=(0,c.Z)(e,2),t=n[0],r=n[1];return p.createElement("div",{className:Qe},p.createElement("div",{className:ze},"\u901a\u77e5\u8bbe\u7f6e"),p.createElement("div",{className:Ye},"\u6d4f\u89c8\u5668\u672a\u8bfb\u6d88\u606f\u7ea2\u70b9"),p.createElement("div",{className:Je},p.createElement("div",{className:w()(Xe,(0,i.Z)({},on,t)),onClick:function(){r(!0),qe.Q.setItem(Y.CookieKeys.HideTitleNotice,!1),b.i.sendLog("notifSettingClick",{status:"on"})}},p.createElement(an,{title:"(1) \u6296\u97f3 - \u8bb0\u5f55\u7f8e\u597d\u751f\u6d3b",optName:"\u5f00\u542f",showDot:!0})),p.createElement("div",{className:w()(Xe,(0,i.Z)({},on,!t)),onClick:function(){r(!1),qe.Q.setItem(Y.CookieKeys.HideTitleNotice,!0),b.i.sendLog("notifSettingClick",{status:"off"})}},p.createElement(an,{title:"\u6296\u97f3 - \u8bb0\u5f55\u7f8e\u597d\u751f\u6d3b",optName:"\u5173\u95ed"}))))},cn=t(34590),sn=t(9909),un=function(e){var n,t,r=e.portalRef,o=e.from,s=e.showNotice,d=e.root,m=(0,_.K)(),h=m.config,g=m.setConfig,R=(0,y.ZP)(g,{auto:!1}),V=R.run,F=R.loading,U=(0,p.useState)(G),H=(0,c.Z)(U,2),Q=H[0],z=H[1],Y=(0,p.useState)(!1),J=(0,c.Z)(Y,2),X=J[0],$=J[1],ee=(0,p.useState)(C.fJ.NONE),ne=(0,c.Z)(ee,2),te=ne[0],re=ne[1];(0,p.useEffect)((function(){b.i.sendLog("onlinePrivacyShow",{enter_method:o})}),[o]);var oe=u()(q).call(q,(function(e){var n,t,r=(0,l.Z)({},e);r.key===C.fJ.PART_FRIEND_CAN_SEE&&(r.count=(null==h||null===(n=h.visible_list)||void 0===n?void 0:n.length)||0);r.key===C.fJ.PART_FRIEND_CAN_NOT_SEE&&(r.count=(null==h||null===(t=h.invisible_list)||void 0===t?void 0:t.length)||0);return r})),ie=(0,y.ZP)((function(){return(0,N.UQ)()}),{auto:!0}).data,ae=(0,p.useMemo)((function(){var e;return f()(e=[{name:"\u9690\u79c1\u8bbe\u7f6e",icon:W,key:G,viewBox:"-10 -10 36 36",iconClassName:D}]).call(e,(0,a.Z)(s?[{name:"\u901a\u77e5\u8bbe\u7f6e",icon:j,key:K,viewBox:"0 0 36 36",iconClassName:M}]:[]))}),[s]);return p.createElement(E.u,{type:"custom",isHide:!1,className:x,maskClosable:!1},p.createElement("div",{className:T},p.createElement("div",{className:S},p.createElement("span",{className:L},"\u8bbe\u7f6e"),p.createElement(k.Z,{className:I,onClick:function(){d.unmount(),r.remove()}})),p.createElement("div",{className:Z},p.createElement("ul",{className:A},u()(ae).call(ae,(function(e){return p.createElement("li",{className:w()(P,(0,i.Z)({},B,Q===e.key)),key:e.key,onClick:function(){z(e.key),$(!1)}},p.createElement(sn.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(e.icon,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:e.iconClassName,viewBox:e.viewBox,width:36,height:36}),p.createElement("span",null,e.name))}))),Q===G&&!X&&p.createElement(we,{className:O,onlineState:null==h?void 0:h.status_switch,onlineStateList:oe,onOnlineStateChange:function(e){var n,t,r="";switch(e){case C.fJ.FRIEND_CAN_SEE:r="all_visible";break;case C.fJ.PART_FRIEND_CAN_SEE:r="part_visible";break;case C.fJ.PART_FRIEND_CAN_NOT_SEE:r="part_invisible";break;case C.fJ.CLOSE_FRIEND_CAN_SEE:r="close_visible"}return b.i.sendLog("onlinePrivacyClick",{action:r}),e===C.fJ.PART_FRIEND_CAN_SEE&&0===(null==h||null===(n=h.visible_list)||void 0===n?void 0:n.length)?($(!0),void re(C.fJ.PART_FRIEND_CAN_SEE)):e===C.fJ.PART_FRIEND_CAN_NOT_SEE&&0===(null==h||null===(t=h.invisible_list)||void 0===t?void 0:t.length)?($(!0),void re(C.fJ.PART_FRIEND_CAN_NOT_SEE)):void V({status_switch:e}).then((function(){cn.F.info("\u8bbe\u7f6e\u6210\u529f")}))},handleEnterIconClick:function(e){re(e),$(!0)},disabled:F,selfAvatar:null==ie||null===(n=ie.user)||void 0===n?void 0:n.avatarUrl}),Q===G&&X&&p.createElement(Ke,{title:null===(t=v()(q).call(q,(function(e){return e.key===te})))||void 0===t?void 0:t.title,className:O,selectedUserList:te===C.fJ.PART_FRIEND_CAN_SEE?null==h?void 0:h.visible_list:null==h?void 0:h.invisible_list,handleCompleteClick:function(e){V({status_switch:te,user_list:e}).then((function(){z(G),$(!1)})).then((function(){cn.F.info("\u8bbe\u7f6e\u6210\u529f")}))},handleBackClick:function(){$(!1),z(G)}}),Q===K&&p.createElement(ln,null))))};function dn(e,n){var t,r=document.createElement("div"),i=document.body;n?(i=n,null==n||n.appendChild(r)):null===(t=i)||void 0===t||t.appendChild(r);var a=(0,h.createRoot)(r);a.render(p.createElement(un,(0,o.Z)({portalRef:r},e,{root:a})))}},26286:function(e,n,t){t.d(n,{m:function(){return m}});var r=t(28712),o=t(68493),i=t.n(o),a=t(60443),l=t(53864),c=t(59676),s=t(25902),u=(0,c.default)((function(){return t.e(2610).then(t.bind(t,67953))})),d=null,f=function(e){var n=e.onSuccess,t=e.onCancel,r=e.enterMethod,o=null;if(d)o=function(){d=null};else{var c=document.createElement("div"),f=document.body;(0,s.r)()&&(f=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement),f.appendChild(c),o=function(){f.style.overflow="",a.unmountComponentAtNode(c),f.contains(c)&&f.removeChild(c)},f.style.overflow="hidden",d=new(i())((function(e,n){a.render(l.createElement(u,{onDestroy:o,onCancel:function(){n()},onSuccess:function(){e(!0)},enterMethod:r}),c)}))}return d.then((function(){d=null,null==n||n()}),(function(){d=null,null==t||t()})).catch((function(){d=null,null==t||t()})),o},m=function(){(0,r.p)()||(window.douyinPanel=window.douyinPanel||{},window.douyinPanel.showLoginCheck=f)}},72176:function(e,n,t){t.d(n,{C:function(){return r}});var r=(0,t(53864).createContext)({})},7607:function(e,n,t){t.r(n),t.d(n,{Context:function(){return d},reducer:function(){return f},effect:function(){return m},initialData:function(){return v}});var r,o=t(64408),i=t(30906),a=t(5594),l=t.n(a),c=t(53864),s=t(13795),u=t(27868),d=(0,c.createContext)(null),f={setUserInfo:function(e,n){var t;return(0,s.D$)(null==n||null===(t=n.userInfo)||void 0===t?void 0:t.uid,null==n?void 0:n.isLogin),(0,i.Z)((0,i.Z)({},e),{},{isLogin:n.isLogin,info:n.userInfo,statusCode:n.statusCode})}},m={updateUserInfo:(r=(0,o.Z)(l().mark((function e(n,t,r){var o,a,c,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.b)();case 2:return o=e.sent,a=o.isLogin,c=o.user,s=o.statusCode,t({type:"setUserInfo",payload:(0,i.Z)((0,i.Z)({},r),{},{userInfo:c,isLogin:a,statusCode:s})}),e.abrupt("return",(0,i.Z)((0,i.Z)({},r),{},{isLogin:a,user:c}));case 8:case"end":return e.stop()}}),e)}))),function(e,n,t){return r.apply(this,arguments)}),setUserInfo:function(e,n,t){n({type:"setUserInfo",payload:(0,i.Z)((0,i.Z)({},t),{},{userInfo:(0,i.Z)((0,i.Z)({},t.info),e.payload)})})}},v={isLogin:undefined,isSpider:!1,info:{},webcastInfo:{},statusCode:0}},87488:function(e,n,t){t.d(n,{I:function(){return s}});var r=t(64408),o=t(32781),i=t(5594),a=t.n(i),l=t(53864),c=function(e){return function(n,t){if(!e[t.type])throw new Error("No Action Handler:".concat(t.type));return e[t.type](n,t.payload)}};function s(e,n){var t=e.reducer,i=e.initialData,s=e.effect,u=(0,l.useReducer)(c(t),n||i),d=(0,o.Z)(u,2),f=d[0],m=d[1],v=(0,l.useCallback)(function(){var e=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s[n.type]){e.next=2;break}throw new Error("No Effect Handler:".concat(n.type));case 2:return e.abrupt("return",s[n.type](n,m,f));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[f]);return[f,v]}},37425:function(e,n,t){var r=t(13795);n.Z=new r.hD({like:{eventName:"like",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",is_full_webscreen:"0",tab_name:"",click_method:"icon",from_follow_list:"0",relation:"",clarity:"",trending_topic:"",first_tag_name:"",top:0,aweme_type:"",is_auto:1,item_duration_ms:0}},clickLike:{eventName:"click_like",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:"",click_method:"",from_follow_list:"0",relation:""}},cancelLike:{eventName:"cancel_like",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:"",relation:"",aweme_type:"",item_duration_ms:0}},clickCommentButton:{eventName:"click_comment_button",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",from_follow_list:"0",trending_topic:"",first_tag_name:"",top:0,aweme_type:"",item_duration_ms:0}},shareMenuShow:{eventName:"share_menu_show",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:""}},shareVideo:{eventName:"share_video",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",from_follow_list:"0",trending_topic:"",first_tag_name:"",top:0,aweme_type:""}},follow:{eventName:"follow",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",relation:"",trending_topic:"",first_tag_name:"",top:0,aweme_type:""}},followCancel:{eventName:"follow_cancel",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",relation:""}},enterPersonalDetail:{eventName:"enter_personal_detail",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:""}},clickRemoveFans:{eventName:"click_remove_fans",params:{to_user_id:"",enter_from:"personal_homepage",click_method:"fans_list"}},removeFans:{eventName:"remove_fans",params:{to_user_id:"",enter_from:"personal_homepage",click_method:"fans_list"}},favoriteVideo:{eventName:"favorite_video",params:{click_from:"icon",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_full_screen:"0",is_full_webscreen:"0",click_method:"",from_xigua:0,clarity:"",trending_topic:"",first_tag_name:"",top:0,aweme_type:"",item_duration_ms:0}},favoriteVideoFailed:{eventName:"favorite_video_failed",params:{click_from:"icon",err_code:0,previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_full_screen:"0"}},cancelFavoriteVideo:{eventName:"cancel_favorite_video",params:{click_from:"icon",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_full_screen:"0",item_duration_ms:0}},playSettingIconShow:{eventName:"play_setting_icon_show",params:{enter_from_merge:"",enter_from:"",icon:""}},installNativePanelClick:{eventName:"install_native_panel_click",params:{action:"cancel"}}})},11157:function(e,n,t){t.d(n,{O:function(){return C},x:function(){return N}});var r=t(30906),o=t(64408),i=t(32781),a=t(5594),l=t.n(a),c=t(82766),s=t.n(c),u=t(31674),d=t.n(u),f=t(21155),m=t.n(f),v=t(50750),p=t.n(v),h=t(53864),g=t(57465),w=t(353),y=t(76335),_=t(56462),b=t(89933),E=t(71116),k=t(34590),C=function(e){return e.LogTrace="87A38998227CBBC23DCAD51CD7F76AB2",e.UserInfo="87A38998227CBBC23DCAD51CD7F76AB2_user_beta",e}({}),N=function(){var e=(0,h.useState)([]),n=(0,i.Z)(e,2),t=n[0],a=n[1],c=function(e){var n,t,r=window.localStorage.getItem(null==g||null===(n=w)||void 0===n?void 0:n.LOG_TRACE)||"";if(r){var o=JSON.parse(r),i=(t=o,s()(t).call(t,(function(e,n){return new Date(n.time).getTime()-new Date(e.time).getTime()}))),a=d()(i);e&&e({logTraceStr:a,logTraceJSON:i})}},u=function(){var e=(0,o.Z)(l().mark((function e(n){var t,o,i,a,s,u,f,v,h,g,N,T,x,S,L,I,Z;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(n||{}).key,o=void 0===t?C.LogTrace:t,e.prev=1,i=_.Q.getItem({sKey:w.CookieKeys.MonitorWebId})||"",a=_.Q.getItem({sKey:w.CookieKeys.MonitorDeviceId})||"",e.next=6,(0,y.d)();case 6:s=e.sent,u=(s||[]).join(","),o===C.LogTrace?c((function(e){var n=e.logTraceJSON,t={};m()(n).call(n,(function(e){t[null==e?void 0:e.url]||(t[null==e?void 0:e.url]=[]),t[null==e?void 0:e.url].push((0,r.Z)((0,r.Z)({},e),{},{monitorWebId:i,monitorDeviceId:a,abTestVids:u}))}));var o=d()(t);(0,b.J)(o),k.F.info("\u5df2\u590d\u5236\u8c03\u8bd5\u4fe1\u606f\u5230\u526a\u5207\u677f")})):o===C.UserInfo&&(I=0===p()((null===(f=window)||void 0===f?void 0:f.SSR_RENDER_DATA)||{}).length?null===(v=window)||void 0===v?void 0:v.SSR_RENDER_DATA:null===(h=window)||void 0===h?void 0:h.SSR_RENDER_DATA_DOC,Z={version:null===(g=window)||void 0===g?void 0:g.version,ab:u,slardar:null===(N=window)||void 0===N||null===(T=N.slardar)||void 0===T||null===(x=T.config)||void 0===x?void 0:x.call(T),odin:(0,E.Es)(),ssr:I,uuid:null===(S=(0,E.Es)())||void 0===S?void 0:S.user_unique_id,uid:null===(L=(0,E.Es)())||void 0===L?void 0:L.user_id,wid:i,did:a},(0,b.J)(d()(Z)),k.F.info("\u5df2\u590d\u5236\u8c03\u8bd5\u4fe1\u606f\u5230\u526a\u5207\u677f")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),k.F.info("\u8c03\u8bd5\u4fe1\u606f\u590d\u5236\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return(0,h.useEffect)((function(){try{c((function(e){var n=e.logTraceJSON;a(n)}))}catch(e){}}),[]),[t,u]}},44635:function(e,n,t){t.d(n,{P:function(){return l}});var r=t(32781),o=t(85792),i=t.n(o),a=t(53864);function l(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.delayDisappear,t=void 0===n?200:n,o=e.delayShow,l=void 0===o?0:o,c=(0,a.useState)(""),s=(0,r.Z)(c,2),u=s[0],d=s[1],f=(0,a.useRef)(0),m=(0,a.useRef)(0);return{type:u,setType:d,changeType:function(e,n){n?d(e):e?function(e){clearTimeout(f.current),l?m.current=i()((function(){d(e)}),l):d(e)}(e):(f.current=i()((function(){d("")}),t),clearTimeout(m.current))},showTimer:m,disappearTimer:f,clearShowTimer:function(){return clearTimeout(m.current)},clearDisappearTimer:function(){return clearTimeout(f.current)}}}},76299:function(e,n,t){t.d(n,{U:function(){return l}});var r=t(85792),o=t.n(r),i=t(54805),a=t(53864);function l(e){var n=e.enterDelay,t=void 0===n?0:n,r=e.leaveDelay,l=void 0===r?200:r,c=e.onMouseEnter,s=e.onMouseLeave,u=(0,a.useRef)(),d=(0,i.Z)((function(e){var n=(arguments.length>1&&arguments[1]!==undefined?arguments[1]:{immediate:!1}).immediate;window.clearTimeout(u.current),n||0===t?c(e):u.current=o()((function(){c(e)}),t)})),f=(0,i.Z)((function(e){var n=(arguments.length>1&&arguments[1]!==undefined?arguments[1]:{immediate:!1}).immediate;window.clearTimeout(u.current),(n||0===l)&&(null==s||s(e)),u.current=o()((function(){null==s||s(e)}),l)}));return(0,a.useEffect)((function(){return function(){window.clearTimeout(u.current)}}),[]),{onMouseEnter:d,onMouseLeave:f}}},33639:function(e,n,t){t.d(n,{o:function(){return c}});var r=t(53864),o=t(95921),i=t(28712),a=t(94556),l=t(17830),c=function(e,n,t){var c=(0,o.TH)(),s=null==c?void 0:c.pathname,u=(0,l.j)();return{isHorizontalLayout:(0,r.useMemo)((function(){return function(e,n,t,r){var o;return n?new RegExp("^/user/self/?$").test(e)?t:new RegExp(a.JO).test(e):!(!(null!=r&&r.isLivePage||!(0,i.p)()&&"live.douyin.com"===(null===(o=window)||void 0===o?void 0:o.location.host))||!/^\/[0-9|a-z|A-Z]{1,}.*/.test(e))||new RegExp(a.jZ).test(e)}(s,e,u,t)}),[s,e,u,t])}}},36609:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(64408),o=t(32781),i=t(5594),a=t.n(i),l=t(53864),c=t(78133),s=function(){var e=(0,l.useState)([]),n=(0,o.Z)(e,2),t=n[0],i=n[1],s=(0,l.useState)(!1),u=(0,o.Z)(s,2),d=u[0],f=u[1];return{liveList:t,updateData:(0,l.useCallback)((0,r.Z)(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,(0,c.y)({});case 3:n=e.sent,f(!1),t=n.data,0===n.statusCode&&i(t);case 7:case"end":return e.stop()}}),e)}))),[]),loading:d}}},97664:function(e,n,t){t.d(n,{Ah:function(){return g},uy:function(){return w},hn:function(){return y}});var r=t(32781),o=t(11227),i=t.n(o),a=t(34346),l=t.n(a),c=t(53864),s=t(28712),u=t(56462),d=t(353),f=t(92281),m=t(37425),v={CanNotDownload:0,CanDownload:1,Unknown:2};function p(){var e;return i()(e=[f.HOME_DOMAIN,f.LIVE_DOMAIN]).call(e,document.domain)?document.domain===f.HOME_DOMAIN?d.CookieKeys.HomeCanAddDY2desktop:d.CookieKeys.LiveCanAddDY2desktop:""}function h(e){if(!(0,s.p)()){var n=p();n&&u.Q.setItem(n,e?"1":"0",d.COOKIE_DEFAULT_EXPIRE_DURATION,"/",d.COOKIE_DOMAIN,"")}}function g(){var e,n;return i()(e=l()(n=[d.CookieKeys.HomeCanAddDY2desktop,d.CookieKeys.LiveCanAddDY2desktop]).call(n,(function(e){return function(e){if((0,s.p)())return v.CanNotDownload;var n=e||p();if(!n)return v.Unknown;var t=u.Q.getItem({sKey:n});return"0"===t?v.CanNotDownload:"1"===t?v.CanDownload:v.Unknown}(e)}))).call(e,v.CanNotDownload)}function w(){var e=(0,c.useRef)(),n=(0,c.useState)(!1),t=(0,r.Z)(n,2),o=t[0],i=t[1];return(0,c.useEffect)((function(){h(!1);var n=function(n){null==n||n.preventDefault(),e.current=n,h(!0),i(!0)},t=function(){h(!1),i(!1)};return window.addEventListener("beforeinstallprompt",n),window.addEventListener("appinstalled",t),function(){window.removeEventListener("beforeinstallprompt",n),window.removeEventListener("appinstalled",t)}}),[]),{PWAInstallable:o,installPWA:(0,c.useCallback)((function(){e.current&&(e.current.prompt(),e.current.userChoice.then((function(n){"accepted"===n.outcome&&(h(!1),i(!1)),m.Z.sendLog("installNativePanelClick",{action:"accepted"===n.outcome?"install":"cancel"}),e.current=null})))}),[])}}var y=(0,c.createContext)(null)},44564:function(e,n,t){t.d(n,{L:function(){return v}});var r=t(64408),o=t(32781),i=t(82371),a=t.n(i),l=t(5594),c=t.n(l),s=t(53864),u=t(34452),d=t(21518),f=t(45921),m=t(14690),v=function(e,n,t){var i=(0,s.useState)(t),l=(0,o.Z)(i,2),v=l[0],p=l[1],h=(0,s.useMemo)((function(){return(0,f.RF)(n,v)}),[v,n]);return(0,s.useEffect)((function(){if(a()(t)){var n=!1;return(0,r.Z)(c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.U2({key:d.TccKey.PageGrayscale,defaultValue:d.TCC_DEFAULT_VALUE_MAP.get(d.TccKey.PageGrayscale),namespace:e});case 2:r=t.sent,(0,m.L)((function(){!n&&p(r)}));case 4:case"end":return t.stop()}}),t)})))(),function(){n=!0}}}),[]),h}},49815:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(8e3),o=t.n(r),i=t(34346),a=t.n(i),l=t(50750),c=t.n(l),s=t(94090),u=t.n(s),d=t(53864),f=t(28712);function m(e,n){var t=(0,d.useRef)({}),r=(0,d.useRef)(0),i=n;if(!(0,f.p)()&&window.isProductionEnv!==undefined&&!window.isProductionEnv){var l,s,m,v;r.current++;var p=o()(l=a()(s=c()(t.current)).call(s,(function(e){return t.current[e]!==i[e]?e:null}))).call(l,(function(e){return Boolean(e)}));window.reactRenderMark=window.reactRenderMark||{};var h=u()(m=(null===(v=window.reactRenderMark[e])||void 0===v?void 0:v.diffKeys)||[]).call(m,[p]);window.reactRenderMark[e]={diffKeys:h,num:r.current},t.current=i}}},20764:function(e,n,t){t.d(n,{K:function(){return d}});var r=t(64408),o=t(32781),i=t(5594),a=t.n(i),l=t(53864),c=t(21518),s=t(34452),u=t(71116),d=function(){var e,n=(0,l.useState)((null===(e=u.Le.getConfig(u.gI.TccData))||void 0===e?void 0:e[c.TccKey.PcRechargeConfig])||c.TCC_DEFAULT_VALUE_MAP.get(c.TccKey.PcRechargeConfig)),t=(0,o.Z)(n,2),i=t[0],d=t[1];return(0,l.useEffect)((function(){var e=!1;return(0,r.Z)(a().mark((function n(){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.U2({key:c.TccKey.PcRechargeConfig,defaultValue:c.TCC_DEFAULT_VALUE_MAP.get(c.TccKey.PcRechargeConfig)});case 2:t=n.sent,e||d(t);case 4:case"end":return n.stop()}}),n)})))(),function(){e=!0}}),[]),{rechargeConfig:i}}},66308:function(e,n,t){t.d(n,{L:function(){return a}});var r=t(30906),o=t(53864),i=t(71116);function a(){var e=(0,o.useRef)(null);return{setModalCardInfo:function(){var n;e.current=i.Le.getConfig(i.gI.PlayerCardInfo),i.Le.setConfig(i.gI.PlayerCardInfo,{isActive:!0,videoCardType:"chat",expandCardType:null===(n=e.current)||void 0===n?void 0:n.expandCardType})},restoreModalCardInfo:function(){e.current&&(i.Le.setConfig(i.gI.PlayerCardInfo,(0,r.Z)({},e.current)),e.current=null)}}}},46230:function(e,n,t){t.d(n,{cQ:function(){return O},DJ:function(){return U}});var r=t(65146),o=t(30673),i=t(30906),a=t(19049),l=t(95508),c=t(76191),s=t.n(c),u=t(46870),d=t.n(u),f=t(11227),m=t.n(f),v=t(8e3),p=t.n(v),h=t(50750),g=t.n(h),w=t(94090),y=t.n(w),_=t(21155),b=t.n(_),E=t(52249),k=t.n(E),C=t(68595),N=t.n(C),T=t(50230),x=t(73231),S=t(97876),L=t(71116),I=t(5611),Z=t(25902),A=t(43850),P=x.bf.Q,D=x.bf.F,M=x.bf.N,B=x.bf.Slash,O=function(e){return e[e.Shift=0]="Shift",e[e.Ctrl=1]="Ctrl",e[e.Meta=2]="Meta",e}({}),R=function(){S.emit(S.EVENT.focusSearch,{isFocus:!1})},V={close:{code:[P.code],combinationKey:[O.Shift]},search:{code:[D.code],combinationKey:[O.Shift],onRegister:function(){S.commonEvent.on("changePrev",R),S.commonEvent.on("changeNext",R)},onDestroy:function(){S.commonEvent.off("changePrev",R),S.commonEvent.off("changeNext",R)}},help:{code:[B.code],combinationKey:[O.Shift]},miniWin:{code:[M.code]}},F=function(e,n){return!n||e.metaKey===(null==n?void 0:m()(n).call(n,O.Meta))&&e.shiftKey===(null==n?void 0:m()(n).call(n,O.Shift))&&e.ctrlKey===(null==n?void 0:m()(n).call(n,O.Ctrl))},W=function(){function e(){(0,a.Z)(this,e),this.pauseList=[],this.currentShortcutList=[],this.config={}}return(0,l.Z)(e,[{key:"getAllActionList",value:function(){return g()(V)}},{key:"getCurrentActionList",value:function(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0],n=s()(this.currentShortcutList,this.pauseList);return e?n:this.currentShortcutList}},{key:"setConfig",value:function(e){var n=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1];this.config=(0,i.Z)((0,i.Z)({},this.config),e),n&&this.refresh()}},{key:"register",value:function(e,n){this.currentShortcutList=e,n&&(this.config=n),this.registerGlobal(e)}},{key:"pause",value:function(e){var n;this.pauseList=y()(n=[]).call(n,(0,o.Z)(this.pauseList),(0,o.Z)(e))}},{key:"resume",value:function(e){var n;this.pauseList=p()(n=this.pauseList).call(n,(function(n){return!m()(e).call(e,n)}))}},{key:"destroy",value:function(){var e=this.currentShortcutList,n=this.getShortcutList(e);b()(e).call(e,(function(e){var t,r;null===(t=n[e])||void 0===t||null===(r=t.onDestroy)||void 0===r||r.call(t)})),document.removeEventListener("keydown",this.globalKeyDownHandler)}},{key:"getShortcutList",value:function(e){return null==e?void 0:k()(e).call(e,(function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n,V[n]))}),{})}},{key:"handleGlobalKeyDown",value:function(e){var n=this;return function(t){var r=d()(e,n.pauseList);(L.Le.getConfig(L.gI.PlayerShortcutConf)||{}).pauseGlobalShortcut||function(e,n){var t,r,o,i,a,l,c,s,u,d,f,v,h,g=null==e||null===(t=e.target)||void 0===t?void 0:t.tagName;if("INPUT"!==g&&"TEXTAREA"!==g&&"true"!==(null==e||null===(r=e.target)||void 0===r?void 0:r.contentEditable)&&!L.Le.getConfig(L.gI.IsAlreadyExsitReportModal)){var w=n.shortcut,y=void 0===w?{}:w,_=n.abtestData;if(null!=y&&null!==(o=y.close)&&void 0!==o&&null!==(i=o.code)&&void 0!==i&&m()(i).call(i,e.code)&&F(e,null==y||null===(a=y.close)||void 0===a?void 0:a.combinationKey)&&((0,I.DT)()?N().app.minimize():(window.location.href="about:blank",window.close())),null!=y&&null!==(l=y.search)&&void 0!==l&&null!==(c=l.code)&&void 0!==c&&m()(c).call(c,e.code)&&F(e,null==y||null===(s=y.search)||void 0===s?void 0:s.combinationKey)&&S.emit(S.EVENT.focusSearch,{isFocus:!0}),null!=y&&null!==(u=y.help)&&void 0!==u&&null!==(d=u.code)&&void 0!==d&&m()(d).call(d,e.code)&&F(e,null==y||null===(f=y.help)||void 0===f?void 0:f.combinationKey)){var b,E=p()(b=["/vs","/vschannel","/vsdetail","/lvdetail"]).call(b,(function(e){var n,t;return null===(n=location)||void 0===n?void 0:m()(t=n.pathname).call(t,e)})).length>0;(0,A.n)({abtestData:null==n?void 0:n.abtestData,logParams:{clickMethod:"hot_key"},shortcutList:E?T.vsShortcutList:null})}if(null!=y&&null!==(v=y.miniWin)&&void 0!==v&&null!==(h=v.code)&&void 0!==h&&m()(h).call(h,e.code)){if((0,Z.r)()||null==_||!_.fullMiniWindow||!(0,I.DT)())return;L.Le.getConfig(L.gI.IsMiniWin)?S.emit(S.EVENT.changeMinWindows,{event:"close",isMiniWin:!1,clickMethod:"hot_key"}):S.emit(S.EVENT.changeMinWindows,{event:"check",isMiniWin:!1,clickMethod:"hot_key"})}}}(t,{shortcut:r,abtestData:n.config.abtestData})}}},{key:"registerGlobal",value:function(e){var n=this.getShortcutList(e);b()(e).call(e,(function(e){var t,r;null===(t=n[e])||void 0===t||null===(r=t.onRegister)||void 0===r||r.call(t)})),this.globalKeyDownHandler=this.handleGlobalKeyDown(n),document.addEventListener("keydown",this.globalKeyDownHandler)}},{key:"refresh",value:function(){this.destroy(),this.register(this.currentShortcutList)}}]),e}(),U=new W},51059:function(e,n,t){t.d(n,{V:function(){return u}});var r,o=t(64408),i=t(5594),a=t.n(i),l=t(53864),c=t(97876),s=t(7782),u=function(e){var n=e.abtestData;(0,l.useEffect)((function(){var e=function(){var i=(0,o.Z)(a().mark((function o(){var i,l,u,d,f,m,v;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Promise.resolve().then(t.bind(t,42053));case 2:return l=o.sent,u=null==l?void 0:l.Mp4Preloader,d=null==l?void 0:l.default,o.next=7,t.e(6615).then(t.bind(t,86615));case 7:if(o.t1=i=o.sent,o.t0=null===o.t1,o.t0){o.next=11;break}o.t0=void 0===i;case 11:if(!o.t0){o.next=15;break}o.t2=void 0,o.next=16;break;case 15:o.t2=i.default;case 16:f=o.t2,null!=n&&n.__isLoaded&&!r&&null!=u&&u.registerPreloader&&f&&d&&((v=(0,s.rR)({abtestData:n})).loadRangeType="gop",null!=n&&n.preloadLoadrangetype&&(v.loadRangeType=null==n?void 0:n.preloadLoadrangetype),r=u.registerPreloader(v,f),null==d||null===(m=d.registerPreloader)||void 0===m||m.call(d,r),window.playerPreloader=r,c.commonEvent.off(c.EVENT.videoPlay,e),c.commonEvent.off(c.EVENT.videoPlayPrevent,e));case 19:case"end":return o.stop()}}),o)})));return function(){return i.apply(this,arguments)}}();return c.commonEvent.on(c.EVENT.videoPlay,e),c.commonEvent.on(c.EVENT.videoPlayPrevent,e),function(){c.commonEvent.off(c.EVENT.videoPlay,e),c.commonEvent.off(c.EVENT.videoPlayPrevent,e)}}),[n])}},7786:function(e,n,t){t.d(n,{s:function(){return h}});var r=t(19049),o=t(95508),i=t(67624),a=t.n(i),l=t(21155),c=t.n(l),s=t(53361),u=t.n(s),d=t(8369),f=t.n(d),m=t(8e3),v=t.n(m),p=t(54867),h=new(function(){function e(){(0,r.Z)(this,e),this.playerMap=new(a()),this.playerCbMap=new(a()),this.playerSceneMap=new(a()),this.playerEntryMap=new(a()),this.playerPageFullscreenMap=new(a()),this.playerRegisterList=[]}return(0,o.Z)(e,[{key:"lastRegisterPlayerId",get:function(){return this.playerRegisterList[this.playerRegisterList.length-1]}},{key:"register",value:function(e){var n=e.player,t=e.scene,r=n.playerId;this.playerMap.set(r,n),this.playerSceneMap.set(r,t),this.playerRegisterList.push(r);var o=this.playerCbMap.get(p.Lw.OnRegister);return(null==o?void 0:o.length)>0&&c()(o).call(o,(function(e){null==e||e({scene:t,playerId:r})})),r}},{key:"unRegister",value:function(e){var n,t,r=e.id;if(r===undefined)return!1;var o=this.playerSceneMap.get(r),i=this.playerCbMap.get(p.Lw.OnUnRegister);(null==i?void 0:i.length)>0&&c()(i).call(i,(function(e){null==e||e({scene:o,playerId:r})}));var a=this.playerMap.delete(r);this.playerSceneMap.delete(r),this.playerEntryMap.delete(r),this.playerPageFullscreenMap.delete(r);var l=u()(n=this.playerRegisterList).call(n,(function(e){return e===r}));return l>-1&&f()(t=this.playerRegisterList).call(t,l,1),a}},{key:"getPlayer",value:function(e){return this.playerMap.get(e)||null}},{key:"getPlayerScene",value:function(e){return this.playerSceneMap.get(e)}},{key:"getPlayersByScene",value:function(e){var n,t=this;return v()(n=this.getAllPlayer()).call(n,(function(n){return t.getPlayerScene(n.playerId)===e}))}},{key:"getAllPlayer",value:function(){var e,n=[];return c()(e=this.playerMap).call(e,(function(e){return n.push(e)})),n}},{key:"setPlayerCardEntry",value:function(e){var n=e.id,t=e.info;return!!this.playerMap.get(n)&&(this.playerEntryMap.set(n,t),!0)}},{key:"getPlayerCardEntry",value:function(e){return(this.playerEntryMap.get(e)||{}).cardEntry}},{key:"pauseOtherPlayer",value:function(e){var n;c()(n=this.playerMap).call(n,(function(n){var t;n.playerId!==e&&(null===(t=n.pause)||void 0===t||t.call(n))}))}},{key:"addCb",value:function(e){var n=this,t=e.event,r=e.cb,o=this.playerCbMap.get(t);return o?o.push(r):this.playerCbMap.set(t,[r]),function(){n.removeCb(e)}}},{key:"removeCb",value:function(e){var n=e.event,t=e.cb,r=this.playerCbMap.get(n);if(r){var o=u()(r).call(r,(function(e){return e===t}));o>-1&&f()(r).call(r,o,1)}}},{key:"setPageFullscreen",value:function(e){var n=e.playerId,t=e.isPageFullscreen,r=this.playerPageFullscreenMap.get(n)||{isPageFullscreen:!1};r.isPageFullscreen=t,this.playerPageFullscreenMap.set(n,r)}},{key:"getPlayerIsPageFullscreen",value:function(e){var n;return(null===(n=this.playerPageFullscreenMap.get(e))||void 0===n?void 0:n.isPageFullscreen)||!1}},{key:"getIsPageFullscreen",value:function(){var e,n=!1;return c()(e=this.playerPageFullscreenMap).call(e,(function(e){e.isPageFullscreen&&(n=!0)})),n}}]),e}())},7782:function(e,n,t){t.d(n,{LX:function(){return N},rR:function(){return k},su:function(){return C},me:function(){return x}});var r=t(30673),o=t(30906),i=t(84639),a=t.n(i),l=t(11227),c=t.n(l),s=t(94090),u=t.n(s),d=t(42053),f=t(22247),m=t(56920),v=t(36177),p=t(5611),h=t(72603),g=t(16437),w=t(71116),y=t(27942);function _(e){var n=e.abTestData,t={};("both"===(null==n?void 0:n.pcdnApplySideServer)||(0,p.DT)()&&"client"===(null==n?void 0:n.pcdnApplySideServer)||!(0,p.DT)()&&"web"===(null==n?void 0:n.pcdnApplySideServer))&&(t=null==n?void 0:n.pcdnConfigServer);var r=a()({openPCDN:!0,enterMinBuffer:10,outMaxBuffer:5,minDuration:25,openPreloadPCDN:!0},null==n?void 0:n.pcdnConfig,t);return function(e){var n=e.abTestData,t="recommend"===(0,h.vM)()||(null==n?void 0:n.pcdnForOtherPage)||(null==n?void 0:n.pcdnForOtherPageServer),r={};("both"===(null==n?void 0:n.pcdnApplySideServer)||(0,p.DT)()&&"client"===(null==n?void 0:n.pcdnApplySideServer)||!(0,p.DT)()&&"web"===(null==n?void 0:n.pcdnApplySideServer))&&(r=null==n?void 0:n.pcdnConfigServer);var o=a()({pcdnOpen:!0},null==n?void 0:n.pcdnConfig,r);return t&&Boolean(o.pcdnOpen)}({abTestData:n})?{pcdnConfig:(0,o.Z)((0,o.Z)({},r),{},{trackerUrl:"https://vc-gate.ndcpp.com/sdk/get_peer"})}:{}}var b,E=function(e){return!!(0,g.Kn)(e)&&(!!function(e){var n=e.forceMseServer,t=e.forceMsePageServer;return!!n&&!!(n===m.GX.Both||n===m.GX.Web&&!(0,p.DT)()||n===m.GX.Client&&(0,p.DT)())&&(!t||new RegExp(t).test((0,h.yW)()))}(e)||!!e.forceMse&&(!e.forceMsePage||new RegExp(e.forceMsePage).test((0,h.yW)())))},k=function(e){var n=e.abtestData,t=(0,o.Z)({preloadTime:5,isDegrade:!1,waitingTimeOut:5e3,preloadCacheType:1,needAutoBitrate:!0,startPreloadMinBuffer:5,maxBufferLength:60,minBufferLength:5,removeBufferLen:60,preloadMaxCacheCount:10,resumePlayWaterLevel:2,xhrSetup:function(){},focusUserDefinition:!0,onProcessMinLen:0,needPreloadCheck:!0,forceVideoPlay:!1,segmentMinDuration:5},_({abTestData:n})),r={};("both"===(null==n?void 0:n.videoPreloadConfigApplySideServer)||(0,p.DT)()&&"client"===(null==n?void 0:n.videoPreloadConfigApplySideServer)||!(0,p.DT)()&&"web"===(null==n?void 0:n.videoPreloadConfigApplySideServer))&&(r=null==n?void 0:n.videoPreloadConfigServer);var i=a()({},null==n?void 0:n.videoPreloadConfig,r,null==n?void 0:n.forceMseConfig,null==n?void 0:n.forceMseConfigServer);return E(n)&&(i.needPreloadCheck=!1),a()({},t,i)},C=function(e){var n=e.awemeInfo,t=e.abtestData;return!!w.Le.getConfig(w.gI.isVideoPlayed)&&((null==n?void 0:n.awemeType)===v.ed.Normal&&(!!(!(0,p.DT)()&&(0,y.E)()&&null!=t&&t.allowMP4Server||(null==t?void 0:t.disableMP4)!==m.eT.On)&&((!(0,p.DT)()||(null==t?void 0:t.disableMP4ClientServer)!==m.uS.On)&&(void 0===b&&(b=d.default.isSupported()),b))))},N=function(e){var n,t,o=e.config,i=e.awemeInfo,a=e.abtestData,l=c()(n=o.plugins).call(n,f.ZP);C({awemeInfo:i,abtestData:a})&&!l&&(o.plugins=u()(t=[]).call(t,(0,r.Z)(o.plugins||[]),[d.default]),o.mp4encryptplayer=k({abtestData:a}))},T=function(e){var n;return Boolean(null==e||null===(n=e.config)||void 0===n?void 0:n.mp4encryptplayer)},x=function(e){var n,t,r,o,i=T(e),a=Boolean((null==e||null===(n=e.preLoadData)||void 0===n?void 0:n.byteLength)||(null==e||null===(t=e.plugins)||void 0===t||null===(r=t.mp4encryptplayer)||void 0===r||null===(o=r.preLoadData)||void 0===o?void 0:o.byteLength));return i&&a}},4836:function(e,n,t){t.d(n,{j1:function(){return I},pL:function(){return Z},Q4:function(){return A},gE:function(){return P}});var r=t(30906),o=t(32781),i=t(64408),a=t(68493),l=t.n(a),c=t(94090),s=t.n(c),u=t(85792),d=t.n(u),f=t(5594),m=t.n(f),v=t(76335),p=t(56920),h=t(91072),g=t(44180),w=t(28712),y=t(65586),_=t(94739),b=t(5611),E=t(71116),k=t(72603),C=t(88817),N=t(25902),T=t(9191),x=t(5277),S=t(7786),L=function(){var e=(0,i.Z)(m().mark((function e(){var n,r,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(800).then(t.bind(t,20800)).then((function(e){return e.default}));case 2:return n=e.sent,e.next=5,t.e(1604).then(t.bind(t,31604)).then((function(e){return e.default}));case 5:return r=e.sent,e.next=8,t.e(8145).then(t.bind(t,88145)).then((function(e){return e.default}));case 8:return o=e.sent,e.abrupt("return");case 11:n.use(),r.use(),o.use(),!0;case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,i.Z)(m().mark((function e(){var n,r,i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Promise.all([t.e(1098),t.e(3250)]).then(t.bind(t,93250)),e.next=3,L();case 3:return(0,g.Fm)(),e.next=6,l().all([n]);case 6:return r=e.sent,i=(0,o.Z)(r,1),a=i[0],e.abrupt("return",a.default);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e,n,t;return(0,w.p)()?"":s()(e="".concat(y.tJ)).call(e,null===(n=window)||void 0===n||null===(t=n.location)||void 0===t?void 0:t.host)},A=function(){var e=(0,i.Z)(m().mark((function e(){var n,t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().all([v.h.getVar({name:"short_link_login_new",defaultValue:0}),v.h.getVar({name:"longtask_opt",defaultValue:p.BG.Default})]);case 2:return n=e.sent,t=(0,o.Z)(n,2),t[0],t[1],e.abrupt("return",{appName:"\u6296\u97f3 Web \u7ad9",aid:6383,isFrontier:!0,frontierUrl:y.uZ?"":"wss://frontier100-normal.zijieapi.com",pushFrontierUrl:y.uZ?"":"wss://frontier100-normal.zijieapi.com",isStopCheckWhenHide:!0,isBoe:y.uZ,mobileCodeLength:6,isOversea:!1,globalMobileSupport:!0,region:"cn",scope:"sso",captchaHost:_.r0.captchaHost,generalParams:{device_platform:(0,b.HA)()},isShortLink:!1,acrawler:y.uZ?0:"1",slardar:{plugins:{fmp:!1,tti:!1}}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,i.Z)(m().mark((function e(n){var t,i,a,c,s,u,f,g,_,b,L,I,P,D,M,B,O,R,V,F,W;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.success,s=n.host,u=n.next,f=n.ScanCodeDescription,g=n.enterMethod,_=n.refreshNumber,b=void 0===_?2:_,L=n.teaEvtParams,I=void 0===L?{}:L,P=n.videoGuideFunc,D=void 0===P?null:P,M=n.operationCallback,B=n.scanCodeNeedLogo,O=void 0!==B&&B,e.next=3,A();case 3:return R=e.sent,e.next=6,l().all([v.h.getVar({name:"check_qr_code_delay_time",defaultValue:p.gJ.Normal})]);case 6:return V=e.sent,F=(0,o.Z)(V,1),W=F[0],e.abrupt("return",(0,r.Z)((0,r.Z)({},R),{},{scanCodeNeedLogo:O,checkQrCodeDelayTime:W,device_id:null===(t=(0,E.Es)())||void 0===t?void 0:t.user_unique_id,slardarContext:{enter_method:g,enter_from:(0,k.vM)()||"",page_type:(0,k.yW)()||"",delay_time:W.toString()||"0",is_short_link:(null==R?void 0:R.isShortLink.toString())||"false"},refreshNumber:b,teaConfig:{appId:6383,config:{evtParams:(0,r.Z)({page_type:(0,k.yW)()||"",enter_method:g,enter_from:(0,k.vM)()||"",url_path:(0,w.p)()?"":null===(i=window)||void 0===i||null===(a=i.location)||void 0===a?void 0:a.pathname,is_guide:"1",video_detail_enter_from:(0,C.z)("web_link"),previous_page:(0,k.yW)("previous_page"),is_active:"0",is_video_guide:"0",is_topknot:"0",is_full_screen:(0,N.r)()?"1":"0",is_full_webscreen:S.s.getIsPageFullscreen()?"1":"0"},I),videoGuideFunc:D,ug_source:(0,T.Rs)("ug_source"),sem_keyword:(0,T.Rs)("sem_keyword"),browser_is_360:(0,x.a2)()?"1":"0"}},host:s||(null===y.k4||void 0===y.k4?void 0:y.k4.sso)||"https://sso.douyin.com",next:u||Z()||"https://www.douyin.com/",loginType:["LOGIN_SCAN_CODE"],ScanCodeDescription:f,operationCallback:M,textConfig:{scanCodeLoginText:{refreshCode:"\u4e8c\u7ef4\u7801\u5df2\u5931\u6548",getCodeFailed:"\u4e8c\u7ef4\u7801\u5df2\u5931\u6548",refreshBtnText:"\u70b9\u51fb\u5237\u65b0",codeFailedBtnText:"\u70b9\u51fb\u5237\u65b0"}},success:function(e){null==c||c(e),d()((function(){(0,h.h)()}),800)}}));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},43670:function(e,n){n.Z={circleButtonWrapper:"gVAgxPt4",circleButtonWithText:"q7itrkcz",circleButton:"XyCeQKrx",iconContainer:"ErRR3mNa",iconSvg:"lG5TmBA_",textBadge:"eWId3EeD",roundBadge:"CPQ46DEr",circleButtonWithTextRoundBadge:"ATU7pfeV",activity:"BYWQkd_k",asianGame:"JdVwkIkJ",transparent:"KakDUzX5",vsTransMode:"tBOngNBR",text:"ck1_UmL3",circleButtonAvatar:"HfOiEY9W",gaokaoSearch:"AqJLILww",imageBadge:"Zqqn054W",circleButtonNoTextImageBadge:"KdFLVILi",circleButtonWithTextImageBadge:"PRw67Cxk",themeSwitch:"Os_brk6Y",dropdownContainer:"hipNfQvh",active:"OLBujdZM",shadowChange:"UyPtgm0l",overflowChange:"vaPb40TJ",dropDownListInCenterChange:"iL8wmqWL",textLinkALink:"F_Jaoez_",conversationDtailAnimationKeyframes:"dVesF2gU",dropDownListInNoCenterChange:"wZr_ore7",showDeleteAllMessageModal:"Pjo5kCGk",dropDownListInNoCenterLeftTopChange:"d9lHvYy5",dropDownListOutChange:"ipS33FS1"}},43530:function(e,n){n.Z={avatar:"v6b8U9mW",hoverPolyfill:"NJCJidcf",hoverBlackPolyfill:"_myc7NDE",clientSvg:"TFMeIANk",clientSvg2:"cKEjosjb",container:"S4fezOdY",more:"iZmyqmpk",menuIcon:"f0BIEwpd",activity:"XwAZh_Qf",vsTransMode:"IEfHgwYQ",transparent:"npBKtGqQ",circleLoginAva:"f5lbMjoD",avataUserMini:"UrwnwwQf",imPlaceHolder:"OoYjm8w7",publishSub:"g_Fuugpm",downloadGuideMini:"QheX_ba3",guidePanel:"dXmr_wXe",menu:"Btx_YQcJ",isActivity:"g7C0zLp1",createMenu:"SEV11UjY",explictShow:"K6rPMPcS",loginSub:"aWPyBtLA",downloadGuide:"Z4LwukWk",userMenuPanelCollect:"qisYjt2z",userMsgBox:"pA5nqHCZ",userMsgWrap:"o4uqW09b",userMsg:"n8V_sfme",title:"OFQ_Yb0Z",count:"ylJtd3fY",countText:"qNPS41BS",verticalDivider:"mcbDmOpc",userMsgPanel:"NljuyTiL",userMsgPanelLogout:"PgyU4yAD",userMenuPanelNoCollect:"N3tuKnpn",hoverBold:"y94wMITO",hoverEnlarge:"jhaTpFsr",loginBtnWrapper:"_p4XfyuB",loginBtnWrapperNew:"VEvSk9tg",miniMenuDropdownContainer:"tkAiNdhA",active:"IU2NTosY",shadowChange:"VXadlSgn",overflowChange:"tYnHvPel",menuSub:"Tpw1XZrP",dropDownListInCenterChange:"aDdXLA_O",miniHomeMenu:"Zb_UAvVr",avataUserCt:"zZCTxOgu",dropdownContainer:"LhQ4swYG",oldactive:"dvyAI5v1",userMenuSub:"V4Yzxf_I",isVsTabTrans:"SoR_03Wj",downloadMenu:"HHaCi3G_",publishCt:"qC6TbH1B",userPanelCollect:"G8y4xI1l",narrowMargin:"zUSFk0DZ",show:"EpuHNq8Q",hidden:"PGkRWDIK",newHeaderContainer:"MFb3tP0s",menuItem:"JTui1eE0",menuItemContent:"IJoYqlbD",rechargePanelOuter:"BVNlyXWu",loading:"NvgcPPdQ",rechagrePanel:"THaLGBrM",downloadMenuUl:"OCnIecKb",clientAvatarLi:"FdrrUXA3",clientAvatr:"_lSBtPda",clearOverflow:"EkKt3Laq",clientAvataUserCt:"i_w6to1W",buttonWithTextContainer:"_bpGHYWu",imEntryWrapper:"sbsB1MYq",isLogout:"k0LXUXqM",miniScreenCooperationDropdownContainerFirstLevel:"wGeFVhGV",isLogin:"SkmaEi5R",miniScreen:"JumcTCiA",wideScreen:"y8n88fK5",wideAndMiniScreen:"y8pluWpo",miniScreenCooperationDropdownContainer:"bsFS1Fty",fixedToHeaderBelow:"IRX9e_93",originMiniScreenDownloadGuideContainer:"L4O8Mf7F",originHoverToShowMiniDownloadGuideFixed:"cHBb3E3F",originHoverToShowMiniDownloadGuide:"E2KK2Set",originDownloadText:"EHPkQyNo",aboutHome:"DFt22uBj",miniScreenDownloadGuideContainer:"AzEUH_xb",hoverToShowMiniDownloadGuideContainer:"PDlxIZNW",hoverToShowMiniDownloadGuide:"bB4zzJJ0",rechageContainer:"Lw_qnFJp",rechageInnerContainer:"UY1ire0g",rechagePanel:"mtivuakc",flexColumnCenter:"uaGzVRKT",originHoverToSHowDownloadGuideBadge:"winAxbAY",downloadTip:"_9P0cO3Sd",goldText:"Z3CjutW5",clientHeaderContainer:"X4Jhp3H6",clientPanelMask:"eX5F_ud2",conversationDtailAnimationKeyframes:"p3ICCmZo",dropDownListInNoCenterChange:"HJ9t1u6K",showDeleteAllMessageModal:"Kk7JQFBt",dropDownListInNoCenterLeftTopChange:"y3wjFYjy",dropDownListOutChange:"JoyQD29U"}},96078:function(e,n){n.Z={entryImg:"Fl0kqiow",activity:"hxObzeVk",vsTransMode:"o2d9ZsaW",transparent:"yfKWg9Sv",popNum:"cNAhsrSo",PopStyle:"IyJcvQVk",digitsNumberPop:"zMJW4Vx0",numberPoint:"Ri4zG0dK",newCharacterPop:"QrMYjyZV",imLoginGuidePanelWrapper:"S2flOjWR",imLoginGuidePanel:"MYCMYVH1",dropDownListInCenterChange:"t7l_Fkw4",desc:"B5vV1GJY",loginBtn:"llyXa0VC",circleButtonNoText:"lSs8pUz9",polymorphicButton:"FxXQWshl",cicleButtonWithText:"ijmpbxwC",textLink:"w_t2UeQ0",shadowChange:"ajqDqrxY",overflowChange:"nCsrzcNJ",conversationDtailAnimationKeyframes:"PJOQYpeI",dropDownListInNoCenterChange:"yMugd459",showDeleteAllMessageModal:"R4c0llcJ",dropDownListInNoCenterLeftTopChange:"rnhULFrG",dropDownListOutChange:"czkoyWDk"}},13529:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABgCAYAAAC+EjQcAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA7xSURBVHgB7VxpbB3VFT5n5nl7drCTOE7I+hISNVCWsAQKjUQISIhNBIkuYnVoS8uPFkFFS1XROCogpEolCBVUVIhNhUpFqwCtSiOK4ggKhRCaAA0QCHbS2IkTSJ7jLX5+M6fnbrPYjj3PGU9pNZ8yefPmrue755x77r3zDJAiRYoUKVKkSJEiRYoUKZIGQkKY/xTdyh/r+crz1bT3NmxJsvxEYUFyaOKrjq8cKEGTLj8hJElQLnBfB6Ujd4LlJ4QkCfqfRErQOJgUJz1vA60GgjtRmYW4YO/ObaE88087F0rBGOXz3M52AmieDMedgRhRt4HqphBsRIKVkBzqmJyV/LlywVPU2I1wXX4N5iEmxGpikhxIlJwQBFG13AeIEbERNO9JahyLHLRsOBFELS9I0jFTLIhPgxDG7NRJ0xu8+9oZJ0OpKKU8D1QjxITYfBB3atlY6bUzZkNldgqgbUN5ZRZKRSnlaZy+lILYCHIduG68PGWVU0zeCeFEy6eYBMQWB/EUuxm+QNhzG14CMSA2E6P/4vQ+mUiXGuMgJWgcpASNg1jXYuPhrHqAm08FWMK7OdXc8u5ugL/vB3j6g3C+dRcALK6Tfm3MWeTGTTDpSIygyxcA/FgvwI3gggRxreDA+O5XAXqHVPqUcoCTq1U+kzmxveFhSISgWRz43ivIYSl7CwB/3aPIWDFbESQ06vrFvF+hNcnShHT1A+z4jDkKqJIgs4YJPNAHiSARglbMUUILfOcVFq5f3bcwIY9crEzva0t8gkRWkV+Q89Dbfj2C6CsXqAwiLQkk4qSX1CqBD/b75Bi81glgozKrmjL1DNHXoiDWnKbT+L55JySCRDRICCWu0RyJMDWTNKVMff/BltHrOadBkfNx90iiJwuJEGQFruGQ5ERwwlfmAGZXq/vnPobEkEwchAEtGpmkzGkchq7KqXx9RYBXOyAxJKdB6DvqEHB8DRJT/nkz1b0gp2cIEkMycZAm53gmZsHYBN1+up/+7C5IFImYmHHCxzMjawwnLiC0R+T5hJ3zx7GdV0RDoiY2GkHHNT2NaxYCzNHO+XcfQVTERmNi07w1hp8RaSJYFlH2cFy7yC+37SBEa48PEiEmJGJiPTrWqS1XsU4Qy2cqAvsKI52vmNaXa/P6cztAZ8TlBS9NXoCYkAhBrfuUkLUVAA9cBLB0qhL+jjMAVi9Sndg8ytS9+hTfBF/cDZFhFeB5iAmJmNjWLhawTZFx6TyAVXPVc9SmdZS15/F3R5YzBO3r5ToimhdX2Nx+B7ZDTEhsw+ynrwM89q4fGBqn/TaTd9vLI81nFRM5t0blH4284yDP2rMOYkRs2yzz+FQjyrm8mJFm1yjhPzgM8OGR0fMtncanqdpffcB5egowPgju2vstjPXts/hOVgm2MN0rx8vX0acuYXZj4cPDUBoI1sVNjkBsJmZZ8r3Bdkgeea05TTAJiM3EBHIbKOcSiAPEHCQAdvCt9iCsidMpD0esBBnIV2EQ7oQYXyLQaGdS2oU5C41tj/FFqRQpUqRIkSJFihQpUqRIkSLF/wsmZbvji4ibXyQgR22hNl8XXewJEfTNjZQ7XlpGbJZZ8DCIvSB9WEh+MvH3FseBR9wxTj8rOY2FGJHeyO06GdhALtdtQa2oOHAemec9qPVPX4Ny0/6mjbQS/Y07BBsEQXnu3/ahMmh75upoopdE0G1/orMKLjRzqWWe1AESgmSEniHfUvjkmShc1jw2xcVPLNGBllBnM7CWy63UZYJNyrpFnYIk8Wsfc4AQfL+RP4krRteCNWVD0BxFkyITxKNX59jwT9CjQkG5uFHRuKzN5T5iqPfyOapUSZa4D77BCgFiAoTqYlLr0G9K5TXPaOTYyBZNH4KCkj96+YwDC0fT0uGIfKpR5FHh/eYFopVsGVC2HD2NIJI9CglxxSLAyxf55UXnHnyd4LMBRCOSFI5IvdeBviif9zOHoZekFU9aSDy1ns/Zvio5Fvnw836Au14hpJA2IZw7i6C6DD1eth0g7B+SabXH1HZwK8RFUAGGlqFjoxjaZQ0W3n5OQHMRifxx9AR2XK09mqB7L0RfaVAPMGFQfeiXb7p4oEc9qc8iNFSjlIh0LtHWl6ajqBtNHXwyi4un6pNaUuqcLSP4/nmorI7zHewjfKWdiA8s+aGLBbTbIQKia5Br14KmYWoVgeuiEdJI6IssOup6xuMpGujRdYPPhQSWkuvtDsI3O1yvzW8vs+C0eqVxaKGSXfNbdGVl8n7uSUA/uci8YYTeGDjK1Mjlvjy2zRWkgiMrw+Z8d7QjqsgEOY6TU4IRTKsqI9G49j3gEaBt33wj//gdiML+TnScDKmazPcOERQd8lSuMmOrdkQdji4frMUN1KPaBE+vfK+EW/a68N5BVz2WdujWAdqsc3AE4iJo0CHvXcJH3yrgo28BLJ9tQ7ZcpR/qJWzvJlg+x/K0gxSDqB2zksG/9xzwzs+ITcBVWUl7J27svS6CT4+IWihAC8Lyk4UJ6c4wuTsPuXBowKQTXDzf9ptn/H5nEYYcz9oFVldVyLPscX9GGt3Eim4Lm0IjkK8m3z03Q+yw5aP2PDvEciDpM1T3AtOYUnVQs5e8J3+Wgl+8UcDOo0od2KnypSp4cddQeJbV31iD4cszlFsSbf+j04WtHUrFzpttwYp5tjdIW/c7rP0E06uUHzzYT2ZcVkIERJ7mBVb9dmAt92qtnCJ4tP9wfZVRe3prX1FqkJ6aPNvTjofMDCSe5epYC+ZkTOO0dssg/uug+qXuVUsy0LisHIKmKXxUYD5HGi0GQ6DhZmw6oJw3wD1/OwZ7usm40vbNt2QXwjgo6eWFY0XnBRuhSTS4oNYSTlApAqt5Zy/Bjq4iBEMWHf7oEfPDknl1GdCuRgq1v8dlp+vKstOZc9c4fVPIUXz7YQX4zOhah73/GPZ7/G3zniJ8ctgl7YiEFjdDBJREkFscqqNMhn0cYYWF6CiZpJBXLimjKxaXoddZrUSmk2YUzUi7arLCrj4XOo4WQfkfF/mO9veS58NmVlvqhiGmaiW3ih0D8wGY74F7DAaz7x4o4pBolLUfLWv9G43V6yACSiKoaNnX8lBL+adVWVAk+XqI8rmaLL2kkCRoP+NF2F5FOjg42OviQ68N8PQrVUGmP7F1AJ+Q1AHMyFrw62tqwAQUL+8uSJIw4Ob8wMqEGXpul7cir7LIzW3CKeuAzR2K/A5jZB+07PEjjRyLbDD+paHGovPnlkmn+n7XEHLH6fQGG2fWWH5ID0GPrGcozZ7AIdYekpMcO9p9Q9RXcL3VRUNNhh5YlcWG6uO+oRPwRCOeh56J5lY/2w3aIdH22+siv/ZTylLjVjYt2fmFUy148LIarM6gNJlONpE1Z1fxczW9mtlpWFfDcRD47kPcbPrkmEy/YE4GbzizChbW2ZJMl7zgeGQ5LT8EdWgUR92Wdzi+cs1gtUMJiE6Q4640I3DvihqsYnJMTHf1lyppQZ1tnGuo0xRwxlKGoC/SedjUpAACp86wYX6tDWJOM7FTV6/DgV4RLl1UIe2wt0D4m239unryqQvNeGqcxH89BaKiDP0l9kDcBC19eH9OzDJCoplTLKivtrhBfynxx50DI/XcTK+IZkEqR1iY2RkNGbj0lEqviNDAoma3vtoW7oxAr7V62ezu2XQULjulAowSVPLgfP2MKvLCLJ/84VE73t96lIPNotcWO6GSXhGORNAxyORAzZDE0zCKdZBZQ4nObdo1ADeclYVZNbbvF4KK7y8C4Jnt/XIqN9oncnbzYrOobUkIL8gXabsPF/H+zUehq8+B6dkqVYakWnA/rPD+km7JbKVY2vWJvoooWhGIrUB9LVACIhHkOG6di2pLoyLDk7EZIW7808OOVN/z51bAoqkZDJhQGJqi5nd6YXq1WmOhHv3OHrEUUCZWKbb89hdg4wf98MbeQTBOu16UYeJ6h1x4fmc/+qyDNwZilXzWzDI4c1a5NPfeQRc/OlQgbWnU8cOGVVAiIhFUICcnTFqoRX1WBogeugcdji94o4iDP2EaOzoH8Ueb9BpQz1ZrL52KF86rlGKImCcnAkUdB4mHnUcdz8S+98LnoenbLN1a3unhmc2G15m0/oIXU4Q0VqzuW66fIQNYQfzHh4t8z0Mrs9MOmAAiEcQONCdl4R5U2mACRGnrQmAx6iqUAeweJDitocyzq1Oml9EFcytRpLOzpWuWZpHJRM+h8+euzwqKoHB8AMbrV5dbsI/bEW1VcVtVGUsXtSSBNZx+5skVdOH8CqFpaq+I8dKufmFepDwhtcIEEI0gFxeYuD43rdw3D5AagdOqbJKzDl9fmVeJF86vDDpLdLQ21GdtvH35SSENPNBbhG0dx4JrW6F+UzEwmf/q2hk0s9oOG62J1gNPRKe0ZsIBNtstbf2CeO3AaUI/cImqQXVaY6giQyjXYHrvOT/osm8g7OwumuwjAjWB1/59jC5fnJWjHURwlPnfdtctXmdnMm0m/ZazT+KI2lbxkB8lKHKGh4p++AAb3jmK+QHHENnWf9/8VpgAIhHEa5ic7gfOyGY8FRYd6ugewg8PHYNvPNtpeo7GHCloMvxs9dIaT1DxZNNHvfDk1ryumhOszHoEa6Or1WDWlAzceLbUuGDgGVqy6N1L8xX62Ce3vJPHv3DdYqcWpeu218EEEdHElA8SXehg1e3sdfSIS4K0g9VkqIOVYXEvwuLpGWlqrPq4+/MCPPd+Dzv0ATSemFnbQjT0gkW8yiZlLzcxOW+z+RnI7eTQ5pmPLu6XqPelXX1MkmFMVvSwu25uC0wQGCnXz9qOoP4LvDRqJV7H20MHXgo57y64URR+tof97SXQtLBdtsWnDnLwR20L1B6+SZezO+pJPtQ/UfN6+PnCu+EEEG2pYVtNbBvrRQCkeuh3UCxBlSbLztw1ouzats1g/nQpQiB+0aRa2MK3dzE55oyqietbD/5+razffJJuNNSGMTXvm9yQX8f9mbDmGETTIIH72hpBLFgtM/1qUS0+QnZhB3emadRyTW05zsa7kN4ff2QtkwJs4XKt8MDC1hFl1nJbLtwSWpoOh6W7b+IFS/xeg/K8iHsR7h+lzhSTg/8Ad+PA/zpZA/sAAAAASUVORK5CYII="},18227:function(e,n,t){e.exports=t.p+"image/NCEE_normal.d43c357f.png"}}]);