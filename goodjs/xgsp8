"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6042],{7237:function(e,t,n){n.r(t),n.d(t,{CellDiv:function(){return A},classPrefix:function(){return y},default:function(){return D}});var c=n(44845),o=n(59056),i=n(94473),a=n.n(i),r=(n(74916),n(67294)),l=n(94184),u=n.n(l),s=n(51615),d=n(23493),m=n.n(d),f=n(68956),_=n(68572),E=n(83901),v=n(92744),p=n(49378),k=n(94614),h=n(96453),w=n(16289),g=n(52030),Z=n(93073),b=function(e){var t=e.onClick,n=e.onCancel;return r.createElement("div",{className:"".concat(y,"__pc")},r.createElement(A,{className:"".concat(y,"__pc-container")},r.createElement("h2",{className:"".concat(y,"__pc-title")},"安装西瓜视频到桌面"),r.createElement("div",{className:"".concat(y,"__pc-content")},"可以直接从桌面快捷访问西瓜视频"),r.createElement("div",{className:"".concat(y,"__pc-footer")},r.createElement(Z.zx,{type:"ghost-weak",marginRight:8,onClick:n},"暂不考虑"),r.createElement(Z.zx,{type:"primary",onClick:t},"立即安装"))))},N=n(91481),S=n(27484),x=n.n(S),C=function(e){var t=document.createElement("a");t.href=globalThis.xssNamespace.xigua_video_web_pc.filterUrl(e,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),t.download="",t.click()},y="BU-FixedGroup",A=function(e){var t=e.className,n=e.children;return r.createElement("div",{className:u()("".concat(y,"__cell"),t)},r.createElement("span",{className:"".concat(y,"__triangle")}),n)},D=function(e){var t=e.className,n=e.onClickFeedback,i=e.isHide,l=(0,k.Z)(),d=l.download_url,Z=l.identity,S=(0,r.useState)(!1),D=(0,o.Z)(S,2),M=D[0],B=D[1],T=(0,r.useState)(!1),L=(0,o.Z)(T,2),O=L[0],W=L[1],G=(0,r.useState)((function(){var e;return(null===(e=a()(d).call(d,(function(e){return"win_desktop"===e.type})))||void 0===e?void 0:e.url)||""})),H=((0,o.Z)(G,1)[0],(0,r.useState)((function(){var e;return(null===(e=a()(d).call(d,(function(e){return"mac_desktop"===e.type})))||void 0===e?void 0:e.url)||""}))),P=((0,o.Z)(H,1)[0],(0,r.useState)((function(){var e;return(null===(e=a()(d).call(d,(function(e){return"exe"===e.type})))||void 0===e?void 0:e.url)||""}))),U=(0,o.Z)(P,1)[0],Y=(0,p.Z)(),z=(0,r.useState)(!1),F=(0,o.Z)(z,2),I=F[0],R=F[1],j=(0,_.Z)(["dark"]),q=(0,o.Z)(j,2),K=(q[0],q[1]),Q=(0,r.useState)(!1),$=(0,o.Z)(Q,2),J=$[0],V=$[1],X=(0,s.TH)(),ee=(0,r.useRef)(!0),te=Z.webid,ne="".concat(te,"_had_show_modal"),ce="".concat(te,"_first_visit_date"),oe=(0,r.useState)("hover"),ie=(0,o.Z)(oe,2),ae=ie[0],re=ie[1],le=(0,r.useRef)(!1),ue=(0,r.useState)({isShow:!1,isHover:!1,isPassive:!1,isIconClicked:!1}),se=(0,o.Z)(ue,2),de=(se[0],se[1],(0,k.Z)().isElectron);(0,r.useEffect)((function(){return me(),window.addEventListener("scroll",ve),function(){return window.removeEventListener("scroll",ve)}}),[]),(0,r.useEffect)((function(){!function(){var e=!1,t=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/}];if("undefined"!=typeof window)for(var n in t)if(t[n].r.test(window.navigator.userAgent)){e=!0;break}return e}()?W(!1):W(!0)}),[]);var me=function(){var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.clientHeight;B(e>t)},fe=function(){ee.current=!1,V(!1)},_e=function(e){f.Z.fixedBtnGroup.table_guide_show({guide_type:e}),re(e)},Ee=new Date;Ee.setDate(Ee.getDate()+365);var ve=(0,r.useCallback)(m()(me,200),[]),pe=Y.isWindows||O;return(0,r.useEffect)((function(){R(null!==document.documentElement.getAttribute("dark"))}),[]),(0,r.useEffect)((function(){w.Z.on(w.o.addToDesktop,(function(e){W(!0),e.modal&&(V(!0),_e("passive"),setTimeout((function(){ee.current&&V(!1)}),1e4))}))}),[]),(0,r.useEffect)((function(){if("1"!==(0,N.$o)(ne)){var e=(0,N.$o)(ce),t=x()().format("YYYYMMDD");e&&t>e?setTimeout((function(){le.current||(V(!0),_e("passive"))}),5e3):(0,N.qQ)(ce,t)}}),[ce,ne]),(0,r.useEffect)((function(){J&&(le.current=!0,(0,N.qQ)(ne,"1"))}),[ne,J]),r.createElement("div",{className:u()(y,t,{showMulti:M,isHide:i})},!de&&r.createElement("div",{className:"".concat(y,"__block"),onClick:function(){var e="true"===document.documentElement.getAttribute("dark");e?(document.documentElement.removeAttribute("dark"),K("dark","false",{path:"/",expires:Ee})):(document.documentElement.setAttribute("dark","true"),K("dark","true",{path:"/",expires:Ee})),f.Z.fixedBtnGroup.theme_change_click({target_theme:e?"light":"dark",pathname:X.pathname}),R(!e)},onMouseEnter:fe},r.createElement(A,null,r.createElement("div",null,I?"切换浅色外观":"切换深色外观")),I?r.createElement(h.iJz,{width:"20",height:"20"}):r.createElement(h.t76,{width:"20",height:"20"})),pe&&!de&&r.createElement("div",{className:u()("".concat(y,"__block"),"".concat(y,"__desktop"),(0,c.Z)({},"".concat(y,"__buddleshow"),J)),onMouseEnter:function(){ee.current=!1},onMouseLeave:function(){V(!1)}},J&&r.createElement(b,{onClick:function(){V(!1),f.Z.fixedBtnGroup.table_guide_click({guide_type:ae,click_position:"close"}),f.Z.fixedBtnGroup.table_icon_click(),(0,g.IF)()?(0,g.pw)("icon"):C(U)},onCancel:function(){f.Z.fixedBtnGroup.table_guide_click({guide_type:ae,click_position:"close"}),V(!1)}}),r.createElement(h.Z4E,{width:"20",height:"20",onMouseEnter:function(){V(!0),_e("hover")}})),!1,!1,r.createElement("div",{className:"".concat(y,"__block"),onClick:function(){E.I.show(),n&&n(),f.Z.fixedBtnGroup.feedback_click({click_position:"entrance"})},onMouseEnter:fe},r.createElement(A,null,r.createElement("div",null,"反馈")),r.createElement(h.d5m,{width:"20",height:"20"})),r.createElement("div",{className:"".concat(y,"__block"),onClick:function(){f.Z.fixedBtnGroup.back_top_click(),(0,v.k3)()},onMouseEnter:fe},r.createElement(h.Phj,{width:"20",height:"20"}),r.createElement(A,null,r.createElement("div",{className:"back-up"},"回到顶部"))))}},49378:function(e,t,n){var c=n(59056),o=(n(68309),n(94614)),i=n(51206),a=n.n(i),r=n(67294);t.Z=function(){var e=(0,o.Z)().userAgent,t=(0,r.useState)((function(){var t=a().getParser(e).getOS().name;return{isMac:t===a().OS_MAP.MacOS,isWindows:t===a().OS_MAP.Windows}}));return(0,c.Z)(t,1)[0]}}}]);
//# sourceMappingURL=https://sourcemap.ixigua.com/obj/xigua-video-web-pc-sourcemap/xgpc/sourcemap/js/Components-BU-FixedButtonGroup.495100cf4d.chunk.js.map