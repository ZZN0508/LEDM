define("pkg/@alife/vbar-atmo-inverted-app/1.1.5/index",["preact-compat","jquery"],function(e,t){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=a(1),i=n(r),l=a(2),o=a(20);a(21),e.exports={title:"\u9080\u7ea6",login:!0,icon:{normal:"url(//img.alicdn.com/tfs/TB1EudgiLDH8KJjy1XcXXcpdXXa-14-12.png) center no-repeat",hover:"url(//img.alicdn.com/tfs/TB1nfgjiBfH8KJjy1XbXXbLdXXa-14-12.png) center no-repeat"},resource:{css:"//astyle.alicdn.com/pkg/"+o.name+"/"+o.version+"/index.css"},panel:{name:"panel-inverted",title:"\u6536\u5230\u7684\u9080\u7ea6",showHeader:!0,render:function(e){return l.createElement("div",{className:"vbar-panel-inverted-content",style:{height:"100%",overflow:"auto"}},l.createElement(i["default"],null))}}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=a(2),c=n(o),s=a(3),u=n(s),d=a(9),f=n(d),p=a(12),m=n(p),h=a(15),v=n(h),g=a(4),y=(n(g),a(18)),b=a(19),E=n(b),N="https://widget.1688.com/front/getJsonComponent.json",w="daoliInvitationForBuyerQueryService",_="buyerIdentityStatusService",x="daoliInvitationBuyerAckService",j=function(e){function t(a){r(this,t);var n=i(this,e.call(this,a));return n.state={pendingList:[],acceptList:[],list:[],number:null,hasIndentify:!1,pending:!0,indentifyPopShow:!1},n}return l(t,e),t.prototype.componentWillMount=function(){var e=this;e.dataQuery(w,{status:"pending",pageSize:5}).then(function(t){var a=t.list||[];a.length>0?e.setState({pendingList:a,list:a,number:a.length}):e.indentifyQuery(_).then(function(t){t||e.setState({hasIndentify:!0})})}),e.dataQuery(w,{status:"accept",pageSize:2}).then(function(t){var a=t.list||[];e.setState({acceptList:a})})},t.prototype.dataQuery=function(e,t){var a={namespace:e,widgetId:e,methodName:"execute",needOfferDetail:!0},n=E["default"].Deferred(),r=E["default"].extend({},a,t);return E["default"].ajax({url:N,dataType:"jsonp",data:r}).done(function(e){return e.errors.length<=0?void n.resolve(e.content):void n.reject({errorMsg:"error"})}).fail(function(e){n.reject({errorMsg:e})}),n.promise()},t.prototype.indentifyQuery=function(e){var t=E["default"].Deferred();return E["default"].ajax({url:N,dataType:"jsonp",data:{namespace:e,widgetId:e,methodName:"execute"}}).done(function(e){t.resolve(e.content.isExist)}).fail(function(){t.reject({errorMsg:error})}),t.promise()},t.prototype.actionQuery=function(e,t){var a={namespace:e,widgetId:e,methodName:"execute"},n=E["default"].Deferred();return E["default"].ajax({url:N,dataType:"jsonp",data:E["default"].extend({},a,t)}).done(function(e){n.resolve(e.content.success)}).fail(function(){n.reject({errorMsg:error})}),n.promise()},t.prototype.closePop=function(){this.setState({indentifyPopShow:!1})},t.prototype.acceptListUpdate=function(e){var t=this,a=t.state.pendingList.slice(0).filter(function(t){return t.activityId!=e.activityId}),n=t.state.acceptList.slice(0);n.unshift(e),this.setState({pendingList:a,acceptList:n,list:a})},t.prototype.ingoreListUpdate=function(e){var t=this,a=t.state.pendingList.slice(0).filter(function(t){return t!==e});this.setState({pendingList:a,list:a})},t.prototype.accept=function(e,t,a){var n=this;(0,y.acceptInvoke)(),window.open(a),n.indentifyQuery(_).then(function(a){a?n.actionQuery(x,{activityId:e,status:"accept"}).done(function(e){e&&n.acceptListUpdate(t)}):n.setState({indentifyPopShow:!0})})},t.prototype.ignore=function(e,t){var a=this;(0,y.ignoreInvoke)(),a.actionQuery(x,{activityId:e,status:"reject"}).done(function(e){e&&a.ingoreListUpdate(t)})},t.prototype.render=function(){var e=this;return c["default"].createElement("div",null,c["default"].createElement(u["default"],{dealWithNumber:this.state.pendingList.length}),this.state.list.length<=0?c["default"].createElement(m["default"],{hasIndentify:this.state.hasIndentify}):c["default"].createElement(f["default"],{list:this.state.list,showAction:this.state.pending,ignore:function(t,a){e.ignore(t,a)},accept:function(t,a,n){e.accept(t,a,n)}}),this.state.indentifyPopShow?c["default"].createElement(v["default"],{close:function(){e.closePop()}}):"")},t}(c["default"].Component);t["default"]=j},function(t,a){t.exports=e},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=a(2),c=n(o),s=a(4);n(s);a(5);var u=function(e){function t(a){return r(this,t),i(this,e.call(this,a))}return l(t,e),t.prototype.render=function(){var e=this.props.dealWithNumber,t="https://i.crm.1688.com/page/daolibuyer.htm?status=pending";return c["default"].createElement("div",{className:"inverted-header"},c["default"].createElement("a",{href:t,target:"_blank"},"\u8fd130\u5929\u6536\u5230",c["default"].createElement("span",{className:"str"},e),"\u6761\u9080\u7ea6",c["default"].createElement("i",{className:"arr"},">")))},t}(c["default"].Component);t["default"]=u},function(e,t,a){var n,r;/*!
   Copyright (c) 2017 Jed Watson.
   Licensed under the MIT License (MIT), see
   http://jedwatson.github.io/classnames
 */
!function(){"use strict";function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var l=a.apply(null,n);l&&e.push(l)}else if("object"===r)for(var o in n)i.call(n,o)&&n[o]&&e.push(o)}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?(a["default"]=a,e.exports=a):(n=[],r=function(){return a}.apply(t,n),!(void 0!==r&&(e.exports=r)))}()},function(e,t){},,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=a(2),c=n(o),s=a(4),u=n(s);a(10);var d=function(e){function t(a){return r(this,t),i(this,e.call(this,a))}return l(t,e),t.prototype.getOfferPrice=function(e){return e=parseInt(e,10),isNaN(e)||(e=(e/100).toFixed(2)),e},t.prototype.renderCard=function(e,t){return e?c["default"].createElement("div",{className:"card-item"},c["default"].createElement("div",{className:"title"},t),c["default"].createElement("div",{className:"des"},"\u6700\u9ad8\u4eab\u53d7",e,"\u6298\u6263"),c["default"].createElement("div",{className:"icon"},c["default"].createElement("span",{className:"img-card"}))):""},t.prototype.renderCoupon=function(e,t){return e?c["default"].createElement("div",{className:"card-item"},c["default"].createElement("div",{className:"title"},"\u4e13\u4eab\u4f18\u60e0\u5238"),8===t&&c["default"].createElement("div",{className:"des"},"\u5305\u90ae"),8!==t&&c["default"].createElement("div",{className:"des"},e,"\u5143"),c["default"].createElement("div",{className:"icon"},c["default"].createElement("span",{className:"img-counpon"}))):""},t.prototype.renderYang=function(e,t,a){return e?c["default"].createElement("div",{className:"card-item"},c["default"].createElement("div",{className:"title"},"\u6837\u54c1"),c["default"].createElement("div",{className:"des"},c["default"].createElement("a",{href:e,target:"_blank"},t)),c["default"].createElement("div",{className:"icon"},c["default"].createElement("img",{src:a,className:"img-offer"}))):""},t.prototype.renderImgs=function(e){var t=this;if(e.length<=0)return null;var a=60,n=3,r=e.length,i={width:(a+n)*r,height:80},l={width:a+n};return c["default"].createElement("div",{className:"img-container"},c["default"].createElement("div",{className:"img-control",style:i},e.map(function(e){var a="https://detail.1688.com/offer/"+e.offerId+".html";return c["default"].createElement("div",{key:e.offerId,className:"img-item",style:l},c["default"].createElement("a",{href:a,target:"_blank"},c["default"].createElement("img",{src:e.image,width:"60",height:"60"}),c["default"].createElement("p",{className:"offer-price"},"\xa5",t.getOfferPrice(e.price))))})))},t.prototype.render=function(){var e=this,t=this.props,a=t.list,n=t.accept,r=t.ignore,i=a||[];return c["default"].createElement("div",null,c["default"].createElement("div",{className:"inverted-list"},i.map(function(t,a){var i,l=t.extraInfo,o="https://i.crm.1688.com/page/daolibuyer.htm?status="+(e.props.showAction?"pending":"accept")+"&opendetail="+t.activityId,s=l.needSpecial,d=!!s&&l.hasDacuRedPacket,f=s?l.pcSpecialUrl:l.winportUrl,p=s?l.specialTitle:"\u63a5\u53d7\u5e76\u8fdb\u5e97\u901b\u901b",m=(0,u["default"])((i={},i["btn-action"]=!0,i["action-accept"]=!0,i["btn-dacu"]=d,i));return c["default"].createElement("div",{className:"card",key:t.activityId,ref:t.activityId},c["default"].createElement("div",{className:"card-header"},c["default"].createElement("a",{href:f,target:"_blank"},c["default"].createElement("p",{className:"title"},t.companyName),t.gradeName?c["default"].createElement("p",{className:"des"},"\u60a8\u662f\u8be5\u5e97\u94fa",t.gradeName):"",c["default"].createElement("span",{className:"line"}))),t.daoliActivityRightDetail.recommendTitle?c["default"].createElement("div",{className:"shop-tips"},c["default"].createElement("a",{href:o,target:"_blank"},t.daoliActivityRightDetail.recommendTitle,c["default"].createElement("i",{className:"arr"},">"))):null,e.renderImgs(t.daoliActivityRightDetail.offerDetailInfoList),c["default"].createElement("div",{className:"card-body"},c["default"].createElement("a",{href:o,target:"_blank"},e.renderCard(t.daoliActivityRightDetail.discount,t.daoliActivityRightDetail.gradeName),e.renderCoupon(t.daoliActivityRightDetail.couponDiscountFee,t.daoliActivityRightDetail.couponType)),e.renderYang(t.daoliActivityRightDetail.sampleOfferUrl,t.daoliActivityRightDetail.sampleOfferTitle,t.daoliActivityRightDetail.sampleOfferImage)),e.props.showAction?c["default"].createElement("div",{className:"card-action"},c["default"].createElement("div",{className:m,onClick:function(){n(t.activityId,t,f)}},p),c["default"].createElement("div",{className:"line"}),c["default"].createElement("div",{className:"btn-action action-ignore",onClick:function(){r(t.activityId,t)}},"\u5ffd\u7565")):"")})),c["default"].createElement("div",{className:"inverted-list-more"},this.props.showAction?c["default"].createElement("a",{href:"https://i.crm.1688.com/page/daolibuyer.htm?status=pending",target:"_blank"},"\u66f4\u591a\u9080\u7ea6>"):c["default"].createElement("a",{href:"https://i.crm.1688.com/page/daolibuyer.htm?status=accept",target:"_blank"},"\u66f4\u591a\u63a5\u53d7>")))},t}(c["default"].Component);t["default"]=d},function(e,t){},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=a(2),i=n(r);a(13);var l=function(e){var t=i["default"].createElement("div",{className:"indentify-action"},i["default"].createElement("p",{className:"title"},"\u5b8c\u5584\u4fe1\u606f\u6709\u52a9\u4e8e\u83b7\u5f97\u66f4\u591a\u9080\u7ea6"),i["default"].createElement("p",null,i["default"].createElement("a",{href:"https://view.1688.com/cms/promotion/Purchasing-card.html?tracelog=1688sidebar",target:"_blank",className:"indentify-btn"},"\u7acb\u5373\u5b8c\u5584")));return i["default"].createElement("div",{className:"inverted-empty"},i["default"].createElement("div",{className:"main"},i["default"].createElement("img",{src:"https://img.alicdn.com/tfs/TB1WWrwSFXXXXaRXXXXXXXXXXXX-181-181.png"}),i["default"].createElement("p",{className:"title"},"\u6682\u65e0\u9080\u7ea6")),e.hasIndentify?t:"")};t["default"]=l},function(e,t){},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=a(2),i=n(r);a(16);var l=function(e){i["default"].createElement("div",{className:"indentify-action"},i["default"].createElement("p",{className:"title"},"\u5b8c\u5584\u4fe1\u606f\u6709\u52a9\u4e8e\u83b7\u5f97\u66f4\u591a\u9080\u7ea6"),i["default"].createElement("p",null,i["default"].createElement("a",{href:"https://view.1688.com/cms/promotion/Purchasing-card.html?tracelog=1688sidebar",target:"_blank",className:"indentify-btn"},"\u7acb\u5373\u5b8c\u5584")));return i["default"].createElement("div",{className:"inverted-pop"},i["default"].createElement("div",{className:"pop"},i["default"].createElement("div",{className:"action"},i["default"].createElement("a",{className:"btn go",href:"https://view.1688.com/cms/promotion/Purchasing-card.html?tracelog=1688sidebar",target:!0},"\u7acb\u5373\u5b8c\u5584"),i["default"].createElement("a",{className:"btn close",onClick:e.close},"\u6682\u4e0d\u5b8c\u6574"),i["default"].createElement("a",{className:"btn close-x",onClick:e.close},"X"))))};t["default"]=l},function(e,t){},,function(e,t){"use strict";t.__esModule=!0;t.acceptInvoke=function(){window["goldlog"]&&goldlog.record("/1688crm.toolbar.accept","CLK","","H1479648468")},t.ignoreInvoke=function(){window["goldlog"]&&goldlog.record("/1688crm.toolbar.ignore","CLK","","H1479648432")}},function(e,a){e.exports=t},function(e,t){e.exports={name:"@alife/vbar-atmo-inverted-app",version:"1.1.5",description:"\u5de5\u5177\u6761-\u9080\u7ea6\u4e2d\u5fc3",main:"index.js",author:"liying.ly",repository:{type:"git",url:"git@gitlab.alibaba-inc.com:vbar/vbar-inverted-app.git"},keywords:["lofty","package","vbar"],scripts:{server:"sudo ./node_modules/.bin/fdserver -d -cf ./fdserver.config.js",watch:"./node_modules/.bin/webpack --watch"},license:"MIT",readmeFilename:"README.md",dependencies:{"@alife/alpha-class":"~1.3.0","@alife/alpha-jquery":"^1.0.9","@alife/lofty-template":"^2.0.0","@alife/refly-mbox":"~0.0.1",classnames:"^2.2.5","extract-text-webpack-plugin":"^1.0.1","json-loader":"^0.5.7",xtend:"~4.0.1"},publishConfig:{registry:"http://registry.npm.alibaba-inc.com"},devDependencies:{"@ali/eslint-config-plover-app":"*","babel-core":"^6.18.0","babel-loader":"^6.2.5","babel-preset-es2015":"^6.18.0","babel-preset-react":"^6.16.0","babel-preset-stage-0":"^6.0.15","babel-register":"^6.18.0","css-loader":"^0.26.1","es3ify-loader":"^0.2.0",eslint:"^2.9.0","eslint-config-airbnb":"^8.0.0","eslint-plugin-babel":"^3.2.0","eslint-plugin-import":"^1.6.1","eslint-plugin-jsx-a11y":"^1.0.4","eslint-plugin-react":"^5.0.1","extract-text-webpack-plugin":"^1.0.1",flux:"^3.1.0",less:"^2.7.1","less-loader":"^2.2.3",mocha:"^3.1.2","react-hot-loader":"^1.3.1",should:"^11.1.1","style-loader":"^0.13.1","unicode-loader":"^1.0.6",webpack:"1.13.2","webpack-dev-server":"^1.16.2","@ali/fdserver":"~0.12.4"},apm:{build:!1,publishFolder:"dist"}}},function(e,t){}])});;