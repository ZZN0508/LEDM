"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([[6756],{94189:function(e,n,t){t.d(n,{Z:function(){return E},F:function(){return g}});var r,i=t(53864),o="cRvoozqu",a="tcbreQ3Q",l="JO7DCSR4",u="uMpD_CaQ",c="_Kq3W5IE",s="YFh5620x",d=t(82524),f=t(32153);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},v.apply(this,arguments)}var m=function(e){return i.createElement("svg",v({width:26,height:26,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M3.373 20.11v-2.502h-1.75v2.502a4.265 4.265 0 004.266 4.266h2.502v-1.75H5.89a2.519 2.519 0 01-2.516-2.516zM20.11 1.624h-2.502v1.75h2.502a2.519 2.519 0 012.516 2.516v2.5h1.75v-2.5a4.265 4.265 0 00-4.266-4.266zM3.373 5.89A2.518 2.518 0 015.89 3.374h2.502v-1.75H5.89A4.265 4.265 0 001.623 5.89v2.5h1.75v-2.5zm19.253 14.22a2.519 2.519 0 01-2.516 2.516h-2.502v1.75h2.502a4.265 4.265 0 004.266-4.266v-2.502h-1.75v2.502zM1.623 12.134h22.753v1.731H1.623v-1.732z",fill:"#fff"})))},_=t(79705),p=t.n(_),h=i.createRef(),g=function(){return h};var E=(0,f.Pi)((function(e){var n=e.className,t=e.qrcode,r=e.avatar,f=(0,d.Z)(),v=f.roomStore.notSupportReason,_=f.eventStore.playerEvent;return(0,i.useEffect)((function(){var e;null==_||null===(e=_.liveAppOnlyEvent)||void 0===e||e.call(_,v)}),[]),i.createElement("div",{className:p()(o,n),style:{backgroundImage:'url("'.concat(r,'")')},ref:h},i.createElement("div",{className:a},i.createElement("p",{className:u},"\u8be5\u5185\u5bb9\u4ec5\u9650\u624b\u673a\u89c2\u770b"),i.createElement("p",{className:c},i.createElement(m,{className:s}),"\u6253\u5f00\u6296\u97f3\uff0c\u626b\u4e00\u626b"),i.createElement("img",{className:l,src:globalThis.xssNamespace.douyin_web.filterUrl(t,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:""})))}))},10970:function(e,n,t){t.d(n,{x:function(){return r}});var r=(0,t(53864).createContext)({})},21160:function(e,n,t){t.d(n,{Y:function(){return a}});var r=t(53864),i=t(89474),o=t(58908);function a(e,n){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[],a=(0,r.useRef)();(0,r.useEffect)((function(){a.current=e}),t),(0,r.useEffect)((function(){if(!i.s){var e,t=o.Z.setIntervalWarp,r=o.Z.clearIntervalWarp;return e=t((function(){a.current()}),n),function(){e&&(null==r||r(e))}}}),[n])}},90979:function(e,n,t){t.d(n,{Y:function(){return S},Z:function(){return I}});var r=t(82524),i=t(64408),o=t(65146),a=t(5594),l=t.n(a),u=t(53864),c=t(60443),s=t(97702),d=t(79705),f=t.n(d),v=t(95138),m=t(86324),_="e6tQuQYr",p="kh_I_Qfu",h="jUjmVSiN",g="pI6pfdd5",E=function(e){var n,t=e.title,r=e.content,i=e.confirmBtnText,a=void 0===i?"\u786e\u5b9a":i,l=e.closeBtnText,c=void 0===l?"\u53d6\u6d88":l,s=e.onConfirm,d=e.onClose,E=e.className;return u.createElement(m.Z,{visible:!0,className:f()((n={},(0,o.Z)(n,g,!0),(0,o.Z)(n,E,Boolean(E)),n)),title:t,onCancel:d,closeable:!1},u.createElement("div",{className:_},u.createElement("div",{className:p},r),u.createElement("div",{className:h},u.createElement(v.zx,{type:v.L$.secondary,onClick:function(){d&&d()}},c),u.createElement(v.zx,{onClick:function(){s&&s()}},a))))},y=t(34541),S=function(e){return e.Red="1",e.Blue="2",e}({}),I=function(){var e=(0,r.Z)().linkmicStore,n=e.teamfightInfo,t=e.linkMicSeats,o=(0,y.Z)({teamfightInfo:n,linkMicSeats:t}),a=o.isGroupFight,d=o.statusTexting,f=o.pickEmptySeatPositionByGroup,v=o.groupMemberCnts,m=o.willInterruptWithPosQuit,_=o.leftTeamScore,p=o.rightTeamScore,h=o.status,g=o.countDown,I=o.isInPunish,L=o.isGroupPlaying,k=o.redGroupSeats,w=o.blueGroupSeats,Z=function(){var e,n,t=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).elementClass,r=void 0===t?"confirm-modal":t,o=function(){e&&n&&(s.ZP.removeClass(n,r),c.unmountComponentAtNode(n),e.removeChild(n),e.style.overflow="")};return{showModal:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},a=t.title,d=t.content,f=t.confirmBtnText,v=t.closeBtnText,m=t.onConfirm,_=t.onClose,p=t.className,h=function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=3;break}return e.next=3,m();case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=3;break}return e.next=3,_();case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e=document.body,(n=s.ZP.findDom(e,".".concat(r)))||(n=document.createElement("div"),s.ZP.addClass(n,r),e.appendChild(n),e.style.overflow="hidden",c.render(u.createElement(E,{title:a,content:d,confirmBtnText:f,closeBtnText:v,onConfirm:h,onClose:g,className:p}),n))},destroyModal:o}}(),b=Z.showModal;return{isGroupFight:a,statusTexting:d,pickEmptySeatPositionByGroup:f,groupMemberCnts:v,willInterruptWithPosQuit:m,exitGameConfirm:function(e,n){if(n){var t=String(n)===S.Red?"\u7ea2\u961f":"\u84dd\u961f";b({title:"\u786e\u8ba4\u9000\u51fa".concat(t,"\u5417"),content:"\u9000\u51fa\u540e".concat(t,"\u4eba\u6570\u4e3a 0\uff0c\u56e2\u6218\u5c06\u81ea\u52a8\u7ed3\u675f"),onConfirm:function(){e()}})}},leftTeamScore:_,rightTeamScore:p,status:h,countDown:g,isInPunish:I,isGroupPlaying:L,redGroupSeats:k,blueGroupSeats:w}}},42044:function(e,n,t){var r=t(56402),i=t.n(r),o=t(19672),a=t.n(o),l=t(11227),u=t.n(l),c=t(53864),s=t(82524),d=t(62232),f=t(9727);n.Z=function(){var e=(0,s.Z)(),n=e.linkmicStore.guestBattleInfo,t=e.userStore.userInfo,r=i()(t,"user_attr.is_admin",!1),o=i()(t,"user_attr.admin_privileges",[]),l=c.useMemo((function(){return r&&a()(o)&&(u()(o).call(o,d.s.LinkmicGuestBattlePrivilege)||u()(o).call(o,d.s.AudienceLinkmicPlaymodeControl))}),[r,o]),v=(0,f.Z)({guestBattleInfo:n});return{isGuestBattle:v.isGuestBattle,status:v.status,isInPunish:v.isInPunish,isGuestPlaying:v.isGuestPlaying,isGuestBattleManger:l}}},68864:function(e,n,t){var r=t(30906),i=t(89884),o=t.n(i),a=t(56402),l=t.n(a),u=t(84639),c=t.n(u),s=t(68493),d=t.n(s),f=t(94090),v=t.n(f),m=t(85797),_=t.n(m),p=t(58144),h=t.n(p),g=t(85792),E=t.n(g),y=t(74637),S=t(15504),I=t(51185),L=t(18171),k=t(75478),w=t(6279),Z=t(17018),b=t(41764),N=t(51103),C=t(74584),O=t(34590),P=t(53864),T=t(82524),A=t(51365),M=t(5611),D=t(16016),R=t(87432);n.Z=function(){var e=(0,T.Z)(),n=e.roomStore.roomInfo,t=e.linkmicStore,i=t.setLinkStatus,a=t.linkStatus,u=t.selectedPosition,s=t.setApplySource,f=t.setIsCandidate,m=t.linkMicSeats,p=t.setSelfLinkedPosition,g=t.linkMicConfig,x=t.setDevices,V=e.userStore.userInfo,F=(e.paidLiveStore.paidLiveAuth,e.eventStore),U=F.linkmicEvent,B=F.linkmicBaseEvent,G=F.slardarEvent,H=(0,C.n)().player,K=P.useMemo((function(){var e;return null===(e=m[null!=u?u:""])||void 0===e?void 0:e.user}),[m,u]),j=l()(n,"anchor.id_str",""),W=l()(n,"roomId",""),Y=P.useCallback((function(e,n){var t=n||{},r=t.priorityPosition,o=t.teamFightTeamId,a=o?{teamfight_team_id:o}:undefined,l=r||u;return(0,y.q7)(c()({room_id:W,anchor_id:j,link_type:e,apply_type:b.XC.NORMAL,guest_supported_vendor:4},l===undefined?{}:{position:l},a)).then((function(e){var n,t,r=e.data,a=e.logId,l=r.status_code;if(null==G||G.linkmicApplyRequestLog(l),0===l){var u;if(i(w.cK.LINKING),g.config[N.V9.AU_BigPartyAcceptNeedVerified]===N.q2.OPEN||g.config[N.V9.AU_AudioChatAcceptNeedVerified]===N.q2.OPEN){var c;O.F.info((null==r||null===(c=r.data)||void 0===c?void 0:c.prompts)||"\u7533\u8bf7\u6210\u529f\uff0c\u7b49\u5f85\u4e3b\u64ad\u901a\u8fc7",H.root)}else{var s,m=null==r||null===(s=r.data)||void 0===s?void 0:s.prompts;m&&O.F.info(m,H.root)}null!=r&&null!==(u=r.data)&&void 0!==u&&u.auto_join_full&&f(!0),null==U||U.liveApplyLinkMicEvent({grouppk_group:"1"===o?"red":"blue"})}else if(4016005===l)O.F.info("\u5f53\u524d\u76f4\u64ad\u95f4\u4ec5\u652f\u6301\u7c89\u4e1d\u8fde\u7ebf\uff0c\u8bf7\u5148\u5173\u6ce8\u4e3b\u64ad",H.root);else if(30010===l)O.F.info("\u60a8\u5f53\u524d\u672a\u5b9e\u540d\u8ba4\u8bc1\uff0c\u8bf7\u53bb\u624b\u673a\u7aef\u8fdb\u884c\u5b9e\u540d\u8ba4\u8bc1\u540e\u91cd\u8bd5",H.root);else{var _;O.F.info((null==r||null===(_=r.data)||void 0===_?void 0:_.prompts)||"\u7533\u8bf7\u4e0a\u9ea6\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",H.root)}return 0===l?d().resolve(r):(S.k.event(v()(n="[".concat(A.Tn.Error,"]")).call(n,A.Mo.LiveApplyLinkError),{statusCode:l,logId:null!=a?a:"",message:(null==r||null===(t=r.data)||void 0===t?void 0:t.prompts)||"",is_client:(0,M.DT)()}),S.k.error("\u7533\u8bf7\u4e0a\u9ea6\u5931\u8d25",r,a),d().reject(r))}))}),[i,W,j,u,f,g.config,H]),z=P.useCallback((function(e,n,t){var r;if(a===w.cK.NOT_LINK)return d().resolve();if(t&&"function"==typeof(null===(r=navigator)||void 0===r?void 0:r.sendBeacon)){var l=new(_());return l.append("room_id",W),l.append("end_reason","".concat(Z.n0.CloseRoomTypeNormal)),l.append("request_source","leave_normally"),navigator.sendBeacon("".concat((0,D.Pe)(),"/webcast/linkmic_audience/leave/?aid=6383&live_id=1"),l),d().resolve()}return a===w.cK.LINKED&&(null==U||U.liveLeaveLinkMicEvent(e,n),null==U||U.liveAudiencePlayModeRoomLinkDurationEvent()),(0,y.TL)({room_id:W,end_reason:Z.n0.CloseRoomTypeNormal,request_source:"leave_normally"}).then((function(e){var n,t,r=e.data,a=e.logId,l=r.status_code;return null==G||G.linkmicLeaveRequestLog(l),0===l?(x({audio:undefined,video:undefined}),i(w.cK.NOT_LINK)):31001===l?o()():O.F.info("\u65ad\u5f00\u8fde\u7ebf\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",H.root),0===l?d().resolve(r):(S.k.event(v()(n="[".concat(A.Tn.Error,"]")).call(n,A.Mo.LiveLeaveLinkError),{statusCode:l,logId:null!=a?a:"",message:(null==r||null===(t=r.data)||void 0===t?void 0:t.prompts)||"",is_client:(0,M.DT)()}),S.k.error("\u65ad\u5f00\u8fde\u7ebf\u5931\u8d25",r,a),d().reject(r))})).finally((function(){s(I.JW.NONE)}))}),[W,i,s,a,H,x]),q=P.useCallback((function(){return(0,y.JJ)(W).then((function(e){var n,t,r=e.data,o=e.logId,a=r.status_code;if(null==G||G.linkmicJoinChannelLog(a),0===a){var l,u,c;if(i(w.cK.LINKED),null!=r&&null!==(l=r.data)&&void 0!==l&&l.delegate_setting){var s,f=(null==r||null===(s=r.data)||void 0===s?void 0:s.delegate_setting).enable_delegate;localStorage.setItem(L.QU,f?I.eG.ON:I.eG.OFF)}var m=null==r||null===(u=r.data)||void 0===u||null===(c=u.linked_users)||void 0===c?void 0:h()(c).call(c,(function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.id_str)===(null==V?void 0:V.id_str)}));m&&p(m.user_position),O.F.info("\u8fde\u7ebf\u6210\u529f",H.root),(B.isGuestBattle()||B.isGroupFight())&&E()((function(){null==U||U.liveAudiencePlayModeRoomLinkEvent()}),2e3)}return 0===a?d().resolve(r):(S.k.event(v()(n="[".concat(A.Tn.Error,"]")).call(n,A.Mo.LiveJoinChannelError),{statusCode:a,logId:null!=o?o:"",message:(null==r||null===(t=r.data)||void 0===t?void 0:t.prompts)||"",is_client:(0,M.DT)()}),S.k.error("\u52a0\u5165\u8fde\u9ea6\u623f\u95f4\u5931\u8d25",r,o),d().reject(r))}))}),[W,i,p,V,H]),Q=P.useCallback((function(e){var n;return(0,y.VV)({room_id:W,sec_to_user_id:e||(null==K||null===(n=K.user)||void 0===n?void 0:n.sec_uid)||"",silence_type:b.av.SILENCE_TYPE_NORMAL}).then((function(e){var n,t,r,i=e.data,o=e.logId,a=i.status_code;return null==G||G.linkmicSilenceRequestLog(a),0===a?(O.F.info("\u9759\u97f3\u6210\u529f"),d().resolve(i)):(S.k.event(v()(n="[".concat(A.Tn.Error,"]")).call(n,A.Mo.LiveApplySilenceError),{statusCode:a,logId:null!=o?o:"",message:(null==i||null===(t=i.data)||void 0===t?void 0:t.prompts)||"",is_client:(0,M.DT)()}),S.k.error("\u9759\u97f3\u5931\u8d25",i,o),O.F.info((null==i||null===(r=i.data)||void 0===r?void 0:r.prompts)||"\u7533\u8bf7\u9759\u97f3\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",H.root),d().reject(i))}))}),[W,K,H]),J=P.useCallback((function(e){var n;return(0,y.AE)({room_id:W,sec_to_user_id:e||(null==K||null===(n=K.user)||void 0===n?void 0:n.sec_uid)||""}).then((function(e){var n,t,r,i=e.data,o=e.logId,a=i.status_code;return 0===a?(O.F.info("\u53d6\u6d88\u9759\u97f3\u6210\u529f",H.root),d().resolve(i)):(S.k.event(v()(n="[".concat(A.Tn.Error,"]")).call(n,A.Mo.LiveApplyUnSilenceError),{statusCode:a,logId:null!=o?o:"",message:(null==i||null===(t=i.data)||void 0===t?void 0:t.prompts)||"",is_client:(0,M.DT)()}),S.k.error("\u53d6\u6d88\u9759\u97f3\u5931\u8d25",i,o),O.F.info((null==i||null===(r=i.data)||void 0===r?void 0:r.prompts)||"\u7533\u8bf7\u53d6\u6d88\u9759\u97f3\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",H.root),d().reject(i))}))}),[W,K,H]),X=P.useCallback((function(e){var n=e||{},t=n.from,r=n.to;return null==U||U.liveGuestSwitchSeatEvent(u,{from:t,to:r}),(0,y.oX)({room_id:W,to_position:u}).then((function(e){var n,t,r,i=e.data,a=e.logId,l=i.status_code;return 0===l?d().resolve(i):(4004177===l?o()():(S.k.event(v()(n="[".concat(A.Tn.Error,"]")).call(n,A.Mo.LiveSwitchMicError),{statusCode:l,logId:null!=a?a:"",message:(null==i||null===(t=i.data)||void 0===t?void 0:t.prompts)||"",is_client:(0,M.DT)()}),O.F.info((null==i||null===(r=i.data)||void 0===r?void 0:r.prompts)||"\u5207\u6362\u9ea6\u4f4d\u5931\u8d25",H.root),S.k.error("\u5207\u6362\u9ea6\u4f4d\u5931\u8d25",i,a)),d().reject(i))}))}),[W,u,H]);return{apply:Y,leave:z,join:q,silence:Q,unSilence:J,enableVideo:P.useCallback((function(e){var n;return(0,y.SR)(W,e||(null==K||null===(n=K.user)||void 0===n?void 0:n.id_str)||"").then((function(e){var n,t,r,i=e.data,o=e.logId;0!==(null==i?void 0:i.status_code)&&(S.k.event(v()(n="[".concat(A.Tn.Error,"]")).call(n,A.Mo.LiveEnableVideoError),{statusCode:null==i?void 0:i.status_code,logId:null!=o?o:"",message:(null==i||null===(t=i.data)||void 0===t?void 0:t.prompts)||"",is_client:(0,M.DT)()}),O.F.info((null==i||null===(r=i.data)||void 0===r?void 0:r.prompts)||"\u7533\u8bf7\u5f00\u542f\u89c6\u9891\u5931\u8d25, \u8bf7\u7a0d\u540e\u91cd\u8bd5",H.root));return 0===(null==i?void 0:i.status_code)?d().resolve(i):(S.k.error("\u5f00\u542f\u89c6\u9891\u8fde\u7ebf\u5931\u8d25",i,o),d().reject(i))}))}),[W,K,H]),disableVideo:P.useCallback((function(e){var n;return(0,y.cJ)(W,e||(null==K||null===(n=K.user)||void 0===n?void 0:n.id_str)||"").then((function(e){var n,t,r,i=e.data,o=e.logId;0!==(null==i?void 0:i.status_code)&&(S.k.event(v()(n="[".concat(A.Tn.Error,"]")).call(n,A.Mo.LiveDisableVideoError),{statusCode:null==i?void 0:i.status_code,logId:null!=o?o:"",message:(null==i||null===(t=i.data)||void 0===t?void 0:t.prompts)||"",is_client:(0,M.DT)()}),O.F.info((null==i||null===(r=i.data)||void 0===r?void 0:r.prompts)||"\u7533\u8bf7\u5173\u95ed\u89c6\u9891\u5931\u8d25, \u8bf7\u7a0d\u540e\u91cd\u8bd5",H.root));return 0===(null==i?void 0:i.status_code)?d().resolve(i):(S.k.error("\u5f00\u542f\u89c6\u9891\u8fde\u7ebf\u5931\u8d25",i,o),d().reject(i))}))}),[W,K,H]),switchMic:X,kickout:P.useCallback((function(e,n){(0,y.bZ)({room_id:W,to_user_id:e,sec_to_user_id:n,request_source:"admin_stop_in_preview"}).then((function(e){var n,t=e.data,r=e.logId;0!==(null==t?void 0:t.status_code)&&O.F.info((null==t||null===(n=t.data)||void 0===n?void 0:n.prompts)||"\u65ad\u5f00\u8fde\u7ebf\u5931\u8d25",H.root);return 0===(null==t?void 0:t.status_code)?d().resolve(t):(S.k.error("\u65ad\u5f00\u8fde\u7ebf\u5931\u8d25",t,r),d().reject(t))}))}),[W,H]),enlargeInvite:P.useCallback((function(e,n){(0,y.Ix)({room_id:W,to_user_id:e,invite_type:n}).then((function(e){var t,r=e.data,i=e.logId;0!==(null==r?void 0:r.status_code)&&O.F.info((null==r||null===(t=r.data)||void 0===t?void 0:t.prompts)||"\u8bbe\u7f6e\u4e3b\u5496\u5931\u8d25",H.root);return 0===(null==r?void 0:r.status_code)?(n===b.fE.EnlargeGuestInviteType_ENLARGE&&O.F.info("\u5df2\u5411\u5609\u5bbe\u53d1\u9001\u9080\u8bf7\uff0c\u540c\u610f\u540e\u5609\u5bbe\u653e\u5927\u81f3\u4e3b\u5496\u4f4d"),d().resolve(r)):(S.k.error("\u8bbe\u7f6e\u4e3b\u5496\u5931\u8d25",r,i),d().reject(r))}))}),[W,H]),applyCameraInvite:P.useCallback((function(e,n){(0,y.YG)({room_id:W,to_user_id:e,reply_type:n}).then((function(e){var n,t=e.data,r=e.logId;0!==(null==t?void 0:t.status_code)&&O.F.info((null==t||null===(n=t.data)||void 0===n?void 0:n.prompts)||"\u56de\u590d\u9080\u8bf7\u5931\u8d25",H.root);return 0===(null==t?void 0:t.status_code)?d().resolve(t):(S.k.error("\u56de\u590d\u9080\u8bf7\u5931\u8d25",t,r),d().reject(t))}))}),[W,H]),applyLinkInvite:P.useCallback((function(e,n,t){(0,y.fF)({room_id:W,sec_to_user_id:e,reply_type:n,link_type:t}).then((function(e){var n,t=e.data,i=e.logId;0!==(null==t?void 0:t.status_code)&&O.F.info((null==t||null===(n=t.data)||void 0===n?void 0:n.prompts)||"\u56de\u590d\u9080\u8bf7\u5931\u8d25",H.root);if(0===(null==t?void 0:t.status_code)){var o;S.k.info("\u540c\u610f\u4e0a\u9ea6\u56de\u8c03",t),null==G||G.linkmicReadyToLink(R.CT.Invite);var a=(0,r.Z)({},(0,k.OM)(null==t?void 0:t.data)),l=new CustomEvent("webcast_join_room_invite",{detail:a});return null===(o=document)||void 0===o||o.dispatchEvent(l),d().resolve(t)}return S.k.error("\u56de\u590d\u9080\u8bf7\u5931\u8d25",t,i),d().reject(t)}))}),[W,H])}}},80497:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(82524),i=t(53864),o=function(e){var n=e.orderSingInfo;return{isOrderSing:i.useMemo((function(){return Boolean(n)}),[n])}},a=function(){var e=(0,r.Z)().linkmicStore.orderSingInfo;return{isOrderSing:o({orderSingInfo:e}).isOrderSing}}},7028:function(e,n,t){var r=t(59858);n.Z=function(){var e=(0,r.j)();return{liveHighClientH265:e.liveHighClientH265,liveHighWebH265:e.liveHighWebH265}}},82524:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(53864),i=t(10970);function o(){var e=(0,r.useContext)(i.x);if(e===undefined)throw new Error("useStore must be used within StoreProvider");return e}},315:function(e,n,t){t.d(n,{W:function(){return G}});var r=t(64408),i=t(95508),o=t(19049),a=t(65146),l=t(30906),u=t(56402),c=t.n(u),s=t(5594),d=t.n(s),f=t(67624),v=t.n(f),m=t(94090),_=t.n(m),p=t(34346),h=t.n(p),g=t(8e3),E=t.n(g),y=t(92524),S=t.n(y),I=t(20569),L=t(33611),k=t(35039),w=t(34590),Z=t(88942),b=t(25980),N=t(72943),C=t(15504),O=t(9024),P=t(40496),T=t(49915),A=t(91615),M=t(51365),D=t(5611),R=1,x=0,V=(0,i.Z)((function e(n,t,i,u){var s=this;(0,o.Z)(this,e),(0,a.Z)(this,"_containerName",undefined),(0,a.Z)(this,"_eventListenerMap",new(v())),(0,a.Z)(this,"_store",null),(0,a.Z)(this,"_roomId",""),(0,a.Z)(this,"_container",null),(0,a.Z)(this,"openScheme",function(){var e=(0,r.Z)(d().mark((function e(n){var t,r,i,o,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.url,r=n.isLiveModal,i=void 0!==r&&r,e.prev=1,o=(0,k.zP)(t),a=o.url,s._container.open(a,undefined,undefined,undefined,i),e.abrupt("return",{code:R});case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{code:x});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"openUrl",function(){var e=(0,r.Z)(d().mark((function e(n){var t,r,i,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.url,r=n.position,i=n.garfishConfig,o=n.globalProps,e.prev=1,s._container.open(t,r,i,o),e.abrupt("return",{code:R});case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{code:x});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"close",function(){var e=(0,r.Z)(d().mark((function e(n){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s._containerName&&s._container.close(null!==(t=null==n?void 0:n.containerName)&&void 0!==t?t:s._containerName),e.abrupt("return",{code:R});case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",{code:x});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"fetch",function(){var e=(0,r.Z)(d().mark((function e(n){var t,r,i,o,a,l,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.params,r=n.data,i=n.headers,o=n.url,a=void 0===o?"":o,l=n.method,u=void 0===l?"GET":l,e.prev=1,e.next=4,(0,L.Z)({url:a.replace(/^https?:\/\/[^/]+/,""),method:u,headers:i,data:r,params:t});case 4:return c=e.sent,e.abrupt("return",{code:R,raw:null==c?void 0:c.data});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{code:x});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"sendLogV3",function(){var e=(0,r.Z)(d().mark((function e(n){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.eventName,r=n.params,e.prev=1,window.collectEvent(t,(0,l.Z)((0,l.Z)((0,l.Z)({},(0,b.m6)()),(0,k.Kj)(s._store)),r)),e.abrupt("return",{code:R});case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{code:x});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"on",function(){var e=(0,r.Z)(d().mark((function e(n){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.eventName,r=n.callback,e.prev=1,window.Garfish.channel.on(t,r),s._eventListenerMap.set(t,r),e.abrupt("return",{code:R});case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{code:x});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"webcastBroadcast",function(){var e=(0,r.Z)(d().mark((function e(n){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.eventName,r=n.params,e.prev=1,window.Garfish.channel.emit(t,r),e.abrupt("return",{code:R});case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{code:x});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"subscribeEvent",function(){var e=(0,r.Z)(d().mark((function e(n){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.eventName,r=n.callback,e.prev=1,window.Garfish.channel.on(t,r),s._eventListenerMap.set(t,r),e.abrupt("return",{code:R});case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{code:x});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"publishEvent",function(){var e=(0,r.Z)(d().mark((function e(n){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.eventName,r=n.params,e.prev=1,window.Garfish.channel.emit(t,r),e.abrupt("return",{code:R});case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{code:x});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"unSubscribeEvent",function(){var e=(0,r.Z)(d().mark((function e(n){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.eventName,r=n.listener,e.prev=1,window.Garfish.channel.off(t,r),e.abrupt("return",{code:R});case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{code:x});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"setStorage",function(){var e=(0,r.Z)(d().mark((function e(n){var t,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.key,r=n.value,e.prev=1,localStorage.setItem(_()(i="".concat(k.cp,"_")).call(i,t),r),e.abrupt("return",{code:R});case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{code:x});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"getStorage",function(){var e=(0,r.Z)(d().mark((function e(n){var t,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.key,e.prev=1,e.abrupt("return",{code:R,value:null!==(r=localStorage.getItem(_()(i="".concat(k.cp,"_")).call(i,t)))&&void 0!==r?r:""});case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return",{code:x,value:""});case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"removeStorage",function(){var e=(0,r.Z)(d().mark((function e(n){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.key,e.prev=1,localStorage.removeItem(_()(r="".concat(k.cp,"_")).call(r,t)),e.abrupt("return",{code:R});case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{code:x});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"toast",function(){var e=(0,r.Z)(d().mark((function e(n){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.text,e.prev=1,w.F.info(t),e.abrupt("return",{code:R});case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{code:x});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"openLiveRecharge",(0,r.Z)(d().mark((function e(){var n,t=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,I.Z)(t.length>0&&t[0]!==undefined?t[0]:{}),e.prev=1,n=(0,Z.y)(),(0,n.showRecharge)({type:"recharge",balance:0,amount:0}),e.abrupt("return",{code:R});case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{code:x});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))),(0,a.Z)(this,"openLoginPanel",(0,r.Z)(d().mark((function e(){var n=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,I.Z)(n.length>0&&n[0]!==undefined?n[0]:{}),e.prev=1,(0,N.p)().then((function(e){var n,t,i;e((0,l.Z)({headerText:"\u767b\u5f55\u540e\u5373\u53ef\u53c2\u4e0e\u4e92\u52a8",success:(i=(0,r.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)}),next:"https://".concat(null===(n=window)||void 0===n||null===(t=n.location)||void 0===t?void 0:t.host),enterMethod:""},params))})),e.abrupt("return",{code:R});case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{code:x});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))),(0,a.Z)(this,"refreshDouCoin",(0,r.Z)(d().mark((function e(){var n,t,r,i,o,a,u,f,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.sb({});case 3:return n=e.sent,t=n.data,r=n.logId,0===(i=c()(t,"status_code"))?(f=c()(t,"data.diamond",0),null===(o=s._store)||void 0===o||null===(a=o.giftStore)||void 0===a||null===(u=a.setBalance)||void 0===u||u.call(a,f)):(C.k.event(_()(v="[".concat(M.Tn.Error,"]")).call(v,M.Mo.LiveBalanceError),(0,l.Z)({statusCode:i,logId:null!=r?r:"",is_client:(0,D.DT)()},t)),w.F.info(c()(t,"data.prompts","\u83b7\u53d6\u6296\u5e01\u4f59\u989d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")),C.k.error("\u83b7\u53d6\u6296\u5e01\u4f59\u989d\u5931\u8d25",t,r)),e.abrupt("return",{code:R});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{code:x});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))),(0,a.Z)(this,"sendGift",function(){var e=(0,r.Z)(d().mark((function e(n){var t,r,i,o,a,l,u,f,v,m,_,p,h,g,E,y,S,I,L;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.gift_id,r=n.gift_count,i=n.gift_source,e.prev=1,f=s._store.roomStore.roomInfo,e.next=5,(0,O.hF)({gift_id:t,count:r,room_id:c()(f,"room.id_str"),to_room_id:c()(f,"room.id_str"),to_user_id:c()(f,"anchor.id_str"),to_user_ids:"",send_type:4,send_scene:1,gift_source:0,buff_level:0,to_episode_id:c()(f,"room.episode_extra.episode_id_str",0)||0});case 5:return 0===(v=e.sent).data.status_code&&(y=c()(s._store,"giftStore.giftList",[]),S=c()(s._store,"giftStore.effectList",[]),I=c()(s._store,"userStore.userInfo",{}),L=(0,P.mL)(c()(v.data,"data"),y,S,I,r),null===(m=s._store)||void 0===m||null===(_=m.giftStore)||void 0===_||null===(p=_.setGiftMessages)||void 0===p||p.call(_,L),s.refreshDouCoin(),s.publishEvent({eventName:"H5_sendGiftStatusChange",params:{gift_list:[{gift_id:Number(t),count:r}]}}),null===(h=s._store)||void 0===h||null===(g=h.eventStore)||void 0===g||null===(E=g.giftEvent)||void 0===E||E.liveGiftSendEvent({gift_id:t,combo_cnt:c()(v.data,"data.combo_count"),group_cnt:c()(v.data,"data.group_count"),gift_source:i,money_per_unit:c()(v.data,"data.gift_struct.diamond_count"),gift_cnt:r,money:c()(v.data,"data.combo_count"),is_fans_club_gift:"0",to_user_id:c()(f,"anchor.id_str"),full_seats_cnt:1})),e.abrupt("return",{code:R,error_code:null==v||null===(o=v.data)||void 0===o?void 0:o.status_code,error_msg:null!==(a=null==v||null===(l=v.data)||void 0===l||null===(u=l.data)||void 0===u?void 0:u.prompts)&&void 0!==a?a:""});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{code:x});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"getAppInfo",(0,r.Z)(d().mark((function e(){var n,t,r,i,o,a,l=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,I.Z)(l.length>0&&l[0]!==undefined?l[0]:{}),e.prev=1,t=null!==(n=s._store)&&void 0!==n?n:{userStore:{}},r=t.userStore.odin,e.abrupt("return",{code:R,aid:"6383",user_id:null==r?void 0:r.user_id,device_id:null==r?void 0:r.user_unique_id,is_mas:Boolean((0,D.xo)())});case 6:return e.prev=6,e.t0=e.catch(1),o=null!==(i=s._store)&&void 0!==i?i:{userStore:{}},a=o.userStore.odin,e.abrupt("return",{code:x,aid:"6383",user_id:null==a?void 0:a.user_id,device_id:null==a?void 0:a.user_unique_id,is_mas:Boolean((0,D.xo)())});case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))),(0,a.Z)(this,"getBaseInfo",(0,r.Z)(d().mark((function e(){var n,t,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,I.Z)(r.length>0&&r[0]!==undefined?r[0]:{}),e.prev=1,n=s._store.roomStore,e.abrupt("return",{code:R,anchor_info:{nickname:c()(n,"roomInfo.anchor.nickname","")}});case 6:return e.prev=6,e.t0=e.catch(1),t=s._store.roomStore,e.abrupt("return",{code:x,anchor_info:{nickname:c()(t,"roomInfo.anchor.nickname","")}});case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))),(0,a.Z)(this,"getPaidLiveInfo",(0,r.Z)(d().mark((function e(){var n,t,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=s._store.paidLiveStore,t=c()(s._store,"roomStore.roomInfo.anchor.follow_info.follow_status",0),r=c()(s._store,"paidLiveStore.viewType",0),i=t===T.E.FOLLOWING||t===T.E.BOTH,e.abrupt("return",{code:R,paid_live_info:null==n?void 0:n.paidLiveData,follow_status:Number(i),view_type:Number(r)});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{code:x});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))),(0,a.Z)(this,"userAction",function(){var e=(0,r.Z)(d().mark((function e(n){var t,r,i,o,a,l,u,f,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.type,r=n.args.user_id,i=void 0===r?"":r,e.prev=1,o=c()(s._store,"roomStore.roomInfo.roomId",""),a=c()(s._store,"userStore.userInfo.sec_uid",""),l=c()(s._store,"roomStore.roomInfo.anchor.id_str"),u=c()(s._store,"roomStore.setFollowStatus",(function(){})),"follow"!==t){e.next=12;break}return e.next=9,(0,A.ZN)({to_user_id:String(i),current_room_id:o,sec_user_id:a,sec_to_user_id:"",channel_id:0});case 9:f=e.sent,e.next=16;break;case 12:if("unfollow"!==t){e.next=16;break}return e.next=15,(0,A.fv)({to_user_id:String(i),current_room_id:o,sec_user_id:a,sec_to_user_id:""});case 15:f=e.sent;case 16:return String(l)===String(i)&&f&&(v=c()(f,"data.data.follow_status",0),u(v)),e.abrupt("return",{code:R});case 20:return e.prev=20,e.t0=e.catch(1),e.abrupt("return",{code:x});case 23:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"userInfo",(0,r.Z)(d().mark((function e(){var n,t=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,I.Z)(t.length>0&&t[0]!==undefined?t[0]:{}),e.prev=1,n=c()(window.__STORE__,"userStore.userInfo.id_str",""),e.abrupt("return",{code:R,userInfo:{userID:n}});case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{code:x,userInfo:{userID:""}});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))),this._containerName=n,this._store=t,this._roomId=i,this._container=u})),F=(0,i.Z)((function e(n){var t=this;(0,o.Z)(this,e),(0,a.Z)(this,"_jsb",null),(0,a.Z)(this,"on",(function(e,n){try{return t._jsb.subscribeEvent({eventName:e,callback:n}),n}catch(r){return function(){}}})),(0,a.Z)(this,"off",(function(e,n){try{t._jsb.unSubscribeEvent({eventName:e,listener:n})}catch(r){}})),(0,a.Z)(this,"call",(function(e,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(e){};try{var i,o=n.type,a=n.args;if("openLive"===e&&"scheme"===o)t._jsb.openScheme({url:null!==(i=null==a?void 0:a.url)&&void 0!==i?i:""});t._jsb[e](n).then((function(e){null==r||r(e)}))}catch(l){null==r||r({code:x})}})),this._jsb=n})),U=function(){function e(n){(0,o.Z)(this,e),(0,a.Z)(this,"_jsb",null),this._jsb=n}return(0,i.Z)(e,[{key:"register",value:function(e){return[]}},{key:"on",value:function(e,n){try{this._jsb.subscribeEvent({eventName:e,callback:n})}catch(t){}}},{key:"off",value:function(e,n){try{this._jsb.unSubscribeEvent({eventName:e,listener:n})}catch(t){}}},{key:"emit",value:function(e,n){try{this._jsb.publishEvent({eventName:e,params:n})}catch(t){}}}]),e}(),B=function(e){var n=e.uniqueName,t=void 0===n?"":n,r=e.urlWithoutQuery,i=void 0===r?"":r,o=e.domName,a=void 0===o?"":o,u=e.aTag,c=e.jsb,s=e.position,d=e.globalProps,f=void 0===d?{}:d;window.Garfish.registerApp({name:t,entry:i,domGetter:"#".concat(a),insulationVariable:["__LIVE_MODAL_ACTIVE_INDEX__","__STORE__","__SLARDAR_REGISTRY__","EDEN_ASYNC_WEBPACK_SCRIPT_NAMES","__EDEN_SSR_PREFETCHED_DATA__","__INVISIBLE_QUERY__","__LIVE_PLAYER__","__mobxGlobals","global","globalThis","top","Garfish","player","slardar","LiveSlardar","__CMP","__coverage__","__core-js_shared__","__preloadcontext__","__rtc_engine__","__rtc_engine__40","__rtc_slardar__","_$webrt_1668687510","_engine","_fetch","_open","openDatabase","byted_acrawler","cancelIdleCallback","captureEvents","cmp","__proto__","collectEvent","douyinPanel","secsdk","__webpack_hot_middleware_reporter__","webpackHotUpdatedouyin_web","webpackChunkdouyin_web","WEBPACK_ASYNC_SCRIPT_COMPLETE","verifySDK","initWebmsSdk","indexedDB","__xgplayer_vod_log__","self","showAccount","setImmediate","singleton-plyon:engine_instance","singleton-plyon:instance","singleton-plyon:strategy_instance","ssrData","verifyOptions","getCaptchaWebId","bytedance_secsdk_captcha_jsonp_2.30.3","SSR_RENDER_DATA_DOC","Mp4Preloader","LogPluginObject","BOOT","cookieStore","crypto","external","frames","globalCtx","proto","reactRenderMark","regeneratorRuntime","requestIdleCallback","scheduler","showDirectoryPicker","showOpenFilePicker","showSaveFilePicker","spec_user_follower_uid_list","updateUserInfo","xss","xssNamespace","__whmEventSourceWrapper","__root","__REACT_DEVTOOLS_GLOBAL_HOOK__","_$jsvmprt"],props:{containerStyles:{borderRadius:"0"}},sandbox:{snapshot:!1,fixBaseUrl:!0,strictIsolation:!0,modules:[function(){return{override:{ToutiaoJSBridge:new F(c),carbon:s===k.ov.LONG_TOUCH?new U(c):undefined,__JSB__:c,location:{search:u.search,hostname:u.hostname,href:globalThis.xssNamespace.douyin_web.filterUrl(u.href,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),pathname:u.pathname,protocol:u.protocol},globalProps:(0,l.Z)({},f)}}}]},cache:!1})},G=(0,i.Z)((function e(n){var i=this,u=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";(0,o.Z)(this,e),(0,a.Z)(this,"_containerList",new(v())),(0,a.Z)(this,"_store",null),(0,a.Z)(this,"_roomId",""),(0,a.Z)(this,"open",function(){var e=(0,r.Z)(d().mark((function e(n){var r,o,u,s,f,m,p,h,g,E,y,S,I,L,w,Z,b,N,C,O,P,T,A,M,D,R,x,G,H,K,j,W,Y,z,q,Q,J,X,$,ee,ne,te,re,ie,oe,ae,le,ue=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=ue.length>1&&ue[1]!==undefined?ue[1]:k.ov.RIGHT_PANEL,p=ue.length>2&&ue[2]!==undefined?ue[2]:{},h=ue.length>3?ue[3]:undefined,g=ue.length>4?ue[4]:undefined,E=p.openRemAdapt,y=void 0===E||E,S=p.domGetter,I=void 0===S?"":S,L=p.hideClose,w=void 0!==L&&L,e.next=7,t.e(8075).then(t.bind(t,78075));case 7:if(Z=e.sent.default,window.Garfish.setMaxListeners(100),b=null,N=c()(i._store,"roomStore.roomInfo.room.id_str",i._roomId),C=(0,k.fh)(n,i._store),(O=document.createElement("a")).href=globalThis.xssNamespace.douyin_web.filterUrl(C,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),P=(0,k.nb)(C),T=g?"".concat(P):_()(r=_()(o="".concat(P,"_")).call(o,N,"_")).call(r,(0,k.zs)(10)),A=g?"".concat(P):_()(u="".concat(P,"_")).call(u,N),M=(0,k.Mu)(A),!i._containerList.has(A)){e.next=21;break}return i.close(A),e.abrupt("return");case 21:if(m===k.ov.RIGHT_PANEL?(y&&(null===(j=document)||void 0===j||null===(W=j.documentElement)||void 0===W||null===(Y=W.classList)||void 0===Y||Y.add("has_hybrid_container")),z=null!==(D=null===(R=i._store)||void 0===R||null===(x=R.hybridStore)||void 0===x?void 0:x.containerList)&&void 0!==D?D:new(v()),null===(G=i._store)||void 0===G||null===(H=G.hybridStore)||void 0===H||null===(K=H.setContainerList)||void 0===K||K.call(H,new(v())(z).set(A,{hideClose:w}))):m===k.ov.LONG_TOUCH&&(ne=null!==(q=null===(Q=i._store)||void 0===Q||null===(J=Q.hybridStore)||void 0===J?void 0:J.longtouchList)&&void 0!==q?q:new(v()),null===(X=i._store)||void 0===X||null===($=X.hybridStore)||void 0===$||null===(ee=$.setLongtouchList)||void 0===ee||ee.call($,new(v())(ne).set(A,{}))),te=new V(A,i._store,N,i),null!==(s=window.LiveGarfish)&&void 0!==s&&null!==(f=s.apps)&&void 0!==f&&f[T]&&g){e.next=33;break}return B({uniqueName:T,domName:I||M,urlWithoutQuery:P,aTag:O,jsb:te,position:m,globalProps:h}),e.next=27,null==Z?void 0:Z.loadApp(T);case 27:return b=e.sent,g&&(window.LiveGarfish={apps:(0,l.Z)((0,l.Z)({},null===(ie=window)||void 0===ie||null===(oe=ie.LiveGarfish)||void 0===oe?void 0:oe.apps),{},(0,a.Z)({},T,b))}),e.next=31,null===(re=b)||void 0===re?void 0:re.mount();case 31:e.next=40;break;case 33:(b=null===(ae=window.LiveGarfish)||void 0===ae||null===(le=ae.apps)||void 0===le?void 0:le[T]).global.ToutiaoJSBridge=new F(te),b.global.carbon=m===k.ov.LONG_TOUCH?new U(te):undefined,b.global.__JSB__=te,b.global.location={search:O.search,hostname:O.hostname,href:globalThis.xssNamespace.douyin_web.filterUrl(O.href,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),pathname:O.pathname,protocol:O.protocol},b.global.globalProps=(0,l.Z)({},h),b.show();case 40:if(b){e.next=42;break}throw new Error("app mount error");case 42:i._containerList.set(A,b);case 43:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),(0,a.Z)(this,"close",(function(e){var n,t,r,o,a,l,u,c,s,d,f,m,_;if(i._containerList.has(e)){var p=null!==(n=null===(t=i._store)||void 0===t||null===(r=t.hybridStore)||void 0===r?void 0:r.containerList)&&void 0!==n?n:new(v()),h=new(v())(p);h.delete(e),null===(o=i._store)||void 0===o||null===(a=o.hybridStore)||void 0===a||null===(l=a.setContainerList)||void 0===l||l.call(a,h);var g,E,y,S=null!==(u=null===(c=i._store)||void 0===c||null===(s=c.hybridStore)||void 0===s?void 0:s.longtouchList)&&void 0!==u?u:new(v()),I=new(v())(S);if(I.delete(e),null===(d=i._store)||void 0===d||null===(f=d.hybridStore)||void 0===f||null===(m=f.setLongtouchList)||void 0===m||m.call(f,I),null===(_=i._containerList.get(e))||void 0===_||_.hide(),i._containerList.delete(e),0===h.size)null===(g=document)||void 0===g||null===(E=g.documentElement)||void 0===E||null===(y=E.classList)||void 0===y||y.remove("has_hybrid_container")}})),(0,a.Z)(this,"on",(function(e,n){var t;null===(t=window.Garfish)||void 0===t||t.channel.on(e,n)})),(0,a.Z)(this,"emit",(function(e,n){var t;null===(t=window.Garfish)||void 0===t||t.channel.emit(e,n)})),(0,a.Z)(this,"off",(function(e,n){var t;null===(t=window.Garfish)||void 0===t||t.channel.off(e,n)})),(0,a.Z)(this,"has",(function(e){return i._containerList.has(e)})),(0,a.Z)(this,"reset",(function(){var e,n,t,r=c()(i._store,"roomStore.roomInfo.room.id_str",i._roomId);r&&(null===(e=window.Garfish)||void 0===e||h()(n=E()(t=e.eventNames()).call(t,(function(e){var n;return-1!==S()(n=String(e)).call(n,r)}))).call(n,(function(e){window.Garfish.removeAllListeners(e)})),i._store=null,i._containerList=new(v()))})),this._store=n,this._roomId=u}))},35039:function(e,n,t){t.d(n,{cp:function(){return l},ov:function(){return u},FI:function(){return c},Mu:function(){return s},zs:function(){return d},nb:function(){return f},HD:function(){return v},zP:function(){return m},Kj:function(){return _},fh:function(){return p}});var r=t(56402),i=t.n(r),o=t(29171),a=t(44344),l="hybrid_container",u={LONG_TOUCH:0,RIGHT_PANEL:1,COMMON:2,CUSTOM:3},c=function(){var e="undefined"!=typeof document?document.head:null,n=Boolean(e&&(e.createShadowRoot||e.attachShadow)),t="function"==typeof Proxy&&/native code/.test(Proxy.toString());return n&&t},s=function(e){return"".concat(l,"_").concat(e.replace(/:|\.|\/|\?|\&|\=|\%|\+|\#/g,"_"))};function d(e){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",r=0;r<e;r++){var i=Math.floor(62*Math.random());t+=n.charAt(i)}return t}var f=function(e){var n,t;return null!==(n=null===(t=e.split("?"))||void 0===t?void 0:t[0])&&void 0!==n?n:""},v=function(e){var n,t;return null!==(n=null===(t=e.split("?"))||void 0===t?void 0:t[0])&&void 0!==n?n:""},m=function(e){var n,t;return(0,o.D)(null!==(n=null===(t=e.split("?"))||void 0===t?void 0:t[1])&&void 0!==n?n:"")},_=function(e){var n,t,r,o;return{room_id:i()(e,"roomStore.roomInfo.roomId",""),user_id:i()(e,"userStore.userInfo.id_str",""),sec_user_id:i()(e,"userStore.userInfo.sec_uid",""),anchor_id:i()(e,"roomStore.roomInfo.anchor.id_str",""),sec_anchor_id:i()(e,"roomStore.roomInfo.anchor.sec_uid",""),enter_from_merge:null===(n=window)||void 0===n||null===(t=n.__INVISIBLE_QUERY__)||void 0===t?void 0:t.enter_from_merge,enter_method:null===(r=window)||void 0===r||null===(o=r.__INVISIBLE_QUERY__)||void 0===o?void 0:o.enter_method,user_unique_id:i()(e,"userStore.odin.user_unique_id","")}},p=function(e,n){return(0,a.G)(_(n),e)}},44909:function(e,n,t){t.d(n,{l:function(){return r},j:function(){return i}});var r={GLOBAL_APP:"global_app",GIFT_BAR:"gift_bar",GIFT_BAR_MINI:"gift_bar_mini",HEADER:"header",NAVIGATION:"navigation",SIDEBAR:"siderbar",CATEGORY_TAB:"category_tab",TAB:"tab",TITLE_PLUGIN:"title_plugin",FOLLOW_PLUGIN:"follow_plugin",COMMENT_PLUGIN:"comment_plugin",GIFT_SWITCH_PLUGIN:"gift_switch_plugin",GIFT_BAR_PLUGIN:"gift_bar_plugin",EFFECT_SWITCH_PLUGIN:"effect_switch_plugin",GIFT_TRAY_PLUGIN:"gift_tray_plugin",GIFT_EFFECT_PLUGIN:"gift_effect_plugin",FANS_CLUB_PLUGIN:"fans_club_plugin",EXHIBITION_VIEW_PLUGIN:"exhibition_view_plugin",EFFECT_PLUGIN:"effect_plugin",HOUR_RANK_LIST_VIEW_PLUGIN:"hour_rank_list_view_plugin",TOOL_BAR_PLUGIN:"tool_bar_plugin",QUALITY_SWITCH_PLUGIN:"quality_switch_plugin",DANMAKU_PLUGIN:"danmaku_plugin",AUDIO_ROOM_PLUGIN:"audio_room_plugin",VIDEO_ROOM_PLUGIN:"video_room_plugin",RTC_LAYER_PLUGIN:"rtc_layer_plugin",PK_VIEW_PLUGIN:"pk_view_plugin",PIP_PLUGIN:"pip_plugin",INPICTURE_PLUGIN:"inpicture_plugin",ADMIN_PRIVILEGE_PLUGIN:"admin_privilege_plugin",LIVING_PLAYER:"living_plyaer",IFRAME_PLAYER:"iframe_player",GIFT_ITEM:"gift_item",GIFT_PANEL:"gift_panel",LIVE_CATEGORY:"live_category",LIVE_CARD:"live_card",RANK_LIST:"rank_list",ORDER_SING_LIST:"order_sing_list",ORDER_SING_RULE:"order_sing_rule",PROMOTION_POP:"promotion_pop",PROMOTION_LIST_WRAPPER:"promotion_list_wrapper",FANS_CLUB_POPUP:"fans_club_popup",USER_POPUP:"user_popup",CHAT_ROOM_PANEL:"chat_room_panel",AUDIENCE_PANEL:"audience_panel",FIXED_CHAT:"fixed_chat",LIVE_CAROUSEL:"live_carousel",LIVE_COVER:"live_cover",LIVE_FULLPLAYER_QULIATY:"live_fullplayer_quality",Live_Like:"live_like",Live_Flutter_Like:"live_flutter_like",DANMAKU_SETTINGS:"danmaku_settings"},i="live_component_error_boundary"},16470:function(e,n,t){t.d(n,{k:function(){return f},K:function(){return v}});var r=t(30906),i=t(26447),o=t.n(i),a=t(53864),l=t(91287),u=t(44909),c=t(84093),s=t(89474),d=function(e,n,t,r){var i,a,l=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"component";(null==r||r(e,n),"module"===l)&&(null===(a=(0,c.OK)())||void 0===a||a("report",{ev_type:"blank_screen",payload:{timestamp:o()(),score:0,error:{type:"js_error",message:e.message}}}));null===(i=(0,c.OK)())||void 0===i||i("sendEvent",{name:u.j,categories:{componentName:t,message:e.message,stack:e.stack,componentStack:n},type:"event"})},f=function(e){var n=e.onError,t=e.beforeCapture,r=e.fallback,i=e.Slardar,o=e.children,u=e.type,f=void 0===u?"component":u,v=e.componentName,m=a.useCallback((function(e,t){d(e,t,v,n,f)}),[f,n,v]),_=a.useCallback((function(){return s.s?undefined:i||(0,c.OK)()}),[i]);return a.createElement(l.SV,{onError:m,beforeCapture:t,fallback:r,Slardar:_()},o)},v=function(e){var n=e.type,t=void 0===n?"component":n,i=e.onError,o=e.componentName,u=a.useCallback((function(e,n){d(e,n,o,i,t)}),[t,i,o]);return(0,l.AP)((0,r.Z)((0,r.Z)({},e),{},{onError:u}))}},18762:function(e,n,t){t.d(n,{G:function(){return p}});var r=t(65902),i=t(30906),o=t(32781),a=t(67161),l=t(8372),u=t(71043),c=t(79705),s=t.n(c),d=t(67330),f=t(53864),v=t(79297),m=t(69815),_=["href","children","style","className","passParamKeys","spa","onClick","passParams","firstTabName","onClickLog","title"],p=function(e){var n=e.href,t=e.children,c=e.style,p=e.className,h=e.passParamKeys,g=void 0===h?[]:h,E=e.spa,y=e.onClick,S=e.passParams,I=void 0===S?{}:S,L=e.firstTabName,k=e.onClickLog,w=e.title,Z=(0,a.Z)(e,_),b=f.useState(n),N=(0,o.Z)(b,2),C=N[0],O=N[1];f.useEffect((function(){O(n)}),[n]);var P=f.useCallback((function(e){if(y&&y(e),n){k&&(0,m.Vd)({category_name:L,more_detail:w,enter_from:"hot_hover"});var t=n.split("?",2),r=(0,o.Z)(t,2),a=r[0],u=r[1],c=[],s=(0,l.U)(g),f=(0,i.Z)((0,i.Z)((0,i.Z)({},window.__INVISIBLE_QUERY__||{}),s),I),v=(0,d.stringify)(f);v&&c.push(v),u&&c.push(u),c.length>0?O([a,c.join("&")].join("?")):O(a)}}),[n,g,y,I]);return E?f.createElement(v.rU,(0,r.Z)({to:C||"",style:c,className:s()(p),onClick:P},Z,{target:(0,u.f)()?"_self":Z.target}),t):f.createElement("a",(0,r.Z)({href:globalThis.xssNamespace.douyin_web.filterUrl(C,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:p,style:c,onClick:P},Z,{target:(0,u.f)()?"_self":Z.target}),t)}},13424:function(e,n,t){t.d(n,{WB:function(){return E},xc:function(){return y},Z3:function(){return S}});var r=t(30906),i=t(64408),o=t(5594),a=t.n(o),l=t(85792),u=t.n(l),c=t(53864),s="TVIjwmLX",d="BU3nxpWJ",f="ejGPjomn",v="qKRxzgTv",m=t(72943),_=t(53236),p=t(7607),h=t(74584),g=t(13267),E=function(e){return e[e.IN_LIVING_ROOM=1]="IN_LIVING_ROOM",e[e.COMMON_SCENE=2]="COMMON_SCENE",e[e.IN_LIVING_RECOMMEND=3]="IN_LIVING_RECOMMEND",e[e.LIVING_SEARCH=4]="LIVING_SEARCH",e}({}),y=function(e){return e.FIRST="\u9996",e.STRIGHT="\u76f4",e}({}),S=function(e){var n,t=e.scene,o=void 0===t?E.IN_LIVING_ROOM:t,l=e.logParams,S=void 0===l?{}:l,I=e.isFirstLive,L=void 0!==I&&I,k=e.onPaidLiveTryWatch,w=void 0===k?function(){}:k,Z=(0,h.n)().player,b=function(){u()((function(){null==Z||Z.pause()}),1)};c.useEffect((function(){null==Z||Z.pause();var e=Z.video.style.display,n=(0,g.K)(Z,"xg-controls");(0,g.K)(Z,"xg-enter");return Z.video.style.display="none",null==Z||Z.on("play",b),function(){try{n(),null==Z||Z.play(),null==Z||Z.off("play",b),Z.video.style.display=e}catch(t){}}}),[Z]);var N=(null!==(n=(0,c.useContext)(p.Context))&&void 0!==n?n:{}).dispatch;return c.useEffect((function(){var e=o===E.IN_LIVING_ROOM?"paidlive_inlive":"paidlive_window";o===E.IN_LIVING_ROOM?(0,_.zq)(e):(0,_.Wr)((0,r.Z)({},S))}),[o]),c.createElement("div",{className:s},c.createElement("div",{className:d},"\u672c",L?y.FIRST:y.STRIGHT,"\u64ad\u4e3a\u4ed8\u8d39",L?y.FIRST:y.STRIGHT,"\u64ad"),c.createElement("div",{className:f},"\u8d2d\u7968\u540e\u53ef\u89c2\u770b\u6574\u573a",L?y.FIRST:y.STRIGHT,"\u64ad"),c.createElement("div",{className:v,onClick:function(){return function(){o===E.IN_LIVING_ROOM||o===E.IN_LIVING_RECOMMEND?(0,m.p)().then((function(e){var n,t,r;e({headerText:"\u767b\u5f55\u540e\u514d\u8d39\u8bd5\u770b\u4e09\u5206\u949f",success:(r=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)}),next:"https://".concat(null===(n=window)||void 0===n||null===(t=n.location)||void 0===t?void 0:t.host),enterMethod:"paidlive"})})):o!==E.COMMON_SCENE&&o!==E.LIVING_SEARCH||(0,m.p)().then((function(e){var n,t,r;e({headerText:"\u767b\u5f55\u540e\u514d\u8d39\u8bd5\u770b\u4e09\u5206\u949f",success:(r=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==N||N({type:"updateUserInfo"});case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)}),next:"https://".concat(null===(n=window)||void 0===n||null===(t=n.location)||void 0===t?void 0:t.host),enterMethod:"paidlive"})}));try{null==w||w()}catch(e){}}()}},"\u514d\u8d39\u8bd5\u770b3\u5206\u949f"))}},13267:function(e,n,t){t.d(n,{V:function(){return Z},K:function(){return w}});var r=t(30906),i=t(64408),o=t(32781),a=t(5594),l=t.n(a),u=t(85792),c=t.n(u),s=t(53864),d="lgbWWR4G",f="nuJP4Vbr",v="qg0_wDuj",m="uDxcfJEO",_=t(74584),p=t(44344),h=t(65364),g=t(35039),E=t(13424),y=t(89884),S=t.n(y),I=t(56402),L=t.n(I),k=t(53236),w=function(e,n){var t=e.root.querySelector(n);return t?(t.style.display="none",function(){t&&(t.style.display="block")}):S()},Z=function(e){var n=e.webRid,t=void 0===n?"":n,a=e.scene,u=void 0===a?E.WB.COMMON_SCENE:a,y=e.logParams,S=void 0===y?{}:y,I=e.isFirstLive,Z=void 0!==I&&I,b=e.onPaidLiveBuyTicket,N=void 0===b?function(){}:b,C=e.jumpHref,O=void 0===C?"":C,P=e.isActive,T=void 0!==P&&P,A=e.container,M=(0,_.n)().player,D=s.useRef(!1),R=(0,s.useState)("https://lf-dy-gr-sourcecdn.bytegecko.com/obj/byte-gurd-source-gr/webcast/mono/h5/vs_paid_live_audience_pc_buy_ticket_h5_douyin/pages/ticket_pc/index.html?ticket_entrance=paidlive_live_tryend_card"),x=(0,o.Z)(R,2),V=x[0],F=x[1],U=function(){c()((function(){null==M||M.pause()}),1)};s.useEffect((function(){null==M||M.pause();var e=M.video.style.opacity,n=w(M,"xg-controls");w(M,"xg-enter");return M.video.style.opacity=0,null==M||M.on("play",U),function(){try{n(),null==M||M.play(),null==M||M.off("play",U),M.video.style.opacity=e}catch(t){}}}),[]),(0,s.useEffect)((function(){try{(0,i.Z)(l().mark((function e(){var n,t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.ZP)({service_name:"webcast.douyin.live_pc",key:"hybrid_schema"});case 2:n=e.sent,(t=L()(n,"paid_live_ticket_panel",""))&&F("".concat(t,"?ticket_entrance=paidlive_live_tryend_card"));case 5:case"end":return e.stop()}}),e)})))()}catch(e){}}),[]);return s.useEffect((function(){u===E.WB.IN_LIVING_ROOM&&(0,k.t4)()}),[]),s.useEffect((function(){u!==E.WB.COMMON_SCENE&&u!==E.WB.LIVING_SEARCH||D.current===T||!T||(0,k.B5)((0,r.Z)({},S))}),[T]),s.createElement("div",{className:d},s.createElement("div",{className:f},"\u514d\u8d39\u8bd5\u770b\u7ed3\u675f"),s.createElement("div",{className:v},"\u8d2d\u7968\u540e\u53ef\u89c2\u770b\u6574\u573a",Z?"\u9996":"\u76f4","\u64ad"),s.createElement("div",{className:m,onClick:function(e){return function(){try{null==N||N()}catch(e){}u===E.WB.IN_LIVING_ROOM?(A.open(V,g.ov.RIGHT_PANEL,{hideClose:!0}),(0,k.c9)("tryend")):((0,k.dh)(S),O?window.open((0,p.G)({if_paid_live_card:"1",ticket_entrance:"paidlive_window_tryend_card",entrance_form:"paidlive_window_tryend_card"},O)):window.open("https://live.douyin.com/".concat(t,"?if_paid_live_card=1&ticket_entrance=paidlive_window_tryend_card")))}()}},"\u8d2d\u7968\u7ee7\u7eed\u770b"))}},20479:function(e,n,t){t.d(n,{N:function(){return oe}});var r=t(65146),i=t(32781),o=t(21155),a=t.n(o),l=t(79705),u=t.n(l),c=t(53864),s=t(61508),d=t(97876),f=t(71116),v=t(76890),m=t(75540),_=t(74914),p=t(47463),h=t(82062),g=t(67161),E=t(30906),y=t(30673),S=t(94090),I=t.n(S),L=t(11227),k=t.n(L),w=t(26447),Z=t.n(w),b=t(72911),N=t.n(b),C=t(65243),O=t(99107),P=t(25800),T=t(7115),A=t(73459),M=t(34590),D=t(29171),R=t(5277),x=t(85127),V=t(51064),F=t(99452),U=t(91229),B=(t(59095),t(24637)),G=(t(56289),t(56484),t(6528),t(97894),t(71430)),H=(t(18610),t(52912),t(55294),t(9748),t(540)),K=t(2044),j=t(51625),W=t(84091),Y=t(96667),z=t(17566),q=t(75422),Q=t(6120),J="BkFEjj76",X="oxOnVjsP",$="FKhyDWKP",ee=(0,Q.Dq)(c.createElement(q.g,{className:$})),ne=t(82867),te=["device_id","user_id","error_report_stop"];x.Z.use(U.Z);var re=function(e){return e[e.ALIVE=9999]="ALIVE",e}(re||{}),ie={width:"100%",height:"100%",videoInit:!0,autoplay:!0,closePlayerBlur:!1,leavePlayerTime:0,volume:.3,start:{isShowPause:!1,disableAnimate:!0},enter:{innerHtml:ee},rotate:!1,icons:W.Y,keyboard:m.Ht,plugins:Y._f,ignores:Y.Us};var oe=c.memo(c.forwardRef((function(e,n){var t=e.url,o=e.className,l=e.style,S=e.isPure,L=e.isPause,w=e.isFullscreen,b=e.fullscreenTarget,x=e.disableFullScreen,U=e.disableKeyboard,W=e.loadTimeout,q=void 0===W?5e3:W,Q=e.retryCount,$=void 0===Q?3:Q,ee=e.beforePlayerInit,oe=e.onPlay,ae=e.onPause,le=e.onPlaying,ue=e.onReady,ce=e.onComplete,se=e.onLoadStart,de=e.onLoadedData,fe=e.onError,ve=e.onFullScreen,me=e.onVolumeChange,_e=e.onEnd,pe=e.onWaiting,he=e.onUserAction,ge=e.onBlur,Ee=e.onFocus,ye=e.onClick,Se=e.plugins,Ie=void 0===Se?[]:Se,Le=e.volume,ke=void 0===Le?.3:Le,we=e.videoInit,Ze=void 0===we||we,be=e.autoplayMuted,Ne=void 0!==be&&be,Ce=e.autoplay,Oe=void 0===Ce||Ce,Pe=e.icons,Te=void 0===Pe?{}:Pe,Ae=e.children,Me=e.closeFocusVideoFocus,De=void 0!==Me&&Me,Re=e.closePlayVideoFocus,xe=void 0!==Re&&Re,Ve=e.closePauseVideoFocus,Fe=void 0!==Ve&&Ve,Ue=e.closeVideoDblclick,Be=void 0!==Ue&&Ue,Ge=e.closeVideoClick,He=void 0!==Ge&&Ge,Ke=e.poster,je=void 0===Ke?"":Ke,We=e.preloadTime,Ye=void 0===We?4:We,ze=e.mediaType,qe=e.mini,Qe=e.miniscreen,Je=e.refreshPlayer,Xe=e.dynamicBgConf,$e=e.monitor,en=e.isBlackScreenProbe,nn=void 0!==en&&en,tn=e.isUgcLive,rn=e.marginControls,on=void 0!==rn&&rn,an=e.enableContextmenu,ln=void 0!==an&&an,un=e.sessionId,cn=e.loggerOptions,sn=e.flvPreloader,dn=void 0===sn?null:sn,fn=e.adaptiveConfig,vn=e.abrPts,mn=e.markuse,_n=e.isPaidLive,pn=e.secretKey,hn=e.maskToast,gn=c.useRef(null),En=c.useRef(),yn=c.useRef(),Sn=c.useState(!1),In=(0,i.Z)(Sn,2),Ln=In[0],kn=In[1],wn=(0,v.Z)(),Zn=wn.abrPts,bn=void 0===Zn?m.CL:Zn,Nn=wn.adaptiveConfig,Cn=vn||bn,On=fn||(void 0===Nn?null:Nn),Pn=(0,h.GT)(t,{abr_pts:Cn,sessionId:un}),Tn=c.useRef(Pn);Tn.current=Pn,c.useEffect((function(){var e,n,t,r;Ln&&En.current&&(U?null===(e=En.current.plugins)||void 0===e||null===(n=e.keyboard)||void 0===n||n.disable():null===(t=En.current.plugins)||void 0===t||null===(r=t.keyboard)||void 0===r||r.enable())}),[U,Ln]),c.useEffect((function(){if(yn.current){var e=d.listen(d.EVENT.updateAbVids,(function(){yn.current.updateExt({abvids:f.Le.getConfig(f.gI.AbtestVids)})}));return function(){return e()}}}),[Ln]),c.useEffect((function(){if(En.current&&En.current.config&&Tn.current&&t){var e=En.current;(0,h.sw)(Tn.current)&&(0,h.VU)()&&(e.paused?(null==e||e.setConfig({url:Tn.current,videoInit:Ze,autoplay:Oe,autoplayMuted:Ne}),L&&!e.paused?e.pause():!L&&e.paused&&e.play()):En.current.src=globalThis.xssNamespace.douyin_web.filterUrl(Tn.current,null,{logType:"js.href/src",mode:"black",reportOnly:!1}))}}),[t,Tn.current]),c.useEffect((function(){En.current&&En.current.config&&(En.current.mediaType=ze)}),[ze]);var An=c.useRef(0);return c.useEffect((function(){if(Ln&&L!==undefined&&En.current){var e=En.current;if(L&&!e.paused)e.pause();else if(!L&&e.paused){if(0===An.current&&e.config.autoplay)return void(An.current+=1);(0,h.sw)(e.config.url)&&(0,h.VU)()&&e.play()}}}),[L,Ln]),c.useEffect((function(){var e=En.current;Ln&&null!=e&&e.paused&&Je&&(null==e||e.retry())}),[Je]),(0,p.u)(En,s.PLAY,oe,Ln),(0,p.u)(En,s.PLAYER_FOCUS,Ee,Ln),(0,p.u)(En,s.PLAYER_BLUR,ge,Ln),(0,p.u)(En,s.PLAYING,le,Ln),(0,p.u)(En,s.WAITING,pe,Ln),(0,p.u)(En,s.READY,ue,Ln),(0,p.u)(En,s.COMPLETE,ce,Ln),(0,p.u)(En,s.ERROR,fe,Ln),(0,p.u)(En,s.FULLSCREEN_CHANGE,ve,Ln),(0,p.u)(En,s.VOLUME_CHANGE,me,Ln),(0,p.u)(En,s.PAUSE,ae,Ln),(0,p.u)(En,s.ENDED,_e,Ln),(0,p.u)(En,s.LOAD_START,se,Ln),(0,p.u)(En,s.LOADED_DATA,de,Ln),c.useEffect((function(){var e=En.current;e&&Ln&&a()(Ie).call(Ie,(function(n){n&&e.registerPlugin(n)}))}),[Ie,Ln]),c.useEffect((function(){var e=En.current;e&&(e.config.fullscreenTarget=b)}),[b]),c.useImperativeHandle(n,(function(){return{getPlayer:function(){return En.current},getPlayerDom:function(){return gn.current}}})),c.useEffect((function(){var e=(null!=cn?cn:{}).error_report_stop;if(gn.current){var n=function(e){var n,t,r,i,o,a,l,u,c=e.isPure,s=void 0!==c&&c,d=e.disableFullScreen,v=void 0!==d&&d,_=e.el,p=e.url,h=e.volume,S=void 0===h?.3:h,L=e.poster,w=void 0===L?"":L,b=e.icons,x=void 0===b?{}:b,U=e.videoInit,W=void 0===U||U,q=e.autoplay,Q=void 0===q||q,J=e.autoplayMuted,X=void 0!==J&&J,$=e.isFullscreen,ee=e.fullscreenTarget,oe=e.loadTimeout,ae=void 0===oe?5e3:oe,le=e.retryCount,ue=void 0===le?3:le,ce=e.preloadTime,se=void 0===ce?4:ce,de=e.flvPreloader,fe=void 0===de?null:de,ve=e.monitor,me=e.mini,_e=e.miniscreen,pe=e.closeFocusVideoFocus,he=void 0!==pe&&pe,ge=e.closePauseVideoFocus,Ee=void 0!==ge&&ge,ye=e.closePlayVideoFocus,Se=void 0!==ye&&ye,Ie=e.closeVideoDblclick,Le=void 0!==Ie&&Ie,ke=e.closeVideoClick,we=void 0!==ke&&ke,Ze=e.enableContextmenu,be=void 0!==Ze&&Ze,Ne=e.isBlackScreenProbe,Ce=void 0!==Ne&&Ne,Oe=e.adaptiveConfig,Pe=e.marginControls,Te=void 0!==Pe&&Pe,Ae=e.mediaType,Me=e.dynamicBgConf,De=e.beforePlayerInit,Re=e.markuse,xe=e.loggerOptions,Ve=void 0===xe?{}:xe,Fe=e.isPaidLive,Ue=e.secretKey,Be=e.maskToast,Ge=I()(n=[]).call(n,(0,y.Z)(Y.Us),[z.g.play,z.g.volume,z.g.fullscreen,z.g.keyboard]),He=s?Ge:Y.Us;v&&!k()(He).call(He,z.g.fullscreen)&&He.push(z.g.fullscreen);var Ke=(0,D.D)(p).keepalivetime,je=void 0===Ke?0:Ke,We=re.ALIVE;Ue&&Fe&&0!==Number(je)&&(We=Number(je)-Math.floor(Z()()/1e3));var Ye,ze=(0,E.Z)((0,E.Z)({},ie),{},{el:_,url:p,poster:w,icons:(0,E.Z)((0,E.Z)({},ie.icons),x),videoInit:W,autoplay:Q,autoplayMuted:X,ignores:He,i18n:[{LANG:"zh",TEXT:{FULLSCREEN_TIPS:"\u8fdb\u5165\u5168\u5c4f",EXITFULLSCREEN_TIPS:"\u9000\u51fa\u5168\u5c4f",OPEN:"\u5f00\u542f\u5f39\u5e55",OFF:"\u5173\u95ed\u5f39\u5e55"}}],volume:S,fullscreen:{target:ee},isLive:!0,flvlive:(0,E.Z)({seamlesslyReload:!0,loadTimeout:ae,retryCount:ue,seiOnDemand:!0,preloadTime:se,preloader:fe},Ue&&Fe?{FlvDemuxer:ne.Z,keyStr:Ue}:{}),controls:{initShow:!0},mini:me,miniscreen:_e,closeFocusVideoFocus:he,closePauseVideoFocus:Ee,closePlayVideoFocus:Se,closeVideoDblclick:Le,closeVideoClick:we,enableContextmenu:be,pip:!0,plugins:I()(t=[]).call(t,(0,y.Z)(ie.plugins),(0,y.Z)(ve?[H.C]:[]),(0,y.Z)(me||_e?Y.ON:[]),(0,y.Z)(Ce?[O.Z]:[]),(0,y.Z)(null!=Oe&&Oe.thresholdDown?[C.Z]:[]),(0,y.Z)(Re?[P.Z]:[]),(0,y.Z)(Fe?[K.O]:[])),markuse:Re,adaptive:Oe,marginControls:Te,mediaType:Ae||undefined});(0,R.G6)()||(0,R.vU)()||(ze.plugins=I()(Ye=[]).call(Ye,(0,y.Z)(ze.plugins),[B.Z]),ze.dynamicBg=Me||m.Yr),Fe&&Be&&(ze.maskToast=Be),De&&De();var qe=new V.ZP(ze),Qe=Ve.device_id,Je=Ve.user_id,Xe=Ve.error_report_stop,$e=(0,g.Z)(Ve,te),en=new(N())({aid:T.xo.aid,project_key:T.xo.project_key,app_name:T.xo.app_name,user_unique_id:Qe,device_id:Qe,user_id:Je,ext:(0,E.Z)((0,E.Z)({},$e),{},{isSupportedH265:(0,j.i)()?1:0,arch:null!==(r=null===(i=window)||void 0===i||null===(o=i.TTE_ENV)||void 0===o?void 0:o.arch)&&void 0!==r?r:"",scm_version:null!==(a=window.version)&&void 0!==a?a:"unknown",tce_cluster:null!==(l=window.tce_cluster)&&void 0!==l?l:"unknown",aes_flv_stream:Ue&&Fe?1:0,aes_flv_keepAliveTime:Ue&&Fe?We:0,abvids:null!==(u=f.Le.getConfig(f.gI.AbtestVids))&&void 0!==u?u:""}),error_report_stop:Boolean(Xe),player:qe,playResultThreshold:21e3});return $&&qe.getFullscreen(ee),(0,A.tq)()||(qe.registerPlugin(G.Z),qe.registerPlugin(F.ZP),F.ZP.isSupported()||M.F.info("\u62b1\u6b49\uff0c\u5f53\u524d\u6d4f\u89c8\u5668\u65e0\u6cd5\u6b63\u5e38\u89c2\u770b\u76f4\u64ad\uff0c\u5efa\u8bae\u4e0b\u8f7d\u5ba2\u6237\u7aef\u6216\u66f4\u6362\u6d4f\u89c8\u5668\u770b\u64ad")),{player:qe,logger:en}}({isPure:S,disableFullScreen:x,el:gn.current,url:Tn.current,volume:ke,poster:je,icons:Te,videoInit:(0,h.VU)()&&(0,h.sw)(Tn.current)&&Ze,autoplay:(0,h.VU)()&&(0,h.sw)(Tn.current)&&Oe,autoplayMuted:(0,h.VU)()&&(0,h.sw)(Tn.current)&&Ne,isFullscreen:w,fullscreenTarget:b,loadTimeout:q,retryCount:$,preloadTime:Ye,flvPreloader:dn,monitor:$e,mini:qe,miniscreen:Qe,closeFocusVideoFocus:De,closePauseVideoFocus:Fe,closePlayVideoFocus:xe,closeVideoDblclick:Be,closeVideoClick:He,enableContextmenu:ln,isBlackScreenProbe:nn,adaptiveConfig:On,marginControls:on,mediaType:ze,dynamicBgConf:Xe,beforePlayerInit:ee,markuse:mn,loggerOptions:cn,isPaidLive:_n,secretKey:pn,maskToast:hn}),t=n.player,r=n.logger;return yn.current=r,En.current=t,kn(!0),ue&&t.on(s.READY,ue),ce&&t.on(s.COMPLETE,ce),de&&t.on(s.LOADED_DATA,de),se&&t.on(s.LOAD_START,se),he&&t.on(s.USER_ACTION,he),function(){var n;En.current.destroy(),En.current=null,ue&&t.off(s.READY,ue),ce&&t.off(s.COMPLETE,ce),de&&t.off(s.LOADED_DATA,de),se&&t.off(s.LOAD_START,se),he&&t.off(s.USER_ACTION,he),null===(n=yn.current)||void 0===n||n.destroy(Boolean(e)),yn.current=null}}return function(){var n,t;null===(n=En.current)||void 0===n||n.destroy(),null===(t=yn.current)||void 0===t||t.destroy(Boolean(e))}}),[]),c.createElement("div",{ref:gn,onClick:ye,className:u()("basicPlayer",X,o,"xgplayer"),style:l,"data-e2e":"basicPlayer"},Ln&&c.createElement(_.E.Provider,{value:{player:En.current,logger:yn.current}},Ae),c.createElement("div",{id:"ugc_view",className:u()((0,r.Z)({},J,tn))}))})))},75540:function(e,n,t){t.d(n,{JZ:function(){return r},Ht:function(){return i},Yr:function(){return o},CL:function(){return a},mU:function(){return l},YC:function(){return u},jZ:function(){return c}});var r={DY_REPLAY_TIPS:"\u5237\u65b0",FULLSCREEN_TIPS:"\u8fdb\u5165\u5168\u5c4f",REFRESH_TIPS:"\u62b1\u6b49\uff0c\u64ad\u653e\u5668\u51fa\u9519\u4e86\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5",REFRESH:"\u70b9\u6b64\u5237\u65b0",DY_REPORT:"\u4e3e\u62a5"},i={checkVisible:!1,isGlobalTrigger:!0,keyCodeMap:{space:{code:32,action:"playPause",disable:!1},left:{code:37,disable:!0},right:{code:39,disable:!0},up:{keyCode:187,action:"upVolume",disable:!1,noBodyTarget:!0},down:{keyCode:189,action:"downVolume",disable:!1,noBodyTarget:!0},up1:{keyCode:107,action:"upVolume",disable:!1,noBodyTarget:!0},down1:{keyCode:109,action:"downVolume",disable:!1,noBodyTarget:!0}}},o={addMask:!0,maskBg:"rgba(0, 0, 0, 0.5)",disable:!1,frameRate:1/60,mode:"framerate",startInterval:4e3},a="-1800",l=function(e){return e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e}({}),u=function(e){return e.LiveReport="live_report",e.LiveTitleChange="live_title_change",e.LiveCountChange="live_count_change",e}({}),c=function(e){return e.NONE="none",e.FAIL="fail",e.ANCHOR_BAN="anchor_ban",e.LIVE_FINISH="live_finish",e.BAN="ban",e.KICK_OUT="kick_out",e}({})},84091:function(e,n,t){t.d(n,{Y:function(){return B}});var r,i,o,a=t(53864);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l.apply(this,arguments)}var u,c,s,d=function(e){return a.createElement("svg",l({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.29 10.29a2 2 0 012-2h10.693a2 2 0 012 2v5.404a5.55 5.55 0 00-2.472-.55v-2.871a.6.6 0 00-.6-.6h-.772l.322-.478a.6.6 0 00-.996-.67l-.772 1.148h-.317l-.772-1.148a.6.6 0 10-.995.67l.321.478h-.774a.6.6 0 00-.6.6v3.772a.6.6 0 00.6.6h1.609a5.602 5.602 0 00-.625.69h-1.463a.6.6 0 100 1.2h.763a5.554 5.554 0 00-.443 2.181c0 .76.152 1.484.428 2.144h-5.136a2 2 0 01-2-2V10.29zm11.021 4.997a5.535 5.535 0 00-.552.158h-.626v-.684h1.178v.526zm-9.034-3.955a.6.6 0 01.6-.6h2.377a.6.6 0 01.6.6v2.83a.6.6 0 01-.6.6h-1.777v1.157h1.777a.6.6 0 01.6.6v3.3a.6.6 0 01-.6.6h-2.377a.6.6 0 010-1.2h1.777v-2.1h-1.777a.6.6 0 01-.6-.6V14.16a.6.6 0 01.6-.6h1.777v-1.629h-1.777a.6.6 0 01-.6-.6zm5.48 4.113v-.684h1.176v.684h-1.177zm0-1.884h1.176v-.688h-1.177v.688zm2.376 0h1.178v-.688h-1.178v.688z",fill:"#fff",fillOpacity:.9})),i||(i=a.createElement("circle",{cx:20.566,cy:20.716,r:3.855,fill:"#fff",fillOpacity:.9})),o||(o=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.613 22.826a2.355 2.355 0 01-3.157-3.157l3.157 3.157zm1.061-1.06l-3.158-3.159a2.355 2.355 0 013.159 3.159zm1.747-1.05a3.855 3.855 0 11-7.71 0 3.855 3.855 0 017.71 0z",fill:"#FE2C55"})))};function f(){return f=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},f.apply(this,arguments)}var v,m=function(e){return a.createElement("svg",f({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u||(u=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.29 10.29a2 2 0 012-2h10.693a2 2 0 012 2v5.404a5.55 5.55 0 00-2.472-.55v-2.871a.6.6 0 00-.6-.6h-.772l.322-.478a.6.6 0 00-.996-.67l-.772 1.148h-.317l-.772-1.148a.6.6 0 10-.995.67l.321.478h-.774a.6.6 0 00-.6.6v3.772a.6.6 0 00.6.6h1.609a5.603 5.603 0 00-.625.69h-1.463a.6.6 0 100 1.2h.763a5.554 5.554 0 00-.443 2.181c0 .76.152 1.484.428 2.144h-5.136a2 2 0 01-2-2V10.29zm11.021 4.997a5.56 5.56 0 00-.552.158h-.626v-.684h1.178v.526zm-9.034-3.955a.6.6 0 01.6-.6h2.377a.6.6 0 01.6.6v2.83a.6.6 0 01-.6.6h-1.777v1.157h1.777a.6.6 0 01.6.6v3.3a.6.6 0 01-.6.6h-2.377a.6.6 0 010-1.2h1.777v-2.1h-1.777a.6.6 0 01-.6-.6V14.16a.6.6 0 01.6-.6h1.777v-1.629h-1.777a.6.6 0 01-.6-.6zm5.48 4.113v-.684h1.176v.684h-1.177zm0-1.884h1.176v-.688h-1.177v.688zm2.376 0h1.178v-.688h-1.178v.688z",fill:"#fff"})),c||(c=a.createElement("path",{d:"M24.423 20.715a3.857 3.857 0 11-7.714 0 3.857 3.857 0 017.714 0z",fill:"#fff"})),s||(s=a.createElement("path",{d:"M18.802 20.5l1.384 1.502 2.214-2.38",stroke:"#FE2C55",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))};function _(){return _=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_.apply(this,arguments)}var p,h=function(e){return a.createElement("svg",_({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),v||(v=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 10a2 2 0 012-2h13a2 2 0 012 2v12a2 2 0 01-2 2h-13a2 2 0 01-2-2V10zm3 4.5v-2h1.499V11h2v2.5a1 1 0 01-1 1H10.5zM20 11h-2v2.498a1 1 0 001 1h2.5v-2H20V11zm0 8.5h1.5v-2H19a1 1 0 00-1 1V21h2v-1.5zM12 21v-1.498h-1.5v-2H13a1 1 0 011 1V21h-2z",fill:"#fff"})))};function g(){return g=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},g.apply(this,arguments)}var E,y,S=function(e){return a.createElement("svg",g({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),p||(p=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 8a2 2 0 00-2 2v12a2 2 0 002 2h13a2 2 0 002-2V10a2 2 0 00-2-2h-13zm10 11h-1.501v2H20.5a1 1 0 001-1v-2.5h-2V19zm-7 0v-1.5h-2V20a1 1 0 001 1h2.499v-2H12.5zm0-6h1.499v-2H11.5a1 1 0 00-1 1v2.5h2V13zm7 0h-1.501v-2H20.5a1 1 0 011 1v2.5h-2V13z",fill:"#fff"})))};function I(){return I=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},I.apply(this,arguments)}var L,k=function(e){return a.createElement("svg",I({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),E||(E=a.createElement("rect",{x:9,y:8,width:5,height:16,rx:1,fill:"#fff"})),y||(y=a.createElement("rect",{x:18,y:8,width:5,height:16,rx:1,fill:"#fff"})))};function w(){return w=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},w.apply(this,arguments)}var Z,b,N=function(e){return a.createElement("svg",w({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),L||(L=a.createElement("path",{d:"M23.5 15.134a1 1 0 010 1.732l-11.25 6.495a1 1 0 01-1.5-.866V9.505a1 1 0 011.5-.866l11.25 6.495z",fill:"#fff"})))};function C(){return C=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},C.apply(this,arguments)}var O,P,T=function(e){return a.createElement("svg",C({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Z||(Z=a.createElement("path",{d:"M7 14a2 2 0 012-2h1l4.36-3.633a1 1 0 011.64.768v13.73a1 1 0 01-1.64.768L10 20H9a2 2 0 01-2-2v-4zM18 19a3 3 0 100-6v6z",fill:"#fff"})),b||(b=a.createElement("path",{d:"M18 23.734l.095-.007A7.75 7.75 0 0018 8.266v2.507a5.25 5.25 0 010 10.454v2.507z",fill:"#fff"})))};function A(){return A=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},A.apply(this,arguments)}var M,D,R=function(e){return a.createElement("svg",A({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),O||(O=a.createElement("path",{d:"M7 14a2 2 0 012-2h1l4.36-3.633a1 1 0 011.64.768v13.73a1 1 0 01-1.64.768L10 20H9a2 2 0 01-2-2v-4zM18 19a3 3 0 100-6v6z",fill:"#fff"})),P||(P=a.createElement("path",{opacity:.3,d:"M18 23.734l.095-.007A7.75 7.75 0 0018 8.266v2.507a5.25 5.25 0 010 10.454v2.507z",fill:"#fff"})))};function x(){return x=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},x.apply(this,arguments)}var V=function(e){return a.createElement("svg",x({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M||(M=a.createElement("path",{d:"M7 14a2 2 0 012-2h1l4.36-3.633a1 1 0 011.64.768v13.73a1 1 0 01-1.64.768L10 20H9a2 2 0 01-2-2v-4z",fill:"#fff"})),D||(D=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.002 17.55l2.499 2.954 1.502-1.316-2.693-3.185 2.694-3.185-1.503-1.316-2.499 2.955-2.5-2.955L17 12.818l2.694 3.185-2.693 3.185 1.502 1.316 2.499-2.955z",fill:"#fff"})))},F=t(44796),U=t(64130),B={play:(0,U.I)(N),pause:(0,U.I)(k),fullscreen:(0,U.I)(S),exitFullscreen:(0,U.I)(h),openDanmu:(0,U.I)(m),closeDanmu:(0,U.I)(d),loadingIcon:(0,F.w)(),volumeMuted:(0,U.I)(V),volumeSmall:(0,U.I)(R),volumeLarge:(0,U.I)(T)}},96667:function(e,n,t){t.d(n,{Yw:function(){return v.Y},Us:function(){return m},_f:function(){return _},ON:function(){return p}});var r=t(17566),i=t(89242),o=t(40321),a=t(63611),l=t(2356),u=t(23141),c=t(69865),s=t(7523),d=t(19595),f=t(67723),v=t(84091),m=[r.g.i18n,r.g.progress,r.g.cssfullscreen,r.g.replay,r.g.time,r.g.playbackrate,r.g.definition,r.g.start,r.g.error],_=[i.Z,o.Z,a.Z,l.Z,u.Z,c.Z,s.Z,f.Z],p=[d.Z]},17566:function(e,n,t){t.d(n,{g:function(){return c},K:function(){return s}});var r,i,o,a,l=t(65146),u=t(44487),c=function(e){return e.miniscreen="miniscreen",e.time="time",e.definition="definition",e.error="error",e.cssfullscreen="cssfullscreen",e.fullscreen="fullscreen",e.i18n="i18n",e.loading="loading",e.mobile="mobile",e.pip="pip",e.pc="pc",e.play="play",e.poster="poster",e.progress="progress",e.replay="replay",e.start="start",e.volume="volume",e.playbackrate="playbackrate",e.danmu="danmu",e.danmuicon="danmuicon",e.title="title",e.anchor="anchor",e.comment="comment",e.dyreplay="dyreplay",e.livestop="livestop",e.report="report",e.controls="controls",e.dynamicbg="dynamicBg",e.enter="enter",e.cancelMute="cancelMute",e.keyboard="keyboard",e.abr="abr",e}({}),s=(a={},(0,l.Z)(a,u.ZP.POSITIONS.ROOT,(0,l.Z)({},c.cancelMute,0)),(0,l.Z)(a,u.ZP.POSITIONS.ROOT_TOP,(r={},(0,l.Z)(r,c.title,0),(0,l.Z)(r,c.anchor,1),r)),(0,l.Z)(a,u.ZP.POSITIONS.CONTROLS_LEFT,(i={},(0,l.Z)(i,c.play,0),(0,l.Z)(i,c.dyreplay,1),i)),(0,l.Z)(a,u.ZP.POSITIONS.CONTROLS_RIGHT,(o={},(0,l.Z)(o,c.fullscreen,0),(0,l.Z)(o,c.report,1),(0,l.Z)(o,c.volume,2),(0,l.Z)(o,c.danmuicon,3),(0,l.Z)(o,c.comment,4),o)),a)},74914:function(e,n,t){t.d(n,{E:function(){return r}});var r=t(53864).createContext({player:{},logger:{}})},74584:function(e,n,t){t.d(n,{n:function(){return o}});var r=t(53864),i=t(74914),o=function(){var e=r.useContext(i.E),n=e.player;return{logger:e.logger,player:n}}},47463:function(e,n,t){t.d(n,{u:function(){return a}});var r=t(89884),i=t.n(r),o=t(53864),a=function(e,n,t,r){return o.useEffect((function(){var o=e.current;return t&&o&&r?(null==o||o.off(n,t),null==o||o.on(n,t),function(){null==o||o.off(n,t)}):i()}),[t,n,e,r]),null}},92312:function(e,n,t){t.d(n,{r:function(){return E}});var r=t(67161),i=t(21155),o=t.n(i),a=t(82766),l=t.n(a),u=t(76473),c=t.n(u),s=t(79705),d=t.n(s),f=t(53864),v=t(60443),m=t(97702),_=t(74584),p=t(39030),h=["index","position","containerClassName","containerTagName"],g={controlsLeft:".xg-left-grid",controlsRight:".xg-right-grid",controlCenter:".xg-center-grid",controlBottom:".xgplayer-controls",rootTop:".xg-top-bar",rootLeft:".xg-left-bar",rootRight:".xg-right-bar"},E=function(e){return function(n){var t=n.index,i=n.position,a=n.containerClassName,u=n.containerTagName,s=void 0===u?"div":u,E=(0,r.Z)(n,h),y=(0,_.n)().player,S=f.useMemo((function(){return i?m.ZP.findDom(y.root,g[i]):undefined}),[i]);return f.useEffect((function(){var e,n;S&&o()(e=l()(n=c()(S.children)).call(n,(function(e,n){return Number(e.dataset.index)-Number(n.dataset.index)}))).call(e,(function(e){return S.appendChild(e)}))}),[S]),S?v.createPortal(f.createElement(s,{"data-index":t,className:d()(p.Z.pluginContainer,a)},f.createElement(e,E)),S):f.createElement(s,{"data-index":t,className:d()(p.Z.pluginContainer,a)},f.createElement(e,E))}}},44796:function(e,n,t){t.d(n,{w:function(){return a}});var r=t(53864),i=t(6120),o=t(75422),a=function(e){return(0,i.Dq)(r.createElement(o.g,e))}},82062:function(e,n,t){t.d(n,{sw:function(){return l},VU:function(){return u},GT:function(){return c},rT:function(){return s}});var r=t(43332),i=t.n(r),o=t(73459),a=t(44344),l=function(e){if(e===undefined||""===e||null===e)return!1;var n=function(e){var n="";try{var t=new(i())(e);n=null==t?void 0:t.host}catch(r){return"err"}return n}(e);return""!==n},u=function(){return(0,o.tq)()||!(0,o.tq)()&&window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},c=function(e,n){var t=!(0,o.tq)()&&e?{abr_pts:null==n?void 0:n.abr_pts,_session_id:null==n?void 0:n.sessionId,switch_front:null==n?void 0:n.switch_front}:{_session_id:null==n?void 0:n.sessionId};return(0,a.G)(t,e)},s=function(e,n){var t={if_paid_live_card:null==n?void 0:n.if_paid_live_card,ticket_entrance:null==n?void 0:n.ticket_entrance,entrance_form:null==n?void 0:n.entrance_form};return(0,a.G)(t,e)}},71846:function(e,n,t){t.d(n,{G:function(){return g}});var r=t(21155),i=t.n(r),o=t(58144),a=t.n(o),l=t(11227),u=t.n(l),c=t(53864),s=t(74584),d=t(61508),f=t(26846),v=t(38829);function m(e){return document.querySelector(e)}var _={ts:-1,hasInit:!1,gameHidden:0},p=function(e){return e[e.game=0]="game",e[e.ugc=1]="ugc",e}(p||{});function h(e){var n=e.disEnabled,t=void 0!==n&&n,r=e.handleChangeGameHiddle,o=e.isGameHiddle,l=e.ele,h=(0,s.n)().player,g=(0,c.useRef)(),E=(0,c.useCallback)((function(e){var n;if(100===e.code)try{var c=(new TextDecoder).decode(e.content),s=(0,f.KR)(c);if(null!=s&&s.app_data){var d=JSON.parse(s.app_data);switch(d.ver){case v.t.VIDEO_TALK_ROOM:case v.t.VIDEO_EQUAL:case v.t.VIDEO_DYNAMIC:case v.t.VIDEO_C:if(t)return;h.position({y:.203,h:.5});break;case v.t.VIDEO_T1B8:if(t)return;h.position({y:.11,h:.7375});break;case v.t.VIDEO_DYNAMIC_FLOAT:if(t)return;h.position({y:0,h:1});break;case v.t.VIDEO_CAMERA_NEW:case v.t.C_VIDEO_CAMERA:if(t)return;h.position({y:1-.7375,h:.7375});break;case v.t.VIDEO_DYNAMIC_1V3:case v.t.VIDEO_DYNAMIC_1V6:if(t)return;h.position({y:.203,h:.5});break;case v.t.PK:case v.t.MULTI_ANCHOR:var g,E,y=d.ver===v.t.MULTI_ANCHOR&&4===d.grids.length,S=Boolean(null===(n=d.anchor_interact_info)||void 0===n?void 0:n.layout_type);if(null!=s&&s.live_crop&&d.ver===v.t.PK)g=s.live_crop.crop_y/s.live_crop.stride_h,E=s.live_crop.crop_h/s.live_crop.stride_h;else if(S){var I,L,k=null===(I=d.anchor_interact_info)||void 0===I?void 0:I.focus_id,w=a()(L=d.grids).call(L,(function(e){return e.uid_str===k}));g=null==w?void 0:w.y,E=null==w?void 0:w.h}else{var Z,b;g=null===(Z=d.grids[0])||void 0===Z?void 0:Z.y,E=null===(b=d.grids[0])||void 0===b?void 0:b.h}h.position({y:g,h:y&&!S?2*E:E});break;case v.t.VIDEO_6V6:if(t)return;h.position({y:.183,h:.52});break;default:if(null!=s&&s.live_crop){var N=s.live_crop.crop_y/s.live_crop.stride_h,C=s.live_crop.crop_h/s.live_crop.stride_h;h.position({y:N,h:C})}}}else if(null!=s&&s.game_live_data){var O,P=null==s?void 0:s.game_live_data,T=P.camera_clip,A=P.game_hidden,M=P.game_clip;P.display_mode;if((null==s?void 0:s.ts)<_.ts)return;_.ts=null==s?void 0:s.ts;var D,R,x=m(l);if(!_.hasInit)null===(D=h.video)||void 0===D||D.updateMeta({mainPointers:[M.x,M.y,M.w,M.h],miniPointers:[T.x,T.y,T.w,T.h],displayMode:o||_.gameHidden}),o&&(null===(R=h.video)||void 0===R||R.switchScreen()),_.hasInit=!0;var V,F=1===A?1:0;if(x&&null!=h&&null!==(O=h.video)&&void 0!==O&&O.pipScreen){var U,B=m("offscreen-video");if(F!==_.gameHidden)!function(e){i()([]).call(e.children,(function(e){"CANVAS"===e.tagName&&e.remove()}))}(x),B&&B.style.setProperty("width","100%","important");else if(F===p.game)x.appendChild(null==h||null===(U=h.video)||void 0===U?void 0:U.pipScreen),B&&B.style.setProperty("width","76%","important")}if(F!==_.gameHidden)r&&r(F),null===(V=h.video)||void 0===V||V.switchScreen(),_.gameHidden=F}else{var G;null!=s&&null!==(G=s.source)&&void 0!==G&&u()(G).call(G,"TTLiveSDK")&&h.position({y:0,h:1})}}catch(H){}}),[]),y=(0,c.useCallback)((function(){clearTimeout(g.current),h.video&&h.position({y:0,h:1})}),[]);return(0,c.useEffect)((function(){return h.on(d.URL_CHANGE,y),function(){h.off(d.URL_CHANGE,y)}}),[]),(0,c.useEffect)((function(){return h.on(d.SEI_PARSED,E),function(){h.off(d.SEI_PARSED,E),clearTimeout(g.current),h.video&&h.position({y:0,h:1})}}),[]),null}var g=(0,c.memo)(h)},24927:function(e,n,t){t.d(n,{g:function(){return l}});var r=t(53864),i=t(74584),o=t(97876);function a(){var e=(0,i.n)().player;return(0,r.useEffect)((function(){var n=o.listen(o.EVENT.livePause,(function(){e.pause()}));return function(){n()}}),[]),null}var l=(0,r.memo)(a)},61187:function(e,n,t){t.d(n,{D:function(){return g}});var r=t(32781),i=t(85792),o=t.n(i),a=t(53864),l=t(61508),u=t(5611),c=t(34547),s=t(72603),d="dQLZZMEm",f="_8UXEt_q",v="vKCQpRjz",m="x7lk09Nr",_={smallWindowExit:{eventName:"small_window_exit",params:{enter_from:"",action:"",action_type:"",stream_type:""}}},p=t(74584),h=t(13795),g=function(e){var n=e.isActive,t=(e.playerRef,e.handelIsInPic),i=(0,a.useState)(!1),g=(0,r.Z)(i,2),E=g[0],y=g[1],S=(0,p.n)().player,I=(0,a.useRef)(new h.hD(_));return(0,a.useEffect)((function(){var e,t=null==S?void 0:S.video;if(t&&n&&S){var r=function(){var n,t,r;(0,u.DT)()||!(0,c.DJ)()||!((null==S||null===(n=S.video)||void 0===n?void 0:n.readyState)>2||S.currentTime)||null!=S&&S.isInPicture||(null==S||null===(t=S.video)||void 0===t||null===(r=t.requestPictureInPicture)||void 0===r||r.call(t).then((function(){y(!0),S.isInPicture=!0,clearTimeout(e)})).catch((function(e){S.isInPicture=!0,y(!1)})))};e=o()(r,0),null==S||S.on(l.LOADED_DATA,r);var i=function(){y(!0)},a=function(){y(!1)};return t.addEventListener("enterpictureinpicture",i),t.addEventListener("leavepictureinpicture",a),function(){t.removeEventListener("leavepictureinpicture",a),t.removeEventListener("enterpictureinpicture",i),null==S||S.off(l.LOADED_DATA,r),S.isInPicture=!1,clearTimeout(e)}}}),[n,S]),(0,a.useEffect)((function(){t&&t(E)}),[E]),E?a.createElement(a.Fragment,null,a.createElement("div",{className:d}),a.createElement("div",{className:f},a.createElement("div",{className:v},"\u6b63\u5728\u300c\u753b\u4e2d\u753b\u300d\u6a21\u5f0f\u4e0b\u64ad\u653e"),a.createElement("div",{className:m,onClick:function(e){var n,t;(e.stopPropagation(),(0,c.DJ)())&&(null===(n=(t=document).exitPictureInPicture)||void 0===n||n.call(t));y(!1),I.current.sendLog("smallWindowExit",{enter_from:(0,s.vM)()})}},"\u9000\u51fa\u753b\u4e2d\u753b"))):null}},540:function(e,n,t){t.d(n,{C:function(){return g}});var r=t(19049),i=t(95508),o=t(73316),a=t(6670),l=t(78034),u=t(65146),c=t(92524),s=t.n(c),d=t(94090),f=t.n(d),v=t(54343),m=t.n(v),_=t(76569),p=t.n(_),h=t(97702),g=function(e){(0,a.Z)(t,e);var n=(0,l.Z)(t);function t(e){var i;return(0,r.Z)(this,t),i=n.call(this,e),(0,u.Z)((0,o.Z)(i),"lastTotalFrames",0),(0,u.Z)((0,o.Z)(i),"timmer",null),i}return(0,i.Z)(t,[{key:"computedInfo",value:function(){var e=this.player;try{var n,t=Math.round(1e3/e.plugins.flvlive._context._instanceMap.TRACKS.videoTrack.meta.refSampleDuration),r=e.plugins.flvlive._context._instanceMap.TRACKS.videoTrack.meta.codec,i=e.video,o=null===(n=e.video)||void 0===n?void 0:n.getVideoPlaybackQuality().totalVideoFrames,a=o-this.lastTotalFrames;return this.lastTotalFrames=o,{fps:t,codec:r,currentTime:i.currentTime,decoder:-1!==s()(r).call(r,"avc1")?"H264":"H265",buffered:i.buffered.end(0)-i.currentTime,renderFps:a,width:i.videoWidth,height:i.videoHeight}}catch(l){}}},{key:"renderMoniorItem",value:function(e,n){var t,r,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";return f()(t=f()(r='<div class="m_item">\n      <span>'.concat(n,"</span>:")).call(r,e)).call(t,null!=i?i:"&npsp;<span>".concat(i,"</span>"),"\n    </div>")}},{key:"renderMonitorInfo",value:function(){var e,n,t,r,i,o,a=this.computedInfo();if(a){var l=a.fps,u=(a.codec,a.currentTime),c=a.decoder,s=a.buffered,d=a.renderFps,v=a.width,m=a.height;return f()(e=f()(n=f()(t=f()(r=f()(i='\n      <div class="live-monitor-content">\n       '.concat(this.renderMoniorItem(l,"\u89c6\u9891\u5e27\u7387","fps"),"\n       ")).call(i,this.renderMoniorItem(c,"\u89c6\u9891\u7f16\u7801"),"\n       ")).call(r,this.renderMoniorItem(u,"\u5f53\u524d\u64ad\u653e\u65f6\u95f4"),"\n       ")).call(t,this.renderMoniorItem(s,"buffer\u7f13\u5b58","s"),"\n       ")).call(n,this.renderMoniorItem(d,"\u6e32\u67d3\u5e27\u7387","fps"),"\n       ")).call(e,this.renderMoniorItem(f()(o="".concat(v,"/")).call(o,m),"\u5206\u8fa8\u7387","\u5355\u4f4dw/h"),"\n      </dv>\n    ")}}},{key:"startRender",value:function(){var e=this;this.config.show&&(clearInterval(this.timmer),this.timmer=m()((function(){var n=e.renderMonitorInfo();h.ZP.findDom(undefined,".xg-live-monitor").innerHTML=globalThis.xssNamespace.douyin_web._filterXSS(n,null,{logType:"js.innerHTML",mode:"black",reportOnly:!1})}),1e3))}},{key:"endRender",value:function(){clearInterval(this.timmer)}},{key:"getDom",value:function(){return h.ZP.findDom(undefined,".xg-monitor-pannel")}},{key:"show",value:function(){this.getDom().style.display="block",this.startRender()}},{key:"hidden",value:function(){this.getDom().style.display="none",this.endRender()}},{key:"afterPlayerInit",value:function(){}},{key:"afterCreate",value:function(){p()(this).call(this,".close-pannel",this.hidden)}},{key:"destroy",value:function(){clearInterval(this.timmer),this.unbind(".close-pannel",this.hidden)}},{key:"render",value:function(){return'\n      <div class="xg-monitor-pannel">\n        <span class="close-pannel">\u5173\u95ed</span>\n        <div class="xg-live-monitor"></div>\n      </div>\n    '}}],[{key:"pluginName",get:function(){return"LiveMonitorPlugin"}},{key:"defaultConfig",get:function(){return{show:!0}}}]),t}(t(44487).ZP)},2044:function(e,n,t){t.d(n,{J:function(){return g},O:function(){return y}});var r,i=t(77007),o=t(19049),a=t(95508),l=t(73316),u=t(6670),c=t(78034),s=t(65146),d=t(76569),f=t.n(d),v=t(92524),m=t.n(v),_=t(21155),p=t.n(_),h=t(44487),g=function(e){return e.DANMU="danmu",e.FULLSCREEN="fullscreen",e.CSSFULLSCREEN="cssFullscreen",e}({}),E=(r={},(0,s.Z)(r,g.DANMU,".danmu-icon"),(0,s.Z)(r,g.FULLSCREEN,".xgplayer-fullscreen"),(0,s.Z)(r,g.CSSFULLSCREEN,".full-cssfullscreen"),r),y=function(e){(0,u.Z)(t,e);var n=(0,c.Z)(t);function t(e){var r,i,a;return(0,o.Z)(this,t),(a=n.call(this,e)).icons=[g.DANMU,g.FULLSCREEN],a.recorder={},a.maskToast=null===(r=a.playerConfig)||void 0===r?void 0:r.maskToast,a.maskCall=f()(i=a.maskCall).call(i,(0,l.Z)(a)),a}return(0,a.Z)(t,[{key:"maskCall",value:function(e){var n;e.preventDefault(),e.stopPropagation();var t=e.target;null==this||this.maskToast({interact_name:null==t||null===(n=t.dataset)||void 0===n?void 0:n.maskKey})}},{key:"getDom",value:function(e){var n=E[e];return document.querySelector(n)}},{key:"appendMask",value:function(e){var n=this.getDom(e);if(n&&!this.recorder[e]){this.recorder[e]=!0;var t=document.createElement("div");t.dataset.maskKey=e,t.addEventListener("click",this.maskCall),t.classList.add("mask-icon-live-cus"),n.classList.add("mask-icon-live-cus-container"),n.append(t)}}},{key:"removeMask",value:function(e){var n=this.getDom(e);if(n){this.recorder[e]=!1;var t,r=(null==n?void 0:n.children)||[],o=(0,i.Z)(r);try{for(o.s();!(t=o.n()).done;){var a,l=t.value;(null==l||null===(a=l.className)||void 0===a?void 0:m()(a).call(a,"mask-icon-live-cus"))>-1&&n.removeChild(l)}}catch(u){o.e(u)}finally{o.f()}n.classList.remove("mask-icon-live-cus-container")}}},{key:"initMask",value:function(){var e,n=this;p()(e=this.icons).call(e,(function(e){n.appendMask(e)}))}},{key:"desMask",value:function(){var e,n=this;p()(e=this.icons).call(e,(function(e){e&&n.removeMask(e)})),this.recorder={}}},{key:"addMask",value:function(e){E[e]&&this.appendMask(e)}},{key:"removeMaskIcon",value:function(e){E[e]&&this.recorder[e]&&this.removeMask(e)}},{key:"afterCreate",value:function(){}},{key:"destroy",value:function(){this.desMask()}}],[{key:"pluginName",get:function(){return"MaskIconPlugin"}},{key:"defaultConfig",get:function(){return{icons:[g.DANMU,g.FULLSCREEN,g.CSSFULLSCREEN]}}}]),t}(h.ZP)},73213:function(e,n,t){t.r(n),t.d(n,{PlayerEndCover:function(){return p},default:function(){return h}});var r,i=t(79705),o=t.n(i),a=t(53864),l="wX5TymSe",u="YQXSUEUr",c="WsmnD5TJ",s="nq_89kNs",d="DDUgrg8B",f=t(74584),v=t(14548);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},m.apply(this,arguments)}var _=function(e){return a.createElement("svg",m({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{d:"M4.17 5.333a4.667 4.667 0 11-.497 4.417.667.667 0 00-1.237.5A6.002 6.002 0 0014 8 6 6 0 003.333 4.229v-.896a.667.667 0 10-1.333 0V6c0 .368.298.667.667.667h2.666a.667.667 0 000-1.334H4.17z",fill:"#fff",fillOpacity:.9})))},p=function(e){var n=e.cover,t=e.children,r=void 0===t?"\u5f53\u524d\u76f4\u64ad\u5df2\u7ed3\u675f":t,i=e.className,m=e.isLiveModal,p=void 0!==m&&m,h=e.isPreview,g=void 0!==h&&h,E=(0,f.n)().player;(0,a.useEffect)((function(){!p&&!g&&(null==E?void 0:E.exitFullscreen)&&(null==E||E.exitFullscreen())}),[]);var y=a.useCallback((function(){document.location.reload()}),[]);return a.createElement("div",{className:o()(l,i)},a.createElement("img",{className:d,src:globalThis.xssNamespace.douyin_web.filterUrl(n,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}),r[0]===v.kx.KICK_OUT?a.createElement("div",null,a.createElement("span",{className:u},r),a.createElement("div",{className:c,onClick:function(){return y()}},a.createElement(_,null),a.createElement("div",{className:s},"\u7ee7\u7eed\u770b\u64ad"))):a.createElement("span",{className:u},r))},h=p},12181:function(e,n,t){t.d(n,{p:function(){return o}});var r=t(53864),i=t(74584),o=function(e){var n=e.ext,t=(0,i.n)().logger;return r.useEffect((function(){t&&t.updateExt(n)}),[n]),null}},76757:function(e,n,t){t.d(n,{_:function(){return D}});var r,i,o=t(65146),a=t(26447),l=t.n(a),u=t(53864),c=t(79705),s=t.n(c),d=t(9909);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},f.apply(this,arguments)}var v=function(e){return u.createElement("svg",f({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=u.createElement("g",{filter:"url(#svg_close_svg__filter0_d_1958_939)",shapeRendering:"crispEdges"},u.createElement("path",{d:"M14.749 4.463a.857.857 0 10-1.212-1.212L9 7.788 4.463 3.25a.857.857 0 00-1.212 1.212L7.788 9 3.25 13.537a.857.857 0 101.212 1.212L9 10.212l4.537 4.537a.857.857 0 101.212-1.212L10.212 9l4.537-4.537z",fill:"#fff"}),u.createElement("path",{d:"M15.102 4.817a1.357 1.357 0 10-1.919-1.92L9 7.082 4.817 2.897a1.357 1.357 0 10-1.92 1.92L7.082 9l-4.184 4.183a1.357 1.357 0 001.92 1.92L9 10.918l4.183 4.183a1.357 1.357 0 001.92-1.919L10.918 9l4.183-4.183z",stroke:"#000",strokeOpacity:.2,strokeLinecap:"round",strokeLinejoin:"round"}))),i||(i=u.createElement("defs",null,u.createElement("filter",{id:"svg_close_svg__filter0_d_1958_939",x:0,y:0,width:18,height:18,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),u.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",null),u.createElement("feGaussianBlur",{stdDeviation:1}),u.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),u.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),u.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1958_939"}),u.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_1958_939",result:"shape"})))))},m={container:"cjPSLdOm",containerFeedLiveDetail:"Fd8AdbrD",hide:"oJLVrqX7",promotionPop:"swqrVuOB",top:"PuicXfpa",productCover:"sM5qp3Jg",closeIcon:"TiSmEvvk",activityTag:"eUI8JtIY",smallPopCard:"SxApmZSl",bottom:"LqptSnf1",title:"jY4aDoBp",mini:"kyafj3SQ",hotAtmosphere:"nRGHTp2k",enter:"PZcMl_vh",enterActive:"_7YIqlzFj",enterDone:"JbOH7cgj",exit:"OOQcAmXg",exitActive:"jDFDaCKa",exitDone:"DXVP2V3j"},_=t(32781),p={buyArea:"XBvEq10U",price:"K9LC6XDh",rmbIcon:"NncAt2cN",priceHeader:"toJeNg93",priceNum:"ZdRhC17o",buyBtn:"ED9PCyYy",mini:"_iJgBcaG"},h=t(65913),g=function(e){var n,t,r=e.type,i=void 0===r?"normal":r,o=e.promotion,a=e.className,l=e.campaign,c=e.commodityIcon,d=e.onClick,f=(0,u.useState)(1),v=(0,_.Z)(f,2),m=v[0],g=v[1],E=(0,u.useRef)(null),y=null!=l&&l.campaign_id?l.price_header:o.price_header,S=(0,h.PN)({promotion:o,campaign:l}),I=null==c||null===(n=c.bottom_icon)||void 0===n?void 0:n.normal;return(0,u.useLayoutEffect)((function(){var e="mini"===i?I?72:110:I?108:150;E.current&&E.current.offsetWidth>e&&g(e/E.current.offsetWidth)}),[I]),u.createElement("div",{className:s()(p.buyArea,p[i],a),onClick:function(e){e.stopPropagation(),null==d||d({clickArea:"button"})}},u.createElement("span",{className:p.price,ref:E,style:{left:m<1?"-".concat((null===(t=E.current)||void 0===t?void 0:t.offsetWidth)*(1-m)*.5,"px"):"0",transform:"scale(".concat(m,")")}},y&&u.createElement("span",{className:p.priceHeader},y),u.createElement("span",{className:p.rmbIcon},"\xa5"),u.createElement("span",{className:p.priceNum},S)),I&&u.createElement("img",{className:p.buyBtn,src:globalThis.xssNamespace.douyin_web.filterUrl(I,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:""}))},E={statusMask:"K8ZPCsmf",mini:"PKYawK2D"},y=function(e){var n=e.promotion,t=e.className,r=e.type,i=void 0===r?"normal":r;return u.createElement(u.Fragment,null,u.createElement("img",{className:s()(t),src:globalThis.xssNamespace.douyin_web.filterUrl(n.cover,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:""}),(0,h.ET)(n)&&u.createElement("div",{className:s()(E.statusMask,E[i])},"- \u5df2\u62a2\u5149 -"),(0,h.DZ)(n)&&u.createElement("div",{className:s()(E.statusMask,E[i])},"- \u5e93\u5b58\u4e0d\u8db3 -"),(0,h.tw)(n)&&u.createElement("div",{className:s()(E.statusMask,E[i])},"- \u5df2\u4e0b\u67b6 -"))},S=t(28427),I=t(68384),L={activityTag:"lqSCoK0T",activityIcon:"loiJSh1r",text:"Xul3XSBA",mini:"EgvcKONo"},k=(0,u.memo)((function(e){var n=e.currentTime,t=e.endTime,r=(0,I.h)(t-n);return r<=0?null:u.createElement("span",{className:L.text},"".concat((0,S.VD)(1e3*r)))})),w=(0,u.memo)((function(e){var n=e.commodityIcon,t=e.campaign,r=e.serverTime,i=e.promotion,o=e.type,a=void 0===o?"normal":o,l=n.up_icon,c=void 0===l?"":l,d=n.up_desc,f=void 0===d?"":d,v=t||{},m=v.start_time,_=v.end_time,p=(0,h.Cg)({promotion:i,campaign:t,currentTime:r}),g=!p&&f;return u.createElement("div",{className:s()(L.activityTag,L[a])},u.createElement("img",{className:L.activityIcon,src:globalThis.xssNamespace.douyin_web.filterUrl(c,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:""}),p&&u.createElement(k,{startTime:1e3*m,currentTime:1e3*r,endTime:1e3*_}),g&&u.createElement("span",{className:L.text},f))})),Z={container:"Nhawl8qa",mainTitle:"ziqO3QtH",singleLine:"WcuBqvXH",titleTag:"lketzDei",subTitle:"pcWXSkvn",subTitleText:"gxaiU8oU",regularPrice:"wsVrnAlb",mini:"yMR4xe1T"},b=function(e){var n,t,r,i,a=e.type,l=void 0===a?"normal":a,c=e.promotion,d=e.campaign,f=e.className,v=e.serverTime,m=void 0===v?Math.round((new Date).getTime()/1e3):v,_=null===(n=c.rit_tags)||void 0===n||null===(t=n.live_room_product_title_before)||void 0===t?void 0:t[0],p=(0,h.aQ)({promotion:c,campaign:d,currentTime:m}),g=(0,h.Lw)({promotion:c,campaign:d,currentTime:m}),E=(0,h.ed)({promotion:c,campaign:d});return u.createElement("div",{className:s()(Z.container,Z[l],f)},u.createElement("div",{className:s()(Z.mainTitle,(0,o.Z)({},Z.singleLine,p))},_&&u.createElement("img",{className:Z.titleTag,src:globalThis.xssNamespace.douyin_web.filterUrl(null===(r=_.text_icon)||void 0===r||null===(i=r.url_list)||void 0===i?void 0:i[0],null,{logType:"js.href/src",mode:"black",reportOnly:!1})}),u.createElement("span",null,c.title)),p&&u.createElement("div",{className:s()(Z.subTitle)},g&&u.createElement("div",{className:Z.regularPrice},g),!g&&E&&u.createElement("div",{className:Z.subTitleText},E)))},N=t(3571),C=t(24556),O={hotAtmosphere:"roO6LhyE",hide:"uccgbjeY",stock:"jXZesV5J",sell:"GSjo6cvU",hotAtmosphereImg:"xUFA7AnV",hotAtmosphereSkeleton:"OX9YyWmQ",saleNum:"_5UMXMZm2",x:"YhYzjKkN",mini:"wwRsXR86"},P=function(e){var n,t,r,i=e.promotion,a=e.className,l=e.type,c=void 0===l?"normal":l,d=(0,u.useState)(!1),f=(0,_.Z)(d,2),v=f[0],m=f[1],p=i.hot_atmosphere,h=Number(null===(n=i.hot_atmosphere)||void 0===n?void 0:n.sale_num),g=Number(null===(t=i.hot_atmosphere)||void 0===t?void 0:t.num),E=function(){return m(!0)};return u.createElement(u.Fragment,null,p&&u.createElement("div",{className:s()(O.hotAtmosphere,a,O[c],(r={},(0,o.Z)(r,O.stock,1===i.hot_atmosphere.type),(0,o.Z)(r,O.sell,3===i.hot_atmosphere.type),(0,o.Z)(r,O.hide,!v),r))},u.createElement(C.Q,{src:globalThis.xssNamespace.douyin_web.filterUrl(i.hot_atmosphere.img,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:O.hotAtmosphereImg,skeletonClass:O.hotAtmosphereSkeleton,onHandleImgLoad:E,onError:E}),u.createElement("span",{className:O.saleNum},u.createElement("span",{className:O.x},"x"),1===i.hot_atmosphere.type&&"".concat(g>9999?"9999+":g),2===i.hot_atmosphere.type&&"".concat(h>9999?"9999+":h),3===i.hot_atmosphere.type&&"TOP".concat(g),4===i.hot_atmosphere.type&&"".concat(g,"%"))))},T=t(18121),A=t(91704),M=t(92267),D=(0,u.memo)((function(e){var n,t,r=e.type,i=void 0===r?"normal":r,a=e.promotion,c=e.commodityIcon,f=e.campaign,_=e.serverTime,p=void 0===_?Math.floor(l()()/1e3):_,E=e.onClose,S=e.isShow,I=void 0!==S&&S,L=e.onBuyClick,k=e.scene,Z=e.isLiveModal,C=void 0!==Z&&Z,O=e.isPopcardHitPrefetch,D=void 0!==O&&O,R=e.roomId,x=e.className,V=(0,T._t)((function(){var e;return(0,A.L)({promotionId:null==a?void 0:a.promotion_id,originType:638301,secAuthorId:(null===(e=(0,h.qU)(null==a?void 0:a.detail_url))||void 0===e?void 0:e.sec_author_id)||"",roomId:R})})),F=V.sendPrefetch,U=V.cancelPrefetch,B=null==a||null===(n=a.small_pop_card)||void 0===n?void 0:n.background_img_new;return a?u.createElement(N.Z,{in:I,timeout:300,unmountOnExit:!0,classNames:{enter:m.enter,enterActive:m.enterActive,enterDone:m.enterDone,exit:m.exit,exitActive:m.exitActive,exitDone:m.exitDone}},u.createElement("div",{className:s()(m.container,m[i],x,(t={},(0,o.Z)(t,m.hide,!I),(0,o.Z)(t,m.containerFeedLiveDetail,"feed_live_detail"===k&&!C),t)),onMouseEnter:function(){M.i.sendLog("ecomPopcardAiHover",{is_hit:D?1:0,room_id:R,promotion_id:null==a?void 0:a.promotion_id}),D&&F({expiredThreshold:2e4,reqKey:null==a?void 0:a.promotion_id})},onMouseLeave:function(){D&&U()}},a&&!(0,h.ET)(a)&&!(0,h.DZ)(a)&&!(0,h.tw)(a)&&u.createElement(P,{type:i,promotion:a,className:m.hotAtmosphere,campaign:f}),u.createElement("div",{className:m.promotionPop},u.createElement("div",{className:m.top},u.createElement(y,{type:i,promotion:a,className:m.productCover})),c&&u.createElement("div",{className:m.activityTag},u.createElement(w,{type:i,commodityIcon:c,campaign:f,serverTime:p,promotion:a})),u.createElement(d.Z,{className:m.closeIcon,src:globalThis.xssNamespace.douyin_web.filterUrl(v,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:18,height:18,viewBox:"0 0 18 18",onClick:function(e){e.stopPropagation(),null==E||E()}}),B&&u.createElement("div",{className:m.smallPopCard},u.createElement("img",{src:globalThis.xssNamespace.douyin_web.filterUrl(B,null,{logType:"js.href/src",mode:"black",reportOnly:!1})})),u.createElement("div",{className:m.bottom},u.createElement(b,{type:i,promotion:a,className:m.title,campaign:f,serverTime:p}),u.createElement(g,{type:i,promotion:a,commodityIcon:c,campaign:f,onClick:L}))))):null}))},1322:function(e,n,t){t.d(n,{$:function(){return w}});var r,i,o,a,l,u=t(9909),c=t(79705),s=t.n(c),d=t(53864),f={yellowCart:"_m_Gkwgz",left:"pJiH8C7B",cartIcon:"hL91qCUe",text:"bQnKs8lm",mini:"f850OxJd",yellowCartFullplayer:"LeM6_aTY"};function v(){return v=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},v.apply(this,arguments)}var m,_,p,h,g,E=function(e){return d.createElement("svg",v({width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),d.createElement("g",{filter:"url(#cart_svg__filter0_d_973_6908)"},d.createElement("mask",{id:"cart_svg__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:3,y:6,width:21,height:13},r||(r=d.createElement("path",{d:"M5.056 6.223h.94c.73 0 2.009.325 2.654.844.212.17.461.322.734.322h12.414c.99 0 1.729.913 1.521 1.882l-1.535 7.163a2.333 2.333 0 01-2.281 1.844h-9.435a2.333 2.333 0 01-2.307-1.983L6.693 9.256c-.04-.354-.34-.7-.696-.7h-.941a1.167 1.167 0 110-2.333z",fill:"url(#cart_svg__paint0_linear_973_6908)"}))),i||(i=d.createElement("g",{mask:"url(#cart_svg__a)"},d.createElement("g",{filter:"url(#cart_svg__filter1_i_973_6908)"},d.createElement("path",{d:"M5.056 6.223h.94c.73 0 2.009.325 2.654.844.212.17.461.322.734.322h12.414c.99 0 1.729.913 1.521 1.882l-1.535 7.163a2.333 2.333 0 01-2.281 1.844h-9.435a2.333 2.333 0 01-2.307-1.983L6.693 9.256c-.04-.354-.34-.7-.696-.7h-.941a1.167 1.167 0 110-2.333z",fill:"url(#cart_svg__paint1_linear_973_6908)"})),d.createElement("g",{filter:"url(#cart_svg__filter2_f_973_6908)"},d.createElement("path",{d:"M5.445 9.723l1.879 7.214a2.333 2.333 0 002.258 1.746H19.66a2.333 2.333 0 002.232-1.655l2.22-7.305",stroke:"#FD5C01",strokeWidth:1.556,strokeLinejoin:"round"})),d.createElement("g",{opacity:.9,filter:"url(#cart_svg__filter3_di_973_6908)"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.306 11.279c0-.322.261-.584.584-.584h8.166a.583.583 0 010 1.167H10.89a.583.583 0 01-.583-.583z",fill:"url(#cart_svg__paint2_linear_973_6908)"})),d.createElement("g",{opacity:.9,filter:"url(#cart_svg__filter4_di_973_6908)"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.695 14.388c0-.322.261-.583.583-.583h7.389a.583.583 0 110 1.166h-7.389a.583.583 0 01-.583-.583z",fill:"url(#cart_svg__paint3_linear_973_6908)"})))),o||(o=d.createElement("g",{filter:"url(#cart_svg__filter5_i_973_6908)"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.528 22.558a1.361 1.361 0 100-2.722 1.361 1.361 0 000 2.722z",fill:"url(#cart_svg__paint4_linear_973_6908)"}))),a||(a=d.createElement("g",{filter:"url(#cart_svg__filter6_i_973_6908)"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.25 22.558a1.361 1.361 0 100-2.722 1.361 1.361 0 000 2.722z",fill:"url(#cart_svg__paint5_linear_973_6908)"})))),l||(l=d.createElement("defs",null,d.createElement("filter",{id:"cart_svg__filter0_d_973_6908",x:2.334,y:5.445,width:22.576,height:19.447,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.778}),d.createElement("feGaussianBlur",{stdDeviation:.778}),d.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),d.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_973_6908"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_973_6908",result:"shape"})),d.createElement("filter",{id:"cart_svg__filter1_i_973_6908",x:3.889,y:6.223,width:19.465,height:12.444,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.389}),d.createElement("feGaussianBlur",{stdDeviation:.778}),d.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),d.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 0.755343 0 0 0 0 0.229783 0 0 0 1 0"}),d.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_973_6908"})),d.createElement("filter",{id:"cart_svg__filter2_f_973_6908",x:1.581,y:6.385,width:26.386,height:16.187,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),d.createElement("feGaussianBlur",{stdDeviation:1.556,result:"effect1_foregroundBlur_973_6908"})),d.createElement("filter",{id:"cart_svg__filter3_di_973_6908",x:9.528,y:10.306,width:10.889,height:2.724,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.389}),d.createElement("feGaussianBlur",{stdDeviation:.389}),d.createElement("feColorMatrix",{values:"0 0 0 0 0.758333 0 0 0 0 0.2275 0 0 0 0 0 0 0 0 0.296247 0"}),d.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_973_6908"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_973_6908",result:"shape"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:-.389}),d.createElement("feGaussianBlur",{stdDeviation:.194}),d.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),d.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 0.658586 0 0 0 0 0.42763 0 0 0 1 0"}),d.createElement("feBlend",{in2:"shape",result:"effect2_innerShadow_973_6908"})),d.createElement("filter",{id:"cart_svg__filter4_di_973_6908",x:9.917,y:13.416,width:10.111,height:2.724,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.389}),d.createElement("feGaussianBlur",{stdDeviation:.389}),d.createElement("feColorMatrix",{values:"0 0 0 0 0.758333 0 0 0 0 0.2275 0 0 0 0 0 0 0 0 0.296247 0"}),d.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_973_6908"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_973_6908",result:"shape"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:-.389}),d.createElement("feGaussianBlur",{stdDeviation:.194}),d.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),d.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 0.658586 0 0 0 0 0.42763 0 0 0 1 0"}),d.createElement("feBlend",{in2:"shape",result:"effect2_innerShadow_973_6908"})),d.createElement("filter",{id:"cart_svg__filter5_i_973_6908",x:8.167,y:19.836,width:2.722,height:2.878,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.156}),d.createElement("feGaussianBlur",{stdDeviation:.389}),d.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),d.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 0.755343 0 0 0 0 0.229783 0 0 0 1 0"}),d.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_973_6908"})),d.createElement("filter",{id:"cart_svg__filter6_i_973_6908",x:17.889,y:19.836,width:2.722,height:2.878,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.156}),d.createElement("feGaussianBlur",{stdDeviation:.389}),d.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),d.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 0.755343 0 0 0 0 0.229783 0 0 0 1 0"}),d.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_973_6908"})),d.createElement("linearGradient",{id:"cart_svg__paint0_linear_973_6908",x1:-3.841,y1:10.294,x2:6.267,y2:26.657,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFB100"}),d.createElement("stop",{offset:1,stopColor:"#FC8901"})),d.createElement("linearGradient",{id:"cart_svg__paint1_linear_973_6908",x1:-3.841,y1:10.294,x2:6.267,y2:26.657,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFB100"}),d.createElement("stop",{offset:1,stopColor:"#FC8901"})),d.createElement("linearGradient",{id:"cart_svg__paint2_linear_973_6908",x1:15.795,y1:12.277,x2:15.97,y2:10.61,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFF9E0"}),d.createElement("stop",{offset:1,stopColor:"#F4E0B9"})),d.createElement("linearGradient",{id:"cart_svg__paint3_linear_973_6908",x1:15.726,y1:15.387,x2:15.917,y2:13.723,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFF9E0"}),d.createElement("stop",{offset:1,stopColor:"#F4E0B9"})),d.createElement("linearGradient",{id:"cart_svg__paint4_linear_973_6908",x1:7.004,y1:20.944,x2:9.22,y2:23.666,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFB100"}),d.createElement("stop",{offset:1,stopColor:"#FC8901"})),d.createElement("linearGradient",{id:"cart_svg__paint5_linear_973_6908",x1:16.727,y1:20.944,x2:18.943,y2:23.666,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFB100"}),d.createElement("stop",{offset:1,stopColor:"#FC8901"})))))};function y(){return y=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},y.apply(this,arguments)}var S,I=function(e){return d.createElement("svg",y({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),d.createElement("g",{filter:"url(#cart_feed_svg__filter0_d_1119_162357)"},d.createElement("mask",{id:"cart_feed_svg__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:4,y:6,width:24,height:15},m||(m=d.createElement("path",{d:"M5.379 6h1.145c.898 0 2.495.407 3.243 1.053.205.177.452.326.723.326h15.33c.993 0 1.731.916 1.52 1.886l-1.985 9.147a2.333 2.333 0 01-2.28 1.838H10.999a2.333 2.333 0 01-2.306-1.979L7.357 9.586c-.047-.419-.406-.828-.833-.828H5.379a1.379 1.379 0 110-2.758z",fill:"url(#cart_feed_svg__paint0_linear_1119_162357)"}))),_||(_=d.createElement("g",{mask:"url(#cart_feed_svg__a)"},d.createElement("g",{filter:"url(#cart_feed_svg__filter1_i_1119_162357)"},d.createElement("path",{d:"M5.379 6h1.145c.898 0 2.495.407 3.243 1.053.205.177.452.326.723.326h15.33c.993 0 1.731.916 1.52 1.886l-1.985 9.147a2.333 2.333 0 01-2.28 1.838H10.999a2.333 2.333 0 01-2.306-1.979L7.357 9.586c-.047-.419-.406-.828-.833-.828H5.379a1.379 1.379 0 110-2.758z",fill:"url(#cart_feed_svg__paint1_linear_1119_162357)"})),d.createElement("g",{filter:"url(#cart_feed_svg__filter2_f_1119_162357)"},d.createElement("path",{d:"M7.393 11.089l2.764 10.476a2.333 2.333 0 002.256 1.738h15.282a2.334 2.334 0 002.23-1.647l3.253-10.567",stroke:"#FD5C01",strokeWidth:1.556,strokeLinejoin:"round"})),d.createElement("g",{opacity:.9,filter:"url(#cart_feed_svg__filter3_di_1119_162357)"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.125 11.344c0-.328.3-.594.668-.594h9.352c.368 0 .668.266.668.594 0 .328-.3.594-.668.594h-9.352c-.369 0-.668-.266-.668-.594z",fill:"url(#cart_feed_svg__paint2_linear_1119_162357)"})),d.createElement("g",{opacity:.9,filter:"url(#cart_feed_svg__filter4_di_1119_162357)"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.125 14.906c0-.328.29-.594.648-.594h8.204c.358 0 .648.266.648.594 0 .328-.29.594-.648.594h-8.204c-.358 0-.648-.266-.648-.594z",fill:"url(#cart_feed_svg__paint3_linear_1119_162357)"})))),p||(p=d.createElement("g",{filter:"url(#cart_feed_svg__filter5_i_1119_162357)"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.531 25a1.781 1.781 0 100-3.563 1.781 1.781 0 000 3.563z",fill:"url(#cart_feed_svg__paint4_linear_1119_162357)"}))),h||(h=d.createElement("g",{filter:"url(#cart_feed_svg__filter6_i_1119_162357)"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.406 25a1.781 1.781 0 100-3.563 1.781 1.781 0 000 3.563z",fill:"url(#cart_feed_svg__paint5_linear_1119_162357)"})))),g||(g=d.createElement("defs",null,d.createElement("filter",{id:"cart_feed_svg__filter0_d_1119_162357",x:2.444,y:5.222,width:26.488,height:22.111,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.778}),d.createElement("feGaussianBlur",{stdDeviation:.778}),d.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),d.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1119_162357"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_1119_162357",result:"shape"})),d.createElement("filter",{id:"cart_feed_svg__filter1_i_1119_162357",x:4,y:6,width:23.377,height:14.639,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.389}),d.createElement("feGaussianBlur",{stdDeviation:.778}),d.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),d.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 0.755343 0 0 0 0 0.229783 0 0 0 1 0"}),d.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1119_162357"})),d.createElement("filter",{id:"cart_feed_svg__filter2_f_1119_162357",x:3.53,y:7.749,width:33.504,height:19.443,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),d.createElement("feGaussianBlur",{stdDeviation:1.556,result:"effect1_foregroundBlur_1119_162357"})),d.createElement("filter",{id:"cart_feed_svg__filter3_di_1119_162357",x:10.347,y:10.361,width:12.243,height:2.743,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.389}),d.createElement("feGaussianBlur",{stdDeviation:.389}),d.createElement("feColorMatrix",{values:"0 0 0 0 0.758333 0 0 0 0 0.2275 0 0 0 0 0 0 0 0 0.296247 0"}),d.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1119_162357"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_1119_162357",result:"shape"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:-.389}),d.createElement("feGaussianBlur",{stdDeviation:.194}),d.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),d.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 0.658586 0 0 0 0 0.42763 0 0 0 1 0"}),d.createElement("feBlend",{in2:"shape",result:"effect2_innerShadow_1119_162357"})),d.createElement("filter",{id:"cart_feed_svg__filter4_di_1119_162357",x:10.347,y:13.924,width:11.056,height:2.743,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.389}),d.createElement("feGaussianBlur",{stdDeviation:.389}),d.createElement("feColorMatrix",{values:"0 0 0 0 0.758333 0 0 0 0 0.2275 0 0 0 0 0 0 0 0 0.296247 0"}),d.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1119_162357"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_1119_162357",result:"shape"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:-.389}),d.createElement("feGaussianBlur",{stdDeviation:.194}),d.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),d.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 0.658586 0 0 0 0 0.42763 0 0 0 1 0"}),d.createElement("feBlend",{in2:"shape",result:"effect2_innerShadow_1119_162357"})),d.createElement("filter",{id:"cart_feed_svg__filter5_i_1119_162357",x:8.75,y:21.438,width:3.563,height:3.718,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.156}),d.createElement("feGaussianBlur",{stdDeviation:.389}),d.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),d.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 0.755343 0 0 0 0 0.229783 0 0 0 1 0"}),d.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1119_162357"})),d.createElement("filter",{id:"cart_feed_svg__filter6_i_1119_162357",x:20.625,y:21.438,width:3.563,height:3.718,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.156}),d.createElement("feGaussianBlur",{stdDeviation:.389}),d.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),d.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 0.755343 0 0 0 0 0.229783 0 0 0 1 0"}),d.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1119_162357"})),d.createElement("linearGradient",{id:"cart_feed_svg__paint0_linear_1119_162357",x1:-5.257,y1:10.812,x2:6.622,y2:30.293,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFB100"}),d.createElement("stop",{offset:1,stopColor:"#FC8901"})),d.createElement("linearGradient",{id:"cart_feed_svg__paint1_linear_1119_162357",x1:-5.257,y1:10.812,x2:6.622,y2:30.293,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFB100"}),d.createElement("stop",{offset:1,stopColor:"#FC8901"})),d.createElement("linearGradient",{id:"cart_feed_svg__paint2_linear_1119_162357",x1:17.41,y1:12.36,x2:17.569,y2:10.659,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFF9E0"}),d.createElement("stop",{offset:1,stopColor:"#F4E0B9"})),d.createElement("linearGradient",{id:"cart_feed_svg__paint3_linear_1119_162357",x1:16.712,y1:15.923,x2:16.89,y2:14.225,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFF9E0"}),d.createElement("stop",{offset:1,stopColor:"#F4E0B9"})),d.createElement("linearGradient",{id:"cart_feed_svg__paint4_linear_1119_162357",x1:7.229,y1:22.888,x2:10.129,y2:26.45,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFB100"}),d.createElement("stop",{offset:1,stopColor:"#FC8901"})),d.createElement("linearGradient",{id:"cart_feed_svg__paint5_linear_1119_162357",x1:19.104,y1:22.888,x2:22.004,y2:26.45,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFB100"}),d.createElement("stop",{offset:1,stopColor:"#FC8901"})))))};function L(){return L=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},L.apply(this,arguments)}var k=function(e){return d.createElement("svg",L({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),S||(S=d.createElement("path",{d:"M10 7l5 5-5 5",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",opacity:.5})))},w=(0,d.memo)((function(e){var n=e.scene,t=e.type,r=void 0===t?"normal":t,i=e.isLiveModal;return"feed_live_detail"!==n||void 0!==i&&i?d.createElement("div",{className:s()(f.yellowCart,f[r]),"data-e2e":"yellowCart-container"},d.createElement("div",{className:f.left},d.createElement(u.Z,{width:"28",height:"28",viewBox:"0 0 28 28",src:globalThis.xssNamespace.douyin_web.filterUrl(E,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:f.cartIcon}),d.createElement("span",{className:f.text},"\u5168\u90e8\u5546\u54c1")),d.createElement(u.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(k,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:"24",height:"24",viewBox:"0 0 24 24"})):d.createElement("div",{className:f.yellowCartFullplayer,"data-e2e":"yellowCart-container"},d.createElement(u.Z,{width:"32",height:"32",viewBox:"0 0 32 32",src:globalThis.xssNamespace.douyin_web.filterUrl(I,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:f.cartIcon}),d.createElement("span",{className:f.text},"\u8d2d\u7269\u8f66"))}))},68384:function(e,n,t){t.d(n,{h:function(){return u}});var r=t(32781),i=t(26447),o=t.n(i),a=t(53864),l=function(e){return e<0?0:Math.ceil(e/1e3)},u=function(e){var n=(0,a.useRef)(e),t=(0,a.useState)((function(){return l(n.current)})),i=(0,r.Z)(t,2),u=i[0],c=i[1],s=(0,a.useRef)(o()()),d=(0,a.useRef)(),f=(0,a.useCallback)((function(){if(n.current>0){var e=o()();if(n.current-=e-s.current,s.current=e,n.current<=0)return n.current=0,void c(0);c(l(n.current)),d.current=requestAnimationFrame(f)}}),[]);return(0,a.useEffect)((function(){e>0&&(d.current&&cancelAnimationFrame(d.current),n.current=e,f())}),[f,e]),(0,a.useEffect)((function(){return function(){d.current&&cancelAnimationFrame(d.current)}}),[]),u}},46270:function(e,n,t){t.d(n,{mL:function(){return r},_H:function(){return i}});var r=function(e){return e[e.Unknown=-1]="Unknown",e[e.Seckill=0]="Seckill",e[e.Group=1]="Group",e[e.PRE_SALE=2]="PRE_SALE",e[e.AUCTION=3]="AUCTION",e[e.MULTICHANNEL=4]="MULTICHANNEL",e[e.PLATFORM_GOODS_SUBSIDY=5]="PLATFORM_GOODS_SUBSIDY",e[e.ALLOWANCE=6]="ALLOWANCE",e[e.MemberSample=7]="MemberSample",e}({}),i=function(e){return e[e.No=0]="No",e[e.Full=1]="Full",e[e.Target=2]="Target",e}({})},65913:function(e,n,t){t.d(n,{KJ:function(){return h},nt:function(){return g},pv:function(){return E},yP:function(){return y},fY:function(){return I},YG:function(){return L},eb:function(){return k},OK:function(){return w},QI:function(){return Z},ET:function(){return b},DZ:function(){return N},tw:function(){return C},Ki:function(){return O},Eq:function(){return P},kd:function(){return M},PN:function(){return D},ed:function(){return R},Cg:function(){return x},Lw:function(){return V},aQ:function(){return F},qU:function(){return U},vT:function(){return B}});var r=t(30906),i=t(65146),o=t(56442),a=t.n(o),l=t(34346),u=t.n(l),c=t(31674),s=t.n(c),d=t(67330),f=t(46270),v=t(8590),m=t(71116),_=t(79565),p=t(57341),h=function(e){var n;return(null==e||null===(n=e.rit_tags)||void 0===n?void 0:n.live_room_product_title_before)||[]},g=function(e){return(e.campaign?e.campaign_info.price:e.min_price)/100},E=function(e){var n;return null==e||null===(n=e.campaign_info)||void 0===n?void 0:n.group_data},y=function(e){var n;return(null==e||null===(n=e.rit_tags)||void 0===n?void 0:n.live_room_good_list_user_right)||[]},S=function(e){var n,t;return(null===(n=e.campaign_info)||void 0===n?void 0:n.campaign_type)===f.mL.Group||(null===(t=e.campaign_info)||void 0===t?void 0:t.campaign_type)===f.mL.Seckill},I=function(e){var n;return(null==e||null===(n=e.benefit_labels)||void 0===n?void 0:n.length)>0&&Number(S(e))+Number(y(e).length>0)<2},L=function(e){var n,t,r;return((null==e||null===(n=e.elastic_title)||void 0===n?void 0:n.length)>0||(null===(t=e.exclusive_info)||void 0===t?void 0:t.length)>0)&&Number((null==e||null===(r=e.benefit_labels)||void 0===r?void 0:r.length)>0)+Number(S(e))+Number(y(e).length>0)<2},k=function(e){var n,t,r,i,o;return Number((null==e||null===(n=e.elastic_title)||void 0===n?void 0:n.length)>0||(null===(t=e.exclusive_info)||void 0===t?void 0:t.length)>0)+Number((null==e||null===(r=e.benefit_labels)||void 0===r?void 0:r.length)>0)+Number(S(e))+Number(y(e).length>0)>=2||(null==e||null===(i=e.elastic_title)||void 0===i?void 0:i.length)>0||(null===(o=e.exclusive_info)||void 0===o?void 0:o.length)>0},w=function(e){var n;return(null==e||null===(n=e.hot_atmosphere)||void 0===n?void 0:n.num)||0},Z=function(e){var n,t;return(null===(n=e.campaign_info)||void 0===n?void 0:n.left_stock)/(null===(t=e.campaign_info)||void 0===t?void 0:t.stock)<=.1},b=function(e){return(2===e.status||8e3===e.status)&&!1===e.in_stock},N=function(e){return(2===e.status||8e3===e.status)&&e.in_stock&&!1===e.can_sold&&!e.campaign},C=function(e){return 2!==e.status&&7e3!==e.status&&8e3!==e.status&&9e3!==e.status},O=function(e){return C(e)||N(e)||b(e)},P=function(e){var n;return!e.flash_icon&&!e.status_img_url&&7e3===e.status&&(null===(n=e.status_img_map)||void 0===n?void 0:n[7e3])&&!b(e)&&!N(e)&&!C(e)},T=function(e){var n;return(n={},(0,i.Z)(n,f._H.Full,"buynow_all"),(0,i.Z)(n,f._H.Target,"butnow_part"),n)[e.flash_type]||""},A=function(e){var n,t;return(n={},(0,i.Z)(n,f.mL.Seckill,"seckill"),(0,i.Z)(n,f.mL.Group,"groupbuying"),(0,i.Z)(n,f.mL.AUCTION,"auction"),(0,i.Z)(n,f.mL.PRE_SALE,"upfront_presell"),n)[null==e||null===(t=e.campaign_info)||void 0===t?void 0:t.campaign_type]||""},M=function(e,n){var t,r,i,o,a,l;return{product_id:e.product_id,is_under_stock:N(e)?"1":"0",insurance_commodity_flag:null===(t=e.event_param)||void 0===t?void 0:t.insurance_commodity_flag,with_sku:e.is_sole_sku?"1":"0",live_product_type:T(e),campaign_type:A(e),kol_user_tag:null==n||null===(r=n.apply_resp)||void 0===r||null===(i=r.coupon_meta)||void 0===i?void 0:i.kol_user_tag,with_coupon:(null===(o=e.benefit_labels)||void 0===o?void 0:o.length)>0?"1":"0",is_show:null==n||null===(a=n.apply_resp)||void 0===a||null===(l=a.coupon_meta)||void 0===l?void 0:l.is_show,entrance_info:null==n?void 0:n.entrance_info}},D=function(e){var n,t,r=e.promotion,i=e.campaign;return(null==i?void 0:i.campaign_type)===f.mL.PRE_SALE&&(null==i||null===(n=i.pre_sale_data)||void 0===n?void 0:n.deposit_price)>0?(null==i||null===(t=i.pre_sale_data)||void 0===t?void 0:t.deposit_price)/100:null!=i&&i.campaign_id?(null==i?void 0:i.price)/100:(null==r?void 0:r.min_price)/100},R=function(e){var n,t,r,i,o=e.promotion,l=e.campaign,c=null===(n=o.rit_tags)||void 0===n||null===(t=n.live_info_uner_title)||void 0===t?void 0:t[0];if(c)return c.text;var s,d,v,m="";if(o.flash_icon)return"\u5171".concat(o.stock_num,"\u4ef6");l.campaign_type===f.mL.Group&&(m=(null===(s=l.group_data)||void 0===s?void 0:s.joined)<30?"\u6ee1".concat(null===(d=l.group_data)||void 0===d?void 0:d.group_size,"\u4eba\u6210\u56e2"):"".concat(null===(v=l.group_data)||void 0===v?void 0:v.joined,"\u4eba\u5df2\u62fc\u56e2"));if(l.pre_sale_data&&l.campaign_type===f.mL.PRE_SALE)return l.pre_sale_data.discount_desc?l.pre_sale_data.discount_desc:"\u603b\u4ef7\xa5".concat(l.pre_sale_data.origin_price/100);if(null!==(r=o.reservation_info)&&void 0!==r&&r.has_reservation)return"\u603b\u4ef7\xa5".concat(o.min_price/100);if(m)return m;var _,p=(null===(i=o.rit_tags)||void 0===i?void 0:i.live_room_pop_biz_under)||[];return a()(p).call(p,0,2).length>0?u()(_=a()(p).call(p,0,2)).call(_,(function(e){return e.text})).join(" | "):""},x=function(e){var n=e.campaign,t=e.currentTime;return!n.fake_sec_kill&&n.campaign_type===f.mL.Seckill&&t>n.start_time&&t<n.end_time&&n.end_time-t<86400},V=function(e){var n=e.campaign,t=e.promotion;return x(e)?n.regular_price>0?"\xa5".concat(n.regular_price/100):"\xa5".concat(t.regular_price/100):""},F=function(e){return V(e).length>0||R(e).length>0},U=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",n=(0,d.parse)(e).outside_biz_info,t=void 0===n?"":n,r={};try{var i=decodeURIComponent(t);r=JSON.parse(i)}catch(o){r={}}return r},B=function(e){var n,t,i,o,a,l=e.promotion,u=e.entranceInfo,c=e.logParams,d=e.adData;return encodeURIComponent(encodeURIComponent(s()({ecom_share_secret_params:"page_detail",goods_meta_params:s()({entrance_info:s()((0,r.Z)((0,r.Z)({},u),{},{user_unique_id:null===(n=(0,m.Es)())||void 0===n?void 0:n.user_unique_id,original_app_id:v.APP_ID,room_id:null==c||null===(t=c())||void 0===t?void 0:t.room_id,ad_creative_id:(null==d?void 0:d.adCid)||(0,_.V7)(),creative_id:(null==d?void 0:d.adCid)||(0,_.V7)(),group_id:(0,p.B)(),live_id:1,ecom_sec:{author_id:null==l||null===(i=l.shop_info)||void 0===i?void 0:i.author_id,product_id:null==l?void 0:l.product_id,promotion_id:null==l?void 0:l.promotion_id,room_id:null==c||null===(o=c())||void 0===o?void 0:o.room_id}})),enter_from:"live",live_room_id:null==c||null===(a=c())||void 0===a?void 0:a.room_id})})))}},29434:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var r=t(65146),i=t(64408),o=t(30906),a=t(32781),l=t(5594),u=t.n(l),c=t(58144),s=t.n(c),d=t(34346),f=t.n(d),v=t(79705),m=t.n(v),_=t(57349),p=t(53864),h=t(83860),g=t(93341),E=t(72943),y=t(32876),S=t(76757),I=t(1322),L=t(83411),k=t(83901),w=t(90037),Z=t(71116),b=t(9729),N=t(97876),C=t(61596),O=t(54805),P=t(31674),T=t.n(P),A=t(64911),M=t(75538),D=t(16470),R=t(44909),x="a1N8mrhC",V={UP_CART:10,DOWN_CART:11},F=p.memo((function(e){var n,t=e.type,l=void 0===t?"normal":t,c=e.roomId,d=e.authorId,v=e.toolbarData,P=void 0===v?{entrance_list:[]}:v,F=e.headerUserInfo,U=void 0===F?{}:F,B=e.onLoginSuccess,G=e.defaultCartVisible,H=void 0!==G&&G,K=e.cartVisible,j=e.isLiveShopPopVisibel,W=e.onCartClick,Y=e.onCartVisibleChange,z=e.getLiveShoppingLogParams,q=e.onPopClick,Q=e.onPopDataChange,J=e.scene,X=e.isLiveModal,$=void 0!==X&&X,ee=e.setCartVisibleStore,ne=e.messageInstance,te=e.isActive,re=void 0===te||te,ie=e.adData,oe=e.isHide,ae=void 0!==oe&&oe,le=e.isPopcardHitPrefetch,ue=void 0!==le&&le,ce=e.popClassName,se=p.useState(null===(n=P.entrance_list)||void 0===n?void 0:s()(n).call(n,(function(e){return e.component_type===g.Ls.Cart}))),de=(0,a.Z)(se,2),fe=de[0],ve=de[1];p.useEffect((function(){var e,n=fe;f()(e=P.entrance_list).call(e,(function(e){var t,r,i=y.L[e.component_type];i&&i>(null!==(t=y.L[null===(r=n)||void 0===r?void 0:r.component_type])&&void 0!==t?t:-1)&&(n=e)})),ve(n)}),[P,fe]),p.useEffect((function(){if(re&&ne)return ne.syncOn("ToolBarControlMessage",(function(e){var n=e.method,t=e.payload;if(n&&t&&"WebcastToolBarControlMessage"===n){var r=t.event_type,i=t.component_type,o=t.group_id,a=t.op_type,l=t.text,u=t.schema_url,c=t.icon,s=t.show_type,d=y.L[Number(i)];if(!d)return;switch(r){case _.M1o.Up:case _.M1o.HasPermission:d&&d>y.L[fe.component_type]&&ve({group_id:o,component_type:i,op_type:a,text:l,schema_url:u,icon:c,show_type:s});break;case _.M1o.NoPermission:case _.M1o.Down:fe.component_type===Number(i)&&ve(undefined);break;case _.M1o.UpdateData:fe.component_type===Number(i)&&ve({group_id:o,component_type:i,op_type:a,text:l,schema_url:u,icon:c,show_type:s})}}}))}),[c,re,ne]);var me=(0,L.C)({value:K,defaultValue:H}),_e=(0,a.Z)(me,2),pe=_e[0],he=_e[1],ge=(0,O.Z)((function(e){he(e),e!==pe&&(null==Y||Y(e))}));p.useEffect((function(){ee&&ee(pe)}),[pe]);var Ee=J,ye=p.useCallback((function(e){var n,t,r="feed_live_detail"===Ee?{}:{next:"https://".concat(null===(n=window)||void 0===n||null===(t=n.location)||void 0===t?void 0:t.host)};(0,E.p)().then((function(n){var t;n((0,o.Z)((0,o.Z)({headerText:"",enterMethod:"product_entrance_click"},r),{},{success:(t=(0,i.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null!=ie&&ie.adCid&&(0,k.E)("realtime_click",{value:null==ie?void 0:ie.adCid,refer:"",tag:"live_ad",room_id:c,anchor_id:d,log_extra:null==ie?void 0:ie.adLogExtra}),n.next=3,null==B?void 0:B(e);case 3:case"end":return n.stop()}}),n)}))),function(){return t.apply(this,arguments)})}))}))}),[B,c,d,ie]);p.useEffect((function(){fe&&ge(fe.component_type===g.Ls.Cart)}),[fe,ge]);var Se=function(e){var n=e.roomId,t=e.authorId,r=e.isDefaultShow,o=e.messageInstance,l=(0,p.useState)(null),c=(0,a.Z)(l,2),s=c[0],d=c[1],f=(0,p.useState)(!1),v=(0,a.Z)(f,2),m=v[0],h=v[1];(0,p.useEffect)((function(){if(r&&o)return o.syncOn("LiveEcomGeneralMessage",function(){var e=(0,i.Z)(u().mark((function e(r){var i,o,a,l,c,f,v,p,g,E,y,S,I,L;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.method,o=r.payload,i&&o){e.next=3;break}return e.abrupt("return");case 3:if("WebcastLiveEcomGeneralMessage"!==i){e.next=16;break}if("LivePopMessage"!==o.content_type){e.next=16;break}return e.next=7,_.CpO.instance.decode(o.data,"LivePopMessage");case 7:if(a=e.sent,c=(l=a||{}).msg_type,f=l.bubble_type,v=l.promotion_id,c!==M.LivePopMessage.MsgType.POP_APPEAR){e.next=15;break}if(f!==M.LivePopMessage.BubbleType.NORMAL||v===(null==s||null===(p=s.promotions)||void 0===p||null===(g=p[0])||void 0===g?void 0:g.promotion_id)&&m){e.next=15;break}return e.next=13,(0,A.Sn)({roomId:n,authorId:t,entranceInfo:T()({room_id:n,anchor_id:t,carrier_type:"live_popup_card",ecom_scene_id:"1001"})});case 13:null!=(y=e.sent)&&y.promotions&&3!==(null==y||null===(E=y.campaign)||void 0===E?void 0:E.campaign_type)&&(d(y),h(!0),N.emit(N.EVENT.promotionPop,{action:"show",promotionId:null==y||null===(S=y.promotions)||void 0===S?void 0:S[0].promotion_id}));case 15:c===M.LivePopMessage.MsgType.POP_DISAPPEAR&&f===M.LivePopMessage.BubbleType.NORMAL&&v===(null==s||null===(I=s.promotions)||void 0===I||null===(L=I[0])||void 0===L?void 0:L.promotion_id)&&h(!1);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[r,n,t,s,m,o]),(0,p.useEffect)((function(){if(r){var e=!1;return(0,i.Z)(u().mark((function r(){var i,o;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,A.Sn)({roomId:n,authorId:t,entranceInfo:T()({room_id:n,anchor_id:t,carrier_type:"live_popup_card",ecom_scene_id:"1001"})});case 2:if(o=r.sent,!e){r.next=5;break}return r.abrupt("return");case 5:null!=o&&o.promotions&&3!==(null==o||null===(i=o.campaign)||void 0===i?void 0:i.campaign_type)&&(d(o),h(!0));case 6:case"end":return r.stop()}}),r)})))(),function(){e=!0}}}),[n,t,r]);var g=(0,p.useCallback)((function(){h(!1)}),[]);return{isShow:m,promotionPop:s,clearPromotion:g}}({roomId:c,authorId:d,isDefaultShow:j&&U.isLogin,messageInstance:ne}),Ie=Se.promotionPop,Le=Se.clearPromotion,ke=Se.isShow,we=p.useRef("");p.useEffect((function(){var e,n,t,r,i,a;ke&&we.current!==(null==Ie||null===(e=Ie.promotions)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.product_id)&&(C.i.sendLog("livesdkShowProduct",(0,o.Z)((0,o.Z)({ecom_entrance_form:"live_popup_card",ecom_group_type:"live",room_id:c,anchor_id:d,product_id:null==Ie||null===(t=Ie.promotions)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.product_id},z()),{},{card_show_type:J,cid:null==ie?void 0:ie.adCid,if_qianchuan_ad:null!=ie&&ie.adCid?1:0,ad_type:null!=ie&&ie.adCid?w.Z9.Live:undefined})),we.current=null==Ie||null===(i=Ie.promotions)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.product_id)}),[ke]),p.useEffect((function(){pe&&c&&d&&C.i.sendLog("livesdkProductEntranceShow",(0,o.Z)((0,o.Z)({ecom_entrance_form:"live_cart_tag",ecom_group_type:"live",room_id:c,anchor_id:d},z()),{},{cid:null==ie?void 0:ie.adCid,if_qianchuan_ad:null!=ie&&ie.adCid?1:0,ad_type:null!=ie&&ie.adCid?w.Z9.Live:undefined}))}),[pe,c,d]),p.useEffect((function(){null==Q||Q(Ie)}),[Ie]),p.useEffect((function(){return ne.syncOn("LiveShoppingMessage",(function(e){var n=e.method,t=e.payload;if(n&&t&&n===h.of.LIVE_SHOPPING){var r=t.msg_type;r===V.UP_CART?ge(!0):r===V.DOWN_CART&&ge(!1)}}))}),[c,ne]);var Ze=function(){var e=(0,i.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.i.sendLog("livesdkProductEntranceClick",(0,o.Z)((0,o.Z)({ecom_entrance_form:"live_cart_tag",ecom_group_type:"live",room_id:c,anchor_id:d},z()),{},{cid:null==ie?void 0:ie.adCid,if_qianchuan_ad:null!=ie&&ie.adCid?1:0,ad_type:null!=ie&&ie.adCid?w.Z9.Live:undefined})),null!=ie&&ie.adCid&&((0,k.E)("slidecart_click",{value:null==ie?void 0:ie.adCid,device_id:null===Z.Es||void 0===Z.Es||null===(n=(0,Z.Es)())||void 0===n?void 0:n.user_unique_id,tag:"live_ad",room_id:c,anchor_id:d,log_extra:null==ie?void 0:ie.adLogExtra}),"feed_live_detail"===J&&U.isLogin&&(0,k.E)("realtime_click",{value:null==ie?void 0:ie.adCid,refer:"",tag:"live_ad",room_id:c,anchor_id:d,log_extra:null==ie?void 0:ie.adLogExtra})),U.isLogin){e.next=5;break}return ye({scene:"cart"}),e.abrupt("return");case 5:null==W||W();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=(0,i.Z)(u().mark((function e(n){var t,r,i,a,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.clickArea,l=void 0===a?"blank":a,C.i.sendLog("livesdkClickProduct",(0,o.Z)((0,o.Z)({ecom_entrance_form:"live_popup_card",ecom_group_type:"live",room_id:c,anchor_id:d,product_id:null==Ie||null===(t=Ie.promotions)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.product_id,click_area:l,card_show_type:J},z()),{},{cid:null==ie?void 0:ie.adCid,if_qianchuan_ad:null!=ie&&ie.adCid?1:0,ad_type:null!=ie&&ie.adCid?w.Z9.Live:undefined,is_hit:ue?1:0})),"feed_live_detail"===J&&U.isLogin&&(0,k.E)("realtime_click",{value:null==ie?void 0:ie.adCid,refer:"",tag:"live_ad",room_id:c,anchor_id:d,log_extra:null==ie?void 0:ie.adLogExtra}),U.isLogin){e.next=6;break}return ye({scene:"pop"}),e.abrupt("return");case 6:(0,b.B1)("ecom_load_start"),null==q||q({promotion:null==Ie||null===(i=Ie.promotions)||void 0===i?void 0:i[0]});case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();p.useEffect((function(){var e=N.listen(N.EVENT.yellowCartClick,(function(e){"bottomBtn"===e.scene&&Ze()}));return function(){e()}}),[Ze]);var Ne;return p.createElement("div",{className:m()((0,r.Z)({},x,ae))},p.createElement(p.Fragment,null,j&&p.createElement("div",{onClick:function(){be({clickArea:"blank"})}},p.createElement(D.k,{componentName:R.l.PROMOTION_POP},p.createElement(S._,{type:l,isShow:ke,promotion:null==Ie||null===(Ne=Ie.promotions)||void 0===Ne?void 0:Ne[0],serverTime:null==Ie?void 0:Ie.server_time,commodityIcon:null==Ie?void 0:Ie.commodity_icon,campaign:null==Ie?void 0:Ie.campaign,onClose:Le,onBuyClick:be,scene:J,isLiveModal:$,isPopcardHitPrefetch:ue,className:ce}))),pe&&p.createElement("div",{onClick:Ze},p.createElement(I.$,{type:l,scene:J,isLiveModal:$}))))})),U=F},61596:function(e,n,t){t.d(n,{i:function(){return r}});var r=new(t(13795).hD)({livesdkProductEntranceShow:{eventName:"livesdk_product_entrance_show",params:{EVENT_ORIGIN_FEATURE:"TEMAI",_param_live_platform:"live",enter_from_merge:"",enter_method:"",room_id:"",anchor_id:"",ecom_entrance_form:"",ecom_group_type:"live",request_id:"",pc_live_action_type:"click",cid:0,if_qianchuan_ad:0,ad_type:-1,action_type:"",stream_type:""}},livesdkProductEntranceClick:{eventName:"livesdk_product_entrance_click",params:{EVENT_ORIGIN_FEATURE:"TEMAI",_param_live_platform:"live",enter_from_merge:"",enter_method:"",room_id:"",anchor_id:"",ecom_entrance_form:"",ecom_group_type:"",request_id:"",pc_live_action_type:"click",cid:0,if_qianchuan_ad:0,ad_type:-1,action_type:"",stream_type:""}},livesdkShowProduct:{eventName:"livesdk_show_product",params:{EVENT_ORIGIN_FEATURE:"TEMAI",_param_live_platform:"live",enter_from_merge:"web_others_homepage",enter_method:"web_live_btn",anchor_id:"",room_id:"",user_id:"",ecom_entrance_form:"live_popup_card",ecom_group_type:"",request_id:"",pc_live_action_type:"click",product_id:"",card_show_type:"",is_visible:1,cid:0,if_qianchuan_ad:0,ad_type:-1,action_type:"",stream_type:""}},livesdkClickProduct:{eventName:"livesdk_click_product",params:{EVENT_ORIGIN_FEATURE:"TEMAI",_param_live_platform:"live",enter_from_merge:"web_others_homepage",enter_method:"web_live_btn",anchor_id:"",room_id:"",user_id:"",ecom_entrance_form:"live_popup_card",ecom_group_type:"",request_id:"",pc_live_action_type:"click",product_id:"",click_area:"",card_show_type:"",cid:0,if_qianchuan_ad:0,ad_type:-1,action_type:"",stream_type:"",is_hit:0}}})},46005:function(e,n,t){t.d(n,{A:function(){return c}});var r=t(84966),i=t(79705),o=t.n(i),a=t(53864),l="iSR_tHa1",u="mpDf6xvg",c=function(e){var n=e.count,t=e.className,i=e.renderSVG;return a.createElement("span",{className:o()(l,t)},i?i():a.createElement(r.Z,null),a.createElement("span",{className:u},n||"0"))}},32876:function(e,n,t){t.d(n,{L:function(){return l}});var r,i=t(65146),o=t(29529),a=t(93341),l=(r={},(0,i.Z)(r,(0,o.Z)(a.Ls),undefined),(0,i.Z)(r,a.Ls.Cart,50),r)},76890:function(e,n){n.Z=function(){return{abrPts:"-800",adaptiveConfig:{hurryEndMs:1800,hurryStartMs:2500,hurrySpeed:1.1}}}},97176:function(e,n,t){var r=t(32781),i=t(54343),o=t.n(i),a=t(53864);n.Z=function(){var e=a.useRef(),n=a.useState(0),t=(0,r.Z)(n,2),i=t[0],l=t[1],u=a.useCallback((function(n,t){c(),l(n),e.current=o()((function(){l((function(n){return n<=0?(null==t||t(),clearInterval(e.current),0):n-1}))}),1e3)}),[]),c=a.useCallback((function(){l(0),e.current&&(clearInterval(e.current),e.current=undefined)}),[]);return a.useEffect((function(){return function(){e.current&&(l(0),clearInterval(e.current),e.current=undefined)}}),[]),{clearCountDown:c,startCountDown:u,countDown:i,countDownIntervelRef:e}}},34541:function(e,n,t){t.d(n,{Y:function(){return p}});var r=t(32781),i=t(58144),o=t.n(i),a=t(34346),l=t.n(a),u=t(52249),c=t.n(u),s=t(11227),d=t.n(s),f=t(53864),v=t(12252),m=t(26846),_=t(97176),p=function(e){return e.Red="1",e.Blue="2",e}({});n.Z=function(e){var n=e.teamfightInfo,t=e.linkMicSeats,i=f.useMemo((function(){return(null==n?void 0:n.type)===v.yw.LinkmicTeamfightType_TWO_TEAM&&(null==n?void 0:n.status)!==v.Hj.LinkmicTeamfightStatus_FINISHED&&(null==n?void 0:n.status)!==v.Hj.LinkmicTeamfightStatus_NONE}),[n]),a=f.useMemo((function(){return(null==n?void 0:n.type)===v.yw.LinkmicTeamfightType_TWO_TEAM&&(null==n?void 0:n.status)===v.Hj.LinkmicTeamfightStatus_PLAYING}),[n]),u=f.useMemo((function(){return(null==n?void 0:n.type)===v.yw.LinkmicTeamfightType_TWO_TEAM&&(null==n?void 0:n.status)===v.Hj.LinkmicTeamfightStatus_PUNISHING}),[n]),s=(0,_.Z)(),h=s.countDown,g=s.startCountDown,E=(0,_.Z)(),y=E.countDown,S=E.startCountDown,I=[1,2,5,6],L=[3,4,7,8],k=f.useMemo((function(){var e,t=null==n||null===(e=n.team_infos)||void 0===e?void 0:o()(e).call(e,(function(e){return String(null==e?void 0:e.team_id)===p.Red})),r=Number(null==t?void 0:t.score)||0;return{teamScore:r,score:r,scoreBlur:null==t?void 0:t.score_fuzzy,teamScoreBlur:null==t?void 0:t.score_fuzzy}}),[null==n?void 0:n.team_infos]),w=f.useMemo((function(){var e,t=null==n||null===(e=n.team_infos)||void 0===e?void 0:o()(e).call(e,(function(e){return String(null==e?void 0:e.team_id)===p.Blue})),r=Number(null==t?void 0:t.score)||0;return{teamScore:r,score:r,scoreBlur:null==t?void 0:t.score_fuzzy,teamScoreBlur:null==t?void 0:t.score_fuzzy}}),[null==n?void 0:n.team_infos]),Z=f.useCallback((function(e){var n=e===p.Red?I:L;return o()(n).call(n,(function(e){var n;return!(null!==(n=t[e])&&void 0!==n&&n.user)}))}),[t]),b=f.useMemo((function(){var e;return l()(e=[I,L]).call(e,(function(e){return c()(e).call(e,(function(e,n){var r;return e+(null!=t&&null!==(r=t[n])&&void 0!==r&&r.user?1:0)}),0)}))}),[t]),N=f.useCallback((function(e,t){if((null==n?void 0:n.status)===v.Hj.LinkmicTeamfightStatus_PLAYING){var i=d()(I).call(I,e),o=(0,r.Z)(b,2),a=o[0],l=o[1];if(!(1===(i?a:l)))return;if(t)if(d()(I).call(I,t)===i)return;return i?p.Red:p.Blue}}),[t,n,b]);(0,f.useEffect)((function(){if(n){var e=n.start_time,t=n.current_time_ms,r=n.duration,i=n.punish_start_time,o=n.punish_duration;e&&"0"!==e&&((null==n?void 0:n.status)===v.Hj.LinkmicTeamfightStatus_PLAYING&&g(Math.floor(r-(t/1e3-e))),(null==n?void 0:n.status)===v.Hj.LinkmicTeamfightStatus_PUNISHING&&S(Math.floor(o-(t/1e3-i))))}}),[n]);var C=f.useMemo((function(){if(n)switch(null==n?void 0:n.status){case v.Hj.LinkmicTeamfightStatus_PREPARE:return"\u7ec4\u961f\u4e2d";case v.Hj.LinkmicTeamfightStatus_PLAYING:return"\u56e2\u6218".concat((0,m.Gm)(h));case v.Hj.LinkmicTeamfightStatus_PUNISHING:return"\u6218\u679c".concat((0,m.Gm)(y));default:return}}),[n,h,y]),O=f.useMemo((function(){return null==n?void 0:n.status}),[n]);return{isGroupFight:i,statusTexting:C,pickEmptySeatPositionByGroup:Z,groupMemberCnts:b,willInterruptWithPosQuit:N,leftTeamScore:k,rightTeamScore:w,status:O,countDown:h,isInPunish:u,isGroupPlaying:a,redGroupSeats:I,blueGroupSeats:L}}},9727:function(e,n,t){var r=t(11227),i=t.n(r),o=t(53864),a=t(49009);n.Z=function(e){var n=e.guestBattleInfo,t=o.useMemo((function(){return Boolean(null==n?void 0:n.battle_id_str)&&Number(null==n?void 0:n.status)!==a.Nq.GuestBattle_NONE&&Number(null==n?void 0:n.status)!==a.Nq.GuestBattle_FINISH}),[n]),r=o.useMemo((function(){var e;return t&&i()(e=[a.Nq.GuestBattle_ON_GOING,a.Nq.GuestBattle_PAUSE]).call(e,null==n?void 0:n.status)}),[t]),l=o.useMemo((function(){return t&&Number(null==n?void 0:n.status)===a.Nq.GuestBattle_SHOW_RESULT}),[n,t]),u=o.useMemo((function(){return null==n?void 0:n.status}),[n]);return{isGuestBattle:t,status:u,isInPunish:l,isGuestPlaying:r}}},60645:function(e,n,t){t.d(n,{F:function(){return D},w:function(){return V}});var r,i,o=t(30906),a=t(30673),l=t(36838),u=t.n(l),c=t(60260),s=t.n(c),d=t(89884),f=t.n(d),v=t(56402),m=t.n(v),_=t(77370),p=t.n(_),h=t(21155),g=t.n(h),E=t(11227),y=t.n(E),S=t(90457),I=t.n(S),L=t(50750),k=t.n(L),w=t(58144),Z=t.n(w),b=t(88743),N=t.n(b),C=t(53864),O=t(61508),P=t(30022),T=t(74584),A=t(26846),M=t(38829),D=(i={},g()(r=(0,a.Z)(Array(9))).call(r,(function(e,n){i[n]={idx:n}})),i),R=function(e){return e[e.NOT_TALKING=0]="NOT_TALKING",e[e.TALKING=1]="TALKING",e}(R||{}),x=0,V=function(e){var n=e.enable,t=e.setSeats,r=e.getUsers,i=e.getPositions,a=e.setLayout,l=e.layout,c=e.selfLinkMicId,d=e.onUsersUpdate,v=e.roomIdStr,_=e.getSeats,h=e.audioPower,E=(0,T.n)().player,S=C.useCallback(s()((function(e,n){arguments.length>2&&undefined;var a,l,c=r(),s=i(),v=!1,h=p()(D);if(n===P.yP.VIDEO_DYNAMIC&&(h={}),g()(e).call(e,(function(e){var t,r,i,o,a=m()(e,"uid_str",""),l=c[a];if("number"==typeof(null==e?void 0:e.type)&&"number"==typeof(null==l?void 0:l.link_type)&&(l.link_type=e.type),"number"==typeof(null==e?void 0:e.p)?r=e.p:"string"==typeof(null==e?void 0:e.p)?r=Number(e.p):l&&"number"==typeof l.user_position&&(r=l.user_position),y()(t=[P.yP.AUDIO_1V8,P.yP.AUDIO_GRID]).call(t,n)&&l&&"number"==typeof l.user_position&&(r=l.user_position),n===P.yP.VIDEO_1V6){var s=u()(c);null!=s&&I()(s).call(s,(function(e){var n,t;return null==e||null===(n=e.content)||void 0===n||null===(t=n.linkmic_audience_content)||void 0===t?void 0:t.is_enlarged}))?f()():r+=1}else if(n===P.yP.VIDEO_DYNAMIC_FLOAT)r+=1;else if(n===P.yP.VIDEO_6V6){r={0:0,1:1,2:6,3:7,4:2,5:3,6:8,7:9,8:4,9:5,10:10,11:11}[r]}"number"!=typeof r&&"string"!=typeof r||(n===P.yP.VIDEO_DYNAMIC?l&&(h[r]={user:l,idx:Number(r)}):h[r]={user:null!=l?l:null===(i=h[r])||void 0===i?void 0:i.user,idx:Number(r)});n!==undefined&&((null===(o=_()[r])||void 0===o?void 0:o.linkmic_id_str)!==(null==l?void 0:l.linkmic_id_str)&&(v=!0));l&&l.user_position===r||(v=!0)})),g()(a=k()(s)).call(a,(function(e){h[e].info=(0,o.Z)({},s[e])})),e.length!==k()(c).length&&(n===P.yP.VIDEO_1V6&&0===e.length||(v=!0)),v&&d&&d(),1===k()(h).length&&n===P.yP.VIDEO_DYNAMIC)h[1]={idx:1};else if(n===P.yP.VIDEO_1V6){var E,S,L=Z()(E=N()(c)).call(E,(function(e){return 0===(null==e?void 0:e.user_position)})),w=m()(Z()(S=N()(h)).call(S,(function(e){var n,t,r;return(null==e||null===(n=e.user)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.id_str)===(null==L||null===(r=L.user)||void 0===r?void 0:r.id_str)})),"idx",-1);w>0&&(h[w]={idx:w}),h[0]=(0,o.Z)((0,o.Z)({},h[0]),{},{user:L})}if(null===(l=h[0])||void 0===l||!l.user){var b,C,O=Z()(b=N()(c)).call(b,(function(e){return 0===(null==e?void 0:e.user_position)})),T=m()(Z()(C=N()(h)).call(C,(function(e){var n,t,r;return(null==e||null===(n=e.user)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.id_str)===(null==O||null===(r=O.user)||void 0===r?void 0:r.id_str)})),"idx",-1);T>0&&(h[T]={idx:T}),h[0]=(0,o.Z)((0,o.Z)({},h[0]),{},{user:O})}t(h)}),500),[c,_]),L=C.useCallback((function(e){g()(e).call(e,(function(e){var n=m()(e,"uid_str","");if(e.talk!==R.NOT_TALKING)try{null==h||h.push(n,e)}catch(t){}}))}),[h]),w=C.useCallback((function(e){a(e),d&&d()}),[d,a]),b=C.useCallback((function(e){if(100===e.code&&n)try{var t=(new TextDecoder).decode(e.content),r=(0,A.KR)(t);if(r&&r.app_data){var i=JSON.parse(r.app_data);if(x>i.timestamp)return;switch(x=i.timestamp,i.ver){case M.t.AUDIO_TALK_ROOM:l!==P.yP.AUDIO_1V8&&l!==P.yP.AUDIO_GRID&&w(P.yP.AUDIO_1V8),S(i.grids,P.yP.AUDIO_1V8),L(i.grids);break;case M.t.AUDIO_TALK_ROOM_1V8:l!==P.yP.AUDIO_1V8&&w(P.yP.AUDIO_1V8),S(i.grids,P.yP.AUDIO_1V8),L(i.grids);break;case M.t.VIDEO_TALK_ROOM:case M.t.VIDEO_EQUAL:l!==P.yP.VIDEO_GRID&&w(P.yP.VIDEO_GRID),S(i.grids,P.yP.VIDEO_GRID),L(i.grids);break;case M.t.VIDEO_DYNAMIC:l!==P.yP.VIDEO_DYNAMIC&&w(P.yP.VIDEO_DYNAMIC),S(i.grids,P.yP.VIDEO_DYNAMIC),L(i.grids);break;case M.t.VIDEO_DYNAMIC_FLOAT:l!==P.yP.VIDEO_DYNAMIC_FLOAT&&w(P.yP.VIDEO_DYNAMIC_FLOAT),S(i.grids,P.yP.VIDEO_DYNAMIC_FLOAT),L(i.grids);break;case M.t.VIDEO_C:l!==P.yP.VIDEO_1_V_8&&w(P.yP.VIDEO_1_V_8),S(i.grids,P.yP.VIDEO_1_V_8),L(i.grids);break;case M.t.VIDEO_DYNAMIC_1V6:l!==P.yP.VIDEO_1_V_6&&w(P.yP.VIDEO_1_V_6),S(i.grids,P.yP.VIDEO_1_V_6),L(i.grids);break;case M.t.VIDEO_DYNAMIC_1V3:l!==P.yP.VIDEO_1_V_3&&w(P.yP.VIDEO_1_V_3),S(i.grids,P.yP.VIDEO_1_V_3),L(i.grids);break;case M.t.VIDEO_T1B8:l!==P.yP.VIDEO_T1_V_B8&&w(P.yP.VIDEO_T1_V_B8),S(i.grids,P.yP.VIDEO_T1_V_B8),L(i.grids);break;case M.t.C_VIDEO_CAMERA:case M.t.VIDEO_CAMERA_NEW:l!==P.yP.VIDEO_1V6&&w(P.yP.VIDEO_1V6),S(i.grids,P.yP.VIDEO_1V6),L(i.grids);break;case M.t.VIDEO_6V6:l!==P.yP.VIDEO_6V6&&w(P.yP.VIDEO_6V6),v&&v===i.channel_id&&S(i.grids,P.yP.VIDEO_6V6),L(i.grids);break;default:l&&w(undefined)}}else{var o;null!=r&&null!==(o=r.source)&&void 0!==o&&y()(o).call(o,"TTLiveSDK")&&w(undefined)}}catch(a){}}),[S,v,l,w,L,n]);return C.useEffect((function(){return null==E||E.on(O.SEI_PARSED,b),function(){null==E||E.off(O.SEI_PARSED,b)}}),[E,b,n]),null}},38952:function(e,n,t){t.d(n,{a:function(){return _}});var r=t(19049),i=t(95508),o=t(65146),a=t(85792),l=t.n(a),u=t(21155),c=t.n(u),s=t(50750),d=t.n(s),f=t(3493),v=t.n(f),m=function(e){return e[e.STARTED=0]="STARTED",e}(m||{}),_=function(){function e(){(0,r.Z)(this,e),(0,o.Z)(this,"powers",{}),(0,o.Z)(this,"status",{}),(0,o.Z)(this,"timer",{}),(0,o.Z)(this,"interval",850),this.ee=new(v())}return(0,i.Z)(e,[{key:"push",value:function(e,n){var t=this;this.powers[e]?(this.powers[e].length<2||this.powers[e].pop(),this.powers[e].push(n)):this.powers[e]=[n],this.status[e]!==m.STARTED&&(this.status[e]=m.STARTED,clearTimeout(this.timer[e]),this.timer[e]=l()((function(){return t.publish(e)}),100))}},{key:"on",value:function(e,n){this.ee.on(e,n)}},{key:"off",value:function(e,n){this.ee.off(e,n),clearTimeout(this.timer[e])}},{key:"destroy",value:function(){var e,n=this;c()(e=d()(this.timer)).call(e,(function(e){clearTimeout(n.timer[e])}))}},{key:"publish",value:function(e){var n=this;clearTimeout(this.timer[e]),this.status[e]=m.STARTED;var t=this.powers[e].shift();t&&this.ee.emit(e,t),this.powers[e].length>0?this.timer[e]=l()((function(){return n.publish(e)}),this.interval):(this.timer[e]=l()((function(){n.ee.emit(e,{talk:0})}),2*this.interval),delete this.status[e])}}]),e}()},51625:function(e,n,t){t.d(n,{i:function(){return r}});var r=function(){try{var e,n;return(null===(e=MediaSource)||void 0===e?void 0:e.isTypeSupported('video/mp4; codecs="hev1.1.6.L153.B0"'))&&(null===(n=MediaSource)||void 0===n?void 0:n.isTypeSupported('video/mp4; codecs="hev1.2.4.L153.B0"'))}catch(t){return!1}}},26846:function(e,n,t){t.d(n,{Aw:function(){return d},KR:function(){return f},BM:function(){return v},Gm:function(){return m}});var r=t(92524),i=t.n(r),o=t(11766),a=t.n(o),l=t(94090),u=t.n(l),c=t(12035),s=t.n(c),d=function(e){for(var n=2,t=1,r=1;r<=3;r++)if(e<=r*r){n=r,t=Math.ceil(e/n);break}return{col:n,row:t}},f=function e(n){var t=i()(n).call(n,"{");if(-1===t)return undefined;var r=a()(n).call(n,"}")+1,o=n.substring(t,r);try{return JSON.parse(o)}catch(l){return e(n.substring(t+1))}},v=function(e){return e<=999?"".concat(e):e>999?"999":""},m=function(){var e,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(n<=0)return"00:00";var t=String(Math.floor(n/60)),r=String(n%60);return u()(e="".concat(s()(t,2,"0"),":")).call(e,s()(r,2,"0"))}},77641:function(e,n,t){t.d(n,{j:function(){return r}});var r={UNK_NOWN:0,LIVE:1,FIRST_LIVE:2,RECORD_LIVE:3}},69815:function(e,n,t){t.d(n,{Xk:function(){return c},Ne:function(){return d},bi:function(){return v},JW:function(){return m},Vd:function(){return _},y3:function(){return p},UH:function(){return h},y9:function(){return g},EP:function(){return E},vc:function(){return y},at:function(){return S},xS:function(){return I},W$:function(){return L},yM:function(){return k},T5:function(){return w},Yj:function(){return Z},f5:function(){return b},Se:function(){return N},ni:function(){return O},MR:function(){return P},yb:function(){return T},YI:function(){return A},d3:function(){return M}});var r=t(30906),i=t(56402),o=t.n(i),a=t(79565),l=t(37337),u=t(90037),c=function(e){return e[e.LOGIN=1]="LOGIN",e[e.NOT_LOGIN=0]="NOT_LOGIN",e}({}),s=2,d=function(e){var n,t=e?1:0;return{is_vs:t,vs_episode_id:null!=e&&e.episode_id_str?null==e?void 0:e.episode_id_str:"",vs_ep_group_id:null!=e&&e.item_id?null==e?void 0:e.item_id:"",vs_season_id:null!=e&&e.season_id_str?null==e?void 0:e.season_id_str:"",vs_episode_stage:t?(null==e||null===(n=e.mod)||void 0===n?void 0:n.episode_stage)===s?"premiere":"live":""}},f=function(){return{url:location.href,url_path:location.pathname}},v=function(e){window&&window.collectEvent&&window.collectEvent("livesdk_rec_live_play",(0,r.Z)({anchor_id:"",web_live_page:"",web_live_tab:"",more_detail:"",live_type:"game",action_type:"click",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},m=function(e){window.collectEvent&&window.collectEvent("livesdk_live_show",(0,r.Z)((0,r.Z)({cid:(0,a.V7)(),web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",action_type:"click",game_live_source:"game_web",url:location.href,url_path:location.pathname},e),{},{if_qianchuan_ad:null!=e&&e.cid||(0,a.V7)()?1:0,ad_type:null!=e&&e.cid||(0,a.V7)()?u.Z9.Live:undefined}))},_=function(e){window.collectEvent("livesdk_second_tab_click",(0,r.Z)((0,r.Z)({},f()),{},{tab_name:"live"},e))},p=function(e){window.collectEvent&&window.collectEvent("livesdk_live_window_duration_v2",(0,r.Z)((0,r.Z)({cid:(0,a.V7)(),web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e),{},{if_qianchuan_ad:null!=e&&e.cid||(0,a.V7)()?1:0,ad_type:null!=e&&e.cid||(0,a.V7)()?u.Z9.Live:undefined}))},h=function(e){window.collectEvent&&window.collectEvent("livesdk_live_window_duration_v2_new",(0,r.Z)((0,r.Z)({cid:(0,a.V7)(),web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e),{},{if_qianchuan_ad:null!=e&&e.cid||(0,a.V7)()?1:0,ad_type:null!=e&&e.cid||(0,a.V7)()?u.Z9.Live:undefined}))},g=function(e){window.collectEvent&&window.collectEvent("livesdk_window_user_pause_duration",(0,r.Z)({cid:(0,a.V7)(),web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},E=function(e){window.collectEvent&&window.collectEvent("livesdk_live_click_user",(0,r.Z)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},y=function(e){window.collectEvent&&window.collectEvent("livesdk_live_start",(0,r.Z)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},S=function(e){window.collectEvent&&window.collectEvent("livesdk_live_pause",(0,r.Z)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},I=function(e){window.collectEvent&&window.collectEvent("livesdk_mini_window_preview_show",(0,r.Z)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},L=function(e){window.collectEvent&&window.collectEvent("livesdk_mini_window_preview_play",(0,r.Z)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},k=function(e){window.collectEvent&&window.collectEvent("livesdk_mini_window_preview_duration",(0,r.Z)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},w=function(e){window.collectEvent&&window.collectEvent("livesdk_auto_play_remind_window_show",(0,r.Z)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},Z=function(e){window.collectEvent&&window.collectEvent("livesdk_auto_play_remind_window_vanish",(0,r.Z)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname},e))},b=function(e,n){window.collectEvent(e,n)},N=function(e){window.collectEvent&&window.collectEvent("livesdk_like",(0,r.Z)({web_live_page:"",web_live_tab:"",more_detail:"",category_name:"",page_type:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname,_param_live_platform:"live"},e))},C=function(e){try{return e?(n=e,h=o()(n,"room.stream_url.stream_orientation",""),g=null!==(t=n.room)&&void 0!==t&&t.episode_extra?1:0,{anchor_id:o()(n,"room.owner.id_str",""),room_id:o()(n,"room.id_str",""),title_type:l.k4[n.title_type]===undefined?"":l.k4[n.title_type],cover_type:l.I4[n.cover_type]===undefined?"":l.I4[n.cover_type],is_recommend:l.Od[n.is_recommend]===undefined?"":l.Od[n.is_recommend],stream_type:l.FO[h]||"",game_name:o()(n,"tag_name",""),live_type:"game",is_vs:g,vs_episode_id:g?null==n||null===(i=n.room)||void 0===i||null===(a=i.episode_extra)||void 0===a?void 0:a.episode_id_str:"",vs_ep_group_id:g?null==n||null===(u=n.room)||void 0===u||null===(c=u.episode_extra)||void 0===c?void 0:c.item_id:"",vs_season_id:g?null==n||null===(f=n.room)||void 0===f||null===(v=f.episode_extra)||void 0===v?void 0:v.season_id_str:"",vs_episode_stage:g?(null==n||null===(m=n.room)||void 0===m||null===(_=m.episode_extra)||void 0===_||null===(p=_.mod)||void 0===p?void 0:p.episode_stage)===s?"premiere":"live":""}):(0,r.Z)({},d())}catch(E){return{}}var n,t,i,a,u,c,f,v,m,_,p,h,g},O=function(e,n){var t=(0,r.Z)((0,r.Z)((0,r.Z)({},f()),C(n)),e||{});window.collectEvent("livesdk_voice_button_click",t)},P=function(e){window.collectEvent("livesdk_browser_limited_mute",C(e))},T=function(e){var n=e.toUserId,t=e.reason,i=e.detail,o=e.webcast_to_user_id;window.collectEvent("livesdk_report",(0,r.Z)((0,r.Z)({},f()),{},{to_user_id:n,to_user_type:l.VA.AUDIENCE,reason:t,detail:i,webcast_to_user_id:o}))},A=function(e){window.collectEvent("livesdk_report_reason_submit",(0,r.Z)((0,r.Z)({},f()),e))},M=function(e){return{is_paidlive:Number(null==e?void 0:e.paid_type),watch_paidlive_status:null!=e&&e.view_right?"regular":Number(null==e?void 0:e.duration)>180?"try_end":"try",entrance_form:""}}},68536:function(e,n,t){t.r(n),t.d(n,{default:function(){return Tu}});var r=t(30906),i=t(30673),o=t(64408),a=t(32781),l=t(94543),u=t.n(l),c=t(5594),s=t.n(c),d=t(42249),f=t.n(d),v=t(26447),m=t.n(v),_=t(94090),p=t.n(_),h=t(8e3),g=t.n(h),E=t(11227),y=t.n(E),S=t(34346),I=t.n(S),L=t(31674),k=t.n(L),w=t(43332),Z=t.n(w),b=t(53361),N=t.n(b),C=t(95157),O=t(68315),P=t(65454),T=t(53864),A=t(60443),M=t(56402),D=t.n(M),R=t(85792),x=t.n(R),V=t(10970),F=t(86028),U=t(59858),B=t(95508),G=t(19049),H=t(65146),K=t(21155),j=t.n(K),W=t(95140),Y=t.n(W),z=t(50750),q=t.n(z),Q=t(89474),J=t(32153),X=t(73316),$=t(6670),ee=t(78034),ne=t(92663),te=t(67758),re=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"userInfo",{}),(0,H.Z)((0,X.Z)(r),"headerUserInfo",{isLogin:undefined,isSpider:!1,info:{},statusCode:0}),(0,H.Z)((0,X.Z)(r),"odin",{}),(0,H.Z)((0,X.Z)(r),"userHandlerPause",!1),(0,H.Z)((0,X.Z)(r),"setPlayerUserHandlePause",(function(e){r.userHandlerPause=e})),(0,H.Z)((0,X.Z)(r),"setUserInfo",(function(e){return r.userInfo=e})),(0,H.Z)((0,X.Z)(r),"setHeaderUserInfo",(function(e){return r.headerUserInfo=e})),(0,H.Z)((0,X.Z)(r),"setOdin",(function(e){return r.odin=e})),(0,te.rC)((0,X.Z)(r),{userInfo:te.LO,setUserInfo:te.aD,headerUserInfo:te.LO,setHeaderUserInfo:te.aD,odin:te.LO,setOdin:te.aD,userHandlerPause:te.LO,setPlayerUserHandlePause:te.aD}),r}return(0,B.Z)(t)}(ne.Z),ie=t(35323),oe=t.n(ie),ae=t(46611),le=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r,i,o;return(0,G.Z)(this,t),o=n.call(this,e),(0,H.Z)((0,X.Z)(o),"roomInfo",{}),(0,H.Z)((0,X.Z)(o),"emojiList",[]),(0,H.Z)((0,X.Z)(o),"emojiReflex",{}),(0,H.Z)((0,X.Z)(o),"liveStatus",ae.zZ.NORMAL),(0,H.Z)((0,X.Z)(o),"likeStatus",{}),(0,H.Z)((0,X.Z)(o),"followInfo",{}),(0,H.Z)((0,X.Z)(o),"isUgcLive",!1),(0,H.Z)((0,X.Z)(o),"isGameHiddle",!1),(0,H.Z)((0,X.Z)(o),"liveDetailPlayerHasPlay",!1),(0,H.Z)((0,X.Z)(o),"forceEnableH265",!1),(0,H.Z)((0,X.Z)(o),"hasAppointment",!1),(0,H.Z)((0,X.Z)(o),"enableProgramme",!1),(0,H.Z)((0,X.Z)(o),"abProgramme",!1),(0,H.Z)((0,X.Z)(o),"notSupportReason",ae.Ly.UNKNOWN),(0,H.Z)((0,X.Z)(o),"pausePop",!1),(0,H.Z)((0,X.Z)(o),"longtouchList",(null!==(r=o.store)&&void 0!==r&&null!==(i=r.feedStore)&&void 0!==i&&i.isActive,[])),(0,H.Z)((0,X.Z)(o),"longtouchShowTcc",!1),(0,H.Z)((0,X.Z)(o),"isAsianGames",!1),(0,H.Z)((0,X.Z)(o),"usePageUrlBannerId",[]),(0,H.Z)((0,X.Z)(o),"relevantRooms",[]),(0,H.Z)((0,X.Z)(o),"setUgcLive",(function(e){o.isUgcLive=e})),(0,H.Z)((0,X.Z)(o),"setLiveDetailPlayerHasPlay",(function(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];o.liveDetailPlayerHasPlay=e})),(0,H.Z)((0,X.Z)(o),"setGameHiddle",(function(e){o.isGameHiddle=e})),(0,H.Z)((0,X.Z)(o),"setNotSupportReason",(function(e){o.notSupportReason=e})),(0,H.Z)((0,X.Z)(o),"setPausePop",(function(e){o.pausePop=e})),(0,H.Z)((0,X.Z)(o),"setRoomInfo",(function(e){return o.roomInfo=e})),(0,H.Z)((0,X.Z)(o),"setEmojiList",(function(e){return o.emojiList=e})),(0,H.Z)((0,X.Z)(o),"setEmojiReflex",(function(e){return o.emojiReflex=e})),(0,H.Z)((0,X.Z)(o),"setFollowStatus",(function(e){return oe()(o.roomInfo,"anchor.follow_info.follow_status",e)})),(0,H.Z)((0,X.Z)(o),"setRoomUserStats",(function(e){return oe()(o.roomInfo,"room.room_view_stats",e)})),(0,H.Z)((0,X.Z)(o),"setRoomStatus",(function(e){oe()(o.roomInfo,"room.status",e),oe()(o.roomInfo,"room.status_str",e.toString())})),(0,H.Z)((0,X.Z)(o),"setLiveStatus",(function(e){return o.liveStatus=e})),(0,H.Z)((0,X.Z)(o),"setLikeStatus",(function(e){return o.likeStatus=e})),(0,H.Z)((0,X.Z)(o),"setFollowInfo",(function(e,n){o.followInfo[e]=n})),(0,H.Z)((0,X.Z)(o),"setRoomCommentaryRoomInfo",(function(e){oe()(o.roomInfo,"room.commentary_room_info",e)})),(0,H.Z)((0,X.Z)(o),"setAppointment",(function(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];o.hasAppointment=e})),(0,H.Z)((0,X.Z)(o),"setLongtouchList",(function(e){var n,t;null!==(n=o.store)&&void 0!==n&&null!==(t=n.feedStore)&&void 0!==t&&t.isActive&&(o.longtouchList=e)})),(0,H.Z)((0,X.Z)(o),"setLongtouchShowTcc",(function(e){o.longtouchShowTcc=e})),(0,H.Z)((0,X.Z)(o),"setUsePageUrlBannerId",(function(e){o.usePageUrlBannerId=e})),(0,H.Z)((0,X.Z)(o),"setRelativeRooms",(function(e){o.relevantRooms=e})),(0,H.Z)((0,X.Z)(o),"setIsAsianGames",(function(e){o.isAsianGames=e})),(0,te.rC)((0,X.Z)(o),{roomInfo:te.LO,emojiList:te.LO,emojiReflex:te.LO,liveStatus:te.LO,likeStatus:te.LO,followInfo:te.LO,setRoomInfo:te.aD,setFollowStatus:te.aD,setEmojiList:te.aD,setEmojiReflex:te.aD,setRoomUserStats:te.aD,setRoomStatus:te.aD,setLiveStatus:te.aD,setFollowInfo:te.aD,isUgcLive:te.LO,isGameHiddle:te.LO,pausePop:te.LO,setUgcLive:te.aD,setGameHiddle:te.aD,setPausePop:te.aD,hasAppointment:te.LO,enableProgramme:te.LO,abProgramme:te.LO,hasProgramme:te.Fl,forceEnableH265:te.LO,liveDetailPlayerHasPlay:te.LO,notSupportReason:te.LO,setLiveDetailPlayerHasPlay:te.aD,longtouchShow:te.Fl,longtouchList:te.LO,setLongtouchList:te.aD,setNotSupportReason:te.aD,longtouchShowTcc:te.LO,setLongtouchShowTcc:te.aD,usePageUrlBannerId:te.LO,setUsePageUrlBannerId:te.aD,isAsianGames:te.LO,setIsAsianGames:te.aD,relevantRooms:te.LO}),o}return(0,B.Z)(t,[{key:"hasProgramme",get:function(){return this.enableProgramme&&this.abProgramme}},{key:"longtouchShow",get:function(){var e,n=D()(this.roomInfo,"room.live_room_mode"),t=Number(null===(e=this.roomInfo.room)||void 0===e?void 0:e.status_str)===ae.LV.END;return n===ae.ke.MEDIA?2!==D()(this.roomInfo,"room.room_auth.LongTouch",0):this.longtouchShowTcc&&!t}}]),t}(ne.Z),ue=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"needInital",!1),(0,H.Z)((0,X.Z)(r),"linkMicHeartConfig",{}),(0,H.Z)((0,X.Z)(r),"isOpenLongTask",!0),(0,te.rC)((0,X.Z)(r),{isSpider:te.Fl,needInital:te.LO,setHomeNeedIntial:te.aD,linkMicHeartConfig:te.LO,setLinkMicHeartConfig:te.aD,isOpenLongTask:te.LO,setIsOpenLongTask:te.aD}),r}return(0,B.Z)(t,[{key:"setIsOpenLongTask",value:function(e){this.isOpenLongTask=e}},{key:"isSpider",get:function(){return!Q.s&&/(bot|spider|slurp)/i.test(navigator.userAgent)}},{key:"setHomeNeedIntial",value:function(e){this.needInital=e}},{key:"setLinkMicHeartConfig",value:function(e){this.linkMicHeartConfig=e}}]),t}(ne.Z),ce=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"selectedRoom",null),(0,H.Z)((0,X.Z)(r),"setSelectedRoom",(function(e){return r.selectedRoom=e})),(0,te.rC)((0,X.Z)(r),{selectedRoom:te.LO,setSelectedRoom:te.aD}),r}return(0,B.Z)(t)}(ne.Z),se=t(6279),de=t(30423),fe=t(32723),ve=[de.kQ.GIFT,de.kQ.LEVEL,de.kQ.FANS],me=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"giftMessages",[]),(0,H.Z)((0,X.Z)(r),"giftPages",[]),(0,H.Z)((0,X.Z)(r),"effectList",[]),(0,H.Z)((0,X.Z)(r),"balance",0),(0,H.Z)((0,X.Z)(r),"effectSwitchStatus",!0),(0,H.Z)((0,X.Z)(r),"giftSwitchStatus",!0),(0,H.Z)((0,X.Z)(r),"giftAuthStatus",!1),(0,H.Z)((0,X.Z)(r),"giftTccStatus",!1),(0,H.Z)((0,X.Z)(r),"rechargeTccStatus",!1),(0,H.Z)((0,X.Z)(r),"giftPanelSwitchStatus",de.nN.NO_CONTROL),(0,H.Z)((0,X.Z)(r),"hasGiftBar",!1),(0,H.Z)((0,X.Z)(r),"giftPanelShowFrom",""),(0,H.Z)((0,X.Z)(r),"setGiftMessages",(function(e){return r.giftMessages=e})),(0,H.Z)((0,X.Z)(r),"setGiftPages",(function(e){return r.giftPages=e})),(0,H.Z)((0,X.Z)(r),"setEffectList",(function(e){return r.effectList=e})),(0,H.Z)((0,X.Z)(r),"setBalance",(function(e){return r.balance=e})),(0,H.Z)((0,X.Z)(r),"setEffectSwitchStatus",(function(e){return r.effectSwitchStatus=e})),(0,H.Z)((0,X.Z)(r),"setGiftSwitchStatus",(function(e){return r.giftSwitchStatus=e})),(0,H.Z)((0,X.Z)(r),"setGiftAuthStatus",(function(e){return r.giftAuthStatus=e})),(0,H.Z)((0,X.Z)(r),"setGiftTccStatus",(function(e){return r.giftTccStatus=e})),(0,H.Z)((0,X.Z)(r),"setRechargeTccStatus",(function(e){return r.rechargeTccStatus=e})),(0,H.Z)((0,X.Z)(r),"setGiftPanelSwitchStatus",(function(e){return r.giftPanelSwitchStatus=e})),(0,H.Z)((0,X.Z)(r),"setHasGiftBar",(function(e){return r.hasGiftBar=e})),(0,H.Z)((0,X.Z)(r),"setGiftPanelShowFrom",(function(e){return r.giftPanelShowFrom=e})),(0,te.rC)((0,X.Z)(r),{giftMessages:te.LO,giftPages:te.LO,effectList:te.LO,balance:te.LO,effectSwitchStatus:te.LO,giftSwitchStatus:te.LO,giftAuthStatus:te.LO,giftTccStatus:te.LO,rechargeTccStatus:te.LO,giftPanelSwitchStatus:te.LO,hasGiftBar:te.LO,giftPanelShowFrom:te.LO,supportedGiftPages:te.Fl,giftList:te.Fl,giftStatus:te.Fl,useRechargeComponent:te.Fl,setGiftMessages:te.aD,setGiftPages:te.aD,setEffectList:te.aD,setBalance:te.aD,setEffectSwitchStatus:te.aD,setGiftSwitchStatus:te.aD,setGiftAuthStatus:te.aD,setGiftTccStatus:te.aD,setRechargeTccStatus:te.aD,setGiftPanelSwitchStatus:te.aD,setHasGiftBar:te.aD,setGiftPanelShowFrom:te.aD}),r}return(0,B.Z)(t,[{key:"supportedGiftPages",get:function(){var e,n;return I()(e=g()(n=this.giftPages).call(n,(function(e){return y()(ve).call(ve,e.pageType)}))).call(e,(function(e){return(0,r.Z)((0,r.Z)({},e),{},{giftList:(0,fe.fc)(e.giftList)})}))}},{key:"giftList",get:function(){return(0,fe.pL)(this.giftPages,[],de.dq.NORMAL,1,!1)}},{key:"giftStatus",get:function(){return this.giftSwitchStatus&&this.giftAuthStatus&&this.giftTccStatus}},{key:"useRechargeComponent",get:function(){return this.rechargeTccStatus}}]),t}(ne.Z),_e=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"pkAppData",{}),(0,H.Z)((0,X.Z)(r),"pkTccStatus",!1),(0,H.Z)((0,X.Z)(r),"setPKAppData",(function(e){return r.pkAppData=e})),(0,H.Z)((0,X.Z)(r),"setPKTccStatus",(function(e){return r.pkTccStatus=e})),(0,te.rC)((0,X.Z)(r),{pkAppData:te.LO,pkTccStatus:te.LO,pkStatus:te.Fl,setPKAppData:te.aD,setPKTccStatus:te.aD}),r}return(0,B.Z)(t,[{key:"pkStatus",get:function(){var e=Boolean(this.pkAppData.ver);return!!this.pkTccStatus&&e}}]),t}(ne.Z),pe=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"audienceSwitchStatus",!0),(0,H.Z)((0,X.Z)(r),"audienceAuthStatus",!1),(0,H.Z)((0,X.Z)(r),"audienceTccStatus",!1),(0,H.Z)((0,X.Z)(r),"setAudienceSwitchStatus",(function(e){return r.audienceSwitchStatus=e})),(0,H.Z)((0,X.Z)(r),"setAudienceAuthStatus",(function(e){return r.audienceAuthStatus=e})),(0,H.Z)((0,X.Z)(r),"setAudienceTccStatus",(function(e){return r.audienceTccStatus=e})),(0,te.rC)((0,X.Z)(r),{audienceSwitchStatus:te.LO,audienceAuthStatus:te.LO,audienceTccStatus:te.LO,audiencePanelStatus:te.Fl,audienceStatus:te.Fl,setAudienceSwitchStatus:te.aD,setAudienceAuthStatus:te.aD,setAudienceTccStatus:te.aD}),r}return(0,B.Z)(t,[{key:"audiencePanelStatus",get:function(){return this.audienceTccStatus}},{key:"audienceStatus",get:function(){return this.audienceSwitchStatus&&this.audienceAuthStatus}}]),t}(ne.Z),he=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"liveModalDynamicBg",!1),(0,H.Z)((0,X.Z)(r),"liveModalWithoutAction",!1),(0,H.Z)((0,X.Z)(r),"liveModalWeakEntrance",!1),(0,H.Z)((0,X.Z)(r),"setLiveModalDynamicBg",(function(e){r.liveModalDynamicBg=e})),(0,H.Z)((0,X.Z)(r),"setLiveModalWeakEntrance",(function(e){r.liveModalWeakEntrance=e})),(0,H.Z)((0,X.Z)(r),"setLiveModalWithoutAction",(function(e){r.liveModalWithoutAction=e})),(0,H.Z)((0,X.Z)(r),"layoutData",null),(0,H.Z)((0,X.Z)(r),"setLayoutData",(function(e){return r.layoutData=e})),(0,te.rC)((0,X.Z)(r),{layoutData:te.LO,setLayoutData:te.aD,liveModalDynamicBg:te.LO,setLiveModalDynamicBg:te.aD,liveModalWeakEntrance:te.LO,setLiveModalWeakEntrance:te.aD,liveModalWithoutAction:te.LO,setLiveModalWithoutAction:te.aD}),r}return(0,B.Z)(t)}(ne.Z),ge=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"fansClubAuthStatus",!1),(0,H.Z)((0,X.Z)(r),"fansClubTccStatus",!1),(0,H.Z)((0,X.Z)(r),"fansClubButtonShowStatus",!1),(0,H.Z)((0,X.Z)(r),"fansClubShowStatus",{isShow:!1,source:""}),(0,H.Z)((0,X.Z)(r),"fansClubJoinStatus",!1),(0,H.Z)((0,X.Z)(r),"fansClubAutoLightStatus",!1),(0,H.Z)((0,X.Z)(r),"fansClubData",{}),(0,H.Z)((0,X.Z)(r),"hasFetchDataStatus",!1),(0,H.Z)((0,X.Z)(r),"setFansClubAuthStatus",(function(e){return r.fansClubAuthStatus=e})),(0,H.Z)((0,X.Z)(r),"setFansClubTccStatus",(function(e){return r.fansClubTccStatus=e})),(0,H.Z)((0,X.Z)(r),"setFansClubShowStatus",(function(e){return r.fansClubShowStatus=e})),(0,H.Z)((0,X.Z)(r),"setFansClubButtonShowStatus",(function(e){return r.fansClubButtonShowStatus=e})),(0,H.Z)((0,X.Z)(r),"setFansClubJoinStatus",(function(e){return r.fansClubJoinStatus=e})),(0,H.Z)((0,X.Z)(r),"setFansClubAutoLightStatus",(function(e){return r.fansClubAutoLightStatus=e})),(0,H.Z)((0,X.Z)(r),"setFansClubData",(function(e){return r.fansClubData=e})),(0,H.Z)((0,X.Z)(r),"setHasFetchDataStatus",(function(e){return r.hasFetchDataStatus=e})),(0,te.rC)((0,X.Z)(r),{fansClubTccStatus:te.LO,fansClubAuthStatus:te.LO,fansClubShowStatus:te.LO,fansClubJoinStatus:te.LO,fansClubAutoLightStatus:te.LO,fansClubButtonShowStatus:te.LO,hasFetchDataStatus:te.LO,fansClubStatus:te.Fl,setFansClubAuthStatus:te.aD,setFansClubTccStatus:te.aD,setFansClubShowStatus:te.aD,setFansClubJoinStatus:te.aD,setFansClubAutoLightStatus:te.aD,setHasFetchDataStatus:te.aD}),r}return(0,B.Z)(t,[{key:"fansClubStatus",get:function(){return this.fansClubTccStatus&&this.fansClubAuthStatus}}]),t}(ne.Z),Ee=t(53333),ye=t.n(Ee),Se=t(92524),Ie=t.n(Se),Le=t(90457),ke=t.n(Le),we=t(15703),Ze=t(95921),be=t(92281),Ne=0,Ce=1,Oe=-1,Pe=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"disableUnLoginFilter",!1),(0,H.Z)((0,X.Z)(r),"rawThemeConfig",{}),(0,H.Z)((0,X.Z)(r),"domain","live.douyin.com"),(0,H.Z)((0,X.Z)(r),"pathname",""),(0,H.Z)((0,X.Z)(r),"isClient",!1),(0,H.Z)((0,X.Z)(r),"navigationSelected","live"),(0,H.Z)((0,X.Z)(r),"hidehead",!1),(0,H.Z)((0,X.Z)(r),"forceTheme",undefined),(0,H.Z)((0,X.Z)(r),"hardNavigation",Ne),(0,H.Z)((0,X.Z)(r),"hardCategoryTab",Ne),(0,H.Z)((0,X.Z)(r),"hardHeader",Ne),(0,H.Z)((0,X.Z)(r),"hardFooter",Ne),(0,H.Z)((0,X.Z)(r),"hardSideBar",Ne),(0,H.Z)((0,X.Z)(r),"hardErrorStyle",Ne),(0,H.Z)((0,X.Z)(r),"transparentHeader",!1),(0,H.Z)((0,X.Z)(r),"specialBanner",!1),(0,H.Z)((0,X.Z)(r),"hasRelevantRoom",!0),(0,H.Z)((0,X.Z)(r),"immersive",!1),(0,H.Z)((0,X.Z)(r),"programmeFill",undefined),(0,H.Z)((0,X.Z)(r),"resource",undefined),(0,H.Z)((0,X.Z)(r),"playerMargin",0),(0,H.Z)((0,X.Z)(r),"setModule",(function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Ne;r["hard".concat(ye()(e))]=n})),(0,H.Z)((0,X.Z)(r),"setHint",(function(e,n){var t=arguments.length>2&&arguments[2]!==undefined&&arguments[2],i=arguments.length>3?arguments[3]:undefined;r.domain=e,r.pathname=n,r.isClient=t,r.hidehead=Boolean(i)})),(0,H.Z)((0,X.Z)(r),"setImmersive",(function(e){r.immersive=e})),(0,H.Z)((0,X.Z)(r),"setSpecialBanner",(function(e){r.specialBanner=e})),(0,H.Z)((0,X.Z)(r),"setResource",(function(e){r.resource=e})),(0,H.Z)((0,X.Z)(r),"setForceTheme",(function(e){r.forceTheme=e})),(0,te.rC)((0,X.Z)(r),{disableUnLoginFilter:te.LO,rawThemeConfig:te.LO,domain:te.LO,pathname:te.LO,isClient:te.LO,navigationSelected:te.LO,hidehead:te.LO,forceTheme:te.LO,hardNavigation:te.LO,hardCategoryTab:te.LO,hardHeader:te.LO,hardFooter:te.LO,hardSideBar:te.LO,hardErrorStyle:te.LO,transparentHeader:te.LO,specialBanner:te.LO,hasRelevantRoom:te.LO,programmeFill:te.LO,immersive:te.LO,resource:te.LO,playerMargin:te.LO,setHint:te.aD,setModule:te.aD,navigationCurrent:te.Fl,showNavigation:te.Fl,showCategoryTab:te.Fl,showHeader:te.Fl,showFooter:te.Fl,showSideBar:te.Fl,showErrorStyle:te.Fl,hideNavigation:te.Fl,hideCategoryTab:te.Fl,hideHeader:te.Fl,hideFooter:te.Fl,hideSideBar:te.Fl,hideErrorStyle:te.Fl,xiguaHeader:te.Fl,isLiveDetail:te.Fl}),r}return(0,B.Z)(t,[{key:"isLiveDetail",get:function(){return Boolean((0,Ze.LX)(we.m.LIVING,this.pathname))}},{key:"isXiguaDomain",get:function(){var e;return-1!==Ie()(e=[be.LIVE_XIGUA_DOMAIN,be.XIGUA_DOMAIN]).call(e,this.domain)}},{key:"navigationCurrent",get:function(){return(0,Ze.LX)(we.m.LIVING,this.pathname)?"":this.navigationSelected}},{key:"showNavigation",get:function(){var e,n=this,t=this.shouldShowModule(this.hardNavigation);return t!==undefined?t:(!this.domain||!this.isXiguaDomain)&&((!this.isClient||!(0,Ze.LX)(we.m.LIVING,this.pathname))&&ke()(e=[we.m.CATEGORY,we.m.HOT_LIVE,we.m.HOME,we.m.LIVING]).call(e,(function(e){return Boolean((0,Ze.LX)(e,n.pathname))})))}},{key:"hideNavigation",get:function(){return!this.showNavigation}},{key:"showCategoryTab",get:function(){var e,n=this,t=this.shouldShowModule(this.hardCategoryTab);return t!==undefined?t:(!this.domain||!this.isXiguaDomain)&&!ke()(e=[we.m.LIVING_COMMENT]).call(e,(function(e){return Boolean((0,Ze.LX)(e,n.pathname))}))}},{key:"hideCategoryTab",get:function(){return!this.showCategoryTab}},{key:"showHeader",get:function(){var e,n=this,t=this.shouldShowModule(this.hardHeader);return t!==undefined?t:(!this.domain||!this.isXiguaDomain)&&!ke()(e=[we.m.IFRAME,we.m.VIDEO_DOMAIN_IFRAME,we.m.LIVING_COMMENT]).call(e,(function(e){return Boolean((0,Ze.LX)(e,n.pathname))}))||this.hidehead}},{key:"hideHeader",get:function(){return!this.showHeader}},{key:"showFooter",get:function(){var e,n=this,t=this.shouldShowModule(this.hardFooter);return t!==undefined?t:!ke()(e=[we.m.LIVING_COMMENT,we.m.LIVING]).call(e,(function(e){return Boolean((0,Ze.LX)(e,n.pathname))}))}},{key:"hideFooter",get:function(){return!this.showFooter}},{key:"xiguaHeader",get:function(){var e;return this.domain&&-1!==Ie()(e=[be.LIVE_XIGUA_DOMAIN]).call(e,this.domain)}},{key:"showSideBar",get:function(){var e,n=this,t=this.shouldShowModule(this.hardSideBar);return t!==undefined?t:!ke()(e=[we.m.IFRAME,we.m.VIDEO_DOMAIN_IFRAME,we.m.LIVING_COMMENT]).call(e,(function(e){return Boolean((0,Ze.LX)(e,n.pathname))}))}},{key:"hideSideBar",get:function(){return!this.showSideBar}},{key:"showErrorStyle",get:function(){var e,n=this,t=this.shouldShowModule(this.hardSideBar);return t!==undefined?t:!ke()(e=[we.m.ERROR]).call(e,(function(e){return Boolean((0,Ze.LX)(e,n.pathname))}))}},{key:"hideErrorStyle",get:function(){return!this.showErrorStyle}},{key:"shouldShowModule",value:function(e){return e===Ce||e!==Oe&&undefined}},{key:"setHeaderOpacity",value:function(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];this.transparentHeader=e}},{key:"setHardCategoryTab",value:function(e){this.hardCategoryTab=e}}]),t}(ne.Z),Te=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"leadingData",{}),(0,H.Z)((0,X.Z)(r),"streamData",{}),(0,H.Z)((0,X.Z)(r),"leadingShow",!1),(0,H.Z)((0,X.Z)(r),"localQuality",undefined),(0,H.Z)((0,X.Z)(r),"singleControlTime",0),(0,H.Z)((0,X.Z)(r),"singleControlMaxShowTime",0),(0,H.Z)((0,X.Z)(r),"renderTime",0),(0,H.Z)((0,X.Z)(r),"setLeadingData",(function(e){r.leadingData=e})),(0,H.Z)((0,X.Z)(r),"setStreamData",(function(e){r.streamData=e})),(0,H.Z)((0,X.Z)(r),"setLeadingShow",(function(e){r.leadingShow=e})),(0,H.Z)((0,X.Z)(r),"setLocalQuality",(function(e){r.localQuality=e})),(0,H.Z)((0,X.Z)(r),"setRenderTime",(function(e){r.renderTime=e})),(0,H.Z)((0,X.Z)(r),"setSingleControlMaxShowTime",(function(e){r.singleControlMaxShowTime=e})),(0,H.Z)((0,X.Z)(r),"setSingleControlTime",(function(e){r.singleControlTime=e})),(0,te.rC)((0,X.Z)(r),{leadingData:te.LO,streamData:te.LO,leadingShow:te.LO,localQuality:te.LO,renderTime:te.LO,setLeadingData:te.aD,setStreamData:te.aD,setLeadingShow:te.aD,setLocalQuality:te.aD,setRenderTime:te.aD,singleControlTime:te.LO,singleControlMaxShowTime:te.LO,setSingleControlMaxShowTime:te.aD,setSingleControlTime:te.aD}),r}return(0,B.Z)(t)}(ne.Z),Ae=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"isShowExhibition",!1),(0,H.Z)((0,X.Z)(r),"isFirstLoad",!0),(0,H.Z)((0,X.Z)(r),"setIsShowExhibition",(function(e){return r.isShowExhibition=e})),(0,H.Z)((0,X.Z)(r),"setIsFirstLoad",(function(e){r.isFirstLoad=e})),(0,te.rC)((0,X.Z)(r),{isShowExhibition:te.LO,setIsShowExhibition:te.aD}),r}return(0,B.Z)(t)}(ne.Z),Me=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"isShowHourRankList",!1),(0,H.Z)((0,X.Z)(r),"openType",0),(0,H.Z)((0,X.Z)(r),"isFirstLoad",!0),(0,H.Z)((0,X.Z)(r),"setOpenType",(function(e){return r.openType=e})),(0,H.Z)((0,X.Z)(r),"setIsShowHourRankList",(function(e){return r.isShowHourRankList=e})),(0,H.Z)((0,X.Z)(r),"setIsFirstLoad",(function(e){return r.isFirstLoad=e})),(0,te.rC)((0,X.Z)(r),{isShowHourRankList:te.LO,openType:te.LO,setIsShowHourRankList:te.aD,setOpenType:te.aD}),r}return(0,B.Z)(t)}(ne.Z),De=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"isActive",!1),(0,H.Z)((0,X.Z)(r),"hasPre",!1),(0,H.Z)((0,X.Z)(r),"hasNext",!1),e.isLiveModal||(r.isActive=!0),(0,te.rC)((0,X.Z)(r),{isActive:te.LO,hasPre:te.LO,hasNext:te.LO}),r}return(0,B.Z)(t)}(ne.Z),Re=t(33807),xe=t(315),Ve=t(77370),Fe=t.n(Ve),Ue=t(76569),Be=t.n(Ue),Ge=t(54343),He=t.n(Ge),Ke=t(73459),je=t(75478),We=t(82062),Ye=function(){function e(){var n,t;(0,G.Z)(this,e),(0,H.Z)(this,"room",{}),(0,H.Z)(this,"initBrowserInstance",!1),(0,H.Z)(this,"currentRoomId",""),(0,H.Z)(this,"globalUserPause",!1),(0,H.Z)(this,"autoChangeUrl",!0),this.browser={SPIDER_DETECT:!1,BROWSER_NOT_SUPPORTED:!1,NETWORK_OFFLINE:!1},this.room={},this.startHeartDetect=Be()(n=this.startHeartDetect).call(n,this),this.stopHeartDetect=Be()(t=this.stopHeartDetect).call(t,this)}return(0,B.Z)(e,[{key:"initBrowser",value:function(){this.browser.SPIDER_DETECT=/(bot|spider|slurp)/i.test(navigator.userAgent),this.browser.BROWSER_NOT_SUPPORTED=!(0,We.VU)()}},{key:"initRoom",value:function(e,n,t){this.room[e]={roomId:e,currentStreamUrl:n,roomFromServer:Fe()(t)}}},{key:"init",value:function(e,n,t){this.initBrowserInstance||(this.initBrowser(),this.initBrowserInstance=!0),this.room[e]||this.initRoom(e,n,t)}},{key:"resetReason",value:function(e){e.NETWORK_LOW=!1,e.NETWORK_SERVICE=!1,e.NOT_CATCH_ERROR=!1,e.PLAY_RUNTIME_ERROR=!1,e.USER_PAUSED=!1}},{key:"resetWaiting",value:function(e){e.waitingStartTime=-1,e.waitingFirstStartTime=0,e.waitingTime=0,e.waitingNumber=0,e.waiting=!1}},{key:"resetRetryCount",value:function(e){e.retryCount=0,e.retryTime=0,e.retryRuntimeErrorCount=0}},{key:"resetRoomObj",value:function(e){e.pauseTime=0,e.switchTime=0,e.switchUrlCount=0,this.resetWaiting(e),this.resetReason(e),this.resetRetryCount(e)}},{key:"resetPlayer",value:function(){this.player=null}},{key:"setCurrentRoom",value:function(e,n){var t,r,i=null==e||null===(t=e.room)||void 0===t?void 0:t.id_str;if(this.currentRoomId!==i&&""!==this.currentRoomId){var o=this.room[this.currentRoomId];o.waitingTime=0,o.waitingNumber=0,o.waitingStartTime=-1}this.currentRoomId=i,this.init(null==e||null===(r=e.room)||void 0===r?void 0:r.id_str,n,e)}},{key:"urlIsSame",value:function(e,n){return(null==e?void 0:e.split("?")[0])===(null==n?void 0:n.split("?")[0])}},{key:"setBusinessChangeUrl",value:function(e){this.businessChangeUrl=e}},{key:"setPlayer",value:function(e){!this.player&&e&&(this.player=e)}},{key:"handleWaiting",value:function(e){var n,t=this.room[e];t&&(t.waitingNumber=(null!==(n=t.waitingNumber)&&void 0!==n?n:0)+1,t.waitingStartTime=m()(),t.waiting=!0,1===t.waitingNumber&&(t.waitingFirstStartTime=m()()))}},{key:"handlePlaying",value:function(e){var n,t,r=this.room[e];null!=r&&r.waiting&&(r.waiting=!1,r.waitingTime=(null!==(n=r.waitingTime)&&void 0!==n?n:0)+m()()-(null!==(t=r.waitingStartTime)&&void 0!==t?t:m()()))}},{key:"handleEnded",value:function(e){var n,t,r,i,o,a,l=this.room[e];"nobuffer"===(null===(n=this.player)||void 0===n||null===(t=n.plugins)||void 0===t||null===(r=t.flvlive)||void 0===r||null===(i=r.endedStatus)||void 0===i?void 0:i.status)?null!==(a=navigator)&&void 0!==a&&a.onLine?l.NETWORK_LOW=!0:this.browser.NETWORK_OFFLINE=!0:null!==(o=navigator)&&void 0!==o&&o.onLine||(this.browser.NETWORK_OFFLINE=!0)}},{key:"handleError",value:function(e,n){var t=this.room[e];500===n.code||404===n.code||403===n.code||21===n.code?t.NETWORK_SERVICE=!0:31===n.code||4===n.code||3===n.errorCode||4===n.errorCode?t.PLAY_RUNTIME_ERROR=!0:999===n.code||1===n.errorCode||2===n.errorCode?t.NETWORK_LOW=!0:t.NOT_CATCH_ERROR=!0,t.pauseTime=m()()}},{key:"handlePause",value:function(e){var n=this.room[e];n&&(n.pauseTime=m()())}},{key:"handlePlay",value:function(e){var n=this.room[e];this.globalUserPause=!1,n&&this.resetRoomObj(n)}},{key:"getQualityUrl",value:function(e){var n,t,r,i,o,a=null!==(n=e.roomFromServer)&&void 0!==n?n:{},l=(null==a||null===(t=a.room)||void 0===t||null===(r=t.stream_url)||void 0===r?void 0:r.flv_pull_url)||{},u=(null==a||null===(i=a.room)||void 0===i||null===(o=i.stream_url)||void 0===o?void 0:o.hls_pull_url_map)||{},c=(0,Ke.tq)()?u:l,s="";return c.SD1?s=c.SD1:c.SD2?s=c.SD2:c.HD1?s=c.HD1:c.FULL_HD1&&(s=c.FULL_HD1),(0,je.uC)(s)}},{key:"changeUrl",value:function(e){if(this.currentRoomId===e.roomId){var n,t=this.getQualityUrl(e);if(this.player&&(0,We.sw)(t)&&!this.urlIsSame(t,this.player.config.url))this.autoChangeUrl?this.player.src=globalThis.xssNamespace.douyin_web.filterUrl(t,null,{logType:"js.href/src",mode:"black",reportOnly:!1}):this.businessChangeUrl&&this.businessChangeUrl();else if(this.autoChangeUrl)null===(n=this.player)||void 0===n||n.retry()}}},{key:"startHeartDetect",value:function(){var e=this;this.timer||(this.timer=He()((function(){var n,t,r=e.player,i=null!==(n=e.room[e.currentRoomId])&&void 0!==n?n:{};if(r&&null!=r&&r.hasStart){var o=e.browser;if(!o.BROWSER_NOT_SUPPORTED&&!o.SPIDER_DETECT&&null!==(t=navigator)&&void 0!==t&&t.onLine&&!(i.ANCHOR_END||i.ANCHOR_LEAVE||i.USER_PAUSED||e.globalUserPause))if(r.paused)if(null!=i&&i.PLAY_RUNTIME_ERROR){var a,l,u=null!==(a=null==i?void 0:i.retryCount)&&void 0!==a?a:0,c=null!==(l=null==i?void 0:i.retryTime)&&void 0!==l?l:m()();u<1&&m()()-c>=3e4&&(null==r||r.retry(),i.retryCount=u+1,i.retryTime=m()())}else{if(!i.NETWORK_SERVICE&&!i.NOT_CATCH_ERROR){if(i.NETWORK_LOW){var s,d,f=null!==(s=null==i?void 0:i.switchUrlCount)&&void 0!==s?s:0,v=null!==(d=null==i?void 0:i.switchTime)&&void 0!==d?d:m()();if(f<3&&m()()-v>=3e4)return i.switchUrlCount=f+1,i.switchTime=0,void e.changeUrl(i)}return e.browser.NETWORK_OFFLINE?(r.retry(),void(e.browser.NETWORK_OFFLINE=!1)):void 0}var _,p=null!==(_=null==i?void 0:i.retryRuntimeErrorCount)&&void 0!==_?_:0;p<3&&(null==r||r.retry(),i.retryRuntimeErrorCount=p+1)}else{var h,g,E,y,S=null!==(h=null==i?void 0:i.waitingNumber)&&void 0!==h?h:0,I=null!==(g=null==i?void 0:i.waitingTime)&&void 0!==g?g:0,L=null!==(E=null==i?void 0:i.waitingStartTime)&&void 0!==E?E:-1,k=null!==(y=null==i?void 0:i.waitingFirstStartTime)&&void 0!==y?y:-1;m()()-k>=5e3&&null!=i&&i.waiting&&((m()()-L+I>=3e3||S>=3)&&e.changeUrl(i),null!=i&&i.waiting?(i.waitingStartTime=m()(),i.waitingFirstStartTime=m()(),i.waitingNumber=1,i.waitingTime=0):e.resetWaiting(i))}}}),1e3))}},{key:"stopHeartDetect",value:function(){this.timer&&clearInterval(this.timer),this.timer=null}},{key:"setRoomStopReason",value:function(e,n,t){var r=this.room[e];r&&(r[n]=t)}},{key:"getRoomInfo",value:function(e){return this.room[e]}},{key:"setGlobalUserPause",value:function(e){this.globalUserPause=e}},{key:"setUrlAutoChange",value:function(e){this.autoChangeUrl=e}}]),e}(),ze=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"message",Q.s?null:new Re.v0C),(0,H.Z)((0,X.Z)(r),"container",null),(0,H.Z)((0,X.Z)(r),"playerHandler",Q.s?null:new Ye),(0,H.Z)((0,X.Z)(r),"audioPower",null),(0,H.Z)((0,X.Z)(r),"setMessage",(function(e){r.message=e})),(0,H.Z)((0,X.Z)(r),"setContainer",(function(e){r.container=e})),(0,H.Z)((0,X.Z)(r),"setPlayerHandler",(function(e){r.playerHandler=e})),(0,H.Z)((0,X.Z)(r),"setAudioPower",(function(e){r.audioPower=e})),(0,H.Z)((0,X.Z)(r),"reset",(function(){var e;r.playerHandler=null,null===(e=r.container)||void 0===e||e.reset(),r.container=null,r.audioPower=null,r.message=null,r.store=null})),r.container=Q.s?null:new xe.W(e),(0,te.rC)((0,X.Z)(r),{message:te.LO,setMessage:te.aD,container:te.LO,setContainer:te.aD,playerHandler:te.LO,setPlayerHandler:te.aD,audioPower:te.LO,setAudioPower:te.aD}),r}return(0,B.Z)(t)}(ne.Z),qe=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"isShowWishList",!1),(0,H.Z)((0,X.Z)(r),"setIsShowWishList",(function(e){return r.isShowWishList=e})),(0,te.rC)((0,X.Z)(r),{isShowWishList:te.LO,setIsShowWishList:te.aD}),r}return(0,B.Z)(t)}(ne.Z),Qe=t(67624),Je=t.n(Qe),Xe=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"containerList",new(Je())),(0,H.Z)((0,X.Z)(r),"longtouchList",new(Je())),(0,H.Z)((0,X.Z)(r),"commonList",new(Je())),(0,H.Z)((0,X.Z)(r),"reset",(function(){r.containerList=new(Je()),r.longtouchList=new(Je()),r.store=null})),(0,te.rC)((0,X.Z)(r),{containerList:te.LO,setContainerList:te.aD,longtouchList:te.LO,setLongtouchList:te.aD,commonList:te.LO,setCommonList:te.aD}),r}return(0,B.Z)(t,[{key:"setContainerList",value:function(e){this.containerList=e}},{key:"setLongtouchList",value:function(e){this.longtouchList=e}},{key:"setCommonList",value:function(e){this.commonList=e}}]),t}(ne.Z),$e=t(14772),en=t(90657),nn=t(17461),tn=t(59921),rn=t(33460),on=t(33434),an=t(62654),ln=t(68928),un=t(48469),cn=t(29405),sn=t(56676),dn=t(81867),fn=t(62400),vn=t(5498),mn=t(75816),_n=t(86830),pn=t(87432),hn=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"chatEvent",Q.s?null:new $e.s(r.store)),(0,H.Z)((0,X.Z)(r),"basicEvent",Q.s?null:new en.L(r.store)),(0,H.Z)((0,X.Z)(r),"ecomEvent",Q.s?null:new nn.B(r.store)),(0,H.Z)((0,X.Z)(r),"fansclubEvent",Q.s?null:new tn.h(r.store)),(0,H.Z)((0,X.Z)(r),"giftBaseEvent",Q.s?null:new rn.f(r.store)),(0,H.Z)((0,X.Z)(r),"giftEvent",Q.s?null:new on.c(r.store)),(0,H.Z)((0,X.Z)(r),"linkmicBaseEvent",Q.s?null:new an.U(r.store)),(0,H.Z)((0,X.Z)(r),"linkmicEvent",Q.s?null:new ln.O(r.store)),(0,H.Z)((0,X.Z)(r),"loginEvent",Q.s?null:new un.p(r.store)),(0,H.Z)((0,X.Z)(r),"pkEvent",Q.s?null:new cn.C(r.store)),(0,H.Z)((0,X.Z)(r),"playerEvent",Q.s?null:new sn.r(r.store)),(0,H.Z)((0,X.Z)(r),"ranklistEvent",Q.s?null:new dn.F(r.store)),(0,H.Z)((0,X.Z)(r),"reportEvent",Q.s?null:new fn.P(r.store)),(0,H.Z)((0,X.Z)(r),"tabEvent",Q.s?null:new vn.P(r.store)),(0,H.Z)((0,X.Z)(r),"userEvent",Q.s?null:new mn.L(r.store)),(0,H.Z)((0,X.Z)(r),"vsEvent",Q.s?null:new _n.y(r.store)),(0,H.Z)((0,X.Z)(r),"slardarEvent",Q.s?null:new pn.Uh(r.store)),(0,H.Z)((0,X.Z)(r),"reset",(function(){var e,n;j()(e=g()(n=Y()((0,X.Z)(r))).call(n,(function(e){var n=(0,a.Z)(e,1)[0];return/Event$/.test(n)}))).call(e,(function(e){var n=(0,a.Z)(e,1)[0];return r[n]=null})),r.store=null})),(0,te.rC)((0,X.Z)(r),{chatEvent:te.LO,basicEvent:te.LO,ecomEvent:te.LO,fansclubEvent:te.LO,giftBaseEvent:te.LO,giftEvent:te.LO,linkmicBaseEvent:te.LO,linkmicEvent:te.LO,loginEvent:te.LO,pkEvent:te.LO,playerEvent:te.LO,ranklistEvent:te.LO,reportEvent:te.LO,tabEvent:te.LO,userEvent:te.LO,vsEvent:te.LO}),r}return(0,B.Z)(t)}(ne.Z),gn=function(e){(0,$.Z)(t,e);var n=(0,ee.Z)(t);function t(e){var r;return(0,G.Z)(this,t),r=n.call(this,e),(0,H.Z)((0,X.Z)(r),"cameraInfo",{}),(0,H.Z)((0,X.Z)(r),"mainCameraInfo",{}),(0,H.Z)((0,X.Z)(r),"cameraInfoList",[]),(0,H.Z)((0,X.Z)(r),"setCameraInfo",(function(e){r.cameraInfo="function"==typeof e?e(r.cameraInfo):e})),(0,H.Z)((0,X.Z)(r),"setMainCameraInfo",(function(e){r.mainCameraInfo="function"==typeof e?e(r.mainCameraInfo):e})),(0,H.Z)((0,X.Z)(r),"setCameraInfoList",(function(e){r.cameraInfoList="function"==typeof e?e(r.cameraInfoList):e})),(0,te.rC)((0,X.Z)(r),{cameraInfo:te.LO,mainCameraInfo:te.LO,cameraInfoList:te.LO,setCameraInfo:te.aD,setMainCameraInfo:te.aD,setCameraInfoList:te.aD}),r}return(0,B.Z)(t)}(ne.Z),En=t(87788);(0,J.DT)(Q.s);var yn,Sn=["appStore","userStore","homeStore","roomStore","abStore","layoutStore","streamStore","cameraStore","paidLiveStore"],In=(0,B.Z)((function e(n){var t=this;(0,G.Z)(this,e),(0,H.Z)(this,"isLiveModal",!1),(0,H.Z)(this,"appStore",new ue(this)),(0,H.Z)(this,"userStore",new re(this)),(0,H.Z)(this,"homeStore",new ce(this)),(0,H.Z)(this,"roomStore",new le(this)),(0,H.Z)(this,"linkmicStore",new se.ZP(this)),(0,H.Z)(this,"giftStore",new me(this)),(0,H.Z)(this,"pkStore",new _e(this)),(0,H.Z)(this,"audienceStore",new pe(this)),(0,H.Z)(this,"abStore",new he(this)),(0,H.Z)(this,"fansClubStore",new ge(this)),(0,H.Z)(this,"layoutStore",new Pe(this)),(0,H.Z)(this,"streamStore",new Te(this)),(0,H.Z)(this,"cameraStore",new gn(this)),(0,H.Z)(this,"exhibitionStore",new Ae(this)),(0,H.Z)(this,"hourRankListStore",new Me(this)),(0,H.Z)(this,"feedStore",new De(this)),(0,H.Z)(this,"singletonStore",new ze(this)),(0,H.Z)(this,"wishListStore",new qe(this)),(0,H.Z)(this,"hybridStore",new Xe(this)),(0,H.Z)(this,"eventStore",new hn(this)),(0,H.Z)(this,"paidLiveStore",new En.ZP(this)),(0,H.Z)(this,"hydrate",(function(e){j()(Sn).call(Sn,(function(n){t[n].hydrate(e[n])}))})),(0,H.Z)(this,"reset",(function(){var e,n;j()(e=g()(n=Y()(t)).call(n,(function(e){var n=(0,a.Z)(e,1)[0];return/Store$/.test(n)}))).call(e,(function(e){var n,r=(0,a.Z)(e,2),i=r[0],o=r[1];null==o||null===(n=o.reset)||void 0===n||n.call(o),t[i]=null}))})),this.isLiveModal=n}));function Ln(){var e,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments.length>1&&arguments[1]!==undefined&&arguments[1];if(t)return new In(t);var r=null!==(e=yn)&&void 0!==e?e:new In(t);return q()(n).length&&r.hydrate(n),Q.s||(window.__STORE__=r,yn||(yn=r)),r}var kn,wn=t(79705),Zn=t.n(wn),bn=t(82524),Nn=t(48999),Cn={liveModalFeed:"hm59cruy",liveModalFeedActive:"wnGjFNgi",container:"o6q6EPHF",playerWrap:"bjz3uifH",roomInfoBar:"hibx1ff0",fullScreen:"v8ajywws",playerContainerWrap:"_2_CVCJWc",player:"cOqoU6o8",chatroomLiveModal:"koulc41v",fullscreen:"hKtRSCd8",chatroomWrap:"r89BzWnQ",chatroomContainer:"LMdhv089",chatroomContent:"aXqSr5tL",chatroom:"BkZ3AivK",appOnly:"zyJw9xjY",bgBlack:"cHoTb8rJ",roomInfoBarInner:"HDtd8pqO",isFullScreen:"bs9df_GZ"},On=t(15504),Pn=function(e){var n=(0,bn.Z)(),t=n.roomStore.roomInfo,i=n.cameraStore.cameraInfo,o=n.singletonStore.message,a=n.feedStore.isActive,l=t.roomId,u=void 0===l?"":l,c=i||{},s=c.groupId,d=c.cameraId,f=(0,T.useRef)({}),v=(0,T.useRef)(e);v.current=e;var m=(0,T.useCallback)((function(){if(!f.current[u]&&a)return u?void(v.current?null==o||o.stop():(o.start((0,r.Z)((0,r.Z)({room_id:u},d&&{sub_room_id:d}),s&&{group_id:s})),f.current[u]=!0)):(o.stop(),void On.k.info("stop by nil roomId"))}),[u,s,d,o,a]);return(0,T.useEffect)((function(){if(a){var e,n,t=0;(null===(e=navigator)||void 0===e?void 0:e.hardwareConcurrency)<=4&&(null===(n=navigator)||void 0===n?void 0:n.deviceMemory)<=2&&(t=9500);var r=f.current;return x()(m,t),function(){null==o||o.stop(),r[u]=!1}}}),[u,s,d,m,e,o,a]),m},Tn=t(69594),An=t(20121),Mn=t(36692),Dn=function(){var e=(0,bn.Z)(),n=e.linkmicStore,t=n.setPlayModes,r=n.setImLinkMicLayout,i=n.setUiLayout,o=n.setFunctionType2,a=n.linkRoomType,l=n.setIsPlayModeNotSupport,u=e.singletonStore.message,c=e.roomStore,s=c.roomInfo,d=c.setNotSupportReason;(0,T.useEffect)((function(){var e=D()(s,"room.linker_detail.linker_play_modes",[]),n=D()(s,"room.linker_detail.linker_ui_layout");t(e),i(n),r((0,Tn.M2)(n)),o(D()(s,"room.linker_detail.function_type"))}),[s,r,o,t]),(0,T.useEffect)((function(){if(!a)return null==u?void 0:u.on("LinkMicMethod",(function(e){j()(e).call(e,(function(e){var n=e.method,t=e.payload;if(n&&t){var o=Number(t.message_type);if("WebcastLinkMicMethod"===n&&o===Mn.iM.TYPE_TURNON){var a=t.ui_layout;i(a);var u=(0,Tn.M2)(a);u&&r(u)}if(o===Mn.iM.TYPE_TURNON){var c=t.scene;t.play_modes;if(c){var s=Number(c);s!==An.xs.Scene_KTV&&s!==An.xs.Scene_VideoKTV||(l(!0),d(ae.Ly.MULTI_KTV))}}}}))}))}),[a,r,l,d])},Rn=t(39619),xn=t(75849),Vn=t(28712),Fn=t(76890),Un=t(51625),Bn=t(5611),Gn=function(e){var n=e.disabledH265,t=void 0!==n&&n,r=(0,bn.Z)(),i=r.roomStore,o=i.forceEnableH265,a=i.isUgcLive,l=i.isAsianGames,u=r.streamStore.streamData,c=(0,U.j)(),s=c.liveHighClientH265,d=c.liveHighWebH265,f=T.useMemo((function(){if(a)return D()(u,"UGC_streamData",{});if(l){if(!(0,Vn.p)()&&(0,Bn.DT)()&&!t&&(0,Bn.Bp)())return D()(u,"H265_streamData",{})}else if(!(0,Vn.p)()&&(0,Un.i)()&&!t&&(o||s||d))return D()(u,"H265_streamData",{});return D()(u,"H264_streamData",{})}),[u,o,s,t,a,d]);return{stream:T.useMemo((function(){return D()(f,"stream",{})}),[f]),common:T.useMemo((function(){return D()(f,"common",{})}),[f]),options:T.useMemo((function(){return D()(f,"options",{})}),[f])}},Hn=function(e,n){if(e){var t=D()(e,"".concat(n,".main"),{});return(0,je.uC)(t.flv||"")}return""},Kn=function(e){var n=e.stream,t=e.startQuality,r=T.useMemo((function(){return Hn(n,t)}),[n,t]),i=T.useMemo((function(){return Hn(n,"ld")||r}),[n,r]);return{url:r,lowUrl:i}},jn=Gn,Wn=t(88437),Yn=t(5277),zn=t(98075),qn={uhd:{high:"4K\u9ad8\u5e27\u7387",low:"\u8d85\u9ad8\u6e054K"},hd:"\u8d85\u6e051080P",sd:"\u9ad8\u6e05720P",ld:"\u6807\u6e05480P"},Qn=q()(qn),Jn=function(e){var n=e.stream,t=(0,bn.Z)(),i=t.streamStore,o=i.leadingData,l=i.localQuality,u=i.singleControlTime,c=i.renderTime,s=t.roomStore.isAsianGames,d=D()(o,"items.probation_lead.is_leading",!1),f=D()(o,"items.probation_lead.lead_content.trial_duration",0),v=D()(o,"items.label_lead.is_leading",!1),m=D()(o,"clatity_guide",0),_=D()(o,"last_show_time",0),p=D()(o,"total_show_times",0),h=D()(o,"singleControlMaxShowTime",0),E=T.useMemo((function(){return!o.is_login&&v&&o.level>0}),[o.is_login,o.level,v]),y=T.useMemo((function(){return o.level&&o.level>0?o.level&&Wn.nh[o.level]:""}),[o.level]),S=T.useMemo((function(){return!(0,Vn.p)()&&p>=15&&c-_>h&&(0,zn.b0)(),p<15&&c-_>u}),[c,u,_,p,h]),I=T.useMemo((function(){return S&&E&&!o.is_login&&d&&f&&(3===m||4===m)}),[m,o.is_login,d,f,E,S]),L=(0,T.useMemo)((function(){return g()(Qn).call(Qn,(function(e){var t;if(((0,Yn.rZ)()||(0,Yn.b_)())&&"uhd"===e)return!1;var r=null==n?void 0:n[e];if(!r)return!1;var i=null===(t=function(e){if("string"==typeof(null==e?void 0:e.sdk_params))try{e.sdk_params=JSON.parse(null==e?void 0:e.sdk_params)}catch(n){}return null==e?void 0:e.sdk_params}(null==r?void 0:r.main))||void 0===t?void 0:t.VCodec;return!!("h265"!==i&&"bytevc1"!==i||(0,Bn.DT)())}))}),[n]),k=(0,Wn.HP)((0,r.Z)({streamData:n,localQuality:l,openIntercepted:E,interceptedQuality:y,defealutQuality:s?"sd":"origin",openTryWatching:I,isLogin:o.is_login},s&&{initQualities:L})),w=(0,a.Z)(k,2),Z=w[0],b=w[1];return{openIntercepted:E,interceptedQuality:y,openTryWatching:I,qualities:Z,startQuality:b}},Xn=t(14548),$n=t(74637),et=t(67402),nt=t(68595),tt=t.n(nt),rt=t(71432),it=t(21662),ot=t(84829),at=t(23132),lt=t(79565),ut=t(63635),ct=t(2670),st=t(40496),dt=t(89669),ft=function(){var e=(0,bn.Z)(),n=e.userStore.userInfo,t=e.giftStore,r=t.giftStatus,i=t.giftList,o=t.effectList,l=t.setGiftMessages,u=e.singletonStore.message,c=e.cameraStore.cameraInfo,s=D()(n,"sec_uid",""),d=(0,dt.j)(l),f=(0,a.Z)(d,2),v=f[0],m=f[1];(0,T.useEffect)((function(){return u.on("GiftMessage",(function(e){if(r){var n,t=g()(n=g()(e).call(e,(function(e){return!D()(e,"payload.repeat_end")}))).call(n,(function(e){var n=D()(e,"payload")||D()(e,"payload.msg",{}),t=(D()(n,"user.sec_uid")||D()(n,"user.id_str"))===s;return!((null==n||!n.display_for_self)&&t&&e.method===de.ZP.WEBCAST_GIFT_MESSAGE)}));if(t.length){var a=(0,st.TG)(t,i,o);m(a),v()}}}))}),[r,s,i,o,m,v,c]),(0,T.useEffect)((function(){return u.on("BindingGiftMessage",(function(e){if(r){var n,t=g()(n=g()(e).call(e,(function(e){return!D()(e,"payload.repeat_end")}))).call(n,(function(e){var n=D()(e,"payload")||D()(e,"payload.msg",{}),t=(D()(n,"user.sec_uid")||D()(n,"user.id_str"))===s;return!((null==n||!n.display_for_self)&&t&&e.method===de.ZP.WEBCAST_GIFT_MESSAGE)}));if(t.length){var a=(0,st.TG)(t,i,o);m(a),v()}}}))}),[r,s,i,o,m,v,c])},vt=t(72943),mt=t(80181),_t=function(e){return e.IM_API="im/fetch",e.ENTER_API="web/enter",e}({}),pt=function(e){var n=e.apis,t=e.roomId,i=e.cameraGroupId,o=e.cameraId,a=e.headers,l=e.saveVerify,u=e.isSavePlayer,c=(0,T.useRef)(!1),s=(0,bn.Z)(),d=s.singletonStore.message,f=s.feedStore.isActive;(0,T.useEffect)((function(){if(t&&d&&f){var e=function e(){(0,vt.p)().then((function(n){var t,r;n({success:function(){c.current=!0,location.reload()},next:"https://".concat(null===(t=window)||void 0===t||null===(r=t.location)||void 0===r?void 0:r.host),onClose:function(){c.current||x()((function(){e()}),2e3)}})}))},s=function(){d.start((0,r.Z)((0,r.Z)({room_id:t},o&&{sub_room_id:o}),i&&{group_id:i})),null==u||u(!0),null==l||l()},v=null;return v=He()((function(){var t,r=null!==(t=null==d?void 0:d.getimHeader())&&void 0!==t?t:{},i=r.fetchHeader,o=r.pushHeader;if(i&&i["x-tt-logid"])switch(n){case _t.ENTER_API:a?(clearInterval(v),a["x-vc-bdturing-parameters"]?(null==u||u(!1),null==d||d.pause(),(0,mt.PW)(a,s)):a["whale-decision"]&&(null==u||u(!1),null==d||d.stop(),e())):clearInterval(v);break;case _t.IM_API:i&&i["x-vc-bdturing-parameters"]?(clearInterval(v),d.pause(),(0,mt.PW)(i,s)):function(e,n){return"anonymous"===(null==e?void 0:e["Whale-Decision"])||"anonymous"===(null==e?void 0:e["whale-decision"])||"anonymous"===(null==n?void 0:n["Whale-Decision"])||"anonymous"===(null==n?void 0:n["whale-decision"])}(i,o)&&(clearInterval(v),d.pause(),e())}}),1e3),function(){v&&clearInterval(v)}}}),[t,a,d,f])},ht=function(){var e=(0,bn.Z)(),n=e.roomStore,t=n.roomInfo,r=n.setRoomUserStats,i=e.singletonStore.message;(0,T.useEffect)((function(){return i.on("RoomStatsMessage",(function(e){j()(e).call(e,(function(e){var n=e.method,i=e.payload;n&&i&&n===ae.lm.WEBCAST_ROOM_STATS_MESSAGE&&r(function(e,n){var t=D()(e,"room.room_view_stats.display_version",0),r=D()(e,"room.room_view_stats.display_value",0),i=D()(e,"room.room_view_stats",{}),o=Number(D()(n,"display_version","0")),a=D()(n,"incremental",!1),l=Number(D()(n,"display_version","0"));return o<t||a&&l<=r?i:{display_long:n.display_long,display_middle:n.display_middle,display_short:n.display_short,display_value:l,display_version:o,incremental:n.incremental,is_hidden:n.is_hidden}}(t,i))}))}))}),[t,r])},gt=t(84059),Et=t.n(gt),yt=t(19478),St=t.n(yt),It=t(58144),Lt=t.n(It),kt=t(37337),wt=function(){var e=(0,bn.Z)().roomStore.roomInfo;return(0,T.useMemo)((function(){var n,t;return Q.s?"":"web_share_link"===(null===(n=window)||void 0===n||null===(t=n.__INVISIBLE_QUERY__)||void 0===t?void 0:t.enter_from_merge)?e.enter_mode===ae.gE.APP?kt.R5.QRCODE:kt.R5.STREAM:kt.FO[D()(e,"room.stream_url.stream_orientation")]||""}),[e])},Zt=t(21160),bt=t(34547),Nt=t(20335),Ct=t(97876),Ot=t(87456),Pt=t(66787),Tt=function(){null===Ot.s||void 0===Ot.s||Ot.s.livePlayerInitStart()},At=function(){null===Ot.s||void 0===Ot.s||Ot.s.liveUrlLoadStart(),Ct.emit(Ct.EVENT.afterVideoInit)},Mt=function(){x()((function(){Ct.emit(Ct.EVENT.initImSDK)}),100),x()((function(){Ct.emit(Ct.EVENT.initNoticeSDK)}),500)},Dt=function(){null===Ot.s||void 0===Ot.s||Ot.s.liveUrlLoadEnd(),Ct.emit(Ct.EVENT.afterVideoPlayed),Mt()},Rt=function(){var e=(0,o.Z)(s().mark((function e(n,t,i,o){var a,l,u,c,d,f,v,m,_=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=_.length>4&&_[4]!==undefined&&_[4],v=t.data.data,m={room:f?(0,r.Z)((0,r.Z)({},null==v||null===(a=v.data)||void 0===a?void 0:a[0]),{},{stream_url:null==o||null===(l=o.room)||void 0===l?void 0:l.stream_url}):null==v||null===(u=v.data)||void 0===u?void 0:u[0],roomId:null==v?void 0:v.enter_room_id,web_rid:i,anchor:null==v?void 0:v.user,roomExtra:null==v?void 0:v.extra,enter_mode:null==v?void 0:v.enter_mode,qrcode_url:null==v?void 0:v.qrcode_url,partition_road_map:null==v?void 0:v.partition_road_map,web_stream_url:f?null==o?void 0:o.web_stream_url:null==v?void 0:v.web_stream_url},t.loginLead=null==t||null===(c=t.data)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.login_lead,e.next=6,(0,Nt.S)(n,t,m,undefined,f);case 6:return e.next=8,(0,Pt.V)(n);case 8:case"end":return e.stop()}}),e)})));return function(n,t,r,i){return e.apply(this,arguments)}}(),xt=t(67330),Vt=t(56920),Ft=t(669),Ut=function(e){var n,t,i=e.enterRoomApi,l=e.saveVerify,u=e.isSavePlayer,c=e.isLogPlay,d=e.isPaidLive,f=e.viewType,v=(e.onCameraChange,e.liveSsrRelativeRoom),_=e.updateStreamAndCameraInfo,p=e.liveNewDurationLogParams,h=e.playerCoverText,g=(0,T.useRef)(0),E=(0,T.useRef)(0),y=(0,T.useRef)(0),S=(0,T.useRef)(!1),L=(0,T.useRef)(!1),k=(0,T.useState)(),w=(0,a.Z)(k,2),Z=w[0],b=w[1],N=(0,T.useRef)(1),C=(0,T.useRef)(!1),O=(0,T.useRef)(0),P=(0,T.useRef)(0),A=(0,T.useRef)(h),M=(0,bn.Z)();A.current=h;var R=M.isLiveModal,V=M.roomStore,F=V.roomInfo,B=V.liveDetailPlayerHasPlay,G=V.pausePop,H=V.setRelativeRooms,K=V.isAsianGames,j=M.feedStore.isActive,W=M.eventStore,Y=W.playerEvent,z=W.ecomEvent,q=M.cameraStore,Q=q.cameraInfo,J=q.cameraInfoList,X=q.setCameraInfoList,$=(0,U.j)().roomEnterUserLogin,ee=void 0===$?"0":$,ne=F.roomId,te=void 0===ne?"":ne,re=F.web_rid,ie=Q||{},oe=ie.groupId,le=ie.cameraId,ue=wt();(0,T.useEffect)((function(){try{j&&localStorage.removeItem("liveDetailPlayerHasPlay")}catch(e){}}),[j]),(0,T.useEffect)((function(){try{j&&localStorage.setItem("liveDetailPlayerHasPlay",B?"true":"")}catch(e){}}),[B,j]),(0,T.useEffect)((function(){if(j){var e=function(){N.current="hidden"===document.visibilityState?0:1};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}}),[j]);var ce=(0,T.useCallback)((function(){var e,n,t=g.current,i=y.current,o=(null===(e=F.room)||void 0===e?void 0:e.status)!==ae.LV.END;try{n=localStorage.getItem("liveDetailPlayerHasPlay")||""}catch(s){}var a,l,u,c=t?o?m()()-t:i-t:0;c>0&&!A.current&&(null==Y||Y.liveNewDurationEvent((0,r.Z)((0,r.Z)({duration:c,anchor_id:D()(F,"anchor.id_str",""),room_id:te,stream_type:ue,has_play:B||n?1:0,enter_method_temai:null===(a=window)||void 0===a||null===(l=a.__INVISIBLE_QUERY__)||void 0===l?void 0:l.enter_method_temai,if_mini_window:(0,bt.DJ)()?1:0,is_visible:N.current},null!==(u=null==z?void 0:z.getLiveShoppingParams(F))&&void 0!==u?u:{}),p)))}),[F,te,ue,N.current,B,Y,z,p]),se=(0,T.useCallback)((function(){var e,n,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=E.current,o=y.current,a=(null===(e=F.room)||void 0===e?void 0:e.status)!==ae.LV.END;try{n=localStorage.getItem("liveDetailPlayerHasPlay")||""}catch(d){}var l,u,c,s=i?a?m()()-i:o-i:0;s>0&&!A.current&&(null==Y||Y.liveDurationEvent((0,r.Z)((0,r.Z)({duration:s,anchor_id:D()(F,"anchor.id_str",""),room_id:te,stream_type:ue,has_play:B||n?1:0,enter_method_temai:null===(l=window)||void 0===l||null===(u=l.__INVISIBLE_QUERY__)||void 0===u?void 0:u.enter_method_temai,if_mini_window:(0,bt.DJ)()?1:0,is_visible:N.current,audience_type:(0,at.Zi)(F)},null!==(c=null==z?void 0:z.getLiveShoppingParams(F))&&void 0!==c?c:{}),t)))}),[F,te,ue,N.current,B,Y,z]),de=(0,T.useCallback)((function(){var e,n=(null===(e=F.room)||void 0===e?void 0:e.status)!==ae.LV.END,t=y.current,r=P.current;O.current&&(P.current=n?r+m()()-O.current:r+t-O.current),null==Y||Y.liveUserPauseDuration({duration:P.current,anchor_id:D()(F,"anchor.id_str",""),room_id:te})}),[P.current]),fe=(0,T.useCallback)(St()((function(){var e=g.current;O.current&&(g.current=m()());var n=y.current;S.current=!0;try{var t,r=(null===(t=F.room)||void 0===t?void 0:t.status)!==ae.LV.END;c.current&&(se(),ce()),de(),null==Y||Y.liveRoomDurationEvent({duration:e?r?m()()-e:n-e:0,stream_type:ue}),r&&(0,ot.jL)(te)}catch(i){}}),2e3,{leading:!0,trailing:!1}),[te,null===(n=F.room)||void 0===n?void 0:n.status,ue,O]),ve=(0,T.useRef)(f);(0,T.useEffect)((function(){d&&f===Ft.ku.TRT_WATCH_FINISH&&ve.current!==Ft.ku.BAN&&ve.current!==f&&(se({watch_paidlive_status:"try"}),E.current=m()()),ve.current=f}),[d,f]);var me=(0,T.useCallback)((0,o.Z)(s().mark((function e(){var n,t,o,a,l,u,c,d,f,m,p,h,g,E,y,S,L,k,w,Z,N,C,O,P;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window&&window.__INVISIBLE_QUERY__||sessionStorage.getItem("route_params"),t=n&&n.enter_from_merge,e.next=4,(0,ot.el)((0,r.Z)({webRid:re,roomId:te,enterFromMerge:t,roomEnterUserLogin:ee,enterRoomApi:i},K&&(0,Bn.DT)()&&{devicePlatform:"pc"}));case 4:o=e.sent,a=o.data,l=o.headers,u=o.logId,b(l),R&&Rt(M,o,re,F,!0),K&&0===(null==a?void 0:a.status_code)&&(0,Bn.DT)()&&(m=D()(a,"data.data[0].episode_extra.camera_infos"),p=null==J||null===(c=I()(J))||void 0===c?void 0:c.call(J,(function(e){if(null!=e&&e.isMainCamera)return e;var n,t,i=(null==m||null===(n=Lt()(m))||void 0===n||null===(t=n.call(m,(function(n){return(null==n?void 0:n.camera_id_str)===(null==e?void 0:e.cameraId)})))||void 0===t?void 0:t.stream_info)||{};return(0,r.Z)((0,r.Z)({},e),{},{h265Stream:i})})),X(p),h=window.location.search,g=(0,xt.parse)((null==h||null===(d=h.split)||void 0===d||null===(f=d.call(h,"?"))||void 0===f?void 0:f[1])||"")||{},(E=null==g?void 0:g.camera_id)&&E===(null==Q?void 0:Q.cameraId)&&(N=null==p||null===(y=Lt()(p))||void 0===y?void 0:y.call(p,(function(e){return(null==e?void 0:e.cameraId)===(null==Q?void 0:Q.cameraId)})),C=(null==N||null===(S=N.h265Stream)||void 0===S||null===(L=S.live_core_sdk_data)||void 0===L||null===(k=L.pull_data)||void 0===k||null===(w=k.options)||void 0===w?void 0:w.qualities)||[],O=null==C||null===(Z=Lt()(C))||void 0===Z?void 0:Z.call(C,(function(e){return"h265"===(null==e?void 0:e.v_codec)||"bytevc1"===(null==e?void 0:e.v_codec)})),N&&(0,Bn.Bp)()&&Boolean(O)&&(ce(),null==_||_(N)))),v===Vt.$j.Off&&(P=D()(a,"data.similar_rooms",[]),Et()((function(){H(null==P?void 0:I()(P).call(P,(function(e){return(0,r.Z)((0,r.Z)({},e),{},{room:(0,at.C_)(e.room),request_id:u})})))}),8e3));case 10:case"end":return e.stop()}}),e)}))),[te,re,F,M]);pt({apis:_t.ENTER_API,roomId:te,cameraGroupId:oe,cameraId:le,headers:Z,saveVerify:l,isSavePlayer:u}),(0,T.useEffect)((function(){var e;j&&(null===(e=F.room)||void 0===e?void 0:e.status)===ae.LV.END&&(y.current=m()())}),[null===(t=F.room)||void 0===t?void 0:t.status,j]),(0,T.useEffect)((function(){var e;j&&((null===(e=F.room)||void 0===e?void 0:e.status)!==ae.LV.END&&(g.current=m()(),E.current=m()()),me())}),[j]);return(0,Zt.Y)((function(){!g.current||G||L.current||(ce(),g.current=m()())}),1e4,[G,ce]),(0,T.useEffect)((function(){j&&x()((function(){window.__INVISIBLE_QUERY__&&(null==Y||Y.liveEnterRoomEvent(ue))}),500)}),[ue,j]),(0,T.useEffect)((function(){if(j)return"undefined"!=typeof window&&window.addEventListener("beforeunload",fe),function(){"undefined"!=typeof window&&window.removeEventListener("beforeunload",fe),S.current||fe()}}),[fe,j]),{playerStatusupdateEnterTime:function(e){L.current=e,C.current!==e&&(g.current=m()(),C.current=e,e?O.current=m()():(P.current=O.current?P.current+m()()-O.current:0,O.current=0))},liveNewDuration:ce}},Bt=t(32270),Gt=t.n(Bt),Ht=t(68964),Kt=t(37884),jt=t(35039),Wt=t(57349),Yt=function(){var e=(0,bn.Z)(),n=e.roomStore,t=n.roomInfo,r=n.longtouchShow,a=n.setLongtouchList,l=n.longtouchList,u=e.feedStore.isActive,c=e.singletonStore,d=c.message,f=c.container,v=(0,T.useCallback)((function(){Q.s||r&&(0,jt.FI)()&&(0,o.Z)(s().mark((function e(){var n,r,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ot.yX)(D()(t,"room.id_str",""),(0,lt.Ui)());case 2:if(200!==(n=e.sent).status||!n.data){e.next=9;break}if(i=n.data.data,0===(null==(o=null==i?void 0:i.top_right)?void 0:o.container_type)){e.next=8;break}return e.abrupt("return");case 8:a(null!==(r=null==o?void 0:o.banner_list)&&void 0!==r?r:[]);case 9:case"end":return e.stop()}}),e)})))()}),[r,a,t]);(0,T.useEffect)((function(){return null==d?void 0:d.on("InRoomBannerMessage",(function(e){j()(e).call(e,(function(e){var n=e.method,t=e.payload;if(n&&t&&t.position===Wt.dae.TOP_RIGHT){null==f||f.emit("H5_roomStatusChange",{type:"refresh",data:t.extra});try{var r=JSON.parse(t.extra);if(r._type===Ht.V.ADD||r._type===Ht.V.ADD_WITH_REFRESH){var o,u,c=JSON.parse(null!==(o=null==r?void 0:r.item_data)&&void 0!==o?o:"{}"),s=(0,Kt.o)(c);if(!Lt()(l).call(l,(function(e){var n=(0,Kt.o)(e);return s.key===n.key})))a(p()(u=[]).call(u,(0,i.Z)(l),[c]))}if(r._type===Ht.V.DELETE){var d=Gt()(l,(function(e){var n;return JSON.parse(null!==(n=null==e?void 0:e.extra)&&void 0!==n?n:"{}").id===r.unique_key}));a(d)}for(var v in r)"item_data"!==v&&"item_id"!==v&&"_position"!==v&&"_type"!==v&&""!==v&&(null==f||f.emit("".concat(v,"_roomMessageChange"),{type:"refresh",data:r[v]}),null==f||f.emit("".concat(v,"_statusChange"),{type:"refresh",data:r[v]}))}catch(m){}}}))}))}),[l,a,f]),(0,T.useEffect)((function(){return d.on("InRoomBannerEvent",(function(e){j()(e).call(e,(function(e){var n,t=e.method,i=e.payload;if(t&&i&&r&&(0,jt.FI)()){var o=i.data,l=null==o?void 0:o.top_right;0===Number(null==l?void 0:l.container_type)&&a((0,je._0)(null!==(n=null==l?void 0:l.banner_list)&&void 0!==n?n:[]))}}))}))}),[a,r]),(0,T.useEffect)((function(){return d.on("InRoomBannerRefreshMessage",(function(e){j()(e).call(e,(function(e){var n=e.method,t=e.payload;n&&t&&(t.position===Wt.dae.TOP_RIGHT&&v())}))}))}),[v]),(0,T.useEffect)((function(){u&&v()}),[v,u])},zt=t(65364),qt=function(){var e=(0,bn.Z)(),n=e.giftStore,t=n.setGiftTccStatus,r=n.setRechargeTccStatus,i=e.audienceStore.setAudienceTccStatus,a=e.pkStore.setPKTccStatus,l=e.fansClubStore.setFansClubTccStatus,u=e.linkmicStore.setChoosePeopleShowTCC,c=e.feedStore.isActive,d=e.roomStore,f=d.setLongtouchShowTcc,v=d.setUsePageUrlBannerId;(0,T.useEffect)((function(){try{(0,o.Z)(s().mark((function e(){var n,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,zt.ZP)({service_name:"webcast.douyin.live_pc",key:"gift_config"});case 2:n=e.sent,i=D()(n,"gift_status",!1),o=D()(n,"recharge_status",!1),t(i),r(o);case 7:case"end":return e.stop()}}),e)})))()}catch(e){}}),[c]),(0,T.useEffect)((function(){try{(0,o.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,zt.ZP)({service_name:"webcast.douyin.live_pc",key:"pk_config"});case 2:n=e.sent,t=D()(n,"pk_status",!1),a(t);case 5:case"end":return e.stop()}}),e)})))()}catch(e){}}),[c]),(0,T.useEffect)((function(){try{(0,o.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,zt.ZP)({service_name:"webcast.douyin.live_pc",key:"audience_config"});case 2:n=e.sent,t=D()(n,"audience_status",!1),i(t);case 5:case"end":return e.stop()}}),e)})))()}catch(e){}}),[c]),(0,T.useEffect)((function(){try{(0,o.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,zt.ZP)({service_name:"webcast.douyin.live_pc",key:"fans_club_config"});case 2:n=e.sent,t=D()(n,"fans_status",!1),l(t);case 5:case"end":return e.stop()}}),e)})))()}catch(e){}}),[c]),(0,T.useEffect)((function(){try{(0,o.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,zt.ZP)({service_name:"webcast.douyin.live_pc",key:"choose_peoples_info"});case 2:n=e.sent,t=D()(n,"choose_people_show",!1),u(t);case 5:case"end":return e.stop()}}),e)})))()}catch(e){}}),[c]),(0,T.useEffect)((function(){try{(0,o.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,zt.ZP)({service_name:"webcast.douyin.live_pc",key:"banner"});case 2:n=e.sent,f(D()(n,"long_touch.long_touch_show",!1)),v(D()(n,"long_touch.use_page_url_banner_id",[]));case 5:case"end":return e.stop()}}),e)})))()}catch(e){}}),[c])},Qt=t(97753),Jt=t(83901),Xt=t(71116),$t=t(93334),er=t(94189),nr=t(16470),tr=t(44909),rr=t(65902),ir=t(67161),or=t(19672),ar=t.n(or);function lr(){return lr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},lr.apply(this,arguments)}var ur,cr=function(e){return T.createElement("svg",lr({width:26,height:26,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),kn||(kn=T.createElement("path",{d:"M16.317 18.731a1.393 1.393 0 01-1.97 0L9.29 13.675a1.393 1.393 0 010-1.97l.011-.011 5.045-5.045a1.393 1.393 0 011.97 1.97l-4.072 4.071 4.072 4.071a1.393 1.393 0 010 1.97z",fill:"#fff",opacity:.7})))};function sr(){return sr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},sr.apply(this,arguments)}var dr,fr,vr=function(e){return T.createElement("svg",sr({width:26,height:26,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ur||(ur=T.createElement("path",{d:"M9.684 18.731a1.393 1.393 0 001.97 0l5.055-5.056a1.393 1.393 0 000-1.97l-.011-.011-5.045-5.045a1.393 1.393 0 10-1.97 1.97l4.072 4.071-4.071 4.071a1.393 1.393 0 000 1.97z",fill:"#fff",opacity:.7})))},mr=t(56707),_r=t(6316),pr=t(12361),hr=t(90979),gr=t(42044),Er=function(e,n){var t,r=D()(e,"roomId");if(r){if(null===(t=window)||void 0===t||!t.localStorage)return!1;try{var i,o,a=null===(i=localStorage)||void 0===i?void 0:i.getItem("playRoom"),l=null==a?void 0:Ie()(a).call(a,r);if("get"===n)return l!==undefined&&l>-1;if("set"===n){var u,c,s;if(a)null===(u=localStorage)||void 0===u||u.setItem("playRoom",p()(c="".concat(a,",")).call(c,r));else null===(s=localStorage)||void 0===s||s.setItem("playRoom","".concat(r));return!1}"del"===n&&(null===(o=localStorage)||void 0===o||o.setItem("playRoom","".concat(r)))}catch(d){return!1}}},yr=t(90229),Sr=t(99759),Ir=t(93341),Lr=t(92267),kr=t(12661),wr=function(e){var n=e.toolbarData,i=void 0===n?{}:n,l=e.threshold,u=(0,T.useState)(!1),c=(0,a.Z)(u,2),d=c[0],f=c[1];return(0,T.useEffect)((function(){(0,o.Z)(s().mark((function e(){var n,o,a,u,c,d,v,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Boolean(null==i||null===(n=i.entrance_list)||void 0===n?void 0:Lt()(n).call(n,(function(e){return e.component_type===Ir.Ls.Cart})))&&l){e.next=3;break}return e.abrupt("return");case 3:return(0,kr.Ux)({biz:kr.$_.DOUYIN_WEB_LIVE}),o=null,e.next=7,t.e(5594).then(t.bind(t,35594));case 7:return a=e.sent,u=a.PylonStrategy,c=a.EScene,d=new u({biz:kr.$_.DOUYIN_WEB_LIVE}),v={weight:[.1,.7,1],threshold:l||.1},m=d.inference({scene:c.EcomPopCard,abConfig:v}),o=x()((function(){var e=d.getFeatures(c.EcomPopCardRptFeature);Lr.i.sendLog("ecomPopcardAiFeature",(0,r.Z)((0,r.Z)({},e),{},{is_hit:m}))}),3e3),f(m),e.abrupt("return",(function(){o&&clearTimeout(o)}));case 17:case"end":return e.stop()}}),e)})))()}),[l]),{isHit:d}},Zr=t(1821),br=t.n(Zr),Nr=t(11766),Cr=t.n(Nr),Or=t(92428),Pr=t(74584),Tr=t(92312),Ar=t(78384),Mr=t(24178),Dr=function(e){var n=0;if(document.selection){e.focus();var t=document.selection.createRange();t.moveStart("character",-e.value.length),n=t.text.length}else(e.selectionStart||0===e.selectionStart)&&(n="backward"===e.selectionDirection?e.selectionStart||0:e.selectionEnd||0);return n},Rr=function(e,n){if(null!==e)if(e.createTextRange){var t=e.createTextRange();t.move("character",n),t.select()}else e.selectionStart?(e.focus(),e.setSelectionRange(n,n)):e.focus()},xr={comment:"wfkTqoeZ",text:"gXq8rrt1",fixed_text:"T_WP14UH",emoji_icon:"dhCFxYdI",submit:"lXFPO2Hg",fixed_chat:"cc2CTOjH",optimizeAb:"rQuMT7ji",no_login:"sFV8NGdX",login:"oMPVGXLF"};function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Vr.apply(this,arguments)}var Fr,Ur=function(e){return T.createElement("svg",Vr({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),dr||(dr=T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 30C23.851 30 29 24.851 29 18.5S23.851 7 17.5 7 6 12.149 6 18.5 11.149 30 17.5 30zm-5.16-13.883a1.16 1.16 0 001.64 1.64l2.395-2.394v8.838a1.16 1.16 0 002.321 0v-8.839l1.028 1.028 1.368 1.368a1.16 1.16 0 101.64-1.641l-4.219-4.22a1.382 1.382 0 00-1.954 0l-4.22 4.22h.001z",fill:"#FE2C55"})),fr||(fr=T.createElement("path",{d:"M12.34 16.117a1.16 1.16 0 001.64 1.64l2.395-2.394v8.838a1.16 1.16 0 002.321 0v-8.839l1.028 1.028 1.368 1.368a1.16 1.16 0 101.64-1.641l-4.219-4.22a1.382 1.382 0 00-1.954 0l-4.22 4.22h.001z",fill:"#fff"})))};function Br(){return Br=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Br.apply(this,arguments)}var Gr,Hr=function(e){return T.createElement("svg",Br({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Fr||(Fr=T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 30C23.851 30 29 24.851 29 18.5S23.851 7 17.5 7 6 12.149 6 18.5 11.149 30 17.5 30zm-5.16-13.883a1.16 1.16 0 001.64 1.64l2.395-2.394v8.838a1.16 1.16 0 002.321 0v-8.839l1.028 1.028 1.368 1.368a1.16 1.16 0 101.64-1.641l-4.219-4.22a1.382 1.382 0 00-1.954 0l-4.22 4.22h.001z",fill:"#fff",fillOpacity:.5})))};function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Kr.apply(this,arguments)}var jr,Wr=function(e){return T.createElement("svg",Kr({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Gr||(Gr=T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27 18a9 9 0 11-18 0 9 9 0 0118 0zm-9 11c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm-2-13.5c0 1.105-.672 2-1.5 2s-1.5-.895-1.5-2 .672-2 1.5-2 1.5.895 1.5 2zm5.5 2c.828 0 1.5-.895 1.5-2s-.672-2-1.5-2-1.5.895-1.5 2 .672 2 1.5 2zM18 22.03c-1.657 0-3-.96-3-2.143 0-1.183 6-1.183 6 0 0 1.184-1.343 2.143-3 2.143z",fill:"#fff",fillOpacity:.5})))},Yr=(0,Tr.r)((function(e){var n,t=e.onSend,r=e.isLogin,i=e.isIframe,o=e.activity,l=(0,bn.Z)(),u=l.roomStore.emojiList,c=l.eventStore.chatEvent,s=T.useState(""),d=(0,a.Z)(s,2),f=d[0],v=d[1],m=T.useRef(!1),_=T.useRef(null),p=(0,Pr.n)().player,h=T.useState(!1),g=(0,a.Z)(h,2),E=g[0],y=g[1],S=(0,U.j)().liveWatchOptimize,I=(void 0===S?0:S)===Vt.PX.On,L=(0,Ar.fV)().os,k=T.useCallback((function(e){var n=e.target.value;v(n)}),[]),w=function(){i?(0,Or.dn)({headerText:"\u767b\u5f55\u540e\u5373\u53ef\u53c2\u4e0e\u4e92\u52a8"}):(0,vt.p)().then((function(e){var n,t;o&&p.exitFullscreen(),e({headerText:"\u767b\u5f55\u540e\u5373\u53ef\u53c2\u4e0e\u4e92\u52a8",success:function(){window.location.reload()},next:"https://".concat(null===(n=window)||void 0===n||null===(t=n.location)||void 0===t?void 0:t.host)})}))},Z=T.useCallback((function(){if(!r)return p.exitFullscreen(),void w();f&&""!==br()(f).call(f)&&t&&t(f),v("")}),[t,r,f,p]),b=T.useCallback((function(e){"Enter"!==e.key||m.current||(e.preventDefault(),Z())}),[Z]),N=T.useCallback((function(){m.current=!0}),[]),C=T.useCallback((function(){m.current=!1}),[]),O=T.useCallback((function(){"Windows"===L&&(null==p||p.focus({isLock:!0}))}),[]),P=T.useCallback((function(){"Windows"===L&&(null==p||p.focus({isLock:!1}))}),[]),A=T.useCallback((function(e){if(y(!1),_.current.focus(),!((f+e.display_name).length>50)){var n=Dr(_.current);_.current.value=f.substring(0,n)+e.display_name+f.substring(n),v(_.current.value),Rr(_.current,n+e.display_name.length)}}),[f,50]),M=T.useCallback((function(e){var n=/\[[^\[\]\n]*?]$/,t=Dr(_.current),r=f.substring(0,t),i=Cr()(r).call(r,"["),o=Cr()(r).call(r,"]"),a=f.substring(t,f.length),l=i>o&&-1!==Ie()(a).call(a,"]"),u=n.test(r)||l;if(-1!==Ie()(a).call(a,"]")&&"]"!==f[t-1]&&(t=Ie()(a).call(a,"]")+t+1),"Backspace"===e.key&&u){e.preventDefault(),e.stopPropagation();var c=f.substring(0,t).replace(n,"");_.current.value=c+f.substring(t),v(_.current.value),Rr(_.current,c.length)}else"Enter"!==e.key||m.current||(e.preventDefault(),Z())}),[f,_.current]);return r?T.createElement("div",{className:Zn()(xr.comment,(n={},(0,H.Z)(n,xr.activity,o),(0,H.Z)(n,xr.optimizeAb,I),n)),onKeyDown:function(e){return e.stopPropagation()}},T.createElement("textarea",{className:xr.text,ref:_,maxLength:50,value:f,onChange:k,placeholder:"\u4e0e\u5927\u5bb6\u4e92\u52a8\u4e00\u4e0b...",onFocus:O,onBlur:P,onKeyDown:I?M:b,onCompositionStart:N,onCompositionEnd:C}),I?T.createElement(T.Fragment,null,T.createElement(Wr,{className:xr.emoji_icon,onClick:function(){y((function(e){return!e}))}}),f?T.createElement(Ur,{onClick:Z,className:xr.submit}):T.createElement(Hr,{className:xr.submit}),T.createElement(Mr.Z,{className:Zn()("webcast-chatroom___emoji-panel",{hidden_emoji:!E}),emojiList:u,showEmoji:E,onEmojiClick:A,emojiTea:c})):T.createElement("div",{className:xr.submit,onClick:Z},"\u53d1\u9001")):T.createElement("div",{className:xr.no_login},"\u9700\u5148",T.createElement("span",{className:xr.login,onClick:w},"\u767b\u5f55"),"\uff0c\u624d\u80fd\u5f00\u59cb\u804a\u5929")})),zr=t(58075),qr=t(91615),Qr=t(49915),Jr=t(8084),Xr=t(34590),$r=t(51078),ei=t(95138),ni="sZpq_8QT",ti="uX09Cntd",ri="E6Ya935f",ii="mC7Tdutu",oi=(0,Tr.r)((0,J.Pi)((function(e){var n,t=e.className,r=e.isIframe,i=(0,bn.Z)(),o=i.roomStore,a=o.roomInfo,l=o.setFollowStatus,u=i.userStore.userInfo,c=i.eventStore.userEvent,s=(0,Pr.n)().player;return T.createElement("div",{className:Zn()(ni,t)},T.createElement("div",{className:ti},T.createElement("a",{className:"anchor-avatar-follow",href:globalThis.xssNamespace.douyin_web.filterUrl(p()(n="//".concat((0,zr.iE)().VIDEO_DOMAIN,"/user/")).call(n,D()(a,"anchor.sec_uid","")),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),target:"_blank",rel:"noreferrer"},T.createElement($r.q,{type:"extraSmall",src:globalThis.xssNamespace.douyin_web.filterUrl(D()(a,"anchor.avatar_thumb.url_list[0]",""),null,{logType:"js.href/src",mode:"black",reportOnly:!1})})),T.createElement("div",{className:"".concat(ri," nickname")},D()(a,"anchor.nickname",""))),T.createElement(Jr.Z,{onClick:function(){return!u.id_str&&s.exitFullscreen()},channel_id:qr.RN.FULL_SCREEN,className:"".concat(ii," anchor-follow-btn"),size:ei.qE.normal,followStatus:D()(a,"anchor.follow_info.follow_status",Qr.E.INNOCENT),isLogin:Boolean(D()(u,"id_str","")),sec_user_id:D()(u,"sec_uid",""),sec_to_user_id:D()(a,"anchor.sec_uid",""),to_user_id:D()(a,"anchor.id_str",""),current_room_id:D()(a,"roomId",""),followCb:function(e){l(e),s.fullscreen&&Xr.F.info({text:(0,Jr.q)(e)?"\u5173\u6ce8\u6210\u529f":"\u53d6\u6d88\u5173\u6ce8\u6210\u529f",root:s.root})},isIframe:r,toast:!s.fullscreen,liveFollowEvent:null==c?void 0:c.liveFollowEvent,liveUnFollowEvent:null==c?void 0:c.liveUnFollowEvent,anchorId:D()(a,".room.id_str","")}))}))),ai=t(89884),li=t.n(ai),ui=t(26846),ci=t(61508),si=function(e){e.isVerifyed;var n=(0,bn.Z)(),t=n.roomStore,r=t.roomInfo,i=t.setNotSupportReason,o=n.linkmicStore,a=o.setIsPlayModeNotSupport,l=o.imLinkMicLayout,u=o.uiLayout,c=n.singletonStore.message,s=(0,Pr.n)().player,d=T.useCallback((function(){On.k.info("\u73a9\u6cd5\u9650\u5236",(0,te.ZN)(r)),a(!0),i(ae.Ly.MULTI_CONSUMER_LINE)}),[a,r]);T.useEffect((function(){var e,n=D()(r,"room.linker_detail.linker_ui_layout");ke()(e=[n,u]).call(e,(function(e){return function(e){var n;return!!y()(n=[13,14]).call(n,e)||e>=102&&e<=108}(e)}))&&d()}),[r,u]);var f=D()(r,"room.live_room_mode"),v=T.useCallback((function(e){if(100===e.code)try{var n,t,r,i=(new TextDecoder).decode(e.content),o=(0,ui.KR)(i);if(l===undefined)o&&o.ktv_sei&&(null==o||null===(n=o.ktv_sei)||void 0===n?void 0:n.scene)>0&&3!==(null==o||null===(t=o.ktv_sei)||void 0===t?void 0:t.scene)&&d();if(o&&o.app_data)li()();else null!=o&&null!==(r=o.source)&&void 0!==r&&y()(r).call(r,"TTLiveSDK")&&f===ae.ke.AUDIO&&d()}catch(a){}}),[d,l,f]);return T.useEffect((function(){return null==s||s.on(ci.SEI_PARSED,v),function(){null==s||s.off(ci.SEI_PARSED,v)}}),[s,v]),T.useEffect((function(){var e=D()(r,"room.linker_map",{}),n=D()(r,"room.linker_detail.linker_play_modes",[]),t=!1;(e[An.xs.Scene_AudioChatRoom]||e[An.xs.Scene_VideoChatRoom]||e[An.xs.Scene_VideoEqualRoom])&&j()(n).call(n,(function(e){e!==An.V0.LinkmicPlayMode_Teamfight&&e!==An.V0.LinkmicPlayMode_NormalPaidLinkmic||(t=!0)})),e[An.xs.Scene_AudioChatRoom]&&(y()(n).call(n,An.V0.LinkmicPlayMode_Teamfight)||y()(n).call(n,An.V0.LinkmicPlayMode_AudioChat_3x3_N_EMPTY))&&(t=!1),j()(n).call(n,(function(e){e===An.V0.LinkmicPlayMode_KTVSingingChallenge&&(t=!0)})),(y()(n).call(n,An.V0.LinkmicPlayMode_Teamfight)||y()(n).call(n,An.V0.LinkmicPlayMode_AudioChat_3x3_N_EMPTY))&&(t=!1),t&&d()}),[d,r]),T.useEffect((function(){return null==c?void 0:c.on("LinkmicProfitMessage",(function(e){j()(e).call(e,(function(e){var n=e.method,t=e.payload;if(n&&t){var r=t.msg_type;"string"==typeof t.msg_type&&(r=Number(t.msg_type)),7===r&&d()}}))}))}),[d,c]),T.useEffect((function(){return null==c?void 0:c.on("KtvChallengeConfigMessage",(function(e){j()(e).call(e,(function(e){var n=e.method,t=e.payload;n&&t&&"WebcastKtvChallengeConfigMessage"===n&&"1"===(null==t?void 0:t.switch_status)&&d()}))}))}),[d,c]),null},di=si;function fi(e){var n=(0,bn.Z)().eventStore.playerEvent,t=(0,Pr.n)().player,r=(0,T.useCallback)((function(t){switch(t.action){case"switch_danmu":null==n||n.liveDanmakuBtnClickEvent(!t.isOpen,e.logObj);break;case"switch_play_pause":null==n||n.livePlayBtnClickEvent(!t.paused,e.logObj);break;case"switch_fullscreen":null==n||n.liveFullScreenBtnEvent(t.fullscreen,e.logObj)}}),[e.logObj]);return(0,T.useEffect)((function(){return t.on(ci.USER_ACTION,r),function(){t.off(ci.USER_ACTION,r)}}),[r]),null}function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},vi.apply(this,arguments)}var mi=function(e){return T.createElement("svg",vi({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),jr||(jr=T.createElement("path",{d:"M24.932 16.444c0-4.687-3.89-8.444-8.634-8.444a8.679 8.679 0 00-7.207 3.79v-1.558a.99.99 0 00-1.98 0v4.038c0 .547.444.99.99.99h4.038a.99.99 0 000-1.98h-1.646c1.137-1.963 3.304-3.3 5.804-3.3 3.7 0 6.655 2.918 6.655 6.464 0 3.547-2.956 6.465-6.655 6.465-2.963 0-5.459-1.88-6.326-4.453a.99.99 0 00-1.876.633c1.138 3.38 4.39 5.8 8.202 5.8 4.746 0 8.635-3.758 8.635-8.445z",fill:"#fff"})))},_i=t(60494);var pi,hi=(0,Tr.r)((function(e){var n=(0,bn.Z)().eventStore.playerEvent,t=(0,Pr.n)().player,r=e.playerCoverText,i=St()((function(){window.location.reload()}),200),o=e.Icon;return T.createElement(_i.Z,{content:"\u5237\u65b0"},T.createElement("div",{onClick:function(){var o;r&&r===Xn.kx.KICK_OUT?i():(t.emit(Xn.Cw.REFRESH),t.retry(),null==n||null===(o=n.liveRefreshBtnClickEvent)||void 0===o||o.call(n,e.logObj))}},o?T.createElement(o,null):T.createElement(mi,null)))}));function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},gi.apply(this,arguments)}var Ei,yi=function(e){return T.createElement("svg",gi({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),pi||(pi=T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.75 8.5a2 2 0 00-2 2v11a2 2 0 002 2h12.5a2 2 0 002-2v-11a2 2 0 00-2-2H9.75zM15 11.25h-3.75a1 1 0 00-1 1V16h2v-2.75H15v-2zm5.75 9.5H17v-2h2.75V16h2v3.75a1 1 0 01-1 1z",fill:"#fff"})))};function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Si.apply(this,arguments)}var Ii=function(e){return T.createElement("svg",Si({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ei||(Ei=T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.75 10.5a2 2 0 012-2h12.5a2 2 0 012 2v11a2 2 0 01-2 2H9.75a2 2 0 01-2-2v-11zM14 15.75h-3.75v-2H13V11h2v3.75a1 1 0 01-1 1zm7.75.5H18a1 1 0 00-1 1V21h2v-2.75h2.75v-2z",fill:"#fff"})))},Li=t(65387);var ki=(0,Tr.r)((function(e){var n=e.onSwitch,t=e.on,r=void 0!==t&&t,i=e.IconOn,o=e.IconOff,l=e.hotKey,u=e.tipClassName,c=e.disableClick,s=void 0!==c&&c,d=e.btnDisableCallBack,f=(0,T.useState)(r),v=(0,a.Z)(f,2),m=v[0],_=v[1],p=(0,Pr.n)().player;(0,T.useEffect)((function(){_(r)}),[r]),(0,T.useEffect)((function(){if(p.usePluginHooks("pc","videoDbClick",(function(){return _((function(e){return n&&n(!e),!e})),!1})),l){var e=function(e){"KeyY"===e.code&&_((function(e){return e||(n&&n(!0),!0)}))},t=function(e){"Escape"===e.code&&_((function(e){return e?(n&&n(!1),!1):e}))};return window.addEventListener("keydown",e),window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("keydown",t)}}}),[l]);var h=(0,Bn.DT)()?"\u7a97\u53e3\u5168\u5c4f":"\u7f51\u9875\u5168\u5c4f";return T.createElement(_i.Z,{className:u,content:l?T.createElement(Li.Z,{btn:"Y",info:m?"\u9000\u51fa".concat(h):h}):h},T.createElement("div",{onClick:function(){var e;e=m,s?d&&(null==d||d({interact_name:"cssfullscreen"})):(_(!e),n&&n(!e))}},m?o&&T.createElement(o,null)||T.createElement(Ii,null):i&&T.createElement(i,null)||T.createElement(yi,null)))})),wi=t(46005),Zi="HVsy9AGp",bi="RLEJGPoq",Ni="N_GrBbeR",Ci=(0,Tr.r)((0,J.Pi)((function(e){var n=e.userCount,t=void 0===n?"":n,r=e.title,i=void 0===r?"":r,o=e.showUserCount,a=void 0!==o&&o,l=e.className;return T.createElement("div",{className:Zn()(Zi,l)},T.createElement("span",{className:bi},i),a&&T.createElement(wi.A,{className:Ni,count:t}))}))),Oi=(t(57385),t(71846)),Pi=t(26750),Ti=t(20479),Ai=t(92683),Mi=t(12181),Di=t(93845),Ri=t(46750),xi=t(61187),Vi=t(24927),Fi=t(30022),Ui=t(6404),Bi=t(13424),Gi=t(53734),Hi=t(54927),Ki=t(75422),ji=t(77641),Wi=t(45992),Yi=t(51365),zi=t(59676),qi=t(6120),Qi={player:"vBglP_gH",playerTheaterOn:"PPPgOxRy",livingPlayer:"tLRjpY1B",liveTitlePlugin:"bNdDEy7b",liveTitleImmersivePlugin:"P0Yh06cB",liveTitlePluginContainer:"z6oaniPk",liveAnchorFollowPlugin:"uLi3I6pi",liveCommentPlugin:"CesTJB9J",roomEndAction:"erLxO4LO",hybridContainerWrapper:"Dus7dWzW",hybridContainer:"jaTkqZro",hybridContainerClose:"PtM_GCPM",anchor:"koqj3Fqp",avatar:"gMRxTogm",nickname:"dGJ60hbc",hasGiftBar:"z1c8Gbmt",rightPanel:"rwIAv7rP",rightPanelTheaterOn:"otEqlUPz",toggle_chatroom:"fFdQzES8",isEnd:"mRuXk3JT"},Ji=t(97609),Xi=t.n(Ji),$i=t(56442),eo=t.n($i),no={container:"vAn04Nmf",toolbar:"vA2O6Eex",intercepted:"MMiQBiDV",isAsianGames:"cq4xPDj2",has4K:"FhdPkuRn",menu:"W9y7DBJW",tags:"nwjXESuF",loginbar:"xHAnz4fE",picked:"ETosY4yk",show:"NTcSq84o",hidden:"_XjLpZhD"},to={auto:"\u81ea\u52a8",origin:"\u539f\u753b",fhd:"1440P",uhd:"\u84dd\u5149",hd:"\u8d85\u6e05",sd:"\u9ad8\u6e05",ld:"\u6807\u6e05"},ro={uhd:"4K",hd:"\u8d85\u6e051080P",sd:"\u9ad8\u6e05720P",ld:"\u6807\u6e05480P"},io=function(e){return e[e.ao=0]="ao",e[e.ld=1]="ld",e[e.sd=2]="sd",e[e.hd=3]="hd",e[e.uhd=4]="uhd",e[e.fhd=5]="fhd",e[e.origin=6]="origin",e}(io||{}),oo=(0,J.Pi)((function(e){var n,t,r=e.qualityList,i=void 0===r?[]:r,o=e.quality,l=void 0===o?"":o,u=e.interceptedQuality,c=void 0===u?"":u,s=e.openIntercepted,d=void 0!==s&&s,f=e.player,v=e.qualityHandler,m=void 0===v?{}:v,_=e.openTryWatching,h=void 0!==_&&_,g=e.screenMode,E=void 0===g?"":g,S=e.streamOptions,L=void 0===S?{}:S,k=(0,bn.Z)(),w=k.userStore.userInfo,Z=k.streamStore,b=Z.leadingData,N=Z.setLocalQuality,C=k.eventStore.playerEvent,O=k.roomStore.isAsianGames,P=(0,T.useState)(""),A=(0,a.Z)(P,2),M=A[0],R=A[1],x=(0,T.useState)(!1),V=(0,a.Z)(x,2),F=V[0],U=V[1],B=D()(b,"items.label_lead.lead_content.label",""),G=function(e){m&&null!=m&&m.setCurrentQuality&&(null==m||m.setCurrentQuality(e),O&&N(e),null==C||C.liveBitRateSwitchEvent({before_definition:kt.Kt[l],select_definition:kt.Kt[e],screen_model:E}))},H=function(e,n){if(O&&L){if("uhd"===e){var t,r,i,o,a,l=null==L||null===(t=L.qualities)||void 0===t||null===(r=Lt()(t))||void 0===r||null===(i=r.call(t,(function(n){return(null==n?void 0:n.sdk_key)===e})))||void 0===i?void 0:i.fps,u=null===(o=qn.uhd)||void 0===o?void 0:o[l>25?"high":"low"];return p()(a="".concat(u)).call(a,n?"\uff08\u9650\u514d\uff09":"")}return qn[e]}return to[e]},K=(0,T.useCallback)((function(e){try{if(h&&e!==l)return G(e),void Xr.F.info("\u5df2\u4e3a\u60a8\u5207\u6362\u5230".concat(H(e),"\u753b\u8d28"),f.root);if(e&&d&&c&&io[c]<=io[e])return null==f||f.exitFullscreen(),void(0,vt.p)().then((function(n){var t,r;n({success:function(){(0,zn.QX)(e),location.reload()},next:"https://".concat(null===(t=window)||void 0===t||null===(r=t.location)||void 0===r?void 0:r.host),headerText:"\u767b\u5f55\u540e\u514d\u8d39\u7545\u4eab\u8d85\u9ad8\u6e05\u753b\u8d28",enterMethod:"hd_live",clarity:e})}));if(e!==l)return G(e),void Xr.F.info("\u5df2\u4e3a\u60a8\u5207\u6362\u5230".concat(H(e),"\u753b\u8d28"),f.root)}catch(n){}}),[c,l,i,d,m,w.id_str]),j=(0,T.useState)(""),W=(0,a.Z)(j,2),Y=W[0],z=W[1],q=(0,T.useCallback)((function(e){e&&d&&c&&io[c]<=io[e]&&R(e),z(e)}),[c,l,i,d,m]),Q=T.useCallback((function(){U(!1)}),[]);T.useEffect((function(){return f&&(null==f?void 0:f.on)&&f.on(ci.PLAYER_BLUR,Q),function(){f&&(null==f?void 0:f.off)&&f.off(ci.PLAYER_BLUR,Q)}}),[Q,f]);var J=T.useCallback((function(){R(""),z("")}),[]);return T.createElement("div",{className:no.container,onMouseLeave:function(){return U(!1)}},T.createElement("div",{className:no.toolbar},T.createElement("div",{className:no.quality,onClick:function(){U(!F)},onMouseOver:function(){return U(!0)},"data-e2e":"quality"},H(l,!0)),T.createElement("div",{className:Zn()(no.menu,F?no.show:no.hidden,d?no.intercepted:"",O?no.isAsianGames:"",O&&y()(i).call(i,"uhd")?no.has4K:""),onMouseLeave:function(){return U(!1)}},T.createElement("div",{className:no.tags_container,"data-e2e":"quality-selector"},I()(n=Xi()(t=eo()(i).call(i)).call(t)).call(n,(function(e){return T.createElement("div",{className:no.tags,key:e,onMouseEnter:function(){return q(e)},onMouseLeave:function(){return J()},onClick:function(){return K(e)}},T.createElement("div",{className:Zn()(no.tips),style:{opacity:"0.7",color:M===e||e===l||Y===e?"#FE2C55":"#FFFFFF"},key:e},H(e,!0)),T.createElement("div",{className:no.loginbar,style:{display:M===e?"flex":"none"}},B))}))))))})),ao="EG9sGXCl",lo="dQGlMTIb",uo="cUapH58i",co="dSOSbGm_",so="g_MiqBrQ",fo="Tz51Tdcd",vo=null,mo=null,_o=null,po=function(e){return e[e.ao=0]="ao",e[e.ld=1]="ld",e[e.sd=2]="sd",e[e.hd=3]="hd",e[e.uhd=4]="uhd",e[e.fhd=5]="fhd",e[e.origin=6]="origin",e}(po||{}),ho=function(){return T.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T.createElement("g",{opacity:"0.4"},T.createElement("path",{d:"M15.8198 9.05053C16.0601 8.8102 16.0601 8.42056 15.8198 8.18024C15.5794 7.93992 15.1898 7.93992 14.9495 8.18024L12 11.1297L9.05053 8.18024C8.81021 7.93992 8.42057 7.93992 8.18024 8.18024C7.93992 8.42056 7.93992 8.8102 8.18024 9.05053L11.1297 12L8.18024 14.9495C7.93992 15.1898 7.93992 15.5794 8.18024 15.8198C8.42056 16.0601 8.8102 16.0601 9.05053 15.8198L12 12.8703L14.9495 15.8198C15.1898 16.0601 15.5794 16.0601 15.8198 15.8198C16.0601 15.5794 16.0601 15.1898 15.8198 14.9495L12.8703 12L15.8198 9.05053Z",fill:"white"})))},go=function(e){return e[e.BUBBLE_LEAD=1]="BUBBLE_LEAD",e[e.BAR_LEAD=2]="BAR_LEAD",e[e.TRYWATCH_LEAD=3]="TRYWATCH_LEAD",e}(go||{}),Eo=(0,J.Pi)((function(e){var n=e.openTryWatching,t=void 0!==n&&n,r=e.qualityHandler,i=void 0===r?null:r,o=e.defaultQuality,l=void 0===o?"":o,u=e.setWatchingFinished,c=void 0===u?function(){}:u,s=e.interceptedQuality,d=void 0===s?"":s,f=e.player,v=void 0===f?{}:f,_=e.roomId,p=void 0===_?"":_,h=e.openIntercepted,g=void 0!==h&&h,E=(0,bn.Z)(),S=E.streamStore,I=S.leadingData,L=(S.leadingShow,S.setLeadingShow),k=S.renderTime,w=S.singleControlTime,Z=E.eventStore.loginEvent,b=E.roomStore.isAsianGames?ro:to,C=D()(I,"is_login",!1),O=D()(I,"items.prompt_lead.is_leading",!1),P=D()(I,"clatity_guide",0),A=D()(I,"items.probation_lead.lead_content.trial_duration",0),M=D()(I,"last_show_time",0),R=D()(I,"total_show_times",0),V=D()(I,"singleControlMaxShowTime",0),F=(0,T.useState)(0),U=(0,a.Z)(F,2),B=U[0],G=U[1],H=(0,T.useRef)(A),K=(0,T.useState)(A),j=(0,a.Z)(K,2),W=j[0],Y=j[1],z=(0,T.useState)(!1),q=(0,a.Z)(z,2),Q=q[0],J=q[1],X=(0,T.useState)(!1),$=(0,a.Z)(X,2),ee=$[0],ne=$[1],te=(0,T.useState)(!1),re=(0,a.Z)(te,2),ie=re[0],oe=re[1],ae=(0,T.useState)(l),le=(0,a.Z)(ae,2),ue=le[0],ce=le[1],se=(0,T.useRef)(0),de=Ie()(Wn.nh).call(Wn.nh,d),fe=T.useMemo((function(){return!(0,Vn.p)()&&R>=15&&k-M>V&&(0,zn.b0)(),R<15&&k-M>w}),[k,w,M,R,V]),ve=function(){if(i&&null!=i&&i.getCurrentQuality){var e=i.getCurrentQuality();e&&po[e]<po[d]&&3===B&&(c(!0),oe(!1),vo&&clearInterval(vo),Xr.F.info("\u5df2\u4e3a\u60a8\u5207\u6362\u5230".concat(b[e],"\u753b\u8d28"),v.root)),ce(e)}},me=function(){if(i&&null!=i&&i.getCurrentQualityList)return i.getCurrentQualityList()},_e=(0,T.useRef)((function(){})),pe=function(){if(H.current>0)H.current=H.current-1;else{clearInterval(vo),H.current=0,oe(!1);var e=me(),n="";if(ar()(e)&&y()(e).call(e,d)){var t=N()(e).call(e,(function(e){return e===d}));n=t>=1?e[t-1]:e[0]}else ar()(e)&&e.length>0&&(n=e[0]);r=n,i&&null!=i&&i.setCurrentQuality&&(i.setCurrentQuality(r),ce(r)),c(!0),Xr.F.info("\u8bd5\u770b\u5b8c\u6210\uff0c\u5df2\u5207\u6362\u81f3".concat(b[n],"\u753b\u8d28"),v.root)}var r;Y(H.current)};(0,T.useEffect)((function(){_e.current=pe}));(0,T.useEffect)((function(){if(!C&&P&&g)switch(P){case 3:case 4:t&&G(3);break;case 1:case 2:O&&G(P);break;default:G(0)}}),[P,O,C,t,g]);var he=T.useCallback((function(){!Q&&fe&&(J(!0),(0,zn.b7)(m()()),(0,zn.WY)(),B===go.BUBBLE_LEAD?(_o&&clearTimeout(_o),_o=x()((function(){oe(!1)}),5e3)):B===go.TRYWATCH_LEAD&&(vo&&clearInterval(vo),vo=He()((function(){_e.current()}),1e3)))}),[Q,fe,B]),ge=T.useCallback((function(){ie&&(null==Z||Z.liveLeadingLoginCrashEvent(B===go.TRYWATCH_LEAD?"demo_play":B===go.BUBBLE_LEAD?"bubble_guide":"bar_guide","live_detail"),oe(!1))}),[ie,B]),Ee=T.useCallback((function(e){var n;String(null==e||null===(n=e.detail)||void 0===n?void 0:n.roomId)===String(p)&&ne(e.detail.visible)}),[p]);(0,T.useEffect)((function(){return document.addEventListener("webcast_qualityEvent",ve),document.addEventListener("webcast_abr_toastEvent",ge),document.addEventListener("webcast_yellowCartEvent",Ee),function(){document.removeEventListener("webcast_qualityEvent",ve),document.removeEventListener("webcast_abr_toastEvent",ge),document.removeEventListener("webcast_yellowCartEvent",Ee)}})),(0,T.useEffect)((function(){return v&&(null==v?void 0:v.on)&&v.on(ci.PLAY,he),function(){v&&(null==v?void 0:v.off)&&v.off(ci.PLAY,he)}}),[he]);var ye=T.useCallback((function(){var e=me();return e&&ar()(e)&&e.length>0?b[e[e.length-1]]:""}),[me]),Se=(0,T.useRef)(!1);(0,T.useEffect)((function(){Q&&ie&&!ee?(Se.current||(null==Z||Z.liveLeadingLoginShowEvent(B===go.TRYWATCH_LEAD?"demo_play":B===go.BUBBLE_LEAD?"bubble_guide":"bar_guide","live_detail",t&&de>=1?Wn.nh[de-1]:ue),Se.current=!0),mo&&clearInterval(mo),mo=He()((function(){se.current=se.current+1}),1e3),L(!0)):L(!1)}),[ie,Q,ee]),(0,T.useEffect)((function(){if(B){switch(B){case go.BUBBLE_LEAD:case go.BAR_LEAD:case go.TRYWATCH_LEAD:oe(!0)}return function(){vo&&clearInterval(vo)}}}),[B]);return!ee&&Q&&ie?T.createElement("div",{className:ao},T.createElement("div",{className:lo},T.createElement("div",{className:uo,onClick:function(){return oe(!1),void(null==Z||Z.liveLeadingLoginClickEvent(B===go.TRYWATCH_LEAD?"demo_play":B===go.BUBBLE_LEAD?"bubble_guide":"bar_guide","live_detail",t&&de>=1?Wn.nh[de-1]:ue,"close",1e3*Number(se.current)))}},T.createElement(ho,null)),T.createElement("div",{className:co},1===B||2===B?T.createElement("div",null,"\u5f53\u524d\u89c2\u770b",T.createElement("span",{className:so},b[ue]),"\u753b\u8d28\uff0c\u767b\u5f55\u5373\u53ef\u7545\u4eab",T.createElement("span",{className:so},ye()),"\u753b\u8d28"):null,3===B?T.createElement("div",null,b[ue],"\u53ef\u8bd5\u770b",T.createElement("span",{className:so},W),"s\uff0c\u767b\u5f55\u53ef\u65e0\u9650\u7545\u4eab",b[ue],"\u753b\u8d28"):null),T.createElement("div",{className:fo,onClick:function(){return B===go.BUBBLE_LEAD&&(oe(!1),_o&&clearTimeout(_o)),null==v||v.exitFullscreen(),null==Z||Z.liveLeadingLoginClickEvent(B===go.TRYWATCH_LEAD?"demo_play":B===go.BUBBLE_LEAD?"bubble_guide":"bar_guide","live_detail",t&&de>=1?Wn.nh[de-1]:ue,"login",1e3*Number(se.current)),void(0,vt.p)().then((function(e){var n,r;e({success:function(){var e=me(),n=e.length>=1?e[e.length-1]:e[0];(0,zn.QX)(n),location.reload()},next:"https://".concat(null===(n=window)||void 0===n||null===(r=n.location)||void 0===r?void 0:r.host),headerText:"\u767b\u5f55\u540e\u514d\u8d39\u7545\u4eab\u8d85\u9ad8\u6e05\u753b\u8d28",enterMethod:3===B?"demo_play":1===B?"bubble_guide":"bar_guide",clarity:t&&de>=1?Wn.nh[de-1]:ue})}))}},"\u7acb\u5373\u767b\u5f55"))):null})),yo="lymXIuIr",So=function(e){var n=e.messageFrom,t=(0,T.useState)(!1),r=(0,a.Z)(t,2),i=r[0],o=r[1],l=(0,T.useRef)(null);return(0,T.useEffect)((function(){(0,Bn.DT)()||"app"!==n||o(!0)}),[n]),(0,T.useEffect)((function(){return i&&(l.current=x()((function(){o(!1)}),3e3)),function(){clearTimeout(l.current)}}),[i]),i?T.createElement("div",{className:yo},T.createElement("p",null,"\u6b63\u5728\u64ad\u653e\u4ece\u624b\u673a\u7aef\u6253\u5f00\u7684\u89c6\u9891")):null},Io=(0,T.memo)(So),Lo=t(80497),ko=t(73555),wo=function(e){var n=(0,bn.Z)(),t=n.linkmicStore,r=t.enlargedSeatPostion,i=t.orderSingInfo,o=t.linkMicSeats,l=n.userStore.userInfo,u=n.eventStore.linkmicEvent,c=T.useRef(e),s=T.useState(!1),d=(0,a.Z)(s,2),f=d[0],v=d[1];T.useEffect((function(){c.current=e}),[e]);var m=function(){f&&(null==u||u.liveSdkLiveGuestEnlargeOver({play_mode:["request_song"],enlarge_user_id:null==l?void 0:l.id_str,enlarge_user_type:"guest"}))};T.useEffect((function(){return window.addEventListener("beforeunload",m),function(){window.removeEventListener("beforeunload",m)}}),[m]);var _=T.useMemo((function(){var e,n,t;return(null==l?void 0:l.id_str)===(null==o||null===(e=o[0])||void 0===e||null===(n=e.user)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.id_str)}),[l,o]);T.useEffect((function(){i&&(-1!==r?_&&!f?(ko.Ul.start(),null==u||u.liveSdkLiveGuestEnlargeStart({play_mode:["request_song"],enlarge_user_id:null==l?void 0:l.id_str,enlarge_user_type:"guest"}),v(!0)):!_&&f&&(null==u||u.liveSdkLiveGuestEnlargeOver({play_mode:["request_song"],enlarge_user_id:null==l?void 0:l.id_str,enlarge_user_type:"guest"}),v(!1)):f&&(null==u||u.liveSdkLiveGuestEnlargeOver({play_mode:["request_song"],enlarge_user_id:null==l?void 0:l.id_str,enlarge_user_type:"guest"}),v(!1)))}),[r,f])},Zo=function(e){var n,t,r=e.likeStatus,i=e.roomId,l=e.userInfo,u=e.isYellowCard,c=void 0!==u&&u,d=(0,bn.Z)(),f=d.roomStore,v=f.roomInfo,_=f.setRoomInfo,p=d.feedStore.isActive,h=d.eventStore.playerEvent,g=d.singletonStore.message,E=(0,T.useState)(!1),y=(0,a.Z)(E,2),S=y[0],L=y[1],k=(0,T.useState)(!1),w=(0,a.Z)(k,2),Z=w[0],b=w[1],N=(0,T.useState)(!1),C=(0,a.Z)(N,2),O=C[0],P=C[1],A=(0,T.useState)([]),M=(0,a.Z)(A,2),R=M[0],V=M[1],F=(0,T.useRef)(0),U=(0,T.useRef)(0),B=(0,T.useRef)(),G=function(e){var n=D()(l,"id");n&&(0,qr.vL)({room_id:i,count:F.current?F.current:1}).then((function(t){var r,i,o,a=t.data,l=t.headers;0!==(null==a?void 0:a.status_code)?(Xr.F.info(null!=a&&null!==(r=a.data)&&void 0!==r&&r.prompts?null==a||null===(i=a.data)||void 0===i?void 0:i.prompts:"\u60a8\u624b\u901f\u592a\u5feb\u4e86\uff0c\u8bf7\u4f11\u606f\u4e00\u4e0b"),U.current=m()(),F.current=0):(null==h||null===(o=h.liveLikeEvent)||void 0===o||o.call(h,e,n,F.current,null==l?void 0:l["x-tt-logid"]),U.current=m()(),F.current=0)}))};return(0,T.useEffect)((function(){(0,o.Z)(s().mark((function e(){var n,t,r,o,a,l,u,d,f,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:if(i){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(0,ot.fp)({room_id:i,scene:10});case 6:if(u=e.sent,d=u.data,f=null==d||null===(n=d.data)||void 0===n||null===(t=n.like_icon_info)||void 0===t?void 0:t.icons,v=null==d||null===(r=d.data)||void 0===r||null===(o=r.like_icon_info)||void 0===o||null===(a=o.component_related_icons)||void 0===a||null===(l=a[1])||void 0===l?void 0:l.icons,f||v){e.next=12;break}return e.abrupt("return");case 12:if(v&&c&&V(v),!f){e.next=17;break}V(f),e.next=18;break;case 17:return e.abrupt("return");case 18:case"end":return e.stop()}}),e)})))()}),[i,c,p]),(0,T.useEffect)((function(){if(p){var e=D()(r,"SpecialStyle.Like.UnableStyle",""),n=e.toString(2);null!=r&&r.Digg?(L(!0),0===e||""===e?(b(!0),P(!0)):e&&e>0&&(n&&Number(n[(null==n?void 0:n.length)-1])?(n.length>=1&&Number(n[n.length-2])?b(!0):b(!1),n.length>=2&&Number(n[n.length-3])?P(!0):P(!1)):(b(!1),P(!1)))):L(!1)}}),[null==r?void 0:r.Digg,null==r||null===(n=r.SpecialStyle)||void 0===n||null===(t=n.Like)||void 0===t?void 0:t.UnableStyle,p]),(0,T.useEffect)((function(){if(p)return null==g?void 0:g.on("LikeMessage",(function(e){I()(e).call(e,(function(e){var n,t=Number(D()(v,"like_count",0)),r=Number(null==e||null===(n=e.payload)||void 0===n?void 0:n.total);r>t&&(0,te.z)((function(){v.room.like_count=r,null==_||_(v)}))}))}))}),[v,_,p,g]),{icons:R,isLike:S,isClickLike:Z,isShowLike:O,userLike:function(e){clearTimeout(B.current),m()()-U.current>=2e3&&0!==F.current?(F.current=F.current+1,G(e)):(F.current=F.current+1,B.current=x()((function(){G(e)}),2e3))}}},bo=t(7028),No=t(67813),Co=t(79019),Oo=function(){var e=(0,bn.Z)(),n=e.linkmicStore.setFunctionType2,t=e.singletonStore.message;return T.useEffect((function(){return null==t?void 0:t.syncOn("LinkMicMethod",(function(e){var t=e.method,r=e.payload;if(t&&r&&Number(r.message_type)===Mn.iM.TYPE_TURNON){var i=r.function_type;n(i)}}))}),[t]),null},Po=t(17610),To=t(16016),Ao="cWrQR3Cg",Mo="QcnwN_pr",Do="jvgTbbnk",Ro="eqH5DNTl",xo=t(99699),Vo=t(64054),Fo=t(12042),Uo=t(12338),Bo=t(50799),Go=t(73293),Ho=function(e){return e[e.NULL=0]="NULL",e[e.DISLIKELIVE=3]="DISLIKELIVE",e[e.DISLIKECONTENT=1]="DISLIKECONTENT",e[e.DISLIKEANCHOR=2]="DISLIKEANCHOR",e}(Ho||{}),Ko=new(Je())([[Ho.DISLIKELIVE,"\u64cd\u4f5c\u6210\u529f\uff0c\u5c06\u51cf\u5c11\u76f4\u64ad\u63a8\u8350"],[Ho.DISLIKECONTENT,"\u64cd\u4f5c\u6210\u529f\uff0c\u5c06\u51cf\u5c11\u6b64\u7c7b\u76f4\u64ad\u63a8\u8350"],[Ho.DISLIKEANCHOR,"\u64cd\u4f5c\u6210\u529f\uff0c\u5c06\u51cf\u5c11\u6b64\u7c7b\u4e3b\u64ad\u63a8\u8350"]]),jo=function(e){return e.LIVE_DISLIKE_LIVE="liveDislikeLive",e.LIVE_DISLIKE_CONTENT="liveDislikeContent",e.LIVE_DISLIKE_ANCHOR="liveDislikeAnchor",e}(jo||{});function Wo(e){var n=e.target,t=(0,T.useState)(!1),r=(0,a.Z)(t,2),i=r[0],l=r[1],u=(0,T.useState)({x:0,y:0}),c=(0,a.Z)(u,2),d=c[0],f=c[1],v=(0,T.useState)({x:0,y:0}),m=(0,a.Z)(v,2),_=m[0],h=m[1],g=(0,T.useState)(),E=(0,a.Z)(g,2),y=E[0],S=E[1],L=(0,T.useRef)(null),k=(0,Po.Z)(),w=k.removeCurrentRoom,Z=k.type,b=(0,bn.Z)(),N=b.roomStore.roomInfo,C=b.userStore.userInfo,O=b.eventStore.basicEvent,P=(0,xo.Z)({roomId:D()(N,"roomId",""),userId:D()(C,"id_str",""),anchorSecUserId:D()(N,"anchor.sec_uid","")}).handleReportClick,A=(0,T.useCallback)((function(e){e.preventDefault(),l(!1),S(!1);var t=null==n?void 0:n.getBoundingClientRect(),r=t.x,i=t.y,o=t.right,a=t.bottom;o-e.pageX<224?(f({x:e.pageX-r-224,y:e.pageY-i}),h({x:e.pageX-r-456,y:e.pageY-i})):(f({x:e.pageX-r,y:e.pageY-i}),o-e.pageX<448?h({x:e.pageX-r-232,y:e.pageY-i}):h({x:e.pageX-r+232,y:e.pageY-i})),a-e.pageY<100?l(!1):l(!0)}),[n]),M=function(e){var n;null!==(n=L.current)&&void 0!==n&&n.contains(e.target)||l(!1)};(0,T.useEffect)((function(){return null==n||n.addEventListener("contextmenu",A),document.addEventListener("click",M,!0),function(){null==n||n.removeEventListener("contextmenu",A),document.removeEventListener("click",M,!0)}}),[n,A]);var R=(0,T.useMemo)((function(){var e,n,t,r,i,o=null!==(e=null==O?void 0:O.getEnterEventParams())&&void 0!==e?e:{},a=o.enter_method,l=void 0===a?"":a,u=o.enter_from_merge,c=void 0===u?"":u,s=p()(n=p()(t="?enter_method=".concat(l,"&enter_from_merge=")).call(t,c,"&event_page=live_detail&tab_name=")).call(n,(0,Bo.getTabName)());return p()(r=p()(i="//".concat((0,zr.iE)().VIDEO_DOMAIN,"/user/")).call(i,D()(N,"anchor.sec_uid",""))).call(r,s)}),[O,N]),x=(0,T.useMemo)((function(){var e,n,t;return p()(e=p()(n="".concat((0,To.Pe)(),"/")).call(n,D()(N,"web_rid",""),"?")).call(e,(0,xt.stringify)(null!==(t=window.__INVISIBLE_QUERY__)&&void 0!==t?t:{}))}),[N]),V=(0,T.useCallback)(function(){var e=(0,o.Z)(s().mark((function e(n){var t,r,i,o,a,l,u,c,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=Ho.NULL,e.t0=n,e.next=e.t0===jo.LIVE_DISLIKE_LIVE?5:e.t0===jo.LIVE_DISLIKE_CONTENT?7:e.t0===jo.LIVE_DISLIKE_ANCHOR?9:11;break;case 5:return r=Ho.DISLIKELIVE,e.abrupt("break",12);case 7:return r=Ho.DISLIKECONTENT,e.abrupt("break",12);case 9:return r=Ho.DISLIKEANCHOR,e.abrupt("break",12);case 11:return e.abrupt("return");case 12:return(0,lt.Ui)()&&(0,Vo.j$)({creative_id:(0,lt.V7)(),log_extra:(0,lt.u9)(),dislike_ad_type:"aweme_webcast",reason_id:r}),i=null!==(t=null==O?void 0:O.getEnterEventParams())&&void 0!==t?t:{},o=i.enter_from_merge,a=void 0===o?"":o,l=i.request_id,e.next=16,(0,Fo._)({owner_uid:D()(N,"anchor.id_str",""),request_id:l,room_id:D()(N,"roomId",""),enter_from_merge:a,enter_method:"live_cell",reason:r});case 16:u=e.sent,c=u.data,0===(null==(d=void 0===c?{}:c)?void 0:d.status_code)?(Uo.F.info(Ko.get(r)),(0,Go.zJ)({room_id:D()(N,"roomId",""),anchor_id:D()(N,"anchor.id_str",""),dislike_type:Ko.get(r)}),null==w||w()):(Uo.F.info("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),null==w||w()),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(n){return e.apply(this,arguments)}}(),[w,O,N]),F=(0,T.useMemo)((function(){var e=[{text:"\u4e3e\u62a5",key:"",handler:function(e){return P()}},{text:"\u8fdb\u5165\u76f4\u64ad\u95f4",key:"",handler:function(e){Ct.emit(Ct.EVENT.liveModalPlayerPause),window.open(x,"_blank","noopener")}},{text:"\u4e3b\u64ad\u4e3b\u9875",key:"",handler:function(e){Ct.emit(Ct.EVENT.liveModalPlayerPause),e.nativeEvent.stopImmediatePropagation(),window.open(R,"_blank","noopener")}}];return"recommend"===Z&&e.unshift({text:"\u4e0d\u611f\u5174\u8da3",key:"",handler:function(e){return S(!0)}}),e}),[P,x,R,Z]),U=(0,T.useMemo)((function(){return[{text:"\u4e0d\u60f3\u770b\u76f4\u64ad",handler:function(e){return V(jo.LIVE_DISLIKE_LIVE)}},{text:"\u4e0d\u60f3\u770b\u8fd9\u7c7b\u5185\u5bb9",handler:function(e){return V(jo.LIVE_DISLIKE_CONTENT)}},{text:"\u4e0d\u60f3\u770b\u8be5\u4e3b\u64ad",handler:function(e){return V(jo.LIVE_DISLIKE_ANCHOR)}}]}),[V]);return i&&T.createElement(T.Fragment,null,T.createElement("div",{className:Ao,style:{top:d.y,left:d.x},ref:L},I()(F).call(F,(function(e){return T.createElement("div",{className:Mo,onClick:e.handler,key:e.text},T.createElement("div",{className:Do},e.text),e.key&&T.createElement("div",{className:Ro},"\uff08",e.key,"\uff09"))}))),y&&T.createElement("div",{className:Ao,style:{top:_.y,left:_.x},ref:L},I()(U).call(U,(function(e){return T.createElement("div",{className:Mo,onClick:e.handler,key:e.text},T.createElement("div",{className:Do},e.text))}))))}var Yo,zo,qo=t(17612);function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Qo.apply(this,arguments)}var Jo=function(e){return T.createElement("svg",Qo({width:26,height:26,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Yo||(Yo=T.createElement("g",{filter:"url(#action_arrow_svg__filter0_d_1651_162618)"},T.createElement("path",{d:"M7.269 16.316a1.393 1.393 0 010-1.97l5.056-5.055a1.393 1.393 0 011.97 0l.011.011 5.045 5.045a1.393 1.393 0 11-1.97 1.97l-4.071-4.072-4.071 4.071a1.393 1.393 0 01-1.97 0z",fill:"#fff"}))),zo||(zo=T.createElement("defs",null,T.createElement("filter",{id:"action_arrow_svg__filter0_d_1651_162618",x:5.861,y:8.883,width:14.898,height:9.842,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},T.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),T.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),T.createElement("feOffset",{dy:1}),T.createElement("feGaussianBlur",{stdDeviation:.5}),T.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),T.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),T.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1651_162618"}),T.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_1651_162618",result:"shape"})))))},Xo=t(9909),$o="N6Y9JrQJ",ea="vw61gOLJ",na="OdqBjjGI",ta="qMCC4jim",ra=(0,J.Pi)((function(e){var n=e.className,t=(0,bn.Z)().feedStore,r=t.hasNext,i=t.hasPre,o=(0,Po.Z)(),a=o.onAction,l=o.disableScroll;return T.createElement("div",{className:Zn()($o,n)},T.createElement("div",{className:Zn()(ea,(0,H.Z)({},na,!i||l)),onClick:function(){return!l&&a("pre","click_button")}},T.createElement(Xo.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(Jo,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:26,height:26,viewBox:"0 0 26 26"})),T.createElement("div",{className:Zn()(ta,(0,H.Z)({},na,!r||l)),onClick:function(){return!l&&a("next","click_button")}},T.createElement(Xo.Z,{src:globalThis.xssNamespace.douyin_web.filterUrl(Jo,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),width:26,height:26,viewBox:"0 0 26 26"})))})),ia=t(353),oa=t(13971);function aa(){var e=(0,bn.Z)().eventStore.playerEvent,n=(0,Pr.n)().player,t=(0,U.j)().syncVolume,r=(0,T.useCallback)((function(){var r,i;if(0!==n.currentTime){0===(0,oa.$o)(ia.LocalStorageKeys.PLAYER_IS_MUTE)&&n.muted&&(0,oa.qQ)(ia.LocalStorageKeys.PREVIEW_IS_MUTE,1),(0,mr.w)(n.muted,t);var o=n.volume,a=(0,mr.T1)(t),l=(0,mr.rC)(t);null==e||e.volumeChanged({before_voice_value:l?0:Math.round(100*(null!=a?a:0)),voice_value:Math.round(100*(null!=o?o:0)),voice_status:n.muted?0:1,if_browser_limited:null!==(r=null===(i=window.__INVISIBLE_QUERY__)||void 0===i?void 0:i.if_browser_limited)&&void 0!==r?r:0}),0===o?(0,mr.w)(!0,t):(0,mr.n$)(Number(null!=o?o:.1),t)}}),[]);return(0,T.useEffect)((function(){n.muted=(0,mr.rC)(t);var i=n.getPlugin("volume");return i&&i.useHooks&&i.useHooks("muted_change",(function(){var r,i,o;if(0===n.volume){var a,l,u=(0,mr.T1)(t);return n.volume=u,(0,mr.w)(!1,t),null==e||e.volumeChanged({before_voice_value:Math.round(100*u),voice_value:0,voice_status:1,if_browser_limited:null!==(a=null===(l=window.__INVISIBLE_QUERY__)||void 0===l?void 0:l.if_browser_limited)&&void 0!==a?a:0}),!1}return x()((function(){(0,mr.w)(n.muted,t)}),50),null==e||e.volumeChanged({before_voice_value:0,voice_value:Math.round(100*(null!==(r=n.volume)&&void 0!==r?r:0)),voice_status:0,if_browser_limited:null!==(i=null===(o=window.__INVISIBLE_QUERY__)||void 0===o?void 0:o.if_browser_limited)&&void 0!==i?i:0}),!0})),n.on(ci.VOLUME_CHANGE,r),function(){n.off(ci.VOLUME_CHANGE,r)}}),[]),null}var la="nuKad04q",ua="FfcG_YS_",ca="Us74c0W3",sa="RNJc_IIU",da="Jt5M6RpH",fa="ByMdr9Wn",va="jfmUAPad",ma="gtAUKEfI",_a=t(70246),pa=t(13584),ha=t(38171),ga=t(21720),Ea=t(36543),ya=t(96164),Sa="__menu_container_className",Ia=function e(n){var t=n.menuList,r=void 0===t?[]:t,i=n.x,o=void 0===i?0:i,l=n.y,u=void 0===l?0:l,c=n.target,s=(0,T.useState)(-1),d=(0,a.Z)(s,2),f=d[0],v=d[1],m=(0,T.useRef)(null),_=function(){var e=null==c?void 0:c.getBoundingClientRect();e.x,e.y,e.right,e.bottom;return e.width-(o+162)-200<0?o-202:o+162},p=function(e){return u+40*e+12},h=function(e){m.current&&clearTimeout(m.current),m.current=x()((function(){v(-1)}),300)},g=(0,T.useMemo)((function(){return function(e){var n=e.children,t=e.x,r=e.y;return T.createElement("div",{style:{position:"absolute",left:t,top:r,zIndex:100},className:Sa,onMouseEnter:function(){m.current&&clearTimeout(m.current)},onMouseLeave:h},n)}}),[]);return(0,A.createPortal)(T.createElement("div",{className:Zn()(la,Sa),style:{left:o,top:u}},I()(r).call(r,(function(n,t){var r,i=T.createElement("div",{onClick:function(){n.handler&&n.handler()},key:t,className:ua,onMouseEnter:function(){!function(e){m.current&&clearTimeout(m.current),v(e)}(t)},onMouseLeave:h},T.createElement("div",{className:ca},n.icon&&T.createElement("img",{src:globalThis.xssNamespace.douyin_web.filterUrl(n.icon,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:sa}),T.createElement("div",null,n.title)),(null===(r=n.subMenu)||void 0===r?void 0:r.length)>0&&f===t&&(0,A.createPortal)(T.createElement(g,{x:_(),y:p(t)},T.createElement(e,{menuList:n.subMenu,target:c})),c),T.isValidElement(n.subItem)&&f===t&&(0,A.createPortal)(T.createElement(g,{x:_(),y:p(t)},n.subItem),c));return n.isLink?T.createElement("a",{href:globalThis.xssNamespace.douyin_web.filterUrl(n.href,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),download:n.attr},i):i}))),c)};function La(e){var n=e.target,t=(0,T.useState)(!1),r=(0,a.Z)(t,2),i=r[0],l=r[1],u=(0,T.useState)({x:0,y:0}),c=(0,a.Z)(u,2),d=c[0],f=c[1],v=(0,ga.o)(),m=v.downloadHref,_=v.downloadAttr,p=(0,bn.Z)(),h=p.roomStore.roomInfo,g=p.userStore.userInfo,E=function(e){var n=e.userId,t=(0,T.useState)(!1),r=(0,a.Z)(t,2),i=r[0],l=r[1],u=(0,T.useState)(!1),c=(0,a.Z)(u,2),d=c[0],f=c[1];return(0,T.useEffect)((function(){(0,o.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,ya.D5)()||(0,Bn.DT)()){e.next=9;break}if(!n){e.next=8;break}return e.next=4,(0,Ea.Y)();case 4:t=e.sent,l(!t),e.next=9;break;case 8:d&&l(!0);case 9:case"end":return e.stop()}}),e)})))()}),[n,d]),(0,T.useEffect)((function(){var e=x()((function(){f(!0)}),5e3);return function(){clearTimeout(e)}}),[]),{isShowDown:i}}({userId:null==g?void 0:g.id_str}),y=E.isShowDown,S=(0,xo.Z)({roomId:D()(h,"roomId",""),userId:D()(g,"id_str",""),anchorSecUserId:D()(h,"anchor.sec_uid","")}).handleReportClick,I=(0,T.useCallback)((function(e){e.preventDefault(),l(!1);var t=null==n?void 0:n.getBoundingClientRect(),r=t.x,i=t.y,o=t.right,a=t.bottom;o-e.pageX<160?f({x:e.pageX-r-160,y:e.pageY-i}):f({x:e.pageX-r,y:e.pageY-i}),a-e.pageY<100?l(!1):l(!0)}),[n]),L=function(e){for(var n=e.target;n;){var t,r,i,o;if((null===(t=n)||void 0===t||null===(r=t.className)||void 0===r||null===(i=Ie()(o=r))||void 0===i?void 0:i.call(o,Sa))>=0)return;n=n.parentNode}l(!1)};(0,T.useEffect)((function(){return null==n||n.addEventListener("contextmenu",I),document.addEventListener("click",L,!0),function(){null==n||n.removeEventListener("contextmenu",I),document.removeEventListener("click",L,!0)}}),[n,I]);var k=(0,T.useMemo)((function(){var e=[{title:"\u624b\u673a\u89c2\u770b",icon:pa,handler:function(e){},subItem:T.createElement("div",{className:da},T.createElement("img",{className:fa,src:globalThis.xssNamespace.douyin_web.filterUrl(null==h?void 0:h.qrcode_url,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:""}),T.createElement("p",{className:va},"\u626b\u7801\u89c2\u770b"),T.createElement("p",{className:ma},"\u6253\u5f00\u6296\u97f3APP\u626b\u63cf\u4e8c\u7ef4\u7801\u53ef\u4ee5\u8fdb\u884c\u66f4\u591a\u4e92\u52a8"))},{title:"\u4e3e\u62a5\u76f4\u64ad\u95f4",icon:ha,handler:function(e){S()}}];return y&&e.unshift({title:"\u4e0b\u8f7d\u5ba2\u6237\u7aef",icon:_a,isLink:!0,attr:_,href:globalThis.xssNamespace.douyin_web.filterUrl(m,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),handler:function(){l(!1)}}),e}),[S,m,_,y,null==h?void 0:h.qrcode_url]);return i&&T.createElement(Ia,{menuList:k,x:d.x,y:d.y,target:n})}var ka=["onPlay","onPause","onError","isTheaterOn","onTheaterSwitch","onFullScreenSwitch","isLogPlay","onSend","onArrowClick","isFoldChatroom","isDanmakuFeatureOn","playerCoverText","isPause","refreshPlayer","recommendOnEndRoom","livingRoomErrorStatus","isVerifyed","immersive","isFixedChat","inRoomOnAppView","isSpringSkin","playerStatusupdateEnterTime","fullscreenTarget","hideBanner","onCameraChange","asianGamesLogParams","messageFrom","getPlayer","useContextMenu"],wa=(0,Hi.j)(Eo),Za=(0,zi.default)((function(){return t.e(4366).then(t.bind(t,82619))}),{ssr:!1}),ba=(0,zi.default)((function(){return t.e(3474).then(t.bind(t,27438))}),{ssr:!1}),Na=(0,zi.default)((function(){return Promise.all([t.e(5685),t.e(4865),t.e(7287)]).then(t.bind(t,26500))}),{ssr:!1}),Ca=(0,zi.default)((function(){return Promise.all([t.e(4865),t.e(684),t.e(3697)]).then(t.bind(t,68141))}),{ssr:!1}),Oa=(0,zi.default)((function(){return Promise.all([t.e(5685),t.e(4865),t.e(1289)]).then(t.bind(t,79764))}),{ssr:!1}),Pa=(0,zi.default)((function(){return t.e(5596).then(t.bind(t,50022))}),{ssr:!1}),Ta=(0,zi.default)((function(){return Promise.all([t.e(4757),t.e(6986)]).then(t.bind(t,4757))}),{ssr:!1}),Aa=(0,zi.default)((function(){return t.e(7839).then(t.bind(t,67839))}),{ssr:!1}),Ma=(0,zi.default)((function(){return t.e(52).then(t.bind(t,87951))}),{ssr:!1}),Da=(0,zi.default)((function(){return t.e(6420).then(t.bind(t,1735))}),{ssr:!1}),Ra=(0,zi.default)((function(){return t.e(8722).then(t.bind(t,83280))}),{ssr:!1}),xa=(0,zi.default)((function(){return Promise.all([t.e(6204),t.e(4365)]).then(t.bind(t,24708))}),{ssr:!1}),Va=(0,zi.default)((function(){return Promise.all([t.e(7247),t.e(7044)]).then(t.bind(t,46109))}),{ssr:!1}),Fa=(0,zi.default)((function(){return t.e(6134).then(t.bind(t,23480))}),{ssr:!1}),Ua=(0,zi.default)((function(){return Promise.all([t.e(6204),t.e(1407)]).then(t.bind(t,16069))}),{ssr:!1}),Ba=(0,zi.default)((function(){return t.e(357).then(t.bind(t,88669))}),{ssr:!1}),Ga=(0,zi.default)((function(){return Promise.all([t.e(7765),t.e(2447),t.e(7244),t.e(6750)]).then(t.bind(t,83379))}),{ssr:!1}),Ha=(0,zi.default)((function(){return Promise.all([t.e(7244),t.e(7299)]).then(t.bind(t,7644))}),{ssr:!1}),Ka=(0,zi.default)((function(){return t.e(9616).then(t.bind(t,25051))}),{ssr:!1}),ja=(0,zi.default)((function(){return t.e(1195).then(t.bind(t,85599))}),{ssr:!1}),Wa=(0,zi.default)((function(){return t.e(8806).then(t.bind(t,79774))}),{ssr:!1}),Ya=(0,zi.default)((function(){return t.e(1994).then(t.bind(t,52173))}),{ssr:!1}),za=(0,zi.default)((function(){return t.e(234).then(t.bind(t,58161))}),{ssr:!1}),qa=(0,zi.default)((function(){return Promise.resolve().then(t.bind(t,73213))}),{ssr:!1}),Qa=(0,zi.default)((function(){return t.e(4091).then(t.bind(t,29802))}),{ssr:!1}),Ja=(0,zi.default)((function(){return Promise.resolve().then(t.bind(t,77259))}),{ssr:!1}),Xa=(0,zi.default)((function(){return t.e(9616).then(t.bind(t,89761))}),{ssr:!1}),$a=(0,J.Pi)((function(e){var n,t,i,o,l,u,c,s,d,f,v,m,_,h,g,E,S,I=e.onPlay,L=e.onPause,k=e.onError,w=e.isTheaterOn,Z=e.onTheaterSwitch,b=e.onFullScreenSwitch,N=e.isLogPlay,C=e.onSend,O=e.onArrowClick,P=e.isFoldChatroom,A=e.isDanmakuFeatureOn,M=e.playerCoverText,R=e.isPause,x=e.refreshPlayer,V=e.recommendOnEndRoom,F=e.livingRoomErrorStatus,B=e.isVerifyed,G=(e.immersive,e.isFixedChat),K=e.inRoomOnAppView,W=e.isSpringSkin,Y=e.playerStatusupdateEnterTime,z=e.fullscreenTarget,q=e.hideBanner,J=e.onCameraChange,X=e.asianGamesLogParams,$=e.messageFrom,ee=e.getPlayer,ne=e.useContextMenu,te=(0,ir.Z)(e,ka),re=(0,bn.Z)(),ie=re.userStore,oe=ie.userInfo,le=ie.odin,ue=ie.setPlayerUserHandlePause,ce=ie.headerUserInfo,fe=re.roomStore,ve=fe.setRoomStatus,me=fe.roomInfo,_e=fe.setLiveStatus,pe=fe.isUgcLive,he=fe.isGameHiddle,ge=fe.setGameHiddle,Ee=fe.setPausePop,ye=fe.likeStatus,Se=fe.isAsianGames,Ie=re.feedStore.isActive,Le=re.linkmicStore,we=Le.linkRoomType,Ze=Le.linkRoomTypeHooks,be=Le.linkStatus,Ne=Le.guestBattleInfo,Ce=Le.orderSingInfo,Oe=Le.linkMicLayout,Pe=re.giftStore,Te=Pe.giftStatus,Ae=Pe.supportedGiftPages,Me=Pe.giftMessages,De=Pe.effectList,Re=Pe.balance,xe=Pe.effectSwitchStatus,Ve=Pe.setEffectSwitchStatus,Fe=Pe.giftPanelSwitchStatus,Ue=Pe.setGiftPanelSwitchStatus,Be=Pe.hasGiftBar,Ge=Pe.setHasGiftBar,je=re.appStore.isSpider,We=re.pkStore.pkStatus,Ye=re.audienceStore.audiencePanelStatus,ze=re.abStore.liveModalWithoutAction,qe=re.fansClubStore,Qe=qe.fansClubShowStatus,Je=qe.fansClubJoinStatus,Xe=re.hybridStore,$e=Xe.containerList,en=(Xe.commonList,re.exhibitionStore),nn=(en.exhibitionTestStatus,en.isShowExhibition),tn=en.setIsShowExhibition,rn=en.isFirstLoad,on=en.setIsFirstLoad,an=re.hourRankListStore,ln=an.isShowHourRankList,un=an.setIsShowHourRankList,cn=an.openType,sn=an.isFirstLoad,dn=an.setIsFirstLoad,fn=re.eventStore,vn=fn.ranklistEvent,mn=fn.giftEvent,_n=fn.playerEvent,pn=fn.tabEvent,hn=fn.basicEvent,gn=fn.ecomEvent,En=re.isLiveModal,yn=re.cameraStore.cameraInfo,Sn=re.singletonStore,In=Sn.container,Ln=Sn.message,kn=Sn.playerHandler,wn=re.paidLiveStore,Nn=wn.paidLiveData,Cn=wn.setViewType,Pn=wn.viewType,Tn=wn.setPaidLiveData,An=wn.retType,Mn=wn.setRetType,Dn=wn.paidLiveAuth,xn=(0,Po.Z)(),Fn=xn.setDisableScroll,Gn=xn.setFullscreen,Hn=xn.fullscreen;T.useEffect((function(){var e;En&&(y()(e=[se.cK.LINKED,se.cK.LINKING]).call(e,be)?Fn(!0):Fn(!1))}),[En,be]);var Wn=(0,ct.Z)().sendGift,Yn=(0,Sr.Z)().showUserInfoCard,zn=(0,yr.Z)().handleJoinFansClub,qn=(0,U.j)(),Qn=(0,Pi.V)().name,$n=null!=qn?qn:{},et=$n.syncVolume,nt="webp"===$n.ecomHeadImgFormat,tt=wt(),rt=D()(me,"room.status"),it=D()(me,"room.live_room_mode"),ot=D()(me,"room.id_str"),ut=D()(me,"web_rid"),st=D()(me,"room.toolbar_data"),dt=(0,T.useRef)(),ft=function(){var e=(0,U.j)().markUseDividing,n=void 0===e?0:e;if(Q.s)return n;try{var t=localStorage.getItem("_DIVDING_MOCK_");if(t)return Number(t)}catch(r){return n}return n}(),vt=(0,T.useState)(!1),mt=(0,a.Z)(vt,2),_t=mt[0],pt=mt[1],ht=(0,T.useState)(!1),gt=(0,a.Z)(ht,2),Et=gt[0],yt=gt[1],St=(0,T.useState)(!1),It=(0,a.Z)(St,2),Lt=It[0],Zt=It[1],Nt=(0,T.useState)(!1),Ot=(0,a.Z)(Nt,2),Pt=Ot[0],Tt=Ot[1],At=(0,T.useState)(!1),Mt=(0,a.Z)(At,2),Dt=Mt[0],Rt=Mt[1],xt=(0,T.useState)(!0),Vt=(0,a.Z)(xt,2),Ut=Vt[0],Bt=Vt[1],Gt=jn({disabledH265:Lt}),Ht=Gt.stream,Kt=Gt.common,Wt=Gt.options,Yt=(0,qo.d)().ticketInfo,zt=T.useMemo((function(){return D()(Kt,"secret_key","")}),[Kt]),qt=T.useMemo((function(){return Number(D()(Nn,"paid_type",0))===Ft.xc.PAID_LIVE}),[Nn]),Qt=Jn({stream:Ht}),Jt=Qt.openIntercepted,Xt=Qt.interceptedQuality,$t=Qt.openTryWatching,er=Qt.qualities,or=Qt.startQuality,lr=Kn({stream:Ht,startQuality:or}),ur=lr.url,sr=lr.lowUrl;(0,Wi.u)(nt?Fa:{load:function(){}}),(0,Wi.u)(nt?Ba:{load:function(){}}),(0,T.useEffect)((function(){$t&&Bt(!1)}),[$t]);var dr=(0,T.useCallback)((function(e){Rt(e)}),[]);(0,T.useEffect)((function(){var e,n=null===(e=dt.current)||void 0===e?void 0:e.getPlayer();n&&(null==n||n.on("detectedblackscreen",(function(){Zt(!0)})))}),[null==dt?void 0:dt.current]);var fr=(0,T.useState)(0),Ir=(0,a.Z)(fr,2),Lr=Ir[0],kr=Ir[1],Zr=(0,T.useState)(!1),br=(0,a.Z)(Zr,2),Nr=br[0],Cr=br[1],Or=(0,T.useState)(!1),Pr=(0,a.Z)(Or,2),Tr=Pr[0],Ar=Pr[1],Mr=((0,T.useCallback)((function(){var e;Ar(!0),null===(e=te.onLoadedData)||void 0===e||e.call(te)}),[te.onLoadedData]),T.useMemo((function(){return Et?kt.wq.FULL_SCREEN:w?kt.wq.THEATER:kt.wq.NORMAL}),[Et,w])),Dr=(null===(n=me.room)||void 0===n?void 0:n.live_room_mode)===ae.ke.MEDIA;(0,T.useEffect)((function(){En&&Hn!==Et&&yt(Hn)}),[Hn,En,Et,yt]);T.useEffect((function(){return kn.setCurrentRoom(me,ur),kn.startHeartDetect(),function(){kn.stopHeartDetect()}}),[]),(0,T.useEffect)((function(){var e,n,t,i,o=localStorage.getItem("webcast_local_quality")||"",a=ar()(er)&&ke()(er).call(er,(function(e){return e===o}));!N.current&&null!=oe&&oe.isReady&&Ie&&(null==_n||null===(e=_n.livePlayEvent)||void 0===e||e.call(_n,(0,r.Z)((0,r.Z)({anchor_id:D()(me,"anchor.id_str",""),room_id:(null==me?void 0:me.roomId)||"",muted:dt.current.getPlayer().muted,stream_type:tt,definition:or,definition_set_type:a?"manual":"",enter_method_temai:null===(n=window)||void 0===n||null===(t=n.__INVISIBLE_QUERY__)||void 0===t?void 0:t.enter_method_temai,audience_type:(0,at.Zi)(me)},null!==(i=null==gn?void 0:gn.getLiveShoppingParams(me))&&void 0!==i?i:{}),X)),N.current=!0)}),[me,oe,tt,N,or,Ie,X]),(0,T.useEffect)((function(){if(Ie){var e=En?Ct.listen(Ct.EVENT.liveModalPlayerPause,(function(){var e,n;null==dt||null===(e=dt.current)||void 0===e||null===(n=e.getPlayer())||void 0===n||n.pause()})):function(){};return function(){null==e||e()}}}),[Ie,En]),(0,T.useEffect)((function(){Mr!==kt.wq.THEATER||P?Mr===kt.wq.THEATER&&P?_e(ae.zZ.WEB_FULL_NO_COMMENT):Mr===kt.wq.FULL_SCREEN?_e(ae.zZ.FULL):_e(ae.zZ.NORMAL):_e(ae.zZ.WEB_FULL)}),[Mr,P]);var Rr=T.useRef(!Q.s&&(0,mr.rC)(et));T.useEffect((function(){var e,n=null===(e=dt.current)||void 0===e?void 0:e.getPlayer();n&&(be===se.cK.LINKED?(Rr.current=n.muted,n.muted=!0,n.plugins.play.hide(),n.plugins.volume.hide()):be===se.cK.NOT_LINK&&(n.muted=Rr.current,n.plugins.play.show(),n.plugins.volume.show()))}),[be]),T.useEffect((function(){var e,n=null===(e=dt.current)||void 0===e?void 0:e.getPlayer();if(n){var t,r,i,o;if(M===Xn.kx.KICK_OUT)if(n.muted=!0,n.plugins.play.hide(),n.plugins.volume.hide(),(0,bt.DJ)())null==n||null===(t=n.plugins)||void 0===t||null===(r=t.pip)||void 0===r||r.exitPIP();if(M===Xn.kx.BLOCK)if((0,bt.DJ)())null==n||null===(i=n.plugins)||void 0===i||null===(o=i.pip)||void 0===o||o.exitPIP()}}),[M]),T.useEffect((function(){var e,n=null===(e=dt.current)||void 0===e?void 0:e.getPlayer();n&&rt===ae.LV.END&&(n.plugins.play.hide(),n.plugins.volume.hide(),(0,bt.DJ)()&&n.plugins.pip.exitPIP())}),[rt]),(0,T.useEffect)((function(){var e,n=null===(e=dt.current)||void 0===e?void 0:e.getPlayer();n&&Y&&Y(null==n?void 0:n.paused)}),[null==dt?void 0:dt.current]);var xr=T.useCallback((function(){if(kn.setCurrentRoom(me,ur),kn.setUrlAutoChange(!1),dt.current){var e=dt.current.getPlayer();kn.setPlayer(e)}return rt!==ae.LV.END&&rt!==ae.LV.PAUSE}),[me,ur,rt]),Vr=T.useCallback((function(){if(xr()){var e=D()(me,"roomId");kn.handlePlaying(e)}}),[me,ur,rt]),Fr=T.useCallback((function(){if(xr()){var e=D()(me,"roomId");kn.handleWaiting(e)}}),[me,ur,rt]),Ur=T.useCallback((function(){if(I&&I(),kr((function(e){return e+1})),Nr?null==pn||pn.liveStartEvent({event_page:"live_detail"}):Cr(!0),xr()){var e=D()(me,"roomId");kn.handlePlay(e)}}),[me,ur,rt,Nr]),Br=T.useCallback((function(){if(L&&L(),null==pn||pn.livePauseEvent({event_page:"live_detail"}),xr()){var e=D()(me,"roomId");kn.handlePause(e)}}),[me,ur,rt]),Gr=T.useCallback((function(){if(xr()){var e=D()(me,"roomId");kn.handleEnded(e)}}),[me,ur,rt]),Hr=T.useCallback((function(e){if(k&&k(e),xr()){var n,t=D()(me,"roomId");On.k.event(p()(n="[".concat(Yi.Tn.Error,"]")).call(n,Yi.Mo.LiveBasicPlayerError),(0,r.Z)((0,r.Z)({},e),{},{is_client:(0,Bn.DT)(),is_asian_games:Se})),kn.handleError(t,e)}}),[me,ur,rt,Se]),Kr=T.useCallback((function(e){var n=D()(me,"roomId"),t=kn.getRoomInfo(n);"switch_play_pause"===e.action&&(ue(!e.paused),t&&(t.USER_PAUSED=!e.paused))}),[me]),jr=T.useCallback((function(e){pr.Z.open({uid:D()(me,"room.commentary_room_info.user_id","")||D()(me,"room.commentary_room_info.userId",""),roomId:D()(me,"room.id_str"),loginSecUid:D()(oe,"id_str",""),loginUid:D()(oe,"id_str",""),isUgcLive:pe,showGoToLivingBtn:!0,store:re},{top:e.clientY,left:e.clientX})}),[me,oe,re,pe]),Wr=(0,T.useCallback)((function(){tn(!1),on(!1)}),[]),zr=(0,T.useCallback)((function(){un(!1),dn(!1)}),[]),qr=(0,T.useCallback)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:de.nN.OPEN_GIFT;Ue(e)}),[]);!function(e,n,t){var r=(0,bn.Z)().feedStore.isActive,i=(0,T.useRef)(),o=(0,T.useRef)(0),a=D()(e,"roomId");(0,T.useEffect)((function(){if(a&&r)return Er(e,"set"),clearInterval(i.current),i.current=He()((function(){if(1!==o.current)Er(e,"del"),o.current=1;else if(!Er(e,"get")){var t,r=null==n||null===(t=n.current)||void 0===t?void 0:t.getPlayer();null==r||r.pause(),clearInterval(i.current)}}),1e3),function(){i.current&&clearInterval(i.current)}}),[e,t,r])}(me,dt,Lr);var Qr=(0,T.useMemo)((function(){var e=[];return $e&&$e.size>0&&j()($e).call($e,(function(n,t){e.push(T.createElement(Co.d,{key:t},T.createElement("div",{className:Qi.hybridContainerWrapper},T.createElement("div",{id:(0,jt.Mu)(t),className:Qi.hybridContainer}),!n.hideClose&&T.createElement("div",{className:Qi.hybridContainerClose,onClick:function(){In.close(t)}}))))})),e}),[$e]),Jr=Zo({likeStatus:ye,roomId:D()(me,"roomId"),userInfo:oe}),Xr=Jr.isLike,$r=Jr.isClickLike,ei=(Jr.isShowLike,Jr.icons),ni=Jr.userLike,ti=(0,T.useMemo)((function(){return{adCid:(0,lt.V7)(),adId:(0,lt.qV)(),adLogExtra:(0,lt.u9)()}}),[]),ri=(0,T.useMemo)((function(){return qt&&rt!==ae.LV.END&&M!==Xn.kx.ANCHOR_BAN&&M!==Xn.kx.KICK_OUT}),[qt,rt,M]);wo(be);var ii=(0,hr.Z)().isGroupFight,ai=(0,gr.Z)().isGuestBattle,li=(0,T.useRef)(null),ui=(0,Lo.Z)().isOrderSing,ci=(0,bo.Z)();(0,T.useEffect)((function(){var e,n;Se&&(null==li||null===(e=li.current)||void 0===e||null===(n=e.setCurrentQuality)||void 0===n||n.call(e,or))}),[Ht,Se,or]),(0,T.useEffect)((function(){var e,n,t,r,i,o,a,l,u,c;qt&&(0===Dn.FullScreen?null===(e=dt.current)||void 0===e||null===(n=e.getPlayer)||void 0===n||null===(t=n.call(e))||void 0===t||null===(r=t.plugins)||void 0===r||null===(i=r.maskiconplugin)||void 0===i||i.addMask("fullscreen"):null===(o=dt.current)||void 0===o||null===(a=o.getPlayer)||void 0===a||null===(l=a.call(o))||void 0===l||null===(u=l.plugins)||void 0===u||null===(c=u.maskiconplugin)||void 0===c||c.removeMaskIcon("fullscreen"))}),[Dn,qt]);var si=(0,T.useMemo)((function(){return D()(me,"room.episode_extra.mod.episode_stage")===ji.j.FIRST_LIVE}),[me]),vi=wr({toolbarData:st,threshold:(null==qn?void 0:qn.pcPopcardThreshold)||0}).isHit;return(0,T.useEffect)((function(){var e,n,t=null===(e=dt.current)||void 0===e||null===(n=e.getPlayer)||void 0===n?void 0:n.call(e);Se&&t&&(t.src=globalThis.xssNamespace.douyin_web.filterUrl(ur,null,{logType:"js.href/src",mode:"black",reportOnly:!1}))}),[Se,ur]),(0,T.useEffect)((function(){var e;null!==(e=dt.current)&&void 0!==e&&e.getPlayer&&"function"==typeof ee&&ee(dt.current.getPlayer())}),[dt.current,ee]),T.createElement(T.Fragment,null,T.createElement("div",{className:Zn()((t={},(0,H.Z)(t,Qi.hasGiftBar,Te&&Et&&Be),(0,H.Z)(t,Qi.player,!0),(0,H.Z)(t,Qi.playerTheaterOn,w),(0,H.Z)(t,Qi.isEnd,Ie&&M&&!(M===Xn.kx.ANCHOR_BAN&&we)),t))},T.createElement(Ti.N,(0,rr.Z)({},te,{onFocus:function(){pt(!0)},onBlur:function(){pt(!1)},videoInit:!je&&rt!==ae.LV.END,autoplay:Ie,isPause:je||rt===ae.LV.END||R,refreshPlayer:x,className:Zn()(Qi.livingPlayer,"living_player"),volume:(0,mr.T1)(et),url:ur,ref:dt,onFullScreen:function(e){yt(e),b(e),null==Gn||Gn(e);var n,t,r=dt.current.getPlayer();r&&e&&(0,bt.DJ)()&&(null==r||null===(n=r.plugins)||void 0===n||null===(t=n.pip)||void 0===t||t.exitPIP());Z&&(!w||!Et)&&Z(!1)},icons:{loadingIcon:(0,qi.Dq)(T.createElement(Ki.g,{className:"live-player-loading",text:"\u89c6\u9891\u52a0\u8f7d\u4e2d"}))},mediaType:pe?"offscreen-video":undefined,onWaiting:Fr,onPlaying:Vr,onPlay:Ur,onPause:Br,onEnd:Gr,onError:Hr,preloadTime:Xn.VC,onUserAction:Kr,isBlackScreenProbe:!(0,Vn.p)()&&(0,Un.i)(),isUgcLive:pe,sessionId:null==Kt?void 0:Kt.session_id,secretKey:zt,isPaidLive:qt,maskToast:Yt,loggerOptions:(0,r.Z)({user_id:oe.id_str,device_id:le.user_unique_id,scene:En?_r.C.liveModal:_r.C.liveDetail},Se?{act_code:"yyh"}:{}),flvPreloader:Rn.OG?(0,Rn.TV)():null,fullscreenTarget:z,markuse:{dividing:ft,switchCount:3,lowUrl:sr,switchUrl:ur}}),Ie&&Xr&&T.createElement(nr.k,{componentName:tr.l.Live_Like},T.createElement(Ai.Z,{isClickLike:$r,icons:ei,isFullScreen:Et,isTheaterOn:w,userInfo:oe,userLike:ni,classNames:Qi.liveLike})),!En&&w&&_t&&T.createElement("div",{className:Qi.toggle_chatroom,onClick:O},P?T.createElement(cr,null):T.createElement(vr,null)),Ie&&M&&!(M===Xn.kx.ANCHOR_BAN&&we)&&T.createElement(qa,{cover:D()(me.anchor,"avatar_thumb.url_list[0]","")},(0===V.length||Dr)&&M,!(0===V.length||Dr)&&T.createElement(Qa,{rooms:V,target:"_self"})),Ie&&pe&&!he&&rt!==ae.LV.END&&!M&&T.createElement("div",{className:Zn()(Qi.anchor)},T.createElement("img",{className:Qi.avatar,src:globalThis.xssNamespace.douyin_web.filterUrl(D()(me,"room.commentary_room_info.avatar.url_list[0]","")||D()(me,"room.commentary_room_info.avatar.urlList[0]",""),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),onClick:jr}),T.createElement("div",{className:Qi.nickname},D()(me,"room.commentary_room_info.nickname",""))),T.createElement(Io,{messageFrom:$}),T.createElement(Mi.p,{ext:(0,r.Z)({ignoreEmptyUrlUpload:rt===ae.LV.END||rt===undefined?1:0,roomMode:it,roomId:ot,webRid:ut,enter_from_merge:(0,Vn.p)()?"":null==hn||null===(i=hn.getEnterEventParams())||void 0===i?void 0:i.enter_from_merge,enter_method:(0,Vn.p)()?"":null==hn||null===(o=hn.getEnterEventParams())||void 0===o?void 0:o.enter_method,_is_new_version:(0,Vn.p)()?"":null!==(l=null===(u=window)||void 0===u?void 0:u.isNewVersionFirstOpen)&&void 0!==l?l:"",is_preview:0,live_stream_session_id:(0,Ke.MQ)(null==Kt?void 0:Kt.session_id)},ci)}),Ie&&T.createElement(nr.k,{componentName:tr.l.ADMIN_PRIVILEGE_PLUGIN},T.createElement(Xa,null)),T.createElement(di,{isVerifyed:B}),Ie&&T.createElement(Di.u,null),Ie&&T.createElement(aa,null),T.createElement(nr.k,{componentName:tr.l.DANMAKU_PLUGIN},Ie&&T.createElement(ba,{on:!0,feature:A,livingRoomErrorStatus:F,roomStatus:rt,containerTagName:"xg-icon",position:"controlsRight",index:11})),Ie&&T.createElement(fi,null),A&&T.createElement(nr.k,{componentName:tr.l.DANMAKU_SETTINGS},T.createElement(Ri.Z,{containerTagName:"xg-icon",position:"controlsRight",index:4})),Ie&&we&&rt!==ae.LV.END&&y()(c=[Xn.kx.NONE,Xn.kx.ANCHOR_BAN]).call(c,M)&&T.createElement(nr.k,{componentName:tr.l.RTC_LAYER_PLUGIN},T.createElement(Ca,{isTheaterOn:w})),Ie&&"audio"===we&&T.createElement(nr.k,{componentName:tr.l.AUDIO_ROOM_PLUGIN},T.createElement(Na,{isTheaterOn:w})),Ie&&"video"===we&&T.createElement(nr.k,{componentName:tr.l.VIDEO_ROOM_PLUGIN},T.createElement(Oa,{isTheaterOn:w})),Ie&&("audio"===Ze||"video"===Ze)&&T.createElement(Ja,{isVerifyed:B}),be!==se.cK.LINKED&&rt!==ae.LV.END&&T.createElement(hi,{containerTagName:"xg-icon",position:"controlsLeft",index:1,playerCoverText:M}),Ie&&T.createElement(Oo,null),!En&&T.createElement(ki,{on:w,onSwitch:function(e){var n,t,r=dt.current.getPlayer();(r.fullscreen&&r.plugins.fullscreen.changeFullScreen(),null==_n||_n.liveTheaterModeBtnClickEvent(!e),Z&&Z(e),e&&(0,bt.DJ)())&&(null==r||null===(n=r.plugins)||void 0===n||null===(t=n.pip)||void 0===t||t.exitPIP())},containerTagName:"xg-icon",position:"controlsRight",index:.5,disableClick:qt&&0===Dn.FullScreen,btnDisableCallBack:Yt}),be!==se.cK.LINKED&&rt!==ae.LV.END&&Ht&&or&&T.createElement(Pa,{streamData:Ht,defaultQuality:or,position:"controlsRight",qualityList:er,sessionId:null==Kt?void 0:Kt.session_id,screenMode:Mr,index:12,url:ur,ref:li,roomId:ot,player:null===(s=dt.current)||void 0===s?void 0:s.getPlayer(),isAsianGames:Se},T.createElement(oo,{qualityHandler:li.current,player:null===(d=dt.current)||void 0===d?void 0:d.getPlayer(),openIntercepted:Jt,interceptedQuality:Xt,openTryWatching:$t&&!Ut,screenMode:Mr,watchingFinished:Ut,streamOptions:Wt}),T.createElement(Ta,{url:ur,defaultQuality:or,stream:Ht,qualityHandler:li.current,qualityList:er,screenMode:Mr})),Ie&&rt!==ae.LV.END&&"audio"!==we&&!M&&(0,bt.Kv)()&&!(0,Bn.DT)()&&T.createElement(T.Fragment,null,T.createElement(nr.k,{componentName:tr.l.PIP_PLUGIN},T.createElement(Aa,{containerTagName:"xg-icon",position:"controlsRight",index:.7,isPip:Dt,on:w,onTheaterSwitch:Z,feature:A})),T.createElement(nr.k,{componentName:tr.l.INPICTURE_PLUGIN},T.createElement(xi.D,{isActive:Ie,playerRef:dt,handelIsInPic:dr}))),(Et||w)&&T.createElement(T.Fragment,null,T.createElement(nr.k,{componentName:tr.l.TITLE_PLUGIN},T.createElement(Ci,{containerClassName:Qi.liveTitlePlugin,className:Qi.liveTitlePluginContainer,position:"rootTop",title:null===(f=me.room)||void 0===f?void 0:f.title,userCount:(0,at.jQ)(me.room),showUserCount:Et||!Ye})),T.createElement(nr.k,{componentName:tr.l.FOLLOW_PLUGIN},T.createElement(oi,{containerClassName:Qi.liveAnchorFollowPlugin,position:"rootTop"}))),Et&&!G&&rt!==ae.LV.END&&T.createElement(nr.k,{componentName:tr.l.COMMENT_PLUGIN},T.createElement(Yr,{position:"controlsRight",containerClassName:Qi.liveCommentPlugin,isLogin:null==oe?void 0:oe.id_str,onSend:C,index:13,isFixedChat:G})),Ie&&T.createElement(Oi.G,{disEnabled:we&&be===se.cK.LINKED,handleChangeGameHiddle:function(e){ge(e)},isGameHiddle:he,ele:"#ugc_view"}),Ie&&T.createElement(Vi.g,null),Ie&&!K&&T.createElement(nr.k,{componentName:tr.l.GIFT_BAR_MINI},T.createElement(Ha,{fullScreen:Et,position:"controlsRight",index:30,giftStatus:Te,isSpringSkin:W,giftPages:Ae,balance:Re,isLogin:Boolean(D()(oe,"id_str")),hasGiftBar:Be,useGiftApi:ct.Z,useStore:bn.Z,useFansApi:yr.Z})),!K&&T.createElement(nr.k,{componentName:tr.l.GIFT_BAR},T.createElement(Ga,{enabled:!0,fullScreen:Et,giftStatus:Te,playerCoverText:M,isSpringSkin:W,giftPages:Ae,balance:Re,isLogin:Boolean(D()(oe,"id_str")),giftPanelSwitchStatus:Fe,onCameraChange:J,asianGamesLogParams:X,onShowChanged:function(e){Ge(e)},abTestData:qn})),Ie&&Te&&T.createElement(T.Fragment,null,T.createElement(nr.k,{componentName:tr.l.EFFECT_SWITCH_PLUGIN},T.createElement(Da,{containerTagName:"xg-icon",position:"controlsRight",index:1,onSwitch:Ve})),T.createElement(nr.k,{componentName:tr.l.GIFT_TRAY_PLUGIN},T.createElement(Ra,{effectSwitchStatus:xe,giftMessages:Me})),T.createElement(nr.k,{componentName:tr.l.GIFT_EFFECT_PLUGIN},T.createElement(xa,{effectSwitchStatus:xe,giftMessages:Me}))),Ie&&ui&&T.createElement(Ya,{orderSingInfo:Ce}),Ie&&T.createElement(za,null),Ie&&ii&&T.createElement(ja,null),Ie&&ai&&T.createElement(Wa,{guestBattleInfo:Ne}),Ie&&We&&T.createElement(nr.k,{componentName:tr.l.PK_VIEW_PLUGIN},T.createElement(Va,{currencyName:Qn})),Ie&&(null==Qe?void 0:Qe.isShow)&&!q&&T.createElement(nr.k,{componentName:tr.l.FANS_CLUB_PLUGIN},T.createElement(Co.d,{position:Oe===Fi.yP.VIDEO_T1_V_B8?"absolute":"relative"},T.createElement(Ma,{isLogin:Boolean(D()(oe,"id_str")),currencyName:Qn}))),T.createElement(nr.k,{componentName:tr.l.TOOL_BAR_PLUGIN},Ie&&rt!==ae.LV.END&&M!==Xn.kx.KICK_OUT&&T.createElement(Ui.M,{abTestData:qn,toolbarData:st,headerUserInfo:ce,roomId:ot,authorId:null==me||null===(v=me.anchor)||void 0===v?void 0:v.id_str,isLiveShopVisible:!0,isLiveShopPopVisible:!0,hasGiftBar:Te&&Et&&Be,getLiveShoppingLogParams:null==hn?void 0:hn.getEnterEventParams,promotionListVisible:Pt,setPromotionListVisible:Tt,adData:ti,messageInstance:Ln,layoutType:Oe,isLiveModal:En,isFullScreen:Et,isTheaterOn:w,roomStatus:rt,isPopcardHitPrefetch:vi})),rt!==ae.LV.END&&Ie&&nn&&!q&&T.createElement(Co.d,{position:Oe===Fi.yP.VIDEO_T1_V_B8?"absolute":"relative"},T.createElement(nr.k,{componentName:tr.l.EXHIBITION_VIEW_PLUGIN},T.createElement(Fa,{userInfo:ce,roomInfo:me,giftStatus:Te,logParams:(0,r.Z)({},null==mn||null===(m=mn.getExhibitionCommonEventParams)||void 0===m?void 0:m.call(mn)),onSendGift:Wn,onShowUserCard:Yn,onOpenGiftPanel:qr,onClose:Wr,isLogin:Boolean(D()(oe,"id_str")),balance:Re,isFirstLoad:rn}))),Ie&&rt!==ae.LV.END&&ln&&!q&&T.createElement(Co.d,{position:Oe===Fi.yP.VIDEO_T1_V_B8?"absolute":"relative"},T.createElement(nr.k,{componentName:tr.l.HOUR_RANK_LIST_VIEW_PLUGIN},T.createElement(Ba,{userInfo:ce,roomInfo:me,giftStatus:Te,logParams:(0,r.Z)((0,r.Z)({},null==vn||null===(_=vn.getHourRankListCommonEventParams)||void 0===_?void 0:_.call(vn)),{},{is_fans_club:Je?1:0}),onShowUserCard:Yn,onJoinFansClub:zn,onOpenGiftPanel:qr,onClose:zr,isLogin:Boolean(D()(oe,"id_str")),openType:cn,isFirstLoad:sn,currencyName:Qn}))),Ie&&T.createElement(nr.k,{componentName:tr.l.EFFECT_PLUGIN},T.createElement(Ua,{effectList:De,messageInstance:Ln})),T.createElement(wa,{abtestData:(0,r.Z)((0,r.Z)({},null!=qn?qn:{}),{},{forceLogin:"v0"}),roomId:ot,openTryWatching:$t,qualityHandler:li.current,defaultQuality:or,setWatchingFinished:Bt,interceptedQuality:Xt,player:null===(h=dt.current)||void 0===h?void 0:h.getPlayer(),openIntercepted:Jt}),Ie&&$e.size>0&&!q&&Qr,Ie&&En&&!ze&&T.createElement(ra,{className:Zn()((0,H.Z)({},Qi.roomEndAction,rt===ae.LV.END))}),ri&&T.createElement(Za,{paidLiveData:Nn,isLogin:D()(oe,"id_str",""),display_id:D()(oe,"display_id",""),scene:Bi.WB.IN_LIVING_ROOM,setViewType:Cn,viewType:Pn,setPaidLiveData:Tn,roomId:ot,retType:An,setRetType:Mn,isFirstLive:si,hybridContainer:In,message:Ln,store:re})),Ie&&!Q.s&&!Se&&rt!==ae.LV.END&&Tr&&T.createElement(Gi.Z,{roomId:ot,cameraGroupId:null==yn?void 0:yn.groupId,cameraId:null==yn?void 0:yn.cameraId,playerRef:dt,anchorId:null==me||null===(g=me.anchor)||void 0===g?void 0:g.id_str,roomStatus:rt,webRid:null==me?void 0:me.web_rid,setRoomStatus:ve,reasonType:"detail",setPausePop:Ee,strategyConfig:D()(me,"room.others.web_live_port_optimization.strategy_config","")}),Ie&&we&&rt!==ae.LV.END&&T.createElement(Ka,null),Ie&&En&&T.createElement(Wo,{target:null===(E=dt.current)||void 0===E?void 0:E.getPlayerDom()}),Ie&&ne&&T.createElement(La,{target:null===(S=dt.current)||void 0===S?void 0:S.getPlayerDom()})),T.createElement(No.ZP,{className:Zn()(Qi.rightPanel,(0,H.Z)({},Qi.rightPanelTheaterOn,w))}))})),el="Ec3hNKcb",nl="Nn3W3R13",tl="rBbny72m",rl="nAkvD9XQ",il="_8oVc4rQ4",ol=t(73213),al="T5Yu5bP2",ll="zC1dZcS1",ul="gBd_V7Cg",cl=t(52441),sl=t(18762),dl=t(24415),fl=(0,zi.default)((function(){return Promise.all([t.e(2447),t.e(7134)]).then(t.bind(t,17134))}),{ssr:!1});var vl,ml=(0,Tr.r)((function(e){var n,t=e.webRid,r=e.roomTeaLogParams,i=e.onClick,l=e.scene,u=e.program,c=e.className,d=e.isPaidLive,f=e.viewType,v=e.isLogin,m=(0,T.useState)(!1),_=(0,a.Z)(m,2),p=_[0],h=_[1],g=(0,T.useState)({}),E=(0,a.Z)(g,2),y=E[0],S=E[1],I=(0,T.useCallback)((function(){return h(!0)}),[]),L=(0,T.useMemo)((function(){var e,n;return y&&y[t]&&l&&(null===(e=y[t])||void 0===e||null===(n=e.scopes)||void 0===n?void 0:Ie()(n).call(n,l))>-1?y[t]:null}),[t,l,y]),k=T.useMemo((function(){return!(d&&(f===Ft.ku.TRT_WATCH_FINISH||!v))}),[d,f,v]);if((0,T.useEffect)((function(){(0,o.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,zt.ZP)({service_name:"webcast.douyin.live_pc",key:"entrance"});case 2:n=e.sent,S(n);case 4:case"end":return e.stop()}}),e)})))()}),[l,t]),k)return T.createElement(sl.G,{href:globalThis.xssNamespace.douyin_web.filterUrl((null==L?void 0:L.url)||(0,dl.X)("/".concat(t)),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),target:(null==L?void 0:L.html_target)||"_blank",passParams:r,onClick:i,className:Zn()([al,c,p&&ll]),"data-e2e":"live-enter-room"},T.createElement(fl,{autoplay:!0,loop:!0,data:cl,className:ul,onInit:I}),T.createElement("span",null,(null==u||null===(n=u.mod)||void 0===n?void 0:n.episode_stage)===ji.j.FIRST_LIVE?"\u70b9\u51fb\u8fdb\u5165\u9996\u64ad":(null==L?void 0:L.enter_text)||"\u70b9\u51fb\u8fdb\u5165\u76f4\u64ad\u95f4"))})),_l=t(77259),pl=(0,zi.default)((function(){return Promise.all([t.e(4865),t.e(7768)]).then(t.bind(t,98710))}),{ssr:!1}),hl=(0,zi.default)((function(){return Promise.all([t.e(5235),t.e(3007)]).then(t.bind(t,75235))}),{ssr:!1}),gl=(0,zi.default)((function(){return Promise.all([t.e(5685),t.e(4865),t.e(7287)]).then(t.bind(t,26500))}),{ssr:!1}),El=(0,zi.default)((function(){return Promise.all([t.e(5685),t.e(4865),t.e(1289)]).then(t.bind(t,79764))}),{ssr:!1}),yl=function(e){var n,t,i,o,l,u,c,s,d,f,v=e.onPlay,m=e.isLogPlay,_=e.onSend,p=e.playerCoverText,h=e.isPause,g=e.iframePlayerConf,E=e.isVerifyed,S=e.refreshPlayer,L=(0,bn.Z)(),k=L.userStore,w=k.userInfo,Z=k.odin,b=k.setPlayerUserHandlePause,N=L.roomStore.roomInfo,C=L.linkmicStore,O=C.linkRoomType,P=C.linkRoomTypeHooks,A=C.linkStatus,M=L.eventStore,R=M.playerEvent,x=M.basicEvent,V=wt(),F=D()(N,"room.status"),U=(0,T.useRef)(),B=(0,T.useState)(!1),G=(0,a.Z)(B,2),H=G[0],K=G[1],j=T.useMemo((function(){var e;return I()(e=D()(N,"room.stream_url.live_core_sdk_data.pull_data.options.qualities",[])).call(e,(function(e){return e.sdk_key}))}),[N]),W=T.useMemo((function(){return JSON.parse(D()(N,"room.stream_url.live_core_sdk_data.pull_data.stream_data","null"))}),[N]),Y=T.useMemo((function(){return D()(N,"room.stream_url.live_core_sdk_data.pull_data.options.default_quality.sdk_key","")}),[N]),z=(0,T.useMemo)((function(){if(W){var e,n=(null==W||null===(e=W.data[Y])||void 0===e?void 0:e.main)||{};return(0,Ke.tq)()?(0,je.uC)(n.hls||""):(0,je.uC)(n.flv||"")}return""}),[W,Y]);(0,T.useEffect)((function(){var e,n;!m.current&&w.isReady&&(null==R||R.livePlayEvent({anchor_id:D()(N,"anchor.id_str",""),room_id:N.roomId||"",muted:U.current.getPlayer().muted,stream_type:V,enter_method_temai:null===(e=window)||void 0===e||null===(n=e.__INVISIBLE_QUERY__)||void 0===n?void 0:n.enter_method_temai}),m.current=!0)}),[N,w,V,m]),(0,T.useEffect)((function(){return window.__IFRAME_PLAYER__=U.current,document.body.style.overflowX="hidden",function(){document.body.style.overflowX="auto"}}),[]);var q=(0,T.useMemo)((function(){return{enter_from_merge:"web_iframe"}}),[]),J=T.useRef(!Q.s&&(0,mr.rC)());T.useEffect((function(){var e,n=null===(e=U.current)||void 0===e?void 0:e.getPlayer();n&&(A===se.cK.LINKED?(J.current=n.muted,n.muted=!0,n.plugins.play.hide(),n.plugins.volume.hide()):A===se.cK.NOT_LINK&&(n.muted=J.current,n.plugins.play.show(),n.plugins.volume.show()))}),[A]);var X=(0,bo.Z)();return T.createElement(Ti.N,{isPause:h,refreshPlayer:S,onPlay:v,className:Zn()(el,"iframe-player"),volume:(0,mr.T1)(),url:z,closeVideoClick:!0,ref:U,onFullScreen:function(e){K(e)},icons:{loadingIcon:(0,qi.Dq)(T.createElement(Ki.g,{className:"live-player-loading",text:"\u89c6\u9891\u52a0\u8f7d\u4e2d"}))},onUserAction:function(e){"switch_play_pause"===e.action&&b(!e.paused)},loggerOptions:{user_id:w.id_str,device_id:Z.user_unique_id,scene:_r.C.iframe}},"audio"===O&&F!==ae.LV.END&&T.createElement(nr.k,{componentName:tr.l.AUDIO_ROOM_PLUGIN},T.createElement(gl,{isVerifyed:E})),"video"===O&&F!==ae.LV.END&&T.createElement(nr.k,{componentName:tr.l.VIDEO_ROOM_PLUGIN},T.createElement(El,null)),("audio"===P||"video"===P)&&T.createElement(_l.default,{isVerifyed:E}),p&&T.createElement(ol.PlayerEndCover,{cover:D()(N.anchor,"avatar_thumb.url_list[0]","")},p),T.createElement(Mi.p,{ext:(0,r.Z)({_is_new_version:(0,Vn.p)()?"":null!==(n=null===(t=window)||void 0===t?void 0:t.isNewVersionFirstOpen)&&void 0!==n?n:"",enter_from_merge:(0,Vn.p)()?"":null==x||null===(i=x.getEnterEventParams())||void 0===i?void 0:i.enter_from_merge,enter_method:(0,Vn.p)()?"":null==x||null===(o=x.getEnterEventParams())||void 0===o?void 0:o.enter_method,is_preview:1},X)}),T.createElement(Di.u,null),T.createElement(aa,null),T.createElement(fi,null),T.createElement(si,{isVerifyed:E}),T.createElement(hi,{containerTagName:"xg-icon",position:"controlsLeft",index:1}),T.createElement(nr.k,{componentName:tr.l.TITLE_PLUGIN},T.createElement(Ci,{containerClassName:nl,className:tl,position:"rootTop",title:null===(l=N.room)||void 0===l?void 0:l.title,userCount:(0,at.jQ)(N.room)})),T.createElement(Oi.G,null),(null==g||null===(u=g.plugins)||void 0===u?void 0:y()(u).call(u,"danmaku"))&&T.createElement(nr.k,{componentName:tr.l.DANMAKU_PLUGIN},T.createElement(pl,{on:!0,feature:!0})),(null==g||null===(c=g.plugins)||void 0===c?void 0:y()(c).call(c,"follow"))&&T.createElement(nr.k,{componentName:tr.l.FOLLOW_PLUGIN},T.createElement(oi,{isIframe:!0,containerClassName:rl,position:"rootTop"})),(null==g||null===(s=g.plugins)||void 0===s?void 0:y()(s).call(s,"enter"))&&T.createElement(ml,{webRid:N.web_rid,roomTeaLogParams:q}),(null==g||null===(d=g.plugins)||void 0===d?void 0:y()(d).call(d,"comment"))&&T.createElement(nr.k,{componentName:tr.l.COMMENT_PLUGIN},T.createElement(Yr,{position:"controlsRight",containerClassName:il,isLogin:null==w?void 0:w.id_str,onSend:_,isIframe:!0,index:13})),(null==g||null===(f=g.plugins)||void 0===f?void 0:y()(f).call(f,"bitrate"))&&W&&Y&&T.createElement(nr.k,{componentName:tr.l.QUALITY_SWITCH_PLUGIN},T.createElement(hl,{defaultQuality:Y,streamData:W,position:"controlsRight",qualityList:j,screenMode:H?kt.wq.FULL_SCREEN:kt.wq.NORMAL,index:12,url:z})))},Sl=function(e){var n=e.errorPageMessage,t=e.enterRoomApi,i=e.error,l=e.isSpringSkin,u=void 0!==l&&l,c=e.iframeConf,d=e.styles,f=e.asianGamesLogParams,v=e.messageFrom,m=e.useContextMenu,_=void 0!==m&&m,h=(0,bn.Z)(),E=h.isLiveModal,S=h.userStore,L=S.userInfo,k=S.userHandlerPause,w=h.streamStore.setStreamData,Z=h.roomStore,b=Z.roomInfo,N=Z.setLiveDetailPlayerHasPlay,C=Z.setRoomInfo,O=h.linkmicStore,P=O.isPlayModeNotSupport,A=O.setLiveRoomMode,M=O.dressListAll,R=O.setDressListAll,x=h.giftStore,V=x.setGiftSwitchStatus,F=x.setGiftAuthStatus,B=h.layoutStore.immersive,G=h.fansClubStore.setFansClubAuthStatus,K=h.singletonStore.message,W=h.feedStore.isActive,Y=h.eventStore.playerEvent,z=h.cameraStore.setCameraInfo,q=(0,T.useState)(n),Q=(0,a.Z)(q,2),J=Q[0],X=Q[1],$=(0,T.useState)(!1),ee=(0,a.Z)($,2),ne=ee[0],te=ee[1],re=(0,T.useState)(!0),ie=(0,a.Z)(re,2),oe=ie[0],le=ie[1],ue=(0,T.useState)(i),ce=(0,a.Z)(ue,2),se=ce[0],de=ce[1],fe=(0,T.useState)(Xn.kx.NONE),ve=(0,a.Z)(fe,2),me=ve[0],_e=ve[1],pe=(0,T.useState)(!1),he=(0,a.Z)(pe,2),ge=he[0],Ee=he[1],ye=(0,T.useState)(!1),Se=(0,a.Z)(ye,2),Ie=Se[0],Le=Se[1],ke=(0,T.useState)(!1),we=(0,a.Z)(ke,2),be=we[0],Ne=we[1],Ce=(0,T.useState)(!1),Oe=(0,a.Z)(Ce,2),Pe=Oe[0],Te=Oe[1],Ae=(0,T.useState)([]),Me=(0,a.Z)(Ae,2),De=Me[0],Re=Me[1],xe=(0,T.useState)(!1),Ve=(0,a.Z)(xe,2),Fe=Ve[0],Ue=Ve[1],Be=(0,T.useState)({}),Ge=(0,a.Z)(Be,2),Ke=Ge[0],je=Ge[1],We=(0,T.useState)(),Ye=(0,a.Z)(We,2),ze=Ye[0],qe=Ye[1],Qe=(0,T.useRef)(!1),Je=T.useRef(k);Je.current=k;var Xe=(0,T.useRef)(null),$e=(0,T.useRef)(undefined),en=(0,Ze.TH)(),nn=(0,T.useMemo)((function(){return/iframe/.test(en.pathname)}),[en]),tn=(0,U.j)().liveSsrRelativeRoom,rn=(0,Po.Z)().fullScreenTarget,on=(0,T.useMemo)((function(){return(0,r.Z)((0,r.Z)({},f),Ke)}),[Ke,f]),an=(0,T.useMemo)((function(){var e,n,t,r,i,o,a,l,u;return{isMedia:(null===(e=b.room)||void 0===e?void 0:e.live_room_mode)===ae.ke.MEDIA,LandscapeChat:null===(n=b.room)||void 0===n||null===(t=n.room_auth)||void 0===t?void 0:t.LandscapeChat,isAppOnly:b.enter_mode===ae.gE.APP||P||J&&(null===(r=b.room)||void 0===r?void 0:r.status)!==ae.LV.END,live_room_mode:null===(i=b.room)||void 0===i?void 0:i.live_room_mode,roomId:null!==(o=b.roomId)&&void 0!==o?o:"",roomStatus:null===(a=b.room)||void 0===a?void 0:a.status,anchorId:D()(b,"anchor.id_str",""),anchorNickname:D()(b,"anchor.nickname",""),anchorAvatar:D()(b.anchor,"avatar_thumb.url_list[0]",""),isFixedChat:1===(null===(l=b.room)||void 0===l||null===(u=l.room_auth)||void 0===u?void 0:u.FixedChat)}}),[b,P,J]),ln=an.isMedia,un=an.LandscapeChat,cn=an.isAppOnly,sn=an.live_room_mode,dn=an.roomId,fn=an.roomStatus,vn=an.anchorId,mn=an.anchorNickname,_n=an.anchorAvatar,pn=an.isFixedChat,hn=(0,T.useState)(!ln&&un!==ae.xW.OFF),gn=(0,a.Z)(hn,2),En=gn[0],yn=gn[1],Sn=(0,T.useMemo)((function(){return{userId:L.id_str}}),[L]).userId;(0,ct.Z)(!0),(0,T.useEffect)((function(){var e=[ae.ke.MEDIA,ae.ke.VS],n=D()(b,"room.live_room_mode","");!M&&0!==(null==M?void 0:M.length)||y()(e).call(e,n)||(0,$n.VT)({}).then((function(e){var n=e.data,t=n.status_code,r=n.data;0===t&&null!=r&&r.dress_list&&R(null==r?void 0:r.dress_list)}))}),[b]),(0,T.useEffect)((function(){A(sn)}),[sn,A]);var In=(0,T.useCallback)((function(){return te(!0)}),[]),Ln=(0,T.useCallback)((function(e){return le(e)}),[]),kn=(0,T.useCallback)((function(e){return qe(e)}),[]);pt({apis:_t.IM_API,roomId:dn,saveVerify:In}),ft(),ht();var wn=Gn({disabledH265:!1}),Zn=wn.stream,Nn=wn.common,Cn=Jn({stream:Zn}).startQuality;Kn({stream:Zn,startQuality:Cn}).url;(0,xn.C)((function(){return(0,Vn.p)()||(0,Rn.TV)(),function(){var e;(0,Vn.p)()||null===(e=(0,Rn.TV)())||void 0===e||e.destroy()}}),[]);(0,Fn.Z)().abrPts;null==Nn||Nn.session_id,ae.LV.END,(0,T.useEffect)((function(){Le(!W)}),[W]),Dn();var On=Pn(cn),Tn=function(e){var n=(0,r.Z)((0,r.Z)({},b),{},{room:(0,r.Z)((0,r.Z)({},b.room),{},{stream_url:null==e?void 0:e.h264Stream,title:null==e?void 0:e.title}),web_stream_url:null==e?void 0:e.h265Stream}),t=(0,et.h)(n);C(n),w(t),z(e)},An=Ut({enterRoomApi:t,saveVerify:In,isSavePlayer:Ln,isLogPlay:Qe,liveSsrRelativeRoom:tn,liveNewDurationLogParams:on,updateStreamAndCameraInfo:Tn,playerCoverText:me}),Mn=An.liveNewDuration,Un=An.playerStatusupdateEnterTime,Bn=function(e,n){je(n),Mn(),Tn(e)};Yt(),(0,T.useEffect)((function(){var e=D()(b,"room.room_auth.Gift");try{(0,o.Z)(s().mark((function n(){var t,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tt().app.getIsMas();case 2:t=n.sent,r=D()(t,"data"),nn||r||F(e);case 5:case"end":return n.stop()}}),n)})))()}catch(n){nn||F(e)}}),[b]),qt(),(0,T.useEffect)((function(){var e=D()(b,"room.live_room_mode",""),n=!0;e!==ae.ke.MEDIA&&e!==ae.ke.VS||(n=!1),G(n)}),[b]);var Hn=(0,Qt.Z)();!function(e,n,t,r,i,o,a){var l=(0,bn.Z)(),u=l.roomStore,c=u.setRoomStatus,s=u.setRoomCommentaryRoomInfo,d=l.giftStore,f=d.setGiftSwitchStatus,v=d.setGiftAuthStatus,m=l.singletonStore.message,_=l.isLiveModal;(0,T.useEffect)((function(){return m.on("RoomVerifyMessage",(function(e){j()(e).call(e,(function(e){var n=e.method,r=e.payload;if(n&&r)switch(Number(r.action)){case ae.Jq.CLOSE_DANMAKU:t(!1);break;case ae.Jq.OPEN_DANMAKU:t(!0);break;case ae.Jq.CLOSE_GIFT:v(!1);break;case ae.Jq.OPEN_GIFT:v(!0)}}))}))}),[t,v,m]),(0,T.useEffect)((function(){return m.on("ControlMessage",(function(e){j()(e).call(e,(function(e){var n=e.method,t=e.payload;if(n&&t)switch(Number(t.action)){case ae.Rz.FINISH:case ae.Rz.FINISH_BY_ADMIN:case ae.Rz.ROOM_FINISH_BY_SWITCH:c(ae.LV.END),f(!1),m.stop();break;case ae.Rz.RESUME:f(!0),r(Xn.kx.NONE),a.current||i(!0);break;case ae.Rz.PAUSE:r(Xn.kx.ANCHOR_BAN),i(!1)}}))}))}),[m,c,f,r,i,a]),(0,T.useEffect)((function(){return null==m?void 0:m.on("MemberMessage",(function(n){j()(n).call(n,(function(n){var t=n.method,i=n.payload;if(t&&i)switch(Number(i.action)){case ae.WU.BLOCK:r(Xn.kx.BLOCK),v(!1);break;case ae.WU.KICK_OUT:r(Xn.kx.KICK_OUT),v(!1),m.stop(),o(!0);break;case ae.WU.LEAVE:if(_)return;var a=D()(i,"user.id");"WEB_INITIATIVE"!==i.action_description&&a===e&&(r(Xn.kx.KICK_OUT),v(!1),m.stop(),o(!0))}}))}))}),[r,v,o,e,m,_]),(0,T.useEffect)((function(){return m.on("NoticeMessage",(function(e){j()(e).call(e,(function(e){var n=e.method,t=e.payload;if(n&&t)switch(Number(t.notice_type)){case ae.F3.PAUSE:r(Xn.kx.ANCHOR_BAN);break;case ae.F3.RESUME:r(Xn.kx.NONE)}}))}))}),[r,m]),(0,T.useEffect)((function(){return m.on("CommentaryChangeMessage",(function(e){j()(e).call(e,(function(e){var n=e.method,t=e.payload;if(n&&t){var r=t.commentary_room_info;r&&s(r)}}))}))}),[s])}(Sn,0,yn,_e,Ee,Le,Je),(0,T.useEffect)((function(){vn&&dn&&Sn&&Sn===vn&&de({title:rt.d.LIVING})}),[vn,Sn,dn]),(0,T.useEffect)((function(){de(i)}),[i]),(0,T.useEffect)((function(){X(n)}),[n]),(0,T.useEffect)((function(){if(!E){var e,n,t=document.getElementById("root");if(t)if(be){if(t)t.className=p()(e="".concat(t.className," ")).call(e,it.iN)}else t.className=g()(n=t.className.split(" ")).call(n,(function(e){return e!==it.iN})).join(" ")}}),[be]);var jn=(0,T.useMemo)((function(){var e;return e={},(0,H.Z)(e,ae.$V.ROOM_ID_EMPTY,(function(){_e(Xn.kx.LIVE_FINISH)})),(0,H.Z)(e,ae.$V.LIVING_PAUSE,(function(){_e(Xn.kx.ANCHOR_BAN)})),(0,H.Z)(e,ae.$V.LIVING_END,(function(){Le(!0),_e(Xn.kx.LIVE_FINISH),Ne(!1),(0,ot.Gq)(b.web_rid,5).then((function(e){var n,t=I()(n=D()(e,"data.data.data",[])).call(n,(function(n){return(0,r.Z)((0,r.Z)({},n),{},{room:(0,at.C_)(n.room),requestId:e.headers["x-tt-logid"]})}));Re(t)}))})),(0,H.Z)(e,ae.$V.NO_LOGIN,(function(){return undefined})),(0,H.Z)(e,ae.$V.DEFAULT,(function(){return undefined})),e}),[b.web_rid]);(0,T.useEffect)((function(){jn[Hn](),cn&&(V(!1),null==K||K.stop())}),[jn,Hn,V,cn,K]),(0,T.useEffect)((function(){var e=D()(b,"room.AnchorABMap.anchor_other_device","0");vn&&dn&&Sn&&Sn===vn&&"0"===e&&de({title:rt.d.LIVING})}),[vn,Sn,dn,b]),(0,T.useEffect)((function(){fn===ae.LV.END&&!E&&Mt()}),[fn,E]),(0,T.useEffect)((function(){var e;(0,lt.Ui)()&&(0,Jt.E)("live_play",{value:(0,lt.V7)(),tag:"live_ad",device_id:null===Xt.Es||void 0===Xt.Es||null===(e=(0,Xt.Es)())||void 0===e?void 0:e.user_unique_id,anchor_id:vn,room_id:dn,log_extra:(0,lt.u9)()})}),[]),(0,T.useEffect)((function(){var e;if(W)return Ie||fn===ae.LV.END||(e=He()((function(){null==Y||Y.liveWatchEvent({anchor_id:vn,room_id:dn})}),6e4)),function(){e&&clearInterval(e)}}),[Ie,vn,dn,fn,W]);var Wn=T.useRef();(0,T.useEffect)((function(){if(W)return Wn.current=He()((function(){(0,$t.n)()}),30*ut.r.SECOND_MS),function(){clearInterval(Wn.current)}}),[W]);var Yn=T.useCallback((function(e){Ne(e),Ue(!1)}),[]),zn=T.useCallback((function(e){Te(e)}),[]),qn=(0,T.useCallback)((function(){Ue((function(e){var n;return null==Y||null===(n=Y.liveFoldChatroomBtnClickEvent)||void 0===n||n.call(Y,!e),!e}))}),[]),Qn=T.useMemo((function(){var e;return y()(e=[Xn.kx.KICK_OUT,Xn.kx.LIVE_FINISH]).call(e,me)}),[me]);return{isMedia:ln,isAppOnly:cn,roomId:dn,anchorNickname:mn,isFixedChat:pn,inRoomOnAppView:J,isVerified:ne,isIframe:nn,isTheaterOn:be,foldChatroom:Fe,inRoomError:se,isPlayer:oe,chatRoomRef:Xe,fullScreenTargetRef:$e,renderPlayer:function(){var e,n;return cn?T.createElement(er.Z,{avatar:_n,qrcode:b.qrcode_url,className:d.appOnly}):nn?T.createElement(nr.k,{componentName:tr.l.IFRAME_PLAYER,type:"module"},T.createElement(yl,{iframePlayerConf:c,isPause:Ie,playerCoverText:me,isLogPlay:Qe,onSend:null===(n=Xe.current)||void 0===n?void 0:n.onSend,isVerifyed:ne,refreshPlayer:ge})):T.createElement(nr.k,{componentName:tr.l.LIVING_PLAYER,type:"module"},T.createElement($a,{beforePlayerInit:Tt,onReady:function(){Mn(),N(!0),null===Ot.s||void 0===Ot.s||Ot.s.livePlayerInitEnd()},onLoadStart:At,onLoadedData:function(){Dt(),On()},onError:function(){Dt(),On()},recommendOnEndRoom:De,isDanmakuFeatureOn:En,isPause:Ie,playerCoverText:me,isTheaterOn:be,onTheaterSwitch:Yn,onFullScreenSwitch:zn,isLogPlay:Qe,onSend:null===(e=Xe.current)||void 0===e?void 0:e.onSend,isFoldChatroom:Fe,onArrowClick:qn,closeVideoClick:!0,livingRoomErrorStatus:Hn,isVerifyed:ne,refreshPlayer:ge,immersive:B,isFixedChat:pn,closeFocusVideoFocus:!0,inRoomOnAppView:J,isSpringSkin:u,playerStatusupdateEnterTime:Un,fullscreenTarget:E?rn:$e.current,onCameraChange:Bn,hideBanner:Qn,asianGamesLogParams:f,messageFrom:v,getPlayer:kn,useContextMenu:_}))},hideBanner:Qn,isFullScreen:Pe,playerInstance:ze}},Il=t(30127),Ll=t(44086),kl=(0,J.Pi)((function(e){var n,t,i=e.errorPageMessage,o=void 0!==i&&i,a=e.error,l=void 0===a?undefined:a,u=(0,bn.Z)(),c=u.isLiveModal,s=u.feedStore.isActive,d=u.abStore,f=d.liveModalDynamicBg,v=d.liveModalWithoutAction,m=d.liveModalWeakEntrance,_=u.roomStore.roomInfo,p=u.pkStore.pkStatus,h=u.linkmicStore.linkRoomType,g=(0,Po.Z)().fullscreen;(0,T.useEffect)((function(){var e;s&&(window.__STORE__=(0,r.Z)((0,r.Z)({},null!==(e=window.__STORE__)&&void 0!==e?e:{}),{},{roomStore:{roomInfo:{roomId:D()(_,"roomId",""),room:{id_str:D()(_,"room.id_str","")}}}}))}),[s]),(0,T.useEffect)((function(){return window.__LIVE_MODAL_SHOW__=!0,function(){return window.__LIVE_MODAL_SHOW__=null}}),[]);var E=(0,T.useMemo)((function(){return 1===D()(_,"room.stream_url.stream_orientation")&&!p&&"audio"!==h&&"video"!==h}),[_,h,p]),y=Sl({errorPageMessage:o,enterRoomApi:"/webcast/room/web/enter/",error:l,styles:Cn}),S=y.isMedia,I=y.isAppOnly,L=y.isFixedChat,k=y.isVerified,w=y.inRoomError,Z=y.chatRoomRef,b=y.renderPlayer,N=(0,T.useMemo)((function(){return(0,Il.h)()()}),[]);return T.createElement("div",{className:Zn()(Cn.liveModalFeed,(n={},(0,H.Z)(n,Cn.liveModalFeedActive,s),(0,H.Z)(n,"liveModalFeedActive",s),n))},T.createElement("div",{className:Zn()(Cn.container,{liveModalDynamicBg:f,liveModalWeakEntrance:m})},!w&&T.createElement("div",{className:Zn()(Cn.playerWrap,(0,H.Z)({},Cn.bgBlack,f&&(0,Yn.vU)()))},T.createElement(Nn.Z,{isAppOnly:I,className:Zn()(Cn.roomInfoBar,(0,H.Z)({},Cn.fullScreen,g))}),T.createElement("div",{className:Zn()(Cn.playerContainerWrap,(0,H.Z)({},Cn.fullScreen,g))},T.createElement(Il.X.Provider,{value:N},T.createElement("div",{className:Zn()((t={},(0,H.Z)(t,Cn.player,!0),(0,H.Z)(t,Cn.roomInfoBarInner,E),(0,H.Z)(t,Cn.isFullScreen,g),t))},T.createElement("div",{style:{display:"flex",flex:"1 1"}},I&&c&&s&&!v&&T.createElement(ra,null),b()))))),T.createElement(nr.k,{componentName:tr.l.CHAT_ROOM_PANEL,type:"module"},T.createElement("div",{className:Zn()(Cn.chatroomLiveModal,(0,H.Z)({},Cn.fullscreen,g)),onWheel:function(e){return e.stopPropagation()},onWheelCapture:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()}},s&&T.createElement(Ll.Z,{ref:Z,css:Cn,isFixedChat:L,isMedia:S,isVerified:k,isAppOnly:I,isSpringSkin:false})))))}));function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},wl.apply(this,arguments)}var Zl=function(e){return T.createElement("svg",wl({width:70,height:80,viewBox:"0 0 105 120",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),vl||(vl=T.createElement("path",{d:"M89.013 24.055C82.55 19.84 77.883 13.098 76.427 5.238A28.704 28.704 0 0175.939 0H55.31l-.035 82.675c-.345 9.257-7.967 16.689-17.307 16.689-2.902 0-5.636-.726-8.044-1.992-5.517-2.907-9.299-8.692-9.299-15.35 0-9.56 7.783-17.343 17.343-17.343 1.783 0 3.495.297 5.119.803V44.423a38.211 38.211 0 00-5.12-.368C17.034 44.055 0 61.088 0 82.027c0 12.848 6.42 24.216 16.213 31.088A37.749 37.749 0 0037.973 120c20.939 0 37.972-17.033 37.972-37.973V40.101a49.054 49.054 0 0028.704 9.227v-20.63a28.56 28.56 0 01-15.636-4.643z",fill:"#121423",fillOpacity:.9,opacity:.04})))},bl=t(96431),Nl="bT0XfyOJ",Cl="uEXeE6XB",Ol="p1BJHdHk",Pl="xJkoepT4",Tl="CEcrxccb",Al="SnSkPUyk",Ml="Hlhvp660",Dl="RvVbhBFQ",Rl="FMd5kBFZ",xl="hWRvdJjz",Vl="nAhsO71V",Fl="sPxh78NN",Ul="UJiliTKR",Bl="zSWPT9Kn",Gl="FD6k55v3",Hl="vjnx_Cvm",Kl="VtrwiP7T",jl="bhdH50f7",Wl="uWcsN1zF",Yl="zGkn4Ck0",zl="ciF0xEqY",ql="ccBIVtU0",Ql="rgYSlxkI",Jl="tNlOL4YG",Xl="dE1a1szf",$l="luD9W_uZ",eu="roiULJv9",nu="yxwTT1L6",tu="hgME5KXm",ru="Br0tEC9L",iu="XOvDBMVx",ou="LDJ7Hez9",au="lMcHAIus",lu="gMJnoNKI",uu="L1ze2APn",cu="sThqMMIz",su="FQwIWtky",du="MPgVDnEh",fu=t(39814),vu=t(94604),mu="sROdU0JF",_u="DTdJkja6",pu="ZMLMERNX",hu=function(e){var n=e.className;return T.createElement(vu.Z,{className:n,cover:T.createElement(fu.Z,{imageSrc:"",hideShadow:!0}),title:T.createElement("div",{className:mu},T.createElement("div",{className:_u}),T.createElement("div",{className:_u})),meta:T.createElement("div",{className:pu})})},gu=function(e){var n,t,r,o,a,l=e.skeletonsSlector,u=e.isLiveModal,c=void 0!==u&&u;return"home"===l?T.createElement("div",{className:Zn()(Cl)},T.createElement("h1",{className:Ol},"\u6296\u97f3\u76f4\u64ad"),T.createElement("div",{className:Pl},T.createElement("div",{className:Al}),T.createElement("div",{className:Zn()(Tl),id:"player_div"},T.createElement("div",{className:Vl,"data-e2e":"hotlive-container"},T.createElement("div",{className:Fl},T.createElement("div",{className:Zn()(Ul)},T.createElement(Zl,{className:Bl})))),T.createElement("div",{className:Dl,"data-e2e":"hotlive-selector-list"},I()(n=(0,i.Z)(Array(3))).call(n,(function(e,n){return T.createElement(fu.Z,{imageSrc:"",hideShadow:!0,className:Zn()(Rl,xl,Ml),key:n})}))))),T.createElement("div",{className:Gl},T.createElement("div",{className:Hl},T.createElement("h2",{className:Kl},"\u63a8\u8350\u76f4\u64ad")),T.createElement("div",{className:jl},T.createElement("div",{className:Zn()(uu,cu)},"\u5168\u90e8"),T.createElement(sl.G,{href:"/hot_live",target:"_blank",className:Wl,rel:"noopener noreferrer"},T.createElement("span",{className:Yl,"data-e2e":"category-more"},"\u67e5\u770b\u66f4\u591a"),T.createElement(bl.Z,null))),T.createElement("div",{className:Nl,"data-e2e":"livelist-container"},I()(t=(0,i.Z)(Array(12))).call(t,(function(e,n){return T.createElement(hu,{className:zl,key:n})}))))):"hotLive"===l?T.createElement("div",{className:Zn()(Nl,du),"data-e2e":"livelist-container"},I()(r=(0,i.Z)(Array(24))).call(r,(function(e,n){return T.createElement(hu,{className:zl,key:n})}))):"category"===l?T.createElement("div",{className:Gl},T.createElement("div",{className:uu},"\u5168\u90e8"),T.createElement("div",{className:Zn()(Nl,su),"data-e2e":"livelist-container"},I()(o=(0,i.Z)(Array(24))).call(o,(function(e,n){return T.createElement(hu,{className:zl,key:n})})))):"detail"===l?T.createElement("div",{className:Zn()(ql,(a={},(0,H.Z)(a,tu,!0),(0,H.Z)(a,Ql,c),a))},T.createElement("div",{className:Zn()(Jl,(0,H.Z)({},Ql,c))},T.createElement("div",{className:Zn()(Xl,(0,H.Z)({},Ql,c))},T.createElement("div",{className:Zn()(ru,lu)},T.createElement("div",{className:iu},T.createElement("div",{className:ou}),T.createElement("div",{className:au}))),T.createElement("div",{className:$l})),T.createElement("div",{className:eu},T.createElement("div",{className:nu})))):void 0},Eu=function(e){var n=e.isActive,t=e.feedData,r=e.hasPre,i=e.hasNext,l=e.enterType,u=e.firstEnter,c=e.fetchData,d=(0,T.useState)(!1),f=(0,a.Z)(d,2),v=f[0],m=f[1],_=(0,F.S)().userInfo,p=(0,U.j)(),h=(0,Po.Z)().closeLiveModal,g=(0,T.useMemo)((function(){return Ln({},!0)}),[]);return(0,T.useEffect)((function(){return function(){x()((function(){g.reset()}),1e3)}}),[]),(0,T.useEffect)((function(){_&&g.userStore.setHeaderUserInfo(_)}),[g,_]),(0,T.useEffect)((function(){g.abStore.setLiveModalDynamicBg(p.liveModalFullplayer===Vt.if.DynamicBg||p.liveModalFullplayer===Vt.if.EntranceStrengthen),g.abStore.setLiveModalWeakEntrance(p.liveModalFullplayer===Vt.if.DynamicBg),g.abStore.setLiveModalWithoutAction(p.liveModalFullplayer===Vt.if.WithoutAction)}),[g,p]),(0,xn.C)((function(){if(n){var e=D()(g,"roomStore.roomInfo.web_stream_url.stream_orientation",""),t=kt.FO[e]||"other";(0,O.sp)({stream_type:t})}}),[n,g,v]),(0,T.useEffect)((function(){(0,o.Z)(s().mark((function e(){var r,i,o,a,d,f,v,p,E;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ot.rR)({webRid:t.webRid,roomId:t.roomId,enterFromMerge:"liveModal",roomEnterUserLogin:null!=_&&_.isLogin?"1":"0",isNeedDoubleStream:!0,statistice:!1});case 2:if(200!==(r=e.sent).status){e.next=8;break}return e.next=6,Rt(g,r,t.webRid);case 6:x()((function(){m(!0)}),500),n&&"query"===l&&u&&((null==r||null===(i=r.data)||void 0===i||null===(o=i.data)||void 0===o||null===(a=o.data)||void 0===a||null===(d=a[0])||void 0===d?void 0:d.status)===ae.LV.END?(Xr.F.info("\u76f4\u64ad\u5df2\u7ed3\u675f\uff0c5s\u540e\u5c06\u5173\u95ed\u76f4\u64ad\u95f4"),x()((function(){h("other")}),5e3)):null==c||c(null==r||null===(f=r.data)||void 0===f||null===(v=f.data)||void 0===v||null===(p=v.data)||void 0===p||null===(E=p[0])||void 0===E?void 0:E.id_str));case 8:case"end":return e.stop()}}),e)})))()}),[g]),(0,T.useEffect)((function(){g.feedStore.isActive=n,g.feedStore.hasPre=r,g.feedStore.hasNext=i}),[n,g,r,i]),v?T.createElement(V.x.Provider,{value:g},T.createElement(kl,null)):T.createElement(gu,{skeletonsSlector:"detail",isLiveModal:!0})},yu="cykyJTMt",Su=t(65368),Iu=t(72603),Lu=t(60260),ku=t.n(Lu),wu=t(90173),Zu=t.n(wu),bu=t(72176),Nu=t(57218),Cu=t(21518),Ou=t(34452),Pu=t(66753),Tu=function(e){var n,t,l,c,d=e.liveModalData,v=e.closeLiveModal,_=e.adTeaParams,h=(0,T.useState)(null!=d&&d.data?[null==d?void 0:d.data]:[]),E=(0,a.Z)(h,2),S=E[0],L=E[1],w=(0,T.useState)(0),b=(0,a.Z)(w,2),M=b[0],D=b[1],R=(0,T.useState)(!1),V=(0,a.Z)(R,2),F=V[0],U=V[1],B=(0,T.useState)(null),G=(0,a.Z)(B,2),H=G[0],K=G[1],j=(0,T.useState)(!1),W=(0,a.Z)(j,2),Y=W[0],z=W[1],q=(0,T.useState)(!0),Q=(0,a.Z)(q,2),J=Q[0],X=Q[1],$=(0,T.useState)(Cu.TCC_DEFAULT_VALUE_MAP.get(Cu.TccKey.PcRechargeConfig)),ee=(0,a.Z)($,2),ne=ee[0],te=ee[1],re=(0,T.useRef)(!1),ie=(0,T.useRef)({maxTime:0,hasMore:!1}),oe=(0,T.useRef)(M);oe.current=M;var ae=(0,T.useRef)(S);ae.current=S;var le=(0,T.useRef)(new(f())([null==d||null===(n=d.data)||void 0===n?void 0:n.roomId])),ue=(0,T.useRef)(m()()),ce=(0,T.useRef)(""),se=(0,T.useRef)(!1),de=(0,T.useContext)(bu.C),fe=(0,Pu.b)().seasonIds,ve=(0,T.useMemo)((function(){return(null==de?void 0:de.liveModalFullplayer)===Vt.if.DynamicBg||(null==de?void 0:de.liveModalFullplayer)===Vt.if.EntranceStrengthen||(null==de?void 0:de.liveModalFullplayer)===Vt.if.Normal}),[null==de?void 0:de.liveModalFullplayer]);(0,T.useEffect)((function(){se.current=ve}),[ve]);var me=(0,T.useCallback)(function(){var e=(0,o.Z)(s().mark((function e(n){var t,r,o,a,l,u,c,f,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!re.current){e.next=2;break}return e.abrupt("return");case 2:return ce.current||(ce.current=n),re.current=!0,a=p()(t="".concat((0,Iu.yW)(),"-")).call(t,null==d?void 0:d.enterMethod),e.next=7,(0,C.wz)(null!==(r=ce.current)&&void 0!==r?r:null==d||null===(o=d.data)||void 0===o?void 0:o.roomId,ie.current.maxTime,a);case 7:l=e.sent,u=l.data,c=l.logId,re.current=!1,0===u.status_code&&(ie.current={hasMore:null==u||null===(f=u.extra)||void 0===f?void 0:f.has_more,maxTime:null==u||null===(v=u.extra)||void 0===v?void 0:v.max_time},L((function(e){var n,t,r,o;return p()(n=[]).call(n,(0,i.Z)(e),(0,i.Z)(null===(t=u.data.item)||void 0===t||null===(r=g()(t).call(t,(function(e){var n,t,r;return!(null!=fe&&null!==(n=y()(fe))&&void 0!==n&&n.call(fe,(null==e||null===(t=e.room)||void 0===t||null===(r=t.episode_extra)||void 0===r?void 0:r.season_id_str)||""))})))||void 0===r||null===(o=g()(r).call(r,(function(e){var n,t;return(null==e||null===(n=e.room)||void 0===n||null===(t=n.paid_live_data)||void 0===t?void 0:t.paid_type)!==Ft.xc.PAID_LIVE})))||void 0===o?void 0:I()(o).call(o,(function(e){var n,t;return{webRid:null==e?void 0:e.web_rid,roomId:null==e||null===(n=e.room)||void 0===n?void 0:n.id_str,anchorId:null==e||null===(t=e.room)||void 0===t?void 0:t.owner_user_id_str}}))))})),(0,O.sp)({request_id:c}));case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[d,fe]);(0,T.useEffect)((function(){(0,o.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ou.U2({key:Cu.TccKey.PcRechargeConfig,defaultValue:Cu.TCC_DEFAULT_VALUE_MAP.get(Cu.TccKey.PcRechargeConfig)});case 2:n=e.sent,te(n);case 4:case"end":return e.stop()}}),e)})))()}),[]),(0,T.useEffect)((function(){"recommend"===(null==d?void 0:d.type)&&se.current&&M===S.length-2&&me()}),[M,S]),function(e){(0,T.useEffect)((function(){if(e&&"hidden"!==e.style.overflow){var n=null==e?void 0:e.style.overflow;return e.style.overflow="hidden",function(){e.style.overflow=n}}}),[e])}(document.body),(0,T.useLayoutEffect)((function(){J||(0,O.sp)({action_type:"draw"})}),[J]),(0,T.useEffect)((function(){var e,n;window.__LIVE_MODAL_ACTIVE_INDEX__=M,window.collectEvent("config",{_live_modal_active_index:null!==(e=String(M))&&void 0!==e?e:""}),(0,pn.jx)((0,r.Z)((0,r.Z)({},(0,$t.n)()),{},{_live_modal_active_switch:null!==(n=String(M))&&void 0!==n?n:"",feedData:k()(ae.current[M])})),0===M?(0,O.sp)((0,r.Z)({},_)):(0,O.sp)({ad_log_extra:undefined,live_ad_creative_id:undefined,live_ad_id:undefined,cid:undefined,ad_type:undefined,if_qianchuan_ad:undefined,open_promotion_list:0,open_promotion_detail:0})}),[M]);var _e=(0,T.useCallback)((function(){var e=new(Z())(window.location.href);e.searchParams.set("webRid",ae.current[oe.current].webRid),history.replaceState(history.state,"",e.href)}),[]);(0,T.useEffect)((function(){_e()}),[M]);var pe=(0,T.useCallback)((function(e,n){var t;if(se.current)if("next"===e&&oe.current===ae.current.length-1&&null!==(t=ie.current)&&void 0!==t&&t.hasMore)Xr.F.info("\u6b63\u5728\u4e3a\u60a8\u52a0\u8f7d\u4e0b\u4e00\u4e2a\u76f4\u64ad\u95f4");else if("next"!==e||"recommend"===d.type||oe.current!==ae.current.length-1){var r,i,o,a;if("pre"===e&&oe.current>0)(0,Go.gQ)({room_id:null===(r=ae.current[oe.current])||void 0===r?void 0:r.roomId,anchor_id:null===(i=ae.current[oe.current])||void 0===i?void 0:i.anchorId,click_method:n}),le.current=le.current.add(null===(o=ae.current)||void 0===o||null===(a=o[oe.current-1])||void 0===a?void 0:a.roomId),D((function(e){return e-1}));else if("next"===e&&oe.current<ae.current.length-1){var l,u,c,s;(0,Go.lA)({room_id:null===(l=ae.current[oe.current])||void 0===l?void 0:l.roomId,anchor_id:null===(u=ae.current[oe.current])||void 0===u?void 0:u.anchorId,click_method:n}),le.current=le.current.add(null===(c=ae.current)||void 0===c||null===(s=c[oe.current+1])||void 0===s?void 0:s.roomId),D((function(e){return e+1}))}X(!1)}else Xr.F.info("\u5df2\u6d4f\u89c8\u81f3\u6700\u540e\u4e00\u4e2a\u5173\u6ce8\u7684\u76f4\u64ad\u95f4")}),[]),he=(0,T.useCallback)(function(){var e=(0,o.Z)(s().mark((function e(n){var t,r,o,a,l,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se.current){e.next=2;break}return e.abrupt("return");case 2:if(r=p()(t="".concat((0,Iu.yW)(),"-")).call(t,null==d?void 0:d.enterMethod),"recommend"!==(null==d?void 0:d.type)){e.next=7;break}me(n),e.next=15;break;case 7:if("follow"!==(null==d?void 0:d.type)){e.next=14;break}return e.next=10,(0,C.eJ)(null!=n?n:null==d||null===(o=d.data)||void 0===o?void 0:o.roomId,r);case 10:0===(a=e.sent).status_code&&L((function(e){var n,t,r,o;return p()(n=[]).call(n,(0,i.Z)(e),(0,i.Z)(null===(t=a.data.data)||void 0===t||null===(r=g()(t).call(t,(function(e){var n,t;return!(null!=fe&&y()(fe).call(fe,(null==e||null===(n=e.room)||void 0===n||null===(t=n.episode_extra)||void 0===t?void 0:t.season_id_str)||""))})))||void 0===r||null===(o=g()(r).call(r,(function(e){var n,t;return(null==e||null===(n=e.room)||void 0===n||null===(t=n.paid_live_data)||void 0===t?void 0:t.paid_type)!==Ft.xc.PAID_LIVE})))||void 0===o?void 0:I()(o).call(o,(function(e){var n,t;return{webRid:e.web_rid,roomId:e.room.id_str,anchorId:null===(n=e.room)||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.id_str}}))))})),e.next=15;break;case 14:"liveFollowList"===(null==d?void 0:d.type)&&(c=null==d||null===(l=d.liveFollowList)||void 0===l?void 0:N()(l).call(l,(function(e){var n,t;return(null==e?void 0:e.roomId)===(null==d||null===(n=d.data)||void 0===n?void 0:n.roomId)&&(null==e?void 0:e.webRid)===(null==d||null===(t=d.data)||void 0===t?void 0:t.webRid)})),L(null!==(u=null==d?void 0:d.liveFollowList)&&void 0!==u?u:[]),D(c));case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[fe]);(0,T.useEffect)((function(){"query"!==(null==d?void 0:d.enterType)&&he()}),[]);var ge=(0,T.useCallback)((function(e){var n,t;v(),(0,Go.i$)({room_id:null===(n=ae.current[oe.current])||void 0===n?void 0:n.roomId,anchor_id:null===(t=ae.current[oe.current])||void 0===t?void 0:t.anchorId,click_method:e,live_inner_play_rank:le.current.size,live_inner_play_ration:m()()-ue.current})}),[v]),Ee=(0,T.useCallback)((function(){ae.current.length<=1?ge("other"):(oe.current===ae.current.length-1&&D((function(e){return e-1})),L((function(e){return u()(e,(function(e,n){return n!==oe.current}))})),X(!1))}),[ge]),ye=(0,T.useMemo)((function(){return{onAction:pe,disableScroll:F,setDisableScroll:U,removeCurrentRoom:Ee,type:null==d?void 0:d.type,fullScreenTarget:H,fullscreen:Y,setFullscreen:z,closeLiveModal:ge,firstEnter:J}}),[pe,F,U,Ee,null==d?void 0:d.type,H,Y,z,ge,J]);return function(e){var n=e.onAction,t=e.disableScroll,r=e.liveModalContainer,o=e.hasAction,a=e.close,l=(0,T.useRef)(null),u=(0,T.useRef)([]),c=(0,T.useRef)(null),s=(0,T.useRef)(null),d=(0,T.useRef)((0,Yn.vU)()?120:0),f=(0,T.useCallback)((function(e,n){for(var t=0,r=eo()(e).call(e,Math.max(e.length-n,1)),i=0;i<r.length;i++)t+=r[i];return Math.ceil(t/n)}),[]);(0,T.useEffect)((function(){var e=ku()((function(e){switch(e.key){case"ArrowUp":case"w":n("pre","keyboard");break;case"ArrowDown":case"s":n("next","keyboard");break;case"Escape":a("keyboard");break;default:return}}),1e3,{leading:!0,trailing:!1});if(!t&&o)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[n,t,o,a]),(0,T.useEffect)((function(){var e,a=function(e){var t,r;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),l.current&&clearTimeout(l.current),l.current=x()((function(){u.current=[]}),400);var o=(new Date).getTime(),a=e.wheelDelta||-e.deltaY||-e.detail,v=Math.max(-1,Math.min(1,a)),m="undefined"!=typeof e.wheelDeltaX||"undefined"!=typeof e.deltaX,_=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!m;u.current=p()(r=[]).call(r,(0,i.Z)(u.current),[d.current+Math.abs(a)]);var h,g=o-c.current;c.current=o,g>400&&1===u.current.length&&(u.current=Zu()(h=new Array(2)).call(h,u.current[0]),s.current=!1);var E=f(u.current,20)>f(u.current,40);E&&!s.current&&_&&(n(v<0?"next":"pre","scroll"),s.current=!0),!E&&s.current&&_&&(s.current=!1)};if(!t&&o)return null==r||null===(e=r.addEventListener)||void 0===e||e.call(r,"wheel",a),function(){var e;null==r||null===(e=r.removeEventListener)||void 0===e||e.call(r,"wheel",a)}}),[f,n,t,r,o])}({onAction:pe,close:ge,disableScroll:F,liveModalContainer:H,hasAction:ve}),(0,A.createPortal)(T.createElement("div",{className:Zn()("isDark",yu),ref:K,id:P.P},T.createElement(Nu.F.Provider,{value:ne},T.createElement(Su.M.Provider,{value:ye},T.createElement(Eu,{key:null===(t=S[M])||void 0===t?void 0:t.webRid,isActive:!0,feedData:S[M],hasPre:M>0,hasNext:M+1<S.length,enterType:null==d?void 0:d.enterType,firstEnter:J,fetchData:he}),M-1>=0&&T.createElement(Eu,{key:null===(l=S[M-1])||void 0===l?void 0:l.webRid,isActive:!1,feedData:S[M-1],hasPre:M-1>0,hasNext:!0,enterType:null==d?void 0:d.enterType,firstEnter:J,fetchData:he}),M+1<S.length&&T.createElement(Eu,{key:null===(c=S[M+1])||void 0===c?void 0:c.webRid,isActive:!1,feedData:S[M+1],hasPre:!0,hasNext:M+2<S.length,enterType:null==d?void 0:d.enterType,firstEnter:J,fetchData:he})))),document.getElementById("root")||document.body)}},83860:function(e,n,t){t.d(n,{of:function(){return r},f1:function(){return i},C7:function(){return o}});var r={TOOLBAR:"WebcastToolBarControlMessage",LIVE_SHOPPING:"WebcastLiveShoppingMessage"},i="WebcastProductChangeMessage,WebcastProductUpdateMessage,WebcastLiveShoppingMessage,WebcastLiveEcomGeneralMessage",o=function(e){return e[e.ASYNC=0]="ASYNC",e[e.SYNC=1]="SYNC",e}({})},33807:function(e,n,t){t.d(n,{v0C:function(){return Z},ofX:function(){return w.of},f1M:function(){return w.f1},C7y:function(){return w.C7},gej:function(){return k.gej},wmT:function(){return k.wmT},aUM:function(){return k.aUM},NlD:function(){return k.NlD},Xvm:function(){return k.Xvm},Usq:function(){return k.Usq},CXJ:function(){return k.CXJ},sg3:function(){return k.sg3},b9A:function(){return k.b9A},XtD:function(){return k.XtD},rOD:function(){return k.rOD},q2y:function(){return k.q2y},BaP:function(){return k.BaP},DrT:function(){return k.DrT},zEy:function(){return k.zEy},uUu:function(){return k.uUu},TS5:function(){return k.TS5},tuf:function(){return k.tuf},RL7:function(){return k.RL7},dR7:function(){return k.dR7},jk0:function(){return k.jk0},xeS:function(){return k.xeS},qz1:function(){return k.qz1},Iyz:function(){return k.Iyz},BEw:function(){return k.BEw},K9K:function(){return k.K9K},XC4:function(){return k.XC4},Q0D:function(){return k.Q0D},sVX:function(){return k.sVX},Bdw:function(){return k.Bdw},hgt:function(){return k.hgt},_BN:function(){return k._BN},YIY:function(){return k.YIY},$RC:function(){return k.$RC},E62:function(){return k.E62},aIO:function(){return k.aIO},ego:function(){return k.ego},x0U:function(){return k.x0U},h0S:function(){return k.h0S},Bo0:function(){return k.Bo0},Wg0:function(){return k.Wg0},bIS:function(){return k.bIS},oJF:function(){return k.oJF},DO:function(){return k.DO},sbk:function(){return k.sbk},UmS:function(){return k.UmS},rB6:function(){return k.rB6},bYE:function(){return k.bYE},cK6:function(){return k.cK6},m6k:function(){return k.m6k},bN2:function(){return k.bN2},CBW:function(){return k.CBW},vmh:function(){return k.vmh},ZYj:function(){return k.ZYj},a0R:function(){return k.a0R},tZ:function(){return k.tZ},_ZF:function(){return k._ZF},ISW:function(){return k.ISW},jHS:function(){return k.jHS},CpO:function(){return k.CpO},_6w:function(){return k._6w},Z65:function(){return k.Z65},$gb:function(){return k.$gb},VGQ:function(){return k.VGQ},O$A:function(){return k.O$A},PF3:function(){return k.PF3},iM5:function(){return k.iM5},q_A:function(){return k.q_A},$FE:function(){return k.$FE},YgK:function(){return k.YgK},of9:function(){return k.of9},tou:function(){return k.tou},Bk6:function(){return k.Bk6},$WP:function(){return k.$WP},sQf:function(){return k.sQf},pcy:function(){return k.pcy},_pl:function(){return k._pl},_V5:function(){return k._V5},R0N:function(){return k.R0N},YY:function(){return k.YY},Vbc:function(){return k.Vbc},v4s:function(){return k.v4s},F1c:function(){return k.F1c},lSH:function(){return k.lSH},Ovk:function(){return k.Ovk},oQn:function(){return k.oQn},rl4:function(){return k.rl4},QDr:function(){return k.QDr},TSv:function(){return k.TSv},yE5:function(){return k.yE5},BaZ:function(){return k.BaZ},tTq:function(){return k.tTq},vTi:function(){return k.vTi},eZS:function(){return k.eZS},lSx:function(){return k.lSx},zcD:function(){return k.zcD},F1b:function(){return k.F1b},eV0:function(){return k.eV0},HWL:function(){return k.HWL},g32:function(){return k.g32},l8S:function(){return k.l8S},jlf:function(){return k.jlf},AL0:function(){return k.AL0},FOL:function(){return k.FOL},rVd:function(){return k.rVd},BYl:function(){return k.BYl},Fvb:function(){return k.Fvb},vHP:function(){return k.vHP},nx8:function(){return k.nx8},ba3:function(){return k.ba3},fE6:function(){return k.fE6},EcU:function(){return k.EcU},sIN:function(){return k.sIN},Qkn:function(){return k.Qkn},w9c:function(){return k.w9c},v7Y:function(){return k.v7Y},xeO:function(){return k.xeO},zIp:function(){return k.zIp},_$R:function(){return k._$R},A7b:function(){return k.A7b},r2z:function(){return k.r2z},aJF:function(){return k.aJF},pnH:function(){return k.pnH},HHZ:function(){return k.HHZ},tPv:function(){return k.tPv},_L_:function(){return k._L_},_eV:function(){return k._eV},GO3:function(){return k.GO3},woG:function(){return k.woG},qjt:function(){return k.qjt},aJJ:function(){return k.aJJ},VgS:function(){return k.VgS},W_h:function(){return k.W_h},SxT:function(){return k.SxT},wiu:function(){return k.wiu},Hak:function(){return k.Hak},M3v:function(){return k.M3v},zvu:function(){return k.zvu},wrZ:function(){return k.wrZ},$oJ:function(){return k.$oJ},ROz:function(){return k.ROz},Hok:function(){return k.Hok},cTo:function(){return k.cTo},aRp:function(){return k.aRp},yUs:function(){return k.yUs},XIF:function(){return k.XIF},L1B:function(){return k.L1B},_OL:function(){return k._OL},lTc:function(){return k.lTc},x6M:function(){return k.x6M},pS:function(){return k.pS},tln:function(){return k.tln},CJ3:function(){return k.CJ3},Rjx:function(){return k.Rjx},nF3:function(){return k.nF3},ZAu:function(){return k.ZAu},gag:function(){return k.gag},VM2:function(){return k.VM2},oJV:function(){return k.oJV},jnF:function(){return k.jnF},Z2Z:function(){return k.Z2Z},U9j:function(){return k.U9j},dt4:function(){return k.dt4},HFI:function(){return k.HFI},N7m:function(){return k.N7m},gYS:function(){return k.gYS},$s7:function(){return k.$s7},L0_:function(){return k.L0_},NqB:function(){return k.NqB},AoT:function(){return k.AoT},tpD:function(){return k.tpD},xvj:function(){return k.xvj},o2L:function(){return k.o2L},h$X:function(){return k.h$X},olD:function(){return k.olD},jOT:function(){return k.jOT},TuN:function(){return k.TuN},iZy:function(){return k.iZy},Hu_:function(){return k.Hu_},Tv6:function(){return k.Tv6},GUx:function(){return k.GUx},$Cm:function(){return k.$Cm},zx$:function(){return k.zx$},lyY:function(){return k.lyY},w4t:function(){return k.w4t},s7_:function(){return k.s7_},HMC:function(){return k.HMC},A8r:function(){return k.A8r},MFF:function(){return k.MFF},gUF:function(){return k.gUF},tJV:function(){return k.tJV},kE6:function(){return k.kE6},eKK:function(){return k.eKK},Q$j:function(){return k.Q$j},lvS:function(){return k.lvS},qL4:function(){return k.qL4},ajd:function(){return k.ajd},E5K:function(){return k.E5K},xgl:function(){return k.xgl},bUP:function(){return k.bUP},Voj:function(){return k.Voj},Bpv:function(){return k.Bpv},vq4:function(){return k.vq4},iLJ:function(){return k.iLJ},PaP:function(){return k.PaP},$wo:function(){return k.$wo},UpS:function(){return k.UpS},xcK:function(){return k.xcK},nX2:function(){return k.nX2},phP:function(){return k.phP},wnX:function(){return k.wnX},wky:function(){return k.wky},YwH:function(){return k.YwH},hru:function(){return k.hru},JG_:function(){return k.JG_},FHH:function(){return k.FHH},jj6:function(){return k.jj6},B72:function(){return k.B72},MfM:function(){return k.MfM},W6r:function(){return k.W6r},toI:function(){return k.toI},KBs:function(){return k.KBs},yAg:function(){return k.yAg},iM7:function(){return k.iM7},E9R:function(){return k.E9R},oiS:function(){return k.oiS},Aik:function(){return k.Aik},UnB:function(){return k.UnB},k_s:function(){return k.k_s},UwK:function(){return k.UwK},OkX:function(){return k.OkX},i5E:function(){return k.i5E},F2M:function(){return k.F2M},Zhk:function(){return k.Zhk},ETo:function(){return k.ETo},V3O:function(){return k.V3O},Qqh:function(){return k.Qqh},cds:function(){return k.cds},S68:function(){return k.S68},VhJ:function(){return k.VhJ},P5B:function(){return k.P5B},E1H:function(){return k.E1H},BZq:function(){return k.BZq},ZP5:function(){return k.ZP5},V0x:function(){return k.V0x},UaC:function(){return k.UaC},imA:function(){return k.imA},ktt:function(){return k.ktt},nGV:function(){return k.nGV},UIb:function(){return k.UIb},sUG:function(){return k.sUG},_Ry:function(){return k._Ry},cn8:function(){return k.cn8},a_K:function(){return k.a_K},V9t:function(){return k.V9t},q2C:function(){return k.q2C},Hpz:function(){return k.Hpz},$sP:function(){return k.$sP},vH3:function(){return k.vH3},Vql:function(){return k.Vql},s$8:function(){return k.s$8},$5B:function(){return k.$5B},n6Z:function(){return k.n6Z},Hj2:function(){return k.Hj2},GGs:function(){return k.GGs},ywC:function(){return k.ywC},VN3:function(){return k.VN3},V_5:function(){return k.V_5},vOL:function(){return k.vOL},HMu:function(){return k.HMu},lhj:function(){return k.lhj},jd5:function(){return k.jd5},Dnh:function(){return k.Dnh},Ulo:function(){return k.Ulo},jcx:function(){return k.jcx},Cts:function(){return k.Cts},czJ:function(){return k.czJ},L24:function(){return k.L24},eDu:function(){return k.eDu},ezg:function(){return k.ezg},NkF:function(){return k.NkF},N3U:function(){return k.N3U},W5X:function(){return k.W5X},XDT:function(){return k.XDT},POB:function(){return k.POB},XZ:function(){return k.XZ},ww0:function(){return k.ww0},Zwk:function(){return k.Zwk},H$f:function(){return k.H$f},hac:function(){return k.hac},nMX:function(){return k.nMX},Eyz:function(){return k.Eyz},ltK:function(){return k.ltK},UTr:function(){return k.UTr},Esc:function(){return k.Esc},xKE:function(){return k.xKE},eaR:function(){return k.eaR},lLT:function(){return k.lLT},C8:function(){return k.C8},rUb:function(){return k.rUb},fIw:function(){return k.fIw},wZr:function(){return k.wZr},sID:function(){return k.sID},Ue$:function(){return k.Ue$},N76:function(){return k.N76},d$F:function(){return k.d$F},iSS:function(){return k.iSS},tnc:function(){return k.tnc},uzP:function(){return k.uzP},OHP:function(){return k.OHP},FFi:function(){return k.FFi},kbx:function(){return k.kbx},mf2:function(){return k.mf2},Oo1:function(){return k.Oo1},Su6:function(){return k.Su6},FGl:function(){return k.FGl},tqO:function(){return k.tqO},YlG:function(){return k.YlG},jos:function(){return k.jos},Yp7:function(){return k.Yp7},azO:function(){return k.azO},zhv:function(){return k.zhv},Qcn:function(){return k.Qcn},EhD:function(){return k.EhD},OCu:function(){return k.OCu},zEW:function(){return k.zEW},DYi:function(){return k.DYi},M6W:function(){return k.M6W},nHs:function(){return k.nHs},Lyo:function(){return k.Lyo},dae:function(){return k.dae},hhn:function(){return k.hhn},I$z:function(){return k.I$z},FY1:function(){return k.FY1},hlA:function(){return k.hlA},o8E:function(){return k.o8E},sE5:function(){return k.sE5},YTn:function(){return k.YTn},kmx:function(){return k.kmx},XvF:function(){return k.XvF},O7J:function(){return k.O7J},szC:function(){return k.szC},z1A:function(){return k.z1A},HNq:function(){return k.HNq},NM3:function(){return k.NM3},v_6:function(){return k.v_6},cRz:function(){return k.cRz},Jg_:function(){return k.Jg_},vcn:function(){return k.vcn},ZW3:function(){return k.ZW3},Tos:function(){return k.Tos},pgY:function(){return k.pgY},X$5:function(){return k.X$5},x3p:function(){return k.x3p},OeF:function(){return k.OeF},P7O:function(){return k.P7O},_TL:function(){return k._TL},Sdo:function(){return k.Sdo},mPI:function(){return k.mPI},Vxe:function(){return k.Vxe},GVD:function(){return k.GVD},NSy:function(){return k.NSy},Wyr:function(){return k.Wyr},NCH:function(){return k.NCH},C0T:function(){return k.C0T},Nur:function(){return k.Nur},rvz:function(){return k.rvz},lOv:function(){return k.lOv},aVh:function(){return k.aVh},xsS:function(){return k.xsS},Xru:function(){return k.Xru},qn9:function(){return k.qn9},D7v:function(){return k.D7v},RTf:function(){return k.RTf},Df6:function(){return k.Df6},NeA:function(){return k.NeA},OKb:function(){return k.OKb},wPL:function(){return k.wPL},Q7e:function(){return k.Q7e},dEg:function(){return k.dEg},Cw4:function(){return k.Cw4},KPO:function(){return k.KPO},DTg:function(){return k.DTg},N3Q:function(){return k.N3Q},KqR:function(){return k.KqR},zEM:function(){return k.zEM},zAv:function(){return k.zAv},avh:function(){return k.avh},Ycs:function(){return k.Ycs},$tK:function(){return k.$tK},Obn:function(){return k.Obn},Hw6:function(){return k.Hw6},nT8:function(){return k.nT8},Wgo:function(){return k.Wgo},Jtm:function(){return k.Jtm},OKm:function(){return k.OKm},qhx:function(){return k.qhx},aI3:function(){return k.aI3},bgS:function(){return k.bgS},Jv$:function(){return k.Jv$},M9r:function(){return k.M9r},KDo:function(){return k.KDo},NMr:function(){return k.NMr},L8i:function(){return k.L8i},Qy1:function(){return k.Qy1},nNh:function(){return k.nNh},ZK$:function(){return k.ZK$},hYU:function(){return k.hYU},ZsG:function(){return k.ZsG},f8Y:function(){return k.f8Y},ICu:function(){return k.ICu},ZJH:function(){return k.ZJH},E_j:function(){return k.E_j},pPX:function(){return k.pPX},M1o:function(){return k.M1o},rNt:function(){return k.rNt},Vdy:function(){return k.Vdy},Lsf:function(){return k.Lsf},WVz:function(){return k.WVz},T$G:function(){return k.T$G},b4v:function(){return k.b4v},Bv:function(){return k.Bv},afL:function(){return k.afL},YCZ:function(){return k.YCZ},c82:function(){return k.c82},nSp:function(){return k.nSp},uqN:function(){return k.uqN},$om:function(){return k.$om},Q4C:function(){return k.Q4C},h4g:function(){return k.h4g},eCV:function(){return k.eCV},NKe:function(){return k.NKe},paz:function(){return k.paz},vKy:function(){return k.vKy},RCf:function(){return k.RCf},ngL:function(){return k.ngL},F6l:function(){return k.F6l},Dp0:function(){return k.Dp0},qSK:function(){return k.qSK},kZV:function(){return k.kZV},Z3l:function(){return k.Z3l},h63:function(){return k.h63},tIz:function(){return k.tIz},HFX:function(){return k.HFX},ESI:function(){return k.ESI},xCN:function(){return k.xCN},vaS:function(){return k.vaS},Csi:function(){return k.Csi}});var r=t(30906),i=t(19049),o=t(95508),a=t(73316),l=t(19519),u=t(16637),c=t(6670),s=t(78034),d=t(65146),f=t(67624),v=t.n(f),m=t(34346),_=t.n(m),p=t(21155),h=t.n(p),g=t(58075),E=t(89474),y=t(71116),S=t(43899),I=t(85818),L=t(10838),k=t(57349),w=t(83860),Z=function(e){(0,c.Z)(t,e);var n=(0,s.Z)(t);function t(){var e,o;(0,i.Z)(this,t),o=n.call(this,k.CpO.instance,{host:(0,g.iE)().API_DOMAIN,aid:"6383",live_id:1,app_name:"douyin_web",did_rule:3,endpoint:"live_pc",support_wrds:1,user_unique_id:null===(e=(0,y.Es)())||void 0===e?void 0:e.user_unique_id,im_path:"/webcast/im/fetch/",websocket_key:[]},[],{emitter:new S.Q,backdropWhenHidden:"undefined"!=typeof window?["MemberMessage","ChatMessage","GiftMessage","LikeMessage"]:undefined}),(0,d.Z)((0,a.Z)(o),"headers",{}),(0,d.Z)((0,a.Z)(o),"cachedHandler",new(v()));var l=(0,r.Z)((0,r.Z)({},o.wrds),{},{subscribe:function(e,n){var t,r=_()(t=e.split(",")).call(t,(function(t){return o.wrds.on("RoomDataSyncMessage",e,n,"v1")}));return function(){h()(r).call(r,(function(e){return e()}))}},unsubscribe:function(e,n){var t;h()(t=e.split(",")).call(t,(function(e){o.wrds.off("RoomDataSyncMessage",e,n)}))}});return o.wrds=l,E.s||(window.__use_isaac_sdk=!0),k.CpO.instance.loadSchema(),o.systemEmitter.on("downgrade",(function(){var e,n,t,r,i,o;window.slardar.report({ev_type:"custom",payload:{name:"im-sdk-downgrade",metrics:{downgrade:1},categories:{type:scope,userId:null===(e=window.INITIAL_STATE)||void 0===e||null===(n=e.userStore)||void 0===n||null===(t=n.userInfo)||void 0===t?void 0:t.id_str,roomId:null===(r=window.INITIAL_STATE)||void 0===r||null===(i=r.roomStore)||void 0===i||null===(o=i.roomInfo)||void 0===o?void 0:o.roomId},type:"event"}})})),o.systemEmitter.on("error",(function(e,n){var t,r,i,o,a,l;window.slardar.report({ev_type:"custom",payload:{name:"im-sdk-error",metrics:(0,d.Z)({},e,1),categories:{type:e,userId:null===(t=window.INITIAL_STATE)||void 0===t||null===(r=t.userStore)||void 0===r||null===(i=r.userInfo)||void 0===i?void 0:i.id_str,roomId:null===(o=window.INITIAL_STATE)||void 0===o||null===(a=o.roomStore)||void 0===a||null===(l=a.roomInfo)||void 0===l?void 0:l.roomId},content:"".concat(n),level:"warn",type:"log"}})})),o}return(0,o.Z)(t,[{key:"setImRequestPath",value:function(e){this.polling.props.im_path=e}},{key:"setWebsocketKey",value:function(e){this.polling.props.websocket_key=e}},{key:"getimReponseHeader",value:function(){return this.headers.fetchHeader}},{key:"getCursor",value:function(){var e;return null==this||null===(e=this.cursor)||void 0===e?void 0:e._first_cursor}},{key:"getPolling",value:function(){return this.polling}},{key:"getDecoder",value:function(){return null==this?void 0:this.decoder}},{key:"getimPushResponseHeader",value:function(){return this.headers.pushHeader}},{key:"getimHeader",value:function(){return this.headers}},{key:"subscribe",value:function(e,n){var t,r=this;if((arguments.length>2&&arguments[2]!==undefined?arguments[2]:w.C7.ASYNC)===w.C7.ASYNC){var i,o=_()(i=e.split(",")).call(i,(function(e){return r.on(e.replace(I.nl,""),n)}));return function(){h()(o).call(o,(function(e){return e()}))}}var a=function(e){return n([e])};this.cachedHandler.set(n,a);var l=_()(t=e.split(",")).call(t,(function(e){return r.syncOn(e.replace(I.nl,""),a)}));return function(){r.cachedHandler.delete(n),h()(l).call(l,(function(e){return e()}))}}},{key:"unsubscribe",value:function(e,n){var t,r=this;if((arguments.length>2&&arguments[2]!==undefined?arguments[2]:w.C7.ASYNC)!==w.C7.ASYNC){var i=this.cachedHandler.get(n);this.cachedHandler.delete(n),h()(t=e.split(",")).call(t,(function(e){return r.syncOff(e.replace(I.nl,""),i)}))}else{var o;h()(o=e.split(",")).call(o,(function(e){return r.off(e.replace(I.nl,""),n)}))}}},{key:"start",value:function(e){var n=this;arguments.length>1&&undefined;this.systemEmitter.on("header",(function(e,t){"http"!==e||n.headers.fetchHeader?"socket"!==e||(n.headers.pushHeader=t):n.headers.fetchHeader=t})),"string"==typeof e?(0,l.Z)((0,u.Z)(t.prototype),"start",this).call(this,{room_id:e,identity:I.nN.Audience,need_persist_msg_count:"15"}):(0,l.Z)((0,u.Z)(t.prototype),"start",this).call(this,(0,r.Z)({identity:I.nN.Audience,need_persist_msg_count:"15"},e))}},{key:"queuePush",value:function(){for(var e=this,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];h()(t).call(t,(function(n){return e.mock(n.method,n)}))}}]),t}(L.TQ)},77259:function(e,n,t){t.r(n),t.d(n,{default:function(){return Ae},getFunctionType:function(){return Pe},getLayoutParams:function(){return Te}});var r=t(56402),i=t.n(r),o=t(36838),a=t.n(o),l=t(11227),u=t.n(l),c=t(8e3),s=t.n(c),d=t(90457),f=t.n(d),v=t(88743),m=t.n(v),_=t(32153),p=t(30673),h=t(32781),g=t(64408),E=t(65146),y=t(30906),S=t(89884),I=t.n(S),L=t(19478),k=t.n(L),w=t(51088),Z=t.n(w),b=t(5794),N=t.n(b),C=t(77370),O=t.n(C),P=t(5594),T=t.n(P),A=t(34346),M=t.n(A),D=t(21155),R=t.n(D),x=t(50750),V=t.n(x),F=t(84639),U=t.n(F),B=t(58144),G=t.n(B),H=t(68493),K=t.n(H),j=t(94090),W=t.n(j),Y=t(53361),z=t.n(Y),q=t(19672),Q=t.n(q),J=t(56442),X=t.n(J),$=t(85792),ee=t.n($),ne=t(74637),te=t(46611),re=t(15504),ie=t(51185),oe=t(75478),ae=t(69594),le=t(6279),ue=t(28480),ce=t(36692),se=t(12252),de=t(19181),fe=t(30022),ve=t(60645),me=t(74584),_e=t(57349),pe=t(53864),he=t(68864),ge=t(82524),Ee=t(34590),ye=t(65364),Se=t(20121),Ie=function(){var e=(0,ge.Z)(),n=e.roomStore.roomInfo,t=e.linkmicStore.playModes,r=i()(n,"roomId",""),o=pe.useRef(!1),a=pe.useState(),l=(0,h.Z)(a,2),c=l[0],s=l[1],d=pe.useMemo((function(){return null==t?void 0:f()(t).call(t,(function(e){var n;return u()(n=[Se.V0.LinkmicPlayMode_GuestBattle,Se.V0.LinkmicPlayMode_Teamfight,Se.V0.LinkmicPlayMode_RoomBattle,Se.V0.LinkmicPlayMode_AudioChat_1_PLUS_8]).call(n,e)}))}),[]);return pe.useEffect((function(){!o.current&&d&&(0,ne.y_)({room_id:r,_point:1}).then((function(e){s(null==e?void 0:e.data),o.current=!0}))}),[d,r]),c},Le=t(94189),ke=t(46680),we=t(42044),Ze=t(90979),be=!1;var Ne=k()((function(){Ee.F.info.apply(Ee.F,arguments)}),1e3),Ce=function(e){var n=e.isVerifyed,t=(0,ge.Z)(),r=t.isLiveModal,o=t.linkmicStore,l=o.setFloatModal,c=o.imLinkMicLayout,d=o.linkMicConfig,v=o.linkMicLayout,_=o.seiLinkMicLayout,S=o.setEnlargeSeatApplyUid,L=o.teamfightInfo,k=o.setIsPlayModeNotSupport,w=(o.isSing,o.linkRoomType),b=(o.sceneNum,o.setSceneNum),C=o.playModes,P=o.playModesPC,A=o.setPlayModes,D=o.setTeamfightInfo,x=o.guestBattleInfo,F=o.setGuestBattleInfo,B=o.orderSingInfo,H=o.setOrderSingInfo,j=o.updateLinkMicConfig,Y=o.linkMicSeats,q=o.linkMicSeatsRaw,J=o.setImLinkMicSeats,$=o.setSeiLinkMicSeats,Se=o.setLinkStatus,Ce=o.setImLinkMicLayout,Oe=o.setUiLayout,Ae=o.setSeiLinkMicLayout,Me=o.setOtherRoomLinkSilenceStatus,De=o.linkStatus,Re=o.setLinkMicConfig,xe=o.selfLinkMicId,Ve=o.resetStore,Fe=o.setOrderSingUserScore,Ue=o.dressListInfo,Be=o.setDressListInfo,Ge=(o.linkMicLayout,o.setLinkMicSettings),He=o.dressMvpInfo,Ke=o.setDressMvpInfo,je=o.dressListAll,We=t.roomStore,Ye=We.roomInfo,ze=We.setNotSupportReason,qe=t.userStore.userInfo,Qe=t.singletonStore,Je=Qe.message,Xe=Qe.audioPower,$e=t.eventStore.linkmicEvent,en=(0,me.n)().player,nn=(0,he.Z)().leave,tn=(0,we.Z)().isGuestBattle,rn=(0,Ze.Z)().isGroupFight,on=(i()(Ye,"room.linker_map",{}),pe.useRef(!1)),an=pe.useRef({}),ln=pe.useRef({}),un=pe.useRef(),cn=pe.useRef({}),sn=pe.useRef(undefined),dn=pe.useRef([]),fn=pe.useRef(!1),vn=pe.useRef(undefined),mn=pe.useRef(undefined),_n=pe.useRef(undefined),pn=pe.useCallback((function(){return q}),[q]);pe.useEffect((function(){_n.current=Y}),[Y]);var hn=pe.useCallback((function(e,n){var t=[];return null==e||M()(e).call(e,(function(e){null!=n&&f()(n).call(n,(function(n){return(null==n?void 0:n.linkmic_id_str)===(null==e?void 0:e.linkmic_id_str)}))||t.push(e)})),t}),[]),gn=pe.useCallback((function(){var e;return xe&&un.current?(0,y.Z)((0,y.Z)({},null!==(e=ln.current)&&void 0!==e?e:{}),{},(0,E.Z)({},xe,un.current)):ln.current}),[xe]),En=pe.useCallback((function(){return cn.current}),[]),yn=pe.useCallback((function(e){Ae(e)}),[Ae]);(0,ve.w)({selfLinkMicId:xe,setLayout:yn,setSeats:$,layout:_,getUsers:gn,getPositions:En,getSeats:pn,enable:!0,roomIdStr:Ye.roomId,audioPower:Xe});var Sn=pe.useCallback((function(e){var n,t,r=e===undefined?c:e,i=O()(le.Fk);return r===fe.yP.VIDEO_DYNAMIC&&(i={}),R()(n=m()(an.current)).call(n,(function(e){"number"==typeof e.user_position&&(i[e.user_position]={idx:e.user_position,user:e})})),R()(t=V()(cn.current)).call(t,(function(e){cn.current[e]&&(i[e].info=(0,y.Z)({},cn.current[e]))})),1===V()(i).length&&r===fe.yP.VIDEO_DYNAMIC&&(i[1]={idx:1}),i}),[c]),In=pe.useCallback((function(e){var n=e.listUsers,t=e.type,r=e.linkUsers,i=e.version,o=t===undefined?c:t,a=function(e,n){var t,r={};(R()(e).call(e,(function(e){var t,i,a,l;if(e&&"number"==typeof e.user_position&&("number"!=typeof e.is_background&&(e.is_background=Number(e.is_background)),null!==(t=e.content)&&void 0!==t&&null!==(i=t.linkmic_audience_content)&&void 0!==i&&i.rank_contributor_ids)){var u,c,s=null===(u=e.content)||void 0===u||null===(c=u.linkmic_audience_content)||void 0===c?void 0:c.rank_contributor_ids;s[0];s&&(e.content.linkmic_audience_content.rank_contributor_ids=s)}e&&e.linkmic_id_str&&(null!=qe&&qe.id_str&&(null===(a=e.user)||void 0===a?void 0:a.id_str)===(null==qe?void 0:qe.id_str)&&(un.current=e),e.user_position=Number(null!==(l=null==e?void 0:e.user_position)&&void 0!==l?l:0),o!==fe.yP.VIDEO_6V6||n||(e.user_position=e.user_position+fe.Lf[o]),r[e.linkmic_id_str]=e)})),o===fe.yP.VIDEO_6V6&&0===V()(r).length)&&R()(t=V()(an.current)).call(t,(function(e){var t,i,a=null==an?void 0:an.current[e];(n&&(null!==(t=null==a?void 0:a.user_position)&&void 0!==t?t:0)<fe.Lf[o]||!n&&(null!==(i=null==a?void 0:a.user_position)&&void 0!==i?i:0)>=fe.Lf[o])&&(r[e]=a)}));return r},l=a(null!=n?n:[],!0),u=o===fe.yP.VIDEO_6V6?a(null!=r?r:[],!1):[],s=(0,y.Z)((0,y.Z)({},l),u);ln.current=U()({},ln.current,an.current,s),an.current=s;var d=Sn(o);return J(d,i),d}),[J,Sn,qe,c]),Ln=pe.useCallback((function(e){var n={};return null==e||R()(e).call(e,(function(e){"undefined"!=typeof e.key&&"undefined"!=typeof e.value&&(n[e.key]=e.value)})),n}),[]),kn=pe.useMemo((function(){var e;return!(0===s()(e=a()(Y)).call(e,(function(e){return Boolean(null==e?void 0:e.user)})).length)}),[Y]);pe.useEffect((function(){undefined,fn.current=!0,sn.current=c}),[kn]),pe.useEffect((function(){fn.current&&c!==undefined&&(P.length!==dn.current.length?P.length<dn.current.length&&(0,le.SH)(sn.current,dn.current):sn.current===fe.yP.VIDEO_6V6&&(0,le.SH)(sn.current,dn.current)),dn.current=P}),[c,P]),pe.useEffect((function(){var e;v===fe.yP.AUDIO_1V8||v===fe.yP.AUDIO_GRID||v===fe.yP.VIDEO_GRID||v===fe.yP.VIDEO_DYNAMIC?en.position({y:.203,h:.5}):v===fe.yP.VIDEO_6V6?en.position({y:.183,h:.52}):f()(e=[v===fe.yP.VIDEO_1V6,v===fe.yP.VIDEO_1_V_8]).call(e,Boolean)?en.position({y:1-.7375,h:.7375}):v===fe.yP.VIDEO_DYNAMIC_FLOAT?en.position({y:0,h:1}):v===fe.yP.VIDEO_1_V_6||v===fe.yP.VIDEO_1_V_3?en.position({y:.203,h:.5}):v===fe.yP.VIDEO_T1_V_B8&&en.position({y:.11,h:.7375})}),[v]);var wn=Ie();pe.useEffect((function(){if(null!=wn&&wn.data&&0===(null==wn?void 0:wn.status_code)){var e=null==wn?void 0:wn.data,n=e.teamfight_info,t=e.guest_battle_info;n&&D(n),t&&F(t),c===fe.yP.VIDEO_6V6&&(null==$e||$e.liveAudiencePlayModeRoomEvent(sn.current))}}),[wn]),pe.useEffect((function(){var e,n=null!==(e=null==x?void 0:x.dress_id)&&void 0!==e?e:"",t=(null==L?void 0:L.dressId)||(null==L?void 0:L.dress_id)||"";if(n!==(null==Ue?void 0:Ue.dress_id)&&""!==n){var r=G()(je).call(je,(function(e){return e.dress_id===n}));r?Be(r):(0,ne.VT)({dress_id:n}).then((function(e){var n;if(null!=e&&null!==(n=e.data)&&void 0!==n&&n.data){var t,r,i,o=null!==(t=null==e||null===(r=e.data)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.dress_list)&&void 0!==t?t:[];o.length&&Be(o[0])}}))}if(t!==(null==He?void 0:He.dress_id)&&""!==t){var i=G()(je).call(je,(function(e){return e.dress_id===t}));i?Ke(i):(0,ne.VT)({dress_id:i}).then((function(e){var n;if(null!=e&&null!==(n=e.data)&&void 0!==n&&n.data){var t,r,i,o=null!==(t=null==e||null===(r=e.data)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.dress_list)&&void 0!==t?t:[];o.length&&Ke(o[0])}}))}}),[null==x?void 0:x.battle_id_str,L]);var Zn=pe.useCallback((0,g.Z)(T().mark((function e(){var n,t,r,o,a,l,s,d,f,v,m,_,g,E,S,I,L,k,w,Z,b,N,O,P,A;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i()(Ye,"roomId",""),t=i()(Ye,"anchor.sec_uid",""),r=i()(Ye,"anchor.id_str",""),o=i()(Ye,"room.AnchorABMap.live_linkmic_order_sing_micro_opt",""),e.next=6,K().all([(0,ne.lx)({room_id:n,anchor_id:r}),(0,ne.$s)(n,t)]);case 6:if(a=e.sent,l=(0,h.Z)(a,2),s=l[0],(d=l[1]).data&&0===d.status_code&&(v=Ln(null===(f=d.data)||void 0===f?void 0:f.settings),Re((0,y.Z)((0,y.Z)({},d.data),{},{config:v}))),s.data.data&&0===s.data.status_code&&(g=s.data.data,E=g.user,S=g.locked_positions,I=g.linker_content_map,null==S||R()(S).call(S,(function(e){"undefined"!=typeof e.position&&(cn.current[e.position]=e)})),c===fe.yP.VIDEO_6V6&&(k=null==I?void 0:I[null===(L=V()(I))||void 0===L?void 0:L[0]].room_link_silence_status)!==undefined&&Me(k),In({listUsers:E,type:c,linkUsers:null==I||null===(m=I[null===(_=V()(I))||void 0===_?void 0:_[0]])||void 0===m?void 0:m.linked_users})),!u()(C).call(C,_e.V0x.LinkmicPlayMode_OrderSing)){e.next=20;break}return e.next=15,K().all([(0,ne.RO)({room_id:n}),(0,ye.ZP)({service_name:"webcast.douyin.live_pc",key:"order_sing_info"})]);case 15:w=e.sent,Z=(0,h.Z)(w,2),b=Z[0],N=Z[1],b.data.data&&0===b.data.status_code&&((A=b.data.data).live_linkmic_order_sing_micro_opt=o,A.golden_microphone_icon=null==N?void 0:N.golden_microphone_icon,A.silver_microphone_icon=null==N?void 0:N.silver_microphone_icon,A.user_microphone_list=null!==(O=null===(P=b.data.data.user_microphone_list)||void 0===P?void 0:M()(P).call(P,(function(e){var n,t,r,i;(null===(n=null==e||null===(t=e.microphone_list)||void 0===t?void 0:t.length)||void 0===n||n)&&(e.microphone_list=W()(r=[]).call(r,(0,p.Z)(null!==(i=e.microphone_list)&&void 0!==i?i:[]),[{microphone_type:_e.W5X.GOLDEN_MICROPHONE,micro_phone_num:0}]));return e})))&&void 0!==O?O:[],H(A),null==$e||$e.liveAudiencePlayModeRoomEvent(sn.current));case 20:case"end":return e.stop()}}),e)}))),[In,Ye,Re,c,Ln,Me,C,H]);pe.useEffect((function(){on.current||(Zn(),on.current=!0)}),[Zn]);var bn=(0,Le.F)(),Nn=pe.useRef(De);pe.useEffect((function(){Nn.current=De}),[De]),pe.useEffect((function(){return Je.syncOn("ControlMessage",(function(e){var n=e.method,t=e.payload;if(n&&t)switch(Number(t.action)){case te.Rz.FINISH:case te.Rz.FINISH_BY_ADMIN:case te.Rz.ROOM_FINISH_BY_SWITCH:re.k.info("\u76f4\u64ad\u95f4\u65ad\u64ad\u6d88\u606f\u4e0b\u53d1, \u79bb\u5f00\u804a\u5929\u5ba4"),be=!0,nn(ie.JW.NONE,ie._o.ANCHOR).finally((function(){null==$e||$e.liveLinkMicDurationEvent(sn.current),null==$e||$e.liveVoiceRoomLayoutWatchDuration(Te(sn.current,(0,ke.ic)(_n.current)),Pe(sn.current)),(0,le.SH)(c,P)?(null==$e||$e.liveAudiencePlayModeRoomWatchDurationEvent(sn.current,vn.current),De===le.cK.LINKED&&(null==$e||$e.liveAudiencePlayModeRoomLinkDurationEvent(undefined,vn.current)),De===le.cK.LINKED&&(null==$e||$e.liveLeaveLinkMicEvent(ie.JW.NONE,ie._o.ANCHOR,vn.current))):tn&&(null==$e||$e.liveLeaveLinkMicEvent(ie.JW.NONE,ie._o.ANCHOR),null==$e||$e.liveAudiencePlayModeRoomWatchDurationEvent()),Ve()}))}}))}),[nn,Ve,P,c,De,n,Je,$e]),pe.useEffect((function(){return null==Je?void 0:Je.syncOn("MemberMessage",(function(e){var n=e.method,t=e.payload;if(n&&t){var i=Number(t.action);switch(i){case te.WU.KICK_OUT:case te.WU.BLOCK:case te.WU.LEAVE:if(i===te.WU.LEAVE&&"WEB_INITIATIVE"===(null==t?void 0:t.action_description))return;if(i===te.WU.LEAVE&&r)return;re.k.info("\u76f4\u64ad\u95f4\u7528\u6237\u88ab\u8e22\u51fa, \u79bb\u5f00\u804a\u5929\u5ba4"),nn(ie.JW.NONE,ie._o.ANCHOR).finally((function(){null==$e||$e.liveLinkMicDurationEvent(sn.current),null==$e||$e.liveVoiceRoomLayoutWatchDuration(Te(sn.current,(0,ke.ic)(_n.current)),Pe(sn.current)),(0,le.SH)(c,P)&&(null==$e||$e.liveAudiencePlayModeRoomWatchDurationEvent(sn.current,vn.current)),Ve()}))}}}))}),[nn,Ve,v,P,c,n,Je,$e,r]),pe.useEffect((function(){return Je.syncOn("NoticeMessage",(function(e){var n=e.method,t=e.payload;if(n&&t&&Number(t.notice_type)===te.F3.PAUSE)re.k.info("\u76f4\u64ad\u95f4\u88ab\u5c01\u7981, \u79bb\u5f00\u804a\u5929\u5ba4"),nn(ie.JW.NONE,ie._o.ANCHOR).finally((function(){null==$e||$e.liveLinkMicDurationEvent(sn.current),null==$e||$e.liveVoiceRoomLayoutWatchDuration(Te(sn.current,(0,ke.ic)(_n.current)),Pe(sn.current)),(0,le.SH)(c,P)&&(null==$e||$e.liveAudiencePlayModeRoomWatchDurationEvent(sn.current,vn.current)),Ve()}))}))}),[n]),pe.useEffect((function(){return Je.syncOn("LinkSettingNotifyMessage",(function(e){var n=e.method,t=e.payload;if(n&&t){var r=Number(null==t?void 0:t.message_type);re.k.info("uselinkmic",n,r,t);var i=t.settings;null!=i&&G()(i).call(i,(function(e){return 24===e.value}))?Ce(fe.yP.AUDIO_1V8):null!=i&&G()(i).call(i,(function(e){return 26===e.value}))&&Ce(fe.yP.AUDIO_GRID);try{if(null!=i&&G()(i).call(i,(function(e){return 72===e.key}))){var o,l,u=z()(o=a()(d.settings)).call(o,(function(e){return 72===e.key})),c=null==i?void 0:G()(i).call(i,(function(e){return 72===e.key}));if(u>=0&&Q()(d.settings)&&u<(null===(l=d.settings)||void 0===l?void 0:l.length)){var s,f=null===(s=d.settings)||void 0===s?void 0:X()(s).call(s);f[u]=(0,oe._0)(c),Ge(f)}}}catch(m){re.k.info("\u5904\u7406\u5609\u5bbe\u5927\u4f5c\u6218\u8bbe\u7f6e\u6d88\u606f\u53d8\u66f4\u5f02\u5e38",m)}var v=Ln(i);j(v)}}))}),[n,Ln,null==d?void 0:d.settings,Ce,Ge,j]),pe.useEffect((function(){return Je.syncOn("LinkMicMethod",(function(e){var n=e.method,t=e.payload;if(n&&t)switch(Number(t.message_type)){case ce.iM.TYPE_KICKOUTED:Ee.F.info("\u4f60\u7684\u8fde\u7ebf\u5df2\u88ab\u65ad\u5f00");break;case ce.iM.TYPE_SWITCH_SCENE:var r,i=t.scene,o=(t.play_modes,t.linked_list_users),a=void 0===o?[]:o,l=t.linker_content_map,u=void 0===l?{}:l,s=t.ui_layout;if(Oe(s),"string"==typeof i){var d=Number(i);if(b(d),d===te.vX.AUDIO_KTV)k(!0),ze(te.Ly.MULTI_KTV);else{var f=Number(s);r=(0,ae.M2)(f)}r!==undefined&&Ce(r)}if((r=r===undefined?c:r)===fe.yP.VIDEO_6V6){var v,_,p=null===(v=m()(u))||void 0===v||null===(_=v[0])||void 0===_?void 0:_.linked_users,h=hn(a,p);In({listUsers:null==h?void 0:M()(h).call(h,oe._0),type:r,linkUsers:null==p?void 0:M()(p).call(p,oe._0)})}else In({listUsers:null==a?void 0:M()(a).call(a,oe._0),type:r,version:null==t?void 0:t.version});case ce.iM.TYPE_FINISH:}}))}),[bn,hn,c,De,null==en?void 0:en.root,Ye,Ce,k,ze,b,In,n]),pe.useEffect((function(){return Je.syncOn("LinkMessage",(function(e){var n,t,r,i,o,a,l,u,s,d,f,v,_,p=e.method,h=e.payload;if(p&&h){var g=Number(h.message_type);switch(re.k.info("uselinkmic",p,g,h),g){case ue.W6.TYPE_LINKER_CLOSE:be||nn(ie.JW.NONE,ie._o.ANCHOR).finally((function(){null==$e||$e.liveAudiencePlayModeRoomWatchDurationEvent(undefined,vn.current),null==$e||$e.liveLinkMicDurationEvent(sn.current,vn.current),null==$e||$e.liveVoiceRoomLayoutWatchDuration(Te(sn.current,(0,ke.ic)(_n.current)),Pe(sn.current)),De===le.cK.LINKED&&(null==$e||$e.liveAudiencePlayModeRoomLinkDurationEvent(undefined,vn.current)),De===le.cK.LINKED&&(null==$e||$e.liveLeaveLinkMicEvent(ie.JW.NONE,ie._o.ANCHOR,vn.current)),Ve()}));break;case ue.W6.TPYE_LINKER_LEAVE:In({listUsers:null===(n=h.leave_content)||void 0===n||null===(t=n.linked_users)||void 0===t?void 0:M()(t).call(t,oe._0),version:null==h||null===(r=h.leave_content)||void 0===r?void 0:r.version});break;case ue.W6.TPYE_LINKER_ENTER:if(In({listUsers:null==h||null===(i=h.enter_content)||void 0===i||null===(o=i.linked_users)||void 0===o?void 0:M()(o).call(o,oe._0),version:null==h||null===(a=h.enter_content)||void 0===a?void 0:a.version}),null!=qe&&qe.id_str&&(null===(l=h.enter_content)||void 0===l?void 0:l.user_id)===(null==qe?void 0:qe.id_str)){var E=Sn();J(E)}break;case ue.W6.TYPE_LINKER_UPDATE_USER:In({listUsers:null===(u=h.update_user_content)||void 0===u||null===(s=u.linked_users)||void 0===s?void 0:M()(s).call(s,oe._0),version:null==h||null===(d=h.update_user_content)||void 0===d?void 0:d.version});break;case ue.W6.TPYE_LINKER_SYS_KICK_OUT:case ue.W6.TPYE_LINKER_KICK_OUT:re.k.info("\u63a5\u6536\u88ab\u8e22\u51fa\u623f\u95f4\uff0c\u66f4\u65b0\u4e0a\u9ea6\u72b6\u6001"),nn(ie.JW.NONE,ie._o.ANCHOR).finally((function(){Se(le.cK.NOT_LINK)}));break;case ue.W6.TYPE_LINKER_LOCK_POSITION:var y=h.lock_position_content.locked_positions;cn.current={},null==y||R()(y).call(y,(function(e){if("string"==typeof e.position){var n=Number(e.position);e.position=n,cn.current[n]=e}else"number"==typeof e.position&&(cn.current[e.position]=e)}));var I=Sn();J(I);break;case ue.W6.TYPE_LINKER_LINKED_LIST_CHANGE:var L,k,w,Z,b,N,C;if(c===fe.yP.VIDEO_6V6)In({listUsers:undefined,type:c,linkUsers:null===(L=m()(null===(Z=h.linked_list_change_content)||void 0===Z?void 0:Z.linker_content_map))||void 0===L||null===(k=L[0])||void 0===k||null===(w=k.linked_users)||void 0===w?void 0:M()(w).call(w,oe._0)});else In({listUsers:null===(b=h.linked_list_change_content)||void 0===b||null===(N=b.linked_users)||void 0===N?void 0:M()(N).call(N,oe._0),version:null===(C=h.linked_list_change_content)||void 0===C?void 0:C.version});break;case ue.W6.TYPE_LINKER_CROSS_ROOM_UPDATE:var O=h.cross_room_update_content.linker_content_map;Me(null===(f=m()(O))||void 0===f||null===(v=f[0])||void 0===v?void 0:v.room_link_silence_status);break;case ue.W6.TYPE_ENLARGE_GUEST_INVITE:S(null==h||null===(_=h.enlarge_guest_invite_content)||void 0===_?void 0:_.from_user_id);break;case ue.W6.TYPE_LINKER_UILAYOUT_CHANGE:var P=(null==h?void 0:h.linker_ui_layout_change_content).ui_layout,T=Number(P);Oe(T),Ce((0,ae.M2)(T))}}}))}),[n,S,c,In,Se,nn,Ve,Sn,J,De,Ce,Me,qe]),pe.useEffect((function(){return Je.syncOn("LinkerContributeMessage",(function(e){var n,t=e.method,r=e.payload;if(t&&r){Number(null==r?void 0:r.message_type);var i=r.total_score_str,o=r.total_score_real_str,a=r.user_contribute_list,l=r.user_id,u=(null==a?void 0:M()(a).call(a,(function(e){return String(null==e?void 0:e.user_id)})))||[],c=String(l),s=G()(n=V()(an.current)).call(n,(function(e){var n;return(null===(n=an.current[e].user)||void 0===n?void 0:n.id_str)===c}));if(s&&an.current[s]){var d,f=null===(d=an.current[s].content)||void 0===d?void 0:d.linkmic_audience_content;f&&(f.rank_contributor_ids=u,f.fan_ticket_real_str=o,f.fan_ticket_fuzzy_str=i)}var v=Sn();J(v)}}))}),[Sn,J,n]),pe.useEffect((function(){return Je.syncOn("LinkmicTeamfightScoreMessage",(function(e){var n=e.method,t=e.payload;if(n&&t){Number(null==t?void 0:t.message_type);var r=t.teamfight_info,i=(0,oe._0)(r);vn.current=L,D(i,!0)}}))}),[D,L]),pe.useEffect((function(){return Je.syncOn("LinkmicTeamfightMessage",(function(e){var n,t=e.method,r=e.payload;if(t&&r){Number(null==r?void 0:r.message_type);var o,a,l,s=r.teamfight_info,d=r.finish_content,v=r.settle_content,_=(0,oe._0)(s),p=null==qe?void 0:qe.id_str,h=N()(null==s||null===(n=s.team_infos)||void 0===n?void 0:M()(n).call(n,(function(e){var n;return null==e||null===(n=e.players)||void 0===n?void 0:M()(n).call(n,(function(e){return String(null==e?void 0:e.user_id)}))}))),g=null==h?void 0:u()(h).call(h,p);if(r.msg_type===_e.Vql.LinkmicTeamfightMessageType_CREATE)null==$e||$e.liveLinkMicRoomShowEvent(sn.current||fe.yP.VIDEO_T1_V_B8),(null==r||null===(o=r.teamfight_info)||void 0===o?void 0:o.type)===se.yw.LinkmicTeamfightType_TWO_TEAM&&("video"===w?I()():Ce(fe.yP.AUDIO_1V8),g&&(null==$e||$e.liveAudiencePlayModeRoomLinkEvent(s)));if(r.msg_type===_e.Vql.LinkmicTeamfightMessageType_START)(null==r||null===(a=r.teamfight_info)||void 0===a?void 0:a.type)===se.yw.LinkmicTeamfightType_TWO_TEAM&&g&&Ee.F.info("\u5982\u4e0d\u613f\u53c2\u4e0e\u4f5c\u6218\u53ef\u9000\u51fa\u8fde\u7ebf",en.root);if(r.msg_type===_e.Vql.LinkmicTeamfightMessageType_FINISH)if((null==r||null===(l=r.teamfight_info)||void 0===l?void 0:l.type)===se.yw.LinkmicTeamfightType_TWO_TEAM)if("video"===w)I()();else{var E=i()(Ye,"room.linker_detail.linker_play_modes",[]);ee()((function(){u()(E).call(E,24)?Ce(fe.yP.AUDIO_1V8):u()(E).call(E,26)&&Ce(fe.yP.AUDIO_GRID)}),1e3)}var y=Number(r.msg_type);if(y===_e.Vql.LinkmicTeamfightMessageType_START&&c===fe.yP.VIDEO_6V6&&(null==_?void 0:_.status)===se.Hj.LinkmicTeamfightStatus_PLAYING){var S,k=null===(S=m()(Y))||void 0===S?void 0:f()(S).call(S,(function(e){var n;return(null==e?void 0:e.user)&&(null==e?void 0:e.idx)<fe.Lf[c]&&(null===(n=e.user.user)||void 0===n?void 0:n.id_str)===qe.id_str}));k&&(Ee.F.info("\u8de8\u623f\u5bf9\u6218\u5df2\u5f00\u542f \u5982\u4e0d\u613f\u53c2\u4e0e\u5bf9\u6218\u53ef\u9000\u51fa\u8fde\u7ebf"),null==$e||$e.liveAudiencePlayModeRoomLinkEvent())}y===_e.Vql.LinkmicTeamfightMessageType_FINISH&&(Me(undefined),De===le.cK.LINKED&&(null==$e||$e.liveAudiencePlayModeRoomLinkDurationEvent(undefined,vn.current)),ee()((function(){var e,n,t,r=Nn.current===le.cK.LINKED;if(r&&""!==(null!==(e=null==d?void 0:d.guest_finish_toast)&&void 0!==e?e:""))Ne(null!==(t=null==d?void 0:d.guest_finish_toast)&&void 0!==t?t:"",en.root);else if(!r&&""!==(null!==(n=null==d?void 0:d.finish_toast)&&void 0!==n?n:"")){var i;Ne(null!==(i=null==d?void 0:d.finish_toast)&&void 0!==i?i:"",en.root)}}),1e3)),y===_e.Vql.LinkmicTeamfightMessageType_PUNISH&&""!==(null==v?void 0:v.disable_show_toast)&&(null==v?void 0:v.disable_show_toast)!==undefined&&Ee.F.info(null==v?void 0:v.disable_show_toast),vn.current=L,D(_)}}))}),[w,en.root,Ye,c,Y,De,qe,D,Ce,Me,L,Nn,n]),pe.useEffect((function(){return Je.syncOn("LinkmicOrderSingMessage",(function(e){var n=e.method,t=e.payload;if(n&&t){var r=Number(null==t?void 0:t.message_type);switch(re.k.info("uselinkmic",n,r,t),r){case de.ZP.TYPE_MESSAGE_CREATE:var i=t.order_sing_create_content;(0,ye.ZP)({service_name:"webcast.douyin.live_pc",key:"order_sing_info"}).then((function(e){var n,t,r=O()(B)||{};r.golden_microphone_icon=null==e?void 0:e.golden_microphone_icon,r.silver_microphone_icon=null==e?void 0:e.silver_microphone_icon,r.gift_id=Number(null==i?void 0:i.gift_id),r.gift_ids=null==i?void 0:i.gift_ids;var o=M()(n=V()(Y)).call(n,(function(e){var n,t;return{microphone_list:[{microphone_type:_e.W5X.GOLDEN_MICROPHONE,micro_phone_num:0},{microphone_type:_e.W5X.SILVER_MICROPHONE,micro_phone_num:0}],order_user:{id:null===(n=Y[e].user)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.id_str}}}));r.user_microphone_list=o,mn.current=B,H(r),A(W()(t=[]).call(t,(0,p.Z)(C),[_e.V0x.LinkmicPlayMode_OrderSing])),null==$e||$e.liveAudiencePlayModeRoomEvent(sn.current)})),(null==i?void 0:i.open_order_sing_toast)&&Ee.F.info(i.open_order_sing_toast);break;case de.ZP.TYPE_MESSAGE_FINISH:var o=t.order_sing_finish_content;(null==o?void 0:o.close_order_sing_toast)&&Ee.F.info(null==o?void 0:o.close_order_sing_toast),mn.current=B,H(undefined),l(le.uH.NONE),u()(C).call(C,_e.V0x.LinkmicPlayMode_OrderSing)&&A(s()(C).call(C,(function(e){return e!==_e.V0x.LinkmicPlayMode_OrderSing})));break;case de.ZP.TYPE_MESSAGE_SING_ACTION_TOAST:var a=t.order_sing_action_toast_content;null!=a&&a.start_sing_toast?Ee.F.info(a.start_sing_toast):null!=a&&a.oder_sing_toast?Ee.F.info(a.oder_sing_toast):null!=a&&a.finish_sing_toast&&Ee.F.info(a.finish_sing_toast);break;case de.ZP.TYPE_MESSAGE_SING_ACTION:(0,ne.RO)({room_id:Ye.roomId}).then((function(e){if(e.data.data&&0===e.data.status_code){var n,t,r=O()(B)||e.data.data;r.user_microphone_list=null!==(n=null===(t=e.data.data.user_microphone_list)||void 0===t?void 0:M()(t).call(t,(function(e){var n,t,r,i;(null===(n=null==e||null===(t=e.microphone_list)||void 0===t?void 0:t.length)||void 0===n||n)&&(e.microphone_list=W()(r=[]).call(r,(0,p.Z)(null!==(i=e.microphone_list)&&void 0!==i?i:[]),[{microphone_type:_e.W5X.GOLDEN_MICROPHONE,micro_phone_num:0}]));return e})))&&void 0!==n?n:[],r.current_sing_item=e.data.data.current_sing_item,r.auto_enlarge=e.data.data.auto_enlarge,r.gift_id=e.data.data.gift_id,H(r)}}))}}}))}),[n,Ye.roomId,l,Y,C,A,B,H]),pe.useEffect((function(){return Je.syncOn("LinkmicOrderSingScoreMessage",(function(e){var n,t,r,i=e.method,o=e.payload;if(i&&o){var a=Number(null==o?void 0:o.message_type);re.k.info("uselinkmic",i,a,o);var l=o.order_sing_score_content,u=(null!=l?l:{}).user_score,c=O()(B),s=[{microphone_type:_e.W5X.GOLDEN_MICROPHONE,micro_phone_num:null!==(n=null==u?void 0:u.golden_microphone_num)&&void 0!==n?n:0},{microphone_type:_e.W5X.SILVER_MICROPHONE,micro_phone_num:null!==(t=null==u?void 0:u.silver_microphone_num)&&void 0!==t?t:0}],d=!1;if(null==c||null===(r=c.user_microphone_list)||void 0===r||M()(r).call(r,(function(e){var n;String(null===(n=e.order_user)||void 0===n?void 0:n.id)===(null==u?void 0:u.user_id)&&(d=!0,e.microphone_list=s)})),!d){var f=null!=c&&c.user_microphone_list?(0,p.Z)(null==c?void 0:c.user_microphone_list):[];f.push({order_user:{id:null==u?void 0:u.user_id},microphone_list:s}),c&&(c.user_microphone_list=f)}mn.current=B,c&&H(c),u&&Fe((0,oe._0)(u))}}))}),[B,H,Fe,n]),pe.useEffect((function(){return Je.syncOn("GuestBattleMessage",(function(e){var n,t,r=e.method,i=e.payload;if(r&&i){var o=Number(null==i?void 0:i.message_type);re.k.info("uselinkmic",r,o,i);var a=i.battle_info,l=i.finish_content,c=i.finish_toast,d=null===(n=Z()(Y))||void 0===n||null===(t=M()(n).call(n,(function(e){var n,t;return null==e||null===(n=e.user)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.id_str})))||void 0===t?void 0:s()(t).call(t,(function(e){var n;return!u()(n=[undefined,""]).call(n,e)})),f=null==qe?void 0:qe.id_str,v=null==d?void 0:u()(d).call(d,f),m=Number(i.msg_type);F((0,oe._0)(a)),m===_e.$s7.GuestBattle_CREATE&&(localStorage.removeItem("guest_battle_animation"),null==$e||$e.guestBattleLiveConnectionGameTransformEvent(),v&&ee()((function(){Ee.F.info("\u5982\u4e0d\u613f\u53c2\u4e0e\u4f5c\u6218\u53ef\u9000\u51fa\u8fde\u7ebf",en.root)}),1750)),m===_e.$s7.GuestBattle_FINISH?(Me(undefined),De===le.cK.LINKED&&(null==$e||$e.liveAudiencePlayModeRoomLinkDurationEvent(undefined,vn.current)),null==$e||$e.liveAudiencePlayModeRoomWatchDurationEvent(undefined,undefined,undefined,undefined,x),""!==c?(Ee.F.info(c,en.root),localStorage.removeItem("guest_battle_animation")):(null==l?void 0:l.reason)===_e.GO3.FinishGuestBattleReason_SCENE_CHANGE&&(Ee.F.info("\u672c\u8f6e\u4f5c\u6218\u7ed3\u675f\uff0c\u6062\u590d\u539f\u59cb\u8fde\u7ebf\u8bb0\u503c\u5c55\u793a",en.root),localStorage.removeItem("guest_battle_animation"))):m===_e.$s7.GuestBattle_PAUSE?Ee.F.info("\u5927\u4f5c\u6218\u8ba1\u65f6\u5df2\u6682\u505c",en.root):m===_e.$s7.GuestBattle_RESUME&&Ee.F.info("\u5927\u4f5c\u6218\u8ba1\u65f6\u7ee7\u7eed",en.root)}}))}),[en.root,Y,De,qe,x,F,Me,n]),pe.useEffect((function(){return Je.syncOn("GuestBattleScoreMessage",(function(e){var n=e.method,t=e.payload;if(n&&t){var r=Number(null==t?void 0:t.message_type);re.k.info("uselinkmic",n,r,t);var i=t.battle_info;F((0,oe._0)(i))}}))}),[F,n]),pe.useEffect((function(){var e="onpagehide"in self?"pagehide":"unload",n=function(e){if(De===le.cK.LINKED)return e.returnValue="\u6b63\u5728\u8fde\u9ea6\u4e2d\uff0c\u662f\u5426\u786e\u8ba4\u79bb\u5f00\uff1f","\u6b63\u5728\u8fde\u9ea6\u4e2d\uff0c\u662f\u5426\u786e\u8ba4\u79bb\u5f00\uff1f"},t=function(){De===le.cK.LINKED&&(null==$e||$e.liveLeaveLinkMicEvent(ie.JW.NONE,ie._o.AUDIENCE,vn.current),(0,le.SH)(c,P)&&(null==$e||$e.liveAudiencePlayModeRoomLinkDurationEvent(c,vn.current))),c!==undefined&&(null==$e||$e.liveLinkMicDurationEvent(sn.current),null==$e||$e.liveVoiceRoomLayoutWatchDuration(Te(sn.current,(0,ke.ic)(_n.current)),Pe(sn.current)),(0,le.SH)(c,P)?null==$e||$e.liveAudiencePlayModeRoomWatchDurationEvent(undefined,undefined,[],mn.current):(tn||rn)&&(null==$e||$e.liveAudiencePlayModeRoomWatchDurationEvent())),nn(ie.JW.NONE,ie._o.AUDIENCE,!0)};return window.addEventListener("beforeunload",n),window.addEventListener(e,t),function(){window.removeEventListener("beforeunload",n),window.removeEventListener(e,t)}}),[De,nn,P,c])},Oe=t(38952),Pe=function(e){var n="party";return e!==fe.yP.AUDIO_1V8&&e!==fe.yP.VIDEO_1V6&&e!==fe.yP.VIDEO_DYNAMIC_FLOAT||(n="radio"),n},Te=function(e,n){var t;return n?"seat_enlarge":u()(t=[fe.yP.VIDEO_DYNAMIC,fe.yP.VIDEO_DYNAMIC_FLOAT,fe.yP.VIDEO_1_V_3,fe.yP.VIDEO_1_V_6]).call(t,e)?"seat_fit":"normal"},Ae=(0,_.Pi)((function(e){var n=e.isVerifyed,t=(0,ge.Z)(),r=t.linkmicStore,o=r.linkRoomType,l=r.linkMicLayout,c=r.linkMicSeats,d=r.functionType2,v=t.userStore.userInfo,_=t.eventStore.linkmicEvent,p=t.singletonStore.setAudioPower;(0,pe.useEffect)((function(){p(new Oe.a)}),[]),Ce({isVerifyed:n}),function(){var e=(0,ge.Z)(),n=e.linkmicStore,t=n.linkMicSeats,r=n.choosePeopleArr,i=n.setChoosePeopleArr,o=n.setChoosePeopleAll,a=(n.choosePanelVisible,e.roomStore.roomInfo);(0,pe.useEffect)((function(){var e;if(null!=t&&null!==(e=t[0])&&void 0!==e&&e.user)if(r&&0!==(null==r?void 0:r.length)){var n,l=M()(n=m()(t)).call(n,(function(e){var n,t;return null==e||null===(n=e.user)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.id_str})),c=null==r?void 0:s()(r).call(r,(function(e){return u()(l).call(l,e)}));c.length!==r.length&&i(null!=c?c:[])}else{var d,f,v,_,p,h,g=[];try{var E;g=JSON.parse(null!==(E=localStorage.getItem("linkmic-last-choose-people-".concat(null==a?void 0:a.roomId)))&&void 0!==E?E:"[]")}catch(S){}i(g.length>0?g:null!=t&&null!==(d=t[0])&&void 0!==d&&null!==(f=d.user)&&void 0!==f&&null!==(v=f.user)&&void 0!==v&&v.id_str?[null==t||null===(_=t[0])||void 0===_||null===(p=_.user)||void 0===p||null===(h=p.user)||void 0===h?void 0:h.id_str]:[]);var y=localStorage.getItem("linkmic-last-choose-people-all-".concat(null==a?void 0:a.roomId));o(y!==undefined&&"true"===y)}}),[t,r,a,i,o])}();var h=pe.useRef(""),g=pe.useRef(l),E=pe.useRef(d),y=pe.useRef(!1),S=pe.useMemo((function(){var e;return!(0===s()(e=a()(c)).call(e,(function(e){return Boolean(null==e?void 0:e.user)})).length)}),[c]),I=pe.useMemo((function(){var e;return o&&c&&f()(e=m()(c)).call(e,(function(e){return i()(e,"user.user.id_str","")===i()(v,"id_str","")}))}),[o,c,v]);return pe.useEffect((function(){S&&(Pe(l)!==E.current&&l!==undefined&&(y.current&&(null==_||_.liveVoiceRoomLayoutWatchDuration(h.current,Pe(g.current)),null==_||_.liveAudienceRoomLayoutShow(l)),I&&(null==_||_.liveLeaveLinkMicEvent(undefined,undefined,undefined,Pe(g.current)),null==_||_.liveConnectLinkMicEvent(0,0))),Te(l,(0,ke.ic)(c))!==h.current&&y.current&&(null==_||_.liveVoiceRoomLayoutWatchDuration(h.current,Pe(l)),null==_||_.liveAudienceRoomLayoutShow(l)),y.current||l===undefined||(null==_||_.liveAudienceRoomLayoutShow(l,Pe(l)),y.current=!0),E.current=Pe(l),g.current=l,h.current=Te(l,(0,ke.ic)(c)))}),[l,S,Pe(l),I,Te(l,(0,ke.ic)(c)),(0,ke.ic)(c),c]),null}))},6279:function(e,n,t){t.d(n,{Fk:function(){return Q},SH:function(){return J},cK:function(){return X},g3:function(){return $},xQ:function(){return ee},uH:function(){return ne},ZP:function(){return re}});var r,i,o,a=t(64408),l=t(30906),u=t(19049),c=t(95508),s=t(73316),d=t(6670),f=t(78034),v=t(65146),m=t(29529),_=t(30673),p=t(36838),h=t.n(p),g=t(5594),E=t.n(g),y=t(21155),S=t.n(y),I=t(19672),L=t.n(I),k=t(31674),w=t.n(k),Z=t(53361),b=t.n(Z),N=t(58144),C=t.n(N),O=t(34346),P=t.n(O),T=t(84639),A=t.n(T),M=t(90457),D=t.n(M),R=t(11227),x=t.n(R),V=t(92663),F=t(20121),U=t(51103),B=t(49197),G=t(30022),H=t(34590),K=t(67758),j=t(51185),W=t(46611),Y=t(62864),z=t(51085),q=t(46680),Q=(o={},S()(i=(0,_.Z)(Array(9))).call(i,(function(e,n){o[n]={idx:n}})),o),J=function(e,n){return!!(L()(n)&&n.length>0)||e===G.yP.VIDEO_6V6},X=function(e){return e[e.NOT_LINK=0]="NOT_LINK",e[e.LINKING=1]="LINKING",e[e.LINKED=2]="LINKED",e}({}),$=function(e){return e[e.APPLYING=0]="APPLYING",e[e.TRUE=1]="TRUE",e[e.FALSE=2]="FALSE",e}({}),ee=function(e){return e[e.ENABLE_VIDEO=0]="ENABLE_VIDEO",e[e.ENABLE_AUDIO=1]="ENABLE_AUDIO",e[e.APPLY=2]="APPLY",e[e.HIDE=3]="HIDE",e[e.GROUP_CHOISE=4]="GROUP_CHOISE",e[e.INVITE_OPEN_CAMERA=5]="INVITE_OPEN_CAMERA",e[e.INVITE_LINK=6]="INVITE_LINK",e}({}),ne=function(e){return e[e.NONE=0]="NONE",e[e.ORDER_SING=1]="ORDER_SING",e}({}),te=(r={},(0,v.Z)(r,(0,m.Z)(F.V0),undefined),(0,v.Z)(r,F.V0.LinkmicPlayMode_OrderSing,[G.yP.AUDIO_1V8,G.yP.AUDIO_GRID,G.yP.VIDEO_DYNAMIC,G.yP.VIDEO_1V6,G.yP.VIDEO_GRID,G.yP.VIDEO_1_V_8,G.yP.VIDEO_1_V_3,G.yP.VIDEO_1_V_6,G.yP.VIDEO_DYNAMIC_FLOAT]),(0,v.Z)(r,F.V0.LinkmicPlayMode_Teamfight,[G.yP.AUDIO_1V8]),(0,v.Z)(r,F.V0.LinkmicPlayMode_DynamicLayout,[G.yP.VIDEO_DYNAMIC]),r),re=function(e){(0,d.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;return(0,u.Z)(this,t),r=n.call(this,e),(0,v.Z)((0,s.Z)(r),"linkMicConfig",{config:{}}),(0,v.Z)((0,s.Z)(r),"otherRoomLinkSilenceStatus",undefined),(0,v.Z)((0,s.Z)(r),"imLinkMicSeats",(0,l.Z)({},Q)),(0,v.Z)((0,s.Z)(r),"seiLinkMicSeats",(0,l.Z)({},Q)),(0,v.Z)((0,s.Z)(r),"imLinkMicLayout",undefined),(0,v.Z)((0,s.Z)(r),"seiLinkMicLayout",undefined),(0,v.Z)((0,s.Z)(r),"uiLayout",undefined),(0,v.Z)((0,s.Z)(r),"seiPosition",undefined),(0,v.Z)((0,s.Z)(r),"playModes",[]),(0,v.Z)((0,s.Z)(r),"orderSingInfo",undefined),(0,v.Z)((0,s.Z)(r),"orderSingUserScore",undefined),(0,v.Z)((0,s.Z)(r),"orderSingBannerData",undefined),(0,v.Z)((0,s.Z)(r),"orderSingSortRule",B.jQ.OrderSingGiftRule),(0,v.Z)((0,s.Z)(r),"choosePeopleArr",[]),(0,v.Z)((0,s.Z)(r),"choosePeopleAll",!1),(0,v.Z)((0,s.Z)(r),"choosePanelVisible",!1),(0,v.Z)((0,s.Z)(r),"choosePeopleShowTCC",!1),(0,v.Z)((0,s.Z)(r),"functionType2",""),(0,v.Z)((0,s.Z)(r),"imTeamfightInfo",undefined),(0,v.Z)((0,s.Z)(r),"seiTeamFightInfo",undefined),(0,v.Z)((0,s.Z)(r),"guestBattleInfo",undefined),(0,v.Z)((0,s.Z)(r),"rankListShow",!1),(0,v.Z)((0,s.Z)(r),"rankParam",undefined),(0,v.Z)((0,s.Z)(r),"liveRoomMode",undefined),(0,v.Z)((0,s.Z)(r),"scene",undefined),(0,v.Z)((0,s.Z)(r),"sceneNum",undefined),(0,v.Z)((0,s.Z)(r),"selectedLinkMicDevices",{}),(0,v.Z)((0,s.Z)(r),"linkStatus",X.NOT_LINK),(0,v.Z)((0,s.Z)(r),"devicesModalMode",ee.HIDE),(0,v.Z)((0,s.Z)(r),"applySource",j.JW.NONE),(0,v.Z)((0,s.Z)(r),"audioPermission",$.APPLYING),(0,v.Z)((0,s.Z)(r),"videoPermission",$.APPLYING),(0,v.Z)((0,s.Z)(r),"selectedPosition",undefined),(0,v.Z)((0,s.Z)(r),"userPopupCoordinate",undefined),(0,v.Z)((0,s.Z)(r),"isFansGuide",!1),(0,v.Z)((0,s.Z)(r),"isCandidate",!1),(0,v.Z)((0,s.Z)(r),"linkmicModalSettings",{show:!1}),(0,v.Z)((0,s.Z)(r),"guestBattleSettingsShow",!1),(0,v.Z)((0,s.Z)(r),"selfLinkedPosition",undefined),(0,v.Z)((0,s.Z)(r),"selfLinkMicId",undefined),(0,v.Z)((0,s.Z)(r),"isPlayModeNotSupport",!1),(0,v.Z)((0,s.Z)(r),"floatModal",ne.NONE),(0,v.Z)((0,s.Z)(r),"dressListInfo",{}),(0,v.Z)((0,s.Z)(r),"showLinkMicApplyModal",!1),(0,v.Z)((0,s.Z)(r),"devicesModalCountDown",0),(0,v.Z)((0,s.Z)(r),"enlargeSeatApplyUid",null),(0,v.Z)((0,s.Z)(r),"inviteFromUserId",""),(0,v.Z)((0,s.Z)(r),"dressMvpInfo",{}),(0,v.Z)((0,s.Z)(r),"dressListAll",[]),(0,v.Z)((0,s.Z)(r),"layoutBackgroundImg",""),(0,v.Z)((0,s.Z)(r),"setLinkmicModalSettings",(function(e){r.linkmicModalSettings=e})),(0,v.Z)((0,s.Z)(r),"setGuestBattleSettingsShow",(function(e){r.guestBattleSettingsShow=e})),(0,v.Z)((0,s.Z)(r),"getLinkRoomType",(function(e){return e===G.yP.AUDIO_1V8||e===G.yP.AUDIO_GRID?"audio":e===G.yP.VIDEO_DYNAMIC||e===G.yP.VIDEO_1V6||e===G.yP.VIDEO_GRID||e===G.yP.VIDEO_1_V_8||e===G.yP.VIDEO_1_V_6||e===G.yP.VIDEO_1_V_3||e===G.yP.VIDEO_DYNAMIC_FLOAT||e===G.yP.VIDEO_T1_V_B8?"video":e===G.yP.VIDEO_6V6?r.liveRoomMode===W.ke.AUDIO?"audio":"video":e===undefined&&"new_audience"===r.functionType2?"video":undefined})),(0,v.Z)((0,s.Z)(r),"setChoosePeopleArr",(function(e){var n,t,i,o;r.choosePeopleArr&&(null===(n=r.choosePeopleArr)||void 0===n?void 0:n.length)>0&&localStorage.setItem("linkmic-last-choose-people-".concat(null===(t=r.store)||void 0===t||null===(i=t.roomStore)||void 0===i||null===(o=i.roomInfo)||void 0===o?void 0:o.roomId),w()(e));r.choosePeopleArr=e})),(0,v.Z)((0,s.Z)(r),"setChoosePeopleAll",(function(e){var n,t,i;r.choosePeopleAll=e,localStorage.setItem("linkmic-last-choose-people-all-".concat(null===(n=r.store)||void 0===n||null===(t=n.roomStore)||void 0===t||null===(i=t.roomInfo)||void 0===i?void 0:i.roomId),String(e))})),(0,v.Z)((0,s.Z)(r),"setChoosePanelVisible",(function(e){r.choosePanelVisible=e})),(0,v.Z)((0,s.Z)(r),"setChoosePeopleShowTCC",(function(e){r.choosePeopleShowTCC=e})),(0,v.Z)((0,s.Z)(r),"getPositionIdxByUserIdStr",(function(e){var n=h()(r.linkMicSeats);return null==n?void 0:b()(n).call(n,(function(n){var t,r;return(null==n||null===(t=n.user)||void 0===t||null===(r=t.user)||void 0===r?void 0:r.id_str)===e}))})),(0,v.Z)((0,s.Z)(r),"getRealPositionIdxByUserIdStr",(function(e){var n,t=h()(r.linkMicSeats);return null==t||null===(n=C()(t).call(t,(function(n){var t,r;return(null==n||null===(t=n.user)||void 0===t||null===(r=t.user)||void 0===r?void 0:r.id_str)===e})))||void 0===n?void 0:n.idx})),(0,v.Z)((0,s.Z)(r),"setApplySource",(function(e){r.applySource=e})),(0,v.Z)((0,s.Z)(r),"setSelfLinkedPosition",(function(e){r.selfLinkedPosition=e})),(0,v.Z)((0,s.Z)(r),"setAudioPermission",(function(e){r.audioPermission=e})),(0,v.Z)((0,s.Z)(r),"setFunctionType2",(function(e){r.functionType2=e})),(0,v.Z)((0,s.Z)(r),"setVideoPermission",(function(e){r.videoPermission=e})),(0,v.Z)((0,s.Z)(r),"setDevices",(function(e){r.selectedLinkMicDevices=e})),(0,v.Z)((0,s.Z)(r),"setOtherRoomLinkSilenceStatus",(function(e){r.otherRoomLinkSilenceStatus=e})),(0,v.Z)((0,s.Z)(r),"setAudioDevice",(function(e){r.selectedLinkMicDevices=(0,l.Z)((0,l.Z)({},r.selectedLinkMicDevices),{},{audio:e})})),(0,v.Z)((0,s.Z)(r),"setVideoDevice",(function(e){r.selectedLinkMicDevices=(0,l.Z)((0,l.Z)({},r.selectedLinkMicDevices),{},{video:e})})),(0,v.Z)((0,s.Z)(r),"setSelectedPosition",(function(e){r.selectedPosition=e})),(0,v.Z)((0,s.Z)(r),"setUserPopupCoordinate",(function(e){r.userPopupCoordinate=e})),(0,v.Z)((0,s.Z)(r),"setInviteFromUserId",(function(e){r.inviteFromUserId=e})),(0,v.Z)((0,s.Z)(r),"setShowDevicesModal",function(){var e=(0,a.Z)(E().mark((function e(n){var t,i,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setAudioPermission($.APPLYING),e.next=3,(0,Y.P)();case 3:if((t=e.sent).audio){e.next=9;break}return H.F.info("\u65e0\u97f3\u6e90\u8f93\u5165\uff0c\u8fde\u7ebf\u5931\u8d25"),r.setAudioPermission($.FALSE),r.setAudioDevice(undefined),e.abrupt("return");case 9:return r.setAudioPermission($.TRUE),e.next=12,(0,Y.n)();case 12:if(i=e.sent,0!==i.audioInputs.length){e.next=17;break}return H.F.info("\u65e0\u97f3\u6e90\u8f93\u5165\uff0c\u8fde\u7ebf\u5931\u8d25"),e.abrupt("return");case 17:if(o=function(){var e=(0,a.Z)(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setVideoPermission($.APPLYING),e.next=3,(0,Y.P)(z.j5.CAMERA);case 3:e.sent.video?r.setVideoPermission($.TRUE):(r.setVideoPermission($.FALSE),r.setVideoDevice(undefined));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n!==ee.APPLY&&n!==ee.INVITE_LINK&&n!==ee.GROUP_CHOISE||"video"!==r.linkRoomType||!t||!r.isAllowVideo||!r.isDefaultOpenVideo){e.next=21;break}return e.next=21,o();case 21:if(n!==ee.ENABLE_VIDEO&&n!==ee.INVITE_OPEN_CAMERA){e.next=24;break}return e.next=24,o();case 24:r.devicesModalMode=n;case 25:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),(0,v.Z)((0,s.Z)(r),"setLiveRoomMode",(function(e){r.liveRoomMode=e})),(0,v.Z)((0,s.Z)(r),"setEnlargeSeatApplyUid",(function(e){r.enlargeSeatApplyUid=e})),(0,v.Z)((0,s.Z)(r),"updateFunctionType2",(function(e){e===G.yP.VIDEO_1V6||e===G.yP.AUDIO_1V8?r.functionType2="radio":e!==G.yP.VIDEO_DYNAMIC&&e!==G.yP.VIDEO_GRID&&e!==G.yP.AUDIO_GRID||(r.functionType2="party")})),(0,v.Z)((0,s.Z)(r),"setImLinkMicLayout",(function(e){r.linkStatus===X.LINKED&&r.updateFunctionType2(e),r.imLinkMicLayout=e})),(0,v.Z)((0,s.Z)(r),"setSeiLinkMicLayout",(function(e){r.linkStatus!==X.LINKED&&r.updateFunctionType2(e),r.seiLinkMicLayout=e})),(0,v.Z)((0,s.Z)(r),"setUiLayout",(function(e){r.uiLayout=Number(e)})),(0,v.Z)((0,s.Z)(r),"setPlayModes",(function(e){r.playModes=e})),(0,v.Z)((0,s.Z)(r),"setLinkMicSettings",(function(e){r.linkMicConfig.settings=e})),(0,v.Z)((0,s.Z)(r),"setTeamfightInfo",(function(e,n){if(n){var t,i,o=null===(t=r.teamfightInfo)||void 0===t||null===(i=t.team_infos)||void 0===i?void 0:P()(i).call(i,(function(n){var t,r=null===(t=e.team_infos)||void 0===t?void 0:C()(t).call(t,(function(e){var t,r;return String(null!==(t=null==e?void 0:e.team_id_str)&&void 0!==t?t:null==e?void 0:e.team_id)===String(null!==(r=null==n?void 0:n.team_id_str)&&void 0!==r?r:null==n?void 0:n.team_id)}));return(0,l.Z)((0,l.Z)({},n),{},{is_score_fuzzy:null==r?void 0:r.is_score_fuzzy,score:null==r?void 0:r.score,score_str:null==r?void 0:r.score_str,score_fuzzy:null==r?void 0:r.score_fuzzy,contributors:null==r?void 0:r.contributors,players:null==r?void 0:r.players,owner_id:null==r?void 0:r.owner_id})}));return r.imTeamfightInfo=(0,l.Z)((0,l.Z)({},r.teamfightInfo),{},{current_time_ms:e.current_time_ms,team_infos:o}),void(r.seiTeamFightInfo=(0,l.Z)((0,l.Z)({},r.teamfightInfo),{},{current_time_ms:e.current_time_ms,team_infos:o}))}r.imTeamfightInfo=e,r.seiTeamFightInfo=e})),(0,v.Z)((0,s.Z)(r),"setGuestBattleInfo",(function(e){r.guestBattleInfo=e})),(0,v.Z)((0,s.Z)(r),"setOrderSingInfo",(function(e){r.orderSingInfo=e})),(0,v.Z)((0,s.Z)(r),"setOrderSingUserScore",(function(e){r.orderSingUserScore=e})),(0,v.Z)((0,s.Z)(r),"setOrderSingBannerData",(function(e){r.orderSingBannerData=e})),(0,v.Z)((0,s.Z)(r),"setOrderSingSortRule",(function(e){r.orderSingSortRule=e})),(0,v.Z)((0,s.Z)(r),"setRankListShow",(function(e){r.rankListShow=e})),(0,v.Z)((0,s.Z)(r),"setRankParam",(function(e){r.rankParam=e})),(0,v.Z)((0,s.Z)(r),"setImLinkMicSeats",(function(e,n){if(n)if(r.imLinkMicSeatsVersion){if(!(Number(r.imLinkMicSeatsVersion)<Number(n)))return;r.imLinkMicSeats=e,r.imLinkMicSeatsVersion=n}else r.imLinkMicSeats=e,r.imLinkMicSeatsVersion=n;else r.imLinkMicSeats=e})),(0,v.Z)((0,s.Z)(r),"setSeiLinkMicSeats",(function(e){r.seiLinkMicSeats=e})),(0,v.Z)((0,s.Z)(r),"setLinkStatus",(function(e){r.linkStatus===X.LINKED&&e!==X.LINKED&&(r.setSeiLinkMicLayout(r.imLinkMicLayout),r.setSeiLinkMicSeats(r.imLinkMicSeats)),r.linkStatus=e,e===X.NOT_LINK&&r.setSelfLinkedPosition(undefined)})),(0,v.Z)((0,s.Z)(r),"setLinkMicConfig",(function(e){r.linkMicConfig=e})),(0,v.Z)((0,s.Z)(r),"updateLinkMicConfig",(function(e){var n=A()({},r.linkMicConfig.config,e);r.linkMicConfig=(0,l.Z)((0,l.Z)({},r.linkMicConfig),{},{config:n})})),(0,v.Z)((0,s.Z)(r),"setIsFansGuide",(function(e){r.isFansGuide=e})),(0,v.Z)((0,s.Z)(r),"setIsCandidate",(function(e){r.isCandidate=e})),(0,v.Z)((0,s.Z)(r),"initLinkMicSeats",(function(){r.imLinkMicSeats=(0,l.Z)({},Q),r.seiLinkMicSeats=(0,l.Z)({},Q)})),(0,v.Z)((0,s.Z)(r),"setSelfLinkMicId",(function(e){r.selfLinkMicId=e})),(0,v.Z)((0,s.Z)(r),"setIsPlayModeNotSupport",(function(e){r.isPlayModeNotSupport=e})),(0,v.Z)((0,s.Z)(r),"setFloatModal",(function(e){r.floatModal=e})),(0,v.Z)((0,s.Z)(r),"setSceneNum",(function(e){r.sceneNum!==e&&(r.sceneNum=e)})),(0,v.Z)((0,s.Z)(r),"setDressListInfo",(function(e){r.dressListInfo=e})),(0,v.Z)((0,s.Z)(r),"setShowLinkMicApplyModal",(function(e){r.showLinkMicApplyModal=e})),(0,v.Z)((0,s.Z)(r),"setDevicesModalCountDown",(function(e){r.devicesModalCountDown=e})),(0,v.Z)((0,s.Z)(r),"setDressMvpInfo",(function(e){r.dressMvpInfo=e})),(0,v.Z)((0,s.Z)(r),"setDressListAll",(function(e){r.dressListAll=e})),(0,v.Z)((0,s.Z)(r),"setLayoutBackgroundImg",(function(e){r.layoutBackgroundImg=e})),(0,v.Z)((0,s.Z)(r),"resetStore",(function(){r.linkMicConfig={config:{}},r.imLinkMicSeats=(0,l.Z)({},Q),r.imLinkMicSeatsVersion=undefined,r.imLinkMicLayout=undefined,r.playModes=[],r.orderSingInfo=undefined,r.orderSingUserScore=undefined,r.orderSingSortRule=B.jQ.OrderSingGiftRule,r.liveRoomMode=undefined,r.imTeamfightInfo=undefined,r.guestBattleInfo=undefined,r.rankListShow=!1,r.rankParam=undefined,r.selectedLinkMicDevices={},r.linkStatus=X.NOT_LINK,r.showDevicesModal=!1,r.enlargeSeatApplyUid=null,r.applySource=j.JW.NONE,r.audioPermission=$.APPLYING,r.videoPermission=$.APPLYING,r.selectedPosition=undefined,r.userPopupCoordinate=undefined,r.isFansGuide=!1,r.isCandidate=!1,r.selfLinkedPosition=undefined,r.selfLinkMicId=undefined,r.floatModal=ne.NONE,r.otherRoomLinkSilenceStatus=undefined,r.choosePanelVisible=!1,r.choosePeopleArr=[],r.choosePeopleAll=!1,r.choosePeopleShowTCC=!1,r.layoutBackgroundImg=""})),(0,K.rC)((0,s.Z)(r),{sceneNum:K.LO,setSceneNum:K.aD,linkMicConfig:K.LO,imLinkMicSeats:K.LO,seiLinkMicSeats:K.LO,linkMicSeats:K.Fl,linkMicSeatsRaw:K.Fl,setImLinkMicSeats:K.aD,setSeiLinkMicSeats:K.aD,imLinkMicLayout:K.LO,seiLinkMicLayout:K.LO,uiLayout:K.LO,linkMicLayout:K.Fl,setImLinkMicLayout:K.aD,setSeiLinkMicLayout:K.aD,setUiLayout:K.aD,seiPosition:K.LO,teamfightInfo:K.Fl,imTeamfightInfo:K.LO,seiTeamFightInfo:K.LO,setTeamfightInfo:K.aD,guestBattleInfo:K.LO,setGuestBattleInfo:K.aD,playModes:K.LO,setPlayModes:K.aD,playModesPC:K.Fl,orderSingInfo:K.LO,setOrderSingInfo:K.aD,orderSingUserScore:K.LO,setOrderSingUserScore:K.aD,orderSingBannerData:K.LO,setOrderSingBannerData:K.aD,orderSingSortRule:K.LO,setOrderSingSortRule:K.aD,choosePeopleArr:K.LO,setChoosePeopleArr:K.aD,choosePeopleAll:K.LO,setChoosePeopleAll:K.aD,choosePanelVisible:K.LO,setChoosePanelVisible:K.aD,allowSendGiftGuest:K.Fl,choosePeopleShowTCC:K.LO,setChoosePeopleShowTCC:K.aD,useChoosePeopleFunc:K.Fl,enlargeSeatApplyUid:K.LO,functionType2:K.LO,otherRoomLinkSilenceStatus:K.LO,rankListShow:K.LO,rankParam:K.LO,selectedLinkMicDevices:K.LO,linkStatus:K.LO,devicesModalMode:K.LO,selectedPosition:K.LO,userPopupCoordinate:K.LO,audioPermission:K.LO,videoPermission:K.LO,isFansGuide:K.LO,isCandidate:K.LO,selfLinkedPosition:K.LO,selfLinkMicId:K.LO,isPlayModeNotSupport:K.LO,floatModal:K.LO,liveRoomMode:K.LO,selfLinkInfo:K.Fl,linkRoomType:K.Fl,linkRoomTypeHooks:K.Fl,isLinkRoom:K.Fl,isDefaultOpenVideo:K.Fl,isAllowVideo:K.Fl,setFunctionType2:K.aD,setLinkMicConfig:K.aD,setOtherRoomLinkSilenceStatus:K.aD,setRankListShow:K.aD,setRankParam:K.aD,setDevices:K.aD,setShowDevicesModal:K.aD,setUserPopupCoordinate:K.aD,setEnlargeSeatApplyUid:K.aD,setAudioPermission:K.aD,setVideoPermission:K.aD,setSelfLinkMicId:K.aD,setSelectedPosition:K.aD,setIsFansGuide:K.aD,setIsCandidate:K.aD,resetStore:K.aD,setSelfLinkedPosition:K.aD,setIsPlayModeNotSupport:K.aD,setFloatModal:K.aD,dressListInfo:K.LO,setDressListInfo:K.aD,showLinkMicApplyModal:K.LO,setShowLinkMicApplyModal:K.aD,devicesModalCountDown:K.LO,setDevicesModalCountDown:K.aD,inviteFromUserId:K.LO,setInviteFromUserId:K.aD,linkmicModalSettings:K.LO,setLinkmicModalSettings:K.aD,guestBattleSettingsShow:K.LO,setGuestBattleSettingsShow:K.aD,setLinkMicSettings:K.aD,dressMvpInfo:K.LO,setDressMvpInfo:K.aD,dressListAll:K.LO,setDressListAll:K.aD,layoutBackgroundImg:K.LO}),r}return(0,c.Z)(t,[{key:"linkRoomTypeHooks",get:function(){return this.getLinkRoomType(this.imLinkMicLayout)||this.getLinkRoomType(this.seiLinkMicLayout)}},{key:"linkRoomType",get:function(){return this.getLinkRoomType(this.linkMicLayout)}},{key:"linkMicLayout",get:function(){return this.linkStatus!==X.LINKED&&(this.seiLinkMicLayout!==G.yP.AUDIO_1V8&&this.seiLinkMicLayout!==G.yP.AUDIO_GRID||this.imLinkMicLayout!==G.yP.AUDIO_1V8&&this.imLinkMicLayout!==G.yP.AUDIO_GRID&&this.imLinkMicLayout!==G.yP.VIDEO_6V6)?this.seiLinkMicLayout:this.imLinkMicLayout}},{key:"isSing",get:function(){var e,n;return null===(e=this.orderSingInfo)||void 0===e||null===(n=e.user_microphone_list)||void 0===n?void 0:D()(n).call(n,(function(e){return Boolean(null==e?void 0:e.is_singing)}))}},{key:"enlargedSeatPostion",get:function(){var e=this.linkStatus===X.LINKED?this.imLinkMicSeats:this.seiLinkMicSeats;return(0,q.ut)(e)}},{key:"hasEnlargedSeat",get:function(){return-1!==this.enlargedSeatPostion}},{key:"linkMicSeatsRaw",get:function(){return this.linkStatus===X.LINKED?this.imLinkMicSeats:this.seiLinkMicSeats}},{key:"linkMicSeats",get:function(){var e=this.linkStatus===X.LINKED?this.imLinkMicSeats:this.seiLinkMicSeats;return(0,q.Qx)(e)}},{key:"teamfightInfo",get:function(){return this.linkStatus===X.LINKED?this.imTeamfightInfo:this.seiTeamFightInfo}},{key:"isLinkRoom",get:function(){return this.linkMicLayout!==undefined}},{key:"isDefaultOpenVideo",get:function(){return this.linkMicConfig.config[U.V9.AU_BigPartyAudienceDefaultOpenVideo]===U.q2.OPEN}},{key:"isAllowVideo",get:function(){return this.linkMicConfig.config[U.V9.AU_BigPartyAllowAudienceOpenVideo]===U.q2.OPEN}},{key:"selfLinkInfo",get:function(){return this.selfLinkedPosition!==undefined?this.linkMicSeats[this.selfLinkedPosition]:undefined}},{key:"playModesPC",get:function(){var e,n=this,t=[];return S()(e=this.playModes).call(e,(function(e){var r=te[e];n.linkMicLayout!==undefined&&r&&null!=r&&x()(r).call(r,n.linkMicLayout)&&t.push(e)})),t}},{key:"allowSendGiftGuest",get:function(){return this.linkMicLayout===G.yP.VIDEO_DYNAMIC_FLOAT||("video"===this.linkRoomTypeHooks?(null===(e=this.linkMicConfig)||void 0===e||null===(n=e.config)||void 0===n?void 0:n[U.V9.AU_BigPartyGuestCanAcceptGift])===U.q2.OPEN:"audio"===this.linkRoomTypeHooks&&(null===(t=this.linkMicConfig)||void 0===t||null===(r=t.config)||void 0===r?void 0:r[U.V9.AU_AudioChatGuestCanAcceptGift])===U.q2.OPEN);var e,n,t,r}},{key:"useChoosePeopleFunc",get:function(){var e,n;if(("audio"===this.linkRoomTypeHooks||"video"===this.linkRoomTypeHooks)&&(this.choosePeopleShowTCC&&this.allowSendGiftGuest&&(null!==(e=null===(n=this.choosePeopleArr)||void 0===n?void 0:n.length)&&void 0!==e?e:0)>0))return!0;return!1}}]),t}(V.Z)},54927:function(e,n,t){t.d(n,{j:function(){return d}});var r=t(64408),i=t(32781),o=t(67161),a=t(5594),l=t.n(a),u=t(53864),c=t(64088),s=["abtestData"],d=function(e){return function(n){var t=n.abtestData,a=(0,o.Z)(n,s),d=(0,u.useState)(!1),f=(0,i.Z)(d,2),v=f[0],m=f[1];return(0,u.useEffect)((function(){var e=function(){var e=(0,r.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.iM)(t);case 2:n=e.sent,m(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),u.createElement(u.Fragment,null,!v&&u.createElement(e,a))}}},5755:function(e,n,t){t.d(n,{I:function(){return Z}});var r,i=t(32781),o=t(53864),a=t(79705),l=t.n(a),u=t(66737),c="rw6W_sXN",s="EjJAhUzc",d="e31ool0B",f="ySgiUHH8",v="qzqr3YjD",m="Er4nYYXZ",_="zktpFdL5",p="nxtFyjFt",h="nzl2HbEu",g="X7zMX5pj",E="e0CR5UV7",y="hrrE_gEk",S="jKzD38XU";function I(){return I=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},I.apply(this,arguments)}var L=function(e){return o.createElement("svg",I({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M24.601 24.6a1.362 1.362 0 01-1.927 0L18.5 20.427l-4.174 4.175a1.362 1.362 0 11-1.927-1.927l4.174-4.174-4.174-4.175a1.362 1.362 0 011.927-1.926l4.174 4.174 4.174-4.174a1.362 1.362 0 011.927 1.926L20.427 18.5l4.174 4.174a1.362 1.362 0 010 1.927z",fill:"#fff",fillOpacity:.8})))},k=t(9909),w=t(27809),Z=function(e){var n=e.className,t=e.onClose,r=e.onOpen,a=e.preventModalVisible,I=e.onModalVisibleChange,Z=(0,o.useState)(!1),b=(0,i.Z)(Z,2),N=b[0],C=b[1],O=function(){C(!1),null==I||I(!1)},P=void 0===a?N:a;return o.createElement(o.Fragment,null,o.createElement("div",{className:l()(c,n)},o.createElement("span",{className:s},"\u56e0"),o.createElement("span",{className:d,onClick:function(){C(!0),null==I||I(!0)}},"\u6d4f\u89c8\u5668\u9650\u5236"),o.createElement("span",{className:s},"\uff0c\u9700"),o.createElement("span",{className:f,onClick:r},"\u70b9\u51fb\u6253\u5f00\u58f0\u97f3"),o.createElement(k.Z,{className:v,height:36,width:36,src:globalThis.xssNamespace.douyin_web.filterUrl(L,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),onClick:t})),P&&o.createElement(u.h,null,o.createElement(w.T,{className:m},o.createElement("div",{className:_},o.createElement("div",{className:p},o.createElement("div",{className:h},"\u6d4f\u89c8\u5668\u9650\u5236"),o.createElement(k.Z,{className:g,width:36,height:36,src:globalThis.xssNamespace.douyin_web.filterUrl(L,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),onClick:O})),o.createElement("div",{className:E},o.createElement("div",{className:y},"\u5f53\u4f60\u8bbf\u95ee\u6296\u97f3\u6b21\u6570\u8f83\u5c11\uff0c\u6216\u7ecf\u5e38\u9759\u97f3\u64ad\u653e\u65f6\uff0c\u6d4f\u89c8\u5668\u53ef\u80fd\u4f1a\u9650\u5236\u7f51\u7ad9\u97f3\u91cf\uff0c\u4f7f\u7f51\u7ad9\u65e0\u6cd5\u6709\u58f0\u64ad\u653e"),o.createElement("div",{className:S,onClick:O},"\u6211\u77e5\u9053\u4e86"))))))}},57218:function(e,n,t){t.d(n,{F:function(){return r}});var r=(0,t(53864).createContext)({})},66753:function(e,n,t){t.d(n,{b:function(){return d}});var r=t(64408),i=t(32781),o=t(5594),a=t.n(o),l=t(53864),u=t(34452),c=t(21518),s=t(71116),d=function(){var e=(0,l.useState)(s.Le.getConfig(s.gI.AsiangameSeasonIds)||[]),n=(0,i.Z)(e,2),t=n[0],o=n[1];return(0,l.useEffect)((function(){0===t.length&&(0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.U2({key:c.TccKey.AsiangameSeasonIds,defaultValue:[]});case 2:n=e.sent,s.Le.setConfig(s.gI.AsiangameSeasonIds,n),o(n);case 5:case"end":return e.stop()}}),e)})))()}),[]),{seasonIds:t}}},39030:function(e,n){n.Z={pluginContainer:"tGBLU2eM"}},70246:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFMSURBVHgB7ZiBTcMwEEV/GKAsQCfoBLAAGzABDFAYADEA6gAwQckAiDmABaoO0CyQ/mtdyara5GxfpKi6J305iezLU6JYjgHHsaFt2yfmAWOGgm/MOuQFhlzBlll0fAtDrEUHw0WtcVFrXNQaF7XGRa25LFGuhKZMzfwwMxQiNUItyVQzRvtEH7FfDYlkXSIbxtahluRZM04r2kTHE2TKRpKT6PK/ZqxKtKqqdzbL6FKy7BnJJWt/aMarPyYWnCNTtkNyDiVJX32OrIUkkDE9pchaSe7ui0wosWAT/202ITfhfMVcw0BSyBYVTsh2kS0pFIkKStkiSaFYVOiRLZY0RWSjzYdDFhgjR7LjlDwg+06y/wTHsUE1PSVO7Kl8cvp67evUK0rJOzZfGJZ7yv52ddAsSqRAg+GQ2pu+TtpXL/81Q736bz7NPzjOabboF8Iz1RaBWQAAAABJRU5ErkJggg=="},38171:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJJSURBVHgB7VjRUcMwDFU4vssCDQuEBbIAI3QByj/XLsACTQcoZYBeFygM0PIP138KC3SBIhXlTlGdxI5dwkfenS61LZ91T5KlGqBDhw5BEEFAHA6HMX4SlB7KIoqiBfw3oJFTlG8lSwiECwgANGiAn4FhKeU1b3i7Hg0hN7+i9MX0Hn7dT9ih3GIY7MEDIRi9h6KRE5QnMY5ZxwtejCKbZMRGTB3Z49+SZWKTWN1BQ/gyOlLjjFzMbp6IeQqDKbQBShKV4S8GnaXSSeGvgYe+KSNig06qdDacfM5o5Hq+2GUCLUzxh3Nr/MzEVJDEsgIxh7JVLMVi/UaNe0p/a2K/Dk0YpQSS7styNvlyX6GQ8UfmShJrBOcEs1WIObW+LCufvonlyuhcje/AHhM1HoMDrA1lt+oE+rDdz4klu6k0Dw8bWBnKwS8ZoLjLwB0Z780xsr2ubBml4JdszpqUQ94j+wAy0ioEag1lNmWrtsMDm7CZg+7VLzEe2iSWDaM6gXyMzK+rBzVdy2qloZxAiZgK8veCE2stppo32FxRauu52jMUuoMaXVOFc+8DqJ4rI62qCRuQNDzD6W7NDwvS9dSco71W2geUxaixIYb6gxM+bGPDqleDbdMQV+yV9fy54T5jH2BiVMeJSz2XmfwJ9tB9wLQy1FTWkjj/z2GPODfHuOfROrFwcVXWEJ8bhga70EJeKv1rNSYXQEu4kgNtKLVteSDHLG1BxnvxAYJdTZ15H9rFyYPFyUsJG0v3aFtsvqPMfV5VOnToUIEfE91u4bHTr9EAAAAASUVORK5CYII="},13584:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGISURBVHgB7ZjtUcMwDIYVjt9hATJBWKALAANwDAB0AFiAsEAZgNIJWIA9KAsUBoAFgnT4h6/Vazut62uveu50cWtbVvwhKyIyDCMLFaro+77mx5ilZamVJguWSVVVC0qA9TX8eAK6hA+WV6SvCih9YzmlMO+s+IbSDH3mx3WkmRh5zjp/lyuOQIc7ihsp/FA6dUIbmaCxVnEMOrReWd5urrSR/yeUTuf6NGC82iuvgAz1mfNSXNGGuL13r9XxtpBtNnI/1ZlHS79zmKG52XtDfbeT5NA3JDoeOvUd/buSExrmgtalKzyesT+EgpJQpLMtYESGDtMDywWVR65ROVArERlyT6Vn0keNyGLuqaGyDI3IjANF3BPLTL5znKvazfFch28nM9oyKeMh9+S/VQlXFR3PAufcmKG5QVeof9+27rt7mZy5pzbWHxn6yXLpyqJ4pLSBkQ4gNSLTsjJw6V9YvihO7tyTrM5UqwilHWWpblnOQBOJdB4HLr3MagN0SdpxqmXyDMPIyB9iOpC39dftJgAAAABJRU5ErkJggg=="}}]);