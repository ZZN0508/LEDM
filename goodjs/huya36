(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[450],{1332:function(e,a,n){"use strict";n.r(a);var i=n(5),o=n.n(i),t=n(342),l=(n(170),n(20)),s=(n(29),n(6));function r(e){e.iType;var a=e.tGame,n=a.iGid,i=a.sGameFullName,o=a.sGameHostName,t=(a.iBussType,e.sLogo),l=e.vProfile,s=e.vLive,r=e.iTotal;return{gameHostName:o,gameName:i,gid:n,hotLivedataLs:s.map((function(e){var a=e.lUid,n=e.sNick,i=e.sAvatar180,o=e.lProfileRoom,t=e.sPrivateHost,l=e.iGid,s=e.sGameFullName,r=e.sGameHostName,c=e.lTotalCount,d=e.sRoomName,m=e.sIntroduction,p=e.iScreenType,_=e.sScreenshot,u=e.iIsBluRay,v=e.sBluRayMBitRate,g=e.iBitRate,f=e.mpCorner,h=e.iIsGaming;return{activityCount:0,activityId:0,avatar180:i,bitRate:g,bluRayMBitRate:v,bussType:0,cameraOpen:0,channel:0,codecType:0,contentIntro:"",gameFullName:s,gameHostName:r,gameId:0,gid:l,introduction:m,isBluRay:u,isFullUser:0,isPlatinum:0,isSecret:0,isWatchTogetherVip:0,level:0,liveChannel:0,liveCompatibleFlag:0,liveId:0,liveSourceType:e.iLiveSourceType,multiStreamFlag:0,nick:n,popular:0,privateHost:t,profileHomeHost:"",profileRoom:o,recommendStatus:0,recommendTagName:e.sRecommendTagName,red:0,roomLimit:0,roomName:d,scoreIntro:0,screenType:p,screenshot:_,sex:0,shortChannel:0,startTime:0,time:0,totalCount:c,uid:a,updateCacheTime:0,userCount:0,yyid:0,isGaming:h,attribute:f}})),hotProfileLs:l.map((function(e){var a=e.tProfile,n=e.iIsOnLive,i=a.lUid,o=a.sNick,t=(a.sAvatar180,a.lProfileRoom),l=a.sPrivateHost;a.lActivityCount;return{isOnLive:n,nick:o,privateHost:l,profileRoom:t,uid:i,yyid:0}})),liveTotalCount:r,logo:t}}var c,d=document.getElementById("wrap-recGameLive"),m=$(d);Object(t.a)({type:"GET",dataType:"json",url:"//".concat("live.cdn.huya.com","/liveHttpUI/getHomeLiveRecommend"),data:{iType:1,ePlatform:1},cache:!0}).then((function(e){!function(e,a){a.innerHTML=function(e){for(var a=n(491),i=n(35),o=[],t=0;t<e.length;t++){var s=e[t],r=s.hotLivedataLs.length;if(r>=5){var c=s.hotLivedataLs.slice(0,5);s.isTwoLine=!1,r>=10&&(c=s.hotLivedataLs.slice(0,10),s.isTwoLine=!0);var d=$("<div />").html(a({obj:s})),m=function(e){var a=c[e];Object.keys(a.attribute||{}).forEach((function(e){-1==["ListPos10","ListPos1","ListPos2"].indexOf(e)&&delete a.attribute[e]}))};for(var p in c)m(p);var _={list:c,eid:"click/position",position:"index/column/"+s.gid,gameType:!1,noEscape:!0};d.find(".j_live-list").html(i($.extend(_,{format:l.default}))),o.push(d.html())}}return o.join("")}(e),m.find(".live-box img").lazyload({threshold:500}),$.each(m.find(".j_index-live-box"),(function(e,a){o.a.exposure(a,(function(){Object(s.reportEvent)({eid:"pv/index/gamemodule/"+(e+1),eid_desc:"曝光/首页/游戏模块/"+(e+1)})}))}))}(e.vLive.map(r),d)})).catch((function(e){console.error(e)})),m.on("click",".j_index-game-title",(function(){var e=$(this),a=e.data("gid"),n=e.data("gname");s.reportEventPosition.click({cref:"首页/游戏模块/模块标题/".concat(n),gid:a})})).on("click",".j_anchor_label",(function(){var e=$(this).data("lp");s.reportEventPosition.click({cref:"首页/游戏模块/主播标签",uid:e})})).on("click",".game-live-item",(function(){var e=$(this),a=e.index(),n=e.data("gid")||e.attr("gid"),i=e.data("lp");s.reportEventPosition.click({cref:"首页/游戏模块/".concat(n,"/卡片/").concat(a+1),gid:n,uid:i})})).on("click",".j_index-live-more",(function(){var e=$(this),a=e.data("gid"),n=e.data("gname");s.reportEventPosition.click({cref:"首页/游戏模块/更多/".concat(n),gid:a})})),$(".live-box img").lazyload({threshold:500}),(c=document.getElementById("J_adBnM"))&&(o.a.exposure(c,(function(){var e=$(c).data("src");if(e){var a=new Image;a.src=e,c.appendChild(a),$(c).removeClass("game-extend-loading")}$(c).on("click",".ad-banner-close",(function(e){e.preventDefault(),c.style.display="none"}))}),200),o.a.exposure(c,(function(){var e="https://ad.doubleclick.net/ddm/trackimp/N5751.3159.GOOGLE/B20134077.202466803;dc_trk_aid=402314954;dc_trk_cid=91171470;ord="+Math.floor((new Date).getTime()/1e3)+"?https://v.admaster.com.cn/i/a89327,b1851435,c3043,i0,m202,8a2,8b2,0k10038,h",a=(o.a.loadImg(e,(function(){})),$(c).data("thirdview"));a&&o.a.loadImg(a,(function(){})),Object(s.reportEvent)({eid:"pageview/position",position:"push/banner/indexmid",resourceid:$(c).data("rsc")})})))},491:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,a,n,i,o){var t=a.split("\n"),l=Math.max(i-3,0),s=Math.min(t.length,i+3),r=o(n),c=t.slice(l,s).map((function(e,a){var n=a+l+1;return(n==i?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=r,e.message=(r||"ejs")+":"+i+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="live-box j_index-live-box">\n    <div class="box-hd">\n        <h2 class="title">\n            <img src="<%= TT.trimUrl(obj[\'logo\']) %>" alt="图标" class="hy-column-normal">\n            <a class="j_index-game-title" data-gid="<%=obj.gid%>" data-gname="<%=obj.gameName%>" target="_blank" href="<%= TT.app.main + \'g/\' + obj[\'gameHostName\'] %>"><%= obj[\'gameName\'] %></a>\n        </h2>\n        <% if(obj[\'hotProfileLs\']){ %>\n        <ul class="more-list">\n            <% for(var key in obj[\'hotProfileLs\']){ \n                var recommand = obj[\'hotProfileLs\'][key];\n\n                var className = \'\';\n                if(key + 1 >= obj[\'hotProfileLs\'].length){\n                    className = \' no-bor\';\n                }\n\n                var className1 = \'\';\n                if(recommand[\'isOnLive\']==0){\n                    className1 = \' grey\';\n                }\n            %>\n            <li class="j_anchor_label <%= className %>" data-lp="<%=recommand.uid%>"><a target="_blank" class="<%= className1 %>" href="<%= TT.app.main + TT.createRoomHost(recommand["privateHost"], recommand["profileRoom"], recommand["yyid"]) %>"><%= HUYA_UTIL.unescape(recommand[\'nick\']) %></a></li>\n            <% } %>\n        </ul>\n        <% } %>\n        <ul class="more-info">\n            <li><span><%= obj[\'liveTotalCount\'] %></span>个主播正在直播</li>\n            <li><a class="j_index-live-more" data-gid="<%=obj.gid%>" data-gname="<%=obj.gameName%>" target="_blank" href="<%= TT.app.main + \'g/\' + obj[\'gameHostName\'] %>">更多<i class="index-more-icon"></i></a></li>\n        </ul>\n    </div>\n    <div class="box-bd">\n        <ul class="index-list clearfix j_live-list <%= obj.isTwoLine ? \' two-line-list \' : \'\' %>"></ul>\n    </div>\n</div>',__filename="widget/index-live-list/index-live-list.tmpl";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{}){if(__append('<div class="live-box j_index-live-box">\n    <div class="box-hd">\n        <h2 class="title">\n            <img src="'),__line=4,__append(escapeFn(TT.trimUrl(obj.logo))),__append('" alt="图标" class="hy-column-normal">\n            <a class="j_index-game-title" data-gid="'),__line=5,__append(escapeFn(obj.gid)),__append('" data-gname="'),__append(escapeFn(obj.gameName)),__append('" target="_blank" href="'),__append(escapeFn(TT.app.main+"g/"+obj.gameHostName)),__append('">'),__append(escapeFn(obj.gameName)),__append("</a>\n        </h2>\n        "),__line=7,obj.hotProfileLs){for(var key in __append('\n        <ul class="more-list">\n            '),__line=9,obj.hotProfileLs){var recommand=obj.hotProfileLs[key],className="";key+1>=obj.hotProfileLs.length&&(className=" no-bor");var className1="";0==recommand.isOnLive&&(className1=" grey"),__line=21,__append('\n            <li class="j_anchor_label '),__line=22,__append(escapeFn(className)),__append('" data-lp="'),__append(escapeFn(recommand.uid)),__append('"><a target="_blank" class="'),__append(escapeFn(className1)),__append('" href="'),__append(escapeFn(TT.app.main+TT.createRoomHost(recommand.privateHost,recommand.profileRoom,recommand.yyid))),__append('">'),__append(escapeFn(HUYA_UTIL.unescape(recommand.nick))),__append("</a></li>\n            "),__line=23}__append("\n        </ul>\n        "),__line=25}__append('\n        <ul class="more-info">\n            <li><span>'),__line=27,__append(escapeFn(obj.liveTotalCount)),__append('</span>个主播正在直播</li>\n            <li><a class="j_index-live-more" data-gid="'),__line=28,__append(escapeFn(obj.gid)),__append('" data-gname="'),__append(escapeFn(obj.gameName)),__append('" target="_blank" href="'),__append(escapeFn(TT.app.main+"g/"+obj.gameHostName)),__append('">更多<i class="index-more-icon"></i></a></li>\n        </ul>\n    </div>\n    <div class="box-bd">\n        <ul class="index-list clearfix j_live-list '),__line=32,__append(escapeFn(obj.isTwoLine?" two-line-list ":"")),__append('"></ul>\n    </div>\n</div>'),__line=34}return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}}}]);