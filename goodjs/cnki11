$.fn.slideBox=function(a){var e={direction:"left",duration:0.6,easing:"swing",delay:3,startIndex:0,hideClickBar:true,clickBarRadius:5,hideBottomBar:false};var o=$.extend(e,a||{});var n=$(this),k=n.children("ul.items"),h=k.find("li"),m=h.first().find("img");var i=h.size(),l=0,c=0;var f="ASC";var d=function(){if(!n.size()){return false}l=h.first().height();c=h.first().width();n.css({width:c+"px",height:l+"px"});h.css({width:c+"px",height:l+"px"});if(o.direction=="left"){k.css("width",i*c+"px")}else{k.css("height",i*l+"px")}k.find("li:eq("+o.startIndex+")").addClass("active");if(!o.hideBottomBar){var r=$('<div class="tips"></div>').appendTo(n);var q=$('<div class="title"></div>').html(function(){var t=k.find("li.active").find("a"),u=t.attr("title"),s="javascript:void(0);";return $("<a>").attr("href",s).text(u)}).appendTo(r);var p=$('<div class="nums"></div>').hide().appendTo(r);h.each(function(v,s){var u=$(s).find("a"),x=u.attr("title"),w="javascript:void(0);",t="";v==o.startIndex&&(t="active");$("<a>").attr("href",w).text(x).addClass(t).css("borderRadius",o.clickBarRadius+"px").mouseover(function(){$(this).addClass("active").siblings().removeClass("active");k.find("li:eq("+$(this).index()+")").addClass("active").siblings().removeClass("active");j();b()}).appendTo(p)});if(o.hideClickBar){r.hover(function(){p.animate({top:"0px"},"fast")},function(){p.animate({top:r.height()+"px"},"fast")});p.show().delay(2000).animate({top:r.height()+"px"},"fast")}else{p.show()}}h.size()>1&&j()};var j=function(){var q=k.find("li.active"),p=q.find("a");var r=q.index();if(o.direction=="left"){offset=r*c*-1;param={left:offset+"px"}}else{offset=r*l*-1;param={top:offset+"px"}}n.find(".nums").find("a:eq("+r+")").addClass("active").siblings().removeClass("active");n.find(".title").find("a").attr("href",p.attr("href")).text(p.attr("title"));k.stop().animate(param,o.duration*1000,o.easing,function(){q.removeClass("active");if(f=="ASC"){if(q.next().size()){q.next().addClass("active")}else{f="ASC";k.children("li:first").addClass("active")}}else{if(f=="DESC"){if(q.prev().size()){q.prev().addClass("active")}else{f="ASC";q.next().addClass("active")}}}});n.data("timeid",window.setTimeout(j,o.delay*1000))};var b=function(){window.clearTimeout(n.data("timeid"))};n.hover(function(){b()},function(){j()});var g=new Image();g.onload=function(){g.onload=null;d()};g.src=m.attr("src")};