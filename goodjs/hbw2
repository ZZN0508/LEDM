(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1188],{60331:function(i,e,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/activities",function(){return l(27755)}])},27755:function(i,e,l){"use strict";l.r(e),l.d(e,{__N_SSP:function(){return _},default:function(){return b}});var n=l(85893),s=l(94184),t=l.n(s),r=l(27484),a=l.n(r),d=l(34394),o=l(4850),c=l.n(o);function v(i){var e,l,s,r,o,v,u,m,h=i.size,x=void 0===h?"normal":h,j=i.style,f=i.className,g=i.record;return"large"===x?(0,n.jsxs)("div",{className:t()([c().largeCard,f]),style:j,children:[(0,n.jsx)("a",{className:c().img,target:"_blank",href:g.link,rel:"noreferrer",children:(0,n.jsx)("img",{src:(null===g||void 0===g?void 0:g.largeImg)&&(null===(e=null===g||void 0===g?void 0:g.largeImg[0])||void 0===e?void 0:e.url),alt:null===g||void 0===g?void 0:g.title})}),(0,n.jsxs)("div",{className:c().info,children:[(0,n.jsxs)("div",{className:c().status,children:[(0,n.jsx)("div",{className:c().label,children:"\u5f81\u96c6\u4e2d"}),(0,n.jsxs)("div",{className:c().time,children:["\u622a\u6b62\u65f6\u95f4: ",a()(null===g||void 0===g?void 0:g.expired_at).format("YYYY/MM/DD")]})]}),(0,n.jsx)("div",{className:c().title,children:null===g||void 0===g?void 0:g.title}),(0,n.jsx)(d.nA,{condition:null===g||void 0===g?void 0:g.subtitle,children:(0,n.jsx)("div",{className:c().subtitle,children:null===g||void 0===g?void 0:g.subtitle})})]}),(0,n.jsxs)("div",{className:c().sponsor,children:[(0,n.jsx)(d.nA,{condition:(null===g||void 0===g||null===(l=g.sponsors)||void 0===l?void 0:l.length)>0,children:(0,n.jsxs)("div",{className:c().group,children:[(0,n.jsx)("div",{className:c().title,children:"\u4e3b\u529e\u65b9"}),(0,n.jsx)("div",{className:c().list,children:null===g||void 0===g||null===(s=g.sponsors)||void 0===s?void 0:s.map((function(i,e){var l;return(0,n.jsx)("a",{className:c().avatar,href:null===i||void 0===i?void 0:i.link,target:"_blank",rel:"noreferrer",children:(0,n.jsx)("img",{src:(null===i||void 0===i?void 0:i.img)&&(null===(l=null===i||void 0===i?void 0:i.img[0])||void 0===l?void 0:l.url),alt:"\u5934\u50cf"})},e)}))})]})}),(0,n.jsx)(d.nA,{condition:(null===g||void 0===g||null===(r=g.judges)||void 0===r?void 0:r.length)>0,children:(0,n.jsxs)("div",{className:c().group,children:[(0,n.jsx)("div",{className:c().title,children:"\u8bc4\u59d4\u56e2"}),(0,n.jsx)("div",{className:c().list,children:null===g||void 0===g||null===(o=g.judges)||void 0===o?void 0:o.map((function(i,e){var l;return(0,n.jsx)("a",{className:c().avatar,href:null===i||void 0===i?void 0:i.link,target:"_blank",rel:"noreferrer",children:(0,n.jsx)("img",{src:(null===i||void 0===i?void 0:i.img)&&(null===(l=null===i||void 0===i?void 0:i.img[0])||void 0===l?void 0:l.url),alt:"\u5934\u50cf"})},e)}))})]})})]})]}):(0,n.jsxs)("div",{className:t()([c().normalCard,f]),style:j,children:[(0,n.jsx)("a",{className:t()([c().img,"img"]),target:"_blank",href:g.link,rel:"noreferrer",children:(0,n.jsx)("img",{className:c().img,src:(null===g||void 0===g?void 0:g.normalImg)&&(null===(v=null===g||void 0===g?void 0:g.normalImg[0])||void 0===v?void 0:v.url),alt:null===g||void 0===g?void 0:g.title})}),(0,n.jsxs)("div",{className:c().info,children:[(0,n.jsxs)("div",{className:c().status,children:[(0,n.jsx)("div",{className:c().label,children:"\u5df2\u7ed3\u675f"}),(0,n.jsxs)("div",{className:c().time,children:["\u622a\u6b62\u65f6\u95f4: ",a()(null===g||void 0===g?void 0:g.expired_at).format("YYYY/MM/DD")]})]}),(0,n.jsx)("a",{className:c().title,target:"_blank",href:g.link,rel:"noreferrer",children:null===g||void 0===g?void 0:g.title}),(0,n.jsx)(d.nA,{condition:(null===g||void 0===g||null===(u=g.winners)||void 0===u?void 0:u.length)>0,children:(0,n.jsxs)("div",{className:c().winner,children:[(0,n.jsxs)("div",{className:c().header,children:[(0,n.jsx)("div",{className:c().icon,children:(0,n.jsx)("img",{src:"//cdn.dancf.com/fe-assets/img/6bd18a1a4f1bb765bcae137757c57a88.png",alt:"\u56fe\u6807"})}),(0,n.jsx)("div",{className:c().text,children:"\u83b7\u5956\u4eba\uff1a"})]}),(0,n.jsx)("div",{className:c().list,children:null===g||void 0===g||null===(m=g.winners)||void 0===m?void 0:m.reduce((function(i,e,l){return 0!==l&&i.push((0,n.jsx)("span",{className:c().split,children:"\u3001"},"".concat(l,"-split"))),i.push((0,n.jsx)("a",{className:c().user,href:null===e||void 0===e?void 0:e.link,target:"_blank",rel:"noreferrer",children:null===e||void 0===e?void 0:e.name},"".concat(l,"-item"))),i}),[])})]})})]})]})}var u=l(80142),m=l(71577),h=l(56673),x=l(9008),j=l.n(x),f=l(11163),g=l(67294),p=l(72501),N=l.n(p),_=!0;function b(i){var e,l,s,r=i.data,a=i.time,o=(0,g.useState)(1),c=o[0],x=o[1],p=(0,f.useRouter)(),_=(0,g.useRef)(null),b=(0,g.useRef)(null),w=(0,g.useState)(!1),C=w[0],k=w[1],y=(0,g.useState)(1296),S=y[0],E=y[1],M=(0,u.Z)((function(i){return{headerHeight:i.headerHeight}})).headerHeight,H=(0,g.useMemo)((function(){var i;return(null===r||void 0===r||null===(i=r.activities)||void 0===i?void 0:i.filter((function(i){return a>=(null===i||void 0===i?void 0:i.show_at)&&a<(null===i||void 0===i?void 0:i.expired_at)})).sort((function(i,e){return e.show_at-i.show_at})))||[]}),[r,a]),A=(0,g.useMemo)((function(){var i;return(null===r||void 0===r||null===(i=r.activities)||void 0===i?void 0:i.filter((function(i){return a>=(null===i||void 0===i?void 0:i.show_at)&&a>=(null===i||void 0===i?void 0:i.expired_at)})).sort((function(i,e){return e.expired_at-i.expired_at})))||[]}),[r,a]),Y=(0,g.useMemo)((function(){return A.filter((function(i,e){return e>=6*(c-1)&&e<6*c}))}),[A,c]),T=(0,g.useCallback)((function(i){x(i)}),[]),B=(0,g.useCallback)((function(){p.push("/activities/start")}),[p]),K=(0,g.useCallback)((function(){var i=_.current;if(i){var e=i.getBoundingClientRect();window.scrollTo({top:e.top+window.scrollY-M,behavior:"smooth"})}}),[M]);return(0,g.useEffect)((function(){var i=function(){var i,e=null===(i=b.current)||void 0===i?void 0:i.getBoundingClientRect(),l=(null===e||void 0===e?void 0:e.top)-M<=0;k(l)};return window.addEventListener("scroll",i),function(){window.removeEventListener("scroll",i)}}),[M]),(0,g.useEffect)((function(){var i=function(){window.innerWidth>1536?E(1536):E(1296)};return i(),window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}),[]),(0,n.jsxs)("div",{className:N().page,children:[(0,n.jsx)(j(),{children:(0,n.jsx)("title",{children:"\u82b1\u74e3\u5927\u8d5b \u53ef\u8861\u91cf\u6548\u679c\u7684\u9ad8\u8d28\u91cf\u8425\u9500-\u82b1\u74e3\u7f51"})}),(0,n.jsxs)("div",{className:N().header,children:[(0,n.jsx)("div",{className:N().subtitle,children:(0,n.jsx)("img",{src:(null===r||void 0===r?void 0:r.headerSubtitle)&&(null===(e=null===r||void 0===r?void 0:r.headerSubtitle[0])||void 0===e?void 0:e.url),alt:"\u526f\u6807\u9898"})}),(0,n.jsx)("div",{className:N().title,children:null===r||void 0===r?void 0:r.headerTitle}),(0,n.jsxs)("div",{className:N().action,children:[(0,n.jsx)(m.Z,{className:N().button,type:"text",onClick:K,children:"\u4e86\u89e3\u5927\u8d5b"}),(0,n.jsx)(m.Z,{className:N().button,type:"primary",onClick:B,children:"\u6211\u8981\u53d1\u8d77\u5927\u8d5b"})]})]}),(0,n.jsx)("div",{className:t()([N().sticky,C?N().active:null,"modalOpenWidth"]),style:{top:"".concat(M,"px")},children:(0,n.jsxs)("div",{className:t()(N().container,"calculateWrapper"),children:[(0,n.jsx)("div",{className:N().title,children:"\u82b1\u74e3\u5927\u8d5b"}),(0,n.jsx)("div",{className:N().button,children:(0,n.jsx)(m.Z,{type:"primary",onClick:B,children:"\u6211\u8981\u53d1\u8d77\u5927\u8d5b"})})]})}),(0,n.jsxs)("div",{className:t()([N().wrapper,1536===S?N().large:null]),ref:b,children:[(0,n.jsx)(d.nA,{condition:(null===H||void 0===H?void 0:H.length)>0,children:(0,n.jsxs)("div",{className:N().running,children:[(0,n.jsx)("div",{className:N().title,children:"\u8fdb\u884c\u4e2d\u7684\u5927\u8d5b"}),(0,n.jsx)("div",{className:N().list,children:H.map((function(i,e){return(0,n.jsx)(v,{className:N().card,size:"large",record:i},e)}))})]})}),(0,n.jsx)(d.nA,{condition:(null===Y||void 0===Y?void 0:Y.length)>0,children:(0,n.jsxs)("div",{className:N().history,children:[(0,n.jsx)("div",{className:N().title,children:"\u5927\u8d5b\u6210\u529f\u6848\u4f8b"}),(0,n.jsx)("div",{className:N().list,children:Y.map((function(i,e){return(0,n.jsx)(v,{className:N().card,record:i},e)}))}),(0,n.jsx)("div",{className:N().pagination,children:(0,n.jsx)(h.Z,{defaultCurrent:c,pageSize:6,total:A.length,onChange:T,showSizeChanger:!1,hideOnSinglePage:!0})})]})}),(0,n.jsxs)("div",{className:N().benefit,children:[(0,n.jsx)("div",{className:N().head,ref:_,children:null===r||void 0===r?void 0:r.benefitTitle}),(0,n.jsx)("div",{className:N().list,children:null===r||void 0===r||null===(l=r.benefit)||void 0===l?void 0:l.map((function(i,e){var l;return(0,n.jsxs)("div",{className:N().card,children:[(0,n.jsx)("div",{className:N().logo,children:(0,n.jsx)("img",{src:(null===i||void 0===i?void 0:i.logo)&&(null===(l=null===i||void 0===i?void 0:i.logo[0])||void 0===l?void 0:l.url),alt:"\u56fe\u6807"})}),(0,n.jsx)("div",{className:N().title,title:null===i||void 0===i?void 0:i.title,children:null===i||void 0===i?void 0:i.title}),(0,n.jsx)("div",{className:N().subtitle,children:null===i||void 0===i?void 0:i.subtitle})]},e)}))})]})]}),(0,n.jsxs)("div",{className:N().footer,children:[(0,n.jsx)("div",{className:N().title,children:null===r||void 0===r?void 0:r.footerTitle}),(0,n.jsx)("div",{className:N().subtitle,children:(s=null===r||void 0===r?void 0:r.footerSubtitle,s.split("<br/>").reduce((function(i,e,l){return 0!==l&&i.push((0,n.jsx)("br",{},"br".concat(l))),e&&i.push((0,n.jsx)("span",{children:e},"text".concat(l))),i}),[]))}),(0,n.jsx)("div",{className:N().action,children:(0,n.jsx)(m.Z,{className:N().button,type:"primary",onClick:B,children:"\u6211\u8981\u53d1\u8d77\u5927\u8d5b"})})]})]})}},4850:function(i){i.exports={"color-primary":"__2HuASbMd","color-text-1":"__2GNdE1V_","color-text-2":"YMdBrA6x","color-text-3":"__1zKJgNRp","font-sm":"l4caxYk4","font-md":"BWSV_87x","font-lg":"Hw_tutpH","font-bg":"IK_VwEbk","single-line-ellipsis":"M2E87DUX","vertical-center":"LqZC0jkv","justify-center":"djM5GYog","drop-list-wrap":"_Q4c_U8r","list-item":"zPcwsPLK",separate:"xxXKWHXC","grid-bg":"aGSFsNW8","line-bg":"Rgopjwqq",tip:"BgQGms6Y","primary-btn":"iWHpcKHf","primary-text-btn":"DvN5SzK8","thin-scroll-bar":"LlMAFAEg",largeCard:"mXBvBgMl",img:"v3ZnCrMS",info:"ou2HPCId",status:"hK7U7fBA",label:"R7iRelmI",time:"__4Kg1M_Gj",title:"__5HMCT2l7",subtitle:"x6aviE0K",sponsor:"BCS4_cMi",group:"__41Rzoaxr",list:"g1majClx",avatar:"__8RWAm3Ix",normalCard:"mAiUNbJF",winner:"nZ0AZV_m",header:"JCHoWq_l",icon:"g6t9trcl",text:"Zu_ekXaH",user:"CaA3btJD",split:"OML2HuSQ"}},72501:function(i){i.exports={"color-primary":"nc9crzRt","color-text-1":"UYHuLEEl","color-text-2":"DIp1rE6Q","color-text-3":"mxc3Gsiz","font-sm":"tlMwnyST","font-md":"JVjuW1tz","font-lg":"ti8vYyCT","font-bg":"NjTMpjdG","single-line-ellipsis":"heq7Qc8K","vertical-center":"uJmlhSHB","justify-center":"__8uCTV1rE","drop-list-wrap":"__3402oC2T","list-item":"d2_TV_Cj",separate:"__8IvEf0hR","grid-bg":"__5pIgFkKA","line-bg":"__0JHdoZSK",tip:"IjGL4sdC","primary-btn":"__2BC6dFfG","primary-text-btn":"CIvC72Hg","thin-scroll-bar":"kS2HMPsU",page:"lfzH2eeu",header:"jyr51E0I",subtitle:"wBKlDV44",title:"m80Wj9so",action:"qsVqk0jT",button:"__2jTLcaxm",sticky:"psNedSqx",active:"kDlKYKRs",container:"qrhWVBha",wrapper:"wam7L1h_",large:"iAVjBToE",running:"fLu0byyE",list:"_k1Lk1r5",card:"gJf_g7BC",history:"ilS2_6A2",benefit:"__1tY9NaDM",pagination:"kExJcPiW",head:"YXWuJc1q",logo:"PnbMCcS3",footer:"SdZQXD5t"}}},function(i){i.O(0,[6673,9774,2888,179],(function(){return e=60331,i(i.s=e);var e}));var e=i.O();_N_E=e}]);
//# sourceMappingURL=activities-8fd98e3f25c05650.js.map