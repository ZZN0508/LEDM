(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([[7911,6615],{21308:function(e,t,n){e.exports=n(31948)},65827:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(53864),i="click";function o(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined,t=arguments.length>1?arguments[1]:undefined,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:i,o=(0,r.useRef)(),a=(0,r.useCallback)((function(n){var r=("function"==typeof e?e():e)||o.current;!r||r.contains(n.target)||n.composedPath&&n.composedPath().includes(r)||t(n)}),[o.current,t,e]);return(0,r.useEffect)((function(){return document.addEventListener(n,a),function(){document.removeEventListener(n,a)}}),[n,a]),o}},71278:function(e,t,n){"use strict";var r=n(53864);t.Z=function(e,t){var n=(0,r.useRef)(!1);(0,r.useLayoutEffect)((function(){if(n.current)return e();n.current=!0}),t)}},84094:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var r="1.0.9"},86615:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,n)}}function p(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}n.r(t),n.d(t,{default:function(){return x}});n(15837),n(25134),n(16279),n(49649),n(63930),n(70440);var h=n(97702),g=n(34210),y=(n(67519),n(1348),n(27181),function(){function e(t){var n=this;o(this,e),s(this,"_onPlay",(function(){n._calcPausedTime()})),s(this,"_onPause",(function(){n._prevPauseTime=Date.now()})),s(this,"_onEnded",(function(){!n._info.downloadDuration&&n._info.canPlayTime&&(n._info.downloadDuration=(Date.now()-n._info.canPlayTime)/1e3),n.disable()})),s(this,"_canPlay",(function(){n._info.canPlayTime=Date.now();var e=n.video.buffered;e.length&&(n._info.startBufferTime=e.end(e.length-1))})),s(this,"_onProgress",(function(){var e=n.video.buffered;n._info.canPlayTime&&e.length&&e.end(e.length-1)+.8>n.video.duration&&(n._info.downloadDuration=(Date.now()-n._info.canPlayTime)/1e3)})),s(this,"_onTick",(function(){var e=n.video;if(e){n._timer=setTimeout(n._onTick,500);var t=e.currentTime;!e.paused||e.ended||0===e.playbackRate||0===e.readyState?(n._prevCurrentTime===t?n._prevStallTime||(n._prevStallTime=Date.now()):n._calcStallTime(),n._prevCurrentTime=t):n._prevCurrentTime=t}})),this.video=t,this._timer=null,this._prevPauseTime=0,this._prevStallTime=0,this._prevCurrentTime=0,this.resetInfo(),this.enable()}return u(e,[{key:"isStalling",get:function(){return!!this._prevStallTime}},{key:"enable",value:function(){this.disable();var e=this.video;e&&(e.addEventListener("play",this._onPlay),e.addEventListener("pause",this._onPause),e.addEventListener("canplay",this._canPlay),e.addEventListener("progress",this._onProgress),e.addEventListener("ended",this._onEnded),this._timer=setTimeout(this._onTick,500))}},{key:"disable",value:function(){clearTimeout(this._timer),this.resetInfo();var e=this.video;e&&(e.removeEventListener("play",this._onPlay),e.removeEventListener("pause",this._onPause),e.removeEventListener("canplay",this._canPlay),e.removeEventListener("progress",this._onProgress),e.removeEventListener("ended",this._onEnded))}},{key:"endPlay",value:function(){if(this.video){var e=this.video.buffered;if(e.length)try{this._info.endBufferTime=e.end(e.length-1)}catch(t){}this._info.leaveWithBlock=this.isStalling,this._calcPausedTime(),this._calcStallTime(),!this._info.downloadDuration&&this._info.canPlayTime&&(this._info.downloadDuration=(Date.now()-this._info.canPlayTime)/1e3)}}},{key:"getInfo",value:function(){return this._info}},{key:"resetInfo",value:function(){this._prevPauseTime=0,this._prevStallTime=0,this._prevCurrentTime=0,this._info={pausedTime:0,stalledTime:0,downloadDuration:0,startBufferTime:0,endBufferTime:0,canPlayTime:0,leaveWithBlock:!1}}},{key:"destroy",value:function(){this.disable(),this.video=null}},{key:"_calcStallTime",value:function(){this._prevStallTime&&(this._info.stalledTime+=(Date.now()-this._prevStallTime)/1e3,this._prevStallTime=0)}},{key:"_calcPausedTime",value:function(){this._prevPauseTime&&(this._info.pausedTime+=(Date.now()-this._prevPauseTime)/1e3,this._prevPauseTime=0)}}]),e}()),v=(n(44512),{findNearestBitRate:function(e,t){if(!e)return null;var n,r=Infinity;return e.forEach((function(e){var i=Math.abs(e.bitrate-t);r>i&&(n=e,r=i)})),n||null},findUnderBitRate:function(e,t){if(!e)return null;for(var n=-1,r=0;r<e.length;r++)if(e[r]&&e[r].bitrate&&t>=e[r].bitrate){n=r;break}return n<0?null:e[n]},findAdaptBitRate:function(e,t,n){return n?1===n?v.findUnderBitRate(e,t):void 0:v.findNearestBitRate(e,t)}}),m=new(function(){function e(t){o(this,e),this._queue=[],this._current={},this.setConfig(t)}return u(e,[{key:"setConfig",value:function(e){this._config=Object.assign({},e)}},{key:"setCurrent",value:function(e){Object.assign(this._current,e)}},{key:"getCurrent",value:function(){return this._current}},{key:"resetCurrent",value:function(){this._current={}}},{key:"calcAndReset",value:function(){var e=this._current,t=e.startBufferTime,n=e.duration,r=e.endBufferTime,i=e.leaveWithBlock,o=e.stalledTime,a=e.pausedTime,u=e.downloadDuration,s=e.bitrate;if(n&&s&&r){var l=this._config,c=l.paramBf,f=l.paramBp,d=l.paramUpperBl,p=l.paramUpper,h=l.slidingWindowWeight,g=l.slidingWindowType,y=l.slidingWindowWeightThreshold,v=l.slidingWindowCountThreshold,m=1+((r-t)*c-(o+a)*f)/u;i&&(m=Math.min(m,d));var b=s*Math.max(p,m),_=0;if(_="time"===h?Math.min(u,n+o):Math.min(u,n)*s,this._queue.push([b,_,this._current]),"by_weight"===g){this._queue=this._queue.slice(-30);for(var E=this._queue.reduce((function(e,t){return e+t[1]}),0)-y;E>0;){var O=this._queue.shift();if(!O)break;if(O[1]>E){O[1]-=E,this._queue.unshift(O);break}E-=O[1]}}else this._queue=this._queue.slice(-v);this.resetCurrent()}else this.resetCurrent()}},{key:"getDefaultBitrate",value:function(e){if(!e||0===e.length)return 0;for(var t=this._config.defaultTargetBitrate||1e6,n=0,r=0;r<e.length;r++)e[r].bitrate<=t&&e[r].bitrate>=n&&(n=e[r].bitrate);return n||(n=e[e.length-1].bitrate),n}},{key:"getTargetBitrate",value:function(e){if(!this._queue.length||!e)return 0;var t=this._config,n=t.paramVlLower,r=t.paramVlUpper,i=t.paramVl1,o=t.paramVl2,a=t.bitrateLower,u=t.bitrateUpper,s=t.slidingWindowExtraction,l=0,c=this._queue.reduce((function(e,t){return e+t[1]}),0);if("weighted_median"===s){var f=c/2,d=Infinity,p=0;this._queue.forEach((function(e){(p=Math.abs(f-e[1]))<d&&(l=e[0],d=p)}))}else l=this._queue.reduce((function(e,t){return e+t[1]/c*t[0]}),0);var h=Math.min(r,Math.max(n,i+o/e));return Math.max(a,Math.min(u,l*h))}}]),e}()),b=function(){function e(t,n){var r=this;o(this,e),s(this,"_onEnded",(function(){r._updateInfo()})),s(this,"_onPlayNext",(function(){r._updateInfo()})),this._rule=m,this._player=t,t&&(this._playingInfo=new y(t.video)),this._bindEvent(),m.setConfig(n),this._selectAlgType=n.selectAlgType}return u(e,[{key:"select",value:function(e){if(e.length){var t,n=e[0].duration||0;1===e.length&&(t=e[0]);var r=0;return t||((t=(r=m.getTargetBitrate(n,e))?v.findAdaptBitRate(e,r,this._selectAlgType):e[0])._targetBitrate=r),m.resetCurrent(),m.setCurrent({bitrate:t.bitrate,duration:n}),this._playingInfo&&this._playingInfo.enable(),t}}},{key:"_bindEvent",value:function(){if(!this._player)return this._player;this._player.on("ended",this._onEnded),this._player.on("playnext",this._onPlayNext)}},{key:"getTargetBitrate",value:function(e,t){return m.getTargetBitrate(e,t)}},{key:"destroy",value:function(){this._endPlay(),this._player&&(this._playingInfo.destroy(),this._player.off("ended",this._onEnded),this._player.off("playnext",this._onPlayNext))}},{key:"_updateInfo",value:function(){this._playingInfo.endPlay();var e=this._playingInfo.getInfo();this._playingInfo.resetInfo(),m.setCurrent({downloadDuration:e.downloadDuration||m.getCurrent().duration,startBufferTime:e.startBufferTime,endBufferTime:e.endBufferTime,pausedTime:e.pausedTime,stalledTime:e.stalledTime,leaveWithBlock:e.leaveWithBlock}),this._prevPlayInfo=m.getCurrent(),m.calcAndReset()}},{key:"_endPlay",value:function(){this._updateInfo(),this._playingInfo.disable()}}]),e}(),_=function(){function e(){o(this,e)}return u(e,[{key:"select",value:function(e,t,n){if(e.length<=1)return e[0];var r,i=n.autoBitrateParams,o=i.paramA,a=i.paramB,u=i.paramC,s=i.paramD,l=n.defaultBitrate,c=-1===t?l:o*Math.pow(t,3)+a*Math.pow(t,2)+u*t+s;return(r=v.findAdaptBitRate(e,c,n.selectAlgType))||(r=e[e.length-1]),r._targetBitrate=c,r}}]),e}(),E=function(){function e(t){o(this,e),this._config=Object.assign({},t)}return u(e,[{key:"select",value:function(e,t,n){if(e.length<=1)return e[0];var r,i=n.autoBitrateParams,o=i.paramA,a=i.paramB,u=i.paramC,s=i.paramD;this._config=Object.assign({},n);var l=this._config.defaultBitrate,c=t<=0||!t?l:o*Math.pow(t,3)+a*Math.pow(t,2)+u*t+s;return(r=v.findAdaptBitRate(e,c,n.selectAlgType))||(r=e[e.length-1]),r._targetBitrate=c,r}}]),e}(),O=20,T="default",S="bitRateAdapter",w="userSelect",k="simple",A="buffer-info",P="bandwidth-buffer",C=function(){function e(t,n){var r=this;o(this,e),this.config=e.defaultConfig;var i=t.config||{};Object.keys(i).map((function(e){r.config[e]=i[e]})),this.netRecords=[],this.speed=0,this.speedKB=0,this._selectorMap={},this._selectorMap[k]=new _,this._selectorMap[A]=new b(n,this.config),this._selectorMap[P]=new E(this.config)}return u(e,[{key:"netSampling",value:function(t){this.netRecords.push(t),this.netRecords.length>e.MaxQueueCapacity&&(this.netRecords=this.netRecords.shift(0)),this.speed=this.getSpeed(),this.speedKB=this.speed/8/1024}},{key:"getSpeed",value:function(){var e=-1;if(this.netRecords.length<this.config.mSpeedRecordValidThreshold)return e;var t=[];this.netRecords.map((function(e){t.push(e)})),t.sort((function(e,t){return e.mSpeedInbPS-t.mSpeedInbPS}));for(var n=t.length,r=0,i=0;i<n;i++)r+=t[i].mBytes;r/=2;for(var o=0;o<n;o++)(r-=t[o].mBytes)<=0&&(e=t[o].mSpeedInbPS);return e<0?-1:e}},{key:"select",value:function(e,t){if(!this.config.disabled){t=t||this.config.mode;var n=this.config,r=n.bitrateRange,i=n.defaultBitrate,o=e.filter((function(e){return e.bitrate>=r[0]&&e.bitrate<=r[1]})).sort((function(e,t){return t.bitrate-e.bitrate}));if(!o.length){var a,u=Infinity;e.forEach((function(e){var t=Math.abs(e.bitrate-i);t<u&&(a=e,u=t)})),a&&o.push(a)}return(this._selectorMap[t]||this._selectorMap.simple).select(o,this.speed,this.config)||o[0]}}},{key:"selector",get:function(){var e=this.config.mode;return this._selectorMap[e]||this._selectorMap.simple}},{key:"getTargetBitrate",value:function(e,t){var n=this.selector;if(n&&n.getTargetBitrate)return n.getTargetBitrate(e,t)}},{key:"addSelect",value:function(e,t){this._selectorMap[e||t.name]=t}},{key:"destroy",value:function(){var e=this._selectorMap;Object.keys(e).forEach((function(t){"function"==typeof e[t].destroy&&e[t].destroy()}))}}],[{key:"defaultConfig",get:function(){return{paramBf:.3,paramBp:.5,paramUpper:1.5,paramLower:.6,paramUpperBl:.7,paramVl1:.7,paramVl2:1e3,paramVlUpper:.9,paramVlLower:.8,bitrateUpper:2e6,bitrateLower:2e5,slidingWindowType:"by_weight",slidingWindowWeight:"size",slidingWindowWeightThreshold:3e5,slidingWindowCountThreshold:30,slidingWindowExtraction:"weighted_median",bitrateRange:[2e5,25e5],defaultBitrate:1e6,autoBitrateParams:{paramA:0,paramB:4.04330129e-9,paramC:.0164405979,paramD:225511.28,minBitrate:2e5},mSpeedRecordValidThreshold:2,mode:k,needCheckDuration:!0,overscore:{isOpen:!1,filterKey:"definition",filterList:[],scoreMultiple:2}}}},{key:"MaxQueueCapacity",get:function(){return O},set:function(e){O=e}}]),e}(),R=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.config={size:30,severeBlockDuration:1500,slightBlockDuration:100,highBitrateRatio:1.5,lowBitrateRatio:.8,highLadderSelectedCnt:1,lowLadderSelectedCnt:1,blockSumMaxTime:6e5},Object.keys(n).map((function(e){t.config[e]=n[e]})),this.timerId=null,this.setTimer()}return u(e,[{key:"setConfig",value:function(e){var t=this;Object.keys(e).map((function(n){t.config[n]=e[n]}))}},{key:"resetCurrent",value:function(){this._info.currentBlockDur=0}},{key:"setTimer",value:function(){var e=this;this._blockQueue=[],this._tBQueue=[],this._sBQueue=[],this._hCount=0,this._lCount=0,this._info={blockDurationSum:0,currentBlockDur:0,targetBitrateAvg:0,selectedBitrateAvg:0,higherSelectedCnt:0,lowerSelectedCnt:0},this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.timerId=setTimeout((function(){e.setTimer()}),this.config.blockSumMaxTime)}},{key:"targetBitRate",set:function(e){if(e&&"number"==typeof e){this._tBQueue.push(parseInt(e,10)),this._tBQueue.length>this.config.size&&this._tBQueue.shift(0,1);var t=0;this._tBQueue.map((function(e){t+=e})),this._info.targetBitrateAvg=t/this._tBQueue.length}}},{key:"selectBitRate",set:function(e){if(e&&"number"==typeof e){this._sBQueue.push(e),this._sBQueue.length>this.config.size&&this._sBQueue.shift(0,1);var t=0;this._sBQueue.map((function(e){t+=e})),this._info.selectedBitrateAvg=t/this._sBQueue.length}}},{key:"blockDuration",set:function(e){this._blockQueue.push(e),this._blockQueue.length>this.config.size&&this._blockQueue.shift(0,1);var t=0;this._blockQueue.map((function(e){t+=e})),this._info.blockDurationSum=t}},{key:"currentBlockDur",set:function(e){this._info.currentBlockDur+=e}},{key:"updateBitRateInfo",value:function(e,t){e&&t&&(e>t?this._info.higherSelectedCnt++:e<t&&this._info.lowerSelectedCnt++)}},{key:"checkDefinition",value:function(){var e=this.config,t=this._info;return t.blockDurationSum>e.severeBlockDuration&&(t.selectedBitrateAvg>t.targetBitrateAvg*e.highBitrateRatio&&t.higherSelectedCnt>=e.highLadderSelectedCnt||t.currentBlockDur>e.severeBlockDuration)?1:t.blockDurationSum<e.slightBlockDuration&&t.selectedBitrateAvg<t.targetBitrateAvg*e.lowBitrateRatio&&t.lowerSelectedCnt>=e.lowLadderSelectedCnt?2:0}}]),e}();function I(e,t,n){var r=n.isOpen,o=n.filterKey,a=n.filterList,u=n.scoreMultiple,s=n.type;if(!r)return e;var l=null;return"filter"===s?l=function(e,t,n,r){var i=null;if(n.forEach((function(n){n.source===t[e]&&(i=n)})),!i)return null;for(var o=null,a=function(t){if(i.target.forEach((function(n){r[t][e]===n&&(o=r[t])})),o)return"break"},u=0;u<r.length&&"break"!==a(u);u++);return o}(o,e,a,t):"multiple"===s&&(l=function(e,t,n){if(!e)return null;for(var r=-1,i=0;i<n.length;i++)if(t.definition===n[i].definition){r=i;break}return r>-1&&r<n.length-1?n[r+e>n.length-1?n.length-1:r+e]:null}(u,e,t)),l?i(i({},l),{},{type:"overscore",fromType:e.type,orgDefinition:e.definition}):e}var L=new R({}),N=null,j=null,D={needCheckDuration:!0};var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(n,e);var t=d(n);function n(e){var r;return o(this,n),s(f(r=t.call(this,e)),"_onXLog",(function(e){"waitingEnd"===e.eventType&&0===e.type&&(L.blockDuration=e.costTime,r.player.isUserActive&&(L.currentBlockDur=e.costTime))})),n.defaultConfig=e.config,r}return u(n,[{key:"matchFactor",value:function(e,t,n){var r,i,o="Array"===h.ZP.typeOf(t)?t:[],a=!1;switch(e){case"core_cnt":n.core&&o.length>1&&n.core>=Number(o[0])&&n.core<=Number(o[1])&&(a=!0);break;case"memory":n.memory&&o.length>1&&n.memory>=Number(o[0])&&n.memory<=Number(o[1])&&(a=!0);break;case"video_screen_mode":o.length>0&&"landscape"===o[0]&&(r=n.videoHeight,i=n.videoWidth,r&&i&&i>r)&&(a=!0);break;case"encoder":o.length>0&&o[0]&&n.codecType&&o[0]===n.codecType&&(a=!0)}return a}},{key:"updateParamsByFactor",value:function(e){for(var t=this,n=this.playerConfig,r=n.codecType,i=n.videoHeight,o=n.videoWidth,a=0|window.navigator.deviceMemory,u=0|window.navigator.hardwareConcurrency,s=null,l={codecType:r,videoHeight:i,videoWidth:o,memory:a,core:u},c=0;c<e.length;c++){for(var f=e[c].factor||{},d=Object.keys(f),p=!0,h=0;h<d.length;h++)if(!this.matchFactor(d[h],f[d[h]],l)){p=!1;break}if(p){e[c].factor,s=e[c].config;break}}s&&Object.keys(s).forEach((function(e){t.config[e]=s[e]}))}},{key:"afterCreate",value:function(){var e=this.config.multiFactors;e&&e.length>0&&this.updateParamsByFactor(e),this._bindEvent(),this.bitRateAdapter=new C({config:this.config},this.player),N||(N=new C({config:this.config})),L.setConfig(this.config.detectConfig||{}),L.resetCurrent(),this.curBitRate=this.getInitBitrate(),this.player.curDefinition=this.curBitRate}},{key:"beforePlayerInit",value:function(){this.curBitRate=this.getInitBitrate(),this.player.curDefinition=this.curBitRate}},{key:"_bindEvent",value:function(){this.on("xglog",this._onXLog)}},{key:"getInitBitrate",value:function(){if(!this.config.disabled){var e=this.player,t=this.config,n=this.playerConfig;j=n.userSelectDefinition;var r=this.getSuitableBitrate(e.definitionList,n.userSelectDefinition);return r?n.url=r.url:r={url:n.url,definition:n.defaultDefinition||t.definition,bitrate:n.defaultBitrate||n.bitrate,type:T},r.networkSpeed=e.speed,r}}},{key:"getSuitableBitrate",value:function(e,t){var r,i;if(this.bitRateAdapter&&e&&!(e.length<1)){var o=e.sort((function(e,t){return t.bitrate-e.bitrate})),a=this.getAdaptBitrate(o),u=a?a.duration:0,s=(null===(r=a)||void 0===r?void 0:r._targetBitrate)||a.bitrate,l=this.player;if((null===(i=this.config)||void 0===i?void 0:i.mode)===P){var c=Object.assign({},this.config);c.mode=A;var f=new C({config:c});f.speed=l.avgSpeed||l.speed;var d,p=null==f?void 0:f.select(e,c.mode),h=(null==p?void 0:p._targetBitrate)||(null==p?void 0:p.bitrate);d=!l.avgSpeed||l.avgSpeed<0?h:(null==c?void 0:c.mixFactor)>=0&&c.mixFactor<=1?s*c.mixFactor+h*(1-c.mixFactor):(null==c?void 0:c.mixFactor)>1?Math.max(s,h):Math.min(s,h),(a=v.findAdaptBitRate(e,d,c.selectAlgType))||(a=e[e.length-1]),a._targetBitrate=d}var g=this.bitRateAdapter.getTargetBitrate(u,e,this.player.avgSpeed);if(g&&(L.targetBitRate=g),t){var y=n.getUserSelectBitrate(o,t);y&&(L.selectBitRate=y.bitrate,L.updateBitRateInfo(y.bitrate,g),a=y)}return this.config.overscore&&this.config.overscore.isOpen?I(a,o,this.config.overscore):a}}},{key:"getAdaptBitrate",value:function(e){if(!this.config.disabled){var t=this.player,n=null;return e&&e.length&&this.bitRateAdapter&&(this.bitRateAdapter.speed=t.avgSpeed||t.speed,n=this.bitRateAdapter.select(e)),n&&(n.type=S),n}}},{key:"getDefinition",value:function(e,t,n){for(var r=-1,i=0;i<e.length;i++)e[i].bitrate===t&&(r=i);return-1===r?null:n&&e.length>r+1?e[r+1]:!n&&r-1>=0?e[r-1]:null}},{key:"needChangeDefinition",value:function(){var e=this.player,t=e.curDefinition,r=e.definitionList,i=this.playerConfig,o=i.userSelectDefinition,a=i.extDefinition,u=a&&a.length>0?a:r,s={type:0,message:"DO_NOT_UPDATE",targetDefinition:null};if(!o||u.length<2)return s;var l=t;o&&(l=n.getUserSelectBitrate(u,o));var c=L.checkDefinition();s.type=c;var f=this.getAdaptBitrate(u);if(!(f&&0!==c&&f&&f.bitrate&&l&&l.bitrate))return s.message="DO_NOT_UPDATE",s;var d=f.bitrate>=l.bitrate,p=f.bitrate<l.bitrate,h=null;switch(1===c?h=d?this.getDefinition(u,l.bitrate,!0):f:2===c&&(h=p?this.getDefinition(u,l.bitrate,!1):f),s.targetDefinition=h,s.targetDefinition&&s.targetDefinition.definition!==o||(s.type=0),s.type){case 1:s.message="NEED_TO_REDUCE_BITRATE";break;case 2:s.message="CAN_UPGRADE_BITRATE";break;default:s.message="DO_NOT_UPDATE"}return s}},{key:"detectDefInfo",get:function(){return L}},{key:"destroy",value:function(){this.bitRateAdapter&&this.bitRateAdapter.destroy(),this.bitRateAdapter=null,this.off("xglog",this._onXLog),L&&L.resetCurrent()}}],[{key:"pluginName",get:function(){return"BitrateSelector"}},{key:"defaultConfig",get:function(){return i({needCheckDuration:!0},D)},set:function(e){Object.keys(e).forEach((function(t){D[t]=e[t]}))}},{key:"getSuitableBitrate",value:function(e,t,r,i){if(e&&!(e.length<1)){r||(r=n.defaultConfig),t||(t=j);var o=e.sort((function(e,t){return t.bitrate-e.bitrate})),a=null;if(N||(N=new C({config:Object.assign(r,D)})),o&&o.length&&N){var u,s=(a=N.select(o))._targetBitrate||a.bitrate;if((null===(u=r)||void 0===u?void 0:u.mode)===P){var l,c,f=Object.assign({},r);f.mode=A;var d=new C({config:f});d.speed=i;var p,h=null==d?void 0:d.select(e,f.mode),g=(null==h?void 0:h._targetBitrate)||(null==h?void 0:h.bitrate);p=!i||i<0?g:(null===(l=r)||void 0===l?void 0:l.mix_factor)>=0&&r.mix_factor<=1?s*r.mix_factor+g*(1-r.mix_factor):(null===(c=r)||void 0===c?void 0:c.mix_factor)>1?Math.max(s,g):Math.min(s,g),(a=v.findAdaptBitRate(e,p,r.selectAlgType))||(a=e[e.length-1]),a._targetBitrate=p}}a&&(a.type="bitRateAdapter");var y=a?a.duration:0,m=N?N.getTargetBitrate(y,e):null;if(m&&(L.targetBitRate=m),t){var b=n.getUserSelectBitrate(o,t);b&&(L.selectBitRate=b.bitrate,L.updateBitRateInfo(b.bitrate,m),a=b)}return r.overscore&&r.overscore.isOpen?I(a,o,r.overscore):a}}},{key:"getUserSelectBitrate",value:function(e,t){if(t&&e&&e.length>0){for(var n=null,r=null,i=0;i<e.length;i++){if(t===e[i].definition){n=e[i];break}!r&&t<e[i].definition&&(r=e[i])}return n||(n=r||e[e.length-1]),n.type=w,n}return null}}]),n}(g.ZP)},11228:function(e,t,n){var r=n(88346);e.exports=r},5405:function(e,t,n){n(97847);var r=n(39149);e.exports=r.Number.isInteger},31948:function(e,t,n){e.exports=n(85778)},85778:function(e,t,n){var r=n(11228);e.exports=r},20127:function(e,t,n){var r=n(30339),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},97847:function(e,t,n){n(83489)({target:"Number",stat:!0},{isInteger:n(20127)})},88346:function(e,t,n){var r=n(5405);e.exports=r},47601:function(e){e.exports=function(){"use strict";var e,t,n=1e3,r=6e4,i=36e5,o=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,s=2592e6,l=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,c={years:u,months:s,days:o,hours:i,minutes:r,seconds:n,milliseconds:1,weeks:6048e5},f=function(e){return e instanceof m},d=function(e,t,n){return new m(e,n,t.$l)},p=function(e){return t.p(e)+"s"},h=function(e){return e<0},g=function(e){return h(e)?Math.ceil(e):Math.floor(e)},y=function(e){return Math.abs(e)},v=function(e,t){return e?h(e)?{negative:!0,format:""+y(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},m=function(){function h(e,t,n){var r=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return d(e*c[p(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){r.$d[p(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var i=e.match(l);if(i){var o=i.slice(2).map((function(e){return null!=e?Number(e):0}));return this.$d.years=o[0],this.$d.months=o[1],this.$d.weeks=o[2],this.$d.days=o[3],this.$d.hours=o[4],this.$d.minutes=o[5],this.$d.seconds=o[6],this.calMilliseconds(),this}}return this}var y=h.prototype;return y.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,n){return t+(e.$d[n]||0)*c[n]}),0)},y.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=g(e/u),e%=u,this.$d.months=g(e/s),e%=s,this.$d.days=g(e/o),e%=o,this.$d.hours=g(e/i),e%=i,this.$d.minutes=g(e/r),e%=r,this.$d.seconds=g(e/n),e%=n,this.$d.milliseconds=e},y.toISOString=function(){var e=v(this.$d.years,"Y"),t=v(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=v(n,"D"),i=v(this.$d.hours,"H"),o=v(this.$d.minutes,"M"),a=this.$d.seconds||0;this.$d.milliseconds&&(a+=this.$d.milliseconds/1e3);var u=v(a,"S"),s=e.negative||t.negative||r.negative||i.negative||o.negative||u.negative,l=i.format||o.format||u.format?"T":"",c=(s?"-":"")+"P"+e.format+t.format+r.format+l+i.format+o.format+u.format;return"P"===c||"-P"===c?"P0D":c},y.toJSON=function(){return this.toISOString()},y.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return n.replace(a,(function(e,t){return t||String(r[e])}))},y.as=function(e){return this.$ms/c[p(e)]},y.get=function(e){var t=this.$ms,n=p(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?g(t/c[n]):this.$d[n],0===t?0:t},y.add=function(e,t,n){var r;return r=t?e*c[p(t)]:f(e)?e.$ms:d(e,this).$ms,d(this.$ms+r*(n?-1:1),this)},y.subtract=function(e,t){return this.add(e,t,!0)},y.locale=function(e){var t=this.clone();return t.$l=e,t},y.clone=function(){return d(this.$ms,this)},y.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},y.milliseconds=function(){return this.get("milliseconds")},y.asMilliseconds=function(){return this.as("milliseconds")},y.seconds=function(){return this.get("seconds")},y.asSeconds=function(){return this.as("seconds")},y.minutes=function(){return this.get("minutes")},y.asMinutes=function(){return this.as("minutes")},y.hours=function(){return this.get("hours")},y.asHours=function(){return this.as("hours")},y.days=function(){return this.get("days")},y.asDays=function(){return this.as("days")},y.weeks=function(){return this.get("weeks")},y.asWeeks=function(){return this.as("weeks")},y.months=function(){return this.get("months")},y.asMonths=function(){return this.as("months")},y.years=function(){return this.get("years")},y.asYears=function(){return this.as("years")},h}();return function(n,r,i){e=i,t=i().$utils(),i.duration=function(e,t){var n=i.locale();return d(e,{$l:n},t)},i.isDuration=f;var o=r.prototype.add,a=r.prototype.subtract;r.prototype.add=function(e,t){return f(e)&&(e=e.asMilliseconds()),o.bind(this)(e,t)},r.prototype.subtract=function(e,t){return f(e)&&(e=e.asMilliseconds()),a.bind(this)(e,t)}}}()},6358:function(e){var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,u=n(t((r-e)/(i||1)),0),s=Array(u);u--;)s[o?u:++a]=e,e+=i;return s}},76477:function(e,t,n){var r=n(59220);e.exports=function(e){return"function"==typeof e?e:r}},98924:function(e,t,n){var r=n(6358),i=n(93073),o=n(56428);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=undefined),t=o(t),n===undefined?(n=t,t=0):n=o(n),a=a===undefined?t<n?1:-1:o(a),r(t,n,a,e)}}},9084:function(e,t,n){var r=n(6314);e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=r(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=undefined),n}}},60861:function(e,t,n){var r=n(61821),i=n(76477),o=n(23914);e.exports=function(e,t){return null==e?e:r(e,i(t),o)}},76277:function(e,t,n){var r=n(9084);e.exports=function(e){return r(2,e)}},57969:function(e,t,n){var r=n(29573),i=n(28864),o=n(66635),a=n(70802);e.exports=function(e,t){if(null==e)return{};var n=r(a(e),(function(e){return[e]}));return t=i(t),o(e,n,(function(e,n){return t(e,n[0])}))}},79275:function(e,t,n){var r=n(98924)();e.exports=r},85625:function(e,t,n){var r=n(17241),i=0;e.exports=function(e){var t=++i;return r(e)+t}},66785:function(){},21396:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PLATER_ID=t.PAUSE_TYPES=t.GET_FULLSCREEN_API=t.FULLSCREEN_EVENTS=t.EXIT_FULLSCREEN_API=t.BUFFER_CONTROL_TYPES=void 0;t.FULLSCREEN_EVENTS=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"];t.GET_FULLSCREEN_API=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"];t.EXIT_FULLSCREEN_API=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"];t.PLATER_ID="data-xgplayerid";t.PAUSE_TYPES={BUFFER_CONTROLS:"buffer_control"};t.BUFFER_CONTROL_TYPES={PLAYING:"playing",WAITING:"waiting"}},15331:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ErrorTypes=t.ERROR_TYPE_MAP=void 0;var i=a(n(15601)),o=a(n(84049));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}t.ERROR_TYPE_MAP={1:"network",2:"network",3:"decoder",4:"format"};t.ErrorTypes={network:{code:1},mse:{code:2},parse:{code:3},format:{code:4},decoder:{code:5},runtime:{code:6},timeout:{code:7},other:{code:8}};var l=s((function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null,src:null};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t&&t.i18n?t.i18n.ERROR_TYPES:null;if(t.video){var a=n.mediaError?n.mediaError:t.video.error||{},u=t.duration,s=t.currentTime,l=t.ended,c=t.src,f=t.currentSrc,d=t.video,p=d.readyState,h=d.networkState,g={playerVersion:i.default,domain:document.domain,currentTime:s,duration:u,ended:l,readyState:p,networkState:h,src:n.src||c||f,errorType:n.errorType,errorCode:n.errorCode||a.code,message:n.errorMessage||a.message,mediaError:a,originError:n.originError?n.originError.stack:"",host:o.default.getHostFromUrl(c||f)};return n.ext&&Object.keys(n.ext).map((function(e){g[e]=n.ext[e]})),g}if(arguments.length>1){for(var y={playerVersion:i.default,domain:document.domain},v=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],m=0;m<arguments.length;m++)y[v[m]]=arguments[m];return y.ex=r?(r[arguments[0]]||{}).msg:"",y}}));t.default=l},35653:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XGLOG=t.WAITING=t.VOLUME_CHANGE=t.VIDEO_RESIZE=t.VIDEO_EVENTS=t.USER_ACTION=t.URL_NULL=t.URL_CHANGE=t.TIME_UPDATE=t.SWITCH_SUBTITLE=t.SUSPEND=t.STATS_EVENTS=t.STALLED=t.SOURCE_SUCCESS=t.SOURCE_ERROR=t.SHORTCUT=t.SEI_PARSED=t.SEEKING=t.SEEKED=t.SCREEN_SHOT=t.ROTATE=t.RETRY=t.RESET=t.REPLAY=t.READY=t.RATE_CHANGE=t.PROGRESS=t.PLAYNEXT=t.PLAYING=t.PLAYER_FOCUS=t.PLAYER_BLUR=t.PLAY=t.PIP_CHANGE=t.PAUSE=t.MINI_STATE_CHANGE=t.LOAD_START=t.LOADED_METADATA=t.LOADED_DATA=t.FULLSCREEN_CHANGE=t.FPS_STUCK=t.ERROR=t.ENDED=t.EMPTIED=t.DURATION_CHANGE=t.DOWNLOAD_SPEED_CHANGE=t.DESTROY=t.DEFINITION_CHANGE=t.CSS_FULLSCREEN_CHANGE=t.COMPLETE=t.CANPLAY_THROUGH=t.CANPLAY=t.BUFFER_CONTROLS=t.BUFFER_CHANGE=t.BEFORE_DEFINITION_CHANGE=t.AUTOPLAY_STARTED=t.AUTOPLAY_PREVENTED=t.AFTER_DEFINITION_CHANGE=t.ABORT=void 0;t.PLAY="play";t.PLAYING="playing";t.ENDED="ended";t.PAUSE="pause";t.ERROR="error";t.SEEKING="seeking";t.SEEKED="seeked";t.TIME_UPDATE="timeupdate";t.WAITING="waiting";t.CANPLAY="canplay";t.CANPLAY_THROUGH="canplaythrough";t.DURATION_CHANGE="durationchange";t.VOLUME_CHANGE="volumechange";t.LOADED_DATA="loadeddata";t.LOADED_METADATA="loadedmetadata";t.RATE_CHANGE="ratechange";t.PROGRESS="progress";t.LOAD_START="loadstart";t.EMPTIED="emptied";t.STALLED="stalled";t.SUSPEND="suspend";t.ABORT="abort";t.BUFFER_CHANGE="bufferedChange";t.PLAYER_FOCUS="focus";t.PLAYER_BLUR="blur";t.READY="ready";t.URL_NULL="urlNull";t.AUTOPLAY_STARTED="autoplay_started";t.AUTOPLAY_PREVENTED="autoplay_was_prevented";t.COMPLETE="complete";t.REPLAY="replay";t.DESTROY="destroy";t.URL_CHANGE="urlchange";t.DOWNLOAD_SPEED_CHANGE="download_speed_change";t.BUFFER_CONTROLS="buffer_control";t.FULLSCREEN_CHANGE="fullscreen_change";t.CSS_FULLSCREEN_CHANGE="cssFullscreen_change";t.MINI_STATE_CHANGE="mini_state_change";t.DEFINITION_CHANGE="definition_change";t.BEFORE_DEFINITION_CHANGE="before_definition_change";t.AFTER_DEFINITION_CHANGE="after_definition_change";t.SEI_PARSED="SEI_PARSED";t.RETRY="retry";t.VIDEO_RESIZE="video_resize";t.PIP_CHANGE="pip_change";t.ROTATE="rotate";t.SCREEN_SHOT="screenShot";t.PLAYNEXT="playnext";t.SHORTCUT="shortcut";t.XGLOG="xglog";t.USER_ACTION="user_action";t.RESET="reset";t.SOURCE_ERROR="source_error";t.SOURCE_SUCCESS="source_success";t.SWITCH_SUBTITLE="switch_subtitle";t.VIDEO_EVENTS=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"];t.STATS_EVENTS={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"};t.FPS_STUCK="fps_stuck"},52477:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Errors",{enumerable:!0,get:function(){return o.default}}),t.Events=void 0,Object.defineProperty(t,"Sniffer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"XG_DEBUG",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var r=f(n(84049)),i=f(n(25585)),o=f(n(15331)),a=c(n(35653));t.Events=a;var u=f(n(31952)),s=c(n(59619));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function m(e,t){u.default.logError("[".concat(e,"] event or callback cant be undefined or null when call ").concat(t))}var b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.default.checkIsFunction(this.beforeCreate)&&this.beforeCreate(t),(0,s.default)(this),this.__args=t,this.__events={},this.__onceEvents={},this.config=t.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(t)}var t,n,i;return t=e,n=[{key:"beforeCreate",value:function(e){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(e){this.player=e.player,this.playerConfig=e.player&&e.player.config,this.pluginName=e.pluginName?e.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=e.player&&e.player.logger}},{key:"updateLang",value:function(e){e||(e=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var e=r.default.checkTouchSupport()?"touch":"mouse";return!this.playerConfig||"touch"!==this.playerConfig.domEventType&&"mouse"!==this.playerConfig.domEventType||(e=this.playerConfig.domEventType),e}},{key:"on",value:function(e,t){var n=this;e&&t&&this.player?"string"==typeof e?(this.__events[e]=t,this.player.on(e,t)):Array.isArray(e)&&e.forEach((function(e){n.__events[e]=t,n.player.on(e,t)})):m(this.pluginName,"plugin.on(event, callback)")}},{key:"once",value:function(e,t){var n=this;e&&t&&this.player?"string"==typeof e?(this.__onceEvents[e]=t,this.player.once(e,t)):Array.isArray(e)&&e.forEach((function(r){n.__onceEvents[r]=t,n.player.once(e,t)})):m(this.pluginName,"plugin.once(event, callback)")}},{key:"off",value:function(e,t){var n=this;e&&t&&this.player?"string"==typeof e?(delete this.__events[e],this.player.off(e,t)):Array.isArray(e)&&e.forEach((function(r){delete n.__events[e],n.player.off(r,t)})):m(this.pluginName,"plugin.off(event, callback)")}},{key:"offAll",value:function(){var e=this;["__events","__onceEvents"].forEach((function(t){Object.keys(e[t]).forEach((function(n){e[t][n]&&e.off(n,e[t][n]),n&&delete e[t][n]}))})),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(e){var t;if(this.player){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.player).emit.apply(t,[e].concat(r))}}},{key:"emitUserAction",value:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(this.player){var r=h(h({},n),{},{pluginName:this.pluginName});this.player.emitUserAction(e,t,r)}}},{key:"hook",value:function(e,t){return arguments.length>2&&undefined,s.hook.call.apply(s.hook,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return s.useHooks.call.apply(s.useHooks,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return s.removeHooks.call.apply(s.removeHooks,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";if(this.player)return n&&(t.pluginName=n),this.player.registerPlugin({plugin:e,options:t})}},{key:"getPlugin",value:function(e){return this.player?this.player.getPlugin(e):null}},{key:"__destroy",value:function(){var e=this,t=this.player,n=this.pluginName;this.offAll(),r.default.clearAllTimers(this),r.default.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map((function(t){e[t]=null})),t.unRegisterPlugin(n),(0,s.delHooksDescriptor)(this)}}],i=[{key:"defineGetterOrSetter",value:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.defineProperty(e,n,t[n])}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}],n&&y(t.prototype,n),i&&y(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=b},59619:function(e,t){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=t.call.apply(t,[e].concat(i));n&&"function"==typeof n&&(a&&a.then?a.then((function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];n.call.apply(n,[e].concat(r))})):n.call.apply(n,[e].concat(i)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];e.__hooks={},t&&t.map((function(t){e.__hooks[t]=null})),Object.defineProperty(e,"hooks",{get:function(){return e.__hooks&&Object.keys(e.__hooks).map((function(t){if(e.__hooks[t])return t}))}})},t.delHooksDescriptor=function(e){e.__hooks=null},t.hook=function(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{pre:null,next:null};this.__hooks||(this.__hooks={});return!this.__hooks[e]&&(this.__hooks[e]=null),function(){var o=arguments,a=this;if(i.pre)try{var u;(u=i.pre).call.apply(u,[this].concat(Array.prototype.slice.call(arguments)))}catch(c){throw c.message="[pluginName: ".concat(this.pluginName,":").concat(e,":pre error] >> ").concat(c.message),c}if(this.__hooks&&this.__hooks[e])try{var s,l=(s=this.__hooks[e]).call.apply(s,[this,this].concat(Array.prototype.slice.call(arguments)));l?l.then?l.then((function(e){var u;!1!==e&&r.apply(void 0,[a,t,i.next].concat(function(e){if(Array.isArray(e))return n(e)}(u=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))})).catch((function(e){throw e})):r.apply(void 0,[this,t,i.next].concat(Array.prototype.slice.call(arguments))):l===undefined&&r.apply(void 0,[this,t,i.next].concat(Array.prototype.slice.call(arguments)))}catch(c){throw c.message="[pluginName: ".concat(this.pluginName,":").concat(e,"] >> ").concat(c.message),c}else r.apply(void 0,[this,t,i.next].concat(Array.prototype.slice.call(arguments)))}.bind(this)},t.removeHooks=function(e,t){var n=this.__hooks;if(!n)return;delete n[e]},t.removePluginHooks=function(e){if(!this.plugins||!this.plugins[e.toLowerCase()])return;var t=this.plugins[e.toLowerCase()];if(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.removeHooks&&t.removeHooks.apply(t,r)}},t.runHooks=function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];if(!e.__hooks||!e.__hooks[t])return n.call.apply(n,[e,e].concat(i));var a,u=(a=e.__hooks[t]).call.apply(a,[e,e].concat(i));if(u&&u.then)u.then((function(t){return!1===t?null:n.call.apply(n,[e,e].concat(i))})).catch((function(e){}));else if(!1!==u)return n.call.apply(n,[e,e].concat(i))},t.useHooks=function(e,t){var n=this.__hooks;if(!n)return;if(!n.hasOwnProperty(e))return!1;return n&&(n[e]=t),!0},t.usePluginHooks=function(e){if(!this.plugins||!this.plugins[e.toLowerCase()])return;for(var t=this.plugins[e.toLowerCase()],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.useHooks&&t.useHooks.apply(t,r)}},48051:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.zW=void 0,Object.defineProperty(t,"kd",{enumerable:!0,get:function(){return l.POSITIONS}}),Object.defineProperty(t,"Zr",{enumerable:!0,get:function(){return i.default}});var i=g(n(84049)),o=g(n(25585)),a=g(n(15331)),u=h(n(35653));t.zW=u;var s=g(n(52477)),l=h(n(63104)),c=g(n(96038)),f=g(n(59619)),d=g(n(23156));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function g(e){return e&&e.__esModule?e:{default:e}}},63104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ROOT_TYPES=t.POSITIONS=t.PLUGIN_STATE_CLASS=void 0;var r,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(52477)),o=(r=n(97720))&&r.__esModule?r:{default:r};function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===d(o)?o:String(o)),r)}var i,o}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},s.apply(this,arguments)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var p={CONTROLS:"controls",ROOT:"root"};t.ROOT_TYPES=p;var h={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"};t.POSITIONS=h;var g={ICON_DISABLE:"xg-icon-disable",ICON_HIDE:"xg-icon-hide"};function y(e){return!!e&&(e.indexOf&&/^(?:http|data:|\/)/.test(e))}function v(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"",r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"",a=null;if(e instanceof window.Element)return i.Util.addClass(e,n),Object.keys(r).map((function(t){e.setAttribute(t,r[t])})),e;if(y(e)||y(e.url))return r.src=y(e)?e:e.url||"",a=i.Util.createDom(e.tag||"img","",r,"xg-img ".concat(n));if("function"==typeof e)try{return(a=e())instanceof window.Element?(i.Util.addClass(a,n),Object.keys(r).map((function(e){a.setAttribute(e,r[e])})),a):(i.XG_DEBUG.logWarn("warn>>icons.".concat(t," in config of plugin named [").concat(o,"] is a function mast return an Element Object")),null)}catch(u){return i.XG_DEBUG.logError("Plugin named [".concat(o,"]:createIcon"),u),null}return"string"==typeof e?i.Util.createDomFromHtml(e,r,n):(i.XG_DEBUG.logWarn("warn>>icons.".concat(t," in config of plugin named [").concat(o,"] is invalid")),null)}function m(e,t){var n=t.config.icons||t.playerConfig.icons;Object.keys(e).map((function(r){var i=e[r],o=i&&i.class?i.class:"",a=i&&i.attr?i.attr:{},u=null;n&&n[r]&&(o=function(e,t){return"object"===d(e)&&e.class&&"string"==typeof e.class?"".concat(t," ").concat(e.class):t}(n[r],o),a=function(e,t){return"object"===d(e)&&e.attr&&"object"===d(e.attr)&&Object.keys(e.attr).map((function(n){t[n]=e.attr[n]})),t}(n[r],a),u=v(n[r],r,o,a,t.pluginName)),!u&&i&&(u=v(i.icon?i.icon:i,a,o,{},t.pluginName)),t.icons[r]=u}))}t.PLUGIN_STATE_CLASS=g;var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(y,e);var t,n,r,a=c(y);function y(){var e,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(e=a.call(this,t)).__delegates=[],e}return t=y,n=[{key:"__init",value:function(e){if(s(f(y.prototype),"__init",this).call(this,e),e.root){var t=e.root,n=null;this.icons={},this.root=null,this.parent=null,m(this.registerIcons()||{},this),this.langText={};var r,o,a=this.registerLanguageTexts()||{};r=a,o=this,Object.keys(r).map((function(e){Object.defineProperty(o.langText,e,{get:function(){var t=o.lang,n=o.i18n;return n[e]?n[e]:r[e]&&r[e][t]||""}})}));var u="";try{u=this.render()}catch(d){throw i.XG_DEBUG.logError("Plugin:".concat(this.pluginName,":render"),d),new Error("Plugin:".concat(this.pluginName,":render:").concat(d.message))}if(u)(n=y.insert(u,t,e.index)).setAttribute("data-index",e.index);else{if(!e.tag)return;(n=i.Util.createDom(e.tag,"",e.attr,e.name)).setAttribute("data-index",e.index),t.appendChild(n)}this.root=n,this.parent=t;var l=this.config.attr||{},c=this.config.style||{};this.setAttr(l),this.setStyle(c),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var e=this;if(this.root){this._children=[];var t=this.children();t&&"object"===d(t)&&Object.keys(t).length>0&&Object.keys(t).map((function(n){var r,o,a=n,u=t[a],s={root:e.root};"function"==typeof u?(r=e.config[a]||{},o=u):"object"===d(u)&&"function"==typeof u.plugin&&(r=u.options?i.Util.deepCopy(e.config[a]||{},u.options):e.config[a]||{},o=u.plugin),s.config=r,r.index!==undefined&&(s.index=r.index),r.root&&(s.root=r.root),e.registerPlugin(o,s,a)}))}}},{key:"updateLang",value:function(e){e||(e=this.lang);var t=this.root,n=this.i18n,r=this.langText;t&&function e(t,n){for(var r=0;r<t.children.length;r++)t.children[r].children.length>0?e(t.children[r],n):n(t.children[r])}(t,(function(t){var i=t.getAttribute&&t.getAttribute("lang-key");if(i){var o=n[i.toUpperCase()]||r[i];o&&(t.innerHTML="function"==typeof o?o(e):o)}}))}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",n=this.i18n||{},r=this.langText;e.setAttribute&&e.setAttribute("lang-key",t);var i=n[t]||r[t]||"";i&&(e.innerHTML=i)}},{key:"plugins",value:function(){return this._children}},{key:"disable",value:function(){this.config.disable=!0,i.Util.addClass(this.find(".xgplayer-icon"),g.ICON_DISABLE)}},{key:"enable",value:function(){this.config.disable=!1,i.Util.removeClass(this.find(".xgplayer-icon"),g.ICON_DISABLE)}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";t.root=t.root||this.root;var r=s(f(y.prototype),"registerPlugin",this).call(this,e,t,n);return this._children.push(r),r}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(e){if(this.root)return this.root.querySelector(e)}},{key:"bind",value:function(e,t,n){var r=this;if(arguments.length<3&&"function"==typeof t)Array.isArray(e)?e.forEach((function(e){r.bindEL(e,t)})):this.bindEL(e,t);else{var i=y.delegate.call(this,this.root,e,t,n);this.__delegates=this.__delegates.concat(i)}}},{key:"unbind",value:function(e,t){var n=this;if(arguments.length<3&&"function"==typeof t)Array.isArray(e)?e.forEach((function(e){n.unbindEL(e,t)})):this.unbindEL(e,t);else for(var r="".concat(e,"_").concat(t),i=0;i<this.__delegates.length;i++)if(this.__delegates[i].key===r){this.__delegates[i].destroy(),this.__delegates.splice(i,1);break}}},{key:"setStyle",value:function(e,t){var n=this;if(this.root)return"String"===i.Util.typeOf(e)?this.root.style[e]=t:void("Object"===i.Util.typeOf(e)&&Object.keys(e).map((function(t){n.root.style[t]=e[t]})))}},{key:"setAttr",value:function(e,t){var n=this;if(this.root)return"String"===i.Util.typeOf(e)?this.root.setAttribute(e,t):void("Object"===i.Util.typeOf(e)&&Object.keys(e).map((function(t){n.root.setAttribute(t,e[t])})))}},{key:"setHtml",value:function(e,t){this.root&&(this.root.innerHTML=e,"function"==typeof t&&t())}},{key:"bindEL",value:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined&&arguments[2];this.root&&"on".concat(e)in this.root&&"function"==typeof t&&this.root.addEventListener(e,t,n)}},{key:"unbindEL",value:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined&&arguments[2];this.root&&"on".concat(e)in this.root&&"function"==typeof t&&this.root.removeEventListener(e,t,n)}},{key:"show",value:function(e){if(this.root)return this.root.style.display=e!==undefined?e:"block","none"===window.getComputedStyle(this.root,null).getPropertyValue("display")?this.root.style.display="block":void 0}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(e,t){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!(t&&t instanceof window.Element))return null;try{return"string"==typeof e?this.find(e).appendChild(t):e.appendChild(t)}catch(n){return i.XG_DEBUG.logError("Plugin:appendChild",n),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var e=this,t=this.player;this.__delegates.map((function(e){e.destroy()})),this.__delegates=[],this._children instanceof Array&&(this._children.map((function(e){t.unRegisterPlugin(e.pluginName)})),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),s(f(y.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map((function(t){e[t]=null}))}}],r=[{key:"insert",value:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,r=t.children.length,i=Number(n),o=e instanceof window.Node;if(r){for(var a=0,u=null,s="";a<r;a++){u=t.children[a];var l=Number(u.getAttribute("data-index"));if(l>=i){s="beforebegin";break}l<i&&(s="afterend")}return o?"afterend"===s?t.appendChild(e):t.insertBefore(e,u):u.insertAdjacentHTML(s,e),"afterend"===s?t.children[t.children.length-1]:t.children[a]}return o?t.appendChild(e):t.insertAdjacentHTML("beforeend",e),t.children[t.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(e,t,n,r){var i=arguments.length>4&&arguments[4]!==undefined&&arguments[4],a=[];if(e instanceof window.Node&&"function"==typeof r)if(Array.isArray(n))n.forEach((function(n){var u=(0,o.default)(e,t,n,r,i);u.key="".concat(t,"_").concat(n),a.push(u)}));else{var u=(0,o.default)(e,t,n,r,i);u.key="".concat(t,"_").concat(n),a.push(u)}return a}},{key:"ROOT_TYPES",get:function(){return p}},{key:"POSITIONS",get:function(){return h}}],n&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),y}(i.default);t.default=b},96038:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43358),o=(r=n(84049))&&r.__esModule?r:{default:r};var a={pluginGroup:{},init:function(e){var t=e._pluginInfoId;t||(t=(new Date).getTime(),e._pluginInfoId=t),!e.config.closeResizeObserver&&(0,i.addObserver)(e.root,(function(){e.getVideoSize()})),0===Object.keys(this.pluginGroup).length&&(e.isUserActive=!0),this.pluginGroup[t]={_player:e,_originalOptions:e.config||{},_plugins:{}}},checkPlayerRoot:function(e){if(this.pluginGroup){for(var t=Object.keys(this.pluginGroup),n=0;n<t.length;n++){var r=this.pluginGroup[t[n]]._player;if(r.root===e)return r}return null}return null},formatPluginInfo:function(e,t){var n=null,r=null;return e.plugin&&"function"==typeof e.plugin?(n=e.plugin,r=e.options):(n=e,r={}),t&&(r.config=t||{}),{PLUFGIN:n,options:r}},checkPluginIfExits:function(e,t){for(var n=0;n<t.length;n++)if(e.toLowerCase()===t[n].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(e,t){for(var n=Object.keys(t),r=null,i=0;i<n.length;i++)if(e.toLowerCase()===n[i].toLowerCase()){r=t[n[i]];break}return"Object"===o.default.typeOf(r)?{root:r.root,position:r.position}:{}},lazyRegister:function(e,t){var n=this,r=t.timeout||1500;return Promise.race([t.loader().then((function(t){var r;r=t&&t.__esModule?t.default:t,n.register(e,r,t.options)})),new Promise((function(e,t){setTimeout((function(){t(new Error("timeout"))}),r)}))])},register:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(e&&t&&"function"==typeof t&&t.prototype!==undefined){var r=e._pluginInfoId;if(r&&this.pluginGroup[r]){this.pluginGroup[r]._plugins||(this.pluginGroup[r]._plugins={});var i=this.pluginGroup[r]._plugins,a=this.pluginGroup[r]._originalOptions;n.player=this.pluginGroup[r]._player;var u=n.pluginName||t.pluginName;if(!u)throw new Error("The property pluginName is necessary");if(!t.isSupported||t.isSupported()){n.config||(n.config={});for(var s=Object.keys(a),l=0;l<s.length;l++)if(u.toLowerCase()===s[l].toLowerCase()){var c=a[s[l]];"Object"===o.default.typeOf(c)&&(n.config=Object.assign({},n.config,a[s[l]]));break}t.defaultConfig&&Object.keys(t.defaultConfig).forEach((function(e){"undefined"==typeof n.config[e]&&(n.config[e]=t.defaultConfig[e])})),n.root?"string"==typeof n.root&&(n.root=e[n.root]):n.root=e.root,n.index=n.config.index||0;try{i[u.toLowerCase()]&&this.unRegister(r,u.toLowerCase());var f=new t(n);return i[u.toLowerCase()]=f,i[u.toLowerCase()].func=t,f&&"function"==typeof f.afterCreate&&f.afterCreate(),f}catch(d){throw d}}}}},unRegister:function(e,t){e._pluginInfoId&&(e=e._pluginInfoId),t=t.toLowerCase();try{var n=this.pluginGroup[e]._plugins[t];n&&(n.pluginName&&n.__destroy(),delete this.pluginGroup[e]._plugins[t])}catch(r){}},deletePlugin:function(e,t){var n=e._pluginInfoId;n&&this.pluginGroup[n]&&this.pluginGroup[n]._plugins&&delete this.pluginGroup[n]._plugins[t]},getPlugins:function(e){var t=e._pluginInfoId;return t&&this.pluginGroup[t]?this.pluginGroup[t]._plugins:{}},findPlugin:function(e,t){var n=e._pluginInfoId;if(!n||!this.pluginGroup[n])return null;var r=t.toLowerCase();return this.pluginGroup[n]._plugins[r]},beforeInit:function(e){var t=this;function n(e){return e&&e.then?e:new Promise((function(e){e()}))}return new Promise((function(r){if(t.pluginGroup)return(e._loadingPlugins&&e._loadingPlugins.length?Promise.all(e._loadingPlugins):Promise.resolve()).then((function(){var i=e._pluginInfoId;if(t.pluginGroup[i]){var o=t.pluginGroup[i]._plugins,a=[];Object.keys(o).forEach((function(e){if(o[e]&&o[e].beforePlayerInit)try{var t=o[e].beforePlayerInit();a.push(n(t))}catch(r){throw a.push(n(null)),r}})),Promise.all([].concat(a)).then((function(){r()})).catch((function(e){r()}))}else r()}))}))},afterInit:function(e){var t=e._pluginInfoId;if(t&&this.pluginGroup[t]){var n=this.pluginGroup[t]._plugins;Object.keys(n).forEach((function(e){n[e]&&n[e].afterPlayerInit&&n[e].afterPlayerInit()}))}},setLang:function(e,t){var n=t._pluginInfoId;if(n&&this.pluginGroup[n]){var r=this.pluginGroup[n]._plugins;Object.keys(r).forEach((function(t){if(r[t].updateLang)r[t].updateLang(e);else try{r[t].lang=e}catch(n){}}))}},reRender:function(e){var t=this,n=e._pluginInfoId;if(n&&this.pluginGroup[n]){var r=[],i=this.pluginGroup[n]._plugins;Object.keys(i).forEach((function(e){"controls"!==e&&i[e]&&(r.push({plugin:i[e].func,options:i[e].__args}),t.unRegister(n,e))})),r.forEach((function(n){t.register(e,n.plugin,n.options)}))}},onPluginsReady:function(e){var t=e._pluginInfoId;if(t&&this.pluginGroup[t]){var n=this.pluginGroup[t]._plugins||{};Object.keys(n).forEach((function(e){n[e].onPluginsReady&&"function"==typeof n[e].onPluginsReady&&n[e].onPluginsReady()}))}},setCurrentUserActive:function(e,t){if(this.pluginGroup[e]){if(!t)return this.pluginGroup[e]._player.isUserActive=t,e;for(var n=Object.keys(this.pluginGroup),r=0;r<n.length;r++){var i=this.pluginGroup[n[r]];i&&i._player&&(this.pluginGroup[n[r]]._player.isUserActive=!1)}return this.pluginGroup[e]._player.isUserActive=t,e}},getCurrentUseActiveId:function(){if(this.pluginGroup){for(var e=Object.keys(this.pluginGroup),t=0;t<e.length;t++){var n=this.pluginGroup[e[t]];if(n&&n._player&&n._player.isUserActive)return e[t]}return null}},destroy:function(e){var t=e._pluginInfoId;if(this.pluginGroup[t]){(0,i.unObserver)(e.root);for(var n=this.pluginGroup[t]._plugins,r=0,o=Object.keys(n);r<o.length;r++){var a=o[r];this.unRegister(t,a)}var u=e.isUseActive;if(delete this.pluginGroup[t],delete e._pluginInfoId,u){var s=Object.keys(this.pluginGroup);s.length>0&&this.setCurrentUserActive(s[s.length-1],!0)}}}},u=a;t.default=u},43358:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addObserver=function(e,t){l||(l=new s);return l.addObserver(e,t),l},t.destroyObserver=function(e,t){l.destroyObserver(e,t)},t.unObserver=function(e,t){l.unObserver(e,t)};var r=n(84049),i=n(21396);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var s=function(){function e(){var t,n,i,o=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,i=function(e){var t=(new Date).getTime();o.timeStamp=t;for(var n=0;n<e.length;n++)o.__runHandler(e[n].target)},(n=u(n="__trigger"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.__handlers=[],this.timeStamp=0,this.observer=null,window.ResizeObserver)try{this.observer=new window.ResizeObserver((0,r.throttle)(this.__trigger,100,{trailing:!0})),this.timeStamp=(new Date).getTime()}catch(a){}}var t,n,o;return t=e,(n=[{key:"addObserver",value:function(e,t){if(this.observer){this.observer&&this.observer.observe(e);for(var n=e.getAttribute(i.PLATER_ID),r=this.__handlers,o=-1,a=0;a<r.length;a++)r[a]&&e===r[a].target&&(o=a);o>-1?this.__handlers[o].handler=t:this.__handlers.push({target:e,handler:t,playerId:n})}}},{key:"unObserver",value:function(e){var t=-1;this.__handlers.map((function(n,r){e===n.target&&(t=r)}));try{this.observer&&this.observer.unobserve(e)}catch(n){}this.observer&&this.observer.unobserve(e),t>-1&&this.__handlers.splice(t,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(e){for(var t=this.__handlers,n=0;n<t.length;n++)if(t[n]&&e===t[n].target){try{t[n].handler(e)}catch(r){}return!0}return!1}}])&&a(t.prototype,n),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),l=null},23156:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",INNER_FULLSCREEN:"xgplayer-inner-fullscreen",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",AUTOHIDE:"xgplayer_autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"}},31952:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindDebug=function(e){e.logInfo=o.logInfo.bind(e),e.logWarn=o.logWarn.bind(e),e.logError=o.logError.bind(e)},t.default=void 0;var n="undefined"!=typeof window&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,r={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},i="%c[xgplayer]",o={config:{debug:n?3:1},logInfo:function(e){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];this.config.debug>=3&&(t=console).log.apply(t,[i,r.info,e].concat(o))},logWarn:function(e){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];this.config.debug>=1&&(t=console).warn.apply(t,[i,r.warn,e].concat(o))},logError:function(e){var t;if(!(this.config.debug<1)){for(var n=this.config.debug>=2?"trace":"error",o=arguments.length,a=new Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];(t=console)[n].apply(t,[i,r.error,e].concat(a))}}};t.default=o},25585:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=/(Android)\s([\d.]+)/,r=/(Version)\/([\d.]+)/,i=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],o={get device(){return o.os.isPc?"pc":"mobile"},get browser(){if("undefined"==typeof navigator)return"";var e=navigator.userAgent.toLowerCase(),t={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(t).filter((function(n){return t[n].test(e)})))[0]},get os(){if("undefined"==typeof navigator)return{};var e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),n=/(?:SymbianOS)/.test(e)||t,r=/(?:Android)/.test(e),i=/(?:Firefox)/.test(e),o=/(?:iPad|PlayBook)/.test(e)||r&&!/(?:Mobile)/.test(e)||i&&/(?:Tablet)/.test(e),a=/(?:iPhone)/.test(e)&&!o,u=!(a||r||n||o),s=/(?:iPad|PlayBook)/.test(e);return{isTablet:o,isPhone:a,isIpad:s,isIos:a||s,isAndroid:r,isPc:u,isSymbian:n,isWindowsPhone:t,isFireFox:i}},get osVersion(){if("undefined"==typeof navigator)return 0;var e=navigator.userAgent,t="",i=(t=/(?:iPhone)|(?:iPad|PlayBook)/.test(e)?r:n)?t.exec(e):[];if(i&&i.length>=3){var o=i[2].split(".");return o.length>0?parseInt(o[0]):0}return 0},get isWeixin(){if("undefined"==typeof navigator)return!1;return!!/(micromessenger)\/([\d.]+)/.exec(navigator.userAgent.toLocaleLowerCase())},isSupportMP4:function(){var e={isSupport:!1,mime:""};if("undefined"==typeof document)return e;if(this.supportResult)return this.supportResult;var t=document.createElement("video");return"function"==typeof t.canPlayType&&i.map((function(n){"probably"===t.canPlayType('video/mp4; codecs="'.concat(n,'"'))&&(e.isSupport=!0,e.mime+="||".concat(n))})),this.supportResult=e,t=null,e},isHevcSupported:function(){return!("undefined"==typeof MediaSource||!MediaSource.isTypeSupported)&&(MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"'))},probeConfigSupported:function(e){var t={supported:!1,smooth:!1,powerEfficient:!1};if(!e||"undefined"==typeof navigator)return Promise.resolve(t);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(e);var n=e.video||{},r=e.audio||{};try{var i=MediaSource.isTypeSupported(n.contentType),o=MediaSource.isTypeSupported(r.contentType);return Promise.resolve({supported:i&&o,smooth:!1,powerEfficient:!1})}catch(a){return Promise.resolve(t)}}},a=o;t.default=a},84049:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsCurrentVideo=function(e,t,n){if(!e)return;var r=e.getAttribute(n);if(r&&r===t&&("VIDEO"===e.tagName||"AUDIO"===e.tagName))return!0;return!1},t.debounce=f,t.default=void 0,t.getLang=function(){var e=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();"zh-cn"===e&&(e="zh");return e},t.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");c(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i);return f(e,t,{leading:r,trailing:i,maxWait:t})};var r=o(n(31952)),i=o(n(15221));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var l={};function c(e){var t=s(e);return null!==e&&("object"===t||"function"===t)}function f(e,t,n){var r,i,o,a,u,s,l=0,f=!1,d=!1,p=!0,h=!t&&0!==t&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,o=i;return r=i=undefined,l=t,a=e.apply(o,n)}function y(e,t){return h?(window.cancelAnimationFrame(u),window.requestAnimationFrame(e)):setTimeout(e,t)}function v(e){var n=e-s;return s===undefined||n>=t||n<0||d&&e-l>=o}function m(){var e=Date.now();if(v(e))return b(e);u=y(m,function(e){var n=e-l,r=t-(e-s);return d?Math.min(r,o-n):r}(e))}function b(e){return u=undefined,p&&r?g(e):(r=i=undefined,a)}function _(){for(var e=Date.now(),n=v(e),o=arguments.length,c=new Array(o),p=0;p<o;p++)c[p]=arguments[p];if(r=c,i=this,s=e,n){if(u===undefined)return function(e){return l=e,u=y(m,t),f?g(e):a}(s);if(d)return u=y(m,t),g(s)}return u===undefined&&(u=y(m,t)),a}return t=+t||0,c(n)&&(f=!!n.leading,o=(d="maxWait"in n)?Math.max(+n.maxWait||0,t):o,p="trailing"in n?!!n.trailing:p),_.cancel=function(){u!==undefined&&function(e){if(h)return window.cancelAnimationFrame(e);clearTimeout(e)}(u),l=0,r=s=i=u=undefined},_.flush=function(){return u===undefined?a:b(Date.now())},_.pending=function(){return u!==undefined},_}t.default=l,l.createDom=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div",t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"",i=document.createElement(e);return i.className=r,i.innerHTML=t,Object.keys(n).forEach((function(t){var r=t,o=n[t];"video"===e||"audio"===e||"live-video"===e?o&&i.setAttribute(r,o):i.setAttribute(r,o)})),i},l.createDomFromHtml=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";try{var i=document.createElement("div");i.innerHTML=e;var o=i.children;return i=null,o.length>0?(o=o[0],n&&l.addClass(o,n),t&&Object.keys(t).forEach((function(e){o.setAttribute(e,t[e])})),o):null}catch(a){return r.default.logError("util.createDomFromHtml",a),null}},l.hasClass=function(e,t){if(!e||!t)return!1;try{return Array.prototype.some.call(e.classList,(function(e){return e===t}))}catch(r){var n=e.className&&"object"===s(e.className)?e.getAttribute("class"):e.className;return n&&!!n.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}},l.addClass=function(e,t){if(e&&t)try{t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach((function(t){t&&e.classList.add(t)}))}catch(n){l.hasClass(e,t)||(e.className&&"object"===s(e.className)?e.setAttribute("class",e.getAttribute("class")+" "+t):e.className+=" "+t)}},l.removeClass=function(e,t){if(e&&t)try{t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach((function(t){t&&e.classList.remove(t)}))}catch(n){l.hasClass(e,t)&&t.split(/\s+/g).forEach((function(t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className&&"object"===s(e.className)?e.setAttribute("class",e.getAttribute("class").replace(n," ")):e.className=e.className.replace(n," ")}))}},l.toggleClass=function(e,t){e&&t.split(/\s+/g).forEach((function(t){l.hasClass(e,t)?l.removeClass(e,t):l.addClass(e,t)}))},l.classNames=function(){for(var e=arguments,t=[],n=function(n){"String"===l.typeOf(e[n])?t.push(e[n]):"Object"===l.typeOf(e[n])&&Object.keys(e[n]).map((function(r){e[n][r]&&t.push(r)}))},r=0;r<arguments.length;r++)n(r);return t.join(" ")},l.findDom=function(){var e,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document,n=arguments.length>1?arguments[1]:undefined;try{e=t.querySelector(n)}catch(i){r.default.logError("util.findDom",i),0===n.indexOf("#")&&(e=t.getElementById(n.slice(1)))}return e},l.getCss=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,!1)[t]},l.padStart=function(e,t,n){for(var r=String(n),i=t>>0,o=Math.ceil(i/r.length),a=[],u=String(e);o--;)a.push(r);return a.join("").substring(0,i-u.length)+u},l.format=function(e){if(window.isNaN(e))return"";e=Math.round(e);var t=l.padStart(Math.floor(e/3600),2,0),n=l.padStart(Math.floor((e-3600*t)/60),2,0),r=l.padStart(Math.floor(e-3600*t-60*n),2,0);return("00"===t?[n,r]:[t,n,r]).join(":")},l.event=function(e){if(e.touches){var t=e.touches[0]||e.changedTouches[0];e.clientX=t.clientX||0,e.clientY=t.clientY||0,e.offsetX=t.pageX-t.target.offsetLeft,e.offsetY=t.pageY-t.target.offsetTop}e._target=e.target||e.srcElement},l.typeOf=function(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},l.deepCopy=function(e,t){if("Object"===l.typeOf(t)&&"Object"===l.typeOf(e))return Object.keys(t).forEach((function(n){"Object"!==l.typeOf(t[n])||t[n]instanceof Node?"Array"===l.typeOf(t[n])?e[n]="Array"===l.typeOf(e[n])?e[n].concat(t[n]):t[n]:e[n]=t[n]:e[n]===undefined||e[n]===undefined?e[n]=t[n]:l.deepCopy(e[n],t[n])})),e},l.deepMerge=function(e,t){return Object.keys(t).map((function(n){var r;"Array"===l.typeOf(t[n])&&"Array"===l.typeOf(e[n])?"Array"===l.typeOf(e[n])&&(r=e[n]).push.apply(r,a(t[n])):l.typeOf(e[n])!==l.typeOf(t[n])||null===e[n]||"Object"!==l.typeOf(e[n])||t[n]instanceof window.Node?null!==t[n]&&(e[n]=t[n]):l.deepMerge(e[n],t[n])})),e},l.getBgImage=function(e){var t=(e.currentStyle||window.getComputedStyle(e,null)).backgroundImage;if(!t||"none"===t)return"";var n=document.createElement("a");return n.href=t.replace(/url\("|"\)/g,""),n.href},l.copyDom=function(e){if(e&&1===e.nodeType){var t=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,(function(e){t.setAttribute(e.name,e.value)})),e.innerHTML&&(t.innerHTML=e.innerHTML),t}return""},l.setInterval=function(e,t,n,r){e._interval[t]||(e._interval[t]=window.setInterval(n.bind(e),r))},l.clearInterval=function(e,t){clearInterval(e._interval[t]),e._interval[t]=null},l.setTimeout=function(e,t,n){e._timers||(e._timers=[]);var r=setTimeout((function(){t(),l.clearTimeout(e,r)}),n);return e._timers.push(r),r},l.clearTimeout=function(e,t){var n=e._timers;if("Array"===l.typeOf(n)){for(var r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1),clearTimeout(t);break}}else clearTimeout(t)},l.clearAllTimers=function(e){var t=e._timers;"Array"===l.typeOf(t)&&(t.map((function(e){clearTimeout(e)})),e._timerIds=[])},l.createImgBtn=function(e,t,n,r){var i,o,a,u=l.createDom("xg-".concat(e),"",{},"xgplayer-".concat(e,"-img"));(u.style.backgroundImage='url("'.concat(t,'")'),n&&r)&&(["px","rem","em","pt","dp","vw","vh","vm","%"].every((function(e){return!(n.indexOf(e)>-1&&r.indexOf(e)>-1)||(i=parseFloat(n.slice(0,n.indexOf(e)).trim()),o=parseFloat(r.slice(0,r.indexOf(e)).trim()),a=e,!1)})),u.style.width="".concat(i).concat(a),u.style.height="".concat(o).concat(a),u.style.backgroundSize="".concat(i).concat(a," ").concat(o).concat(a),u.style.margin="start"===e?"-".concat(o/2).concat(a," auto auto -").concat(i/2).concat(a):"auto 5px auto 5px");return u},l.Hex2RGBA=function(e,t){var n=[];if(/^\#[0-9A-F]{3}$/i.test(e)){var r="#";e.replace(/[0-9A-F]/gi,(function(e){r+=e+e})),e=r}return/^#[0-9A-F]{6}$/i.test(e)?(e.replace(/[0-9A-F]{2}/gi,(function(e){n.push(parseInt(e,16))})),"rgba(".concat(n.join(","),", ").concat(t,")")):"rgba(255, 255, 255, 0.1)"},l.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},l.checkIsFunction=function(e){return e&&"function"==typeof e},l.checkIsObject=function(e){return null!==e&&"object"===s(e)},l.hide=function(e){e.style.display="none"},l.show=function(e,t){e.style.display=t||"block"},l.isUndefined=function(e){if(null==e)return!0},l.setStyleFromCsstext=function(e,t){t&&("String"===l.typeOf(t)?t.replace(/\s+/g,"").split(";").map((function(t){if(t){var n=t.split(":");n.length>1&&(e.style[n[0]]=n[1])}})):Object.keys(t).map((function(n){e.style[n]=t[n]})))},l.filterStyleFromText=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],n=e.style.cssText;if(!n)return{};var r=n.replace(/\s+/g,"").split(";"),i={},o={};return r.map((function(e){if(e){var n=e.split(":");n.length>1&&(!function(e,t){for(var n=0,r=t.length;n<r;n++)if(e.indexOf(t[n])>-1)return!0;return!1}(n[0],t)?o[n[0]]=n[1]:i[n[0]]=n[1])}})),e.setAttribute("style",""),Object.keys(o).map((function(t){e.style[t]=o[t]})),i},l.getStyleFromCsstext=function(e){var t=e.style.cssText;if(!t)return{};var n=t.replace(/\s+/g,"").split(";"),r={};return n.map((function(e){if(e){var t=e.split(":");t.length>1&&(r[t[0]]=t[1])}})),r},l.preloadImg=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){};if(e){var r=new window.Image;r.onload=function(e){r=null,t&&t(e)},r.onerror=function(e){r=null,n&&n(e)},r.src=e}},l.stopPropagation=function(e){e&&(e.stopPropagation(),e.cancelable&&e.preventDefault())},l.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},l.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},l.checkTouchSupport=function(){return"ontouchstart"in window},l.getBuffered2=function(e){for(var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:.5,n=[],r=0;r<e.length;r++)n.push({start:e.start(r)<.5?0:e.start(r),end:e.end(r)});n.sort((function(e,t){var n=e.start-t.start;return n||t.end-e.end}));var o=[];if(t)for(var a=0;a<n.length;a++){var u=o.length;if(u){var s=o[u-1].end;n[a].start-s<t?n[a].end>s&&(o[u-1].end=n[a].end):o.push(n[a])}else o.push(n[a])}else o=n;return new i.default(o)},l.getEventPos=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return e.touches&&e.touches.length>0&&(e=e.touches[0]),{x:e.x/t,y:e.y/t,clientX:e.clientX/t,clientY:e.clientY/t,offsetX:e.offsetX/t,offsetY:e.offsetY/t,pageX:e.pageX/t,pageY:e.pageY/t}},l.requestAnimationFrame=function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(t)return t(e)},l.getHostFromUrl=function(e){if("String"!==l.typeOf(e))return"";var t=e.split("/"),n="";return t.length>3&&t[2]&&(n=t[2]),n},l.cancelAnimationFrame=function(e){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;t&&t(e)},l.isMSE=function(e){return!!(e&&e instanceof HTMLMediaElement)&&(/^blob/.test(e.currentSrc)||/^blob/.test(e.src))},l.generateSessionId=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,t=(new Date).getTime();try{e=parseInt(e)}catch(n){e=0}return t+=e,window.performance&&"function"==typeof window.performance.now&&(t+=parseInt(window.performance.now())),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))},l.adjustTimeByDuration=function(e,t,n){return t&&e&&(e>t||n&&e<t)?t:e}},15221:function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===n(a)?a:String(a)),i)}var o,a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bufferedList=t}var t,n,i;return t=e,(n=[{key:"start",value:function(e){return this.bufferedList[e].start}},{key:"end",value:function(e){return this.bufferedList[e].end}},{key:"length",get:function(){return this.bufferedList.length}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=i},15601:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=JSON.parse('"3.0.0-alpha.115-6"');t.default=n},64081:function(e,t,n){"use strict";n.d(t,{ib:function(){return d}});var r=n(77007),i=n(76473),o=n(31674),a=n(14388),u=n(4810),s=(n(66446),n(53864)),l=n(27875),c=function(e,t){try{return t.json.parse(e)}catch(n){return undefined}};var f={cache:!0,json:{stringify:o,parse:JSON.parse}};function d(e,t,n){var d=null!=n?n:f,p=d.cache,h=void 0===p||p,g=d.json,y=void 0===g?{parse:JSON.parse,stringify:o}:g,v=t;if(e._id){var m=(0,a.sV)().fd;if(!1===(null==m?void 0:m.loading))return m}if(e._id&&!v&&(v=e._id),!v)throw new Error("key is missing. Please provide a value for the key parameter when calling useFetch(fetcher, key, options). It is a required parameter that is used by the useFetch hook.");var b=(0,(0,s.useContext)(u.A).fetchStoreFactory)(e),_=(0,s.useCallback)((function(e){var t=function(e,t){var n,o=i(window.document.querySelectorAll(".".concat(l.S))),a=(0,r.Z)(o);try{for(a.s();!(n=a.n()).done;){var u=n.value,s=c(u.textContent,t);if(s&&s.key===e)return s}}catch(f){a.e(f)}finally{a.f()}return null}(e,{json:y});return t?t.value:undefined}),[]);return(0,s.useEffect)((function(){return function(){s.startTransition((function(){h||(!function(e,t){var n,o=i(window.document.querySelectorAll(".".concat(l.S))),a=(0,r.Z)(o);try{for(a.s();!(n=a.n()).done;){var u=n.value,s=c(u.textContent,t);if(s&&s.key===e){u.remove();break}}}catch(f){a.e(f)}finally{a.f()}}(v,{json:y}),b.preset(v,undefined))}))}}),[h]),b.preset(v,_(v)),b.prefetch(v,n),b.get(v)}}}]);