/*publish date:2022-04-14 17:10:59*/
(function(c,d,b){var a=b(c,d);if(!(typeof(ChePC)==="object")){ChePC={}}ChePC.sharePage=ChePC.sharePage||a;window.define&&define(function(f,e,g){return a})})(this,document,function(c,a){var b=function(e){var f=this,d={config:{shareUrl:c.location.href,shareTitle:a.title?a.title:"",shareDescription:$("meta[name='description']").attr("content")?$("meta[name='description']").attr("content"):"",shareImg:a.getElementsByTagName("img")[0]?a.getElementsByTagName("img")[0].src:""},wxConfig:{status:true,shareBtnName:".shareBtn_wx"},wbConfig:{status:true,shareBtnName:".shareBtn_wb"},qqkjConfig:{status:true,shareBtnName:".shareBtn_qqkj"},qqConfig:{status:true,shareBtnName:".shareBtn_qq"}};f.opts=$.extend(true,d,e);f._init();f.bindFun()};b.prototype={wxSharePopMaskEl:$("#wxSharePopMask"),wxSharePopEl:$("#wxSharePop"),protocol:c.location.protocol,_init:function(){var d=this;if(d.opts.wxConfig.status){$("body").on("click",d.opts.wxConfig.shareBtnName,function(e){d.wxShare(e)})}if(d.opts.wbConfig.status&&(!$(d.opts.wbConfig.shareBtnName).attr("href")||$(d.opts.wbConfig.shareBtnName).attr("href").indexOf("#")==0)){d.wbShare()}if(d.opts.qqkjConfig.status&&(!$(d.opts.qqkjConfig.shareBtnName).attr("href")||$(d.opts.qqkjConfig.shareBtnName).attr("href").indexOf("#")==0)){d.qqkjShare()}if(d.opts.qqConfig.status&&(!$(d.opts.qqConfig.shareBtnName).attr("href")||$(d.opts.qqConfig.shareBtnName).attr("href").indexOf("#")==0)){d.qqShare()}},wxShare:function(e){var d=this;d.methods.preventDefault(e);if(d.wxSharePopEl.length==0){d.methods.loadCssCode(d.cssCode);$("body").append(d.wxPopHtml);d.wxSharePopMaskEl=$("#wxSharePopMask");d.wxSharePopEl=$("#wxSharePop")}d.wxSharePopMaskEl.show();d.wxSharePopEl.show()},wbShare:function(){var d=this,e=d.methods.getShareInfo(d.opts.wbConfig,d.opts);e.shareBtn.attr({href:"//service.weibo.com/share/share.php?url="+encodeURIComponent(e.url)+"&title="+encodeURIComponent(e.title)+"&pic="+encodeURIComponent(e.img)+"&appkey=2110961524&searchPic=false#_loginLayer_1487659638332",target:"_blank"})},qqkjShare:function(){var e=this,f=e.methods.getShareInfo(e.opts.qqkjConfig,e.opts),d=f.img.indexOf("//")!=0?f.img:e.protocol+f.img;f.shareBtn.attr({href:"https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+encodeURIComponent(f.url)+"&title="+encodeURIComponent(f.title)+"&summary="+encodeURIComponent(f.description)+"&pics="+encodeURIComponent(d),target:"_blank"})},qqShare:function(){var d=this,e=d.methods.getShareInfo(d.opts.qqConfig,d.opts);e.shareBtn.attr({href:"https://connect.qq.com/widget/shareqq/index.html?url="+encodeURIComponent(e.url)+"&title="+encodeURIComponent(e.title)+"&desc=&summary="+encodeURIComponent(e.description)+"&site=58che",target:"_blank"})},bindFun:function(){var d=this;$("body").on("click","#wxSharePopMask,#wxSharePopCloseBtn",function(){$("#wxSharePopMask,#wxSharePop").hide()})},methods:{loadCssCode:function(g){var f=a.createElement("style");f.type="text/css";f.rel="stylesheet";try{f.appendChild(a.createTextNode(g))}catch(e){f.styleSheet.cssText=g}var d=a.getElementsByTagName("head")[0];d.appendChild(f)},preventDefault:function(e){var d=e?e:c.event;if(d.preventDefault){d.preventDefault()}else{d.returnValue=false}},getShareInfo:function(d,g){var i=$(d.shareBtnName),e=i.attr("data-shareTitle")?i.attr("data-shareTitle"):g.config.shareTitle,j=i.attr("data-shareDescription")?i.attr("data-shareDescription"):g.config.shareDescription,h=i.attr("data-shareUrl")?i.attr("data-shareUrl"):g.config.shareUrl,f=i.attr("data-shareImg")?i.attr("data-shareImg"):g.config.shareImg;return{shareBtn:i,title:e,description:j,url:h,img:f}}},cssCode:'.wxSharePopMask{display:none;position:fixed;top:0;left:0;z-index:110000;width:100%;height:100%;background:#000;overflow:hidden;opacity:0.3;filter:Alpha(opacity=30);}.wxSharePop{display:none;position:fixed;top:50%;left:50%;margin-left:-160px;margin-top:-160px;width:310px;height:320px;overflow:hidden;padding:20px 10px;background:#fff;border:1px solid #d8d8d8;z-index:110001;font-size:12px;font-family:"simsun";}.wxSharePopTitle{font-size:14px;height:16px;line-height:16px;}.wxSharePopCloseBtn{position:absolute;top:10px;right:10px;width:16px;height:16px;color:#999;font-size:20px;cursor:pointer;}.wxSharePopImg{display:block;width:220px;height:220px;margin:15px auto;}.wxSharePopDescript{line-height:26px;color:#666;}',wxPopHtml:'<div class="wxSharePopMask" id="wxSharePopMask"></div>					<div class="wxSharePop" id="wxSharePop">						<p class="wxSharePopTitle"><B>分享到微信朋友圈</B></p>						<a class="wxSharePopCloseBtn" id="wxSharePopCloseBtn">×</a>						<img src="//service.58che.com/qrcode/v1/qrcode/?info='+c.location.href+'" class="wxSharePopImg">						<p class="wxSharePopDescript">							打开微信，点击底部的“发现”，<Br>							使用“扫一扫”即可将网页分享至朋友圈。						</p>					</div>'};return b});