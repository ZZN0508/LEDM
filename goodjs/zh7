"use strict";(self.webpackChunkheifetz=self.webpackChunkheifetz||[]).push([[4299],{14299:function(e,t,n){n.r(t),n.d(t,{default:function(){return eB}});var r,i,o,a,u,s,c,l,d,f,p,m,v,h,g,w,y,S,b,E,x,T,k=n(15030),L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function O(e,t,n,r){return new(n||(n=Promise))(function(i,o){var a=function(e){try{s(r.next(e))}catch(e){o(e)}},u=function(e){try{s(r.throw(e))}catch(e){o(e)}},s=function(e){var t;e.done?i(e.value):(t=e.value,(0,k._)(t,n)?t:new n(function(e){e(t)})).then(a,u)};s((r=r.apply(e,t||[])).next())})}function _(e,t){var n,r,i,o,a=function(o){return function(a){return function(o){if(n)throw TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(e,u)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}},u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o}function N(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var R=function(e){return function(t){if("img"===e)(new window.Image).src=t.url;else{var n=document.createElement(e);n.src=t.url;var r=document.head;r.appendChild(n);var i=function(){r.removeChild(n)};n.onload=function(){i(),t.success&&t.success()},n.onerror=function(){i(),t.fail&&t.fail()}}}};function C(e){var t;if((e=e||{}).type=(e.type||"GET").toUpperCase(),e.dataType=e.dataType||"json",(t=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(4===t.readyState){var n=t.status;n>=200&&n<300?e.success&&e.success(t.responseText,t.responseXML):e.fail&&e.fail(n)}},"GET"===e.type)t.open("GET",e.url,!0),t.send(null);else if("POST"===e.type){if(t.open("POST",e.url,!0),e.headers)for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);t.send(e.data)}}var j={getImage:R("img"),jsonp:R("script"),post:function(e){C({type:"POST",url:e.url,data:e.data,headers:e.headers})},get:function(e){C({type:"GET",url:e.url,data:e.data,headers:e.headers,success:e.success,fail:e.fail})}},H=navigator.userAgent,z=(/Mobile/.test(H),/Android/.test(H),/Zhihu|osee2unifiedRelease|Futureve/.test(H),/ZhihuHybrid/.test(H)),q=(/ZhihuExternalHit|Baiduspider|Googlebot|yodaobot|Sogou web spider|Sogou inst spider|bingbot|360spider|sosospider|YisouSpider|DuckDuckBot|HTTP_Request2|Readability|Slackbot|Instapaper|pocket/.test(H),function(e){return new Promise(function(t){setTimeout(t,e)})}),M=!1,P=null;function I(e){return O(this,void 0,void 0,function(){var t,n,r,i,o,a;return _(this,function(u){switch(u.label){case 0:return window.returnCitySN||z?[3,2]:[4,q(1e3)];case 1:u.sent(),u.label=2;case 2:return t=window.location.href,n=L({za_monitor_version:"0.6.1",ua:navigator.userAgent.toLowerCase(),page_url:t&&t.split("?")[0],current_href:t},window.returnCitySN),r="fe-monitor",i=e.esIndexKeyword,o=e.disableLog,a=r,a=i?e.type?"fe-".concat(e.type,"-").concat(i):"".concat(r,"-").concat(i):e.type?"fe-".concat(e.type):"".concat(r),o&&console.info("%c[za-js-monitor.logData]","color: green",{logData:L(L({},n),e)}),[2,{type:a,defaultData:n,disableLog:o}]}})})}function A(e){return O(this,void 0,void 0,function(){var t,n,r;return _(this,function(i){var o;switch(i.label){case 0:return window.zap&&!M&&(o={useProto3:!1,enableLog:!1,apiHost:"//apm.zhihu.com",apiPath:"/collector/apm",product:"Zhihu",onBeforeSend:function(e,t){var n=(void 0===t?{defaultSendHandler:function(){console.log("defaultSendHandler")}}:t).defaultSendHandler;try{e.base.network={internet_ip:window.returnCitySN.client_ip};var r=e.base.id.client_id,i=JSON.parse(e.extra.monitor.json_log.json);i.client_id=r,e.extra.monitor.json_log.json=JSON.stringify(i)}catch(e){}return n&&n(e)}},window.zap&&((P=new window.zap.Client(L({},o))).config(o),M=!0)),[4,I(e)];case 1:return n=(t=i.sent()).type,r=t.defaultData,t.disableLog||P&&P.trackMonitor({},{monitor:{json_log:{type:n,json:JSON.stringify(L(L({},r),e))}}}),[2]}})})}var F,D=[];z||(!function(e){var t=this;window.addEventListener("load",function(){return O(t,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return P?[3,2]:[4,q(1e3)];case 1:t.sent(),t.label=2;case 2:if(P&&e.length)for(;e.length;)A(e[0]),e.shift();else window.zap||console.warn("za 没有初始化成功，请检查代码");return[2]}})})})}(D),z||j.get({url:"//118.89.204.198/resolv?host=www.zhihu.com&os_type=web",success:function(e){try{var t=JSON.parse(e);window.returnCitySN={client_ip:t.dns[0].client_ip}}catch(e){}},fail:function(){return""}}));var $=function(e,t){if(e){"CLS"!==e.name&&"LCP"!==e.name||(e.entries=[]),t&&(F=t),t||(t=F);var n=L(L({},e),t);if(z)!function(e){O(this,void 0,void 0,function(){var t,n,r;return _(this,function(i){switch(i.label){case 0:return"undefined"==typeof zhihuHybrid?[3,2]:[4,I(e)];case 1:return n=(t=i.sent()).type,r=t.defaultData,t.disableLog?[2]:(zhihuHybrid.ready().then(function(){var t="base/report",i={target:"APM",params:{indexName:"hybrid-".concat(n),params:L(L({},r),e)}};"function"==typeof zhihuHybrid?zhihuHybrid(t).dispatch(i):zhihuHybrid.dispatch(t,i)}),[3,3]);case 2:console.error("请接入 zhihu-hybrid，详见： https://hybrid.in.zhihu.com/"),A(e),i.label=3;case 3:return[2]}})})}(n);else{if(!window.zap)return void D.push(n);A(n)}}},B=((G=function(){this.queue=[],this.size=10}).prototype.push=function(e){var t=L(L({},e),{time:(new Date).getTime()});return this.queue.push(t),this.queue.length>this.size&&this.queue.splice(0,this.queue.length-this.size),this.queue},G.prototype.get=function(){return this.queue},G.prototype.getReportData=function(){return this.queue.map(function(e){var t=L({},e);return t.userInputTarget&&delete t.userInputTarget,{type:t.type,extra:JSON.stringify(L({},function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["type"])))}})},G.prototype.replace=function(e,t){var n=L(L({},e),{time:(new Date).getTime()});"number"!=typeof t?this.queue.splice(this.queue.length-1,1,n):this.queue.splice(t,1,n)},G.prototype.clear=function(){this.queue=[]},G),X=null,U=Object.keys(B.prototype).concat(["queue","size"]),J={};U.forEach(function(e){Object.defineProperty(J,e,{get:function(){return X?X[e]:function(){return null}}})});var G,Z,K,V,W,Y=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},Q=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver(function(e){return e.getEntries().map(t)});return n.observe({type:e,buffered:!0}),n}}catch(e){}},ee=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},et=function(e){addEventListener("pageshow",function(t){t.persisted&&e(t)},!0)},en=function(e,t,n){var r;return function(i){t.value>=0&&(i||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},er=-1,ei=function(){return"hidden"===document.visibilityState?0:1/0},eo=function(){ee(function(e){er=e.timeStamp},!0)},ea=function(){return er<0&&(er=ei(),eo(),et(function(){setTimeout(function(){er=ei(),eo()},0)})),{get firstHiddenTime(){return er}}},eu=function(e,t){var n,r=ea(),i=Y("FCP"),o=function(e){"first-contentful-paint"===e.name&&(u&&u.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=e.startTime,i.entries.push(e),n(!0)))},a=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],u=a?null:Q("paint",o);(a||u)&&(n=en(e,i,t),a&&o(a),et(function(r){n=en(e,i=Y("FCP"),t),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-r.timeStamp,n(!0)})})}))},es=!1,ec=-1,el={passive:!0,capture:!0},ed=new Date,ef=function(e,t){Z||(Z=t,K=e,V=new Date,ev(removeEventListener),ep())},ep=function(){if(K>=0&&K<V-ed){var e={entryType:"first-input",name:Z.type,target:Z.target,cancelable:Z.cancelable,startTime:Z.timeStamp,processingStart:Z.timeStamp+K};W.forEach(function(t){t(e)}),W=[]}},em=function(e){if(e.cancelable){var t,n,r,i=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(t=function(){ef(i,e),r()},n=function(){r()},r=function(){removeEventListener("pointerup",t,el),removeEventListener("pointercancel",n,el)},addEventListener("pointerup",t,el),addEventListener("pointercancel",n,el)):ef(i,e)}},ev=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,em,el)})},eh={};function eg(){var e,t,n,r,i,o,a={effectiveType:"",downlink:-1,rtt:-1};return window.navigator&&window.navigator.connection&&(a={effectiveType:(null===(t=null===(e=window.navigator)||void 0===e?void 0:e.connection)||void 0===t?void 0:t.effectiveType)||"",downlink:(null===(r=null===(n=window.navigator)||void 0===n?void 0:n.connection)||void 0===r?void 0:r.downlink)||-1,rtt:(null===(o=null===(i=window.navigator)||void 0===i?void 0:i.connection)||void 0===o?void 0:o.rtt)||-1}),a}function ew(){var e,t=window.performance,n={type:"",dns:-1,tcp:-1,ttfb:-1,trans:-1,dom:-1,ssl:-1,firstbyte:-1,fp:-1,tti:-1,res:-1,ready:-1,load:-1,effectiveType:"",downlink:-1,rtt:-1,platform:"",fcp:-1,rd:-1,https:"",wherepage:-1};if(t&&(t.getEntriesByType&&t.getEntriesByType("navigation")&&t.getEntriesByType("navigation")[0]?e=t.getEntriesByType("navigation")[0]:t.timing&&(e=t.timing),e)){n.type="Performance",e.domainLookupEnd&&void 0!==e.domainLookupStart&&(n.dns=Math.round(e.domainLookupEnd-e.domainLookupStart||0)),e.connectEnd&&void 0!==e.connectStart&&(n.tcp=Math.round(e.connectEnd-e.connectStart)),e.responseStart&&void 0!==e.requestStart&&(n.ttfb=Math.round(e.responseStart-e.requestStart)),e.responseEnd&&e.responseStart&&(n.trans=Math.round(e.responseEnd-e.responseStart)),e.domInteractive&&e.responseEnd&&(n.dom=Math.round(e.domInteractive-e.responseEnd)),e.loadEventStart&&e.domContentLoadedEventEnd&&(n.res=Math.round(e.loadEventStart-e.domContentLoadedEventEnd));var r=window.location;if(r&&"https:"===r.protocol&&e.connectEnd&&e.secureConnectionStart&&(n.ssl=Math.round(e.connectEnd-e.secureConnectionStart)),e.responseStart&&e.domainLookupStart&&(n.firstbyte=Math.round(e.responseStart-e.domainLookupStart)),e.responseEnd&&e.fetchStart&&(n.fp=Math.round(e.responseEnd-e.fetchStart)),e.domInteractive&&e.fetchStart&&(n.tti=Math.round(e.domInteractive-e.fetchStart)),e.domContentLoadedEventEnd&&e.fetchStart&&(n.ready=Math.round(e.domContentLoadedEventEnd-e.fetchStart)),e.loadEventStart&&e.fetchStart&&(n.load=Math.round(e.loadEventStart-e.fetchStart)),Object.assign(n,eg()),window.navigator&&(n.platform=window.navigator.platform||""),t&&t.getEntries){var i=t.getEntries();for(var o in i)i[o].name&&"first-contentful-paint"===i[o].name&&i[o].startTime&&(n.fcp=1*i[o].startTime.toFixed(0)),i[o].name&&"first-paint"===i[o].name&&i[o].startTime&&(n.fp=1*i[o].startTime.toFixed(0))}if(void 0!==e.navigationStart?n.rd=e.fetchStart-e.navigationStart:void 0!==e.redirectEnd?n.rd=e.redirectEnd-e.redirectStart:n.rd=0,n.https=e.nextHopProtocol||"",t.navigation||e.type){if(e.type)switch(e.type){case"navigate":default:n.wherepage=0;break;case"back_forward":n.wherepage=2;break;case"reload":n.wherepage=1;break;case"prerender":n.wherepage=256}else n.wherepage=t.navigation.type||-1}}return n}var ey,eS=function(e){return -1!==(null==e?void 0:e.indexOf(".js"))||-1!==(null==e?void 0:e.indexOf(".css"))||-1!==(null==e?void 0:e.indexOf(".html"))||-1!==(null==e?void 0:e.indexOf(".ts"))},eb=function(e,t){var n=null==e?void 0:e.split("?")[0];return!!(null==t?void 0:t.some(function(e){return -1!==(null==n?void 0:n.indexOf(e))}))},eE=function(e,t){var n=null==e?void 0:e.split("?")[0];return!!(null==t?void 0:t.some(function(e){return -1!==(null==n?void 0:n.indexOf(e))}))},ex=new Uint8Array(16);function eT(){if(!ey&&!(ey="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ey(ex)}for(var ek=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,eL=[],eO=0;eO<256;++eO)eL.push((eO+256).toString(16).substr(1));function e_(){return(function(e,t,n){var r=(e=e||{}).random||(e.rng||eT)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(eL[e[t+0]]+eL[e[t+1]]+eL[e[t+2]]+eL[e[t+3]]+"-"+eL[e[t+4]]+eL[e[t+5]]+"-"+eL[e[t+6]]+eL[e[t+7]]+"-"+eL[e[t+8]]+eL[e[t+9]]+"-"+eL[e[t+10]]+eL[e[t+11]]+eL[e[t+12]]+eL[e[t+13]]+eL[e[t+14]]+eL[e[t+15]]).toLowerCase();if(!("string"==typeof n&&ek.test(n)))throw TypeError("Stringified UUID is invalid");return n}(r)})().replace(/-/g,"")}function eN(e){var t=(window.performance&&(0,k._)(window.performance.getEntriesByType,Function)&&window.performance.getEntriesByType("resource")||[]).find(function(t){return -1!==t.name.indexOf(e)});if(t){var n=eg();return L({size:t.transferSize,spend_time:t.duration,dns:t.domainLookupStart-t.domainLookupEnd,protocol:t.nextHopProtocol},n)}return{}}function eR(e){var t={outerHTML:void 0,timestamp:-1,XPath:null,selector:"",type:"ResourceError",url:"",baseURI:void 0,tagName:void 0};if(e.target.tagName){var n=e.target?e.target:e.srcElement;t.outerHTML=(n&&n.outerHTML).slice(0,200),t.timestamp=e.timeStamp||-1,t.XPath=function(e){for(var t=[];e&&e.nodeType===window.Node.ELEMENT_NODE;e=e.parentNode){var n=void 0,r=0,i=!1;for(n=e.previousSibling;n;n=n.previousSibling)n.nodeType!==window.Node.DOCUMENT_TYPE_NODE&&n.nodeName===e.nodeName&&++r;for(n=e.nextSibling;n&&!i;n=n.nextSibling)n.nodeName===e.nodeName&&(i=!0);var o=(e.prefix?e.prefix+":":"")+e.localName,a=r||i?"["+(r+1)+"]":"";t.splice(0,0,o+a)}return t.length?"/"+t.join("/"):null}(n),t.selector=function(e){for(var t=[];e.parentNode;){if(e.id){t.unshift("#"+e.id);break}if(e===e.ownerDocument.documentElement)t.unshift(e.tagName);else{for(var n=1,r=e;r.previousElementSibling;r=r.previousElementSibling,n++);t.unshift(e.tagName+":nth-child("+n+")")}e=e.parentNode}return t.join(" > ")}(n),t.type="ResourceError";var r=e.target;if(t.url=r&&r.src||r.href||"",t.baseURI=r&&r.baseURI||"",t.tagName=r&&r.tagName||"",t.url&&("string"==typeof t.url||(0,k._)(t.url,String)))return t}}var eC=function(e){var t=e.inputType,n=e.target;if(void 0===t?"":t){var r=n.value,i=n.innerText,o=n.localName,a=n.className,u=n.tagName,s={type:"input",content:["input","textarea"].includes(o)?r:i,userInputTarget:n,tagName:u,className:a},c=J.get();Array.isArray(c)&&(n===c[c.length-1].userInputTarget?J.replace(s):J.push(s))}},ej=function(){var e;window.addEventListener("input",(e=null,function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e&&clearTimeout(e),e=setTimeout(function(){eC.call.apply(eC,function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([t],N(n),!1))},200)}),!1)},eH=function(e){var t=history[e];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=window.location.pathname,o=t.apply(this,n),a=new Event(e),u=N(n,3),s=u[0],c=u[1],l=u[2];return a.params={state:s,title:c,from:i,to:l},window.dispatchEvent(a),o}};window.history.pushState=eH("pushState"),window.history.replaceState=eH("replaceState");/**
 * https://github.com/csnover/TraceKit
 * @license MIT
 * @namespace TraceKit
 */var ez={},eq=window.TraceKit,eM=[].slice,eP=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|Aggregate|)Error): )?(.*)$/;function eI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function eA(e){return void 0===e}ez.noConflict=function(){return window.TraceKit=eq,ez},ez.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw ez.report(e),e}}},ez.report=(r=function(e,t,n){var r=null;if(!t||ez.collectWindowErrors){for(var i in c)if(eI(c,i))try{c[i](e,t,n)}catch(e){r=e}if(r)throw r}},i=function(e,t,n,i,a){if(d)ez.computeStackTrace.augmentStackTraceWithInitialElement(d,t,n,e),o();else if(a)r(ez.computeStackTrace(a),!0,a);else{var s,c={url:t,line:n,column:i},l=e;if("[object String]"===({}).toString.call(e)){var f=e.match(eP);f&&(s=f[1],l=f[2])}c.func=ez.computeStackTrace.guessFunctionName(c.url,c.line),c.context=ez.computeStackTrace.gatherContext(c.url,c.line),r({name:s,message:l,mode:"onerror",stack:[c]},!0,null)}return!!u&&u.apply(this,arguments)},o=function(){var e=d,t=l;d=null,l=null,r(e,!1,t)},a=function(e){if(d){if(l===e)return;o()}var t=ez.computeStackTrace(e);throw d=t,l=e,setTimeout(function(){l===e&&o()},t.incomplete?2e3:0),e},c=[],l=null,d=null,a.subscribe=function(e){!0!==s&&(u=window.onerror,window.onerror=i,s=!0),c.push(e)},a.unsubscribe=function(e){for(var t=c.length-1;t>=0;--t)c[t]===e&&c.splice(t,1);0===c.length&&(window.onerror=u,s=!1)},a),ez.computeStackTrace=(f=function(e){if("string"!=typeof e)return[];if(!eI(x,e)){var t="",n="";try{n=window.document.domain}catch(e){}var r=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(e);r&&r[2]===n&&(t=function(e){if(!ez.remoteFetching)return"";try{var t=function(){try{return new window.XMLHttpRequest}catch(e){return new window.ActiveXObject("Microsoft.XMLHTTP")}}();return t.open("GET",e,!1),t.send(""),t.responseText}catch(e){return""}}(e)),x[e]=t?t.split("\n"):[]}return x[e]},p=function(e,t){var n,r=/function ([^(]*)\(([^)]*)\)/,i=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,o="",a=f(e);if(!a.length)return"?";for(var u=0;u<10;++u)if(!eA(o=a[t-u]+o)&&((n=i.exec(o))||(n=r.exec(o))))return n[1];return"?"},m=function(e,t){var n=f(e);if(!n.length)return null;var r=[],i=Math.floor(ez.linesOfContext/2),o=i+ez.linesOfContext%2,a=Math.max(0,t-i-1),u=Math.min(n.length,t+o-1);t-=1;for(var s=a;s<u;++s)eA(n[s])||r.push(n[s].length<100?n[s]:n[s].substr(0,100)+"...");return r.length>0?r:null},v=function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")},h=function(e){return v(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")},g=function(e,t){for(var n,r,i=0,o=t.length;i<o;++i)if((n=f(t[i])).length&&(n=n.join("\n"),r=e.exec(n)))return{url:t[i],line:n.substring(0,r.index).split("\n").length,column:r.index-n.lastIndexOf("\n",r.index)-1};return null},w=function(e,t,n){var r,i=f(t),o=RegExp("\\b"+v(e)+"\\b");return n-=1,i&&i.length>n&&(r=o.exec(i[n]))?r.index:null},y=function(e){if(!eA(window&&window.document)){for(var t,n,r,i=[window.location.href],o=window.document.getElementsByTagName("script"),a=""+e,u=0;u<o.length;++u){var s=o[u];s.src&&i.push(s.src)}return(r=g((n=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(a))?RegExp("function"+(n[1]?"\\s+"+n[1]:"")+"\\s*\\(\\s*"+n[2].split(",").join("\\s*,\\s*")+"\\s*\\)\\s*{\\s*"+(t=v(n[3]).replace(/;$/,";?"))+"\\s*}"):new RegExp(v(a).replace(/\s+/g,"\\s+")),i))||(n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(a))&&((r=g(RegExp("on"+n[1]+"=[\\'\"]\\s*"+(t=h(n[2]))+"\\s*[\\'\"]","i"),i[0]))||(r=g(new RegExp(t),i)))?r:null}},S=function(e){if(!e.stack)return null;for(var t,n,r,i=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,s=/\((\S*)(?::(\d+))(?::(\d+))\)/,c=e.stack.split("\n"),l=[],d=/^(.*) is undefined$/.exec(e.message),f=0,v=c.length;f<v;++f){if(n=i.exec(c[f])){var h=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=s.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:h?null:n[2],func:n[1]||"?",args:h?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=a.exec(c[f]))r={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=o.exec(c[f])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=u.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==f||n[5]||eA(e.columnNumber)||(l[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=p(r.url,r.line)),r.context=r.line?m(r.url,r.line):null,l.push(r)}return l.length?(l[0]&&l[0].line&&!l[0].column&&d&&(l[0].column=w(d[1],l[0].url,l[0].line)),{mode:"stack",name:e.name,message:e.message,stack:l}):null},b=function(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){e.incomplete=!1,i.func||(i.func=p(i.url,i.line)),i.context||(i.context=m(i.url,i.line));var o=/ '([^']+)' /.exec(r);if(o&&(i.column=w(o[1],i.url,i.line)),e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,e.stack[0].context=i.context,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1},x={},(E=function(e,t){var n=null;t=null==t?0:+t;try{if(n=function(e){var t=e.stacktrace;if(t){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=t.split("\n"),a=[],u=0;u<o.length;u+=2){var s=null;if((n=r.exec(o[u]))?s={url:n[2],line:+n[1],column:null,func:n[3],args:[]}:(n=i.exec(o[u]))&&(s={url:n[6],line:+n[1],column:+n[2],func:n[3]||n[4],args:n[5]?n[5].split(","):[]}),s){if(!s.func&&s.line&&(s.func=p(s.url,s.line)),s.line)try{s.context=m(s.url,s.line)}catch(e){}s.context||(s.context=[o[u+1]]),a.push(s)}}return a.length?{mode:"stacktrace",name:e.name,message:e.message,stack:a}:null}}(e))return n}catch(e){}try{if(n=S(e))return n}catch(e){}try{if(n=function(e){var t=e.message.split("\n");if(t.length<4)return null;var n,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,i=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of function script\s*$/i,a=[],u=window&&window.document&&window.document.getElementsByTagName("script"),s=[];for(var c in u)eI(u,c)&&!u[c].src&&s.push(u[c]);for(var l=2;l<t.length;l+=2){var d=null;if(n=r.exec(t[l]))d={url:n[2],func:n[3],args:[],line:+n[1],column:null};else if(n=i.exec(t[l])){d={url:n[3],func:n[4],args:[],line:+n[1],column:null};var v=+n[1],w=s[n[2]-1];if(w){var y=f(d.url);if(y){var S=(y=y.join("\n")).indexOf(w.innerText);S>=0&&(d.line=v+y.substring(0,S).split("\n").length)}}}else if(n=o.exec(t[l])){var b=window.location.href.replace(/#.*$/,""),E=g(new RegExp(h(t[l+1])),[b]);d={url:b,func:"",args:[],line:E?E.line:n[1],column:null}}if(d){d.func||(d.func=p(d.url,d.line));var x=m(d.url,d.line),T=x?x[Math.floor(x.length/2)]:null;x&&T.replace(/^\s*/,"")===t[l+1].replace(/^\s*/,"")?d.context=x:d.context=[t[l+1]],a.push(d)}}return a.length?{mode:"multiline",name:e.name,message:t[0],stack:a}:null}(e))return n}catch(e){}try{if(n=function e(t,n){for(var r,i,o,a=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,u=[],s={},c=!1,l=e.caller;l&&!c;l=l.caller)if(l!==E&&l!==ez.report){if(i={url:null,func:"?",args:[],line:null,column:null},l.name?i.func=l.name:(r=a.exec(l.toString()))&&(i.func=r[1]),void 0===i.func)try{i.func=r.input.substring(0,r.input.indexOf("{"))}catch(e){}if(o=y(l)){i.url=o.url,i.line=o.line,"?"===i.func&&(i.func=p(i.url,i.line));var d=/ '([^']+)' /.exec(t.message||t.description);d&&(i.column=w(d[1],o.url,o.line))}s[""+l]?c=!0:s[""+l]=!0,u.push(i)}n&&u.splice(0,n);var f={mode:"callers",name:t.name,message:t.message,stack:u};return b(f,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),f}(e,t+1))return n}catch(e){}return{name:e.name,message:e.message,mode:"failed"}}).augmentStackTraceWithInitialElement=b,E.computeStackTraceFromStackProp=S,E.guessFunctionName=p,E.gatherContext=m,E.ofCaller=function(e){e=1+(null==e?0:+e);try{throw Error()}catch(t){return E(t,e+1)}},E.getSource=f,E),ez.extendToAsynchronousCallbacks=function(){var e=function(e){var t=window[e];window[e]=function(){var e=eM.call(arguments),n=e[0];return"function"==typeof n&&(e[0]=ez.wrap(n)),t.apply?t.apply(this,e):t(e[0],e[1])}};e("setTimeout"),e("setInterval")},ez.remoteFetching||(ez.remoteFetching=!0),ez.collectWindowErrors||(ez.collectWindowErrors=!0),(!ez.linesOfContext||ez.linesOfContext<1)&&(ez.linesOfContext=11);var eF=function(){var e={usedJSHeapSize:-1,totalJSHeapSize:-1,jsHeapSizeLimit:-1};if(window.performance){var t=null==performance?void 0:performance.memory;t&&(e=t)}return{memory:{usedJSHeapSize:null==e?void 0:e.usedJSHeapSize,totalJSHeapSize:null==e?void 0:e.totalJSHeapSize,jsHeapSizeLimit:null==e?void 0:e.jsHeapSizeLimit}}},eD={performance:!1,resourceError:!1,request:!1,trace:{open:!1,apiList:[],ignoreList:[]},runtimeError:!1,userActions:!1,metrics:!1,common:{disableLog:!1,projectId:"msfe"}},e$=!1,eB=((T=function(e){if(this.opts=eD,e$)console.warn("%cZHLogger can not instantiate multiple times.","color:blue;font-size:12px;");else{e$=!0,this.opts=e?L(L({},eD),e):eD;try{this.init()}catch(e){console.error(e)}}}).prototype.init=function(){(function(e){var t,n,r,i,o,a,u,s=e.trace,c=e.performance,l=e.resourceError,d=e.runtimeError,f=e.request,p=e.common;if(c){var m=function(){var t,n,r,i,o,a,u,s,c,l,d,f,m,v,h,g=ew(),w=eF();$(L(L({},g),w),L({opts:e},p)),function(e,t){var n,r=ea(),i=Y("LCP"),o=function(e){var t=e.startTime;t<r.firstHiddenTime&&(i.value=t,i.entries.push(e),n())},a=Q("largest-contentful-paint",o);if(a){n=en(e,i,t);var u=function(){eh[i.id]||(a.takeRecords().map(o),a.disconnect(),eh[i.id]=!0,n(!0))};["keydown","click"].forEach(function(e){addEventListener(e,u,{once:!0,capture:!0})}),ee(u,!0),et(function(r){n=en(e,i=Y("LCP"),t),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-r.timeStamp,eh[i.id]=!0,n(!0)})})})}}($),r=ea(),i=Y("FID"),a=Q("first-input",o=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))}),n=en($,i,t),a&&ee(function(){a.takeRecords().map(o),a.disconnect()},!0),a&&et(function(){n=en($,i=Y("FID"),t),W=[],K=-1,Z=null,ev(addEventListener),W.push(o),ep()}),es||(eu(function(e){ec=e.value}),es=!0),c=function(e){ec>-1&&$(e)},l=Y("CLS",0),d=0,f=[],(v=Q("layout-shift",m=function(e){if(!e.hadRecentInput){var t=f[0],n=f[f.length-1];d&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(d+=e.value,f.push(e)):(d=e.value,f=[e]),d>l.value&&(l.value=d,l.entries=f,s())}}))&&(s=en(c,l,u),ee(function(){v.takeRecords().map(m),s(!0)}),et(function(){d=0,ec=-1,s=en(c,l=Y("CLS",0),u)})),(h=document.createElement("div")).style.height="0px",h.style.width="0px",document.body.appendChild(h),h.click(),document.body.removeChild(h),(null==g?void 0:g.load)>8e3&&function(e,t){var n=window.performance&&(0,k._)(window.performance.getEntriesByType,Function)&&window.performance.getEntriesByType("resource")||[],r=[];if(n.forEach(function(e){var t=eg(),n=L({size:e.transferSize,spend_time:e.duration,dns:e.domainLookupStart-e.domainLookupEnd,protocol:e.nextHopProtocol,name:e.name},t);r.push(n)}),r.length){var i=ew();e(L(L({res_data:r,resources_num:n.length},i),{type:"slowPage"}),t)}}($,L({opts:e},p))};"complete"!==document.readyState?window.addEventListener("load",function(){m()}):m()}l&&(window.__RESOURCEERROR__&&window.__RESOURCEERROR__.length&&window.__RESOURCEERROR__.forEach(function(t){var n=eR(t);n&&$(n,L({opts:e},p))}),window.addEventListener("error",function(t){var n=eR(t);n&&(J.push(n),$(n,L({opts:e},p)))},!0)),f&&(t=L({opts:e},p),r=L({hostFilter:["zhihu-web-analytics.zhihu.com/api/v2","apm.zhihu.com/collector/apm"]},{trace:s}),function(){if(window.XMLHttpRequest){var e=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(n,i,o){var a=this,u=[].slice.call(arguments),s=a.onreadystatechange||function(){},c={url:i||"",method:n||"",filter:!1,startTime:-1,trace_id:r.trace?e_():"",endTime:-1,time:-1,status:-1,statusText:"",response:{}};return a.addEventListener("readystatechange",function(){var e,n,i,o,l;if(c.url=u[1],-1===r.hostFilter.findIndex(function(e){return -1!==c.url.indexOf(e)})){if(0===a.readyState);else if(1===a.readyState){if(c.filter=!0,c.url&&("string"==typeof c.url||(0,k._)(c.url,String))){c.filter=!1,c.startTime=+new Date;var d=!eS(c.url);(null===(e=r.trace)||void 0===e?void 0:e.open)&&d&&eb(c.url,null===(n=r.trace)||void 0===n?void 0:n.apiList)&&!eE(c.url,null===(i=r.trace)||void 0===i?void 0:i.ignoreList)&&a.setRequestHeader("X-B3-Traceid",c.trace_id)}}else if(2===a.readyState);else if(3===a.readyState);else if(4===a.readyState&&!c.filter){var f=!1,p="reqSuccess";c.endTime=+new Date,c.time=c.endTime-(c.startTime||0),c.status=a.status,c.statusText=a.statusText,c.response=a.response.length>2e3?a.response.substr(0,2e3):a.response;var m=a.status>=200&&a.status<300||304===a.status,v=null===(o=null==c?void 0:c.url)||void 0===o?void 0:o.split("?")[0],h=null==c?void 0:c.method,g=null===(l=null==c?void 0:c.url)||void 0===l?void 0:l.split("?")[1];c.time>=3e3&&m?(f=!0,p="reqPerf"):m||(f=!0,p="reqError");var w=L(L({type:p,request:g||"",elapsed_time:c.time,method:h||"GET",req_url:v||"未知",response:JSON.stringify(c.response)||"",status:c.status,statusText:c.statusText},eN(c.url)),{trace_id:c.trace_id});J.push(w),f&&$(w,t)}return s.apply(a,arguments)}}),e.apply(a,arguments)}}}(),n=fetch,Object.defineProperty(window,"fetch",{configurable:!0,enumerable:!0,get:function(){return function(e,i){var o,a,u,s,c=!1,l="reqSuccess",d=Date.now(),f=r.trace?e_():"",p=!eS(e);return(null===(o=r.trace)||void 0===o?void 0:o.open)&&p&&eb(e,null===(a=r.trace)||void 0===a?void 0:a.apiList)&&!eE(e,null===(u=r.trace)||void 0===u?void 0:u.ignoreList)&&(i?i.headers=L(L({},null==i?void 0:i.headers),{"X-B3-Traceid":f}):i={headers:{"X-B3-Traceid":f}}),new Promise(function(r,o){n(e,L({},i)).then(function(e){var n,o,a=Date.now()-d,u=e.status>=200&&e.status<300||304===e.status,p=null===(n=null==e?void 0:e.url)||void 0===n?void 0:n.split("?")[0],m=null===(o=null==e?void 0:e.url)||void 0===o?void 0:o.split("?")[1],v=null==i?void 0:i.method;v&&"GET"!==(null==v?void 0:v.toUpperCase())&&(m=JSON.stringify(null==i?void 0:i.body)),a>=3e3&&u?(c=!0,l="reqPerf"):u||(c=!0,l="reqError"),s=L(L({type:l,request:m||"",elapsed_time:a,req_url:p,method:v||"GET",response:JSON.stringify(e.clone().body)||"",status:e.status,statusText:e.statusText},eN(e.url)),{trace_id:f}),J.push(s),c&&$(s,t),r(e)}).catch(function(e){o(e)})})}},set:function(){}})),d&&(o=(i=L({opts:e},p)).opts.userActions,ez.report.subscribe(function(e){if(e&&e.stack&&(0,k._)(e.stack,Array)&&e.stack.length){e.type="Script";var t=e.stack[0];e.url=t.url||"",e.line=t.line?1*t.line:-1,e.col=t.column?1*t.column:-1,e.file_name=t.url||"",e.msg=e.message||"",e.name=e.name||"",delete e.message,e.msg&&("string"==typeof e.msg||(0,k._)(e.msg,String))&&-1===e.msg.indexOf("Script error")&&(J.push(e),e.actions=J.getReportData(),$(e,i))}}),a="unhandledrejection",u=function(e){if(e.reason){var t=ez.computeStackTrace(e.reason);if(t.type="Script",t&&t.stack&&(0,k._)(t.stack,Array)&&t.stack.length){var n=t.stack[0];t.url=n.url||"",t.line=n.line?1*n.line:-1,t.col=n.column?1*n.column:-1,t.file_name=n.url||"",t.msg=t.message||"",t.name=t.name||"",delete t.message,t.msg&&("string"==typeof t.msg||(0,k._)(t.msg,String))&&-1===t.msg.indexOf("Script error")&&(J.push(t),$(t,i))}}},window.attachEvent?window.attachEvent("on"+a,u):window.addEventListener(a,u,!1),o&&(X=new B,window.addEventListener("replaceState",function(e){var t=e.params,n=void 0===t?{}:t,r=n.from,i=n.to;J.push({type:"replaceState",from:r,to:i})}),window.addEventListener("pushState",function(e){var t=e.params,n=void 0===t?{}:t,r=n.from,i=n.to;J.push({type:"pushState",from:r,to:i})}),window.addEventListener("popstate",function(){J.push({type:"popstate",to:window.location.href})}),ej(),window.addEventListener("click",function(e){var t=e.path,n=e.target,r=e.pointerType,i=e.composedPath,o=n.outerHTML,a=n.tagName,u=n.className,s=(i&&i.apply(e)||(void 0===t?[]:t)).reduce(function(e,t){var n=t.localName,r=void 0===n?"":n,i=t.className,o=void 0===i?"":i;if("object"==typeof o&&(o=(null==o?void 0:o.baseVal)||""),!r||r.includes("body")||r.includes("html"))return e;var a=o?".".concat(o.replace(/\s+/g,".")):"";return e.push(r+a),e},[]);J.push({type:(void 0===r?"null":r)?"click":"jsClick",path:s,outerHTML:o,tagName:a,className:u})},!0)))})(this.opts)},T.prototype.show=function(e,t){if(e){if(!t)throw Error("arguments need two, but one");var n=this.opts.common;Object.assign(n,{esIndexKeyword:t}),Object.assign(e,{type:"show"}),$(e,n)}},T.prototype.click=function(e,t){if(e){if(!t)throw Error("arguments need two, but one");var n=this.opts.common;Object.assign(n,{esIndexKeyword:t}),Object.assign(e,{type:"click"}),$(e,n)}},T.prototype.metrics=function(){console.warn("已不支持,请接入 指标SDK：@cfe/statsc-client")},T);window.ZHLogger=eB,function(e){for(var t,n,r=document.getElementsByTagName("script"),i=0;i<r.length;i++){var o=r[i],a=o.getAttribute("src");o&&a&&a.indexOf("za-js-monitor")>-1&&o.getAttribute("instanced")&&(t=o.getAttribute("instanced"),n=o.getAttribute("disableLog"))}"yes"===t&&new e({performance:!0,resourceError:!0,runtimeError:!0,request:!1,trace:{apiList:[],ignoreList:[],open:!1},common:{disableLog:"yes"===n,projectId:"",userId:"",extra:{}}})}(eB)}}]);
//# sourceMappingURL=4299.60b25a97c3f0635e50cf.js.map