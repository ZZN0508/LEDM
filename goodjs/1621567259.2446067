(window.shark_home_jsonp=window.shark_home_jsonp||[]).push([["header~9c71996c"],{"0447d":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/defaultOmnibus_156528d.jpg"},"0ec84":function(e,t,n){},11687:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default_605fbea.png"},"3477e":function(e,t,n){},40407:function(e,t,n){},"6d13a":function(e,t,n){"use strict";var a,r,i,o,l,s,c,u,f=n("1a22b"),p=n.n(f),d=n("29218"),m=n.n(d),b=n("7ca7d"),h=n("eb3e2"),_=n("54992"),y=n("47838"),v=n("08c0f"),g=n("36081"),E=n("3e30e"),w=n("98198"),D=n("ab849"),C=(n("3477e"),n("9580e")),P=n("2b78b"),S=n("c2c98"),O=n("6795c"),j=n("d6b6c"),N=(n("b72af"),"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e});function _initDefineProp(e,t,n,a){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":N(t))&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":N(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var r=n[a],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,n,a,r){var i={};return Object.keys(a).forEach(function(e){i[e]=a[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var k,z,I,U,R,H,W=b.default.Service,T=(a=W(h.DataCenter.global),r=W(h.DataCenter.localStorage),i=W(O.a),Object(_.log)((l=function(e){function User(){var t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,User);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(n,"global",s,n),_initDefineProp(n,"localStorage",c,n),_initDefineProp(n,"nobleInfoService",u,n),n.state={showHiddenLead:!0,showSurePop:!1},n.config={hiddenLeadStorage:"room-user-enterHiddenLead"},n.handleHidden=function(){var e=n.props.nobleState.nobleInfo.isHidden>0?0:1;n.localStorage.get(n.config.hiddenLeadStorage)||n.localStorage.set(n.config.hiddenLeadStorage,!0),n.handLeadTip(),n.nobleInfoService.fetchNobleEnterRoomHidden(e)},n.handLeadTip=function(){n.setState({showHiddenLead:!1})},_possibleConstructorReturn(n,t)}return _inherits(User,e),User.prototype.render=function render(){var e=this.global.get("USER_INFO.nickname"),t=this.global.get("USER_INFO.uid"),n=this.props,a=n.nobleState,r=n.authenticationData,i=n.helperInfo,o=void 0===i?{}:i,l=n.changePopStatus,s=n.frame,c=void 0===s?"":s,u=a.nobleInfo,f=u.nobleLevel,d=u.nobleName,m=u.nobleIcon,b=u.hasHiddenRights,h=u.isHidden,_=this.state,y=(_.showSurePop,_.showHiddenLead&&!this.localStorage.get(this.config.hiddenLeadStorage)),v=m?"//res.douyucdn.cn//resource/"+m:"";return p.a.createElement("div",{className:"User",__self:this},p.a.createElement("div",{className:"User-avatarWrap",__self:this},f>0&&b?p.a.createElement("div",{className:"User-enterRoomHiddenCtrller"+(h?" is-hidden":""),onMouseEnter:this.handLeadTip,onClick:this.handleHidden,__self:this},p.a.createElement("i",{__self:this}),"\u8fdb\u623f\u9690\u8eab",y?p.a.createElement("div",{className:"User-tip User-tip--enterRoomHiddenLead",__self:this},"\u65b0\u7279\u6743"):null,p.a.createElement("div",{className:"User-tip User-tip--enterRoomHiddenCtrl",__self:this})):null,+o.show?p.a.createElement("div",{className:"User-specialHelper",onClick:function onClick(){Object(j.a)("11010010101D.1.1")(),l(!0)},__self:this},p.a.createElement("i",{__self:this}),"\u4e13\u5c5e\u5ba2\u670d\u52a9\u624b"):null,p.a.createElement("a",{className:"User-avatar",href:"/member/cp",target:"_blank",__self:this},p.a.createElement(C.a,{uid:t,width:"60px",frameWidth:"70px",frameImgSrc:c,__self:this}),f>0&&m?p.a.createElement("img",{className:"User-nobleIcon",alt:d,src:v+P.imgSuffix,__self:this}):null)),p.a.createElement("div",{className:"User-nickname",__self:this},p.a.createElement("a",{href:"/member/cp",target:"_blank",title:e,__self:this},e)),p.a.createElement(S.a,{authenticationData:r,__self:this}))},User}(p.a.Component),s=_applyDecoratedDescriptor(l.prototype,"global",[a],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(l.prototype,"localStorage",[r],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(l.prototype,"nobleInfoService",[i],{enumerable:!0,initializer:null}),o=l))||o),M=n("9ff88"),x=n("225ce"),A=n("143ee"),F=(n("82543"),n("0ec84"),"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e});function Wallet_initDefineProp(e,t,n,a){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}function Wallet_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":F(t))&&"function"!==typeof t?e:t}function Wallet_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":F(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Wallet_defaults(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var r=n[a],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}(e,t))}function Wallet_applyDecoratedDescriptor(e,t,n,a,r){var i={};return Object.keys(a).forEach(function(e){i[e]=a[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var L,V,G,B,Y,q,J,K,$,Z,Q=b.default.Service,X=(k=Q(h.DataCenter.common),z=Q(A.a),Object(_.log)((U=function(e){function Wallet(){var t,n;!function Wallet_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Wallet);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=n=Wallet_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),Wallet_initDefineProp(n,"common",R,n),Wallet_initDefineProp(n,"iframePayServices",H,n),n.openRecharge=function(e){e.preventDefault(),n.iframePayServices.showIframePay()},Wallet_possibleConstructorReturn(n,t)}return Wallet_inherits(Wallet,e),Wallet.prototype.render=function render(){var e=this.props.walletData,t=e.silver,n=void 0===t?0:t,a=e.totalGold,r=void 0===a?0:a,i=e.nobleInfo,o=i.isTrial,l=i.nobleEndSeconds,s=i.nobleGold,c=i.nobleLevel,u=i.nobleProtectLevel;return p.a.createElement("div",{className:"Wallet",__self:this},p.a.createElement("div",{className:"Wallet-content",__self:this},p.a.createElement("div",{className:"Wallet-content-mywallet",__self:this},p.a.createElement("h5",{className:"Wallet-content-mywallet-title",__self:this},p.a.createElement("a",{onClick:this.openRecharge,className:"Wallet-content-recharge",href:"/web_game/welcome/18",target:"_blank",__self:this},"\u5145\u503c"),"\u6211\u7684\u94b1\u5305"),p.a.createElement("div",{className:"Wallet-content-mywallet-wealth",__self:this},p.a.createElement("span",{className:"Wallet-content-mywallet-wealth-sliver",title:"\u505a\u4efb\u52a1\u53ef\u83b7\u5f97\u9c7c\u4e38",__self:this},p.a.createElement("i",{__self:this}),"\u9c7c\u4e38",p.a.createElement("span",{__self:this},n)),p.a.createElement("span",{className:"Wallet-content-mywallet-wealth-gold",title:"\u9c7c\u7fc5"+r,__self:this},p.a.createElement("i",{__self:this}),"\u9c7c\u7fc5",p.a.createElement("span",{__self:this},r)),!o&&(u||c)&&l>0?p.a.createElement("a",{className:"Wallet-nobleGold",href:"/member/noble/record",target:"_blank",__self:this},"(\u8d35\u65cf\u9c7c\u7fc5",s,")",s>0?p.a.createElement("span",{className:"Wallet-nobleGoldTip",__self:this},"\u5728\u8d35\u65cf\u751f\u6548\u671f\u95f4\u4e00\u76f4\u6709\u6548"):""):""))))},Wallet}(p.a.Component),R=Wallet_applyDecoratedDescriptor(U.prototype,"common",[k],{enumerable:!0,initializer:null}),H=Wallet_applyDecoratedDescriptor(U.prototype,"iframePayServices",[z],{enumerable:!0,initializer:null}),I=U))||I),ee=n("00e73"),te=n("c3690"),ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function UserPane_initDefineProp(e,t,n,a){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}function UserPane_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":ne(t))&&"function"!==typeof t?e:t}function UserPane_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":ne(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function UserPane_defaults(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var r=n[a],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}(e,t))}function UserPane_applyDecoratedDescriptor(e,t,n,a,r){var i={};return Object.keys(a).forEach(function(e){i[e]=a[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var ae=b.default.Service,re=(L=ae(h.DataCenter.global),V=ae(h.DataCenter.common),G=ae(y.a),B=ae(v.a),Object(_.log)((q=function(e){function UserPane(){var t,n;!function UserPane_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserPane);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=n=UserPane_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),UserPane_initDefineProp(n,"global",J,n),UserPane_initDefineProp(n,"common",K,n),UserPane_initDefineProp(n,"userInfoServices",$,n),UserPane_initDefineProp(n,"multiAccountServices",Z,n),UserPane_possibleConstructorReturn(n,t)}return UserPane_inherits(UserPane,e),UserPane.prototype.componentWillMount=function componentWillMount(){this.global.get("$ROOM.room_id")?this.userInfoServices.getHelperEpic():this.userInfoServices.getInfoByEpic(),this.multiAccountServices.getEntranceByEpic()},UserPane.prototype.render=function render(){var e=this.props,t=e.userInfoData,n=void 0===t?{}:t,a=e.changePopStatus,r=e.isShowAccountEntrance,i=n.loading,o=n.totalExperience,l=n.silver,s=n.totalGold,c=n.nobleGold,u=n.authenticationData,f=n.nobleInfo,d=n.nobleRights,m=n.nobleBaseConf,b=n.helperInfo,h=n.frame,_={silver:l,totalGold:s,nobleGold:c,nobleInfo:f},y={nobleInfo:f,nobleRights:d,nobleBaseConf:m};return p.a.createElement("div",{className:"Header-UserPane public-DropMenu-drop"+(i?" Exit-loading":""),__self:this},p.a.createElement("i",{__self:this}),p.a.createElement("div",{className:"public-DropMenu-drop-main",__self:this},i?p.a.createElement(g.a,{__self:this}):p.a.createElement(p.a.Fragment,{__self:this},p.a.createElement("i",{__self:this}),p.a.createElement("div",{className:"Header-UserPane-top",__self:this},p.a.createElement(T,{nobleState:y,authenticationData:u,helperInfo:b,changePopStatus:a,frame:h,__self:this}),p.a.createElement(M.a,{levelData:o,__self:this})),p.a.createElement(x.a,{sourceData:y,__self:this}),p.a.createElement(X,{walletData:_,__self:this}),p.a.createElement(te.a,{__self:this}),p.a.createElement(ee.a,{__self:this}),p.a.createElement(D.a,{__self:this})),r&&p.a.createElement(w.a,{__self:this}),p.a.createElement(E.a,{__self:this})))},UserPane}(p.a.Component),J=UserPane_applyDecoratedDescriptor(q.prototype,"global",[L],{enumerable:!0,initializer:null}),K=UserPane_applyDecoratedDescriptor(q.prototype,"common",[V],{enumerable:!0,initializer:null}),$=UserPane_applyDecoratedDescriptor(q.prototype,"userInfoServices",[G],{enumerable:!0,initializer:null}),Z=UserPane_applyDecoratedDescriptor(q.prototype,"multiAccountServices",[B],{enumerable:!0,initializer:null}),Y=q))||Y);re.propTypes={userInfoData:m.a.object.isRequired};t.a=re},82980:function(e,t,n){},ab427:function(e,t,n){"use strict";var a,r,i,o=n("1a22b"),l=n.n(o),s=n("7ca7d"),c=n("447d8"),u=n("54992"),f=n("eb3e2"),p=n("fc794"),d=n.n(p),m=n("69250"),b=n("a7386"),h=n("3c81e"),_=(n("82543"),n("a874b")),y=n("17e57"),v=n("a9ca1"),g=n("da5e1"),E=n("56463"),w=n("c0d6b"),D=n("30bac"),C=n("79f80"),P=n("b49ae"),S=n("51978"),O=n("dd12d"),j=n("aafdb"),N=n("29218"),k=n.n(N),z=n("d6b6c"),I=n("7ffcc"),U=n("44d00"),R=(n("40407"),n("4286d")),H=n("67f79"),W="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":W(t))&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":W(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var r=n[a],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}(e,t))}var T="130100101010",M=[{f:"like",n:"\u8d5e",l:"message/like/in"},{f:"comment",n:"\u8bc4\u8bba",l:"message/comment/in"},{f:"at",n:"@\u6211\u7684",l:"message/at/all"},{f:"group",n:"\u9c7c\u5427\u6d88\u606f",l:"message/team/all"}],x=function convertNumber(e){return e>99?99:e},A=(a=(0,s.default.Service)(f.DataCenter.global),r=function(e){function YubaMessage(){var t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,YubaMessage);for(var a=arguments.length,r=Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),function _initDefineProp(e,t,n,a){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}(n,"global",i,n),n.unreadClick=function(e){return function(){Object(z.a)(T)({com:{p:e}})}},_possibleConstructorReturn(n,t)}return _inherits(YubaMessage,e),YubaMessage.prototype.render=function render(){var e=this,t=this.props.yubaMessageData,n=Object.keys(t).reduce(function(e,n){return+e+ +t[n]},0);return l.a.createElement("div",{className:"YubaMessage",__self:this},l.a.createElement(I.a,{placeholder:l.a.createElement("span",{onMouseDown:Object(z.a)("13010010100Z"),__self:this},l.a.createElement("i",{className:"DropPane-icon YubaMessage-icon",__self:this},l.a.createElement(R.a,{symbol:H.a.id,__self:this})),"\u6d88\u606f",l.a.createElement(U.a,{number:x(n),__self:this})),link:"//yuba.douyu.com/homepage/main",onExpose:Object(z.a)(T+".3.1"),dropIcon:!1,__self:this},l.a.createElement(l.a.Fragment,{__self:this},M.map(function(n,a){var r=n.f,i=n.n,o=n.l;return l.a.createElement("a",{key:i,className:"YubaMessage-link",href:"//yuba.douyu.com/"+o,target:"_blank",onClick:e.unreadClick(a+1),__self:e},i,l.a.createElement(U.a,{number:x(t[r]),__self:e}))}))))},YubaMessage}(l.a.Component),i=function _applyDecoratedDescriptor(e,t,n,a,r){var i={};return Object.keys(a).forEach(function(e){i[e]=a[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}(r.prototype,"global",[a],{enumerable:!0,initializer:null}),r);A.propTypes={yubaMessageData:k.a.object.isRequired};var F,L,V,G,B,Y,q,J,K,$,Z,Q,X=Object(c.connect)(function mapStateToProps(e){return{yubaMessageData:e.yubaMessageData}})(A),ee=n("16cbb"),te=n("b51c4"),ne=n("af73a"),ae=n("f4f4f"),re=(n("547a0"),n("7287c")),ie="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function components_initDefineProp(e,t,n,a){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}function components_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":ie(t))&&"function"!==typeof t?e:t}function components_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":ie(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function components_defaults(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var r=n[a],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}(e,t))}function components_applyDecoratedDescriptor(e,t,n,a,r){var i={};return Object.keys(a).forEach(function(e){i[e]=a[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var oe=s.default.Service,le=s.default.Region,se=(F=oe(m.a),L=oe(f.DataCenter.global),V=oe(f.DataCenter.event),G=oe(b.a),B=oe(h.a),Object(u.log)((q=function(e){function Header(){var t,n;!function components_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Header);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=n=components_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),components_initDefineProp(n,"baseConfigServices",J,n),components_initDefineProp(n,"global",K,n),components_initDefineProp(n,"event",$,n),components_initDefineProp(n,"actNavServices",Z,n),components_initDefineProp(n,"matchFocusServices",Q,n),n.state={loginStatus:0,homePage:0,darkMode:1,loaded:!1,privateNeedLoad:!1},n.getStyleContainer=function(e){n.styleContainer=e},components_possibleConstructorReturn(n,t)}return components_inherits(Header,e),Header.prototype.componentWillMount=function componentWillMount(){var e=this;this.baseConfigServices.getAnchorRecruitByEpic(),this.actNavServices.getActConfig(),this.matchFocusServices.getMatchFocusData();var t=d.a.check(),n="home"===this.global.get("headerActiveMenu");this.setState({loginStatus:t,homePage:n}),this.event.load().subscribe(function(){e.setState({loaded:!0}),setTimeout(function(){e.setState({privateNeedLoad:!0})},4e3),e.actNavServices.getActConfig(),e.matchFocusServices.getFocusDot(t)}),n&&(this.scrollHandle=this.event.register(window,"scroll",{debounce:100}).subscribe(function(){var t=document.documentElement.scrollTop||document.body.scrollTop;e.setState({darkMode:t<600})}),this.event.trigger(window,"scroll"))},Header.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.actNavConfig,n=(t=void 0===t?{}:t).backdrop,a=void 0===n?{}:n,r=t.switcher;if((void 0===r?{}:r).backdrop){var i=Object(re.a)(a),o=i.defaultColor,l=i.hoverColor;this.styleContainer.innerHTML=o+l}},Header.prototype.componentWillUnmount=function componentWillUnmount(){this.scrollHandle&&this.scrollHandle.unsubscribe()},Header.prototype.render=function render(){var e=this.state,t=e.loginStatus,n=e.homePage,a=e.darkMode,r=e.privateNeedLoad,i=this.props,o=i.actNavConfig,s=void 0===o?{}:o,c=i.matchFocusData,u=i.multiAccountData,f=s.switcher,p=void 0===f?{}:f,d=s.backdrop,m=void 0===d?{}:d,b=s.logo,h=void 0===b?{}:b,N=u.isShowAccountEntrance,k=u.multiAccountIframeVisible,z=n&&a,I=this.state.loaded,U=["Header-wrap",z&&"is-darkMode",p.backdrop&&"is-start"].filter(Boolean).join(" "),R=p.backdrop&&m.banner&&!z?{background:"rgba("+m.banner.join(",")+")"}:null;return l.a.createElement("div",{className:U,style:R,__self:this},l.a.createElement("div",{className:"Header",__self:this},l.a.createElement(ee.a,{isDarkMode:z,switcher:p,backdrop:m,direction:"left",__self:this}),l.a.createElement("div",{className:"Header-left",__self:this},l.a.createElement(_.a,{isDarkMode:z,switcher:p,logo:h,__self:this}),l.a.createElement("div",{className:"Header-menu-wrap",__self:this},l.a.createElement(y.a,{actNavConfig:s,__self:this}))),p.entry?l.a.createElement(S.a,{actNavConfig:s,__self:this}):null,c&&"{}"!==JSON.stringify(this.props.actNavConfig)&&I?l.a.createElement(ne.a,{matchDetail:c,__self:this}):null,I&&l.a.createElement("div",{className:"Header-right",__self:this},l.a.createElement("div",{className:"Header-search-wrap",__self:this},l.a.createElement(D.a,{__self:this})),l.a.createElement("div",{className:"Header-history-wrap",__self:this},t?l.a.createElement(v.a,{type:"History",__self:this}):null),l.a.createElement("div",{className:"Header-follow-wrap",__self:this},l.a.createElement(v.a,{type:"Follow",__self:this})),l.a.createElement("div",{className:"Header-broadcast-wrap",__self:this},l.a.createElement(C.a,{__self:this})),l.a.createElement("div",{className:"Header-download-wrap",__self:this},l.a.createElement(g.a,{__self:this})),l.a.createElement("div",{className:"Header-yubamessage-wrap",__self:this},t?l.a.createElement(X,{__self:this}):null),l.a.createElement("div",{className:"Header-login-wrap",__self:this},t?l.a.createElement(w.a,{actNavConfig:s,isShowAccountEntrance:N,__self:this}):l.a.createElement(E.a,{__self:this}),l.a.createElement(le,{name:"GameGift",belongTo:"HeaderApp",__self:this}))),l.a.createElement(ee.a,{isDarkMode:z,switcher:p,backdrop:m,direction:"right",__self:this})),l.a.createElement(j.a,{__self:this}),r&&l.a.createElement(P.a,{__self:this}),l.a.createElement(O.a,{__self:this}),l.a.createElement(te.a,{switcher:p,getStyleContainer:this.getStyleContainer,__self:this}),l.a.createElement(ae.a,{visible:k,__self:this}))},Header}(l.a.Component),J=components_applyDecoratedDescriptor(q.prototype,"baseConfigServices",[F],{enumerable:!0,initializer:null}),K=components_applyDecoratedDescriptor(q.prototype,"global",[L],{enumerable:!0,initializer:null}),$=components_applyDecoratedDescriptor(q.prototype,"event",[V],{enumerable:!0,initializer:null}),Z=components_applyDecoratedDescriptor(q.prototype,"actNavServices",[G],{enumerable:!0,initializer:null}),Q=components_applyDecoratedDescriptor(q.prototype,"matchFocusServices",[B],{enumerable:!0,initializer:null}),Y=q))||Y);t.a=Object(c.connect)(function mapStateToProps(e){return{actNavConfig:e.actNavConfig,matchFocusData:e.matchFocusData,multiAccountData:e.multiAccountData}})(se)},b72af:function(e,t,n){},f6340:function(e,t,n){"use strict";var a,r,i,o,l,s=n("1a22b"),c=n.n(s),u=n("7ca7d"),f=n("7912b"),p=n("eb3e2"),d=n("97a1f"),m=n("11687"),b=n.n(m),h=n("0447d"),_=n.n(h),y=n("db47a"),v={1:"sp",2:"hj",3:"hdym"},g={clickRecommend:function clickRecommend(e,t,n){var a=v[t];Object(y.dysub2)({action_code:"10010010101I",event_id:1,type:1,ext:{_rpos:e+1,_com_type:a,_com_name:n}})},showRecommend:function showRecommend(e,t,n){var a=v[t];Object(y.dysub2)({action_code:"10010010101I",event_id:3,type:1,ext:{_rpos:e+1,_com_type:a,_com_name:n}})},clickVideo:function clickVideo(e,t){Object(y.dysub2)({action_code:"10010010101J",event_id:1,type:1,ext:{_rpos:e+1,_vid:t}})},showVideo:function showVideo(e,t){Object(y.dysub2)({action_code:"10010010101J",event_id:3,type:1,ext:{_rpos:e+1,_vid:t}})},clickUpload:function clickUpload(){Object(y.dysub2)({action_code:"10010010101K",event_id:1,type:1})},showUpload:function showUpload(){Object(y.dysub2)({action_code:"10010010101K",event_id:3,type:1})}},E=(n("82980"),"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e});function _initDefineProp(e,t,n,a){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":E(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var r=n[a],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,n,a,r){var i={};return Object.keys(a).forEach(function(e){i[e]=a[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var w=u.default.Service,D="//v.douyu.com";function numFormat(e){var t=parseInt(e)||0;return t>1e8?(t/1e8).toFixed(1)+"\u4ebf":t>1e4?(t/1e4).toFixed(1)+"\u4e07":t}function reverseEscapeChar(e){return e&&"string"===typeof e?e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&#039;/g,"'").replace(/&nbsp;/g," ").replace(/<br\/>/g,"\n"):e}D+=/\/$/.test(D)?"":"/";var C=(a=w(p.DataCenter.global),r=w(p.DataCenter.common),i=function(e){function VideoDropDown(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VideoDropDown);var n=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":E(t))&&"function"!==typeof t?e:t}(this,e.call(this,t));return _initDefineProp(n,"global",o,n),_initDefineProp(n,"common",l,n),n.clickOmnibus=function(e){var t=e.currentTarget.getAttribute("data-oid"),n=D+"omnibus/"+t;window.open(n,"_blank")},n.clickRecommend=function(e){var t=e.currentTarget.getAttribute("data-type"),n=e.currentTarget.getAttribute("data-url"),a=e.currentTarget.getAttribute("data-index"),r=+t,i=D;1===r?i=D+"show/"+n:2===r?i=D+"omnibus/"+n:3===r&&/https?:\/\//.test(n)&&(i=n),window.open(i,"_blank"),g.clickRecommend(+a,t,n)},n.clickVideo=function(e){var t=e.currentTarget.getAttribute("data-vid"),n=e.currentTarget.getAttribute("data-index"),a=D+"show/"+t;window.open(a,"_blank"),g.clickVideo(+n,t)},n.timer=null,n.state={data:{}},n}return _inherits(VideoDropDown,e),VideoDropDown.prototype.componentDidMount=function componentDidMount(){var e=this;p.httpClient.get(String,"/wgapi/vod/front/hover/getDropMenuInfo").subscribe(function(t){var n={};0===t.error&&(n="string"===typeof t.data?d.GSON.parse(t.data):t.data,e.setState({data:n}))})},VideoDropDown.prototype.showRecommend=function showRecommend(e,t){this.props.visible&&g.showRecommend(e,t.typeId,t.jumpUrl)},VideoDropDown.prototype.showVideo=function showVideo(e,t){this.props.visible&&g.showVideo(e,t.hashId)},VideoDropDown.prototype.renderCard=function renderCard(e){e.hashId;var t=e.numberOfPlays,n=e.coverPic,a=e.videoDuration,r=e.title,i=e.barrageNum,o=e.upNum,l=e.cTime;return c.a.createElement("div",{class:"omnibusItemCard",__self:this},c.a.createElement("div",{class:"omnibusItemCard-inner",__self:this},c.a.createElement("div",{class:"omnibusItemCard-info",__self:this},c.a.createElement("div",{class:"omnibusItemCard-img",__self:this},c.a.createElement(f.b,{className:"videoImage",isLazyable:!1,src:n,defaultSrc:b.a,__self:this}),c.a.createElement("div",{class:"omnibusItemCard-duration",__self:this},a)),c.a.createElement("div",{class:"omnibusItemCard-text",__self:this},c.a.createElement("h4",{class:"omnibusItemCard-title",__self:this},reverseEscapeChar(r)),c.a.createElement("div",{class:"omnibusItemCard-time",__self:this},function getFormattedDate(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,r=t.getDate();return[n,a=(a<10?"0":"")+a,r=(r<10?"0":"")+r].join("-")}(1e3*l)))),c.a.createElement("div",{class:"omnibusItemCard-nums",__self:this},c.a.createElement("div",{class:"omnibusItemCard-num",__self:this},c.a.createElement("i",{class:"omnibusItemCard-icon is-play",__self:this}),c.a.createElement("span",{class:"omnibusItemCard-num-text",__self:this},numFormat(+t))),c.a.createElement("div",{class:"omnibusItemCard-num",__self:this},c.a.createElement("i",{class:"omnibusItemCard-icon is-dan",__self:this}),c.a.createElement("span",{class:"omnibusItemCard-num-text",__self:this},numFormat(+i))),c.a.createElement("div",{class:"omnibusItemCard-num",__self:this},c.a.createElement("i",{class:"omnibusItemCard-icon is-zan",__self:this}),c.a.createElement("span",{class:"omnibusItemCard-num-text",__self:this},numFormat(+o))))))},VideoDropDown.prototype.render=function render(){var e=this,t=this.state.data||{},n=t.videos,a=t.recommend;return!n||!a||a.length<4||n.length<5?null:(g.showUpload(),c.a.createElement("div",{className:"VideoDropDown",__self:this},c.a.createElement("div",{className:"omnibusBox",__self:this},c.a.createElement("div",{className:"contentTitle",__self:this},"\u5b98\u65b9\u63a8\u8350"),c.a.createElement("div",{className:"omnibusList",__self:this},a.map(function(t,n){var a=t.jumpUrl,r=t.typeId,i=t.spotId,o=t.coverPic,l=t.title;return e.showRecommend(n,t),c.a.createElement("div",{className:"omnibusItem",key:""+i+n,"data-index":n,"data-url":a,"data-type":r,onClick:e.clickRecommend,__self:e},c.a.createElement(f.b,{className:"omnibusImage",isLazyable:!1,src:o,defaultSrc:_.a,__self:e}),c.a.createElement("div",{className:"omnibusTitle",__self:e},reverseEscapeChar(l)))}))),c.a.createElement("div",{className:"videoBox",__self:this},c.a.createElement("div",{className:"contentTitle",__self:this},"\u4eba\u6c14\u89c6\u9891"),c.a.createElement("a",{className:"uploadBtn",target:"_blank",href:D+"member/mycreate/center#/uploadVideo",onClick:function onClick(){return g.clickUpload()},__self:this},c.a.createElement("img",{src:"https://shark2.douyucdn.cn/front-publish/demand-v2-master/assets/fonts/upload_fb6035a.svg",className:"uploadBtnIcon",__self:this}),c.a.createElement("span",{__self:this},"\u4e0a\u4f20\u89c6\u9891")),c.a.createElement("div",{className:"videoList",__self:this},n.map(function(t,n){var a=t.hashId,r=t.numberOfPlays,i=(t.coverPic,t.videoDuration,t.title),o=t.nickname,l=numFormat(+r);return e.showVideo(n,t),c.a.createElement("div",{className:"videoItem "+(n<3?"":"others"),key:a+n,"data-vid":a,onClick:e.clickVideo,"data-index":n,__self:e},c.a.createElement("div",{className:"videoSort",__self:e},n+1),c.a.createElement("div",{className:"videoInfo",__self:e},c.a.createElement("div",{className:"videoTitle",__self:e},reverseEscapeChar(i)),c.a.createElement("div",{className:"videoAuthor",__self:e},c.a.createElement("span",{className:"videoAuthorName",__self:e},reverseEscapeChar(o)),c.a.createElement("i",{__self:e},"\xb7"),l,"\u64ad\u653e")),e.renderCard(t))})))))},VideoDropDown}(c.a.Component),o=_applyDecoratedDescriptor(i.prototype,"global",[a],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(i.prototype,"common",[r],{enumerable:!0,initializer:null}),i);t.a=C}}]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/header~9c71996c_ed9e023.js.map