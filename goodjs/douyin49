/*! For license information please see 6647.8f7b9cc2.js.LICENSE.txt */
(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([[6647],{90173:function(e,t,r){e.exports=r(23799)},68435:function(e,t,r){e.exports=r(51783)},53138:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var u=f(this).constructor;r=Reflect.construct(n,arguments,u)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,r)}}function p(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}r.d(t,{Lc:function(){return h},PA:function(){return o},qH:function(){return a},WY:function(){return m},_x:function(){return s},XW:function(){return c},Zj:function(){return u},Ac:function(){return d}})},24880:function(e,t,r){"use strict";r.d(t,{o:function(){return W},D:function(){return I}});var n,u,d=r(53138),o=r(61508),i=r(97702),a=r(34210),s=r(68773),c=r(3493),f=r.n(c),l=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){e=void 0!==(e=e||{})?e:{};var t,r,u=Object.assign;e.ready=new Promise((function(e,n){t=e,r=n}));var o,i,a,s=u({},e),c="./this.program",f=!0,l="";"undefined"!=typeof document&&document.currentScript&&(l=document.currentScript.src),n&&(l=n),l=0!==l.indexOf("blob:")?l.substr(0,l.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},i=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)};var h,m,p=e.print||void 0,v=e.printErr||void 0;u(e,s),s=null,e.arguments&&e.arguments,e.thisProgram&&(c=e.thisProgram),e.quit&&e.quit,e.wasmBinary&&(h=e.wasmBinary),e.noExitRuntime,"object"!==("undefined"==typeof WebAssembly?"undefined":(0,d.Ac)(WebAssembly))&&q("no native wasm support detected");var _=!1;function g(t){return e["_"+t]}function y(e,t,r,n,u){var d={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);T(e,t=We(r),r)}return t},array:function(e){var t=We(e.length);return N(e,t),t}},o=g(e),i=[],a=0;if(n)for(var s=0;s<n.length;s++){var c=d[r[s]];c?(0===a&&(a=Ne()),i[s]=c(n[s])):i[s]=n[s]}var f,l=o.apply(null,i);return f=l,0!==a&&Ie(a),l=function(e){return"string"===t?M(e):"boolean"===t?Boolean(e):e}(f),l}var b,w,E,k,C,S,x,R,L,A,D="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function F(e,t,r){for(var n=t+r,u=t;e[u]&&!(u>=n);)++u;if(u-t>16&&e.subarray&&D)return D.decode(e.subarray(t,u));for(var d="";t<u;){var o=e[t++];if(128&o){var i=63&e[t++];if(192!=(224&o)){var a=63&e[t++];if((o=224==(240&o)?(15&o)<<12|i<<6|a:(7&o)<<18|i<<12|a<<6|63&e[t++])<65536)d+=String.fromCharCode(o);else{var s=o-65536;d+=String.fromCharCode(55296|s>>10,56320|1023&s)}}else d+=String.fromCharCode((31&o)<<6|i)}else d+=String.fromCharCode(o)}return d}function M(e,t){return e?F(E,e,t):""}function P(e,t,r,n){if(!(n>0))return 0;for(var u=r,d=r+n-1,o=0;o<e.length;++o){var i=e.charCodeAt(o);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),i<=127){if(r>=d)break;t[r++]=i}else if(i<=2047){if(r+1>=d)break;t[r++]=192|i>>6,t[r++]=128|63&i}else if(i<=65535){if(r+2>=d)break;t[r++]=224|i>>12,t[r++]=128|i>>6&63,t[r++]=128|63&i}else{if(r+3>=d)break;t[r++]=240|i>>18,t[r++]=128|i>>12&63,t[r++]=128|i>>6&63,t[r++]=128|63&i}}return t[r]=0,r-u}function T(e,t,r){return P(e,E,t,r)}function O(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function N(e,t){w.set(e,t)}function I(t){b=t,e.HEAP8=w=new Int8Array(t),e.HEAP16=k=new Int16Array(t),e.HEAP32=S=new Int32Array(t),e.HEAPU8=E=new Uint8Array(t),e.HEAPU16=C=new Uint16Array(t),e.HEAPU32=x=new Uint32Array(t),e.HEAPF32=R=new Float32Array(t),e.HEAPF64=L=new Float64Array(t)}e.INITIAL_MEMORY;var W=[],B=[],H=[],j=[],V=0,U=null;function z(t){V++,e.monitorRunDependencies&&e.monitorRunDependencies(V)}function G(t){if(V--,e.monitorRunDependencies&&e.monitorRunDependencies(V),0==V&&U){var r=U;U=null,r()}}function q(t){e.onAbort&&e.onAbort(t),v(t="Aborted("+t+")"),_=!0,t+=". Build with -s ASSERTIONS=1 for more info.";var n=new WebAssembly.RuntimeError(t);throw r(n),n}e.preloadedImages={},e.preloadedAudios={};var Y,X,Q,Z="data:application/octet-stream;base64,";function J(e){try{if(e==Y&&h)return new Uint8Array(h);if(!a)throw"both async and sync fetching of the wasm failed"}catch(t){q(t)}}function K(t){for(;t.length>0;){var r=t.shift();if("function"!=typeof r){var n=r.func;"number"==typeof n?void 0===r.arg?$(n)():$(n)(r.arg):n(void 0===r.arg?null:r.arg)}else r(e)}}function $(e){return A.get(e)}function ee(e){this.excPtr=e,this.ptr=e-16,this.set_type=function(e){S[this.ptr+4>>2]=e},this.get_type=function(){return S[this.ptr+4>>2]},this.set_destructor=function(e){S[this.ptr+8>>2]=e},this.get_destructor=function(){return S[this.ptr+8>>2]},this.set_refcount=function(e){S[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,w[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=w[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,w[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=w[this.ptr+13>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=S[this.ptr>>2];S[this.ptr>>2]=e+1},this.release_ref=function(){var e=S[this.ptr>>2];return S[this.ptr>>2]=e-1,1===e}}Y=e.wasmBinaryFile;var te={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,n=e.length-1;n>=0;n--){var u=e[n];"."===u?e.splice(n,1):".."===u?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=te.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=te.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=te.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return te.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return te.normalize(e.join("/"))},join2:function(e,t){return te.normalize(e+"/"+t)}},re={resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:oe.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t="/"===n.charAt(0)}return(t?"/":"")+(e=te.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=re.resolve(e).substr(1),t=re.resolve(t).substr(1);for(var n=r(e.split("/")),u=r(t.split("/")),d=Math.min(n.length,u.length),o=d,i=0;i<d;i++)if(n[i]!==u[i]){o=i;break}var a=[];for(i=o;i<n.length;i++)a.push("..");return(a=a.concat(u.slice(o))).join("/")}},ne={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){ne.ttys[e]={input:[],output:[],ops:t},oe.registerDevice(e,ne.stream_ops)},stream_ops:{open:function(e){var t=ne.ttys[e.node.rdev];if(!t)throw new oe.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n,u){if(!e.tty||!e.tty.ops.get_char)throw new oe.ErrnoError(60);for(var d=0,o=0;o<n;o++){var i;try{i=e.tty.ops.get_char(e.tty)}catch(a){throw new oe.ErrnoError(29)}if(void 0===i&&0===d)throw new oe.ErrnoError(6);if(null==i)break;d++,t[r+o]=i}return d&&(e.node.timestamp=Date.now()),d},write:function(e,t,r,n,u){if(!e.tty||!e.tty.ops.put_char)throw new oe.ErrnoError(60);try{for(var d=0;d<n;d++)e.tty.ops.put_char(e.tty,t[r+d])}catch(o){throw new oe.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),d}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=Fe(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(p(F(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(p(F(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(v(F(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(v(F(e.output,0)),e.output=[])}}},ue={ops_table:null,mount:function(e){return ue.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(oe.isBlkdev(r)||oe.isFIFO(r))throw new oe.ErrnoError(63);ue.ops_table||(ue.ops_table={dir:{node:{getattr:ue.node_ops.getattr,setattr:ue.node_ops.setattr,lookup:ue.node_ops.lookup,mknod:ue.node_ops.mknod,rename:ue.node_ops.rename,unlink:ue.node_ops.unlink,rmdir:ue.node_ops.rmdir,readdir:ue.node_ops.readdir,symlink:ue.node_ops.symlink},stream:{llseek:ue.stream_ops.llseek}},file:{node:{getattr:ue.node_ops.getattr,setattr:ue.node_ops.setattr},stream:{llseek:ue.stream_ops.llseek,read:ue.stream_ops.read,write:ue.stream_ops.write,allocate:ue.stream_ops.allocate,mmap:ue.stream_ops.mmap,msync:ue.stream_ops.msync}},link:{node:{getattr:ue.node_ops.getattr,setattr:ue.node_ops.setattr,readlink:ue.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ue.node_ops.getattr,setattr:ue.node_ops.setattr},stream:oe.chrdev_stream_ops}});var u=oe.createNode(e,t,r,n);return oe.isDir(u.mode)?(u.node_ops=ue.ops_table.dir.node,u.stream_ops=ue.ops_table.dir.stream,u.contents={}):oe.isFile(u.mode)?(u.node_ops=ue.ops_table.file.node,u.stream_ops=ue.ops_table.file.stream,u.usedBytes=0,u.contents=null):oe.isLink(u.mode)?(u.node_ops=ue.ops_table.link.node,u.stream_ops=ue.ops_table.link.stream):oe.isChrdev(u.mode)&&(u.node_ops=ue.ops_table.chrdev.node,u.stream_ops=ue.ops_table.chrdev.stream),u.timestamp=Date.now(),e&&(e.contents[t]=u,e.timestamp=u.timestamp),u},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256));var n=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=oe.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,oe.isDir(e.mode)?t.size=4096:oe.isFile(e.mode)?t.size=e.usedBytes:oe.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&ue.resizeFileStorage(e,t.size)},lookup:function(e,t){throw oe.genericErrors[44]},mknod:function(e,t,r,n){return ue.createNode(e,t,r,n)},rename:function(e,t,r){if(oe.isDir(e.mode)){var n;try{n=oe.lookupNode(t,r)}catch(d){}if(n)for(var u in n.contents)throw new oe.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=r,t.contents[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var r=oe.lookupNode(e,t);for(var n in r.contents)throw new oe.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var n=ue.createNode(e,t,41471,0);return n.link=r,n},readlink:function(e){if(!oe.isLink(e.mode))throw new oe.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,n,u){var d=e.node.contents;if(u>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-u,n);if(o>8&&d.subarray)t.set(d.subarray(u,u+o),r);else for(var i=0;i<o;i++)t[r+i]=d[u+i];return o},write:function(e,t,r,n,u,d){if(t.buffer===w.buffer&&(d=!1),!n)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(d)return o.contents=t.subarray(r,r+n),o.usedBytes=n,n;if(0===o.usedBytes&&0===u)return o.contents=t.slice(r,r+n),o.usedBytes=n,n;if(u+n<=o.usedBytes)return o.contents.set(t.subarray(r,r+n),u),n}if(ue.expandFileStorage(o,u+n),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(r,r+n),u);else for(var i=0;i<n;i++)o.contents[u+i]=t[r+i];return o.usedBytes=Math.max(o.usedBytes,u+n),n},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&oe.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new oe.ErrnoError(28);return n},allocate:function(e,t,r){ue.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,u,d){if(0!==t)throw new oe.ErrnoError(28);if(!oe.isFile(e.node.mode))throw new oe.ErrnoError(43);var o,i,a=e.node.contents;if(2&d||a.buffer!==b){if((n>0||n+r<a.length)&&(a=a.subarray?a.subarray(n,n+r):Array.prototype.slice.call(a,n,n+r)),i=!0,!(o=void q()))throw new oe.ErrnoError(48);w.set(a,o)}else i=!1,o=a.byteOffset;return{ptr:o,allocated:i}},msync:function(e,t,r,n,u){if(!oe.isFile(e.node.mode))throw new oe.ErrnoError(43);return 2&u||ue.stream_ops.write(e,t,0,n,r,!1),0}}};function de(e,t,r,n){var u=n?"":"al "+e;i(e,(function(r){var n;n='Loading data file "'+e+'" failed (no arrayBuffer).',r||q(n),t(new Uint8Array(r)),u&&G()}),(function(t){if(!r)throw'Loading data file "'+e+'" failed.';r()})),u&&z()}var oe={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e=re.resolve(oe.cwd(),e)))return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var n in r)void 0===t[n]&&(t[n]=r[n]);if(t.recurse_count>8)throw new oe.ErrnoError(32);for(var u=te.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),d=oe.root,o="/",i=0;i<u.length;i++){var a=i===u.length-1;if(a&&t.parent)break;if(d=oe.lookupNode(d,u[i]),o=te.join2(o,u[i]),oe.isMountpoint(d)&&(!a||a&&t.follow_mount)&&(d=d.mounted.root),!a||t.follow)for(var s=0;oe.isLink(d.mode);){var c=oe.readlink(o);if(o=re.resolve(te.dirname(o),c),d=oe.lookupPath(o,{recurse_count:t.recurse_count}).node,s++>40)throw new oe.ErrnoError(32)}}return{path:o,node:d}},getPath:function(e){for(var t;;){if(oe.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%oe.nameTable.length},hashAddNode:function(e){var t=oe.hashName(e.parent.id,e.name);e.name_next=oe.nameTable[t],oe.nameTable[t]=e},hashRemoveNode:function(e){var t=oe.hashName(e.parent.id,e.name);if(oe.nameTable[t]===e)oe.nameTable[t]=e.name_next;else for(var r=oe.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){var r=oe.mayLookup(e);if(r)throw new oe.ErrnoError(r,e);for(var n=oe.hashName(e.id,t),u=oe.nameTable[n];u;u=u.name_next){var d=u.name;if(u.parent.id===e.id&&d===t)return u}return oe.lookup(e,t)},createNode:function(e,t,r,n){var u=new oe.FSNode(e,t,r,n);return oe.hashAddNode(u),u},destroyNode:function(e){oe.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var t=oe.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return oe.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup:function(e){var t=oe.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return oe.lookupNode(e,t),20}catch(r){}return oe.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=oe.lookupNode(e,t)}catch(d){return d.errno}var u=oe.nodePermissions(e,"wx");if(u)return u;if(r){if(!oe.isDir(n.mode))return 54;if(oe.isRoot(n)||oe.getPath(n)===oe.cwd())return 10}else if(oe.isDir(n.mode))return 31;return 0},mayOpen:function(e,t){return e?oe.isLink(e.mode)?32:oe.isDir(e.mode)&&("r"!==oe.flagsToPermissionString(t)||512&t)?31:oe.nodePermissions(e,oe.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.MAX_OPEN_FDS,r=e;r<=t;r++)if(!oe.streams[r])return r;throw new oe.ErrnoError(33)},getStream:function(e){return oe.streams[e]},createStream:function(e,t,r){oe.FSStream||(oe.FSStream=function(){},oe.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n=new oe.FSStream;for(var u in e)n[u]=e[u];e=n;var d=oe.nextfd(t,r);return e.fd=d,oe.streams[d]=e,e},closeStream:function(e){oe.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=oe.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new oe.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){oe.devices[e]={stream_ops:t}},getDevice:function(e){return oe.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),oe.syncFSRequests++,oe.syncFSRequests>1&&v("warning: "+oe.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var r=oe.getMounts(oe.root.mount),n=0;function u(e){return oe.syncFSRequests--,t(e)}function d(e){if(e)return d.errored?void 0:(d.errored=!0,u(e));++n>=r.length&&u(null)}r.forEach((function(t){if(!t.type.syncfs)return d(null);t.type.syncfs(t,e,d)}))},mount:function(e,t,r){var n,u="/"===r,d=!r;if(u&&oe.root)throw new oe.ErrnoError(10);if(!u&&!d){var o=oe.lookupPath(r,{follow_mount:!1});if(r=o.path,n=o.node,oe.isMountpoint(n))throw new oe.ErrnoError(10);if(!oe.isDir(n.mode))throw new oe.ErrnoError(54)}var i={type:e,opts:t,mountpoint:r,mounts:[]},a=e.mount(i);return a.mount=i,i.root=a,u?oe.root=a:n&&(n.mounted=i,n.mount&&n.mount.mounts.push(i)),a},unmount:function(e){var t=oe.lookupPath(e,{follow_mount:!1});if(!oe.isMountpoint(t.node))throw new oe.ErrnoError(28);var r=t.node,n=r.mounted,u=oe.getMounts(n);Object.keys(oe.nameTable).forEach((function(e){for(var t=oe.nameTable[e];t;){var r=t.name_next;u.includes(t.mount)&&oe.destroyNode(t),t=r}})),r.mounted=null;var d=r.mount.mounts.indexOf(n);r.mount.mounts.splice(d,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=oe.lookupPath(e,{parent:!0}).node,u=te.basename(e);if(!u||"."===u||".."===u)throw new oe.ErrnoError(28);var d=oe.mayCreate(n,u);if(d)throw new oe.ErrnoError(d);if(!n.node_ops.mknod)throw new oe.ErrnoError(63);return n.node_ops.mknod(n,u,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,oe.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,oe.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",u=0;u<r.length;++u)if(r[u]){n+="/"+r[u];try{oe.mkdir(n,t)}catch(d){if(20!=d.errno)throw d}}},mkdev:function(e,t,r){return void 0===r&&(r=t,t=438),t|=8192,oe.mknod(e,t,r)},symlink:function(e,t){if(!re.resolve(e))throw new oe.ErrnoError(44);var r=oe.lookupPath(t,{parent:!0}).node;if(!r)throw new oe.ErrnoError(44);var n=te.basename(t),u=oe.mayCreate(r,n);if(u)throw new oe.ErrnoError(u);if(!r.node_ops.symlink)throw new oe.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename:function(e,t){var r,n,u=te.dirname(e),d=te.dirname(t),o=te.basename(e),i=te.basename(t);if(r=oe.lookupPath(e,{parent:!0}).node,n=oe.lookupPath(t,{parent:!0}).node,!r||!n)throw new oe.ErrnoError(44);if(r.mount!==n.mount)throw new oe.ErrnoError(75);var a,s=oe.lookupNode(r,o),c=re.relative(e,d);if("."!==c.charAt(0))throw new oe.ErrnoError(28);if("."!==(c=re.relative(t,u)).charAt(0))throw new oe.ErrnoError(55);try{a=oe.lookupNode(n,i)}catch(h){}if(s!==a){var f=oe.isDir(s.mode),l=oe.mayDelete(r,o,f);if(l)throw new oe.ErrnoError(l);if(l=a?oe.mayDelete(n,i,f):oe.mayCreate(n,i))throw new oe.ErrnoError(l);if(!r.node_ops.rename)throw new oe.ErrnoError(63);if(oe.isMountpoint(s)||a&&oe.isMountpoint(a))throw new oe.ErrnoError(10);if(n!==r&&(l=oe.nodePermissions(r,"w")))throw new oe.ErrnoError(l);oe.hashRemoveNode(s);try{r.node_ops.rename(s,n,i)}catch(h){throw h}finally{oe.hashAddNode(s)}}},rmdir:function(e){var t=oe.lookupPath(e,{parent:!0}).node,r=te.basename(e),n=oe.lookupNode(t,r),u=oe.mayDelete(t,r,!0);if(u)throw new oe.ErrnoError(u);if(!t.node_ops.rmdir)throw new oe.ErrnoError(63);if(oe.isMountpoint(n))throw new oe.ErrnoError(10);t.node_ops.rmdir(t,r),oe.destroyNode(n)},readdir:function(e){var t=oe.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new oe.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=oe.lookupPath(e,{parent:!0}).node;if(!t)throw new oe.ErrnoError(44);var r=te.basename(e),n=oe.lookupNode(t,r),u=oe.mayDelete(t,r,!1);if(u)throw new oe.ErrnoError(u);if(!t.node_ops.unlink)throw new oe.ErrnoError(63);if(oe.isMountpoint(n))throw new oe.ErrnoError(10);t.node_ops.unlink(t,r),oe.destroyNode(n)},readlink:function(e){var t=oe.lookupPath(e).node;if(!t)throw new oe.ErrnoError(44);if(!t.node_ops.readlink)throw new oe.ErrnoError(28);return re.resolve(oe.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var r=oe.lookupPath(e,{follow:!t}).node;if(!r)throw new oe.ErrnoError(44);if(!r.node_ops.getattr)throw new oe.ErrnoError(63);return r.node_ops.getattr(r)},lstat:function(e){return oe.stat(e,!0)},chmod:function(e,t,r){var n;if(!(n="string"==typeof e?oe.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new oe.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,t){oe.chmod(e,t,!0)},fchmod:function(e,t){var r=oe.getStream(e);if(!r)throw new oe.ErrnoError(8);oe.chmod(r.node,t)},chown:function(e,t,r,n){var u;if(!(u="string"==typeof e?oe.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new oe.ErrnoError(63);u.node_ops.setattr(u,{timestamp:Date.now()})},lchown:function(e,t,r){oe.chown(e,t,r,!0)},fchown:function(e,t,r){var n=oe.getStream(e);if(!n)throw new oe.ErrnoError(8);oe.chown(n.node,t,r)},truncate:function(e,t){if(t<0)throw new oe.ErrnoError(28);var r;if(!(r="string"==typeof e?oe.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new oe.ErrnoError(63);if(oe.isDir(r.mode))throw new oe.ErrnoError(31);if(!oe.isFile(r.mode))throw new oe.ErrnoError(28);var n=oe.nodePermissions(r,"w");if(n)throw new oe.ErrnoError(n);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=oe.getStream(e);if(!r)throw new oe.ErrnoError(8);if(0==(2097155&r.flags))throw new oe.ErrnoError(28);oe.truncate(r.node,t)},utime:function(e,t,r){var n=oe.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(t,r)})},open:function(t,r,n,u,o){if(""===t)throw new oe.ErrnoError(44);var i;if(n=void 0===n?438:n,n=64&(r="string"==typeof r?oe.modeStringToFlags(r):r)?4095&n|32768:0,"object"===(0,d.Ac)(t))i=t;else{t=te.normalize(t);try{i=oe.lookupPath(t,{follow:!(131072&r)}).node}catch(f){}}var a=!1;if(64&r)if(i){if(128&r)throw new oe.ErrnoError(20)}else i=oe.mknod(t,n,0),a=!0;if(!i)throw new oe.ErrnoError(44);if(oe.isChrdev(i.mode)&&(r&=-513),65536&r&&!oe.isDir(i.mode))throw new oe.ErrnoError(54);if(!a){var s=oe.mayOpen(i,r);if(s)throw new oe.ErrnoError(s)}512&r&&oe.truncate(i,0),r&=-131713;var c=oe.createStream({node:i,path:oe.getPath(i),flags:r,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1},u,o);return c.stream_ops.open&&c.stream_ops.open(c),!e.logReadFiles||1&r||(oe.readFiles||(oe.readFiles={}),t in oe.readFiles||(oe.readFiles[t]=1)),c},close:function(e){if(oe.isClosed(e))throw new oe.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{oe.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(oe.isClosed(e))throw new oe.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new oe.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new oe.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,u){if(n<0||u<0)throw new oe.ErrnoError(28);if(oe.isClosed(e))throw new oe.ErrnoError(8);if(1==(2097155&e.flags))throw new oe.ErrnoError(8);if(oe.isDir(e.node.mode))throw new oe.ErrnoError(31);if(!e.stream_ops.read)throw new oe.ErrnoError(28);var d=void 0!==u;if(d){if(!e.seekable)throw new oe.ErrnoError(70)}else u=e.position;var o=e.stream_ops.read(e,t,r,n,u);return d||(e.position+=o),o},write:function(e,t,r,n,u,d){if(n<0||u<0)throw new oe.ErrnoError(28);if(oe.isClosed(e))throw new oe.ErrnoError(8);if(0==(2097155&e.flags))throw new oe.ErrnoError(8);if(oe.isDir(e.node.mode))throw new oe.ErrnoError(31);if(!e.stream_ops.write)throw new oe.ErrnoError(28);e.seekable&&1024&e.flags&&oe.llseek(e,0,2);var o=void 0!==u;if(o){if(!e.seekable)throw new oe.ErrnoError(70)}else u=e.position;var i=e.stream_ops.write(e,t,r,n,u,d);return o||(e.position+=i),i},allocate:function(e,t,r){if(oe.isClosed(e))throw new oe.ErrnoError(8);if(t<0||r<=0)throw new oe.ErrnoError(28);if(0==(2097155&e.flags))throw new oe.ErrnoError(8);if(!oe.isFile(e.node.mode)&&!oe.isDir(e.node.mode))throw new oe.ErrnoError(43);if(!e.stream_ops.allocate)throw new oe.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,u,d){if(0!=(2&u)&&0==(2&d)&&2!=(2097155&e.flags))throw new oe.ErrnoError(2);if(1==(2097155&e.flags))throw new oe.ErrnoError(2);if(!e.stream_ops.mmap)throw new oe.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,u,d)},msync:function(e,t,r,n,u){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,u):0},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new oe.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.flags=r.flags||0,r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var n=oe.open(e,r.flags),u=oe.stat(e).size,d=new Uint8Array(u);return oe.read(n,d,0,u,0),"utf8"===r.encoding?t=F(d,0):"binary"===r.encoding&&(t=d),oe.close(n),t},writeFile:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.flags=r.flags||577;var n=oe.open(e,r.flags,r.mode);if("string"==typeof t){var u=new Uint8Array(O(t)+1),d=P(t,u,0,u.length);oe.write(n,u,0,d,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");oe.write(n,t,0,t.byteLength,void 0,r.canOwn)}oe.close(n)},cwd:function(){return oe.currentPath},chdir:function(e){var t=oe.lookupPath(e,{follow:!0});if(null===t.node)throw new oe.ErrnoError(44);if(!oe.isDir(t.node.mode))throw new oe.ErrnoError(54);var r=oe.nodePermissions(t.node,"x");if(r)throw new oe.ErrnoError(r);oe.currentPath=t.path},createDefaultDirectories:function(){oe.mkdir("/tmp"),oe.mkdir("/home"),oe.mkdir("/home/web_user")},createDefaultDevices:function(){oe.mkdir("/dev"),oe.registerDevice(oe.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n,u){return n}}),oe.mkdev("/dev/null",oe.makedev(1,3)),ne.register(oe.makedev(5,0),ne.default_tty_ops),ne.register(oe.makedev(6,0),ne.default_tty1_ops),oe.mkdev("/dev/tty",oe.makedev(5,0)),oe.mkdev("/dev/tty1",oe.makedev(6,0));var e=function(){if("object"===("undefined"==typeof crypto?"undefined":(0,d.Ac)(crypto))&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){q("randomDevice")}}();oe.createDevice("/dev","random",e),oe.createDevice("/dev","urandom",e),oe.mkdir("/dev/shm"),oe.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){oe.mkdir("/proc");var e=oe.mkdir("/proc/self");oe.mkdir("/proc/self/fd"),oe.mount({mount:function(){var t=oe.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var r=+t,n=oe.getStream(r);if(!n)throw new oe.ErrnoError(8);var u={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return u.parent=u,u}},t}},{},"/proc/self/fd")},createStandardStreams:function(){e.stdin?oe.createDevice("/dev","stdin",e.stdin):oe.symlink("/dev/tty","/dev/stdin"),e.stdout?oe.createDevice("/dev","stdout",null,e.stdout):oe.symlink("/dev/tty","/dev/stdout"),e.stderr?oe.createDevice("/dev","stderr",null,e.stderr):oe.symlink("/dev/tty1","/dev/stderr"),oe.open("/dev/stdin",0),oe.open("/dev/stdout",1),oe.open("/dev/stderr",1)},ensureErrnoError:function(){oe.ErrnoError||(oe.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},oe.ErrnoError.prototype=new Error,oe.ErrnoError.prototype.constructor=oe.ErrnoError,[44].forEach((function(e){oe.genericErrors[e]=new oe.ErrnoError(e),oe.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){oe.ensureErrnoError(),oe.nameTable=new Array(4096),oe.mount(ue,{},"/"),oe.createDefaultDirectories(),oe.createDefaultDevices(),oe.createSpecialDirectories(),oe.filesystems={MEMFS:ue}},init:function(t,r,n){oe.init.initialized=!0,oe.ensureErrnoError(),e.stdin=t||e.stdin,e.stdout=r||e.stdout,e.stderr=n||e.stderr,oe.createStandardStreams()},quit:function(){oe.init.initialized=!1;for(var e=0;e<oe.streams.length;e++){var t=oe.streams[e];t&&oe.close(t)}},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},findObject:function(e,t){var r=oe.analyzePath(e,t);return r.exists?r.object:null},analyzePath:function(e,t){try{e=(n=oe.lookupPath(e,{follow:!t})).path}catch(u){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=oe.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=te.basename(e),n=oe.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(u){r.error=u.errno}return r},createPath:function(e,t,r,n){e="string"==typeof e?e:oe.getPath(e);for(var u=t.split("/").reverse();u.length;){var d=u.pop();if(d){var o=te.join2(e,d);try{oe.mkdir(o)}catch(i){}e=o}}return o},createFile:function(e,t,r,n,u){var d=te.join2("string"==typeof e?e:oe.getPath(e),t),o=oe.getMode(n,u);return oe.create(d,o)},createDataFile:function(e,t,r,n,u,d){var o=t;e&&(e="string"==typeof e?e:oe.getPath(e),o=t?te.join2(e,t):e);var i=oe.getMode(n,u),a=oe.create(o,i);if(r){if("string"==typeof r){for(var s=new Array(r.length),c=0,f=r.length;c<f;++c)s[c]=r.charCodeAt(c);r=s}oe.chmod(a,146|i);var l=oe.open(a,577);oe.write(l,r,0,r.length,0,d),oe.close(l),oe.chmod(a,i)}return a},createDevice:function(e,t,r,n){var u=te.join2("string"==typeof e?e:oe.getPath(e),t),d=oe.getMode(!!r,!!n);oe.createDevice.major||(oe.createDevice.major=64);var o=oe.makedev(oe.createDevice.major++,0);return oe.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,u,d){for(var o=0,i=0;i<u;i++){var a;try{a=r()}catch(s){throw new oe.ErrnoError(29)}if(void 0===a&&0===o)throw new oe.ErrnoError(6);if(null==a)break;o++,t[n+i]=a}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,u,d){for(var o=0;o<u;o++)try{n(t[r+o])}catch(i){throw new oe.ErrnoError(29)}return u&&(e.node.timestamp=Date.now()),o}}),oe.mkdev(u,d,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!o)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Fe(o(e.url),!0),e.usedBytes=e.contents.length}catch(t){throw new oe.ErrnoError(29)}},createLazyFile:function(e,t,r,n,u){function d(){this.lengthKnown=!1,this.chunks=[]}if(d.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}},d.prototype.setDataGetter=function(e){this.getter=e},d.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),u=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,d=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;u||(o=n);var i=this;i.setDataGetter((function(e){var t=e*o,u=(e+1)*o-1;if(u=Math.min(u,n-1),"undefined"==typeof i.chunks[e]&&(i.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var u=new XMLHttpRequest;if(u.open("GET",r,!1),n!==o&&u.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(u.responseType="arraybuffer"),u.overrideMimeType&&u.overrideMimeType("text/plain; charset=x-user-defined"),u.send(null),!(u.status>=200&&u.status<300||304===u.status))throw new Error("Couldn't load "+r+". Status: "+u.status);return void 0!==u.response?new Uint8Array(u.response||[]):Fe(u.responseText||"",!0)}(t,u)),"undefined"==typeof i.chunks[e])throw new Error("doXHR failed!");return i.chunks[e]})),!d&&n||(o=n=1,n=this.getter(0).length,o=n,p("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o={isDevice:!1,url:r},i=oe.createFile(e,t,o,n,u);o.contents?i.contents=o.contents:o.url&&(i.contents=null,i.url=o.url),Object.defineProperties(i,{usedBytes:{get:function(){return this.contents.length}}});var a={};return Object.keys(i.stream_ops).forEach((function(e){var t=i.stream_ops[e];a[e]=function(){return oe.forceLoadFile(i),t.apply(null,arguments)}})),a.read=function(e,t,r,n,u){oe.forceLoadFile(i);var d=e.node.contents;if(u>=d.length)return 0;var o=Math.min(d.length-u,n);if(d.slice)for(var a=0;a<o;a++)t[r+a]=d[u+a];else for(a=0;a<o;a++)t[r+a]=d.get(u+a);return o},i.stream_ops=a,i},createPreloadedFile:function(e,t,r,n,u,d,o,i,a,s){var c=t?re.resolve(te.join2(e,t)):e;function f(r){function f(r){s&&s(),i||oe.createDataFile(e,t,r,n,u,a),d&&d(),G()}Browser.handledByPreloadPlugin(r,c,f,(function(){o&&o(),G()}))||f(r)}z(),"string"==typeof r?de(r,(function(e){return f(e)}),o):f(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=oe.indexedDB();try{var u=n.open(oe.DB_NAME(),oe.DB_VERSION)}catch(d){return r(d)}u.onupgradeneeded=function(){p("creating db"),u.result.createObjectStore(oe.DB_STORE_NAME)},u.onsuccess=function(){var n=u.result.transaction([oe.DB_STORE_NAME],"readwrite"),d=n.objectStore(oe.DB_STORE_NAME),o=0,i=0,a=e.length;function s(){0==i?t():r()}e.forEach((function(e){var t=d.put(oe.analyzePath(e).object.contents,e);t.onsuccess=function(){++o+i==a&&s()},t.onerror=function(){i++,o+i==a&&s()}})),n.onerror=r},u.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=oe.indexedDB();try{var u=n.open(oe.DB_NAME(),oe.DB_VERSION)}catch(d){return r(d)}u.onupgradeneeded=r,u.onsuccess=function(){var n=u.result;try{var o=n.transaction([oe.DB_STORE_NAME],"readonly")}catch(d){return void r(d)}var i=o.objectStore(oe.DB_STORE_NAME),a=0,s=0,c=e.length;function f(){0==s?t():r()}e.forEach((function(e){var t=i.get(e);t.onsuccess=function(){oe.analyzePath(e).exists&&oe.unlink(e),oe.createDataFile(te.dirname(e),te.basename(e),t.result,!0,!0,!0),++a+s==c&&f()},t.onerror=function(){s++,a+s==c&&f()}})),o.onerror=r},u.onerror=r}},ie={mappings:{},DEFAULT_POLLMASK:5,calculateAt:function(e,t,r){if("/"===t[0])return t;var n;if(-100===e)n=oe.cwd();else{var u=oe.getStream(e);if(!u)throw new oe.ErrnoError(8);n=u.path}if(0==t.length){if(!r)throw new oe.ErrnoError(44);return n}return te.join2(n,t)},doStat:function(e,t,r){try{var n=e(t)}catch(u){if(u&&u.node&&te.normalize(t)!==te.normalize(oe.getPath(u.node)))return-54;throw u}return S[r>>2]=n.dev,S[r+4>>2]=0,S[r+8>>2]=n.ino,S[r+12>>2]=n.mode,S[r+16>>2]=n.nlink,S[r+20>>2]=n.uid,S[r+24>>2]=n.gid,S[r+28>>2]=n.rdev,S[r+32>>2]=0,Q=[n.size>>>0,(X=n.size,+Math.abs(X)>=1?X>0?(0|Math.min(+Math.floor(X/4294967296),4294967295))>>>0:~~+Math.ceil((X-+(~~X>>>0))/4294967296)>>>0:0)],S[r+40>>2]=Q[0],S[r+44>>2]=Q[1],S[r+48>>2]=4096,S[r+52>>2]=n.blocks,S[r+56>>2]=n.atime.getTime()/1e3|0,S[r+60>>2]=0,S[r+64>>2]=n.mtime.getTime()/1e3|0,S[r+68>>2]=0,S[r+72>>2]=n.ctime.getTime()/1e3|0,S[r+76>>2]=0,Q=[n.ino>>>0,(X=n.ino,+Math.abs(X)>=1?X>0?(0|Math.min(+Math.floor(X/4294967296),4294967295))>>>0:~~+Math.ceil((X-+(~~X>>>0))/4294967296)>>>0:0)],S[r+80>>2]=Q[0],S[r+84>>2]=Q[1],0},doMsync:function(e,t,r,n,u){var d=E.slice(e,e+r);oe.msync(t,d,u,r,n)},doMkdir:function(e,t){return"/"===(e=te.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),oe.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return oe.mknod(e,t,r),0},doReadlink:function(e,t,r){if(r<=0)return-28;var n=oe.readlink(e),u=Math.min(r,O(n)),d=w[t+u];return T(n,t,r+1),w[t+u]=d,u},doAccess:function(e,t){if(-8&t)return-28;var r=oe.lookupPath(e,{follow:!0}).node;if(!r)return-44;var n="";return 4&t&&(n+="r"),2&t&&(n+="w"),1&t&&(n+="x"),n&&oe.nodePermissions(r,n)?-2:0},doDup:function(e,t,r){var n=oe.getStream(r);return n&&oe.close(n),oe.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){for(var u=0,d=0;d<r;d++){var o=S[t+8*d>>2],i=S[t+(8*d+4)>>2],a=oe.read(e,w,o,i,n);if(a<0)return-1;if(u+=a,a<i)break}return u},doWritev:function(e,t,r,n){for(var u=0,d=0;d<r;d++){var o=S[t+8*d>>2],i=S[t+(8*d+4)>>2],a=oe.write(e,w,o,i,n);if(a<0)return-1;u+=a}return u},varargs:void 0,get:function(){return ie.varargs+=4,S[ie.varargs-4>>2]},getStr:function(e){return M(e)},getStreamFromFD:function(e){var t=oe.getStream(e);if(!t)throw new oe.ErrnoError(8);return t},get64:function(e,t){return e}};function ae(e){try{return m.grow(e-b.byteLength+65535>>>16),I(m.buffer),1}catch(t){}}var se={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],samplers:[],transformFeedbacks:[],syncs:[],stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function(e){se.lastError||(se.lastError=e)},getNewId:function(e){for(var t=se.counter++,r=e.length;r<t;r++)e[r]=null;return t},getSource:function(e,t,r,n){for(var u="",d=0;d<t;++d){var o=n?S[n+4*d>>2]:-1;u+=M(S[r+4*d>>2],o<0?void 0:o)}return u},createContext:function(e,t){e.getContextSafariWebGL2Fixed||(e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=function(t,r){var n=e.getContextSafariWebGL2Fixed(t,r);return"webgl"==t==n instanceof WebGLRenderingContext?n:null});var r=e.getContext("webgl2",t);return r?se.registerContext(r,t):0},registerContext:function(e,t){var r=se.getNewId(se.contexts),n={handle:r,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),se.contexts[r]=n,("undefined"==typeof t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&se.initExtensions(n),r},makeContextCurrent:function(t){return se.currentContext=se.contexts[t],e.ctx=xe=se.currentContext&&se.currentContext.GLctx,!(t&&!xe)},getContext:function(e){return se.contexts[e]},deleteContext:function(e){se.currentContext===se.contexts[e]&&(se.currentContext=null),"object"===(0,d.Ac)(ce)&&ce.removeAllHandlersOnTarget(se.contexts[e].GLctx.canvas),se.contexts[e]&&se.contexts[e].GLctx.canvas&&(se.contexts[e].GLctx.canvas.GLctxObject=void 0),se.contexts[e]=null},initExtensions:function(e){if(e||(e=se.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t,r=e.GLctx;(t=r).dibvbi=t.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),function(e){e.mdibvbi=e.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance")}(r),e.version>=2&&(r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query_webgl2")),(e.version<2||!r.disjointTimerQueryExt)&&(r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query")),function(e){e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw")}(r),(r.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||r.getExtension(e)}))}}},ce={inEventHandler:0,removeAllEventListeners:function(){for(var e=ce.eventHandlers.length-1;e>=0;--e)ce._removeHandler(e);ce.eventHandlers=[],ce.deferredCalls=[]},registerRemoveEventListeners:function(){ce.removeEventListenersRegistered||(H.push(ce.removeAllEventListeners),ce.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,r){function n(e,t){if(e.length!=t.length)return!1;for(var r in e)if(e[r]!=t[r])return!1;return!0}for(var u in ce.deferredCalls){var d=ce.deferredCalls[u];if(d.targetFunction==e&&n(d.argsList,r))return}ce.deferredCalls.push({targetFunction:e,precedence:t,argsList:r}),ce.deferredCalls.sort((function(e,t){return e.precedence<t.precedence}))},removeDeferredCalls:function(e){for(var t=0;t<ce.deferredCalls.length;++t)ce.deferredCalls[t].targetFunction==e&&(ce.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return ce.inEventHandler&&ce.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(ce.canPerformEventHandlerRequests())for(var e=0;e<ce.deferredCalls.length;++e){var t=ce.deferredCalls[e];ce.deferredCalls.splice(e,1),--e,t.targetFunction.apply(null,t.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,t){for(var r=0;r<ce.eventHandlers.length;++r)ce.eventHandlers[r].target!=e||t&&t!=ce.eventHandlers[r].eventTypeString||ce._removeHandler(r--)},_removeHandler:function(e){var t=ce.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),ce.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var t=function(t){++ce.inEventHandler,ce.currentEventHandler=e,ce.runDeferredCalls(),e.handlerFunc(t),ce.runDeferredCalls(),--ce.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),ce.eventHandlers.push(e),ce.registerRemoveEventListeners();else for(var r=0;r<ce.eventHandlers.length;++r)ce.eventHandlers[r].target==e.target&&ce.eventHandlers[r].eventTypeString==e.eventTypeString&&ce._removeHandler(r--)},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}},fe=["default","low-power","high-performance"],le=[0,document,window];function he(e){var t;return e=(t=e)>2?M(t):t,le[e]||document.querySelector(e)}function me(e,t){var r=t>>2,n=S[r+6],u={alpha:!!S[r+0],depth:!!S[r+1],stencil:!!S[r+2],antialias:!!S[r+3],premultipliedAlpha:!!S[r+4],preserveDrawingBuffer:!!S[r+5],powerPreference:fe[n],failIfMajorPerformanceCaveat:!!S[r+7],majorVersion:S[r+8],minorVersion:S[r+9],enableExtensionsByDefault:S[r+10],explicitSwapControl:S[r+11],proxyContextToMainThread:S[r+12],renderViaOffscreenBackBuffer:S[r+13]},d=function(e){return he(e)}(e);return d?u.explicitSwapControl?0:se.createContext(d,u):0}var pe={};function ve(){if(!ve.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===("undefined"==typeof navigator?"undefined":(0,d.Ac)(navigator))&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(var t in pe)void 0===pe[t]?delete e[t]:e[t]=pe[t];var r=[];for(var t in e)r.push(t+"="+e[t]);ve.strings=r}return ve.strings}var _e=[];function ge(e,t,r,n){for(var u=0;u<e;u++){var d=xe[r](),o=d&&se.getNewId(n);d?(d.name=o,n[o]=d):se.recordError(1282),S[t+4*u>>2]=o}}function ye(e,t,r){if(t){var n,u,o=void 0;switch(e){case 36346:o=1;break;case 36344:return void(0!=r&&1!=r&&se.recordError(1280));case 34814:case 36345:o=0;break;case 34466:var i=xe.getParameter(34467);o=i?i.length:0;break;case 33309:if(se.currentContext.version<2)return void se.recordError(1282);o=2*(xe.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(se.currentContext.version<2)return void se.recordError(1280);o=33307==e?3:0}if(void 0===o){var a=xe.getParameter(e);switch((0,d.Ac)(a)){case"number":o=a;break;case"boolean":o=a?1:0;break;case"string":return void se.recordError(1280);case"object":if(null===a)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:o=0;break;default:return void se.recordError(1280)}else{if(a instanceof Float32Array||a instanceof Uint32Array||a instanceof Int32Array||a instanceof Array){for(var s=0;s<a.length;++s)switch(r){case 0:S[t+4*s>>2]=a[s];break;case 2:R[t+4*s>>2]=a[s];break;case 4:w[t+s>>0]=a[s]?1:0}return}try{o=0|a.name}catch(c){return se.recordError(1280),void v("GL_INVALID_ENUM in glGet"+r+"v: Unknown object returned from WebGL getParameter("+e+")! (error: "+c+")")}}break;default:return se.recordError(1280),void v("GL_INVALID_ENUM in glGet"+r+"v: Native code calling glGet"+r+"v("+e+") and it returns "+a+" of type "+(0,d.Ac)(a)+"!")}}switch(r){case 1:u=o,x[(n=t)>>2]=u,x[n+4>>2]=(u-x[n>>2])/4294967296;break;case 0:S[t>>2]=o;break;case 2:R[t>>2]=o;break;case 4:w[t>>0]=o?1:0}}else se.recordError(1281)}function be(e){return"]"==e.slice(-1)&&e.lastIndexOf("[")}function we(e){return e%4==0&&(e%100!=0||e%400==0)}function Ee(e,t){for(var r=0,n=0;n<=t;r+=e[n++]);return r}var ke=[31,29,31,30,31,30,31,31,30,31,30,31],Ce=[31,28,31,30,31,30,31,31,30,31,30,31];function Se(e,t){for(var r=new Date(e.getTime());t>0;){var n=we(r.getFullYear()),u=r.getMonth(),d=(n?ke:Ce)[u];if(!(t>d-r.getDate()))return r.setDate(r.getDate()+t),r;t-=d-r.getDate()+1,r.setDate(1),u<11?r.setMonth(u+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r}var xe,Re=function(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=oe.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n},Le=365,Ae=146;Object.defineProperties(Re.prototype,{read:{get:function(){return(this.mode&Le)===Le},set:function(e){e?this.mode|=Le:this.mode&=-366}},write:{get:function(){return(this.mode&Ae)===Ae},set:function(e){e?this.mode|=Ae:this.mode&=-147}},isFolder:{get:function(){return oe.isDir(this.mode)}},isDevice:{get:function(){return oe.isChrdev(this.mode)}}}),oe.FSNode=Re,oe.staticInit();for(var De=0;De<32;++De)_e.push(new Array(De));function Fe(e,t,r){var n=r>0?r:O(e)+1,u=new Array(n),d=P(e,u,0,u.length);return t&&(u.length=d),u}var Me={P:function(e){return Te(e+16)+16},O:function(e,t,r){throw new ee(e).init(t,r),e},H:function(e,t,r){ie.varargs=r;try{var n=ie.getStreamFromFD(e);switch(t){case 0:return(u=ie.get())<0?-28:oe.open(n.path,n.flags,0,u).fd;case 1:case 2:case 6:case 7:return 0;case 3:return n.flags;case 4:var u=ie.get();return n.flags|=u,0;case 5:return u=ie.get(),k[u+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return d=28,S[Pe()>>2]=d,-1}}catch(o){if(void 0===oe||!(o instanceof oe.ErrnoError))throw o;return-o.errno}var d},W:function(e,t,r){ie.varargs=r;try{var n=ie.getStreamFromFD(e);switch(t){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var u=ie.get();return S[u>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:return u=ie.get(),oe.ioctl(n,t,u);default:q("bad ioctl syscall "+t)}}catch(d){if(void 0===oe||!(d instanceof oe.ErrnoError))throw d;return-d.errno}},Z:function(e,t,r){ie.varargs=r;try{var n=ie.getStr(e),u=r?ie.get():0;return oe.open(n,t,u).fd}catch(d){if(void 0===oe||!(d instanceof oe.ErrnoError))throw d;return-d.errno}},F:function(){q("")},da:function(t){var r=e.GL.contexts[t].GLctx;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e.video)},_:function(e,t,r){E.copyWithin(e,t,t+r)},Y:function(e){var t,r,n=E.length,u=2147483648;if((e>>>=0)>u)return!1;for(var d=1;d<=4;d*=2){var o=n*(1+.2/d);if(o=Math.min(o,e+100663296),ae(Math.min(u,((t=Math.max(e,o))%(r=65536)>0&&(t+=r-t%r),t))))return!0}return!1},X:function(e,t){return me(e,t)},E:function(e){return se.makeContextCurrent(e)?0:-5},T:function(e,t){var r=0;return ve().forEach((function(n,u){var d=t+r;S[e+4*u>>2]=d,function(e,t,r){for(var n=0;n<e.length;++n)w[t++>>0]=e.charCodeAt(n);r||(w[t>>0]=0)}(n,d),r+=n.length+1})),0},U:function(e,t){var r=ve();S[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),S[t>>2]=n,0},G:function(e){try{var t=ie.getStreamFromFD(e);return oe.close(t),0}catch(r){if(void 0===oe||!(r instanceof oe.ErrnoError))throw r;return r.errno}},V:function(e,t,r,n){try{var u=ie.getStreamFromFD(e),d=ie.doReadv(u,t,r);return S[n>>2]=d,0}catch(o){if(void 0===oe||!(o instanceof oe.ErrnoError))throw o;return o.errno}},R:function(e,t,r,n,u){try{var d=ie.getStreamFromFD(e),o=4294967296*r+(t>>>0),i=9007199254740992;return o<=-i||o>=i?-61:(oe.llseek(d,o,n),Q=[d.position>>>0,(X=d.position,+Math.abs(X)>=1?X>0?(0|Math.min(+Math.floor(X/4294967296),4294967295))>>>0:~~+Math.ceil((X-+(~~X>>>0))/4294967296)>>>0:0)],S[u>>2]=Q[0],S[u+4>>2]=Q[1],d.getdents&&0===o&&0===n&&(d.getdents=null),0)}catch(a){if(void 0===oe||!(a instanceof oe.ErrnoError))throw a;return a.errno}},I:function(e,t,r,n){try{var u=ie.getStreamFromFD(e),d=ie.doWritev(u,t,r);return S[n>>2]=d,0}catch(o){if(void 0===oe||!(o instanceof oe.ErrnoError))throw o;return o.errno}},f:function(e){xe.activeTexture(e)},p:function(e,t){xe.attachShader(se.programs[e],se.shaders[t])},a:function(e,t){35051==e?xe.currentPixelPackBufferBinding=t:35052==e&&(xe.currentPixelUnpackBufferBinding=t),xe.bindBuffer(e,se.buffers[t])},e:function(e,t){xe.bindFramebuffer(e,se.framebuffers[t])},b:function(e,t){xe.bindTexture(e,se.textures[t])},s:function(e,t,r,n){r?xe.bufferData(e,E,n,r,t):xe.bufferData(e,t,n)},ca:function(e){xe.clear(e)},y:function(e){xe.compileShader(se.shaders[e])},u:function(){var e=se.getNewId(se.programs),t=xe.createProgram();return t.name=e,t.maxUniformLength=t.maxAttributeLength=t.maxUniformBlockNameLength=0,t.uniformIdCounter=1,se.programs[e]=t,e},C:function(e){var t=se.getNewId(se.shaders);return se.shaders[t]=xe.createShader(e),t},J:function(e,t){for(var r=0;r<e;++r){var n=S[t+4*r>>2],u=se.framebuffers[n];u&&(xe.deleteFramebuffer(u),u.name=0,se.framebuffers[n]=null)}},K:function(e){if(e){var t=se.programs[e];t?(xe.deleteProgram(t),t.name=0,se.programs[e]=null):se.recordError(1281)}},q:function(e){if(e){var t=se.shaders[e];t?(xe.deleteShader(t),se.shaders[e]=null):se.recordError(1281)}},i:function(e,t){for(var r=0;r<e;r++){var n=S[t+4*r>>2],u=se.textures[n];u&&(xe.deleteTexture(u),u.name=0,se.textures[n]=null)}},v:function(e){xe.disableVertexAttribArray(e)},L:function(e,t){for(var r=_e[e],n=0;n<e;n++)r[n]=S[t+4*n>>2];xe.drawBuffers(r)},w:function(e,t,r,n){xe.drawElements(e,t,r,n)},m:function(e){xe.enableVertexAttribArray(e)},k:function(e,t,r,n,u){xe.framebufferTexture2D(e,t,r,se.textures[n],u)},t:function(e,t){ge(e,t,"createBuffer",se.buffers)},M:function(e,t){ge(e,t,"createFramebuffer",se.framebuffers)},A:function(e,t){ge(e,t,"createTexture",se.textures)},o:function(e,t){return xe.getAttribLocation(se.programs[e],M(t))},c:function(){var e=xe.getError()||se.lastError;return se.lastError=0,e},$:function(e,t){ye(e,t,0)},aa:function(e,t,r,n,u){se.recordError(1282)},N:function(e,t,r,n){var u=xe.getProgramInfoLog(se.programs[e]);null===u&&(u="(unknown error)");var d=t>0&&n?T(u,n,t):0;r&&(S[r>>2]=d)},r:function(e,t,r){if(r)if(e>=se.counter)se.recordError(1281);else if(e=se.programs[e],35716==t){var n=xe.getProgramInfoLog(e);null===n&&(n="(unknown error)"),S[r>>2]=n.length+1}else if(35719==t){if(!e.maxUniformLength)for(var u=0;u<xe.getProgramParameter(e,35718);++u)e.maxUniformLength=Math.max(e.maxUniformLength,xe.getActiveUniform(e,u).name.length+1);S[r>>2]=e.maxUniformLength}else if(35722==t){if(!e.maxAttributeLength)for(u=0;u<xe.getProgramParameter(e,35721);++u)e.maxAttributeLength=Math.max(e.maxAttributeLength,xe.getActiveAttrib(e,u).name.length+1);S[r>>2]=e.maxAttributeLength}else if(35381==t){if(!e.maxUniformBlockNameLength)for(u=0;u<xe.getProgramParameter(e,35382);++u)e.maxUniformBlockNameLength=Math.max(e.maxUniformBlockNameLength,xe.getActiveUniformBlockName(e,u).length+1);S[r>>2]=e.maxUniformBlockNameLength}else S[r>>2]=xe.getProgramParameter(e,t);else se.recordError(1281)},j:function(e,t,r,n){var u=xe.getShaderInfoLog(se.shaders[e]);null===u&&(u="(unknown error)");var d=t>0&&n?T(u,n,t):0;r&&(S[r>>2]=d)},l:function(e,t,r){if(r)if(35716==t){var n=xe.getShaderInfoLog(se.shaders[e]);null===n&&(n="(unknown error)");var u=n?n.length+1:0;S[r>>2]=u}else if(35720==t){var d=xe.getShaderSource(se.shaders[e]),o=d?d.length+1:0;S[r>>2]=o}else S[r>>2]=xe.getShaderParameter(se.shaders[e],t);else se.recordError(1281)},g:function(e,t){if(t=M(t),e=se.programs[e]){!function(e){var t,r,n=e.uniformLocsById,u=e.uniformSizeAndIdsByName;if(!n)for(e.uniformLocsById=n={},e.uniformArrayNamesById={},t=0;t<xe.getProgramParameter(e,35718);++t){var d=xe.getActiveUniform(e,t),o=d.name,i=d.size,a=be(o),s=a>0?o.slice(0,a):o,c=e.uniformIdCounter;for(e.uniformIdCounter+=i,u[s]=[i,c],r=0;r<i;++r)n[c]=r,e.uniformArrayNamesById[c++]=s}}(e);var r=e.uniformLocsById,n=0,u=t,d=be(t);d>0&&(i=t.slice(d+1),n=parseInt(i)>>>0,u=t.slice(0,d));var o=e.uniformSizeAndIdsByName[u];if(o&&n<o[0]&&(r[n+=o[1]]=r[n]||xe.getUniformLocation(e,t)))return n}else se.recordError(1281);var i;return-1},D:function(e){e=se.programs[e],xe.linkProgram(e),e.uniformLocsById=0,e.uniformSizeAndIdsByName={}},ba:function(e,t,r,n){se.recordError(1280)},B:function(e,t,r,n){var u=se.getSource(e,t,r,n);xe.shaderSource(se.shaders[e],u)},Q:function(e,t,r,n,u,d,o,i,a){if(xe.currentPixelUnpackBufferBinding)xe.texImage2D(e,t,r,n,u,d,o,i,a);else if(a){var s=function(e){return 0==(e-=5120)?w:1==e?E:2==e?k:4==e?S:6==e?R:5==e||28922==e||28520==e||30779==e||30782==e?x:C}(i);xe.texImage2D(e,t,r,n,u,d,o,i,s,a>>function(e){return 31-Math.clz32(e.BYTES_PER_ELEMENT)}(s))}else xe.texImage2D(e,t,r,n,u,d,o,i,null)},d:function(e,t,r){xe.texParameteri(e,t,r)},h:function(e,t){xe.uniform1i(function(e){var t=xe.currentProgram;if(t){var r=t.uniformLocsById[e];return"number"==typeof r&&(t.uniformLocsById[e]=r=xe.getUniformLocation(t,t.uniformArrayNamesById[e]+(r>0?"["+r+"]":""))),r}se.recordError(1282)}(e),t)},z:function(e){e=se.programs[e],xe.useProgram(e),xe.currentProgram=e},ea:function(e){xe.validateProgram(se.programs[e])},n:function(e,t,r,n,u,d){xe.vertexAttribPointer(e,t,r,!!n,u,d)},x:function(e,t,r,n){xe.viewport(e,t,r,n)},S:function(e,t,r,n){return function(e,t,r,n){var u=S[n+40>>2],d={tm_sec:S[n>>2],tm_min:S[n+4>>2],tm_hour:S[n+8>>2],tm_mday:S[n+12>>2],tm_mon:S[n+16>>2],tm_year:S[n+20>>2],tm_wday:S[n+24>>2],tm_yday:S[n+28>>2],tm_isdst:S[n+32>>2],tm_gmtoff:S[n+36>>2],tm_zone:u?M(u):""},o=M(r),i={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var a in i)o=o.replace(new RegExp(a,"g"),i[a]);var s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(e,t,r){for(var n="number"==typeof e?e.toString():e||"";n.length<t;)n=r[0]+n;return n}function l(e,t){return f(e,t,"0")}function h(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function m(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function p(e){var t=Se(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),u=m(r),d=m(n);return h(u,t)<=0?h(d,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var v={"%a":function(e){return s[e.tm_wday].substring(0,3)},"%A":function(e){return s[e.tm_wday]},"%b":function(e){return c[e.tm_mon].substring(0,3)},"%B":function(e){return c[e.tm_mon]},"%C":function(e){return l((e.tm_year+1900)/100|0,2)},"%d":function(e){return l(e.tm_mday,2)},"%e":function(e){return f(e.tm_mday,2," ")},"%g":function(e){return p(e).toString().substring(2)},"%G":function(e){return p(e)},"%H":function(e){return l(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),l(t,2)},"%j":function(e){return l(e.tm_mday+Ee(we(e.tm_year+1900)?ke:Ce,e.tm_mon-1),3)},"%m":function(e){return l(e.tm_mon+1,2)},"%M":function(e){return l(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return l(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),r=0===t.getDay()?t:Se(t,7-t.getDay()),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(h(r,n)<0){var u=Ee(we(n.getFullYear())?ke:Ce,n.getMonth()-1)-31,d=31-r.getDate()+u+n.getDate();return l(Math.ceil(d/7),2)}return 0===h(r,t)?"01":"00"},"%V":function(e){var t,r=new Date(e.tm_year+1900,0,4),n=new Date(e.tm_year+1901,0,4),u=m(r),d=m(n),o=Se(new Date(e.tm_year+1900,0,1),e.tm_yday);return h(o,u)<0?"53":h(d,o)<=0?"01":(t=u.getFullYear()<e.tm_year+1900?e.tm_yday+32-u.getDate():e.tm_yday+1-u.getDate(),l(Math.ceil(t/7),2))},"%w":function(e){return e.tm_wday},"%W":function(e){var t=new Date(e.tm_year,0,1),r=1===t.getDay()?t:Se(t,0===t.getDay()?1:7-t.getDay()+1),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(h(r,n)<0){var u=Ee(we(n.getFullYear())?ke:Ce,n.getMonth()-1)-31,d=31-r.getDate()+u+n.getDate();return l(Math.ceil(d/7),2)}return 0===h(r,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,r=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(r?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var a in v)o.includes(a)&&(o=o.replace(new RegExp(a,"g"),v[a](d)));var _=Fe(o,!1);return _.length>t?0:(N(_,e),_.length-1)}(e,t,r,n)}};!function(){var t={a:Me};function n(t,r){var n,u=t.exports;e.asm=u,I((m=e.asm.fa).buffer),A=e.asm.ma,n=e.asm.ga,B.unshift(n),G()}function u(e){n(e.instance)}function d(e){return(!h&&f&&"function"==typeof fetch?fetch(Y,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Y+"'";return e.arrayBuffer()})).catch((function(){return J(Y)})):Promise.resolve().then((function(){return J(Y)}))).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(e,(function(e){v("failed to asynchronously prepare wasm: "+e),q(e)}))}if(z(),e.instantiateWasm)try{return e.instantiateWasm(t,n)}catch(o){return v("Module.instantiateWasm callback failed with error: "+o),!1}(h||"function"!=typeof WebAssembly.instantiateStreaming||Y.startsWith(Z)||"function"!=typeof fetch?d(u):fetch(Y,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(u,(function(e){return v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),d(u)}))}))).catch(r)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.ga).apply(null,arguments)},e._createContext=function(){return(e._createContext=e.asm.ha).apply(null,arguments)},e._drawFrame=function(){return(e._drawFrame=e.asm.ia).apply(null,arguments)},e._destroy=function(){return(e._destroy=e.asm.ja).apply(null,arguments)},e._getError=function(){return(e._getError=e.asm.ka).apply(null,arguments)},e._getRunInfo=function(){return(e._getRunInfo=e.asm.la).apply(null,arguments)};var Pe=e.___errno_location=function(){return(Pe=e.___errno_location=e.asm.na).apply(null,arguments)},Te=e._malloc=function(){return(Te=e._malloc=e.asm.oa).apply(null,arguments)};e._free=function(){return(e._free=e.asm.pa).apply(null,arguments)};var Oe,Ne=e.stackSave=function(){return(Ne=e.stackSave=e.asm.qa).apply(null,arguments)},Ie=e.stackRestore=function(){return(Ie=e.stackRestore=e.asm.ra).apply(null,arguments)},We=e.stackAlloc=function(){return(We=e.stackAlloc=e.asm.sa).apply(null,arguments)};function Be(r){function n(){Oe||(Oe=!0,e.calledRun=!0,_||(e.noFSInit||oe.init.initialized||oe.init(),oe.ignorePermissions=!1,K(B),t(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),function(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)t=e.postRun.shift(),j.unshift(t);var t;K(j)}()))}V>0||(function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)t=e.preRun.shift(),W.unshift(t);var t;K(W)}(),V>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),n()}),1)):n()))}if(e.cwrap=function(e,t,r,n){var u=(r=r||[]).every((function(e){return"number"===e}));return"string"!==t&&u&&!n?g(e):function(){return y(e,t,r,arguments)}},e.getValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i8";switch("*"===t.charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return w[e>>0];case"i16":return k[e>>1];case"i32":case"i64":return S[e>>2];case"float":return R[e>>2];case"double":return Number(L[e>>3]);default:q("invalid type for getValue: "+t)}return null},e.UTF8ToString=M,e.GL=se,U=function e(){Oe||Be(),Oe||(U=e)},e.run=Be,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Be(),e.ready});function h(e){return(0,d.Zj)({disabled:!1,algType:2,scaleType:m.DOUBLE_SCALE,backend:v.OPENGL,poolSize:2,maxWidth:2048,maxHeight:2048,wasmUrl:"",degradeFrameRate:.15,degradeFrameRateCount:3,canvasId:"",useVFC:!0,isSingle:!1,threshold:2,minRenderCount:20,useDelayedSR:!1},e)}var m={DOUBLE_SCALE:0,ONE_HALF_SCALE:1},p=(u={},(0,d._x)(u,m.DOUBLE_SCALE,2),(0,d._x)(u,m.ONE_HALF_SCALE,1.5),u),v={AUTO:0,CPU:1,OPENCL:2,OPENGL:3,DSP:4,VULKAN:5},_={SUCCESS:0,WASM_URL_MISS:1,WASM_INIT_FAIL:2,WASM_RENDER_FAIL:3,FPS_DEGRADE:4,SR_DISABLED:5,NOT_ACTIVE:6,NOT_PLAY:7,LIMIT_WIDTH_HEIGHT:8,WASM_NOT_READY:9,WASM_LOADED_FAILED:10,WEBGL_CONTEXT_LOST:11,HIJACK:12},g=[_.WEBGL_CONTEXT_LOST,_.WASM_URL_MISS,_.WASM_RENDER_FAIL],y={"-100":{recover:!1,msg:"\u5185\u5b58\u9519\u8bef"},"-200":{recover:!0,msg:"\u53c2\u6570\u9519\u8bef"},"-201":{recover:!0,msg:"\u672a\u521b\u5efa\u8d85\u5206\u5904\u7406\u4e0a\u4e0b\u6587"},"-300":{recover:!1,msg:"GL\u9519\u8bef"},"-600":{recover:!1,msg:"hydra\u9519\u8bef"}};function b(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return r.resolve=function(){return e.apply(void 0,arguments)},r.reject=function(){return t.apply(void 0,arguments)},r}function w(e){var t=!0,r=Object.prototype.toString,n=Function.prototype.toString;if(Array.isArray(e))t=e.reduce((function(e,t){return e&&w(t)}),t);else{var u=RegExp("^".concat(String(r).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),"$"));t="function"==typeof e&&u.test(n.call(e))}return t}function E(){return localStorage&&!!localStorage.getItem("playerlog")}function k(){return(new Date).toLocaleString()}var C=function(){function e(t){(0,d.PA)(this,e),this._enable=E(),this._logs=[],this._prefix=t}return(0,d.qH)(e,[{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;this._enable&&(console.log&&(n=console).log.apply(n,[this._prefix,k()].concat(t)));this._logs.push(t.join(","))}},{key:"logMessage",value:function(){if(this._enable){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];console.log&&(e=console).log.apply(e,[this._prefix,k()].concat(r))}}},{key:"getLogs",value:function(){return this._logs.join("\n")}}]),e}(),S={LOAD_WASM:"loadWasm",WASM_INIT:"initWasm",RENDER:"render",CALFPS:"calfps",RUNINFO:"runinfo",GETERRORRENDER:"geterrorrender",SETRUNNING:"setrunning"},x=function(){function e(){var t=this;(0,d.PA)(this,e),(0,d._x)(this,"_marks",new Map),(0,d._x)(this,"_names",Object.values(S)),this._names.forEach((function(e){t._marks.set(e,{start:0,duration:0,avg:0,count:0})}))}return(0,d.qH)(e,[{key:"mark",value:function(e){this._marks.get(e).start=performance.now()}},{key:"endMark",value:function(e){var t=this._marks.get(e);t.duration=performance.now()-t.start,t.count++,t.avg=(t.avg*(t.count-1)+t.duration)/t.count}},{key:"getStat",value:function(){var e=this,t={};return this._names.forEach((function(r){t[r]=e._marks.get(r).avg})),t}}]),e}(),R=function(){function e(t){(0,d.PA)(this,e),this.alpha_=Math.exp(Math.log(.5)/t),this.estimate_=0,this.totalWeight_=0}return(0,d.qH)(e,[{key:"updateAlpha",value:function(e){this.alpha_=Math.exp(Math.log(.5)/e)}},{key:"sample",value:function(e,t){var r=Math.pow(this.alpha_,e),n=t*(1-r)+r*this.estimate_;Number.isNaN(n)||(this.estimate_=n,this.totalWeight_+=e)}},{key:"getEstimate",value:function(){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}}]),e}(),L="sr_canvas",A="xgplayer-sr",D=null,F=0,M=function(e){(0,d.XW)(r,e);var t=(0,d.WY)(r);function r(e){var n;(0,d.PA)(this,r),n=t.call(this),(0,d._x)((0,d.Lc)(n),"_mediaPlayer",null),(0,d._x)((0,d.Lc)(n),"_superWasmModule",null),(0,d._x)((0,d.Lc)(n),"_isVideoFrameCallbackSupported",(0,s.lE)()),(0,d._x)((0,d.Lc)(n),"_readyPromise",b()),(0,d._x)((0,d.Lc)(n),"_loadDataPromise",null),(0,d._x)((0,d.Lc)(n),"_wasmReady",!1),(0,d._x)((0,d.Lc)(n),"_isCanvasAdded",!1),(0,d._x)((0,d.Lc)(n),"_canvas",null),(0,d._x)((0,d.Lc)(n),"_convasContainer",null),(0,d._x)((0,d.Lc)(n),"_opts",null),(0,d._x)((0,d.Lc)(n),"_running",!1),(0,d._x)((0,d.Lc)(n),"_forceRunning",!0),(0,d._x)((0,d.Lc)(n),"_code",_.SUCCESS),(0,d._x)((0,d.Lc)(n),"_codeMsg",""),(0,d._x)((0,d.Lc)(n),"_renderId",-1),(0,d._x)((0,d.Lc)(n),"_resizeObserver",null),(0,d._x)((0,d.Lc)(n),"_root",null),(0,d._x)((0,d.Lc)(n),"_video",null),(0,d._x)((0,d.Lc)(n),"_onRenderCallback",null),(0,d._x)((0,d.Lc)(n),"_onRenderLostCallback",null),(0,d._x)((0,d.Lc)(n),"_onSRCodeChanged",null),(0,d._x)((0,d.Lc)(n),"_logger",new C("SrCore")),(0,d._x)((0,d.Lc)(n),"_stats",new x),(0,d._x)((0,d.Lc)(n),"_hasGLLoged",!1),(0,d._x)((0,d.Lc)(n),"_isSoftVideo",!1),(0,d._x)((0,d.Lc)(n),"_dropRateEwma",new R(10)),(0,d._x)((0,d.Lc)(n),"_useVideoTexture",!1),(0,d._x)((0,d.Lc)(n),"_onWebGlContextLost",(function(e){e.preventDefault(),n.code!==_.WEBGL_CONTEXT_LOST&&(n._codeMsg="WEBGL Context LOST",n.code=_.WEBGL_CONTEXT_LOST)})),(0,d._x)((0,d.Lc)(n),"_doAppendCanvas",(function(){if(n._running){if(n._isCanvasAdded)i.ZP.hasClass(n._root,A)||n._showCanvas();else{if(!n.video)return;n._root=n.video.parentElement,n._root.insertBefore(n._convasContainer,n.video),n._showCanvas(),n.video instanceof HTMLVideoElement&&(n.video.__canvas=n._canvas),n._isCanvasAdded=!0}n._adjustCanvasPosition()}})),(0,d._x)((0,d.Lc)(n),"_onFrameCallback",(function(e,t){n._running&&n.video&&(n.video.cancelVideoFrameCallback(n._renderId),n._renderId=n.video.requestVideoFrameCallback(n._onFrameCallback),n._onRender())})),(0,d._x)((0,d.Lc)(n),"_onRequestAnimationFrame",(function(){n._running&&n.video&&(cancelAnimationFrame(n._renderId),n._renderId=requestAnimationFrame(n._onRequestAnimationFrame),n._onRender())})),(0,d._x)((0,d.Lc)(n),"_adjustCanvasPosition",(function(){if(n.video){var e=n._convasContainer,t=n._canvas,r=n.video,u=r.videoWidth,d=r.videoHeight,o=u/d,i=e.clientWidth/e.clientHeight;t.style.width=u,t.style.height=d,o>=i?(t.style.width="100%",t.style.height="auto"):o<i&&(t.style.width="auto",t.style.height="100%")}})),n._opts=h(e),n._logger.log("Constructor opts",JSON.stringify(n._opts));var u=!1;n._opts.wasmUrl||(n.code=_.WASM_URL_MISS,n._codeMsg="WASM_URL_MISS",n._logger.log("ERROR, WASM_URL_MISS"),u=!0);var o,a=E();try{w([HTMLCanvasElement.prototype.getContext,WebGL2RenderingContext.prototype.linkProgram,WebGL2RenderingContext.prototype.createShader])||a||(n.code=_.HIJACK,n._codeMsg="API HIJACK",n._logger.log("API HIJACK"),u=!0)}catch(c){}u||(a||n._hijack(),n._useVFC=n._opts.useVFC,n._isCrossOrigin="anonymous"===(null===(o=n._opts.videoConfig)||void 0===o?void 0:o.crossOrigin),n._createCanvas(),n._initSuperModule());return n}return(0,d.qH)(r,[{key:"_hijack",value:function(){try{WebGL2RenderingContext&&WebGL2RenderingContext.prototype&&(WebGL2RenderingContext.prototype.getShaderSource=function(){},WebGL2RenderingContext.prototype.getAttachedShaders=function(){return[]})}catch(e){}}},{key:"_createCanvas",value:function(){this._canvas=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this._canvas.id=this._getCanvasId(),i.ZP.addClass(this._canvas,"object-fit-content"),this._convasContainer=document.createElementNS("http://www.w3.org/1999/xhtml","div"),this._convasContainer.appendChild(this._canvas),i.ZP.addClass(this._convasContainer,"object-fit-container"),this._bindObserver(),document.body.appendChild(this._convasContainer),this._opts.enableContextmenu&&this._canvas&&this._canvas.addEventListener("contextmenu",this.onContextmenu,!1),this._canvas.addEventListener("webglcontextlost",this._onWebGlContextLost,!1)}},{key:"onContextmenu",value:function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.stopPropagation?e.stopPropagation():(e.returnValue=!1,e.cancelBubble=!0)}},{key:"_bindObserver",value:function(){var e,t,r,n=this;ResizeObserver?(this._resizeObserver=new ResizeObserver((function(){n._isCanvasAdded&&window.requestAnimationFrame((function(){n._adjustCanvasPosition()}))})),this._resizeObserver.observe(this._convasContainer)):(this._onDebounceResize=(e=this._adjustCanvasPosition,t=200,function(){var n=arguments,u=this;clearTimeout(r),r=setTimeout((function(){e.apply(u,n)}),t)}),window.addEventListener("resize",this._onDebounceResize,!0),this._mutationsObserver=new MutationObserver(this._onDebounceResize),this._mutationsObserver.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))}},{key:"_getCanvasId",value:function(){return this._opts.canvasId||L}},{key:"_showCanvas",value:function(){if(this._root){var e=this._canvas,t=this._getWidthHeight(),r=t.width,n=t.height;e.style.width=r+"px",e.style.height=n+"px";var u=r,d=n;this._opts.scaleType,e.width=1*u,e.height=1*d,i.ZP.addClass(this._root,A)}}},{key:"_getWidthHeight",value:function(){var e=this.video;return{width:e.videoWidth||e.width,height:e.videoHeight||e.height}}},{key:"_hideCanvas",value:function(){this._root&&i.ZP.removeClass(this._root,A)}},{key:"hideCanvas",value:function(){this._hideCanvas()}},{key:"showCanvas",value:function(){this._showCanvas()}},{key:"_initSuperModule",value:function(){var e=this,t=this;this._stats.mark(S.LOAD_WASM),this._superWasmModule={wasmBinaryFile:t._opts.wasmUrl,onRuntimeInitialized:function(){t._readyPromise.resolve(),t._stats.endMark(S.LOAD_WASM)},print:function(e){t._logger.logMessage("print:",e)},printErr:function(e){t._logger.log("printError:",e)},onAbort:function(e){t._logger.log("onAbort",e),t._readyPromise.reject(new Error("LoadFail")),t._wasmReady=!1,t.code=_.WASM_LOADED_FAILED,t._codeMsg="WASM_LOADED_FAILED"}},this._logger.log("Module init"),l(this._superWasmModule),t._readyPromise.then((function(){var r=e._superWasmModule,n="#".concat(e._getCanvasId(),"\0"),u=(new TextEncoder).encode(n),d=r._malloc(u.byteLength+1);r.HEAPU8.set(u,d);var o=t._opts,i=o.algType,a=o.backend,s=o.scaleType,c=o.maxWidth,f=o.maxHeight,l=o.poolSize;t._stats.mark(S.WASM_INIT),t._logger.log("algType:".concat(i,", backend:").concat(a,", scaleType:").concat(s,", maxWidht:").concat(c,", maxHeight:").concat(f,", poolSize:").concat(l));var h=r._createContext(d,i,a,s,l,c,f,1);t._stats.endMark(S.WASM_INIT),t._logger.log("CreateContext result:".concat(h));var m,p=t.getError(!0);(r._free(d),0===h&&0===p)?(t._logger.log("CreateContext SUCCESS"),t._wasmReady=!0):(t.code=_.WASM_INIT_FAIL,t._codeMsg="CreateContextFail code:".concat(h,", codeMsg:").concat(null===(m=y[h])||void 0===m?void 0:m.msg,", errRet:").concat(p),t._wasmReady=!1,t._logger.log("CreateContext Fail, Fail code",h))})).catch((function(e){t.code=_.WASM_INIT_FAIL;var r=JSON.stringify({errMsg:e.message,columnNumber:e.columnNumber,fileName:e.fileName});t._codeMsg="CreateContextCatch ".concat(r),t._wasmReady=!1,t._logger.log("Module init catch",r),e.message.indexOf("Cannot read properties of undefined (reading 'createShader')")>-1&&(0,s.HR)(!0)}))}},{key:"readyPromise",get:function(){return this._readyPromise}},{key:"isContextReady",get:function(){return this._wasmReady}},{key:"video",get:function(){return this._video}},{key:"bindMediaElement",value:function(e,t){var r=t.onRenderCallback,n=t.onRenderLostCallback,u=t.onSRCodeChanged;this._video!==e&&(this._video&&this.unBindMediaElement(),this._onRenderCallback=r,this._onRenderLostCallback=n,this._onSRCodeChanged=u,this._video=e,this._superWasmModule.video=this._getRenderTex(),this._hasDelayedAddCanvas=!1)}},{key:"_getRenderTex",value:function(){return this.video instanceof HTMLVideoElement?this.video:this.video.canvas}},{key:"_tryRender",value:function(){var e=this;this._readyPromise.then((function(){e._superWasmModule.video=e._getRenderTex(),e.isUseVideoFrame?e._onFrameCallback():e._onRequestAnimationFrame()}))}},{key:"isUseVideoFrame",get:function(){return this._useVFC&&this._isVideoFrameCallbackSupported&&!!this.video.requestVideoFrameCallback}},{key:"_onRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!document.hidden&&"hidden"!==document.visibilityState){var t=p[this._opts.scaleType],r=this.video;try{this._stats.mark(S.RENDER);var n=E();this._hasGLLoged||this._stats.mark(S.GETERRORRENDER);var u=!0;if(this._superWasmModule&&this._superWasmModule.video&&this._superWasmModule.video instanceof HTMLVideoElement&&0===this._superWasmModule.video.readyState&&(u=!1),this._superWasmModule.video&&u){var d=this._useVideoTexture?1:0,o=this._superWasmModule._drawFrame(r.videoWidth,r.videoHeight,t,n||!this._hasGLLoged?1:0,d);if(this._hasGLLoged||this._stats.endMark(S.GETERRORRENDER),this._hasGLLoged=!0,this._stats.endMark(S.RENDER),e&&o!==_.SUCCESS)return;this._onRenderCallback({code:o}),this._hasDelayedAddCanvas&&!this._isCanvasAdded&&this._doAppendCanvas(),this._hasDelayedAddCanvas=!0}else this._logger.log("render video not exist, destroyed")}catch(l){var i,a="",s=null==l||null===(i=l.stack)||void 0===i?void 0:i.includes("contains cross-origin data"),c=this._superWasmModule&&this._superWasmModule.video&&this._superWasmModule.video instanceof HTMLVideoElement;s&&c&&(a="crossorigin:"+this._superWasmModule.video.getAttribute("crossorigin")+",set:"+this._isCrossOrigin);var f=JSON.stringify({errMsg:l.message,columnNumber:l.columnNumber,fileName:l.fileName,stack:null==l?void 0:l.stack});this._onRenderCallback&&this._onRenderCallback({code:-1,error:f,errMsg:l.message+a})}}}},{key:"doRender",value:function(){this.video.paused?this._isCanvasAdded&&this._onRender():this.run()}},{key:"run",value:function(){this._running=!0,this._tryRender()}},{key:"stop",value:function(){this._running=!1,this._doAppendCanvas()}},{key:"unBindMediaElement",value:function(){this._hideCanvas(),this._isCanvasAdded=!1,this._onRenderLostCallback&&this._onRenderLostCallback(),this._superWasmModule&&(this._superWasmModule.video=null),this.video&&this.video instanceof HTMLVideoElement&&(this.video.__canvas=null),this._video=null,this._root=null,this._onRenderCallback=null,this._onRenderLostCallback=null}},{key:"destroy",value:function(){var e,t;this._useVFC&&this._isVideoFrameCallbackSupported?null===(t=this._superWasmModule.video)||void 0===t||t.cancelVideoFrameCallback(this._renderId):cancelAnimationFrame(this._renderId);this.unBindMediaElement();try{this._superWasmModule._destroy(),this._superWasmModule.video=null,this._superWasmModule=null}catch(r){this.code,_.WASM_LOADED_FAILED}this._resizeObserver?this._resizeObserver.unobserve(this._convasContainer):(window.removeEventListener("resize",this._onDebounceResize),this._mutationsObserver.disconnect()),this._opts.enableContextmenu&&this._canvas&&this._canvas.removeEventListener("contextmenu",this.onContextmenu),this._convasContainer.removeChild(this._canvas),null===(e=this._convasContainer.parentElement)||void 0===e||e.removeChild(this._convasContainer),this._canvas.removeEventListener("webglcontextlost",this._onWebGlContextLost)}},{key:"setRunning",value:function(e){this._running=e,e&&this._code===_.SUCCESS?(this.code=_.SUCCESS,this._codeMsg="SUCCESS",this.run()):this._hideCanvas()}},{key:"code",get:function(){return this._code},set:function(e){this._code=e,this._onSRCodeChanged&&this._onSRCodeChanged(e)}},{key:"codeMsg",get:function(){return this._codeMsg}},{key:"getStat",value:function(){var e=this._stats.getStat();return e.dropRate=this.getDropRate(),e}},{key:"getLog",value:function(){return this._logger.getLogs()}},{key:"getError",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this._wasmReady){var e=this._superWasmModule._getError();return this._logger.log("getError ".concat(e)),e}return 0}},{key:"getRuntimeInfo",value:function(){var e=this._superWasmModule._getRunInfo(),t=this._superWasmModule.UTF8ToString(e);return this._logger.log("getRuntimeInfo ".concat(t)),t}},{key:"resetLogState",value:function(){this._hasGLLoged=!1}},{key:"statMark",value:function(e){return this._stats.mark(e)}},{key:"statEndMark",value:function(e){return this._stats.endMark(e)}},{key:"hasReport",get:function(){return this._hasReport},set:function(e){this._hasReport=e}},{key:"recordDropRate",value:function(e){this._dropRateEwma.sample(e,1)}},{key:"getDropRate",value:function(){return this._dropRateEwma.getEstimate()||0}}]),r}(f());function P(e,t){return e?(D||(D=new M((0,d.Zj)((0,d.Zj)({},t),{},{canvasId:"".concat(L).concat(++F)}))),D):new M((0,d.Zj)((0,d.Zj)({},t),{},{canvasId:"".concat(L).concat(++F)}))}var T=function(){function e(t,r,n){var u=this;(0,d.PA)(this,e),(0,d._x)(this,"_missFrames",0),(0,d._x)(this,"_lastTotalFrames",0),(0,d._x)(this,"_lastTime",0),(0,d._x)(this,"_threshold",0),(0,d._x)(this,"_isVFC",!1),(0,d._x)(this,"_longFrames",0),(0,d._x)(this,"_isResize",!1),(0,d._x)(this,"_totalFrames",0),(0,d._x)(this,"_visibilityFrames",0),(0,d._x)(this,"_visibilityTotalFrames",0),(0,d._x)(this,"_mediaElement",null),(0,d._x)(this,"_onPause",(function(){u._isPaused=!0})),(0,d._x)(this,"_onPlay",(function(){u._isPaused&&(u._resumePlay=!0,u._isPaused=!1)})),(0,d._x)(this,"_onResize",(function(){u._isResize=!1,u._resizeNextRender=!0})),(0,d._x)(this,"_onVisibilityChange",(function(){if(u._mediaElement&&u._mediaElement.getVideoPlaybackQuality){var e=u._mediaElement.getVideoPlaybackQuality().totalVideoFrames;if(document.hidden)u._visibilityFrames=e;else{if(u._visibilityFrames>0){var t=e-u._visibilityFrames;u._missFrames+=t,u._visibilityTotalFrames+=t}u._isActiveHidden&&u._activeHiddenCallback(e),u._resumeVisibilityChange=!0}}}));var o=t.threshold,i=t.minRenderCount,a=t.longTaskScale,s=t.isVFC;this._threshold=o,this._minRenderCount=i,this._longTaskScale=a,this._mediaElement=r,this._isVFC=s,this._activeHiddenCallback=n,this._isActiveHidden=!1,this._ewma=new R(5),this._onResizeHandler=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=0,u=0;return function(){for(var d=arguments.length,o=new Array(d),i=0;i<d;i++)o[i]=arguments[i];var a=performance.now();if(r&&r.apply(this),a-n<t)return clearTimeout(u),void(u=setTimeout((function(){n=a,e.apply(void 0,o)}),200));clearTimeout(u),n=a,e.apply(void 0,o)}}(this._onResize,200,(function(){document.hidden||(u._isResize=!0,u._resizeNextRender=!1)})),window.addEventListener("resize",this._onResizeHandler),document.addEventListener("visibilitychange",this._onVisibilityChange),this._isVFC&&(r.addEventListener("pause",this._onPause),r.addEventListener("play",this._onPlay)),document.hidden&&(this._isActiveHidden=!0)}return(0,d.qH)(e,[{key:"record",value:function(e,t){this._totalFrames=t;var r=e-this._lastTime,n=t-this._lastTotalFrames-1;(n<0&&(n=0),this._lastTotalFrames>0&&!this._resumeVisibilityChange)&&((this._isResize||this._resizeNextRender)&&n>=this._threshold?(this._missFrames+=n,this._resizeNextRender=!1):((this._isPaused||this._resumePlay)&&(this._resumePlay=!1,r=this._ewma.getEstimate()||20),this._ewma.sample(1,r),1e3/this._ewma.getEstimate()>=this._minRenderCount?this._missFrames+=n:this._longFrames+=n));this._lastTime=e,this._lastTotalFrames=t,this._resumeVisibilityChange&&(this._resumeVisibilityChange=!1)}},{key:"missFrames",get:function(){return this._missFrames}},{key:"getStat",value:function(){return{missFrames:this._missFrames,longFrames:this._longFrames,renderDelta:this._ewma.getEstimate()||0,totalFrames:this._totalFrames,visibilityFrames:this._visibilityTotalFrames}}},{key:"destroy",value:function(){this._missFrames=0,this._lastTotalFrames=0,this._lastTime=0,this._longFrames=0,window.removeEventListener("resize",this._onResizeHandler),document.removeEventListener("visibilitychange",this._onVisibilityChange),this._isVFC&&(this._mediaElement.removeEventListener("pause",this._onPause),this._mediaElement.removeEventListener("play",this._onPlay))}}]),e}(),O=[o.PLAY,o.SEEKING],N=[o.PAUSE,o.ENDED],I={SR_DEGRADE:"SR_DEGRADE"},W=function(e){(0,d.XW)(r,e);var t=(0,d.WY)(r);function r(){var e;(0,d.PA)(this,r);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return e=t.call.apply(t,[this].concat(u)),(0,d._x)((0,d.Lc)(e),"_srCore",null),(0,d._x)((0,d.Lc)(e),"_paintCount",0),(0,d._x)((0,d.Lc)(e),"_degradeCount",0),(0,d._x)((0,d.Lc)(e),"_loadDataPromise",b()),(0,d._x)((0,d.Lc)(e),"_usedSr",!1),(0,d._x)((0,d.Lc)(e),"_isOnSR",!1),(0,d._x)((0,d.Lc)(e),"_code",_.NOT_ACTIVE),(0,d._x)((0,d.Lc)(e),"_rateTimestamp",performance.now()),(0,d._x)((0,d.Lc)(e),"_logger",new C("SRPlugin")),(0,d._x)((0,d.Lc)(e),"_codeDesc",{}),(0,d._x)((0,d.Lc)(e),"_appendFrameStat",null),(0,d._x)((0,d.Lc)(e),"_hasGLErrorCall",!1),(0,d._x)((0,d.Lc)(e),"_isVideoPlaybackQualitySupported",!1),(0,d._x)((0,d.Lc)(e),"_onSRCodeChanged",(function(t){e._code=t,e._logger.log("SRCodeChange",t),g.indexOf(t)>-1&&e._srCore&&e._onDegrade(e._code,{msg:e._srCore.codeMsg,recover:!1})})),(0,d._x)((0,d.Lc)(e),"getPaintCount",(function(){return e._paintCount})),(0,d._x)((0,d.Lc)(e),"_onRenderLost",(function(){var t;e._appendFrameStat=null===(t=e._appendFrameStragty)||void 0===t?void 0:t.getStat(),e._destroyAppendFrame(),e._isOnSR=!1,e._unBind()})),(0,d._x)((0,d.Lc)(e),"_onRenderCallback",(function(t){if(0!==t.code){var r=y[t.code],n=!1;r&&(t.algoMsg=r.msg,n=r.recover),e._srCore.statMark(S.RUNINFO);var u=e._srCore.getRuntimeInfo()+(null==t?void 0:t.errMsg);e._srCore.statEndMark(S.RUNINFO),e._onDegrade(_.WASM_RENDER_FAIL,(0,d.Zj)((0,d.Zj)({},t),{},{msg:t.code+" WASM_RENDER_FAIL "+u,recover:n}))}else e._usedSr=!0,e._code=_.SUCCESS,e._calFps()})),(0,d._x)((0,d.Lc)(e),"_onRun",(function(){e._srCore.readyPromise.then((function(){e._handleLimitResolution()&&e._loadDataPromise.then((function(){var t;e._isOnSR&&e._srCore.code===_.SUCCESS&&(null===(t=e._srCore)||void 0===t||t.run())}))}))})),(0,d._x)((0,d.Lc)(e),"_onStop",(function(){e._srCore.readyPromise.then((function(){var t;e._isOnSR&&(null===(t=e._srCore)||void 0===t||t.stop())}))})),(0,d._x)((0,d.Lc)(e),"_onLoadeddata",(function(){e._loadDataPromise.resolve()})),e}return(0,d.qH)(r,[{key:"version",get:function(){return"0.0.30"}},{key:"core",get:function(){return this._srCore}},{key:"video",get:function(){var e=this.player;return e.media||e.video}},{key:"afterCreate",value:function(){var e=this,t=this.config;if(t.disabled)return this._usedSr=!1,this._code=_.SR_DISABLED,void this._logger.log("disabled");this._proxyVideoPlayQuality(),Object.keys(_).forEach((function(t){e._codeDesc[_[t]]=t})),this._srCore=P(t.isSingle,Object.assign({},t,{enableContextmenu:this.playerConfig.enableContextmenu,videoConfig:this.playerConfig.videoConfig||{}})),t.isSingle||this.active()}},{key:"_proxyVideoPlayQuality",value:function(){var e=this;e._isVideoPlaybackQualitySupported=(0,s.rP)(),this._isVideoPlaybackQualitySupported&&(this.video.getVideoPlaybackQuality=function(){if(e.video instanceof HTMLVideoElement){var t=HTMLVideoElement.prototype.getVideoPlaybackQuality.call(this),r=t.corruptedVideoFrames,n=t.creationTime,u=t.totalVideoFrames;return{corruptedVideoFrames:r,creationTime:n,droppedVideoFrames:u-e._paintCount,totalVideoFrames:u}}return{corruptedVideoFrames:0,creationTime:performance.now(),droppedVideoFrames:0,totalVideoFrames:e._paintCount}})}},{key:"active",value:function(){var e=this;if(this._srCore.code===_.WASM_INIT_FAIL||this._srCore.code===_.WASM_LOADED_FAILED)return this._srCore.code===_.WASM_LOADED_FAILED&&D&&(D.destroy(),D=null),this._logger.log("ACTIVE FAIL",this._srCore.code),this._code=this._srCore.code,void(this._srCore.hasReport||(this._srCore.hasReport=!0,this._onDegrade(this._code,{msg:this._srCore.codeMsg,recover:!1})));if(this._srCore.code!==_.WEBGL_CONTEXT_LOST)if([_.WASM_URL_MISS,_.HIJACK].includes(this._srCore.code))this._code=this._srCore.code;else{var t=!!this.config.useDelayedSR&&this.config.isSingle,r=!this._srCore.isContextReady||this._code===_.WASM_NOT_READY;if(t&&r)return this._code=_.WASM_NOT_READY,this._codeMsg="\u6fc0\u6d3b\u65f6\u8d85\u5206\u672aready,\u5e76\u4e14\u8bbe\u7f6euseDelayedSR\u4e3afalse",void(this._isOnSR=!1);this._code=_.NOT_PLAY,this._logger.log("ACTIVE current stat notplay");var n=this.player;if(this._srCore.bindMediaElement(n.media||n.video,{onRenderCallback:this._onRenderCallback,onRenderLostCallback:this._onRenderLost,onSRCodeChanged:this._onSRCodeChanged}),this._isVideoPlaybackQualitySupported){var u=this.video.getVideoPlaybackQuality().totalVideoFrames;this._paintCount=u}this._bindEvents(),this._destroyAppendFrame();var d=this.config,o=d.threshold,i=d.minRenderCount;this._appendFrameStragty=new T({isVFC:this._srCore.isUseVideoFrame,threshold:o,minRenderCount:i},this.player.media||this.player.video,(function(t){e._paintCount=t})),this._isOnSR=!0,this._hasGLErrorCall=!1,this._tryRender()}else this._code=this._srCore.code}},{key:"_calFps",value:function(){this._srCore.statMark(S.CALFPS);var e=this.config;if(this._srCore.isUseVideoFrame?this._paintCount+=this.video.playbackRate:this._paintCount++,this._appendFrameStragty&&this._isVideoPlaybackQualitySupported){var t=this.video.getVideoPlaybackQuality(),r=t.droppedVideoFrames,n=t.totalVideoFrames;this._appendFrameStragty.record(performance.now(),n),this._dropRate=(r-this._appendFrameStragty.missFrames)/n,this._srCore.recordDropRate(this._dropRate);var u=performance.now();this._dropRate>=e.degradeFrameRate&&n>100?u-this._rateTimestamp>1e3&&(this._rateTimestamp=u,this._degradeCount++,this._degradeCount>e.degradeFrameRateCount&&(this._degradeCount=0,this._onDegrade(_.FPS_DEGRADE,{msg:"FPS_DEGRADE",recover:!0,dropRate:this._srCore.getDropRate()}))):this._degradeCount=0,this._srCore.statEndMark(S.CALFPS)}else this._srCore.statEndMark(S.CALFPS)}},{key:"_onDegrade",value:function(e,t){var r=t||{};this._logger.log("onDegrade, code: ".concat(e,", ext:").concat(JSON.stringify(t))),this._code=e,this._codeMsg=t.msg,this.emit(I.SR_DEGRADE,(0,d.Zj)((0,d.Zj)({code:e},r),{},{defaultRenderDelta:1e3/this.config.minRenderCount})),this._srCore.unBindMediaElement(),this._isOnSR=!1}},{key:"_bindEvents",value:function(){var e=this;O.forEach((function(t){e.on(t,e._onRun)})),N.forEach((function(t){e.on(t,e._onStop)}))}},{key:"_isLimitResolution",value:function(){var e=this.config,t=e.maxWdith,r=e.maxHeight;return this.video.videoWidth>t||this.video.videoHeight>r}},{key:"_handleLimitResolution",value:function(){return!this._isLimitResolution()||(this._code=_.LIMIT_WIDTH_HEIGHT,this._logger.log("LIMIT_WIDTH_HEIGHT"),!1)}},{key:"_unBind",value:function(){var e=this;this.player&&(O.forEach((function(t){e.off(t,e._onRun)})),N.forEach((function(t){e.off(t,e._onStop)})))}},{key:"_tryRender",value:function(){var e=this;this.video.readyState>=2?this._loadDataPromise.resolve():this.on("loadeddata",this._onLoadeddata),Promise.all([this._loadDataPromise,this._srCore.readyPromise]).then((function(){var t;(e._logger.log("tryRender width:".concat(e.video.videoWidth,", height:").concat(e.video.videoHeight)),e._isOnSR&&e._srCore.isContextReady)&&(e._handleLimitResolution()&&(null===(t=e._srCore)||void 0===t||t.doRender()))})).catch((function(){}))}},{key:"_unbindVideoPlayQuality",value:function(){if(this._isVideoPlaybackQualitySupported&&this.video instanceof HTMLVideoElement){var e=HTMLVideoElement.prototype.getVideoPlaybackQuality;this.video.getVideoPlaybackQuality=e}}},{key:"_destroyAppendFrame",value:function(){this._appendFrameStragty&&(this._appendFrameStragty.destroy(),this._appendFrameStragty=null)}},{key:"fps",get:function(){return this._fps}},{key:"isPlaybackUsedSR",value:function(){return this._usedSr}},{key:"getReason",value:function(){return this._code}},{key:"destroy",value:function(){this._unbindVideoPlayQuality(),this.off("loadeddata",this._onLoadeddata),this._unBind(),this._loadDataPromise=null,this._appendFrameStragty&&this._appendFrameStragty.destroy(),this._appendFrameStragty=null,this.config.isSingle||this._srCore.destroy(),this._srCore=null}},{key:"getStat",value:function(){var e,t,r,n=this._srCore?this._srCore.getStat():{},u=this._appendFrameStat?this._appendFrameStat:null===(e=this._appendFrameStragty)||void 0===e?void 0:e.getStat(),o=this.player.video||this.player.media;return(0,d.Zj)((0,d.Zj)({width:this.video.videoWidth,height:this.video.videoHeight,playbackRate:this.video.playbackRate,mediaTime:null===(t=this.video)||void 0===t?void 0:t.currentTime,presentedFrames:this._paintCount,isPlaybackUsedSR:this.isPlaybackUsedSR(),usingSR:i.ZP.hasClass(o.parentElement,A),reason:this._code,reasonDesc:this._codeMsg||(null===(r=this._srCore)||void 0===r?void 0:r.codeMsg)||this._codeDesc[this._code],isLimitResolution:this._isLimitResolution(),isDestroyed:null===this._srCore},n),u)}},{key:"getLog",value:function(){var e=this._srCore.getLog()+"\n"+this._logger.getLogs();return this.emit("log",{type:"oneevent",end_type:"srlog",log:e}),e}},{key:"setRunning",value:function(e){this._srCore.statMark(S.SETRUNNING),this.config.disabled?this._srCore.statMark(S.SETRUNNING):(this._isOnSR?(this._srCore.setRunning(e),e||(this._isOnSR=!1)):e&&(this._isOnSR=!0,this._srCore.setRunning(e)),this._srCore.statEndMark(S.SETRUNNING))}}],[{key:"defaultConfig",get:function(){return h({})}},{key:"pluginName",get:function(){return"srplugin"}},{key:"isSupported",value:function(){return(0,s.Gb)()}},{key:"preload",value:function(e){P(e.isSingle,e)}}]),r}(a.ZP)},68773:function(e,t,r){"use strict";r.d(t,{Gb:function(){return d},lE:function(){return s},rP:function(){return o},HR:function(){return a}});var n=r(53138),u=["webgl2"];function d(){return function(){try{if("object"===("undefined"==typeof WebAssembly?"undefined":(0,n.Ac)(WebAssembly))&&"function"==typeof WebAssembly.instantiate){var e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(t){}return!1}()&&a()}function o(){return!!HTMLVideoElement.prototype.getVideoPlaybackQuality}var i="xgplayer-webgl-hard-supported";function a(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=sessionStorage&&sessionStorage.getItem(i);if(!e&&null!==t)return 1===parseInt(t);var r=!1,n=null;try{n=document.createElement("canvas");for(var d=0;d<u.length;d++){var o=n.getContext(u[d],{failIfMajorPerformanceCaveat:!0});if(o){o=null,n=null,r=!0;break}}}catch(a){r=!1}finally{n=null}return sessionStorage&&sessionStorage.setItem(i,r?1:0),r}function s(){return"requestVideoFrameCallback"in HTMLVideoElement.prototype}},80310:function(e,t,r){"use strict";var n=r(56038).default,u=r(42404),d=r(5641),o=r(46079),i=r(50750),a=r(78375),s=r(94090),c=r(8e3),f=r(11883),l=r(21155),h=r(92524),m=r(99052),p=r(98558),v=r(35221),_=r(34346);u(t,"__esModule",{value:!0}),t.default=void 0;var g=E(r(69741)),y=E(r(53864)),b=E(r(97951)),w=E(r(36921));function E(e){return e&&e.__esModule?e:{default:e}}function k(e){return k="function"==typeof d&&"symbol"===n(o)?function(e){return n(e)}:function(e){return e&&"function"==typeof d&&e.constructor===d&&e!==d.prototype?"symbol":n(e)},k(e)}function C(e,t){if(null==e)return{};var r,n,u=function(e,t){if(null==e)return{};var r,n,u={},d=i(e);for(n=0;n<d.length;n++)r=d[n],h(t).call(t,r)>=0||(u[r]=e[r]);return u}(e,t);if(a){var d=a(e);for(n=0;n<d.length;n++)r=d[n],h(t).call(t,r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(u[r]=e[r])}return u}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),u(e,n.key,n)}}function x(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return R=m?p:function(e){return e.__proto__||p(e)},R(e)}function L(e,t){return L=m||function(e,t){return e.__proto__=t,e},L(e,t)}function A(e,t,r){return t in e?u(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=x(this,R(t).call(this,e)),e.noWrapper?r.childrenRefs={}:r.rootRef=y.default.createRef(),r}var r,n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=v(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,e),r=t,n=[{key:"_parseTwemoji",value:function(){if(this.props.noWrapper)for(var e in this.childrenRefs){var t=this.childrenRefs[e].current;w.default.parse(t,this.props.options)}else{var r=this.rootRef.current;w.default.parse(r,this.props.options)}}},{key:"componentDidUpdate",value:function(e){(0,g.default)(this.props,e)||this._parseTwemoji()}},{key:"componentDidMount",value:function(){this._parseTwemoji()}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.children,u=r.noWrapper,d=r.tag,o=C(r,["children","noWrapper","tag"]);return u?y.default.createElement(y.default.Fragment,null,_(e=y.default.Children).call(e,n,(function(e,r){return"string"==typeof e?e:(t.childrenRefs[r]=t.childrenRefs[r]||y.default.createRef(),y.default.cloneElement(e,{ref:t.childrenRefs[r]}))}))):(delete o.options,y.default.createElement(d,function(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{},u=i(n);"function"==typeof a&&(u=s(u).call(u,c(r=a(n)).call(r,(function(e){return f(n,e).enumerable})))),l(u).call(u,(function(t){A(e,t,n[t])}))}return e}({ref:this.rootRef},o),n))}}],n&&S(r.prototype,n),u&&S(r,u),t}(y.default.Component);t.default=D,A(D,"propTypes",{children:b.default.node,noWrapper:b.default.bool,options:b.default.object,tag:b.default.string}),A(D,"defaultProps",{tag:"div"})},78612:function(e,t,r){var n=r(22488);e.exports=n},15418:function(e,t,r){var n=r(41066);e.exports=n},9176:function(e,t,r){r(56349);var n=r(81678);e.exports=n("Array").fill},96977:function(e,t,r){var n=r(85345),u=r(9176),d=Array.prototype;e.exports=function(e){var t=e.fill;return e===d||n(d,e)&&t===d.fill?u:t}},79848:function(e,t,r){r(99517);var n=r(39149);e.exports=n.Number.isFinite},23799:function(e,t,r){e.exports=r(83887)},51783:function(e,t,r){e.exports=r(54637)},83887:function(e,t,r){var n=r(78612);e.exports=n},54637:function(e,t,r){var n=r(15418);e.exports=n},17771:function(e,t,r){"use strict";var n=r(78081),u=r(3776),d=r(13573);e.exports=function(e){for(var t=n(this),r=d(t),o=arguments.length,i=u(o>1?arguments[1]:undefined,r),a=o>2?arguments[2]:undefined,s=a===undefined?r:u(a,r);s>i;)t[i++]=e;return t}},23942:function(e,t,r){var n=r(84659).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}},56349:function(e,t,r){var n=r(83489),u=r(17771),d=r(49761);n({target:"Array",proto:!0},{fill:u}),d("fill")},99517:function(e,t,r){r(83489)({target:"Number",stat:!0},{isFinite:r(23942)})},22488:function(e,t,r){var n=r(96977);e.exports=n},41066:function(e,t,r){var n=r(79848);e.exports=n},9169:function(e,t,r){var n=r(66635),u=r(59012);e.exports=function(e,t){return n(e,t,(function(t,r){return u(e,r)}))}},66635:function(e,t,r){var n=r(32656),u=r(44043),d=r(74124);e.exports=function(e,t,r){for(var o=-1,i=t.length,a={};++o<i;){var s=t[o],c=n(e,s);r(c,s)&&u(a,d(s,e),c)}return a}},44043:function(e,t,r){var n=r(5806),u=r(74124),d=r(40579),o=r(36697),i=r(55826);e.exports=function(e,t,r,a){if(!o(e))return e;for(var s=-1,c=(t=u(t,e)).length,f=c-1,l=e;null!=l&&++s<c;){var h=i(t[s]),m=r;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(s!=f){var p=l[h];(m=a?a(p,h,l):undefined)===undefined&&(m=o(p)?p:d(t[s+1])?[]:{})}n(l,h,m),l=l[h]}return e}},62754:function(e){e.exports=function(e){return null==e}},1818:function(e,t,r){var n=r(9169),u=r(64471)((function(e,t){return null==e?{}:n(e,t)}));e.exports=u},32034:function(){},36921:function(e,t,r){"use strict";r.r(t);var n=function(){var e={base:"https://twemoji.maxcdn.com/v/13.1.0/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(e){var t="string"==typeof e?parseInt(e,16):e;if(t<65536)return i(t);return i(55296+((t-=65536)>>10),56320+(1023&t))},toCodePoint:_},onerror:function(){this.parentNode&&this.parentNode.replaceChild(a(this.alt,!1),this)},parse:function(t,r){r&&"function"!=typeof r||(r={callback:r});return("string"==typeof t?h:l)(t,{callback:r.callback||s,attributes:"function"==typeof r.attributes?r.attributes:p,base:"string"==typeof r.base?r.base:e.base,ext:r.ext||e.ext,size:r.folder||(n=r.size||e.size,"number"==typeof n?n+"x"+n:n),className:r.className||e.className,onerror:r.onerror||e.onerror});var n},replace:v,test:function(e){r.lastIndex=0;var t=r.test(e);return r.lastIndex=0,t}},t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},r=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\xa9\xae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udeeb\udeec\udef4-\udefc\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78\udd7a-\uddb4\uddb7\uddba\uddbc-\uddcb\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7a\ude80-\ude86\ude90-\udea8\udeb0-\udeb6\udec0-\udec2\uded0-\uded6]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,n=/\uFE0F/g,u=String.fromCharCode(8205),d=/[&<>'"]/g,o=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,i=String.fromCharCode;return e;function a(e,t){return document.createTextNode(t?e.replace(n,""):e)}function s(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function c(e,t){for(var r,n,u=e.childNodes,d=u.length;d--;)3===(n=(r=u[d]).nodeType)?t.push(r):1!==n||"ownerSVGElement"in r||o.test(r.nodeName.toLowerCase())||c(r,t);return t}function f(e){return _(e.indexOf(u)<0?e.replace(n,""):e)}function l(e,t){for(var n,u,d,o,i,s,l,h,m,p,v,_,g,y=c(e,[]),b=y.length;b--;){for(d=!1,o=document.createDocumentFragment(),s=(i=y[b]).nodeValue,h=0;l=r.exec(s);){if((m=l.index)!==h&&o.appendChild(a(s.slice(h,m),!0)),_=f(v=l[0]),h=m+v.length,g=t.callback(_,t),_&&g){for(u in(p=new Image).onerror=t.onerror,p.setAttribute("draggable","false"),n=t.attributes(v,_))n.hasOwnProperty(u)&&0!==u.indexOf("on")&&!p.hasAttribute(u)&&p.setAttribute(u,n[u]);p.className=t.className,p.alt=v,p.src=g,d=!0,o.appendChild(p)}p||o.appendChild(a(v,!1)),p=null}d&&(h<s.length&&o.appendChild(a(s.slice(h),!0)),i.parentNode.replaceChild(o,i))}return e}function h(e,t){return v(e,(function(e){var r,n,u=e,o=f(e),i=t.callback(o,t);if(o&&i){for(n in u="<img ".concat('class="',t.className,'" ','draggable="false" ','alt="',e,'"',' src="',i,'"'),r=t.attributes(e,o))r.hasOwnProperty(n)&&0!==n.indexOf("on")&&-1===u.indexOf(" "+n+"=")&&(u=u.concat(" ",n,'="',r[n].replace(d,m),'"'));u=u.concat("/>")}return u}))}function m(e){return t[e]}function p(){return null}function v(e,t){return String(e).replace(r,t)}function _(e,t){for(var r=[],n=0,u=0,d=0;d<e.length;)n=e.charCodeAt(d++),u?(r.push((65536+(u-55296<<10)+(n-56320)).toString(16)),u=0):55296<=n&&n<=56319?u=n:r.push(n.toString(16));return r.join(t||"-")}}();t.default=n}}]);