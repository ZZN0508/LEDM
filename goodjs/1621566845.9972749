!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=9)}([function(t,e,i){"use strict";i.d(e,"e",(function(){return r})),i.d(e,"d",(function(){return l})),i.d(e,"c",(function(){return c})),i.d(e,"b",(function(){return v})),i.d(e,"a",(function(){return u}));var n=i(2),o=i(4),s=i(1),a=["NV_LOADED","NV_START","NV_REPLAY","AD_25","AD_50","AD_75","AD_100","NV_25","NV_50","NV_75","NV_100","INVIEW","IMP","VIEWABLE_IMP","AD_PAUSE","AD_PLAY","NV_PAUSE","NV_PLAY","AD_MUTE","AD_UNMUTE","NV_MUTE","NV_UNMUTE","NV_CLICK","NV_CLICK_THRU","CLICK","NV_TIMELINE_CLICK","NV_SUGGESTION_CLICK","CLICK_SHARE","FALLBACK","WF_END","DISP_REQUEST","DISP_IMP","DISP_NOAD","DISP_B_REQUEST","DISP_B_IMP","DISP_B_NOAD","DISP_C_REQUEST","DISP_C_IMP","DISP_C_NOAD","RC_PLAY","RC_PAUSE","RC_INVIEW"];function r(t,e,i){if(t){var o=n.h.tracking+"?event="+t+d(t,e,i);if(document.createElement("img").src=o+"&cb="+Object(s.z)(),i.tagConfig.CustomTracking&&Object(s.p)(i.tagConfig.CustomTracking[t])){var a,r=i.tagConfig.CustomTracking[t];for(a=0;a<r.length;a++)document.createElement("img").src=r[a]+"&cb="+Object(s.z)()}}}function l(t,e,i){if(navigator.sendBeacon){var o="event="+t+d(t,e,i);navigator.sendBeacon(n.h.tracking,o)}}function d(t,e,i){var n="";i.tagConfig.AppBundle?(n+="&app_bundle="+encodeURIComponent(i.tagConfig.AppBundle),n+="&user_agent="+encodeURIComponent(navigator.userAgent),i.tagConfig.SubID&&(n+="&source_id="+encodeURIComponent(i.tagConfig.SubID))):n+="&page_url="+String(i.env.pageUrl).substring(0,500),n+="&pub_id="+i.tagConfig.PublisherID,n+="&channel_id="+i.tagConfig.ChannelID,n+="&placement_id="+i.tagConfig.PlacementID,n+="&ad_unit_type="+i.tagConfig.AdUnitType,n+="&session_id="+i.env.sessionId,n+="&focus="+Object(s.m)(),n+="&player="+i.tagConfig.Player,i.env.pageLanguage&&(n+="&pageLanguage="+i.env.pageLanguage.toLowerCase());var o=i.topDiv&&i.topDiv.querySelector("#vi-stories-main-container");o&&(n+="&placement_w="+o.offsetWidth,n+="&placement_h="+o.offsetHeight);var r=i.topDiv&&i.topDiv.querySelector("#vi-stories-player-container"),l=r&&r.querySelector("video.HTMLPlayer-module__video");l&&(n+="&video_w="+l.offsetWidth,n+="&video_h="+l.offsetHeight);var d,c,v=Object(s.n)();if(v.performance&&v.performance.timing&&v.performance.timing.fetchStart&&(n+="&time_delta="+(Date.now()-v.performance.timing.fetchStart)),i.tagConfig.Unblocker&&i.env.unblocked&&(n+="&unblocked=true"),i.env.fif){var u=window.frameElement&&i.env.fif&&window.top.document.getElementById("framePlaceHolder"),h=u&&"none"!==u.style.display&&u||window.frameElement||o;d=Object(s.i)(h)}if("ERROR"!==t&&"ERROR_HAI"!==t&&"WARNING"!==t&&i.env.fif&&!i.env.amp&&i.tagConfig.CheckUnitOverlap&&-1!==i.tagConfig.CheckUnitOverlap.indexOf(t)&&(i.state.adUnitInView||i.state.adUnitIsFloated)&&(c=Object(s.a)(o)),"INFO"===t){var p="lazy:";i.tagConfig.LazyLoading?p+="on, loading:paused "+i.env.lazyPaused+"ms, trigger:"+i.env.lazyTrigger:p+="off",e&&e.vendorData&&(p+=" / "+e.vendorData,delete e.vendorData),n+="&data="+p}if(e){for(var g in c&&(e.overlapped=c),i.env.amp&&(e.amp=!0),i.env.abTestingId&&(e.ab_testing_id=i.env.abTestingId),!0===i.state.defaultVideo&&(e.nv_fallback=!0),d&&(e.position_on_page=d),i.tagConfig.PlaylistMode>0&&(e.playlist_pos=i.videoIdx+1),i.video[i.videoIdx].matchedCategoryCode&&(e.matchedCategory=i.video[i.videoIdx].matchedCategoryCode),e.mobile=Object(s.q)(),e.floating=!!i.state.adUnitIsFloated,e.error_msg&&(e.error_msg=e.error_msg.substring(0,500)),-1!==a.indexOf(t)&&(e.nv_video_id=i.video[i.videoIdx].id,e.nv_source_id=i.video[i.videoIdx].sourceId,e.nv_feed_id=i.video[i.videoIdx].feedId),e.hasOwnProperty("in_view")||(e.in_view=i.state.adUnitInView||i.state.adUnitIsFloated||!1),e)e.hasOwnProperty(g)&&(n+="&"+g+"="+e[g]);("ERROR"===t||"ERROR_HAI"===t)&&e.error_msg&&console.log("VI_ERROR: "+e.error_msg)}return n}function c(t,e,i){Object(o.b)("https://pixel.adsafeprotected.com/jload?anId=927929&advId=vi_stories&campId=vi_stories&pubId="+t+"&chanId="+e+"&placementId="+i)}function v(t){return new Promise((function(e,i){var n=Object(s.n)(),o=window.__tcfapi||n.__tcfapi,a=window.__cmp||n.__cmp,r="function"==typeof o?{func:o,command:"addEventListener",name:"tcf2",version:2}:"function"==typeof tcf1API?{func:a,command:"getConsentData",name:"iab",version:null}:null,l="";function d(i,n){e(t?{gdpr:{applies:t.env.isEU?1:0,consent:"",extra:{cmpFramework:i,gdprApplies:t.env.isEU,gdprStatus:n,consent:0,segments:t.video[t.videoIdx].segments||""}}}:{})}if(!r){var c=Object(s.e)();return t&&t.env.amp&&t.env.consent?void e({gdpr:{applies:t.env.isEU?1:0,consent:t.env.consent,extra:{cmpFramework:"amp",gdprApplies:t.env.isEU,gdprStatus:"ok",consent:t.env.consent,segments:t.video[t.videoIdx].segments||""}}}):!t&&c&&c.initialConsentValue?void e({gdpr:{applies:1,consent:c.initialConsentValue}}):void d("false","none")}var v=setTimeout((function(){v=null,d(r.name,"timeout"+(l?"-"+l:""))}),1e3);r.func(r.command,r.version,(function(i,n){if(i&&i.eventStatus&&(l=i.eventStatus),(!i||void 0===i.gdprApplies||"cmpuishown"!==i.eventStatus||!n)&&v)if(clearTimeout(v),!i||void 0===i.gdprApplies||"tcloaded"!==i.eventStatus&&"useractioncomplete"!==i.eventStatus&&void 0!==i.eventStatus||!n&&void 0===i.consentData)d(r.name,"invalid");else{var o,s=i.tcString||i.consentData||0;if(t){t.env.consent=s;var a="TCF: purpose 1: "+(i.purpose&&i.purpose.consents&&i.purpose.consents[1])+", consent: "+(i.vendor&&i.vendor.consents&&i.vendor.consents[190]);o={cmpFramework:r.name,gdprApplies:i.gdprApplies,gdprStatus:"ok",consent:t.env.consent,segments:t.video[t.videoIdx].segments||"",vendorData:a}}e({gdpr:{applies:i.gdprApplies?1:0,consent:s,extra:o}})}}))}))}function u(t){return new Promise((function(t,e){"function"!=typeof __uspapi&&t({});var i=setTimeout((function(){i=null,t({})}),1e3);__uspapi("getUSPData",1,(function(e,n){i&&(clearTimeout(i),n&&e.uspString?t({ccpa:{uspString:e.uspString}}):t({ccpa:{}}))}))}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";function s3(){return Math.floor(46656*(1+Math.random())).toString(36).substring(1)}function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function guid(){return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}function sid(){return s3()+s3()+s3()+s3()}function isiOS(){return/iPhone|iPod|iPad/.test(navigator.userAgent)}function isMobile(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))}function isVisible(t){for(;t;){if(t===document||"#document"===t.nodeName)return!0;var e=window.getComputedStyle(t,null);return!(!t||!e||"none"===e.display||"hidden"===e.visibility||0===e.opacity)&&("fixed"===e.position||isVisible(t.parentNode))}}function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}function isNumber(t){return"[object Number]"===Object.prototype.toString.call(t)}function isObject(t){return"[object Object]"===Object.prototype.toString.call(t)}function isRegExp(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function isString(t){return"[object String]"===Object.prototype.toString.call(t)}function isNodeList(t){return"[object NodeList]"===Object.prototype.toString.call(t)}function isHtmlCollection(t){return"[object HTMLCollection]"===Object.prototype.toString.call(t)}function get(t,e){for(var i in e=(e+"").toLowerCase(),t)if(t.hasOwnProperty(i)&&e==(i+"").toLowerCase())return t[i];return null}function set(t,e,i){var n=(e+"").toLowerCase();for(var o in t)if(t.hasOwnProperty(o)&&n==(o+"").toLowerCase())return void(t[o]=i);t[e]=i}function extend(){if(!arguments)return{};for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]||{});return t.reduce((function(t,e){return Object.keys(e).forEach((function(i){var n=get(e,i);set(t,i,n)})),t}),t[0])}function shuffleArray(t){var e,i,n=t.slice();for(e=n.length-1;e>0;e--){var o=[n[i=Math.floor(Math.random()*(e+1))],n[e]];n[e]=o[0],n[i]=o[1]}return n}function replaceInObject(t,e,i,n){return isObject(t)&&isString(t[e])&&(t[e]=t[e].replace(i,n)),t}function replacePropInArray(t,e,i,n){return isArray(t)?t.map((function(t){return replaceInObject(t,e,i,n)})):t}function weightedRandom(t,e){var i,n=e.reduce((function(t,e){return t+e})),o=Math.random()*n,s=0;for(i=0;i<t.length;i++)if(s+=e[i],o<=(s=parseFloat(s.toFixed(2))))return t[i]}function convertTime(t){var e=0,i=0,n="00:00:00";return t&&((e=Math.floor(t/60))<10&&(e="0"+e),(i=Math.floor(t%60))<10&&(i="0"+i),n=e+":"+i),n}function throttle(t,e,i){var n=i||window,o=0;return function(){var i=Date.now(),s=e-(i-o);s<=0&&(o=i,t.apply(n,arguments))}}function placementSelector(t,e,i){var n=document.querySelector(e)||window.top.document.querySelector(e);return n?("exact"===t?i=n:"inside"===t?n.appendChild(i):"before"===t?n.parentNode.insertBefore(i,n):"after"===t&&n.parentNode.insertBefore(i,n.nextSibling),i):null}function getAmpContext(){var t=window.AMP_MODE||window.__AMP_MODE;return t&&t.version&&window.context||window.AMP_CONTEXT_DATA}function getTopWindow(){var t=window;try{t=window.top.document&&window.top}catch(t){}return t}function getTopDocument(){var t=window.document;try{t=window.top.document}catch(t){}return t}function getDomain(){var t=getAmpContext(),e=getTopWindow(),i="",n="";try{i=t?t.sourceUrl:e.location.href,n=t?getDomainFromUrl(i):e.location.hostname}catch(t){}return n}function getDomainFromUrl(t){var e=t.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return e&&e[1]||""}function getUrlFromAmpCacheUrl(t){var e=t.match(/^(https?\:\/\/)\S*\.cdn\.ampproject\.org\/[vc]\/(?:s\/)?(\S*)/i);return e&&e[1]+e[2]||""}function getElementPositionInPage(t){if(!t)return null;var e=window.frameElement&&window.top||window,i=e.document.documentElement,n=e.document.body,o=Math.max(n.scrollHeight,n.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),s=t.getBoundingClientRect().top+e.pageYOffset;return Math.floor(s/o*100)}function findTopDiv(t,e){return!(!t.parentNode||t.parentNode.id!==e)||!(!t.parentNode||"html"===t.parentNode.nodeName.toLowerCase()||"body"===t.parentNode.nodeName.toLowerCase())&&findTopDiv(t.parentNode,e)}function checkOverlap(t){if(!window.frameElement){var e=t.getBoundingClientRect(),i=[],n=0;return i.push(document.elementFromPoint(e.left+1,e.top+1)),i.push(document.elementFromPoint(e.left+1,e.top+(e.height-1))),i.push(document.elementFromPoint(e.left+(e.width-1),e.top+1)),i.push(document.elementFromPoint(e.left+(e.width-1),e.top+(e.height-1))),i.push(document.elementFromPoint(e.left+e.width/2,e.top+e.height/2)),i.forEach((function(e){e&&!findTopDiv(e,t.id)&&n++})),(n/5).toFixed(2)}}function elemInsideViewport(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function parseQueryString(t){for(var e={},i=("?"===t[0]?t.substr(1):t).split("&"),n=0;n<i.length;n++){var o=i[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]||"")}return e}function getQueryStringParameter(t,e){e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function setQueryStringParameter(t,e,i){var n,o=document.createElement("a"),s=/(?:\?|&amp;|&)+([^=]+)(?:=([^&]*))*/g,a=[];o.href=t;do{(n=s.exec(o.search))&&e!==n[1]&&a.push(n[1]+(n[2]?"="+n[2]:""))}while(n);return a.push(e+(i?"="+encodeURIComponent(i):"")),o.search=a.join("&"),o.href}function getPageInfo(t){return t&&(actions.getPageInfoFromMeta("property","og:"+t,"last")||actions.getPageInfoFromDoc(t)||actions.getPageInfoFromHtml(t)||actions.getPageInfoFromDom(t,"first")||actions.getPageInfoFromAnyMeta(t,"first"))||""}function getTabFocus(){var t="unknown";try{t=window.top.document.hasFocus()}catch(t){}return t}function getTopLevelIabCatregories(t){return isString(t)?t.match(/IAB\d+/gi):isArray(t)?t.map((function(t){return isString(t)?t.match(/IAB\d+/gi):""})).join().split(",").filter((function(t,e,i){return i.indexOf(t)===e})):t}function getShortVersionIabCatregories(t){return isString(t)?t.match(/\d+(-\d+)?/gi):isArray(t)?t.map((function(t){return isString(t)?t.match(/\d+(-\d+)?/gi):""})).join().split(",").filter((function(t,e,i){return i.indexOf(t)===e})):t}function runCustomActions(customActions,config){for(var i=0;i<customActions.length;i++){var customAction=customActions[i],customCondition=void 0,customResult=void 0,customParams=void 0;if("js"===customAction.type&&!customAction.done){if(customAction.condition)try{customCondition=eval(customAction.condition)}catch(t){}else customCondition=!0;if(customCondition){try{customResult=eval(customAction.action)}catch(t){}if("function"==typeof customResult){if(customAction.params)try{customParams=eval(customAction.params)}catch(t){}customResult(customParams)}customAction.done=!0}}}}function getCustomParams(customParams,config){var extra={};if(customParams)for(var customParam,customParamValue,customParamOp,i=0;i<customParams.length;i++){if(customParam=customParams[i],customParamValue="","js"===customParam.type)try{customParamValue=eval(customParam.value)}catch(t){}else"dom"===customParam.type&&(customParamValue=getTopDocument().querySelector(customParam.value));if(customParamValue&&customParam.transforms)for(var j=0;j<customParam.transforms.length;j++)customParamOp=customParam.transforms[j],operations[customParamOp.op]&&(customParamValue=operations[customParamOp.op].apply(customParamValue,customParamOp.params));null==customParamValue&&(customParamValue=""),extra[customParam.param]=customParamValue}return extra}function getCustomKeywordParams(t){var e={};function i(t){return["h1","h2","h3","h4","h5","h6","li","div","span"].filter((function(e){return-1!==t.indexOf(e)})).reduce((function(t,e){return t.concat(actions.getPageInfoFromDom(e,"all")||[])}),[])}if(t)for(var n,o,s,a,r,l,d=0;d<t.length;d++)l=[],-1!==(o=(n=t[d]).scope||"title, description, keywords, h1, h3, p").indexOf("title")&&l.push(getPageInfo("title")),-1!==o.indexOf("description")&&l.push(getPageInfo("description")),-1!==o.indexOf("keywords")&&(l=l.concat(actions.getPageInfoFromMeta("name","keywords","all")||[])),l=l.concat(i(o)),-1!==o.indexOf("p")&&(l=l.concat((actions.getPageInfoFromDom("p","all")||[]).filter((function(t){return t.split(" ").length>=10})))),l=l.join().toLowerCase(),isArray(s=isString(n.keys)&&n.keys.toLowerCase().split(","))&&(s=operations.opTrim.apply(s),s=operations.opCreateRegExp.apply(s,["[S]*","[S]*"]),r=operations.opSearch.apply(l,[s]),r=operations.opFilterOut.apply(r,[""]),a=operations.opJoin.apply(r),r=operations.opLength.apply(r),r=operations.opEvaluate.apply(r,["1","0"])),null==r&&(r=""),e[n.param||a]=r;return e}function widthClass(t){return t>=800?"vi-stories-width-min-800":t>=700&&t<800?"vi-stories-width-700-800":t>=600&&t<700?"vi-stories-width-600-700":t>=500&&t<600?"vi-stories-width-500-600":t<500?"vi-stories-width-max-500":"vi-stories-no-class"}function addCssRule(t,e,i,n){var o=document.getElementById(t),s=o&&(o.sheet?o.sheet:o.styleSheet);s&&(s.insertRule?s.insertRule(e+"{"+i+"}",n):s.addRule(e,i,n))}__webpack_require__.d(__webpack_exports__,"z",(function(){return s4})),__webpack_require__.d(__webpack_exports__,"C",(function(){return sid})),__webpack_require__.d(__webpack_exports__,"v",(function(){return isiOS})),__webpack_require__.d(__webpack_exports__,"q",(function(){return isMobile})),__webpack_require__.d(__webpack_exports__,"u",(function(){return isVisible})),__webpack_require__.d(__webpack_exports__,"p",(function(){return isArray})),__webpack_require__.d(__webpack_exports__,"r",(function(){return isNumber})),__webpack_require__.d(__webpack_exports__,"s",(function(){return isObject})),__webpack_require__.d(__webpack_exports__,"t",(function(){return isString})),__webpack_require__.d(__webpack_exports__,"d",(function(){return get})),__webpack_require__.d(__webpack_exports__,"c",(function(){return extend})),__webpack_require__.d(__webpack_exports__,"B",(function(){return shuffleArray})),__webpack_require__.d(__webpack_exports__,"x",(function(){return replacePropInArray})),__webpack_require__.d(__webpack_exports__,"E",(function(){return weightedRandom})),__webpack_require__.d(__webpack_exports__,"b",(function(){return convertTime})),__webpack_require__.d(__webpack_exports__,"D",(function(){return throttle})),__webpack_require__.d(__webpack_exports__,"w",(function(){return placementSelector})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getAmpContext})),__webpack_require__.d(__webpack_exports__,"n",(function(){return getTopWindow})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getDomainFromUrl})),__webpack_require__.d(__webpack_exports__,"o",(function(){return getUrlFromAmpCacheUrl})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getElementPositionInPage})),__webpack_require__.d(__webpack_exports__,"a",(function(){return checkOverlap})),__webpack_require__.d(__webpack_exports__,"k",(function(){return getQueryStringParameter})),__webpack_require__.d(__webpack_exports__,"A",(function(){return setQueryStringParameter})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getPageInfo})),__webpack_require__.d(__webpack_exports__,"m",(function(){return getTabFocus})),__webpack_require__.d(__webpack_exports__,"l",(function(){return getShortVersionIabCatregories})),__webpack_require__.d(__webpack_exports__,"y",(function(){return runCustomActions})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getCustomParams})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getCustomKeywordParams})),__webpack_require__.d(__webpack_exports__,"F",(function(){return widthClass}));var actions={getPageInfoFromAnyMeta:function(t,e){var i="";return"first"===e||"last"===e?i=actions.getPageInfoFromMeta("name",t,e)||actions.getPageInfoFromMeta("http-equiv",t,e)||actions.getPageInfoFromMeta("property",t,e)||actions.getPageInfoFromMeta("property","og:"+t,e):"all"===e&&(i=[actions.getPageInfoFromMeta("name",t,"all"),actions.getPageInfoFromMeta("http-equiv",t,"all"),actions.getPageInfoFromMeta("property",t,"all"),actions.getPageInfoFromMeta("property","og:"+t,"all")].filter((function(t){return!!t})).join()),i},getPageInfoFromDoc:function(t){return getTopDocument()[t]},getPageInfoFromDom:function(t,e){var i="",n=getTopDocument().getElementsByTagName(t);return n.length>0&&("first"===e?i=n[0]&&n[0].textContent:"last"===e?i=n[n.length-1]&&n[n.length-1].textContent:"all"===e&&(i=Array.prototype.map.call(n,(function(t){return t.textContent})))),i},getPageInfoFromHtml:function(t){var e=getTopDocument().getElementsByTagName("html")[0];return e&&e.getAttribute(t)},getPageInfoFromMeta:function(t,e,i){var n="",o=getTopDocument().querySelectorAll("meta["+t+"='"+e+"']");return o.length>0&&("first"===i?n=o[0].getAttribute("content"):"last"===i?n=o[o.length-1].getAttribute("content"):"all"===i&&(n=Array.prototype.map.call(o,(function(t){return t.getAttribute("content")})))),n}},operations={opComparisonOper:function(t,e){switch(t){case"==":return this==e;case"!=":return this!=e;case"===":return this===e;case"!==":return this!==e;case">":return this>e;case">=":return this>=e;case"<":return this<e;case"<=":return this<=e}return this},opCreateRegExp:function(t,e){return isString(this)?new RegExp((t||"")+this+(e||"")):isArray(this)?this.map((function(i){return isString(i)?new RegExp((t||"")+i+(e||"")):""})):this},opEvaluate:function(t,e){return this?t:e},opFilterIn:function(t){return isArray(this)?this.filter((function(e){return isArray(t)?-1!==t.indexOf(e):e===t})):this},opFilterOut:function(t){return isArray(this)?this.filter((function(e){return isArray(t)?-1===t.indexOf(e):e!==t})):this},opJoin:function(){return isArray(this)?this.join():this},opLength:function(){return isString(this)||isArray(this)?this.length:this},opReplace:function(t,e){return isString(this)?this.replace(t,e):isArray(this)?this.map((function(i){return isString(i)?i.replace(t,e):""})):this},opSearch:function(t){if(isString(this)){if(isString(t)||isRegExp(t))return-1!==this.search(t)?t:"";if(isArray(t))return t.map((function(t){return-1!==this.search(t)?t:""}),this)}return this},opSplit:function(t){return isString(this)?this.split(t):this},opToLowerCase:function(){return isString(this)?this.toLowerCase():isArray(this)?this.map((function(t){return isString(t)?t.toLowerCase():""})):this},opToUpperCase:function(){return isString(this)?this.toUpperCase():isArray(this)?this.map((function(t){return isString(t)?t.toUpperCase():""})):this},opTrim:function(){return isString(this)?this.trim():isArray(this)?this.map((function(t){return isString(t)?t.trim():""})):this}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return s})),i.d(e,"e",(function(){return a})),i.d(e,"f",(function(){return r})),i.d(e,"g",(function(){return l})),i.d(e,"h",(function(){return d})),i.d(e,"b",(function(){return c}));var n={tagConfig:{AbTesting:null,AccentColor:"",AccentTextColor:"",AdUnitType:"2",AllowMultipleInstances:!1,AllowNonFriendlyIframe:!1,AppBundle:"",AppPageTitle:"",AppPageUrl:"",AreaAbovePlaceholder:!1,AutoStart:!1,BG_Color:"",BlockCookieSync:!1,BorderColor:"",CallbackFunction:null,CheckUnitOverlap:"IMP, VIEWABLE_IMP, AD_50, AD_100, NV_LOADED",ClickToPlay:!1,ClickToPlayAdSources:!1,CloseButton:"whileFloating",CloseButtonSettings:{location:"outside-vi-unit",position:"top-right"},CompanionAds:null,ContentClickthrough:"",CustomActions:null,CustomAdParams:null,CustomMetaParams:null,CustomParams:null,CustomTracking:null,CustomTrackingUrlDispImp:"",CustomTrackingUrlDispBImp:"",CustomTrackingUrlError:"",CustomTrackingUrlImpression:"",CustomTrackingUrlPlacement:"",CustomViCSS:"",DefaultVideo:null,DelayWaterfallStart:!1,DemoVideos:null,DisplayAd:null,DisplayBanner:null,DivID:"",FallbackTag:"",FallbackTagSettings:{waitForAdReady:!1},FixedRatio:null,Float:!0,FloatLayoutMode:"",FloatLayoutSettings:{ribbonPlayerWidth:.47},FloatSettings:{any:{transformOrigin:"bottom right",position:{bottom:"0px",right:"0px"},originSelector:"",originOffset:{}},floatOnPaused:!1,floatFromStart:!1},FloatSize:.75,FloatLimit:336,Font:"",FontSize:"",FullscreenButton:!1,GdprConsent:0,HideUnit:"",IAB_Category:"",IASPixelEnabled:!0,IncludeVideoKeywords:!1,InViewRatio:.5,JumpOutOfIframe:!1,Keywords:"",KeywordSearch:null,KeywordStop:null,Language:"en-US",LazyLoading:!1,LazyLoadingSettings:{offset:"500px",pageLoad:!0,pageScroll:!1,timeout:3},LogoUrl:"https://s.vi-serve.com/vi_logo.svg",OverlayMode:0,OverlaySettings:{showLogoOutside:!1},PauseOutOfView:!1,PauseOutOfViewSettings:{beforeSeconds:0},PauseOutOfViewPlaylist:!0,PlacementSelector:null,Player:"playerVI",PlayerAdOverlayText:"",PlayerContentOverlayThumbnail:!1,PlayerContentOverlayText:"",PlayerContentOverlayTime:10,PlayerOverlayTextPosition:"top-right",PlayerSuggestionOverlay:"",PlayerSuggestionOverlayNo:4,PlayInView:!1,PlayInFocus:!1,PlaylistLength:5,PlaylistMode:1,PlaylistSettings:{ui:"none",autoScroll:!0},PlaylistRandomOrder:!1,Prebid:!1,Resize65:!0,Resize65Ratio:1.2,ResizeCheckAfterLoad:!0,ResizeIframe:null,SendPageKeywords:!0,ShoppableVideo:!1,SocialSharing:null,SponsorPosition:"bottom-right",StopCondition:"",TextAbove:"",ThumbnailUrl:null,Text_Color:"",TimeTrackerInterval:0,TimeTrackerLimit:600,TitleText:null,TruncateTitleLines:2,Unblocker:null,UnmuteOverlay:null,UnmuteOnClickStart:!0,UseAllCategories:!1,UseOnlyCategories:!1,UserCategories:"",VideoIds:"",VideoUrl:null,ZIndexBase:899,ZIndexFloat:901},remoteControlConfig:{CustomViCSS:"",Enable:!1,HideAfterStart:!1,OpenAnim:!1,PlacementSelector:null},prebidConfig:{url:"",bidderTimeout:2e3,adUnits:[],startInView:!0,consentManagement:!0,globalVarName:"pbjsVidInt"},playerConfig:{publisherId:"58c25bb0073ef448b1087ad6",passBackUrl:"",ref1:{},width:100,height:0,errorLimit:6,HD:!0,autoPlay:!0,playOnView:!0,playOnViewPerc:50,pauseOnUnseen:!1,pauseOnBlur:!1,autoSound:!1,unMuteOnMouseEnter:!1,preroll:1,midrolltime:5,vastRetry:3,loop:!1,logo:!1,timelineMode:"overlay",soundButton:!0,pauseButton:!0,showTimeline:!0,timelineChange:!0,preloader:{type:"content",link:"",poster:"",clickthrough:"",autoplay:!1},maximp:3,maxrun:30,customLogo:{link:"",height:30,width:30,text:"",clickthrough:""},closeButton:!1,skipTimer:0,skip:!1,skipText:"",openAnim:!1,imaiosskip:!0,maxWidth:"1640",templateType:"1",position:"aniplayer_JS1",aniBox:"aniBox",wrapper:"wrapper"},viPlayerConfig:{src:"",muted:!0,skipTimer:0,openAnim:!1,preroll:1,midroll:1,midrolltime:5,maximp:3,maxrun:30,maxAdErrors:24,waterfallRetry:24,macros:{}},mobile:{tagConfig:{Float:!1,FloatLimit:!1},playerConfig:{closeButton:!1}},video:[{id:"3tza13MByJmLcwxnZY8-",sourceId:"922",feedId:1640,url:"https://nv.vi-serve.com/vis-media/922/1640/3tza13MByJmLcwxnZY8-_720p.mp4",title:"10 Interesting Facts About Earth's Oceans",thumbnail:"https://nv.vi-serve.com/vis-media/922/1640/3tza13MByJmLcwxnZY8-.jpg",duration:81,description:"",keywords:""}],videoIdx:0},o={amp:!1,fif:!0,pageDomain:null,pageLanguage:null,pageUrl:null,sessionId:null,adUnitId:null,abTestingId:null,asid:null,unblocked:!1,lazyPaused:0,lazyTrigger:"",isEU:!1,consent:0},s={licenseInfoCreator:"Creator",licenseInfoCreditBtn:"Credit",licenseInfoTitle:"License information",licenseInfoLicense:"License",licenseInfoOriginalVideo:"Original",nowPlaying:"Now playing",poweredBy:"featured by"},a={crawlerUa:"crawler user agent",head:"script tag placed in head",heavyAd:"heavy ad intervention",init:"script tag has already been initialized",initPlayer:"cannot initilize the player",noAdSources:"no ad sources",noAdUnitType:"AdUnitType not set",noChannelId:"ChannelID not set",nonFif:"script tag placed in non friendly iframe",nonVisible:"script tag placed in non-displayed Element",noPageUrl:"cannot get page URL",noPromise:"promises not supported",noScriptTag:"cannot find script tag",stopCondition:"stop condition was reached"},r={adIsLoaded:!1,adUnitIsClicked:!1,adUnitIsFloated:void 0,adUnitInView:!1,adUnitInViewOnce:!1,closeReason:void 0,currentVideoType:void 0,defaultVideo:void 0,displayAdIsVisible:!1,outOfViewPaused:!1,pendingNextIdx:void 0,pendingNextTrack:!1,playerIsMuted:!0,playerIsPaused:!0,remoteControlInViewOnce:!1},l={gpt:"<script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'><\/script>\n<script>\n var googletag = googletag || {};\n googletag.cmd = googletag.cmd || [];\n<\/script>\n<div id='[gptDivId]' style='height:[gptSizeHeight]px; width:[gptSizeWidth]px;'>\n  <script>\n    googletag.cmd.push(function() {\n      var vislot1 = googletag.defineSlot('[gptSlotId]', [[gptSizeWidth], [gptSizeHeight]], '[gptDivId]').addService(googletag.pubads());\n      googletag.pubads().enableSingleRequest();\n      googletag.pubads().addEventListener('slotRenderEnded', function(event) {\n            if(event && event.slot && event.slot.getSlotElementId && event.slot.getSlotElementId() !== '[gptDivId]') return;\n            window.[gptRenderCallback] && typeof window.[gptRenderCallback] === 'function' && window.[gptRenderCallback](event);\n      });\n      googletag.enableServices();\n      googletag.display('[gptDivId]');\n      googletag.pubads().isInitialLoadDisabled() && googletag.pubads().refresh([vislot1]);\n  });\n  <\/script>\n</div>"},d={kerv:"https://rcdn.kervinteractive.com/overlay/v3/prod/embed-3.0.min.js",playerAV:"https://player.aniview.com/script/6.1/aniview.js",playerVI:"https://player.inforsea.com/player.js",playerVIstage:"https://player.inforsea.com/playerStage.js",playerVItest:"https://player-test.inforsea.com/player.js",playerWL:"https://player.vid-play.com/script/6.1/player.js",playerWLstage:"https://player.inforsea.com/av/player.js",playerWLbase:"https://player.vid-play.com/script/6.1/",playerWLdomainAdServer:"serv.vid-play.com",playerWLdomainTrack:"servt.vid-play.com",prebid:"https://s.vi-serve.com/prebid/prebid3.25.0.js",tracking:"https://t.vi-serve.com/",trackingViAdServer:"https://pixel.inforsea.com/server/log",videoAPI:"https://vis.vi-serve.com/"},c=["Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/534+ (KHTML, like Gecko) BingPreview/1.0b","'Mozilla/5.0 (compatible; Seekport Crawler; http://seekport.com/'","Mozilla/5.0 (Macintosh; U; Intel Mac OS X; en-US) AppleWebKit/537.36 (KHTML, like Gecko) cXensebot/2.0; +http://www.cxense.com/bot.html Safari/533.3","Mozilla/5.0 (compatible; Pinterestbot/1.0; +http://www.pinterest.com/bot.html)","Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)","Mozilla/5.0 (compatible; adidxbot/2.0; +http://www.bing.com/bingbot.htm)"]},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return s}));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners={}}var e,i,o;return e=t,(i=[{key:"addEventListener",value:function(t,e,i){void 0!==this.listeners[t]?this.listeners[t].push({scope:i,callback:e}):this.listeners[t]=[{scope:i,callback:e}]}},{key:"removeEventListener",value:function(t,e,i){var n,o;if(void 0!==this.listeners[t])for(n=this.listeners[t].length-1;n>=0;n--)(o=this.listeners[t][n]).scope===i&&o.callback===e&&this.listeners[t].splice(n,1)}},{key:"removeAllListeners",value:function(){this.listeners={}}},{key:"hasEventListener",value:function(t,e,i){var n,o,s;if(void 0!==this.listeners[t]){if(o=this.listeners[t].length,void 0===e&&void 0===i)return o>0;for(n=0;n<o;n++)if(s=this.listeners[t][n],(!i||s.scope===i)&&s.callback===e)return!0}return!1}},{key:"dispatchEvent",value:function(t,e){var i,n,o,s={type:t,data:e};if(void 0!==this.listeners[t])for(i=0,n=this.listeners[t].length;i<n;i++)(o=this.listeners[t][i])&&o.callback&&o.callback.call(o.scope,s)}}])&&n(e.prototype,i),o&&n(e,o),t}(),s=new o},function(t,e,i){"use strict";function n(t,e,i){return new Promise((function(n,o){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState)if(200===this.status)try{var t=this.responseText?JSON.parse(this.responseText):{};n(t)}catch(t){o(t)}else{var e=new Error(this.responseText);e.code=this.status,o(e)}},s.open(t,e,!0),s.timeout=5e3,s.send(i)}))}function o(t,e,i){return new Promise((function(n,o){e||(e=document);var s=e.createElement("script");s.type="text/javascript",s.charset="utf8",s.async=!0,s.src=t,i&&s.classList.add(i),s.onload=function(){n()},s.onerror=function(){o()},(e.getElementsByTagName("head")[0]||e.documentElement.appendChild(e.createElement("head"))).appendChild(s)}))}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}))},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var i=[],n=!0,o=!1,s=void 0;try{for(var a,r=t[Symbol.iterator]();!(n=(a=r.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,s=t}finally{try{n||null==r.return||r.return()}finally{if(o)throw s}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.d(e,"a",(function(){return d}));var d=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=a(this,r(e).call(this))).rootMargin=i&&i.rootMargin||"0px 0px 0px 0px",n.threshold=i&&i.threshold||.5,n.intersectionRatio=0,n.containerPosition=null,n.observer=new IntersectionObserver((function(t){var i=o(t,1)[0],s=n.visible,a=i.rootBounds?i.rootBounds.top:0,r=i.rootBounds?i.rootBounds.bottom:window.innerHeight;n.containerPosition=i.boundingClientRect.top<a?"above":i.boundingClientRect.bottom>r?"below":null,n.intersectionRatio!==i.intersectionRatio&&(n.intersectionRatio=i.intersectionRatio,n.dispatchEvent(e.Events.viewabilitychange,i),s!==n.visible&&(n.visible?n.dispatchEvent(e.Events.inview):n.dispatchEvent(e.Events.outofview)))}),{rootMargin:n.rootMargin,threshold:n.threshold}),n.observer.observe(t),n}var i,n,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),i=e,(n=[{key:"dispose",value:function(){this.observer.disconnect(),this.removeAllListeners()}},{key:"visible",get:function(){return!!this.intersectionRatio&&this.intersectionRatio>=this.threshold}},{key:"position",get:function(){return this.containerPosition}}])&&s(i.prototype,n),d&&s(i,d),e}(i(3).a);d.Events={viewabilitychange:"viewabilitychange",inview:"inview",outofview:"outofview"}},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var o=(a=n,r=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(l," */")),s=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[i].concat(s).concat([o]).join("\n")}var a,r,l;return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,n){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(n)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(o[a]=!0)}for(var r=0;r<t.length;r++){var l=[].concat(t[r]);n&&o[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),e.push(l))}},e}},function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i(3),o=i(0),s=i(1),a=i(5);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.v=e,this.config=e.remoteControlConfig,this.video=e.video[e.videoIdx],this.remoteControlInViewOnce=!1,this._playButtonPlaying=!1;var i=window.top.document;if(this.boundPlayBtnClick=this.onPlayBtnClick.bind(this),this.rcContainer=i.createElement("div"),this.config.PlacementSelector){var n=Object(s.w)(this.config.PlacementSelector.position,this.config.PlacementSelector.selector,this.rcContainer);n&&"exact"===this.config.PlacementSelector.position&&(this.rcContainer=n)}this.rcContainer.classList.add("vi-stories-remote-control",Object(s.F)(this.rcContainer.offsetWidth)),this.thumbnail=i.createElement("div"),this.thumbnail.classList.add("vi-stories-remote-control-thumbnail"),this.thumbnail.style.backgroundImage="url("+this.video.thumbnail+")",this.playButton=i.createElement("button"),this.playButton.classList.add("vi-stories-remote-control-playback-button","vi-stories-remote-control-play-button"),this.playButton.type="button",this.playButton.addEventListener("click",this.boundPlayBtnClick);var o=i.createElement("div");o.classList.add("vi-stories-remote-control-description"),this.title=i.createElement("div"),this.title.classList.add("vi-stories-remote-control-title"),this.title.innerHTML=this.video.title;var r=i.createElement("img");if(r.classList.add("vi-stories-remote-control-sponsor-logo"),r.src="https://s.vi-serve.com/vi_logo.svg",this.thumbnail.appendChild(this.playButton),o.appendChild(this.title),o.appendChild(r),this.rcContainer.appendChild(this.thumbnail),this.rcContainer.appendChild(o),this.config.CustomViCSS){var l=i.createElement("style");l.id="vi-css-rc-custom",l.type="text/css",l.innerHTML=this.config.CustomViCSS,i.head.appendChild(l)}this.viewabilityService=new a.a(this.rcContainer),this.viewabilityService.addEventListener(a.a.Events.inview,this.onViewabilityInview,this)}var e,i,l;return e=t,(i=[{key:"update",value:function(){this.video&&(this.thumbnail.style.backgroundImage="url("+this.video.thumbnail+")",this.title.innerHTML=this.video.title),this.playButtonPlaying?(this.playButton.classList.remove("vi-stories-remote-control-play-button"),this.playButton.classList.add("vi-stories-remote-control-pause-button")):(this.playButton.classList.remove("vi-stories-remote-control-pause-button"),this.playButton.classList.add("vi-stories-remote-control-play-button"))}},{key:"dispose",value:function(){this.playButton.removeEventListener("click",this.boundPlayBtnClick),this.viewabilityService&&this.viewabilityService.dispose()}},{key:"onPlayBtnClick",value:function(){this.playButtonPlaying=!this.playButtonPlaying,this.playButtonPlaying?Object(o.e)("RC_PLAY",{},this.v):Object(o.e)("RC_PAUSE",{},this.v),n.b.dispatchEvent("vi-stories-rc-event",{action:this.playButtonPlaying?"play":"pause",adUnitId:this.v.env.adUnitId}),this.config.HideAfterStart&&this.rcContainer.classList.add("displayNone")}},{key:"onViewabilityInview",value:function(){this.remoteControlInViewOnce||(this.remoteControlInViewOnce=!0,Object(o.e)("RC_INVIEW",{in_view:!0},this.v),n.b.dispatchEvent("vi-stories-rc-event",{action:"inview",adUnitId:this.v.env.adUnitId}))}},{key:"perform",value:function(t,e,i){var n=this.v.env.adUnitId===e.env.adUnitId;"play"===t?(n||"userAction"===i)&&(this.v=e,this.video=e.video[e.videoIdx],this.playButtonPlaying=!0,this.config.HideAfterStart&&this.rcContainer.classList.add("displayNone")):"pause"===t?(n||"userAction"===i)&&(this.v=e,this.video=e.video[e.videoIdx],this.playButtonPlaying=!1):"update"===t?(this.v=e,this.video=e.video[e.videoIdx],this.update()):"close"===t&&(this.dispose(),this.rcContainer.parentNode.removeChild(this.rcContainer))}},{key:"container",get:function(){return this.rcContainer}},{key:"playButtonPlaying",get:function(){return this._playButtonPlaying},set:function(t){this._playButtonPlaying=t,this.update()}}])&&r(e.prototype,i),l&&r(e,l),t}()},function(t,e,i){"use strict";var n=i(2),o=i(0);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.v=e,this.config=e.tagConfig.CompanionAds[0],this.config.template&&!this.config.template.gptRenderCallback&&(this.config.template.gptRenderCallback="companionAdRenderCallback"),this.gptRenderCallback=this.config.template&&this.config.template.gptRenderCallback||"companionAdRenderCallback",this.companionAdContainer=document.createElement("div"),this.companionAdContainer.classList.add("vi-stories-companion-ad-container","displayNone"),this.config.startInView=!1}var e,i,a;return e=t,(i=[{key:"dispose",value:function(){this.hide()}},{key:"init",value:function(){this.show()}},{key:"show",value:function(){var t=this;if((this.config.tag||this.config.template)&&!this.companionAdStarted&&(this.v.state.adUnitInView&&this.config.startInView||!this.config.startInView)){var e,i,s;if(this.companionAdStarted=!0,Object(o.e)("DISP_C_REQUEST",{},this.v),this.companionAdContainer&&this.companionAdContainer.classList.remove("displayNone"),this.config.tag)e=this.config.tag;else for(i in this.config.template.gptSizeWidth||(this.config.template.gptSizeWidth=300),this.config.template.gptSizeHeight||(this.config.template.gptSizeHeight=250),e=n.g[this.config.template.type],this.config.template)this.config.template.hasOwnProperty(i)&&"type"!==i&&(s=new RegExp("\\["+i+"\\]","gi"),e=e&&e.replace(s,this.config.template[i]));if(!e)return;var a=document.createRange().createContextualFragment(e);this.companionAdContainer&&this.companionAdContainer.appendChild(a),window[this.gptRenderCallback]=function(e){e&&!1===e.isEmpty?(Object(o.e)("DISP_C_IMP",{},t.v),t.v.tagConfig.ResizeIframe&&window.frameElement&&t.v.env.fif&&(window.frameElement.style.height=window.frameElement.clientHeight+t.config.template.gptSizeHeight+"px")):(Object(o.e)("DISP_C_NOAD",{},t.v),t.hide())}}}},{key:"hide",value:function(){this.companionAdStarted&&(this.config.tag||this.config.template)&&(this.companionAdContainer&&(this.companionAdContainer.classList.add("displayNone"),this.companionAdContainer.innerHTML=""),delete window[this.gptRenderCallback])}},{key:"container",get:function(){return this.companionAdContainer}}])&&s(e.prototype,i),a&&s(e,a),t}();function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.v=e,this.sponsorContainer=document.createElement("div"),this.sponsorContainer.id="vi-stories-sponsor-container",this.sponsorContainer.classList.add("vi-stories-position",this.v.tagConfig.SponsorPosition),this.v.tagConfig.PoweredByText){var i=document.createElement("div");i.id="vi-stories-sponsor-powered",i.innerText=this.v.tagConfig.PoweredByText,this.sponsorContainer.appendChild(i)}if(this.v.tagConfig.LogoUrl){var n=document.createElement("img");if(n.id="vi-stories-sponsor-logo",n.src=this.v.tagConfig.LogoUrl,this.v.tagConfig.LogoClickLink){var o=document.createElement("a");o.href=this.v.tagConfig.LogoClickLink,o.target="_blank",o.appendChild(n),this.sponsorContainer.appendChild(o)}else this.sponsorContainer.appendChild(n)}}var e,i,n;return e=t,(i=[{key:"container",get:function(){return this.sponsorContainer}}])&&r(e.prototype,i),n&&r(e,n),t}();function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.v=e,this.descriptionContainer=document.createElement("div"),this.descriptionContainer.id="vi-stories-description-container",this.descriptionContainer.classList.add("vi-stories-z-index-base","vi-stories-hide-while-floating"),i&&(this.descriptionContainer.style.height=i+"px"),this.v.video[this.v.videoIdx].title&&(this.titleDiv=document.createElement("div"),this.titleDiv.id="vi-stories-title",this.titleDiv.innerText=this.v.video[this.v.videoIdx].title,"top-left"===this.v.tagConfig.SponsorPosition||"top-right"===this.v.tagConfig.SponsorPosition&&this.titleDiv.classList.add("marginBottom","marginBottom20"),this.descriptionContainer.appendChild(this.titleDiv)),0===this.v.tagConfig.OverlayMode&&this.v.tagConfig.OverlaySettings&&!1===this.v.tagConfig.OverlaySettings.showLogoOutside&&(this.sponsor=new l(this.v),this.descriptionContainer.appendChild(this.sponsor.container)),this.update()}var e,i,n;return e=t,(i=[{key:"update",value:function(){if(this.titleDiv)if(this.v.video[this.v.videoIdx].title&&(this.titleDiv.innerText=this.v.video[this.v.videoIdx].title),this.titleDiv.classList.remove("viTruncate1Line"),1===this.v.tagConfig.TruncateTitleLines)this.titleDiv.classList.add("viTruncate1Line");else if(this.v.tagConfig.TruncateTitleLines>0){var t=this.v.topDiv.querySelector("#vi-stories-main-container"),e=t&&t.offsetWidth<500?24:36,i=this.sponsor&&this.sponsor.container.offsetHeight||0,n=this.v.tagConfig.FixedRatio?this.descriptionContainer.offsetHeight-i+e/4:e*this.v.tagConfig.TruncateTitleLines;if(window.frameElement){var o=.33*window.frameElement.offsetHeight-e;n=o>e&&o<n?o:o>n?n:e}if(this.titleDiv&&this.titleDiv.offsetHeight>n){for(;;){var s=this.titleDiv.innerText.replace(/[\s]([^\s])+$/,(function(t,e,i,n){return""}));if(s.length===this.titleDiv.innerText.length&&(s=s.substr(0,s.length-3)),this.titleDiv.innerText=s+"...",!(s&&this.titleDiv.offsetHeight>n))break;this.titleDiv.innerText=s}this.titleDiv.style.overflow="hidden"}}}},{key:"dispose",value:function(){}},{key:"container",get:function(){return this.descriptionContainer}}])&&d(e.prototype,i),n&&d(e,n),t}();function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.v=e,this.config=e.tagConfig.DisplayAd,this.config.template&&!this.config.template.gptRenderCallback&&(this.config.template.gptRenderCallback="displayAdRenderCallback"),this.gptRenderCallback=this.config.template&&this.config.template.gptRenderCallback||"displayAdRenderCallback",this.boundHide=this.hide.bind(this),this.displayAdOverlay=document.createElement("div"),this.displayAdOverlay.id="vi-stories-display-ad-overlay",this.displayAdOverlay.classList.add("displayNone"),this.displayAdContainer=document.createElement("div"),this.displayAdContainer.id="vi-stories-display-ad-container",this.config.closeLabel="",this.config.closeLabel&&(this.displayAdCloseButton=document.createElement("div"),this.displayAdCloseButton.id="vi-stories-display-ad-close-button",this.displayAdCloseButton.classList.add("displayNone"),this.displayAdCloseButton.innerHTML=this.config.closeLabel,this.displayAdOverlay.appendChild(this.displayAdCloseButton),this.displayAdCloseButton.addEventListener("click",this.this.boundHide,!1)),this.displayAdOverlay.appendChild(this.displayAdContainer)}var e,i,s;return e=t,(i=[{key:"dispose",value:function(){this.hide(),this.displayAdCloseButton&&this.displayAdCloseButton.removeEventListener("click",this.this.boundHide,!1)}},{key:"init",value:function(){var t=this;this.displayAdTimeout=setTimeout((function(){t.displayAdTimeout&&(clearTimeout(t.displayAdTimeout),t.displayAdTimeout=null),t.displayAdReadyToStart=!0,t.show()}),1e3*this.config.startTimeout)}},{key:"show",value:function(){var t=this;if((this.config.tag||this.config.template)&&this.displayAdReadyToStart&&!this.displayAdStarted&&(this.v.state.adUnitInView&&this.config.startInView||!this.config.startInView)&&!this.v.state.adIsLoaded&&!this.v.state.adUnitIsClicked){var e,i,s;if(this.displayAdStarted=!0,Object(o.e)("DISP_REQUEST",{},this.v),this.displayAdOverlay&&this.displayAdOverlay.classList.remove("displayNone"),this.config.tag)e=this.config.tag;else for(i in this.config.template.gptSizeWidth||(this.config.template.gptSizeWidth=300),this.config.template.gptSizeHeight||(this.config.template.gptSizeHeight=250),e=n.g[this.config.template.type],this.config.template)this.config.template.hasOwnProperty(i)&&"type"!==i&&(s=new RegExp("\\["+i+"\\]","gi"),e=e&&e.replace(s,this.config.template[i]));if(!e)return;var a=document.createRange().createContextualFragment(e);this.displayAdContainer&&this.displayAdContainer.appendChild(a),window[this.gptRenderCallback]=function(e){e&&!1===e.isEmpty?(Object(o.e)("DISP_IMP",{},t.v),t.displayAdOverlay&&t.displayAdOverlay.classList.add("vi-stories-display-ad-blur"),t.displayAdCloseButton&&t.displayAdCloseButton.classList.remove("displayNone"),t.v.tagConfig.OverlayMode>0&&t.v.topDiv.querySelector("#vi-stories-main-container").classList.remove("vi-stories-overlay-ui-enable"),t.v.state.displayAdIsVisible=!0,t.displayAdTimeout=setTimeout(t.boundHide,1e3*t.config.showTimeout)):(Object(o.e)("DISP_NOAD",{},t.v),t.hide())}}}},{key:"hide",value:function(){this.displayAdTimeout&&(clearTimeout(this.displayAdTimeout),this.displayAdTimeout=null),this.displayAdStarted&&(this.config.tag||this.config.template)&&(this.displayAdOverlay&&this.displayAdOverlay.classList.add("displayNone"),this.displayAdContainer&&(this.displayAdContainer.innerHTML=""),this.v.tagConfig.OverlayMode>0&&this.v.topDiv.querySelector("#vi-stories-main-container").classList.add("vi-stories-overlay-ui-enable"),delete window[this.gptRenderCallback],this.v.state.displayAdIsVisible=!1)}},{key:"container",get:function(){return this.displayAdOverlay}}])&&v(e.prototype,i),s&&v(e,s),t}();function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.v=e,this._config=null,this.boundClose=this.close.bind(this),this.boundBannerClick=this.onBannerClick.bind(this),this.displayBannerOverlay=document.createElement("div"),this.displayBannerOverlay.classList.add("vi-stories-display-banner-overlay","displayNone")}var e,i,s;return e=t,(i=[{key:"dispose",value:function(){this.close(),this.displayBannerOverlay.removeEventListener("click",this.boundBannerClick,!0)}},{key:"init",value:function(){var t=this;if(this.config){this.config.template&&!this.config.template.gptRenderCallback&&(this.config.template.gptRenderCallback="displayBannerRenderCallback"),this.gptRenderCallback=this.config.template&&this.config.template.gptRenderCallback||"displayBannerRenderCallback";var e=(this.config.displayBannerWidth||this.config.width||320)+"x"+(this.config.displayBannerHeight||this.config.height||80);this.displayBannerOverlay.classList.add("size"+e),this.config.closeButton&&(this.displayBannerCloseButton=document.createElement("div"),this.displayBannerCloseButton.classList.add("vi-stories-display-banner-close-button","displayNone"),this.displayBannerCloseButton.addEventListener("click",this.boundClose,!1),this.displayBannerOverlay.appendChild(this.displayBannerCloseButton)),this.config.hasOwnProperty("startTimeout")||(this.config.startTimeout=0),this.config.hasOwnProperty("showTimeout")||(this.config.showTimeout=-1),this.config.clickTrackingUrl&&this.displayBannerOverlay.addEventListener("click",this.boundBannerClick,!0),this.displayBannerTimeout=setTimeout((function(){t.displayBannerTimeout&&(clearTimeout(t.displayBannerTimeout),t.displayBannerTimeout=null),t.displayBannerReadyToStart=!0,t.show()}),1e3*this.config.startTimeout)}}},{key:"show",value:function(){var t=this;if(this.config)if((this.config.tag||this.config.template)&&this.displayBannerReadyToStart&&!this.displayBannerStarted&&"content"===this.v.state.currentVideoType){var e,i,s;if(this.displayBannerStarted=!0,Object(o.e)("DISP_B_REQUEST",{},this.v),this.displayBannerOverlay&&this.displayBannerOverlay.classList.remove("displayNone"),this.config.tag)e=this.config.tag;else for(i in this.config.template.gptSizeWidth||(this.config.template.gptSizeWidth=1),this.config.template.gptSizeHeight||(this.config.template.gptSizeHeight=1),this.counter||(this.counter=0),this.config.template.gptDivId+="__"+this.counter++,e=n.g[this.config.template.type],this.config.template)this.config.template.hasOwnProperty(i)&&"type"!==i&&(s=new RegExp("\\["+i+"\\]","gi"),e=e&&e.replace(s,this.config.template[i]));if(!e)return;var a=document.createRange().createContextualFragment(e);this.displayBannerOverlay&&this.displayBannerOverlay.appendChild(a),window[this.gptRenderCallback]=function(e){e&&!1===e.isEmpty?(Object(o.e)("DISP_B_IMP",{},t.v),t.displayBannerCloseButton&&t.displayBannerCloseButton.classList.remove("displayNone"),t.config.showTimeout>-1&&(t.displayBannerTimeout=setTimeout(t.boundClose,1e3*t.config.showTimeout))):(Object(o.e)("DISP_B_NOAD",{},t.v),t.close())}}else(this.config.tag||this.config.template)&&this.displayBannerStarted&&-1===this.config.showTimeout&&this.displayBannerOverlay&&this.displayBannerOverlay.classList.remove("displayNone")}},{key:"hide",value:function(){this.displayBannerOverlay&&this.displayBannerOverlay.classList.add("displayNone"),this.config&&this.config.showTimeout>-1&&this.displayBannerStarted&&this.close()}},{key:"close",value:function(){this.displayBannerTimeout&&(clearTimeout(this.displayBannerTimeout),this.displayBannerTimeout=null),this.config&&(this.config.tag||this.config.template)&&this.displayBannerStarted&&(this.displayBannerOverlay&&(this.displayBannerCloseButton&&this.displayBannerCloseButton.removeEventListener("click",this.boundClose,!1),this.displayBannerOverlay.classList.add("displayNone"),this.displayBannerOverlay.innerHTML=""),delete window[this.gptRenderCallback],this.config=null,this.displayBannerReadyToStart=!1,this.displayBannerStarted=!1)}},{key:"onBannerClick",value:function(t){this.config&&this.config.clickTrackingUrl&&(document.createElement("img").src=this.config.clickTrackingUrl)}},{key:"container",get:function(){return this.displayBannerOverlay}},{key:"config",get:function(){return this._config},set:function(t){this._config=t}}])&&h(e.prototype,i),s&&h(e,s),t}(),g=i(3),f=i(1);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=b(this,C(e).call(this))).v=t,i.config=t.tagConfig.FallbackTag,i._adsourcesexhausted=!1,i._waitForPrebid=!1,i}var i,n,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,t),i=e,(n=[{key:"dispose",value:function(){this.hide()}},{key:"show",value:function(){var t=this;if(this.adsourcesexhausted&&!this.waitForPrebid&&!this.fallbackRenderStarted&&!this.v.state.adUnitIsClicked){this.fallbackRenderStarted=!0;var e=document.createElement("div");e.id="bakAdUnit",e.classList.add("displayNone"),this.v.topDiv.appendChild(e),window.fallbackAdReadyCallback=function(){e.classList.remove("displayNone"),t.dispatchEvent("vi-stories-fallback-event"),Object(o.e)("FALLBACK",{},t.v),delete window.fallbackAdReadyCallback},this.v.tagConfig.FallbackTagSettings&&this.v.tagConfig.FallbackTagSettings.waitForAdReady||window.fallbackAdReadyCallback();var i,n,s={cb:Object(f.z)(),consent:this.v.env.consent||"",divId:this.v.topDivId,pageUrl:this.v.env.pageUrl},a=this.config;for(i in s)s.hasOwnProperty(i)&&(n=new RegExp("\\{\\{"+i+"\\}\\}","gi"),a=a&&a.replace(n,s[i]));var r=document.createRange().createContextualFragment(a);e.appendChild(r)}}},{key:"hide",value:function(){}},{key:"adsourcesexhausted",get:function(){return this._adsourcesexhausted},set:function(t){this._adsourcesexhausted=t,this.show()}},{key:"waitForPrebid",get:function(){return this._waitForPrebid},set:function(t){this._waitForPrebid=t,this.show()}}])&&m(i.prototype,n),s&&m(i,s),e}(g.a);function x(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var P=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.v=e,this.boundLicenseClickHandler=this.onLicenseButtonClick.bind(this),this.boundCloseAreaClickHandler=this.onCloseAreaClick.bind(this)}var e,i,o;return e=t,(i=[{key:"dispose",value:function(){this.hide()}},{key:"show",value:function(){if(this.v.video[this.v.videoIdx].licenseInfo&&!this.licenseInfoButton){var t=this.v.topDiv.querySelector("#vi-stories-player-container"),e=t.querySelector(".GUI-module__controlsBtns")||t.querySelector("#right");e&&(this.licenseInfoButton=document.createElement("div"),this.licenseInfoButton.id="vi-stories-license-info-button",this.licenseInfoButton.style.display="inline",this.licenseInfoButton.addEventListener("click",this.boundLicenseClickHandler,!1),e.appendChild(this.licenseInfoButton))}}},{key:"hide",value:function(){this.licenseInfoButton&&(this.licenseInfoButton.removeEventListener("click",this.boundLicenseClickHandler,!1),this.licenseInfoButton.parentNode&&this.licenseInfoButton.parentNode.removeChild(this.licenseInfoButton),this.licenseInfoButton=null)}},{key:"onLicenseButtonClick",value:function(){this.v.video[this.v.videoIdx].licenseInfo&&(this.licenseInfoDialog=document.createElement("div"),this.licenseInfoDialog.id="vi-stories-license-info-dialog",this.licenseInfoDialog.classList.add("vi-stories-dialog-component"),this.licenseInfoDialog.innerHTML='         <div class="vi-stories-license-info-dialog-title vi-stories-dialog-component">'+n.d.licenseInfoTitle+'</div>           <div id="vi-stories-license-info-dialog-close-button"></div>           <div id="vi-stories-license-info-dialog-data" class="vi-stories-dialog-component">             <dl class="vi-stories-dialog-component">               <dt class="vi-stories-dialog-component">'+n.d.licenseInfoCreator+':</dt>               <dd class="vi-stories-dialog-component">'+this.v.video[this.v.videoIdx].licenseInfo.creator+'</dd>               <dt class="vi-stories-dialog-component">'+n.d.licenseInfoLicense+':</dt>               <dd class="vi-stories-dialog-component">                 <a class="vi-stories-dialog-component" href="'+this.v.video[this.v.videoIdx].licenseInfo.licenseLink+'" target="_blank">'+this.v.video[this.v.videoIdx].licenseInfo.licenseName+'</a>               </dd>               <dt class="vi-stories-dialog-component">                 <a class="vi-stories-dialog-component" href="'+this.v.video[this.v.videoIdx].licenseInfo.licenseOriginal+'" target="_blank">'+n.d.licenseInfoOriginalVideo+"</a>               </dt>             </dl>         </div> ",this.v.topDiv.querySelector("#vi-stories-player-container").appendChild(this.licenseInfoDialog),this.v.topDiv.querySelector("#vi-stories-main-container").addEventListener("click",this.boundCloseAreaClickHandler,!0))}},{key:"hideLicenseInfoDialog",value:function(){this.licenseInfoDialog&&(this.licenseInfoDialog.parentNode.removeChild(this.licenseInfoDialog),this.licenseInfoDialog=null),this.v.topDiv.querySelector("#vi-stories-main-container").removeEventListener("click",this.boundCloseAreaClickHandler,!0)}},{key:"onCloseAreaClick",value:function(t){t&&t.target&&t.target.classList.contains("vi-stories-dialog-component")||this.hideLicenseInfoDialog()}}])&&x(e.prototype,i),o&&x(e,o),t}(),O=[];function k(){for(var t,e,i=0;i<O.length;i++)!1===(t=O[i]).started&&(t.startCallback&&t.startCallback(t.startValue),t.started=!0,t.startTime=new Date),(e=(new Date-t.startTime)/200)>1&&(e=1),t.target.style[t.property]=t.startValue+t.deltaValue*e+"px",1===e&&(t.endCallback&&t.endCallback(),t.startTime=null,t.started=!1);for(var n=O.length-1;n>=0;n--)!1===O[n].started&&O.splice(n,1);O.length>0&&window.requestAnimationFrame(k)}function _(t,e,i,n,o,s){t&&e&&Object(f.r)(i)&&Object(f.r)(n)&&(O.push({target:t,property:e,startValue:i,endValue:n,deltaValue:n-i,startTime:null,started:!1,startCallback:o,endCallback:s}),window.requestAnimationFrame(k))}function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){function e(t){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=function(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?S(t):e}(this,M(e).call(this))).v=t,i.config=t.tagConfig.PlaylistSettings,i.scrollStep=1,i.playlistContainer=document.createElement("div"),i.playlistContainer.id="vi-stories-playlist-container",i.playlistContainer.classList.add("vi-stories-z-index-base","vi-stories-hide-while-floating"),i.maxEntries=Math.min(4,i.v.video.length),i.startIdx=i.v.videoIdx;var n=document.createElement("div");if(n.id="vi-stories-playlist-entries-viewport",i.playlistContainer.appendChild(n),i.playlistEntries=document.createElement("div"),i.playlistEntries.id="vi-stories-playlist-entries",n.appendChild(i.playlistEntries),i.v.video.length>i.maxEntries){var o=document.createElement("div");o.classList.add("vi-stories-playlist-nav","vi-stories-playlist-nav-left");var s=document.createElement("div");s.classList.add("vi-stories-playlist-nav","vi-stories-playlist-nav-right"),i.playlistContainer.appendChild(o),i.playlistContainer.appendChild(s)}return i.render(),i.throttleClickHandler=Object(f.D)(i.onClickHandler,500,S(i)),i.playlistContainer.addEventListener("click",i.throttleClickHandler,!1),i}var i,s,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,t),i=e,(s=[{key:"update",value:function(){this.config.autoScroll&&(this.startIdx=this.v.videoIdx),this.render()}},{key:"dispose",value:function(){this.playlistContainer&&this.playlistContainer.removeEventListener("click",this.throttleClickHandler,!1)}},{key:"render",value:function(){if(this.playlistEntries){this.playlistEntries.innerHTML="";for(var t,e=this.startIdx,i=!1,n=0;n<this.maxEntries;n++)e+n>=this.v.video.length&&(e=-n),t=this.v.video[e+n],i=e+n===this.v.videoIdx,this.playlistEntries.appendChild(this.renderItem(t,i))}}},{key:"renderItem",value:function(t,e){var i,o,s,a,r;if((i=document.createElement("div")).classList.add("vi-stories-playlist-entry"),i.setAttribute("data-id",t.id),i.style.backgroundImage="url("+t.thumbnail+")",(o=document.createElement("div")).classList.add("vi-stories-playlist-entry-blur"),o.setAttribute("data-id",t.id),(s=document.createElement("div")).classList.add("vi-stories-playlist-entry-icon"),s.setAttribute("data-id",t.id),(a=document.createElement("div")).classList.add("vi-stories-playlist-entry-text"),a.setAttribute("data-id",t.id),a.innerHTML=t.title,(r=document.createElement("div")).classList.add("vi-stories-playlist-entry-duration"),r.setAttribute("data-id",t.id),r.innerHTML=Object(f.b)(t.duration),i.appendChild(o),i.appendChild(s),i.appendChild(a),i.appendChild(r),e){i.classList.add("vi-stories-playlist-current-item");var l=document.createElement("div");l.classList.add("vi-stories-playlist-entry-now"),l.setAttribute("data-id",t.id),l.innerHTML=n.d.nowPlaying,i.appendChild(l)}return i}},{key:"determineEntryWidth",value:function(){if(!this.entryWidth){var t=this.playlistEntries.firstChild,e=t&&window.getComputedStyle(t,null);this.entryWidth=e&&t.offsetWidth+parseFloat(e.getPropertyValue("margin-left"))+parseFloat(e.getPropertyValue("margin-right"))}}},{key:"navigateLeft",value:function(){var t=this;this.determineEntryWidth(),_(this.playlistEntries,"left",-this.entryWidth,0,(function(){var e=t.startIdx-t.scrollStep;e<0&&(e+=t.v.video.length);var i=t.v.video[e];t.playlistEntries&&t.playlistEntries.insertBefore(t.renderItem(i,e===t.v.videoIdx),t.playlistEntries.firstChild),t.playlistEntries&&(t.playlistEntries.style.left=-t.entryWidth+"px")}),(function(){t.startIdx-=t.scrollStep,t.startIdx<0&&(t.startIdx+=t.v.video.length),t.playlistEntries&&t.playlistEntries.removeChild(t.playlistEntries.lastChild)}))}},{key:"navigateRight",value:function(){var t=this;this.determineEntryWidth(),_(this.playlistEntries,"left",0,-this.entryWidth,(function(){var e=t.startIdx+t.maxEntries;e>=t.v.video.length&&(e-=t.v.video.length);var i=t.v.video[e];t.playlistEntries&&t.playlistEntries.appendChild(t.renderItem(i,e===t.v.videoIdx))}),(function(){t.startIdx+=t.scrollStep,t.startIdx>=t.v.video.length&&(t.startIdx-=t.v.video.length),t.playlistEntries&&(t.playlistEntries.style.left=0,t.playlistEntries.removeChild(t.playlistEntries.firstChild))}))}},{key:"onClickHandler",value:function(t){var e=t&&t.target;if(e)if(e.classList.contains("vi-stories-playlist-nav-left"))this.navigateLeft();else if(e.classList.contains("vi-stories-playlist-nav-right"))this.navigateRight();else if((e.classList.contains("vi-stories-playlist-entry")||e.classList.contains("vi-stories-playlist-entry-blur")||e.classList.contains("vi-stories-playlist-entry-icon")||e.classList.contains("vi-stories-playlist-entry-text")||e.classList.contains("vi-stories-playlist-entry-duration"))&&e.getAttribute("data-id")){for(var i,n,s=e.getAttribute("data-id"),a=0;a<this.v.video.length;a++)if(this.v.video[a].id===s){i=this.v.video[a],n=a;break}if(i){var r={nv_navigate_to_video_id:i.id};Object(o.e)("NV_SUGGESTION_CLICK",r,this.v),this.v.tagConfig.AutoStart=!0,this.v.state.pendingNextTrack=!0,this.v.state.pendingNextIdx=n}this.dispatchEvent("vi-stories-video-open-event")}}},{key:"container",get:function(){return this.playlistContainer}}])&&T(i.prototype,s),a&&T(i,a),e}(g.a),j=i(4);function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var R=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=function(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?B(t):e}(this,U(e).call(this))).v=t,i.config=t.prebidConfig,i._adsourcesexhausted=!1,i.win=i.v.env.fif&&window.frameElement&&window.top||window,i.pbjs=i.config.globalVarName||"pbjs",i.code=i.config.adUnits[0].code,i.adapterMap=i.config.adUnits.reduce((function(t,e){return e.bids.reduce((function(t,e){return t.name[e.bidder]=e.name||e.bidder,t.factor[e.bidder]=e.factor||1,t}),t),t}),{name:{},factor:{}}),i.prebidContainer=i.win.document.createElement("div"),i.prebidContainer.id=i.code,i.winningBid=null,Object(j.b)(i.config.url||n.h.prebid,i.win.document),i.win[i.pbjs]||(i.win[i.pbjs]={}),i.win[i.pbjs].cmd||(i.win[i.pbjs].cmd=[]),i.win[i.pbjs].cmd.push((function(){i.win[i.pbjs].onEvent("bidRequested",(function(t){var e={adapter:i.adapterMap.name[t.bidderCode]};Object(o.e)("PREBID_REQUEST",e,i.v)})),i.win[i.pbjs].onEvent("bidTimeout",(function(t){Object(f.p)(t)&&t.forEach((function(t){var e={adapter:i.adapterMap.name[t.bidder]};Object(o.e)("PREBID_TIMEOUT",e,i.v)}))})),i.win[i.pbjs].onEvent("bidResponse",(function(t){var e={adapter:i.adapterMap.name[t.bidderCode],cpm:t.cpm};Object(o.e)("PREBID_BID",e,i.v)})),i.win[i.pbjs].onEvent("bidWon",(function(t){var e={adapter:i.adapterMap.name[t.bidderCode],cpm:t.cpm};Object(o.e)("PREBID_WON",e,i.v)})),i.win[i.pbjs].onEvent("bidImp",(function(t){var e={adapter:i.adapterMap.name[i.winningBid.bidderCode],cpm:t.cpm};Object(o.e)("PREBID_IMP",e,i.v)})),i.win[i.pbjs].onEvent("bidAdLoaded",(function(t){var e={adapter:i.adapterMap.name[i.winningBid.bidderCode],cpm:t.cpm};Object(o.e)("PREBID_AD_LOADED",e,i.v)})),i.win[i.pbjs].onEvent("adRenderFailed",(function(t){var e={adapter:i.adapterMap.name[i.winningBid.bidderCode],error_msg:t.reason+" / "+t.message};Object(o.e)("PREBID_AD_RENDER_FAILED",e,i.v)}));var t={bidderTimeout:i.config.bidderTimeout||2e3};i.config.consentManagement&&(t.consentManagement={usp:{cmpApi:"iab",timeout:5e3}},i.v.env.consent&&(i.v.env.amp?t.consentManagement.gdpr={cmpApi:"static",timeout:5e3,consentData:{getTCData:{tcString:i.v.env.consent,gdprApplies:!0}}}:t.consentManagement.gdpr={cmpApi:"iab",timeout:5e3,defaultGdprScope:!0})),i.win[i.pbjs].setConfig(t),i.win[i.pbjs].addAdUnits(i.config.adUnits),i.win[i.pbjs].requestBids({bidsBackHandler:i.bidsBackHandler.bind(B(i))})})),i}var i,s,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(e,t),i=e,(s=[{key:"dispose",value:function(){this.hide()}},{key:"show",value:function(){if(this.winningBid&&this.adsourcesexhausted&&!this.prebidRenderStarted&&(this.v.state.adUnitInView||!this.config.startInView)&&!this.v.state.adUnitIsClicked){this.prebidRenderStarted=!0,this.dispatchEvent("vi-stories-prebid-imp-event"),this.v.env.fif&&window.frameElement&&(window.frameElement.style.display="none");var t=this.win.document.createElement("iframe");t.style.border="none","video"===this.winningBid.mediaType&&(t.style.display="none"),t.scrolling="no",this.container.appendChild(t),this.win[this.pbjs].renderAd(t.contentDocument,this.winningBid.adId)}}},{key:"hide",value:function(){}},{key:"bidsBackHandler",value:function(t,e){var i=this;t=t[this.code]&&t[this.code].bids||[],Object(f.p)(t)&&t.length>0&&(this.winningBid=t.reduce((function(t,e){return t.cpm*i.adapterMap.factor[t.bidderCode]>=e.cpm*i.adapterMap.factor[e.bidderCode]?t:e}))),this.winningBid?this.show():this.dispatchEvent("vi-stories-prebid-nobid-event")}},{key:"container",get:function(){return this.prebidContainer}},{key:"adsourcesexhausted",get:function(){return this._adsourcesexhausted},set:function(t){this._adsourcesexhausted=t,this.show()}}])&&D(i.prototype,s),a&&D(i,a),e}(g.a);function z(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var F=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.v=e,this.config=e.tagConfig.SocialSharing,this.boundFbShareClickHandler=this.fbShare.bind(this),this.boundTweetClickHandler=this.tweet.bind(this),this.boundLinkedInShareClickHandler=this.linkedinShare.bind(this)}var e,i,n;return e=t,(i=[{key:"dispose",value:function(){this.hide()}},{key:"show",value:function(){this.hide();var t=this.v.topDiv.querySelector("#vi-stories-player-container"),e=t.querySelector(".GUI-module__controlsBtns")||t.querySelector("#right");e&&(this.config.facebook&&(this.fbShareButton=document.createElement("div"),this.fbShareButton.classList.add("vi-stories-social-share-button","vi-stories-fb-share-button"),this.fbShareButton.addEventListener("click",this.boundFbShareClickHandler,!1),e.appendChild(this.fbShareButton)),this.config.twitter&&(this.tweetButton=document.createElement("div"),this.tweetButton.classList.add("vi-stories-social-share-button","vi-stories-tweet-button"),this.tweetButton.addEventListener("click",this.boundTweetClickHandler,!1),e.appendChild(this.tweetButton)),this.config.linkedin&&(this.linkedinShareButton=document.createElement("div"),this.linkedinShareButton.classList.add("vi-stories-social-share-button","vi-stories-linkedin-share-button"),this.linkedinShareButton.addEventListener("click",this.boundLinkedInShareClickHandler,!1),e.appendChild(this.linkedinShareButton)))}},{key:"hide",value:function(){this.fbShareButton&&(this.fbShareButton.removeEventListener("click",this.boundFbShareClickHandler,!1),this.fbShareButton.parentNode&&this.fbShareButton.parentNode.removeChild(this.fbShareButton),this.fbShareButton=null),this.tweetButton&&(this.tweetButton.removeEventListener("click",this.boundTweetClickHandler,!1),this.tweetButton.parentNode&&this.tweetButton.parentNode.removeChild(this.tweetButton),this.tweetButton=null),this.linkedinShareButton&&(this.linkedinShareButton.removeEventListener("click",this.boundLinkedInShareClickHandler,!1),this.linkedinShareButton.parentNode&&this.linkedinShareButton.parentNode.removeChild(this.linkedinShareButton),this.linkedinShareButton=null)}},{key:"fbShare",value:function(){this.socialShare("facebook","https://www.facebook.com/sharer/sharer.php?u=")}},{key:"tweet",value:function(){this.socialShare("twitter","https://twitter.com/intent/tweet?url=")}},{key:"linkedinShare",value:function(){this.socialShare("linkedin","https://www.linkedin.com/shareArticle?mini=true&url=")}},{key:"socialShare",value:function(t,e){var i=Object(f.A)(decodeURIComponent(this.v.env.pageUrl),"viStoriesId",this.v.video[this.v.videoIdx].id);window.open(e+encodeURIComponent(i),t+"-share-dialog","width=800,height=620");var n={data:t};Object(o.e)("CLICK_SHARE",n,this.v)}}])&&z(e.prototype,i),n&&z(e,n),t}();function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Y=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=function(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?Z(t):e}(this,G(e).call(this))).v=t,i.playerSuggestionOverlay=document.createElement("div"),i.playerSuggestionOverlay.id="vi-stories-player-suggestion-overlay",i.playerSuggestionOverlay.classList.add("displayNone"),i.boundSuggestedClickHandler=i.onSuggestedBtnClick.bind(Z(i)),i.playerSuggestionOverlay.addEventListener("click",i.boundSuggestedClickHandler,!1),i}var i,n,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(e,t),i=e,(n=[{key:"dispose",value:function(){this.hide(),this.playerSuggestionOverlay&&this.playerSuggestionOverlay.removeEventListener("click",this.boundSuggestedClickHandler,!1)}},{key:"show",value:function(){this.v.topDiv.querySelector("#vi-stories-main-container").classList.add("vi-stories-suggestion-overlay-show"),this.playerSuggestionOverlay&&(this.playerSuggestionOverlay.classList.remove("displayNone"),this.playerSuggestionOverlay.hasChildNodes()||this.createSuggestions())}},{key:"hide",value:function(){this.v.topDiv.querySelector("#vi-stories-main-container").classList.remove("vi-stories-suggestion-overlay-show"),this.playerSuggestionOverlay&&this.playerSuggestionOverlay.classList.add("displayNone")}},{key:"createSuggestions",value:function(){if(this.playerSuggestionOverlay){this.playerSuggestionOverlay.innerHTML="",this.playerSuggestionOverlay.classList.remove("displayNone");for(var t,e,i,n,o,s,a=this.v.topDiv.querySelector("#vi-stories-main-container"),r=a&&a.offsetWidth<500?1:this.v.tagConfig.PlayerSuggestionOverlayNo,l=this.v.videoIdx+1,d=0;d<r;d++)l+d>=this.v.video.length&&(l=-d),e=this.v.video[l+d],(t=document.createElement("div")).classList.add("vi-stories-player-suggestion-entry"),t.setAttribute("data-id",e.id),t.style.backgroundImage="url("+e.thumbnail+")",(i=document.createElement("div")).classList.add("vi-stories-player-suggestion-blur"),i.setAttribute("data-id",e.id),(n=document.createElement("div")).classList.add("vi-stories-player-suggestion-icon"),n.setAttribute("data-id",e.id),(o=document.createElement("div")).classList.add("vi-stories-player-suggestion-text"),o.setAttribute("data-id",e.id),o.innerHTML=e.title,(s=document.createElement("div")).classList.add("vi-stories-player-suggestion-duration"),s.setAttribute("data-id",e.id),s.innerHTML=Object(f.b)(e.duration),t.appendChild(i),t.appendChild(n),t.appendChild(o),t.appendChild(s),this.playerSuggestionOverlay.appendChild(t)}}},{key:"onSuggestedBtnClick",value:function(t){var e=t&&t.target,i=e&&(e.classList.contains("vi-stories-player-suggestion-entry")||e.classList.contains("vi-stories-player-suggestion-blur")||e.classList.contains("vi-stories-player-suggestion-icon")||e.classList.contains("vi-stories-player-suggestion-text")||e.classList.contains("vi-stories-player-suggestion-duration"))&&e.getAttribute("data-id");if(i){var n,s;this.playerSuggestionOverlay&&(this.playerSuggestionOverlay.classList.add("displayNone"),this.playerSuggestionOverlay.innerHTML="");for(var a=0;a<this.v.video.length;a++)if(this.v.video[a].id===i){n=this.v.video[a],s=a;break}if(n){var r={nv_navigate_to_video_id:n.id};Object(o.e)("NV_SUGGESTION_CLICK",r,this.v),this.v.tagConfig.AutoStart=!0,this.v.state.pendingNextTrack=!0,this.v.state.pendingNextIdx=s}this.dispatchEvent("vi-stories-video-open-event")}}},{key:"container",get:function(){return this.playerSuggestionOverlay}}])&&W(i.prototype,n),s&&W(i,s),e}(g.a);function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function K(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tt=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=function(t,e){return!e||"object"!==Q(e)&&"function"!=typeof e?K(t):e}(this,X(e).call(this))).v=t,i.config=t.tagConfig.UnmuteOverlay,i.lastContent="",i.disposed=!1,i.unmuteOverlay=document.createElement("div"),i.unmuteOverlay.classList.add("vi-stories-unmute-overlay","displayNone"),i.config.label&&(i.unmuteLabel=document.createElement("div"),i.unmuteLabel.classList.add("vi-stories-unmute-label"),i.unmuteLabel.innerHTML=i.config.label,i.unmuteOverlay.appendChild(i.unmuteLabel)),i.boundUnmuteFromOverlay=i.unmuteFromOverlay.bind(K(i)),i.unmuteOverlay.addEventListener("click",i.boundUnmuteFromOverlay,!1),i}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(e,t),i=e,(n=[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.lastContent="",this.hide(),this.unmuteOverlay&&this.unmuteOverlay.removeEventListener("click",this.boundUnmuteFromOverlay,!1),clearTimeout(this.shrinkTimeout),this.shrinkTimeout=null,clearTimeout(this.closeTimeout),this.closeTimeout=null)}},{key:"show",value:function(t){var e=this;this.disposed||(this.config.showOverAd&&"ad"===t||this.config.showOverContent&&"content"===t?this.lastContent!==t&&(this.lastContent=t,this.unmuteOverlay.classList.remove("displayNone"),this.unmuteOverlay.classList.remove("vi-stories-unmute-overlay-ad","vi-stories-unmute-overlay-content"),this.unmuteOverlay.classList.add("vi-stories-unmute-overlay-"+t),this.unmuteLabel&&this.unmuteLabel.classList.remove("displayNone"),this.config.shrinkTimeout&&this.unmuteLabel&&(clearTimeout(this.shrinkTimeout),this.shrinkTimeout=setTimeout((function(){clearTimeout(e.shrinkTimeout),e.shrinkTimeout=null,e.unmuteLabel.classList.add("displayNone")}),1e3*this.config.shrinkTimeout)),this.config.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout((function(){clearTimeout(e.closeTimeout),e.closeTimeout=null,e.hide()}),1e3*this.config.closeTimeout))):this.hide())}},{key:"hide",value:function(){this.unmuteOverlay.classList.add("displayNone"),this.unmuteOverlay.classList.remove("vi-stories-unmute-overlay-ad","vi-stories-unmute-overlay-content")}},{key:"showOverAd",value:function(){this.show("ad")}},{key:"showOverContent",value:function(){this.show("content")}},{key:"unmuteFromPlayer",value:function(){this.disposed||this.dispose()}},{key:"unmuteFromOverlay",value:function(){this.dispatchEvent("vi-stories-unmute-from-overlay-event"),this.dispose()}},{key:"container",get:function(){return this.unmuteOverlay}}])&&J(i.prototype,n),o&&J(i,o),e}(g.a);function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function nt(t,e){return!e||"object"!==et(e)&&"function"!=typeof e?st(t):e}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rt={1:{},2:{},4:{BG_Color:"transparent",TruncateTitleLines:5}},lt=function(t){function e(t,i){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(s=nt(this,ot(e).call(this))).v=t,s._player=null,s._mainContainer=null,s._playerContainer=null,s.companionAdForVideoAd=!1,s.v.tagConfig=Object(f.c)(s.v.tagConfig,rt[s.v.tagConfig.AdUnitType.toString()]);var a,r,l=0,d=0,c=!1,v=document.getElementById(s.v.topDivId);if(!v){if(-1!==s.v.tagConfig.StopCondition.indexOf("missingDivID")&&s.v.topDivId!=="vi-stories-top-div-"+s.v.env.adUnitId)return Object(o.e)("ERROR",{error_msg:n.e.stopCondition+": missingDivID"},s.v),nt(s);if((v=document.createElement("div")).id=s.v.topDivId,s.v.tagConfig.PlacementSelector)if((r=Object(f.w)(s.v.tagConfig.PlacementSelector.position,s.v.tagConfig.PlacementSelector.selector,v))&&"exact"===s.v.tagConfig.PlacementSelector.position)(v=r).id?s.v.topDivId=v.id:v.id=s.v.topDivId;else if(!r&&-1!==s.v.tagConfig.StopCondition.indexOf("missingPlacementSelector"))return Object(o.e)("ERROR",{error_msg:n.e.stopCondition+": missingPlacementSelector"},s.v),nt(s);r||i.parentNode.insertBefore(v,i)}v.classList.add("vi-stories-top-div","viUnit"+s.v.tagConfig.AdUnitType),s.v.topDiv=v,window.frameElement&&window.frameElement.offsetHeight>0?a=window.frameElement.getBoundingClientRect():0===(a=s.v.topDiv.getBoundingClientRect()).width&&0===a.height&&(a=s.v.topDiv.parentNode.getBoundingClientRect()),s.v.tagConfig.FixedRatio?a.height>100&&a.height*s.v.tagConfig.FixedRatio<a.width?(l=a.height*s.v.tagConfig.FixedRatio,d=a.height):(l=a.width,d=a.width/s.v.tagConfig.FixedRatio):l=(c=s.v.tagConfig.Resize65&&a.height>100&&a.height*s.v.tagConfig.Resize65Ratio<a.width)?a.height*s.v.tagConfig.Resize65Ratio:a.width,l=Math.floor(l),d=Math.floor(d);var u=document.createElement("div");u.id="vi-stories-main-placeholder",u.classList.add("displayNone"),s.mainContainer=document.createElement("div"),s.mainContainer.id="vi-stories-main-container",s.mainContainer.classList.add("vi-stories-main-container","vi-stories-z-index-base",Object(f.F)(l)),s.mainContainer.style.width=l+"px",Object(f.q)()&&s.mainContainer.classList.add("vi-stories-mobile"),s.v.tagConfig.FixedRatio&&s.mainContainer.classList.add("fixedRatio"),s.v.tagConfig.OverlayMode>0&&s.mainContainer.classList.add("vi-stories-overlay-ui","vi-stories-overlay-ui-enable","vi-stories-overlay-ui-show"),d&&(s.mainContainer.style.height=d+"px"),s.playerContainer=document.createElement("div"),s.playerContainer.id="vi-stories-player-container",s.playerContainer.classList.add("vi-stories-player-container","vi-stories-z-index-base");var h=document.createElement("div");h.id="vi-stories-ad-container";var p=document.createElement("div");return p.id="vi-stories-gui-container",s.closeButton=document.createElement("div"),s.closeButton.id="vi-stories-close-button",s.closeButton.classList.add("pointer","displayNone","vi-stories-position",s.v.tagConfig.CloseButtonSettings.position,s.v.tagConfig.CloseButtonSettings.location),s.playerContainer.appendChild(h),s.playerContainer.appendChild(p),s.mainContainer.appendChild(s.playerContainer),s.mainContainer.appendChild(s.closeButton),s.v.topDiv.appendChild(u),s.v.topDiv.appendChild(s.mainContainer),s.resizeCheck={storedWidth:s.v.tagConfig.ResizeCheckAfterLoad&&(s.v.tagConfig.FixedRatio||c?0:l),counter:0,maxCount:60},s.resizeCheck.storedWidth&&(s.boundCheckResize=s.checkResize.bind(st(s)),s.boundCheckResize()),!Object(f.u)(s.v.topDiv.parentNode)||0===s.v.topDiv.parentNode.offsetHeight&&0===l?(Object(o.e)("ERROR",{error_msg:n.e.nonVisible},s.v),nt(s)):(s.v.env.amp||!s.v.tagConfig.HideUnit||-1===s.v.tagConfig.HideUnit.indexOf("beforeAd")&&-1===s.v.tagConfig.HideUnit.indexOf("beforeRcAndAd")||(s.v.tagConfig.ClickToPlay=!1,s.v.tagConfig.DelayWaterfallStart=!1,s.v.tagConfig.DisplayAd=null,s.mainContainer.classList.add("hideUnitBeforeAd","displayNone"),s.v.env.fif&&window.frameElement&&(window.frameElement.style.display="none")),s.size={width:l,height:d},s)}var i,s,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(e,t),i=e,(s=[{key:"render",value:function(){var t=this;if(this.mainContainer){var e,i=!1;this.v.tagConfig.FixedRatio&&(e=this.mainContainer.offsetHeight-this.playerContainer.offsetHeight)&&!this.v.tagConfig.FontSize&&(this.v.tagConfig.FontSize=Math.min(18,.25*e)+"px"),this.v.tagConfig.TextAbove||"top-left"===this.v.tagConfig.SponsorPosition||"top-right"===this.v.tagConfig.SponsorPosition||"outside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location&&"show"===this.v.tagConfig.CloseButton?this.v.tagConfig.AreaAbovePlaceholder=!0:"outside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location&&"whileFloating"===this.v.tagConfig.CloseButton&&this.v.env.fif&&window.frameElement&&(this.v.tagConfig.AreaAbovePlaceholder=!0,i=!0),""!==this.v.tagConfig.LogoUrl&&!1!==this.v.tagConfig.LogoUrl||(this.v.tagConfig.PoweredByText=!1),void 0===this.v.tagConfig.PoweredByText&&(this.v.tagConfig.PoweredByText=n.d.poweredBy);var o="      .vi-stories-z-index-base {         z-index:"+this.v.tagConfig.ZIndexBase+";       }       .vi-stories-z-index-float {         z-index:"+this.v.tagConfig.ZIndexFloat+";       } ";if(this.v.tagConfig.AccentColor&&(o+="        #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover,         #vi-stories-playlist-container .vi-stories-playlist-entry.vi-stories-playlist-current-item,         #vi-stories-playlist-container .vi-stories-playlist-entry:hover {           border-color:"+this.v.tagConfig.AccentColor+";         }         #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-duration,         #vi-stories-playlist-container .vi-stories-playlist-entry-duration,         #vi-stories-playlist-container .vi-stories-playlist-entry-now,         #vi-stories-gui-container .GUI-module__gui.GUI-module__container .GUI-module__timelineProgress {           background-color:"+this.v.tagConfig.AccentColor+";         }         #vi-stories-main-container #av-container #av-inner #gui #timeline #timeline-progress {           background:"+this.v.tagConfig.AccentColor+";         } "),this.v.tagConfig.AccentTextColor&&(o+="        #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-duration,         #vi-stories-playlist-container .vi-stories-playlist-entry-duration,         #vi-stories-playlist-container .vi-stories-playlist-entry-now {           color:"+this.v.tagConfig.AccentTextColor+";          } "),this.v.tagConfig.BG_Color&&(o+="        #vi-stories-main-container, #vi-stories-playlist-container .vi-stories-playlist-nav {           background-color:"+this.v.tagConfig.BG_Color+";         } "),this.v.tagConfig.BorderColor&&(o+="        #vi-stories-description-container {           border-color:"+this.v.tagConfig.BorderColor+";         } "),(this.v.tagConfig.Text_Color||this.v.tagConfig.FontSize||this.v.tagConfig.Font)&&(o+="        #vi-stories-text-above {           "+(this.v.tagConfig.Text_Color?"color: "+this.v.tagConfig.Text_Color+";":"")+"         }         #vi-stories-title {           "+(this.v.tagConfig.Text_Color?"color: "+this.v.tagConfig.Text_Color+";":"")+"           "+(this.v.tagConfig.Font?"font-family: "+this.v.tagConfig.Font+";":"")+"           "+(this.v.tagConfig.FontSize?"font-size: "+this.v.tagConfig.FontSize+";":"")+"         }         #vi-stories-sponsor-powered {           "+(this.v.tagConfig.Text_Color?"color: "+this.v.tagConfig.Text_Color+";":"")+"         } "),"ribbon"===this.v.tagConfig.FloatLayoutMode){var s=window.frameElement&&this.v.env.fif&&window.top.document||window.document,a=this.v.tagConfig.FloatLayoutSettings.ribbonPlayerWidth||.47;o+="        #vi-stories-main-container.vi-stories-ribbon-ui #vi-stories-player-container {           width: "+s.body.clientWidth*a+"px !important;           height: "+s.body.clientWidth*a*9/16+"px !important;         } "}if(this.v.tagConfig.Float&&this.v.tagConfig.FloatSize){if("playerVI"===this.v.tagConfig.Player){var r,d=this.mainContainer.clientWidth,v=1/this.v.tagConfig.FloatSize,h=v<1.43,g=1.43<=v&&v<2,f=h?10:g?15:25,y=h?20:g?30:60,m=15;d>=800?r=h?5:g?15:22:d>=700&&d<800?r=h?5:g?15:20:d>=600&&d<700?(f=h?10:g?15:20,r=h?5:g?15:20):d>=500&&d<600?(f=h||g?15:20,r=h?5:g?10:20,y=h?20:g?25:60):(f=3,r=5,y=10,m=0),o+="          .vi-stories-floating .GUI-module__controlsBtn {             transform: scale("+v+");             margin: 0 "+r+"px;           }           .vi-stories-floating .GUI-module__timeDisplay {             transform: scale("+v+");             margin: 0 "+y+"px;           }           .vi-stories-floating .GUI-module__gui.GUI-module__container .GUI-module__controlsBtns {             padding: "+f+"px 5px;           }           .vi-stories-floating .GUI-module__container .vi-stories-social-share-button {             transform: scale("+v+");             margin: 0 "+r+"px;           }           .vi-stories-floating #vi-stories-gui-container #vi-stories-license-info-button {             transform: scale("+v+");             margin: 9px "+m+"px 0 0;           } "}o+="        .vi-stories-floating #vi-stories-close-button {           transform: scale("+1/this.v.tagConfig.FloatSize+");         }         .vi-stories-floating #vi-stories-close-button.inside-vi-unit.top-left{           transform-origin: left top;         }         .vi-stories-floating #vi-stories-close-button.outside-vi-unit.top-left{           transform-origin: left bottom;         }         .vi-stories-floating #vi-stories-close-button.inside-vi-unit.top-right{           transform-origin: right top;         }         .vi-stories-floating #vi-stories-close-button.outside-vi-unit.top-right{           transform-origin: right bottom;         } "}var b=document.createElement("style");if(b.id="vi-css-gui",b.type="text/css",b.innerHTML=o,(document.getElementsByTagName("head")[0]||document.appendChild(document.createElement("head"))).appendChild(b),this.v.tagConfig.AreaAbovePlaceholder){var C=document.createElement("div");C.id="vi-stories-area-above-placeholder",C.classList.add("vi-stories-hide-while-floating"),i&&C.classList.add("displayNone"),this.v.topDiv.insertBefore(C,this.mainContainer),"outside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location&&("show"===this.v.tagConfig.CloseButton||"whileFloating"===this.v.tagConfig.CloseButton&&this.v.env.fif&&window.frameElement)&&(C.classList.remove("vi-stories-hide-while-floating"),C.classList.add("vi-stories-show-while-floating"))}if(this.v.tagConfig.TextAbove){var w=document.createElement("div");w.id="vi-stories-text-above",w.classList.add("vi-stories-hide-while-floating"),w.innerText=this.v.tagConfig.TextAbove,this.mainContainer.insertBefore(w,this.mainContainer.childNodes[0])}this.description=new c(this.v,e),this.mainContainer.appendChild(this.description.container),1===this.v.tagConfig.OverlayMode&&this.v.tagConfig.OverlaySettings&&!0===this.v.tagConfig.OverlaySettings.showLogoOutside&&(this.sponsor=new l(this.v),this.mainContainer.appendChild(this.sponsor.container)),(this.v.tagConfig.PlayerAdOverlayText||this.v.tagConfig.PlayerContentOverlayText||this.v.tagConfig.PlayerContentOverlayThumbnail)&&(this.playerPreviewOverlay=document.createElement("div"),this.playerPreviewOverlay.id="vi-stories-player-preview-overlay",this.playerPreviewOverlay.classList.add("displayFlex","displayNone","viTruncate1Line","vi-stories-position",this.v.tagConfig.PlayerOverlayTextPosition),this.playerTextOverlay=document.createElement("div"),this.playerTextOverlay.id="vi-stories-player-text-overlay",this.playerPreviewOverlay.appendChild(this.playerTextOverlay),this.v.tagConfig.PlayerContentOverlayThumbnail&&(this.playerImageOverlay=document.createElement("div"),this.playerImageOverlay.id="vi-stories-player-image-overlay",this.playerPreviewOverlay.appendChild(this.playerImageOverlay)),this.playerContainer&&this.playerContainer.appendChild(this.playerPreviewOverlay)),this.v.tagConfig.DisplayAd&&(this.displayAd=new u(this.v),this.mainContainer.appendChild(this.displayAd.container),this.displayAd.init()),this.v.tagConfig.DisplayBanner&&(this.displayBanner=new p(this.v),this.playerContainer&&this.playerContainer.appendChild(this.displayBanner.container)),"none"!==this.v.tagConfig.PlaylistSettings.ui&&!1===this.v.state.defaultVideo&&(this.playlistUi=new A(this.v),this.playlistUi.addEventListener("vi-stories-video-open-event",(function(){t.player&&t.player.playNextVideo(),t.player&&t.playerPreviewOverlay&&t.playerPreviewOverlay.classList.add("displayNone")}),this),this.mainContainer.appendChild(this.playlistUi.container)),this.v.tagConfig.SocialSharing&&(this.socialSharing=new F(this.v)),this.v.tagConfig.PlayerSuggestionOverlay&&(this.suggestions=new Y(this.v),this.suggestions.addEventListener("vi-stories-video-open-event",(function(){t.player&&t.player.playNextVideo(),t.player&&t.playerPreviewOverlay&&t.playerPreviewOverlay.classList.add("displayNone")}),this),this.playerContainer&&this.playerContainer.appendChild(this.suggestions.container)),this.v.tagConfig.UnmuteOverlay&&(this.unmuteOverlay=new tt(this.v),this.unmuteOverlay.addEventListener("vi-stories-unmute-from-overlay-event",(function(){t.player&&t.player.unmutePlayer()}),this),this.playerContainer&&this.playerContainer.appendChild(this.unmuteOverlay.container)),this.v.video.filter((function(t){return t.licenseInfo}))&&(this.licenseInfo=new P(this.v)),this.v.tagConfig.Prebid&&this.v.prebidConfig&&this.v.prebidConfig.adUnits&&this.v.prebidConfig.adUnits.length>0&&1===this.v.env.adUnitId&&(this.prebid=new R(this.v),this.prebid.addEventListener("vi-stories-prebid-imp-event",(function(){t.player.closePlayer(),t.v.env.fif&&window.frameElement&&(window.frameElement.style.display="block")})),this.prebid.addEventListener("vi-stories-prebid-nobid-event",(function(){t.fallback&&(t.fallback.waitForPrebid=!1)})),(this.v.env.fif&&window.frameElement&&window.frameElement.parentNode||this.v.topDiv).appendChild(this.prebid.container)),this.v.tagConfig.FallbackTag&&(this.fallback=new I(this.v),this.fallback.addEventListener("vi-stories-fallback-event",(function(){t.player.closePlayer("ad-sources-exhausted"),t.v.env.fif&&window.frameElement&&(window.frameElement.style.display="block")})),this.v.tagConfig.Prebid&&this.v.prebidConfig&&(this.fallback.waitForPrebid=!0)),this.player&&(this.boundClosePlayer=this.player.closePlayer.bind(this.player,"close-button"),this.updateCloseButton(),this.handlePlayerEvents())}}},{key:"dispose",value:function(){if(this.dispatchEvent("vi-stories-close-gui-event"),this.description&&this.description.dispose(),this.displayAd&&this.displayAd.dispose(),this.displayBanner&&this.displayBanner.dispose(),this.licenseInfo&&this.licenseInfo.dispose(),this.playlistUi&&this.playlistUi.dispose(),this.socialSharing&&this.socialSharing.dispose(),this.suggestions&&this.suggestions.dispose(),this.unmuteOverlay&&this.unmuteOverlay.dispose(),this.mainContainer){var t=this.v.topDiv.querySelector("#vi-stories-main-placeholder");t&&t.parentNode.removeChild(t);var e=this.v.topDiv.querySelector("#vi-stories-area-above-placeholder");e&&e.parentNode.removeChild(e),this.v.topDiv.removeChild(this.mainContainer)}!this.v.tagConfig.FallbackTag&&!this.v.tagConfig.Prebid&&window.frameElement&&window.frameElement.parentElement&&window.frameElement.parentElement.removeChild(window.frameElement)}},{key:"enableOverlayMode",value:function(t){t?this.mainContainer.classList.add("vi-stories-overlay-ui-enable"):this.mainContainer.classList.remove("vi-stories-overlay-ui-enable")}},{key:"showOverlayMode",value:function(t){t?this.mainContainer.classList.add("vi-stories-overlay-ui-show"):this.mainContainer.classList.remove("vi-stories-overlay-ui-show")}},{key:"updateCloseButton",value:function(){var t=!1;"hide"===this.v.tagConfig.CloseButton?t=!1:"show"===this.v.tagConfig.CloseButton?t=!0:"whileFloating"===this.v.tagConfig.CloseButton&&(t=!!this.v.state.adUnitIsFloated),"inside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location?this.mainContainer.classList.add("vi-stories-close-button-inside"):this.mainContainer.classList.remove("vi-stories-close-button-inside"),t?(this.mainContainer.classList.add("vi-stories-close-button-show"),this.closeButton.classList.remove("displayNone"),this.closeButton.addEventListener("click",this.boundClosePlayer,!1)):(this.mainContainer.classList.remove("vi-stories-close-button-show"),this.closeButton.classList.add("displayNone"),this.closeButton.removeEventListener("click",this.boundClosePlayer,!1)),this.updateCloseButtonTimer()}},{key:"updateCloseButtonTimer",value:function(){if("ad"===this.v.state.currentVideoType){var t=this.player.getRemainingSkipTime();t>0?(this.closeButton.classList.add("vi-stories-close-timer"),this.closeButton.classList.remove("pointer"),this.closeButton.removeEventListener("click",this.boundClosePlayer,!1),this.closeButton.innerHTML=t):(this.closeButton.classList.remove("vi-stories-close-timer"),this.closeButton.classList.add("pointer"),this.closeButton.addEventListener("click",this.boundClosePlayer,!1),this.closeButton.innerHTML="")}else this.closeButton.classList.remove("vi-stories-close-timer"),this.closeButton.classList.add("pointer"),this.closeButton.addEventListener("click",this.boundClosePlayer,!1),this.closeButton.innerHTML=""}},{key:"updateAdOverlayText",value:function(){var t=this.player.getRemainingTime();this.playerPreviewOverlay&&(t>0?(this.playerPreviewOverlay.classList.remove("displayNone"),this.playerImageOverlay&&this.playerImageOverlay.classList.add("displayNone"),this.playerTextOverlay.innerText=this.v.tagConfig.PlayerAdOverlayText.replace("[X]",t)):this.playerPreviewOverlay.classList.add("displayNone"))}},{key:"updateContentOverlayText",value:function(){var t=this.player.getRemainingTime();if(this.playerPreviewOverlay)if(t>0&&t<=this.v.tagConfig.PlayerContentOverlayTime){this.playerPreviewOverlay.classList.remove("displayNone"),this.playerImageOverlay&&this.playerImageOverlay.classList.remove("displayNone");var e=this.v.tagConfig.PlayerContentOverlayText,i="url("+this.v.video[this.v.videoIdx+1].thumbnail+")";-1!==this.v.tagConfig.PlayerContentOverlayText.indexOf("[X]")&&(e=e.replace("[X]",t)),-1!==this.v.tagConfig.PlayerContentOverlayText.indexOf("[Y]")&&(e=e.replace("[Y]",this.v.video[this.v.videoIdx+1].title)),this.playerImageOverlay&&(this.playerImageOverlay.style.backgroundImage=i),this.playerTextOverlay.innerText=e}else this.playerPreviewOverlay.classList.add("displayNone")}},{key:"checkResize",value:function(){if(this.resizeCheck.counter++,this.resizeCheck.counter!==this.resizeCheck.maxCount){var t=this.v.topDiv&&window.getComputedStyle(this.v.topDiv,null),e=t&&this.v.topDiv.clientWidth-parseFloat(t.getPropertyValue("padding-left"))-parseFloat(t.getPropertyValue("padding-right"));e&&Math.abs(this.resizeCheck.storedWidth-e)>=1?(this.resizeCheck.storedWidth=e,this.mainContainer&&(this.mainContainer.style.width=e+"px"),this.player&&this.player.resize(e)):window.requestAnimationFrame(this.boundCheckResize)}}},{key:"launchCompanionAdForVideoAd",value:function(){this.companionAdForVideoAd=!0,this.displayBanner?this.displayBanner.close():(this.displayBanner=new p(this.v),this.playerContainer&&this.playerContainer.appendChild(this.displayBanner.container)),this.displayBanner.config=this.player.adCompanion,this.displayBanner.init()}},{key:"handlePlayerEvents",value:function(){var t=this,e={"vi-stories-ad-ready-event":this.onPlayerAdReady,"vi-stories-ad-impression-event":this.onPlayerAdImpression,"vi-stories-ad-complete-event":this.onPlayerAdComplete,"vi-stories-ad-skipped-event":this.onPlayerAdSkiped,"vi-stories-adsourcesexhausted-event":this.onPlayerAdsourcesexhausted,"vi-stories-content-impression-event":this.onPlayerContentImpression,"vi-stories-content-playing-event":this.onPlayerContentPlaying,"vi-stories-current-content-complete-event":this.onPlayerCurrentContentComplete,"vi-stories-all-content-complete-event":this.onPlayerAllContentComplete,"vi-stories-play-event":this.onPlayerPlay,"vi-stories-pause-event":this.onPlayerPause,"vi-stories-mute-unmute-event":this.onPlayerMuteUnmute,"vi-stories-new-content-event":this.onPlayerNewContent,"vi-stories-close-player-event":this.onPlayerClose,"vi-stories-timeupdate-event":this.onPlayerTimeupdate,"vi-stories-viewability-change-event":this.onPlayerViewabilityChange};Object.keys(e).forEach((function(i){"function"==typeof e[i]&&t.player.addEventListener(i,(function(n){e[i].call(t)}),t)}))}},{key:"onPlayerAdReady",value:function(){this.displayAd&&!this.v.state.displayAdIsVisible&&this.displayAd.hide()}},{key:"onPlayerAdImpression",value:function(){this.displayBanner&&this.displayBanner.hide(),this.licenseInfo&&this.licenseInfo.hide(),this.licenseInfo&&this.licenseInfo.hideLicenseInfoDialog(),this.socialSharing&&this.socialSharing.hide(),this.unmuteOverlay&&this.unmuteOverlay.showOverAd(),this.v.tagConfig.OverlayMode>0&&(this.enableOverlayMode(!1),this.showOverlayMode(!1)),this.v.tagConfig.PlayerSuggestionOverlay&&-1!==this.v.tagConfig.PlayerSuggestionOverlay.indexOf("pause")&&this.suggestions&&this.suggestions.hide(),this.v.tagConfig.PlayerAdOverlayText?this.updateAdOverlayText():this.playerPreviewOverlay&&this.playerPreviewOverlay.classList.add("displayNone"),this.updateCloseButton()}},{key:"onPlayerAdComplete",value:function(){this.playerPreviewOverlay&&this.playerPreviewOverlay.classList.add("displayNone"),this.player.adCompanion&&!this.companionAdForVideoAd&&this.launchCompanionAdForVideoAd()}},{key:"onPlayerAdSkiped",value:function(){this.playerPreviewOverlay&&this.playerPreviewOverlay.classList.add("displayNone"),this.player.adCompanion&&!this.companionAdForVideoAd&&this.launchCompanionAdForVideoAd()}},{key:"onPlayerAdsourcesexhausted",value:function(){this.v.state.adUnitIsClicked||Object(o.e)("WF_END",{},this.v),this.v.tagConfig.FallbackTag||"1"!==this.v.tagConfig.AdUnitType.toString()||this.player.closePlayer("ad-sources-exhausted"),this.prebid&&(this.prebid.adsourcesexhausted=!0),this.fallback&&(this.fallback.adsourcesexhausted=!0),this.v.tagConfig.CallbackFunction&&"function"==typeof this.v.tagConfig.CallbackFunction&&this.v.tagConfig.CallbackFunction("ERROR")}},{key:"onPlayerContentImpression",value:function(){this.v.tagConfig.DisplayBanner&&this.displayBanner&&!this.companionAdForVideoAd&&(this.displayBanner.config=this.v.tagConfig.DisplayBanner,this.displayBanner.init())}},{key:"onPlayerContentPlaying",value:function(){this.displayBanner&&this.displayBanner.show(),this.licenseInfo&&this.licenseInfo.show(),this.socialSharing&&this.socialSharing.show(),this.unmuteOverlay&&this.unmuteOverlay.showOverContent(),this.v.tagConfig.OverlayMode>0&&(this.enableOverlayMode(!0),this.showOverlayMode(!1)),this.updateCloseButton()}},{key:"onPlayerCurrentContentComplete",value:function(){this.displayBanner&&this.displayBanner.close(),this.playerPreviewOverlay&&this.playerPreviewOverlay.classList.add("displayNone")}},{key:"onPlayerAllContentComplete",value:function(){this.v.tagConfig.PlayerSuggestionOverlay&&-1!==this.v.tagConfig.PlayerSuggestionOverlay.indexOf("end")&&(this.suggestions&&this.suggestions.show(),this.v.tagConfig.OverlayMode>0&&this.enableOverlayMode(!1))}},{key:"onPlayerPlay",value:function(){this.v.tagConfig.OverlayMode>0&&this.showOverlayMode(!1),this.v.tagConfig.PlayerSuggestionOverlay&&-1!==this.v.tagConfig.PlayerSuggestionOverlay.indexOf("pause")&&"content"===this.v.state.currentVideoType&&(this.suggestions&&this.suggestions.hide(),this.v.tagConfig.OverlayMode>0&&this.enableOverlayMode(!0))}},{key:"onPlayerPause",value:function(){this.v.tagConfig.OverlayMode>0&&this.showOverlayMode(!0),this.v.tagConfig.PlayerSuggestionOverlay&&-1!==this.v.tagConfig.PlayerSuggestionOverlay.indexOf("pause")&&"content"===this.v.state.currentVideoType&&(this.suggestions&&this.suggestions.show(),this.v.tagConfig.OverlayMode>0&&this.enableOverlayMode(!1))}},{key:"onPlayerMuteUnmute",value:function(){this.unmuteOverlay&&this.unmuteOverlay.unmuteFromPlayer()}},{key:"onPlayerNewContent",value:function(){this.companionAdForVideoAd=!1,this.displayBanner&&this.displayBanner.close(),this.licenseInfo&&this.licenseInfo.hide(),this.licenseInfo&&this.licenseInfo.hideLicenseInfoDialog(),this.socialSharing&&this.socialSharing.hide(),this.suggestions&&this.suggestions.hide(),this.description&&this.description.update(),this.playlistUi&&this.playlistUi.update(),this.displayBanner&&this.displayBanner.init()}},{key:"onPlayerClose",value:function(){this.dispose()}},{key:"onPlayerTimeupdate",value:function(){"ad"===this.v.state.currentVideoType&&this.v.tagConfig.PlayerAdOverlayText&&-1!==this.v.tagConfig.PlayerAdOverlayText.indexOf("[X]")&&this.updateAdOverlayText(),"content"===this.v.state.currentVideoType&&(this.v.tagConfig.PlayerContentOverlayText||this.v.tagConfig.PlayerContentOverlayThumbnail)&&this.v.video[this.v.videoIdx+1]&&!this.v.state.pendingNextTrack&&this.updateContentOverlayText(),"hide"!==this.v.tagConfig.CloseButton&&this.player.config.skipTimer>0&&this.updateCloseButtonTimer()}},{key:"onPlayerViewabilityChange",value:function(){this.companionAd&&this.companionAd.show(),this.displayAd&&this.displayAd.show(),this.prebid&&this.prebid.show(),"whileFloating"===this.v.tagConfig.CloseButton&&this.updateCloseButton()}},{key:"player",get:function(){return this._player},set:function(t){this._player=t}},{key:"mainContainer",get:function(){return this._mainContainer},set:function(t){this._mainContainer=t}},{key:"playerContainer",get:function(){return this._playerContainer},set:function(t){this._playerContainer=t}}])&&it(i.prototype,s),a&&it(i,a),e}(g.a);function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vt(t,e){return!e||"object"!==dt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pt,gt={1:{openAnim:!0},2:{},4:{width:300,height:150}},ft=function(t){function e(t,i,o){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(s=vt(this,ut(e).call(this))).v=t,s.config=t.playerConfig,s._playerContainer=o,s._canFloatNow=!0,s.videoPlayer=null,s.framePlaceHolder=s.frameScrollHeight=null,s.firstQuartile=s.midpoint=s.thirdQuartile=null,s.viewableImp=s.viewableImpTimer=null,s.playlistConfig={maximp:0,midrolltime:0,playedAds:0,sinceLastAd:0},s.v.tagConfig.IFA&&(s.config.ref1.AV_IDFA=encodeURIComponent(s.v.tagConfig.IFA)),s.v.tagConfig.SubID&&(s.config.ref1.AV_APPNAME=encodeURIComponent(s.v.tagConfig.SubID)),s.v.tagConfig.SubID&&(s.config.ref1.AV_SUBID=encodeURIComponent(s.v.tagConfig.SubID)),s.v.tagConfig.DeviceIsp&&(s.config.ref1.AV_CUSTOM1=encodeURIComponent(s.v.tagConfig.DeviceIsp)),s.v.tagConfig.Latitude&&(s.config.ref1.AV_LATITUDE=s.v.tagConfig.Latitude),s.v.tagConfig.Longitude&&(s.config.ref1.AV_LONGITUDE=s.v.tagConfig.Longitude),s.v.tagConfig.DeviceModel&&(s.config.ref1.AV_MODEL=encodeURIComponent(s.v.tagConfig.DeviceModel)),s.config.ref1.AV_CDIM2=encodeURIComponent(s.v.tagConfig.PublisherID),s.config.ref1.AV_USERAGENT=encodeURIComponent(navigator.userAgent),s.config.ref1.AV_DNT=encodeURIComponent(navigator.doNotTrack||"0"),s.config.ref1.AV_SCHAIN=encodeURIComponent("1.0,1!vi.ai,"+s.v.tagConfig.PublisherID+",1"),i&&i.gdpr&&(s.config.ref1.AV_CUSTOM4=i.gdpr.applies,s.config.ref1.AV_CUSTOM5=i.gdpr.consent),i&&i.ccpa&&(s.config.ref1.AV_CUSTOM3=i.ccpa.uspString),s.v.tagConfig.AppBundle?s.config.ref1.AV_URL=encodeURIComponent(s.v.tagConfig.AppBundle):s.v.env.amp&&(s.config.ref1.AV_URL=encodeURIComponent(s.v.env.pageUrl)),s.config.channelId=s.v.tagConfig.ChannelID,s.config=Object(f.c)(s.config,gt[s.v.tagConfig.AdUnitType.toString()]),["errorLimit","maximp","maxrun","midrolltime","preroll","vastRetry"].forEach((function(t){var e=Object(f.d)(s.v.tagConfig,t);null!==e&&(s.config[t]=e)})),2===s.v.tagConfig.PlaylistMode&&(s.playlistConfig.maximp=s.config.maximp,s.playlistConfig.midrolltime=s.config.midrolltime,s.config.maximp=s.config.preroll,s.config.midrolltime=0),s.setVideoSource(),"playerWL"!==s.v.tagConfig.Player&&"playerWLstage"!==s.v.tagConfig.Player||(s.config.baseJsUrl=n.h.playerWLbase,s.config.adServerDomain=n.h.playerWLdomainAdServer,s.config.trackDomain=n.h.playerWLdomainTrack),s.config.position=s.config.position+"_"+s.v.env.sessionId,s.config.aniBox=s.config.aniBox+"_"+s.v.env.sessionId,s.config.wrapper=s.config.wrapper+"_"+s.v.env.sessionId;var a=document.createElement("div");a.id=s.config.wrapper,a.style.width="100%",a.style.margin="0 auto";var r=document.createElement("div");r.id=s.config.aniBox,r.style.height="1px";var l=document.createElement("div");return l.id=s.config.position,r.appendChild(l),a.appendChild(r),s.playerContainer.appendChild(a),s.config.customCSS||(s.config.customCSS=""),s.config.customCSS+="#"+s.config.position+" {position: relative;transition: all .2s ease-out;} #"+s.config.position+" #AVcontent {background-color: #000; }",s.config.customCSS+=".vi-stories-main-container.vi-stories-suggestion-overlay-show #"+s.config.position+" #av-container #gui::before {background-color: rgba(0, 0, 0, 0.7); height: 10%; opacity: 1; } .vi-stories-main-container.vi-stories-suggestion-overlay-show #"+s.config.position+" #av-container #gui #buttons {opacity: 1; } .vi-stories-main-container.vi-stories-suggestion-overlay-show.vi-stories-width-max-500 #"+s.config.position+" #av-container #gui::before { height: 20%;}",s.config.customCSS+="html #av-container #av-inner #slot #preloader svg.icon{ display:none } html #av-container #av-inner #slot #preloader{ background:url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+') no-repeat center center; background-size:40px;} html #av-container #av-inner #gui #buttons #left #play-pause.play{ background-image:url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+'); } html #av-container #av-inner #gui #big-play {cursor: pointer;background-image:url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+'); width: 61px !important; height: 61px !important; box-sizing: content-box;}",!1===s.config.openAnim&&(s.config.customCSS+="#"+s.config.aniBox+" {transition: none !important;} "),s.v.state.playerIsPaused=!1,s}var i,s,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(e,t),i=e,(s=[{key:"init",value:function(){var t,e,i,s,a,r=this,l=!1;Object(f.q)()&&!Object(f.v)()&&(this.config.preloader.nativeVideo=!0),this.v.tagConfig.AutoStart?(this.config.autoPlay=!0,this.config.preloader.autoplay=!0):(this.config.autoPlay=!1,this.config.preloader.autoplay=!1),this.v.tagConfig.ClickToPlay&&!this.v.tagConfig.DelayWaterfallStart?(this.config.clickToPlay=!0,this.v.state.adUnitIsClicked=!1):(this.config.clickToPlay=!1,this.v.state.adUnitIsClicked=!1),this.config.playOnView=!0,this.config.autoplayContent=!0,this.config.showPlayer=!0,this.v.state.adIsLoaded=!1,Object(f.q)()&&(this.boundVisibilitychange=this.onVisibilitychange.bind(this),document.addEventListener("visibilitychange",this.boundVisibilitychange,!1));try{window.avPlayer?this.videoPlayer=new window.avPlayer(this.config):this.videoPlayer=new window.parent.avPlayer(this.config)}catch(t){return void Object(o.e)("ERROR",{error_msg:n.e.initPlayer},this.v)}if("0"!==this.config.templateType&&this.videoPlayer.startTemplate(this.v.topDiv.querySelector("#"+this.config.position).parentNode),this.videoPlayer.on("Inventory",(function(){r.v.topDiv.parentElement.querySelector("#AVLoader"+r.config.position).contentWindow.setTimeout=window.setTimeout,r.v.topDiv.parentElement.querySelector("#AVLoader"+r.config.position).contentWindow.clearTimeout=window.clearTimeout,(t=r.playerContainer.querySelector("#AVcontent"))&&(r.boundCheckContentProgress=r.checkContentProgress.bind(r),t.addEventListener("timeupdate",r.boundCheckContentProgress,!1),r.v.tagConfig.ContentClickthrough&&(r.boundContentClick=r.onContentClick.bind(r),t.addEventListener("click",r.boundContentClick,!1),t.classList.add("pointer"))),(e=r.playerContainer.querySelector("#play-pause"))&&(r.boundPauseBtnClick=r.onPauseBtnClick.bind(r),e.addEventListener("click",r.boundPauseBtnClick,!1)),(s=r.playerContainer.querySelector("#sound"))&&(r.boundMuteBtnClick=r.onMuteBtnClick.bind(r),s.addEventListener("click",r.boundMuteBtnClick,!1)),(i=r.playerContainer.querySelector("#big-play"))&&(r.boundBigPlayBtnClick=r.onBigPlayBtnClick.bind(r),i.addEventListener("click",r.boundBigPlayBtnClick,!1)),Object(o.e)("INVENTORY",{},r.v)})),this.videoPlayer.on("AdLoaded",(function(){r.v.state.adIsLoaded=!0,r.dispatchEvent("vi-stories-ad-ready-event"),r.tryShowUnit(),r.tryStartAd()})),this.videoPlayer.on("ContentImpression",(function(){r.v.state.currentVideoType="content";var t=r.v.topDiv.querySelector("#vi-stories-main-container");t.classList.remove("vi-stories-playing-ad"),t.classList.add("vi-stories-playing-content"),Object(o.e)("NV_START",{},r.v),r.v.state.playerIsMuted||r.videoPlayer.setContentVolume(1),r.dispatchEvent("vi-stories-content-impression-event"),r.dispatchEvent("vi-stories-content-playing-event"),g.b.dispatchEvent("vi-stories-unit-event",{action:"play",v:r.v})})),this.videoPlayer.on("ContentPlaying",(function(){r.v.state.currentVideoType="content";var t=r.v.topDiv.querySelector("#vi-stories-main-container");t.classList.remove("vi-stories-playing-ad"),t.classList.add("vi-stories-playing-content"),r.videoPlayer.updateGui({showTimeline:!0}),r.v.state.playerIsMuted||r.videoPlayer.setContentVolume(1),r.dispatchEvent("vi-stories-content-playing-event")})),this.videoPlayer.on("ContentComplete",(function(){r.v.state.currentVideoType=void 0,r.v.topDiv.querySelector("#vi-stories-main-container").classList.remove("vi-stories-playing-ad","vi-stories-playing-content"),Object(o.e)("NV_100",{},r.v),r.videoPlayer.updateGui({showTimeline:!1}),r.dispatchEvent("vi-stories-current-content-complete-event"),r.v.video[r.v.videoIdx+1]&&r.v.tagConfig.PlaylistMode>0&&r.v.videoIdx+1<r.v.tagConfig.PlaylistLength?(r.v.state.pendingNextIdx=r.v.videoIdx+1,1===r.v.tagConfig.PlaylistMode?(r.v.state.pendingNextTrack=!0,r.videoPlayer.close()):2===r.v.tagConfig.PlaylistMode&&(r.playlistConfig.sinceLastAd+=r.v.video[r.v.videoIdx].duration,!r.v.tagConfig.PauseOutOfViewPlaylist||r.v.state.adUnitInView||r.v.state.adUnitIsFloated?(r.v.state.pendingNextTrack=!0,r.videoPlayer.close()):r.v.state.outOfViewPaused=!0)):(r.floatUnit(!1),r.dispatchEvent("vi-stories-all-content-complete-event"),!r.v.env.amp&&r.v.tagConfig.HideUnit&&-1!==r.v.tagConfig.HideUnit.indexOf("afterContent")&&r.closePlayer("all-content-complete"))})),this.videoPlayer.on("AdImpression",(function(t){r.v.state.currentVideoType="ad",r.v.env.asid=t.asid,r.viewableImp=!1;var e=r.v.topDiv.querySelector("#vi-stories-main-container");e.classList.remove("vi-stories-playing-content"),e.classList.add("vi-stories-playing-ad"),r.videoPlayer.updateGui({showTimeline:!1}),r.v.state.playerIsMuted||r.videoPlayer.unmute(),(r.v.tagConfig.PlayerAdOverlayText&&-1!==r.v.tagConfig.PlayerAdOverlayText.indexOf("[X]")||r.config.skipTimer>0)&&(r.boundCheckAdProgress=r.checkAdProgress.bind(r),a&&clearInterval(a),a=setInterval(r.boundCheckAdProgress,1e3)),r.v.tagConfig.IASPixelEnabled&&Object(o.c)(r.v.tagConfig.AppBundle||r.v.env.pageDomain,r.v.tagConfig.PublisherID,r.v.env.asid),r.viewableImpMonitorStart();var i={ad_source_id:r.v.env.asid};Object(o.e)("IMP",i,r.v),l=!0,2===r.v.tagConfig.PlaylistMode&&(r.playlistConfig.playedAds++,r.playlistConfig.sinceLastAd=0),r.dispatchEvent("vi-stories-ad-impression-event"),g.b.dispatchEvent("vi-stories-unit-event",{action:"play",v:r.v}),r.v.tagConfig&&r.v.tagConfig.CallbackFunction&&"function"==typeof r.v.tagConfig.CallbackFunction&&r.v.tagConfig.CallbackFunction("SUCCESS")})),this.videoPlayer.on("AdError",(function(t){t&&!0===t.errorlimit&&!0!==l&&r.dispatchEvent("vi-stories-adsourcesexhausted-event")})),this.videoPlayer.on("AdClickThru",(function(){var t={ad_source_id:r.v.env.asid};Object(o.e)("CLICK",t,r.v)})),this.videoPlayer.on("AdClosed",(function(){t&&(t.removeEventListener("timeupdate",r.boundCheckContentProgress,!1),r.v.tagConfig.ContentClickthrough&&(t.removeEventListener("click",r.boundContentClick,!1),t.classList.remove("pointer"))),e&&e.removeEventListener("click",r.boundPauseBtnClick,!1),s&&s.removeEventListener("click",r.boundMuteBtnClick,!1),i&&i.removeEventListener("click",r.boundBigPlayBtnClick,!1);var n=r.v.topDiv.querySelector("#vi-stories-preloader-play-icon");if(n&&n.removeEventListener("click",r.boundPreloaderPlayIconClick,!1),a&&(clearInterval(a),a=null),document.removeEventListener("visibilitychange",r.boundVisibilitychange),r.viewableImpMonitorStop(),r.stopViewability(),"ad"===r.v.state.currentVideoType?Object(o.e)("AD_CLOSE",{},r.v):Object(o.e)("NV_CLOSE",{},r.v),r.v.state.pendingNextTrack){r.v.state.pendingNextTrack=!1,r.v.videoIdx=r.v.state.pendingNextIdx;var l=r.v.topDiv.querySelector("#"+r.config.position);l.innerHTML="",l.style.display="block",r.restartPlayer()}else r.floatUnit(!1),r.v.env.fif&&window.frameElement?setTimeout((function(){r.dispatchEvent("vi-stories-close-player-event"),r.dispose()}),1e3):(r.dispatchEvent("vi-stories-close-player-event"),r.dispose()),r.v.state.closeReason&&r.v.tagConfig.CustomActions&&Object(f.y)(r.v.tagConfig.CustomActions,r.v)})),this.videoPlayer.on("AdSkipped",(function(){a&&clearInterval(a),r.viewableImpMonitorStop(),r.dispatchEvent("vi-stories-ad-skipped-event"),"1"===r.v.tagConfig.AdUnitType.toString()&&r.closePlayer("ad-skipped")})),this.videoPlayer.on("AdVideoFirstQuartile",(function(){var t={ad_source_id:r.v.env.asid};Object(o.e)("AD_25",t,r.v)})),this.videoPlayer.on("AdVideoMidpoint",(function(){var t={ad_source_id:r.v.env.asid};Object(o.e)("AD_50",t,r.v)})),this.videoPlayer.on("AdVideoThirdQuartile",(function(){var t={ad_source_id:r.v.env.asid};Object(o.e)("AD_75",t,r.v)})),this.videoPlayer.on("AdVideoComplete",(function(){a&&clearInterval(a),r.viewableImpMonitorStop();var t={ad_source_id:r.v.env.asid};Object(o.e)("AD_100",t,r.v),r.dispatchEvent("vi-stories-ad-complete-event"),"1"===r.v.tagConfig.AdUnitType.toString()&&r.closePlayer("ad-complete")})),this.startViewability(),this.boundTabFocusChange=this.onTabFocusChange.bind(this),window.addEventListener("focus",this.boundTabFocusChange),window.addEventListener("blur",this.boundTabFocusChange),this.v.tagConfig.DelayWaterfallStart&&(this.v.tagConfig.ClickToPlay||this.v.tagConfig.PlayInView)){var d=document.createElement("div");d.id="vi-stories-preloader-thumbnail",d.style.backgroundImage="url("+this.v.video[this.v.videoIdx].thumbnail+")";var c=this.v.topDiv.querySelector("#"+this.config.aniBox);if(c.appendChild(d),this.v.tagConfig.ClickToPlay){this.boundPreloaderPlayIconClick=this.onPreloaderPlayIconClick.bind(this);var v=document.createElement("div");v.id="vi-stories-preloader-play-icon",v.addEventListener("click",this.boundPreloaderPlayIconClick,!1),c.appendChild(v)}}else this.videoPlayer.play(this.config);return this.videoPlayer}},{key:"dispose",value:function(){this.removeAllListeners(),window.removeEventListener("focus",this.boundTabFocusChange),window.removeEventListener("blur",this.boundTabFocusChange)}},{key:"resize",value:function(t){var e=this;this.videoPlayer&&setTimeout((function(){var i=Math.round(t/16*9),n=e.v.topDiv.querySelector("#"+e.config.aniBox);n&&(e.videoPlayer.resize(t,i),n.style.width=t+"px",n.style.height=i+"px")}),1e3)}},{key:"closePlayer",value:function(t){if(!this.v.state.pendingNextTrack){this.v.state.closeReason=t,this.v.topDiv.querySelector("#vi-stories-main-container").classList.add("displayNone");var e=this.v.topDiv.querySelector("#vi-stories-area-above-placeholder");e&&e.classList.add("displayNone"),this.v.env.fif&&window.frameElement&&!this.v.tagConfig.FallbackTag&&(window.frameElement.style.display="none")}this.videoPlayer.close()}},{key:"setVideoSource",value:function(){this.config.preloader.link=this.v.video[this.v.videoIdx].url,this.config.preloader.poster=this.v.video[this.v.videoIdx].thumbnail;var t={AV_CDIM1:this.v.video[this.v.videoIdx].sourceId,AV_CUSTOM10:this.v.video[this.v.videoIdx].matchedCategoryCode||this.v.tagConfig.IAB_Category,AV_IAB:this.v.video[this.v.videoIdx].matchedCategoryCode||this.v.tagConfig.IAB_Category};if(this.v.tagConfig.KeywordSearch){var e=Object(f.x)(this.v.tagConfig.KeywordSearch,"param","VI_","AV_");t=Object(f.c)(t,Object(f.f)(e))}if(this.v.tagConfig.CustomAdParams){var i=Object(f.x)(this.v.tagConfig.CustomAdParams,"param","VI_","AV_");t=Object(f.c)(t,Object(f.g)(i,this.v))}for(var n in t)t.hasOwnProperty(n)&&(this.config.ref1[n]=t[n]);g.b.dispatchEvent("vi-stories-unit-event",{action:"update",v:this.v})}},{key:"restartPlayer",value:function(){this.setVideoSource();var t={requestedCategories:this.v.video[this.v.videoIdx].requestedCategories||"",requestedLanguage:this.v.tagConfig.Language};Object(o.e)("NV_LOADED",t,this.v),2===this.v.tagConfig.PlaylistMode&&(this.v.tagConfig.AutoStart=!0,this.playlistConfig.playedAds<this.playlistConfig.maximp&&this.playlistConfig.sinceLastAd>=this.playlistConfig.midrolltime?(this.config.preroll=1,this.config.maximp=1):(this.config.preroll=0,this.config.maximp=0)),delete window.storageAni,this.firstQuartile=this.midpoint=this.thirdQuartile=!1,this.init(),this.dispatchEvent("vi-stories-new-content-event")}},{key:"playNextVideo",value:function(){this.v.state.playerIsPaused=!1,this.videoPlayer.close()}},{key:"intersectionHandler",value:function(t){var e=this;t.forEach((function(t){var i=t.boundingClientRect.height,n=t.intersectionRect.height,s=Math.round(n/i),a=e.v.state.adUnitInViewOnce;s>e.v.tagConfig.InViewRatio?(e.v.state.adUnitInView=!0,e.v.state.adUnitInViewOnce=!0):e.v.state.adUnitInView=!1,e.tryStartAd(),e.v.state.adUnitInViewOnce&&e.showPlayer(s>e.v.tagConfig.InViewRatio?"IN_VIEW":"OUT_BOTTOM",s),!a&&e.v.state.adUnitInViewOnce&&Object(o.e)("INVIEW",{},e.v),e.handleOutOfView(),e.dispatchEvent("vi-stories-viewability-change-event")}))}},{key:"startViewability",value:function(){var t=this;this.v.env.amp?(this.v.tagConfig.Float=!1,this.videoPlayer.startViewability(this.v.topDivId,(function(){}),this.v.tagConfig.InViewRatio),window.context&&window.context.renderStart?(window.context.renderStart(),window.context.observeIntersection(this.intersectionHandler.bind(this))):(window.top.postMessage({sentinel:"amp",type:"send-intersections"},"*"),window.addEventListener("message",(function(e){e.source===window.parent&&e.origin!==window.location.origin&&e.data&&"amp"===e.data.sentinel&&"intersection"===e.data.type&&t.intersectionHandler(e.data.changes)})))):this.videoPlayer.startViewability(this.v.topDivId,(function(e,i,n,s){var a=t.v.state.adUnitInViewOnce;"IN_VVIEW"===n&&(n="IN_VIEW");var r=t.getIframeViewability();r&&(n=r.state,i=r.ratio),"IN_VIEW"===n||i>t.v.tagConfig.InViewRatio?(t.v.state.adUnitInView=!0,t.v.state.adUnitInViewOnce=!0):t.v.state.adUnitInView=!1,t.tryStartAd(),t.v.state.adUnitInViewOnce&&t.showPlayer(n,i),!a&&t.v.state.adUnitInViewOnce&&Object(o.e)("INVIEW",{},t.v),t.handleOutOfView(),t.viewableImpMonitorStart(),t.dispatchEvent("vi-stories-viewability-change-event")}),this.v.tagConfig.InViewRatio)}},{key:"stopViewability",value:function(){this.videoPlayer.stopViewability()}},{key:"getViewability",value:function(){var t=this.getIframeViewability()||this.videoPlayer.getViewability(),e=t&&t.state;return"IN_VVIEW"===e?"IN_VIEW":e}},{key:"getIframeViewability",value:function(){if(window.frameElement&&this.v.env.fif){var t=this.v.state.adUnitIsFloated&&this.framePlaceHolder?this.framePlaceHolder.getBoundingClientRect():window.frameElement.getBoundingClientRect(),e=this.frameScrollHeight||this.v.topDiv.scrollHeight,i=t.top,n=t.top+e,o=window.top&&window.top.innerHeight,s=0===i&&0===n||i>o?{state:"OUT_BOTTOM",ratio:0}:i+e<0?{state:"OUT_TOP",ratio:0}:i>=0&&n<=o?{state:"IN_VIEW",ratio:1}:i<0&&n>o?{state:"BT_TRUNC",ratio:o/e}:i<0&&n<=o?{state:"T_TRUNC",ratio:n/e}:i>=0&&n>o?{state:"B_TRUNC",ratio:(o-i)/e}:{state:"OUT",ratio:0};if(("IN_VIEW"===s.state||s.ratio>this.v.tagConfig.InViewRatio)&&!this.v.state.adUnitIsFloated&&window.frameElement&&!this.framePlaceHolder){t=window.frameElement.getBoundingClientRect();var a=window.frameElement.parentElement,r=document.createElement("div");r.id="framePlaceHolder",r.style.setProperty("display","none","important"),r.style.width="1px",r.style.height=t.height+"px",a.parentNode.insertBefore(r,a.nextSibling),this.framePlaceHolder=r,this.frameScrollHeight=Math.min(this.v.topDiv.scrollHeight,t.height)}return s}return null}},{key:"floatUnit",value:function(t,e){if(this.v.state.adUnitIsFloated!==t&&(!this.v.state.playerIsPaused||this.v.tagConfig.FloatSettings.floatOnPaused||!t)){var i=this.v.tagConfig.FloatSettings[e]||this.v.tagConfig.FloatSettings.any;if((!t||i)&&this.canFloatNow){var n=i&&Object(f.c)({},i.position)||{};if(i&&i.originSelector&&i.originOffset){var o=window.frameElement&&this.v.env.fif&&window.top.document||window.document,s=o.querySelector(i.originSelector);if(s){var a=window.top&&window.top.innerHeight,r=o.body.clientWidth,l=window.getComputedStyle(s,null),d=s.getBoundingClientRect(),c={bottom:a-d.bottom,left:d.left,right:r-d.right,top:d.top};if(["bottom","left","right","top"].forEach((function(t){i.originOffset.hasOwnProperty(t)&&(n[t]=c[t]+(l?parseFloat(l.getPropertyValue("padding-"+t)):0)+parseFloat(i.originOffset[t])+"px")})),t&&(n.bottom&&parseFloat(n.bottom)+this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize>=a||n.left&&parseFloat(n.left)+this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize>=r||n.right&&parseFloat(n.right)+this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize>=r||n.top&&parseFloat(n.top)+this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize>=a))return}}this.v.state.adUnitIsFloated=t,g.b.dispatchEvent("vi-stories-unit-event",{action:"float",v:this.v,info:t});var v=t?{bottom:void 0!==n.bottom?n.bottom:"",left:void 0!==n.left?n.left:"",position:"fixed",right:void 0!==n.right?n.right:"",top:void 0!==n.top?n.top:"",zIndex:this.v.tagConfig.ZIndexFloat}:{bottom:"",left:"",position:"relative",right:"",top:"",zIndex:this.v.tagConfig.ZIndexBase},u=t?{transform:"scale("+this.v.tagConfig.FloatSize+")",transformOrigin:i.transformOrigin,webkitTransform:"scale("+this.v.tagConfig.FloatSize+")",webkitTransformOrigin:i.transformOrigin}:{transform:"none",transformOrigin:"",webkitTransform:"none",webkitTransformOrigin:""},h=this.v.topDiv.querySelector("#vi-stories-main-container");for(var p in u)u.hasOwnProperty(p)&&(h.style[p]=u[p]);if(window.frameElement&&window.frameElement.parentElement){var y=window.frameElement.parentElement;for(var m in this.framePlaceHolder&&this.framePlaceHolder.style.setProperty("display",t?"block":"none","important"),v.overflow=t?"hidden":"",v)v.hasOwnProperty(m)&&(y.style[m]=v[m]);if(t){var b="hide"!==this.v.tagConfig.CloseButton&&"outside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location&&this.v.env.fif&&window.frameElement?25:0,C=Math.ceil(this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize),w=Math.ceil(this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize)+b;if("ribbon"===this.v.tagConfig.FloatLayoutMode){var I=window.frameElement&&this.v.env.fif&&window.top.document||window.document,x=this.v.tagConfig.FloatLayoutSettings.ribbonPlayerWidth||.47;C=I.body.clientWidth,w=I.body.clientWidth*x*9/16+b}y.style.width=C+"px",y.style.height=w+"px",window.frameElement.style.width="100%",window.frameElement.contentDocument.body.classList.add("vi-stories-floating"),h.style.margin="0",h.style.transformOrigin="top left"}else y.style.width="",y.style.height="",window.frameElement.style.width="",window.frameElement.contentDocument.body.classList.remove("vi-stories-floating"),h.style.margin="0 auto",h.style.transformOrigin=""}else{var P=this.v.topDiv.querySelector("#vi-stories-main-placeholder");for(var O in P.style.height=h.offsetHeight+"px",t?P.classList.remove("displayNone"):P.classList.add("displayNone"),v)v.hasOwnProperty(O)&&(h.style[O]=v[O])}t?h.classList.add("vi-stories-floating"):h.classList.remove("vi-stories-floating"),"ribbon"===this.v.tagConfig.FloatLayoutMode&&(t?h.classList.add("vi-stories-ribbon-ui"):h.classList.remove("vi-stories-ribbon-ui"),this.playerContainer.style.width="",this.playerContainer.style.height="",this.resize(this.playerContainer.offsetWidth))}}}},{key:"tryShowUnit",value:function(t){var e=!1;if(!this.v.env.amp&&this.v.tagConfig.HideUnit&&(-1!==this.v.tagConfig.HideUnit.indexOf("beforeAd")?e="beforeAd":-1!==this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd")&&(e="beforeRcAndAd")),"beforeAd"===e&&this.v.state.adIsLoaded||"beforeRcAndAd"===e&&this.v.state.remoteControlInViewOnce&&this.v.state.adIsLoaded||("beforeRcAndAd"===e||"beforeAd"===e)&&t){this.v.env.fif&&window.frameElement&&(window.frameElement.style.display="block");var i=this.v.topDiv.querySelector("#vi-stories-main-container");i&&(i.classList.remove("displayNone"),this.resize(i.offsetWidth),"IN_VIEW"===this.getViewability()&&(this.v.state.adUnitInViewOnce=!0))}}},{key:"tryStartAd",value:function(){!this.v.state.adUnitIsClicked&&this.v.tagConfig.ClickToPlay||!(this.v.state.adUnitInViewOnce&&this.v.tagConfig.Float||this.v.state.adUnitInView)&&this.v.tagConfig.PlayInView||(!this.v.state.adUnitInView&&!this.v.state.adUnitIsFloated||!0!==Object(f.m)())&&this.v.tagConfig.PlayInFocus||!(-1!==this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd")&&this.v.state.remoteControlInViewOnce||-1===this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd"))||!this.v.state.adIsLoaded||this.v.state.displayAdIsVisible?this.v.tagConfig.DelayWaterfallStart&&this.v.tagConfig.PlayInView&&this.v.state.adUnitInViewOnce&&this.videoPlayer.play(this.config):this.videoPlayer.startAd()}},{key:"showPlayer",value:function(t,e){var i=this.videoPlayer.contentPlaying||this.videoPlayer.playing,n="T_TRUNC"===t||"OUT_TOP"===t?"down":"B_TRUNC"===t||"OUT_BOTTOM"===t?"up":null;if(this.v.tagConfig.FloatSettings.floatOnPaused||i)switch(t){case"IN_VIEW":case"BT_TRUNC":this.floatUnit(!1);break;case"T_TRUNC":case"B_TRUNC":!1===this.v.state.adUnitIsFloated&&this.v.tagConfig.Float&&e<this.v.tagConfig.InViewRatio&&this.floatUnit(!0,n),!0===this.v.state.adUnitIsFloated&&e>this.v.tagConfig.InViewRatio&&this.floatUnit(!1);break;case"OUT_TOP":case"OUT_BOTTOM":this.v.tagConfig.Float&&this.floatUnit(!0,n)}else this.v.tagConfig.PlaylistMode||this.floatUnit(!1)}},{key:"handleOutOfView",value:function(){if(this.v.tagConfig.PauseOutOfView&&!this.v.tagConfig.Float)if(this.v.state.adUnitInView||this.v.state.outOfViewPaused){if(this.v.state.adUnitInView&&this.v.state.outOfViewPaused){if(this.videoPlayer.playing)return this.v.state.outOfViewPaused=!1,void this.videoPlayer.resume();if(this.videoPlayer.contentPlaying)return this.v.state.outOfViewPaused=!1,void this.videoPlayer.resumeContent()}}else{if(this.videoPlayer.playing&&(!this.v.tagConfig.PauseOutOfViewSettings.beforeSeconds||this.v.tagConfig.PauseOutOfViewSettings.beforeSeconds>this.videoPlayer.getAdDuration()-this.videoPlayer.getAdRemainingTime()))return this.v.state.outOfViewPaused=!0,void this.videoPlayer.pause();if(this.videoPlayer.contentPlaying)return this.v.state.outOfViewPaused=!0,void this.videoPlayer.pauseContent()}else this.v.tagConfig.PauseOutOfViewPlaylist&&!this.v.tagConfig.Float&&this.v.state.adUnitInView&&this.v.state.outOfViewPaused&&(this.v.state.outOfViewPaused=!1,this.v.state.pendingNextTrack=!0,this.videoPlayer.close())}},{key:"checkContentProgress",value:function(){var t=this.getVideoElementTime().percent;!this.firstQuartile&&t>=25&&(this.firstQuartile=!0,Object(o.e)("NV_25",{},this.v)),!this.midpoint&&t>=50&&(this.midpoint=!0,Object(o.e)("NV_50",{},this.v)),!this.thirdQuartile&&t>=75&&(this.thirdQuartile=!0,Object(o.e)("NV_75",{},this.v)),this.dispatchEvent("vi-stories-timeupdate-event")}},{key:"checkAdProgress",value:function(){this.dispatchEvent("vi-stories-timeupdate-event")}},{key:"getRemainingTime",value:function(){return"ad"===this.v.state.currentVideoType?Math.ceil(this.videoPlayer.getAdRemainingTime()):"content"===this.v.state.currentVideoType?this.getVideoElementTime().remainingTime:0}},{key:"getRemainingSkipTime",value:function(){var t=0;return"ad"===this.v.state.currentVideoType&&(t=Math.ceil(this.config.skipTimer-(this.videoPlayer.getAdDuration()-this.videoPlayer.getAdRemainingTime()))),t}},{key:"getVideoElementTime",value:function(){var t=this.playerContainer.querySelector("#AVcontent"),e=t?parseInt(t.currentTime,10):0;isNaN(e)&&(e=0);var i=t?parseInt(t.duration,10):0;return isNaN(i)&&(i=0),{percent:100*e/i|0,remainingTime:i-e}}},{key:"viewableImpMonitorStart",value:function(){var t=this,e=!(!this.v.env.amp&&this.v.env.fif)||!0===Object(f.m)(),i=(this.v.state.adUnitInView||this.v.state.adUnitIsFloated)&&e;!i||"ad"!==this.v.state.currentVideoType||this.viewableImp||this.viewableImpTimer?i||this.viewableImpMonitorStop():this.viewableImpTimer=setTimeout((function(){t.viewableImp=!0,t.viewableImpMonitorStop();var e={ad_source_id:t.v.env.asid};Object(o.e)("VIEWABLE_IMP",e,t.v)}),2e3)}},{key:"viewableImpMonitorStop",value:function(){clearTimeout(this.viewableImpTimer),this.viewableImpTimer=null}},{key:"onTabFocusChange",value:function(){this.viewableImpMonitorStart()}},{key:"onVisibilitychange",value:function(){var t=this.v&&this.v.state&&this.v.state.playerIsMuted,e=this.v&&this.v.state&&this.v.state.playerIsPaused;!document.hidden||t||e||this.pause()}},{key:"unmutePlayer",value:function(){this.videoPlayer.unmute(),this.videoPlayer.setContentVolume(1),this.onMuteBtnClick()}},{key:"replayVideo",value:function(){var t={requestedCategories:this.v.video[this.v.videoIdx].requestedCategories||"",requestedLanguage:this.v.tagConfig.Language};Object(o.e)("NV_REPLAY",t,this.v),this.v.state.pendingNextTrack=!0,this.v.state.pendingNextIdx=this.v.videoIdx,this.v.tagConfig.AutoStart=!0;var e=this.v.topDiv.querySelector("#"+this.config.position);e.innerHTML="",e.style.display="block",this.videoPlayer.close()}},{key:"onPauseBtnClick",value:function(t){var e=t&&t.currentTarget&&t.currentTarget.className;"replay"===e||"pause"===e&&void 0===this.v.state.currentVideoType?this.replayVideo():(this.v.state.playerIsPaused="pause"===e,this.v.state.playerIsPaused?(this.videoPlayer.playing?Object(o.e)("AD_PAUSE",{},this.v):Object(o.e)("NV_PAUSE",{},this.v),this.v.tagConfig.FloatSettings.floatOnPaused||this.floatUnit(!1),this.dispatchEvent("vi-stories-pause-event"),g.b.dispatchEvent("vi-stories-unit-event",{action:"pause",v:this.v,info:"userAction"})):(this.videoPlayer.playing?Object(o.e)("AD_PLAY",{},this.v):Object(o.e)("NV_PLAY",{},this.v),this.dispatchEvent("vi-stories-play-event"),g.b.dispatchEvent("vi-stories-unit-event",{action:"play",v:this.v,info:"userAction"})))}},{key:"onMuteBtnClick",value:function(t){if(t){var e="off"===(t&&t.currentTarget&&t.currentTarget.children&&t.currentTarget.children[0]&&t.currentTarget.children[0].className);this.v.state.playerIsMuted=!e}else this.v.state.playerIsMuted=!this.videoPlayer.muted;this.v.state.playerIsMuted?this.videoPlayer.playing?Object(o.e)("AD_MUTE",{},this.v):Object(o.e)("NV_MUTE",{},this.v):this.videoPlayer.playing?Object(o.e)("AD_UNMUTE",{},this.v):Object(o.e)("NV_UNMUTE",{},this.v),this.dispatchEvent("vi-stories-mute-unmute-event")}},{key:"onBigPlayBtnClick",value:function(t){this.v.state.adUnitIsClicked=!0,Object(o.e)("NV_CLICK",{},this.v),this.v.tagConfig.UnmuteOnClickStart&&(this.videoPlayer.unmute(),this.videoPlayer.setContentVolume(1),this.v.state.playerIsMuted=!this.videoPlayer.muted,this.dispatchEvent("vi-stories-mute-unmute-event"))}},{key:"onPreloaderPlayIconClick",value:function(t){var e=t&&t.currentTarget;e&&e.classList.add("displayNone"),this.onBigPlayBtnClick(t),this.videoPlayer.play(this.config)}},{key:"onContentClick",value:function(t){Object(o.e)("NV_CLICK_THRU",{},this.v),this.v.tagConfig.ContentClickthrough&&window.open(this.v.tagConfig.ContentClickthrough,"_blank")}},{key:"play",value:function(){this.v.state.playerIsPaused=!1,this.videoPlayer.playing?this.videoPlayer.resume():this.videoPlayer.contentPlaying?this.videoPlayer.resumeContent():this.videoPlayer.AdLoaded?this.videoPlayer.startAd():(this.v.state.pendingNextTrack=!0,this.v.state.pendingNextIdx=this.v.videoIdx,this.v.tagConfig.AutoStart=!0,this.config.openAnim=!1,this.videoPlayer.close()),this.dispatchEvent("vi-stories-play-event")}},{key:"pause",value:function(){this.v.state.playerIsPaused=!0,this.floatUnit(!1),this.videoPlayer.playing&&this.videoPlayer.pause(),this.videoPlayer.contentPlaying&&this.videoPlayer.pauseContent(),this.dispatchEvent("vi-stories-pause-event")}},{key:"playerContainer",get:function(){return this._playerContainer},set:function(t){this._playerContainer=t}},{key:"canFloatNow",get:function(){return this._canFloatNow},set:function(t){this._canFloatNow=t}}])&&ct(i.prototype,s),a&&ct(i,a),e}(g.a),yt=i(5);function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ct(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xt={1:{openAnim:!0},2:{},4:{width:300,height:150}},Pt=function(t){function e(t,i,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=Ct(this,wt(e).call(this))).v=t,o.config=t.viPlayerConfig,o._playerContainer=n,o._canFloatNow=!0,pt=window[btoa("video intelligence player")],o.contentPlayer=o.adEngine=o.gui=o.viewabilityService=null,o.framePlaceHolder=null,o.started=o.ended=o.nextVideoPrepared=null,o.viewableImp=o.adImp=null,o.adSourcesExhausted=null,o.startAdPending=null,o.viewableImpTimer=null,o.adMonitor={adBreak:{type:"",adsLeft:0},lastTimestamp:null,nextAdType:"preroll",secPassedSinceLastAd:0,secPlayedSinceLastAd:0,adsPlayed:0,playAdsTimer:null},o.v.tagConfig.IFA&&(o.config.macros.VI_IDFA=encodeURIComponent(o.v.tagConfig.IFA)),o.v.tagConfig.SubID&&(o.config.macros.VI_APPNAME=encodeURIComponent(o.v.tagConfig.SubID)),o.v.tagConfig.SubID&&(o.config.macros.VI_SUBID=encodeURIComponent(o.v.tagConfig.SubID)),o.v.tagConfig.DeviceIsp&&(o.config.macros.VI_CUSTOM1=encodeURIComponent(o.v.tagConfig.DeviceIsp)),o.v.tagConfig.Latitude&&(o.config.macros.VI_LATITUDE=o.v.tagConfig.Latitude),o.v.tagConfig.Longitude&&(o.config.macros.VI_LONGITUDE=o.v.tagConfig.Longitude),o.v.tagConfig.AppBundle&&(o.config.macros.VI_APPBUNDLE=encodeURIComponent(o.v.tagConfig.AppBundle)),o.v.tagConfig.DeviceModel&&(o.config.macros.VI_MODEL=encodeURIComponent(o.v.tagConfig.DeviceModel)),o.config.macros.VI_PUBLISHERID=encodeURIComponent(o.v.tagConfig.PublisherID),o.config.macros.VI_CDIM2=encodeURIComponent(o.v.tagConfig.PublisherID),o.config.macros.VI_DNT=encodeURIComponent(navigator.doNotTrack||"0"),o.config.macros.VI_SEGMENTS=o.v.video[o.v.videoIdx].segments||"",o.config.macros.VI_BSAFE=o.v.video[o.v.videoIdx].brandSafety||"",o.config.macros.VIC_SCHAIN="1.0,1!vi.ai,"+o.v.tagConfig.PublisherID+",1",o.config.schain={ver:"1.0",complete:1,nodes:[{asi:"vi.ai",sid:o.v.tagConfig.PublisherID,hp:1}]},i&&i.gdpr&&(o.config.macros.VI_GDPR=i.gdpr.applies,o.config.macros.VI_CONSENT=i.gdpr.consent,o.config.gdprConsent={gdprApplies:!!i.gdpr.applies,consentString:i.gdpr.consent}),i&&i.ccpa&&(o.config.macros.VI_CCPA=i.ccpa.uspString),o.v.tagConfig.AppBundle?o.config.macros.VI_URL=encodeURIComponent(o.v.tagConfig.AppBundle):o.v.env.amp&&(o.config.macros.VI_URL=decodeURIComponent(o.v.env.pageUrl)),o.config.affiliateID=o.v.tagConfig.ChannelID,o.config.startCond={ok:function(t){return(!t.adSource.playInView||o.viewabilityService.visible||o.v.state.adUnitIsFloated||o.v.tagConfig.FloatSettings.floatFromStart)&&(!t.adSource.adbreakPosition||t.adSource.adbreakPosition===o.adBreakType)},listen:function(t){o.viewabilityService.addEventListener(yt.a.Events.viewabilitychange,t),o.addEventListener("vi-stories-adbreak-type-change",t)},off:function(t){o.viewabilityService.removeEventListener(yt.a.Events.viewabilitychange,t),o.removeEventListener("vi-stories-adbreak-type-change",t)}},o.config.sessionId=o.v.env.sessionId,o.playerContainer&&o.playerContainer.offsetWidth&&(o.config.width=o.playerContainer.offsetWidth,o.config.height=Math.round(o.config.width/16*9)),o.config=Object(f.c)(o.config,xt[o.v.tagConfig.AdUnitType.toString()]),["maxAdErrors","maximp","maxNoAdsResponses","maxrun","midroll","midrolltime","preroll","waterfallRetry"].forEach((function(t){var e=Object(f.d)(o.v.tagConfig,t);null!==e&&(o.config[t]=e)})),o.config.maxImpressions=o.config.maximp,o.config.maxWaterfallRetries=o.config.maxrun,2===o.v.tagConfig.PlaylistMode&&(o.config.midroll=0),o.setVideoSource(),!0===o.config.openAnim&&(o.playerContainer.classList.add("heightTransition"),o.playerContainer.style.height="0px",o.playerContainer.offsetLeft),o}var i,s,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(e,t),i=e,(s=[{key:"init",value:function(){var t=this;this.playerContainer.style.width=this.config.width+"px",this.playerContainer.style.height=this.config.height+"px";try{this.contentPlayer=new pt.ContentPlayer(this.playerContainer,this.config)}catch(t){return Object(o.e)("ERROR",{error_msg:"CONTENT_PLAYER initialize: "+(t&&t.message)},this.v),void this.closePlayer("error")}this.contentPlayer.on(pt.ContentPlayer.Events.canplay,this.onContentPlayerCanplay,this),this.contentPlayer.on(pt.ContentPlayer.Events.playing,this.onContentPlayerPlaying,this),this.contentPlayer.on(pt.ContentPlayer.Events.pause,this.onContentPlayerPause,this),this.contentPlayer.on(pt.ContentPlayer.Events.firstquartile,this.onContentPlayerFirstquartile,this),this.contentPlayer.on(pt.ContentPlayer.Events.midpoint,this.onContentPlayerMidpoint,this),this.contentPlayer.on(pt.ContentPlayer.Events.thirdquartile,this.onContentPlayerThirdquartile,this),this.contentPlayer.on(pt.ContentPlayer.Events.ended,this.onContentPlayerEnded,this),this.contentPlayer.on(pt.ContentPlayer.Events.click,this.onContentPlayerClick,this),this.contentPlayer.on(pt.ContentPlayer.Events.timeupdate,this.onContentPlayerTimeupdate,this),this.contentPlayer.on(pt.ContentPlayer.Events.error,this.onContentPlayerError,this);var e=this.playerContainer.querySelector("#vi-stories-ad-container");try{this.adEngine=new pt.AdEngine(e,this.config,void 0,!1)}catch(t){return Object(o.e)("ERROR",{error_msg:"AD_ENGINE initialize: "+(t&&t.message)},this.v),void this.closePlayer("error")}this.adEngine.on(pt.AdPlayerEvents.playing,this.onAdEnginePlaying,this),this.adEngine.on(pt.AdPlayerEvents.pause,this.onAdEnginePause,this),this.adEngine.on(pt.AdPlayerEvents.firstquartile,this.onAdEngineFirstQuartile,this),this.adEngine.on(pt.AdPlayerEvents.midpoint,this.onAdEngineMidpoint,this),this.adEngine.on(pt.AdPlayerEvents.thirdquartile,this.onAdEngineThirdQuartile,this),this.adEngine.on(pt.AdPlayerEvents.ended,this.onAdEngineEnded,this),this.adEngine.on(pt.AdPlayerEvents.skipped,this.onAdEngineSkipped,this),this.adEngine.on(pt.AdPlayerEvents.click,this.onAdEngineClick,this),this.adEngine.on(pt.AdPlayerEvents.timeupdate,this.onAdEngineTimeupdate,this),this.adEngine.on(pt.AdEngine.Events.error,this.onAdEngineError,this),this.adEngine.on(pt.AdPlayerEvents.impression,this.onAdEngineImpression,this),this.adEngine.on(pt.AdEngine.Events.noadsources,this.onNoAdSources,this),this.adEngine.on(pt.AdEngine.Events.adsourcesexhausted,this.onAdEngineAdsourcesexhausted,this);var i,n=this.playerContainer.querySelector("#vi-stories-gui-container");this.gui=new pt.GUI(n),this.gui.on(pt.GUI.Events.play,this.onGuiPlay,this),this.gui.on(pt.GUI.Events.pause,this.onGuiPause,this),this.gui.on(pt.GUI.Events.volumechange,this.onGuiVolumechange,this),this.gui.on(pt.GUI.Events.rewind,this.onGuiRewind,this),this.gui.attach(this.contentPlayer),this.gui.thumbnail=this.v.video[this.v.videoIdx].thumbnail,this.gui.closeButtonIsShown=!1,this.gui.controlsBarIsShown=!1,this.gui.progressBarIsShown=!1,this.gui.allowRewind=!1,this.v.tagConfig.FullscreenButton&&(this.gui.fullscreenButtonIsShown=!0),this.playerContainer.addEventListener("mouseover",(function(){t.gui.hovered=!0})),this.playerContainer.addEventListener("mouseout",(function(){t.gui.hovered=!1})),this.boundTabFocusChange=this.onTabFocusChange.bind(this),window.addEventListener("focus",this.boundTabFocusChange),window.addEventListener("blur",this.boundTabFocusChange),i=window.frameElement&&this.v.env.fif?this.createFramePlaceHolder():this.v.topDiv,this.viewabilityService=new yt.a(i,{threshold:this.v.tagConfig.InViewRatio}),this.viewabilityService.addEventListener(yt.a.Events.viewabilitychange,this.onViewabilitychange,this),Object(f.q)()&&(this.boundVisibilitychange=this.onVisibilitychange.bind(this),document.addEventListener("visibilitychange",this.boundVisibilitychange,!1)),this.v.tagConfig.DelayWaterfallStart&&(this.v.tagConfig.ClickToPlay||this.v.tagConfig.PlayInView)||this.playPrerolls()}},{key:"dispose",value:function(){this.removeAllListeners(),window.removeEventListener("focus",this.boundTabFocusChange),window.removeEventListener("blur",this.boundTabFocusChange),document.removeEventListener("visibilitychange",this.boundVisibilitychange)}},{key:"resize",value:function(t){var e=Math.round(t/16*9);this.playerContainer.style.width=t+"px",this.playerContainer.style.height=e+"px",this.adEngine&&this.adEngine.resize(t,e)}},{key:"closePlayer",value:function(t){var e=this;this.v.state.closeReason=t,"ad"===this.v.state.currentVideoType?Object(o.e)("AD_CLOSE",{},this.v):Object(o.e)("NV_CLOSE",{},this.v),this.adMonitorStop(),this.viewableImpMonitorStop(),this.floatUnit(!1),!0===this.config.openAnim&&(this.playerContainer.style.height="0px");var i=this.v.topDiv.querySelector("#vi-stories-area-above-placeholder");i&&i.classList.add("displayNone"),this.v.topDiv.querySelector("#vi-stories-description-container").classList.add("displayNone"),this.contentPlayer&&this.contentPlayer.dispose(),this.adEngine&&this.adEngine.dispose(),this.gui&&this.gui.dispose(),this.viewabilityService&&this.viewabilityService.dispose();var n=this.v.env.fif&&window.frameElement&&!this.v.tagConfig.FallbackTag;this.v.env.fif&&window.frameElement||!0===this.config.openAnim?setTimeout((function(){e.v.topDiv.querySelector("#vi-stories-main-container").classList.add("displayNone"),e.dispatchEvent("vi-stories-close-player-event"),e.dispose(),n&&(window.frameElement.style.display="none")}),1e3):(this.dispatchEvent("vi-stories-close-player-event"),this.dispose()),this.v.state.closeReason&&this.v.tagConfig.CustomActions&&Object(f.y)(this.v.tagConfig.CustomActions,this.v)}},{key:"setVideoSource",value:function(){this.config.src=this.v.video[this.v.videoIdx].url,this.contentPlayer&&(this.contentPlayer.src=this.v.video[this.v.videoIdx].url),this.gui&&(this.gui.thumbnail=this.v.video[this.v.videoIdx].thumbnail);var t={VI_CDIM1:this.v.video[this.v.videoIdx].sourceId,VI_CUSTOM10:this.v.video[this.v.videoIdx].matchedCategoryCode||this.v.tagConfig.IAB_Category,VI_IAB:this.v.video[this.v.videoIdx].matchedCategoryCode||this.v.tagConfig.IAB_Category,VI_IABSHORT:Object(f.l)(this.v.video[this.v.videoIdx].matchedCategoryCode||this.v.tagConfig.IAB_Category),VI_DURATION:this.v.video[this.v.videoIdx].duration,VI_CATEGORY:this.v.video[this.v.videoIdx].matchedCategoryName||"",VI_TITLE:this.v.video[this.v.videoIdx].title||"",VI_VIDSEG:this.v.video[this.v.videoIdx].videoSegments||""};if(this.v.tagConfig.KeywordSearch){var e=Object(f.x)(this.v.tagConfig.KeywordSearch,"param","AV_","VI_");t=Object(f.c)(t,Object(f.f)(e))}if(this.v.tagConfig.CustomAdParams){var i=Object(f.x)(this.v.tagConfig.CustomAdParams,"param","AV_","VI_");t=Object(f.c)(t,Object(f.g)(i,this.v))}for(var n in t)t.hasOwnProperty(n)&&(this.config.macros[n]=t[n]);g.b.dispatchEvent("vi-stories-unit-event",{action:"update",v:this.v})}},{key:"playNextVideo",value:function(){this.nextVideoPrepared=!0,this.adMonitor.secPassedSinceLastAd+=this.v.video[this.v.videoIdx].duration,this.v.state.pendingNextTrack=!1,this.v.videoIdx=this.v.state.pendingNextIdx,this.setVideoSource();var t={requestedCategories:this.v.video[this.v.videoIdx].requestedCategories||"",requestedLanguage:this.v.tagConfig.Language};Object(o.e)("NV_LOADED",t,this.v),1===this.v.tagConfig.PlaylistMode?(this.adEngine.resetStats(),this.resetAdMonitor()):2===this.v.tagConfig.PlaylistMode&&(this.v.tagConfig.AutoStart=!0,this.adMonitor.secPassedSinceLastAd>=this.config.midrolltime&&this.adMonitor.adsPlayed<this.config.maximp?(this.config.preroll=1,this.adMonitor.secPassedSinceLastAd=0):this.config.preroll=0),this.dispatchEvent("vi-stories-new-content-event"),this.adEngine.cancelAd(),this.adEngine.flushReadyAdPlayers(),this.adEngine.incInterval("video"),this.playPrerolls()}},{key:"createFramePlaceHolder",value:function(){if(window.frameElement&&!this.framePlaceHolder){var t=window.frameElement.getBoundingClientRect(),e=window.frameElement.parentElement;this.framePlaceHolder=document.createElement("div"),this.framePlaceHolder.id="framePlaceHolder",this.framePlaceHolder.style.position="absolute",this.framePlaceHolder.style.width="1px",this.framePlaceHolder.style.height=t.height+"px",e.parentNode.insertBefore(this.framePlaceHolder,e)}return this.framePlaceHolder}},{key:"floatUnit",value:function(t,e){if(this.v.state.adUnitIsFloated!==t&&(!this.v.state.playerIsPaused||this.v.tagConfig.FloatSettings.floatOnPaused||!t)){var i=this.v.tagConfig.FloatSettings[e]||this.v.tagConfig.FloatSettings.any;if((!t||i)&&this.canFloatNow){var n=i&&Object(f.c)({},i.position)||{};if(i&&i.originSelector&&i.originOffset){var o=window.frameElement&&this.v.env.fif&&window.top.document||window.document,s=o.querySelector(i.originSelector);if(s){var a=window.top&&window.top.innerHeight,r=o.body.clientWidth,l=window.getComputedStyle(s,null),d=s.getBoundingClientRect(),c={bottom:a-d.bottom,left:d.left,right:r-d.right,top:d.top};if(["bottom","left","right","top"].forEach((function(t){i.originOffset.hasOwnProperty(t)&&(n[t]=c[t]+(l?parseFloat(l.getPropertyValue("padding-"+t)):0)+parseFloat(i.originOffset[t])+"px")})),t&&(n.bottom&&parseFloat(n.bottom)+this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize>=a||n.left&&parseFloat(n.left)+this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize>=r||n.right&&parseFloat(n.right)+this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize>=r||n.top&&parseFloat(n.top)+this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize>=a))return}}this.v.state.adUnitIsFloated=t,g.b.dispatchEvent("vi-stories-unit-event",{action:"float",v:this.v,info:t});var v=t?{bottom:void 0!==n.bottom?n.bottom:"",left:void 0!==n.left?n.left:"",position:"fixed",right:void 0!==n.right?n.right:"",top:void 0!==n.top?n.top:"",zIndex:this.v.tagConfig.ZIndexFloat}:{bottom:"",left:"",position:"relative",right:"",top:"",zIndex:this.v.tagConfig.ZIndexBase},u=t?{transform:"scale("+this.v.tagConfig.FloatSize+")",transformOrigin:i.transformOrigin,webkitTransform:"scale("+this.v.tagConfig.FloatSize+")",webkitTransformOrigin:i.transformOrigin}:{transform:"none",transformOrigin:"",webkitTransform:"none",webkitTransformOrigin:""},h=this.v.topDiv.querySelector("#vi-stories-main-container");for(var p in u)u.hasOwnProperty(p)&&(h.style[p]=u[p]);if(window.frameElement&&window.frameElement.parentElement){var y=window.frameElement.parentElement;for(var m in this.framePlaceHolder&&this.framePlaceHolder.style.setProperty("position",t?"static":"absolute"),v.overflow=t?"hidden":"",v)v.hasOwnProperty(m)&&(y.style[m]=v[m]);if(t){var b="hide"!==this.v.tagConfig.CloseButton&&"outside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location&&this.v.env.fif&&window.frameElement?25:0,C=Math.ceil(this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize),w=Math.ceil(this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize)+b;if("ribbon"===this.v.tagConfig.FloatLayoutMode){var I=window.frameElement&&this.v.env.fif&&window.top.document||window.document,x=this.v.tagConfig.FloatLayoutSettings.ribbonPlayerWidth||.47;C=I.body.clientWidth,w=I.body.clientWidth*x*9/16+b,window.frameElement.style.width="100%"}y.style.width=C+"px",y.style.height=w+"px",window.frameElement.contentDocument.body.classList.add("vi-stories-floating"),h.style.margin="0",h.style.transformOrigin="top left"}else"ribbon"===this.v.tagConfig.FloatLayoutMode&&(window.frameElement.style.width=""),y.style.width="",y.style.height="",window.frameElement.contentDocument.body.classList.remove("vi-stories-floating"),h.style.margin="0 auto",h.style.transformOrigin=""}else{var P=this.v.topDiv.querySelector("#vi-stories-main-placeholder");for(var O in P.style.height=h.offsetHeight+"px",t?P.classList.remove("displayNone"):P.classList.add("displayNone"),v)v.hasOwnProperty(O)&&(h.style[O]=v[O])}t?h.classList.add("vi-stories-floating"):h.classList.remove("vi-stories-floating"),"ribbon"===this.v.tagConfig.FloatLayoutMode&&(t?h.classList.add("vi-stories-ribbon-ui"):h.classList.remove("vi-stories-ribbon-ui"),this.playerContainer.style.width="",this.playerContainer.style.height="",this.resize(this.playerContainer.offsetWidth))}}}},{key:"handleOutOfView",value:function(){!this.v.tagConfig.Float&&(this.v.tagConfig.PauseOutOfView||this.adEngine.adPlayer&&this.adEngine.adPlayer.adSource&&this.adEngine.adPlayer.adSource.pauseOutOfView)?this.v.state.adUnitInView||this.v.state.outOfViewPaused?this.v.state.adUnitInView&&this.v.state.outOfViewPaused&&("content"===this.v.state.currentVideoType?(this.v.state.outOfViewPaused=!1,this.contentPlayer.play()):"ad"===this.v.state.currentVideoType&&this.adEngine.adPlayer&&(this.v.state.outOfViewPaused=!1,this.adEngine.adPlayer.play())):"content"===this.v.state.currentVideoType?(this.v.state.outOfViewPaused=!0,this.contentPlayer.pause()):"ad"===this.v.state.currentVideoType&&this.adEngine.adPlayer&&(!this.v.tagConfig.PauseOutOfViewSettings.beforeSeconds||this.v.tagConfig.PauseOutOfViewSettings.beforeSeconds>this.adEngine.adPlayer.currentTime)&&(this.v.state.outOfViewPaused=!0,this.adEngine.adPlayer.pause()):!this.v.tagConfig.Float&&this.v.tagConfig.PauseOutOfViewPlaylist&&this.v.state.adUnitInView&&this.v.state.outOfViewPaused&&(this.v.state.outOfViewPaused=!1,this.v.state.pendingNextTrack=!0,this.playNextVideo())}},{key:"getRemainingTime",value:function(){return"ad"===this.v.state.currentVideoType&&this.adEngine.adPlayer?Math.ceil(this.adEngine.adPlayer.duration-this.adEngine.adPlayer.currentTime):"content"===this.v.state.currentVideoType?Math.ceil(this.contentPlayer.duration-this.contentPlayer.currentTime):0}},{key:"getRemainingSkipTime",value:function(){var t=this.adEngine.adPlayer&&this.adEngine.adPlayer.currentTime||0;return"ad"===this.v.state.currentVideoType?Math.ceil(this.config.skipTimer-t):0}},{key:"unmutePlayer",value:function(){var t="content"===this.v.state.currentVideoType?this.contentPlayer:"ad"===this.v.state.currentVideoType?this.adEngine.adPlayer:null;t&&(t.muted=!1),this.onGuiVolumechange.call(this)}},{key:"onTabFocusChange",value:function(){this.viewableImpMonitorStart()}},{key:"adMonitorStart",value:function(){this.adMonitor.lastTimestamp=Date.now(),this.adMonitorStop();var t=this.config.midroll,e=this.playMidrolls.bind(this);if("preroll"===this.adMonitor.nextAdType&&(t=this.config.preroll,e=this.playPrerolls.bind(this)),t>0&&this.adMonitor.adsPlayed<this.config.maximp){var i=this.config.midrolltime-this.adMonitor.secPlayedSinceLastAd;clearTimeout(this.adMonitor.playAdsTimer),this.adMonitor.playAdsTimer=setTimeout(e,1e3*i)}}},{key:"adMonitorStop",value:function(){null!==this.adMonitor.playAdsTimer&&(this.adMonitor.lastTimestamp&&(this.adMonitor.secPlayedSinceLastAd+=(Date.now()-this.adMonitor.lastTimestamp)/1e3),clearTimeout(this.adMonitor.playAdsTimer),this.adMonitor.playAdsTimer=null)}},{key:"viewableImpMonitorStart",value:function(){var t=this,e=!(!this.v.env.amp&&this.v.env.fif)||!0===Object(f.m)(),i=(this.v.state.adUnitInView||this.v.state.adUnitIsFloated)&&e;!i||"ad"!==this.v.state.currentVideoType||this.viewableImp||this.viewableImpTimer?i||this.viewableImpMonitorStop():this.viewableImpTimer=setTimeout((function(){t.viewableImp=!0,t.viewableImpMonitorStop();var e={ad_source_id:t.v.env.asid};Object(o.e)("VIEWABLE_IMP",e,t.v)}),2e3)}},{key:"viewableImpMonitorStop",value:function(){clearTimeout(this.viewableImpTimer),this.viewableImpTimer=null}},{key:"playPrerolls",value:function(){clearTimeout(this.adMonitor.playAdsTimer),this.adMonitor.playAdsTimer=null,this.config.preroll>0&&this.adMonitor.adsPlayed<this.config.maximp?(this.adBreakType="preroll",this.adMonitor.adBreak.adsLeft=this.config.preroll,this.prepareAd()):(this.adBreakType="",this.adMonitor.nextAdType="midroll",this.resumeContent())}},{key:"playMidrolls",value:function(){clearTimeout(this.adMonitor.playAdsTimer),this.adMonitor.playAdsTimer=null,this.config.midroll>0&&this.adMonitor.adsPlayed<this.config.maximp&&(this.adBreakType="midroll",this.adMonitor.adBreak.adsLeft=this.config.midroll,this.prepareAd())}},{key:"prepareAd",value:function(){var t=this;if(Object(o.e)("INVENTORY",{},this.v),this.adEngine.off(pt.AdEngine.Events.readyad,this.onAdReady,this),this.adEngine.readyAdPlayer())return this.onAdReady();this.adEngine.once(pt.AdEngine.Events.readyad,this.onAdReady,this),this.adEngine.runWaterfall(this.config.waterfallRetry).then((function(){}),(function(e){e===pt.AdEngine.Errors.retrylimitreached&&t.onAdEngineAdsourcesexhausted(),t.adEngine.readyAdPlayer()||(!t.v.tagConfig.AutoStart||t.v.tagConfig.PlayInView&&!t.v.state.adUnitInView&&!t.v.state.adUnitIsFloated)&&"midroll"!==t.adBreakType||t.resumeContent()})).finally((function(){}))}},{key:"onAdReady",value:function(){this.v.state.adIsLoaded=!0,this.dispatchEvent("vi-stories-ad-ready-event"),this.tryShowUnit(),this.tryStartAd()}},{key:"tryShowUnit",value:function(t){var e=!1;if(!this.v.env.amp&&this.v.tagConfig.HideUnit&&(-1!==this.v.tagConfig.HideUnit.indexOf("beforeAd")?e="beforeAd":-1!==this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd")&&(e="beforeRcAndAd")),"beforeAd"===e&&this.v.state.adIsLoaded||"beforeRcAndAd"===e&&this.v.state.remoteControlInViewOnce&&this.v.state.adIsLoaded||("beforeRcAndAd"===e||"beforeAd"===e)&&t){this.v.env.fif&&window.frameElement&&(window.frameElement.style.display="block");var i=this.v.topDiv.querySelector("#vi-stories-main-container");i&&(i.classList.remove("displayNone"),this.resize(i.offsetWidth))}}},{key:"tryStartAd",value:function(){!this.v.state.adUnitIsClicked&&this.v.tagConfig.ClickToPlay||!(this.v.state.adUnitInViewOnce&&this.v.tagConfig.Float||this.v.state.adUnitInView)&&this.v.tagConfig.PlayInView||(!this.v.state.adUnitInView&&!this.v.state.adUnitIsFloated||!0!==Object(f.m)())&&this.v.tagConfig.PlayInFocus||!(-1!==this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd")&&this.v.state.remoteControlInViewOnce||-1===this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd"))||!this.v.state.adIsLoaded||this.v.state.displayAdIsVisible?this.v.tagConfig.DelayWaterfallStart&&(this.v.tagConfig.ClickToPlay&&this.v.state.adUnitIsClicked||this.v.tagConfig.PlayInView&&this.v.state.adUnitInViewOnce)&&this.playPrerolls():this.playAd()}},{key:"playAd",value:function(){var t=this;this.startAdPending||(this.startAdPending=!0,this.adEngine.startAd().then((function(e){return t.contentPlayer.pause(),e.fullscreen=t.contentPlayer.fullscreen,e.muted=t.v.state.playerIsMuted,t.gui.attach(e),pt.AdEngine.onceAdPlayerDone(e).then((function(){t.startAdPending=!1,t.onAdFinished()}),(function(){t.v.state.currentVideoType=void 0,t.gui.attach(t.contentPlayer),t.startAdPending=!1,t.onAdFinished(!0)}))}),(function(e){t.startAdPending=!1,t.onAdFinished(!0)})))}},{key:"onAdFinished",value:function(t){if(this.v.state.adIsLoaded=!1,this.adMonitor.adBreak.adsLeft--,!t&&this.adMonitor.adsPlayed++,this.adEngine.adPlayer&&(this.contentPlayer.fullscreen=this.adEngine.adPlayer.fullscreen),this.adMonitor.adBreak.adsLeft>0)this.prepareAd();else{if((!t||t&&(this.v.tagConfig.AutoStart||"midroll"===this.adBreakType))&&this.resumeContent(),t){if(this.adEngine.readyAdPlayer())return this.onAdReady();this.adEngine.once(pt.AdEngine.Events.readyad,this.onAdReady,this)}"preroll"===this.adBreakType&&(this.adMonitor.nextAdType="midroll"),this.adBreakType=""}}},{key:"resetAdMonitor",value:function(){this.adBreakType="",this.adMonitor.adBreak.adsLeft=0,this.adMonitor.lastTimestamp=null,this.adMonitor.nextAdType="preroll",this.adMonitor.secPlayedSinceLastAd=0,this.adMonitor.adsPlayed=0}},{key:"resumeContent",value:function(){this.gui.attach(this.contentPlayer),this.contentPlayer.play(),this.adMonitor.lastTimestamp=null,this.adMonitor.secPlayedSinceLastAd=0}},{key:"onAdEnginePlaying",value:function(){this.v.state.currentVideoType="ad",this.v.state.playerIsPaused=!1,this.gui.controlsBarIsShown=!0,this.gui.progressBarIsShown=!0,this.gui.allowRewind=!1;var t=this.v.topDiv.querySelector("#vi-stories-main-container");t.classList.remove("vi-stories-playing-content"),t.classList.add("vi-stories-playing-ad");var e=this.playerContainer.querySelector("#vi-stories-ad-container");e&&(e.style.zIndex="auto"),(this.v.state.adUnitInViewOnce||this.v.tagConfig.FloatSettings.floatFromStart)&&this.onViewabilitychange(),g.b.dispatchEvent("vi-stories-unit-event",{action:"play",v:this.v})}},{key:"onAdEnginePause",value:function(){}},{key:"onAdEngineFirstQuartile",value:function(){var t={ad_source_id:this.v.env.asid};Object(o.e)("AD_25",t,this.v)}},{key:"onAdEngineMidpoint",value:function(){var t={ad_source_id:this.v.env.asid};Object(o.e)("AD_50",t,this.v)}},{key:"onAdEngineThirdQuartile",value:function(){var t={ad_source_id:this.v.env.asid};Object(o.e)("AD_75",t,this.v)}},{key:"onAdEngineEnded",value:function(){this.viewableImpMonitorStop();var t={ad_source_id:this.v.env.asid};Object(o.e)("AD_100",t,this.v),this.dispatchEvent("vi-stories-ad-complete-event"),"1"===this.v.tagConfig.AdUnitType.toString()&&this.closePlayer("ad-complete")}},{key:"onAdEngineSkipped",value:function(){this.viewableImpMonitorStop(),this.dispatchEvent("vi-stories-ad-skipped-event"),"1"===this.v.tagConfig.AdUnitType.toString()&&this.closePlayer("ad-skipped")}},{key:"onAdEngineClick",value:function(){var t={ad_source_id:this.v.env.asid};Object(o.e)("CLICK",t,this.v)}},{key:"onAdEngineTimeupdate",value:function(){this.dispatchEvent("vi-stories-timeupdate-event")}},{key:"onAdEngineError",value:function(t){Object(o.e)("WARNING",{error_msg:"AD_ENGINE: "+(t&&t.message)},this.v)}},{key:"onAdEngineImpression",value:function(){this.v.env.asid=this.adEngine.adPlayer&&this.adEngine.adPlayer.adSource&&this.adEngine.adPlayer.adSource.id,this.viewableImp=!1,this.adImp=!0,this.v.tagConfig.IASPixelEnabled&&Object(o.c)(this.v.tagConfig.AppBundle||this.v.env.pageDomain,this.v.tagConfig.PublisherID,this.v.env.asid),this.viewableImpMonitorStart();var t={ad_source_id:this.v.env.asid};if(Object(o.e)("IMP",t,this.v),this.v.video[this.v.videoIdx].contentCost&&this.v.video[this.v.videoIdx].contentCost.revShare){var e="preroll"!==this.adBreakType;this.adEngine.trackContentCost(e,this.v.video[this.v.videoIdx].contentCost.revShare,this.v.video[this.v.videoIdx].contentCost.contentHash)}this.dispatchEvent("vi-stories-ad-impression-event"),this.v.tagConfig&&this.v.tagConfig.CallbackFunction&&"function"==typeof this.v.tagConfig.CallbackFunction&&this.v.tagConfig.CallbackFunction("SUCCESS")}},{key:"onNoAdSources",value:function(){Object(o.e)("WARNING",{error_msg:n.e.noAdSources},this.v),this.onAdEngineAdsourcesexhausted()}},{key:"onAdEngineAdsourcesexhausted",value:function(){this.adImp||this.adSourcesExhausted||(this.adSourcesExhausted=!0,this.dispatchEvent("vi-stories-adsourcesexhausted-event"))}},{key:"onContentPlayerCanplay",value:function(){}},{key:"onContentPlayerPlaying",value:function(){this.v.state.currentVideoType="content",this.v.state.playerIsPaused=!1,this.gui.controlsBarIsShown=!0,this.gui.progressBarIsShown=!0,this.gui.allowRewind=!0;var t=this.v.topDiv.querySelector("#vi-stories-main-container");t.classList.remove("vi-stories-playing-ad"),t.classList.add("vi-stories-playing-content"),this.started&&!this.nextVideoPrepared||(this.started||(this.started=!0),this.nextVideoPrepared&&(this.nextVideoPrepared=!1),this.v.video[this.v.videoIdx].contentCost&&(this.v.video[this.v.videoIdx].contentCost.revShare?this.adEngine.trackContentCost(!0):this.adEngine.trackContentCost(!0,this.v.video[this.v.videoIdx].contentCost.revShare,this.v.video[this.v.videoIdx].contentCost.contentHash)),Object(o.e)("NV_START",{},this.v),this.dispatchEvent("vi-stories-content-impression-event"),this.v.tagConfig.ShoppableVideo&&(window.kervEmbed.init("01E9ERDZS5126Y33M7BY8C7W2R"),window.kervEmbed.loadOverlay(this.v.video[this.v.videoIdx].id,"#"+this.playerContainer.id)));var e=this.playerContainer.querySelector("#vi-stories-ad-container");e&&(e.style.zIndex=-1),this.dispatchEvent("vi-stories-content-playing-event"),g.b.dispatchEvent("vi-stories-unit-event",{action:"play",v:this.v}),this.adMonitor.nextAdType="midroll",this.adMonitorStart()}},{key:"onContentPlayerPause",value:function(){this.adMonitorStop()}},{key:"onContentPlayerFirstquartile",value:function(){Object(o.e)("NV_25",{},this.v)}},{key:"onContentPlayerMidpoint",value:function(){Object(o.e)("NV_50",{},this.v)}},{key:"onContentPlayerThirdquartile",value:function(){Object(o.e)("NV_75",{},this.v)}},{key:"onContentPlayerEnded",value:function(){this.v.state.currentVideoType=void 0,this.v.topDiv.querySelector("#vi-stories-main-container").classList.remove("vi-stories-playing-ad","vi-stories-playing-content"),Object(o.e)("NV_100",{},this.v),this.dispatchEvent("vi-stories-current-content-complete-event"),this.v.tagConfig.PlaylistMode>0&&this.v.video[this.v.videoIdx+1]&&this.v.videoIdx+1<this.v.tagConfig.PlaylistLength?(this.v.state.pendingNextIdx=this.v.videoIdx+1,1===this.v.tagConfig.PlaylistMode?(this.v.state.pendingNextTrack=!0,this.playNextVideo()):2===this.v.tagConfig.PlaylistMode&&(!this.v.tagConfig.PauseOutOfViewPlaylist||this.v.state.adUnitInView||this.v.state.adUnitIsFloated?(this.v.state.pendingNextTrack=!0,this.playNextVideo()):this.v.state.outOfViewPaused=!0)):(this.floatUnit(!1),this.dispatchEvent("vi-stories-all-content-complete-event"),!this.v.env.amp&&this.v.tagConfig.HideUnit&&-1!==this.v.tagConfig.HideUnit.indexOf("afterContent")&&(this.v.state.currentVideoType="content",this.closePlayer("all-content-complete")),this.ended=!0)}},{key:"onContentPlayerClick",value:function(){this.v.tagConfig.ContentClickthrough&&(Object(o.e)("NV_CLICK_THRU",{},this.v),window.open(this.v.tagConfig.ContentClickthrough,"_blank"))}},{key:"onContentPlayerTimeupdate",value:function(){this.dispatchEvent("vi-stories-timeupdate-event")}},{key:"onContentPlayerError",value:function(t){Object(o.e)("WARNING",{error_msg:"CONTENT_PLAYER: "+(t&&t.message)},this.v)}},{key:"onGuiPlay",value:function(){if(this.adEngine.contentClickOccurred(),this.v.state.playerIsPaused=!1,this.gui.controlsBarIsShown=!0,"content"===this.v.state.currentVideoType)Object(o.e)("NV_PLAY",{},this.v);else if("ad"===this.v.state.currentVideoType){var t={ad_source_id:this.v.env.asid};Object(o.e)("AD_PLAY",t,this.v)}else if(this.ended){var e={requestedCategories:this.v.video[this.v.videoIdx].requestedCategories||"",requestedLanguage:this.v.tagConfig.Language};Object(o.e)("NV_REPLAY",e,this.v),this.ended=!1}else this.v.state.adUnitIsClicked=!0,Object(o.e)("NV_CLICK",{},this.v),this.v.tagConfig.UnmuteOnClickStart&&this.contentPlayer&&(this.contentPlayer.muted=!1,this.v.state.playerIsMuted=this.contentPlayer.muted,this.dispatchEvent("vi-stories-mute-unmute-event")),this.v.tagConfig.ClickToPlayAdSources&&(this.config.macros.VI_CLICK_TO_PLAY="true",this.prepareAd()),this.tryStartAd();this.dispatchEvent("vi-stories-play-event"),g.b.dispatchEvent("vi-stories-unit-event",{action:"play",v:this.v,info:"userAction"})}},{key:"onGuiPause",value:function(){if(this.adEngine.contentClickOccurred(),"content"===this.v.state.currentVideoType)Object(o.e)("NV_PAUSE",{},this.v);else if("ad"===this.v.state.currentVideoType){var t={ad_source_id:this.v.env.asid};Object(o.e)("AD_PAUSE",t,this.v)}this.v.state.playerIsPaused=!0,this.v.tagConfig.FloatSettings.floatOnPaused||this.floatUnit(!1),this.dispatchEvent("vi-stories-pause-event"),g.b.dispatchEvent("vi-stories-unit-event",{action:"pause",v:this.v,info:"userAction"})}},{key:"onGuiVolumechange",value:function(){if(this.adEngine.contentClickOccurred(),"content"===this.v.state.currentVideoType)this.v.state.playerIsMuted=this.contentPlayer.muted,this.adEngine.adPlayer&&(this.adEngine.adPlayer.muted=this.v.state.playerIsMuted),this.v.state.playerIsMuted?Object(o.e)("NV_MUTE",{},this.v):Object(o.e)("NV_UNMUTE",{},this.v);else if("ad"===this.v.state.currentVideoType){this.v.state.playerIsMuted=this.adEngine.adPlayer&&this.adEngine.adPlayer.muted,this.contentPlayer&&(this.contentPlayer.muted=this.v.state.playerIsMuted);var t={ad_source_id:this.v.env.asid};this.v.state.playerIsMuted?Object(o.e)("AD_MUTE",t,this.v):Object(o.e)("AD_UNMUTE",t,this.v)}this.dispatchEvent("vi-stories-mute-unmute-event")}},{key:"onGuiRewind",value:function(){this.adEngine.contentClickOccurred(),Object(o.e)("NV_TIMELINE_CLICK",{},this.v)}},{key:"onViewabilitychange",value:function(){var t=this.v.state.adUnitInViewOnce;this.v.state.adUnitInView=this.viewabilityService.visible,this.v.state.adUnitInView&&(this.v.state.adUnitInViewOnce=!0);var e="above"===this.viewabilityService.position?"down":"below"===this.viewabilityService.position?"up":null,i=!1;this.v.tagConfig.Float&&(this.v.state.adUnitInViewOnce||this.v.tagConfig.FloatSettings.floatFromStart)&&!this.v.state.adUnitInView&&(this.v.tagConfig.FloatSettings.floatOnPaused||this.v.state.currentVideoType)&&(i=!0),t||!this.v.state.adUnitInViewOnce&&!i||Object(o.e)("INVIEW",{},this.v),this.floatUnit(i,e),this.tryStartAd(),this.viewableImpMonitorStart(),this.handleOutOfView(),this.dispatchEvent("vi-stories-viewability-change-event")}},{key:"onVisibilitychange",value:function(){var t=this.v&&this.v.state&&this.v.state.playerIsMuted,e=this.v&&this.v.state&&this.v.state.playerIsPaused;!document.hidden||t||e||this.pause()}},{key:"play",value:function(){var t=this;this.v.state.playerIsPaused=!1,"content"===this.v.state.currentVideoType?this.contentPlayer.play():"ad"===this.v.state.currentVideoType?this.adEngine.adPlayer&&this.adEngine.adPlayer.play():setTimeout((function(){t.contentPlayer.play()}),0),this.dispatchEvent("vi-stories-play-event")}},{key:"pause",value:function(){this.v.state.playerIsPaused=!0,this.floatUnit(!1),"content"===this.v.state.currentVideoType?this.contentPlayer.pause():"ad"===this.v.state.currentVideoType&&this.adEngine.adPlayer&&this.adEngine.adPlayer.pause(),this.dispatchEvent("vi-stories-pause-event")}},{key:"playerContainer",get:function(){return this._playerContainer},set:function(t){this._playerContainer=t}},{key:"canFloatNow",get:function(){return this._canFloatNow},set:function(t){this._canFloatNow=t}},{key:"adBreakType",get:function(){return this.adMonitor.adBreak.type},set:function(t){this.adMonitor.adBreak.type=t,this.dispatchEvent("vi-stories-adbreak-type-change")}},{key:"adCompanion",get:function(){return this.adEngine.adPlayer&&this.adEngine.adPlayer.adSource&&this.adEngine.adPlayer.adSource.companionAd}}])&&bt(i.prototype,s),a&&bt(i,a),e}(g.a);i(17);function Ot(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.d(e,"a",(function(){return _t}));var kt="https://s.vi-serve.com",_t=function(){function t(e,i,s,a,r){var l,d,c,v,u=this;for(var h in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.referenceElem=null,this.disposed=!1,e)e.hasOwnProperty(h)&&Object(f.t)(e[h])&&(e[h]=e[h].trim());if(-1!==n.b.indexOf(navigator.userAgent)){var p=n.h.tracking+"?event=ERROR&pub_id="+e.PublisherID+"&channel_id="+e.ChannelID+"&page_url="+r.pageUrl+"&error_msg="+n.e.crawlerUa;return document.createElement("img").src=p+"&cb="+Object(f.z)(),void console.log("VI_ERROR: "+n.e.crawlerUa)}if(!r.fif&&!e.AllowNonFriendlyIframe){var g=n.h.tracking+"?event=ERROR&pub_id="+e.PublisherID+"&channel_id="+e.ChannelID+"&page_url="+r.pageUrl+"&error_msg="+n.e.nonFif;return document.createElement("img").src=g+"&cb="+Object(f.z)(),void console.log("VI_ERROR: "+n.e.nonFif)}r.fif&&window.frameElement&&(window.frameElement.contentDocument.body.classList.add("vi-stories-inside-iframe"),window.frameElement.style.backgroundColor="transparent"),this.v={env:r,state:Object(f.c)({},n.f),topDiv:null,topDivId:"",video:JSON.parse(JSON.stringify(n.a.video)),videoIdx:n.a.videoIdx},["tagConfig","remoteControlConfig","playerConfig","viPlayerConfig","prebidConfig"].map((function(t){return u.v[t]=Object(f.c)({},n.a[t])})),Object(f.q)()&&n.a.mobile&&["tagConfig","remoteControlConfig","playerConfig","viPlayerConfig","prebidConfig"].map((function(t){return u.v[t]=Object(f.c)(u.v[t],n.a.mobile[t])})),this.v.tagConfig=Object(f.c)(this.v.tagConfig,e),["remoteControlConfig","playerConfig","viPlayerConfig","prebidConfig"].map((function(t){return u.v[t]=Object(f.c)(u.v[t],e[t])})),Object(f.q)()&&e.mobile&&["tagConfig","remoteControlConfig","playerConfig","viPlayerConfig","prebidConfig"].map((function(t){return u.v[t]=Object(f.c)(u.v[t],e.mobile[t])}));var y={CustomTrackingUrlDispImp:"DISP_IMP",CustomTrackingUrlDispBImp:"DISP_B_IMP",CustomTrackingUrlError:"ERROR",CustomTrackingUrlImpression:"IMP",CustomTrackingUrlPlacement:"PLACEMENT"};Object.keys(y).map((function(t){u.v.tagConfig[t]&&(u.v.tagConfig.CustomTracking||(u.v.tagConfig.CustomTracking={}),u.v.tagConfig.CustomTracking[y[t]]=[u.v.tagConfig[t]],delete u.v.tagConfig[t])}));for(var m=document.querySelectorAll(".vi-stories-script-loader"),b=0;b<m.length;b++)if(m[b].getAttribute("data-publisher-id")===e.PublisherID&&!m[b].hasAttribute("data-source-passed")){(i=m[b]).setAttribute("data-source-passed","true");break}if(!i)for(var C=0,w=document.getElementsByTagName("script");C<w.length;C++)if((d=w[C].text)&&/\(\s*function\s*\(\s*v\s*,\s*i\s*\)\s*{/gi.test(d)&&-1!==d.indexOf(e.ChannelID)&&!w[C].hasAttribute("data-source-passed")){(i=w[C]).setAttribute("data-source-passed","true"),(l=d.match(/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i))&&l.length>0&&(c=l[0]);break}if(i){if(i.parentNode&&"head"===i.parentNode.tagName.toLowerCase())return void Object(o.e)("ERROR",{error_msg:n.e.head},this.v);this.referenceElem=i}else this.referenceElem=document.getElementById("vi-"+e.PublisherID),this.referenceElem||(this.referenceElem=document.createElement("script"),document.body.appendChild(this.referenceElem));if(!s)if(c){for(var I=0,x=document.getElementsByTagName("script");I<x.length;I++)if((v=x[I].src)&&-1!==c.indexOf(v)){s=v;break}}else s="https://s.vi-serve.com/";s&&(kt=s.substr(0,s.lastIndexOf("/"))),(a?Promise.resolve():this.loadPublisherConfigs(this.v.tagConfig.PublisherID,this.v.env.pageDomain).finally((function(){return u.v.tagConfig.Prebid?u.loadPublisherConfigs(u.v.tagConfig.PublisherID,u.v.env.pageDomain,"prebid"):Promise.resolve()}))).finally((function(){u.initUnit()}))}var e,i,s;return e=t,(i=[{key:"publisherConfig",value:function(t){var e=this;["tagConfig","remoteControlConfig","playerConfig","viPlayerConfig","prebidConfig"].map((function(i){return e.v[i]=Object(f.c)(e.v[i],t[i])})),Object(f.q)()&&t.mobile&&["tagConfig","remoteControlConfig","playerConfig","viPlayerConfig","prebidConfig"].map((function(i){return e.v[i]=Object(f.c)(e.v[i],t.mobile[i])}))}},{key:"dispose",value:function(){this.disposed||(this.player&&this.player.closePlayer.call(this.player,"close-api"),this.disposed=!0)}},{key:"loadPublisherConfigs",value:function(t,e,i){var n=this,s=kt+"/publishers/"+(i?i+"_":"")+t+".js",a=kt+"/publishers/"+(i?i+"_":"")+t+"_"+e.replace(/^(www\.)/,"")+".js";return Object(j.b)(s,document,this.v.env.adUnitId).then(void 0,(function(){Object(o.e)("WARNING",{error_msg:"Failed to load "+s},n.v)})).then((function(){return Object(j.b)(a,document,n.v.env.adUnitId)})).then(void 0,(function(){Object(o.e)("WARNING",{error_msg:"Failed to load "+a},n.v)}))}},{key:"initUnit",value:function(){var t=this,e=!1;if(this.v.tagConfig.AllowMultipleInstances||(g.b.dispatchEvent("vi-stories-unit-event",{action:"stopMultipleInstances",v:this.v}),this.disposed&&(Object(o.e)("ERROR",{error_msg:n.e.init},this.v),e=!0)),"always"===this.v.tagConfig.StopCondition&&(Object(o.e)("ERROR",{error_msg:n.e.stopCondition+": always"},this.v),e=!0),this.v.tagConfig.StopCondition&&this.v.tagConfig.CustomParams){var i=Object(f.g)(this.v.tagConfig.CustomParams,this.v);for(var s in i)if(i.hasOwnProperty(s)&&-1!==this.v.tagConfig.StopCondition.indexOf(s)&&i[s]&&(Object(f.p)(i[s])&&i[s].length>0||!Object(f.p)(i[s]))){Object(o.e)("ERROR",{error_msg:n.e.stopCondition+": "+s+" / "+i[s]},this.v),e=!0;break}}if(this.v.tagConfig.KeywordStop){var r=Object(f.f)(this.v.tagConfig.KeywordStop);for(var l in r)if(r.hasOwnProperty(l)&&"1"===r[l]){Object(o.e)("ERROR",{error_msg:n.e.stopCondition+": KeywordStop / "+l},this.v),e=!0;break}}if(e)this.v.env.fif&&window.frameElement&&setTimeout((function(){window.frameElement&&window.frameElement.parentElement&&window.frameElement.parentElement.removeChild(window.frameElement)}),1e3);else if(this.v.env.pageUrl||this.v.tagConfig.AppPageUrl||this.v.tagConfig.AppBundle)if(this.v.tagConfig.AdUnitType)if(this.v.tagConfig.ChannelID){if(this.v.tagConfig.ResizeIframe&&window.frameElement&&this.v.env.fif){if(this.v.tagConfig.ResizeIframe.width||this.v.tagConfig.ResizeIframe.maxWidth||this.v.tagConfig.ResizeIframe.minWidth){var d=this.v.tagConfig.ResizeIframe.width||this.v.tagConfig.ResizeIframe.maxWidth&&Math.min(this.v.tagConfig.ResizeIframe.maxWidth,window.top.document.body.clientWidth-30)||this.v.tagConfig.ResizeIframe.minWidth&&Math.max(this.v.tagConfig.ResizeIframe.minWidth,window.top.document.body.clientWidth-30);window.frameElement.style.width=d+"px",window.frameElement.style.height=(this.v.tagConfig.ResizeIframe.height||d/(this.v.tagConfig.ResizeIframe.ratio||1.25))+"px"}else this.v.tagConfig.ResizeIframe.height&&(window.frameElement.style.height=this.v.tagConfig.ResizeIframe.height+"px");this.v.playerConfig.width=document.body.offsetWidth,this.v.playerConfig.height=Math.round(this.v.playerConfig.width/16*9)}if(this.v.env.fif&&window.frameElement&&!this.v.env.amp&&this.v.tagConfig.JumpOutOfIframe){delete window.top[btoa("video intelligence")];var c=Object(f.c)({},this.v.tagConfig);["remoteControlConfig","playerConfig","viPlayerConfig","prebidConfig"].map((function(e){return c[e]=Object(f.c)({},t.v[e])}));var v="https://s.vi-serve.com/source.js",u=window.parent.document.createElement("script");return u.id="vi-"+this.v.tagConfig.PublisherID,u.src=v,u.async=!0,u.onload=function(){window.top[btoa("video intelligence")].run(c,null,v,!0)},window.frameElement.parentNode.appendChild(u),window.frameElement.parentNode.style.width=window.frameElement.clientWidth+"px",window.frameElement.style.width="0px",void(window.frameElement.style.height="0px")}if(!this.v.env.amp&&this.v.env.fif||(this.v.tagConfig.Float=!1,this.v.tagConfig.LazyLoading=!1,this.v.tagConfig.PlayInFocus=!1),1===this.v.tagConfig.OverlayMode&&(this.v.tagConfig.FixedRatio=null),this.v.tagConfig.FloatSettings.floatFromStart&&(this.v.tagConfig.PlayInView=!1),"1"===this.v.tagConfig.AdUnitType.toString()&&(this.v.tagConfig.ClickToPlay=!1,this.v.tagConfig.DelayWaterfallStart=!1,this.v.tagConfig.DisplayAd=null,this.v.tagConfig.DisplayBanner=null,this.v.tagConfig.HideUnit="beforeAd",this.v.tagConfig.OverlayMode=1,this.v.tagConfig.TextAbove=""),Object(f.s)(this.v.tagConfig.AbTesting)){var h=Object(f.c)({},this.v.tagConfig.AbTesting),p=!1;if(Object(f.p)(h.urls)&&h.urls.length>0?-1!==h.urls.indexOf(decodeURIComponent(this.v.env.pageUrl).split(/[?#]/)[0])&&(p=!0):p=!0,p){var y=h.percentages;delete h.percentages,delete h.urls;var m,b=Object.keys(h);if(b.length>=2){m=Object(f.p)(y)&&y.length>0?Object(f.E)(b,y):b[Math.floor(Math.random()*b.length)];var C=h[m];C&&(this.v.env.abTestingId=m,this.v.tagConfig=Object(f.c)(this.v.tagConfig,C))}}}if(Object(f.r)(this.v.tagConfig.TimeTrackerInterval)&&Object(f.r)(this.v.tagConfig.TimeTrackerLimit)&&this.v.tagConfig.TimeTrackerInterval>0){var w=Date.now();Object(o.e)("TIME",{},this.v);var I=setInterval((function(){Math.round((Date.now()-w)/1e3)<=t.v.tagConfig.TimeTrackerLimit?Object(o.e)("TIME",{},t.v):clearInterval(I)}),1e3*this.v.tagConfig.TimeTrackerInterval)}if(this.v.topDivId=Object(f.d)(this.v.tagConfig,"DivID")||"vi-stories-top-div-"+this.v.env.adUnitId,this.v.tagConfig.CustomViCSS){var x=this.v.tagConfig.CustomViCSS.replace(/\[divid\]/gi,this.v.topDivId),P=document.createElement("style");P.id="vi-css-custom",P.type="text/css",P.innerHTML=x,(document.getElementsByTagName("head")[0]||document.appendChild(document.createElement("head"))).appendChild(P)}if(this.v.tagConfig.CustomActions&&Object(f.y)(this.v.tagConfig.CustomActions,this.v),"beforePlayerLoad"!==this.v.tagConfig.StopCondition){this.viStoriesUi=new lt(this.v,this.referenceElem),this.viStoriesUi.addEventListener("vi-stories-close-gui-event",(function(){t.disposed=!0,g.b.dispatchEvent("vi-stories-unit-event",{action:"close",v:t.v})}));var O=this.viStoriesUi.size;if(O){if(this.v.viPlayerConfig.width=O.width,this.v.viPlayerConfig.height=O.width/16*9,this.v.tagConfig.CompanionAds&&this.v.tagConfig.CompanionAds.length>0){var k=new a(this.v);this.v.topDiv.parentNode.insertBefore(k.container,this.v.topDiv.nextSibling),k.init()}if(this.v.tagConfig.Float&&this.v.tagConfig.FloatLimit&&O.width>0&&(this.v.tagConfig.FloatSize=Math.min(1,Math.max(this.v.tagConfig.FloatSize,this.v.tagConfig.FloatLimit/O.width))),window.ReportingObserver){var _=new ReportingObserver((function(e,i){e.forEach((function(e){e&&e.body&&"HeavyAdIntervention"===e.body.id&&Object(o.d)("ERROR_HAI",{error_msg:n.e.heavyAd+": "+e.body.message},t.v)}))}),{types:["intervention"],buffered:!0});window.addEventListener("unload",(function(e){_.takeRecords().forEach((function(e){e&&e.body&&"HeavyAdIntervention"===e.body.id&&Object(o.d)("ERROR_HAI",{error_msg:n.e.heavyAd+": "+e.body.message},t.v)}))})),_.observe()}if(Object(o.e)("PLACEMENT",{},this.v),"playerAV"!==this.v.tagConfig.Player&&"playerWL"!==this.v.tagConfig.Player&&"playerWLstage"!==this.v.tagConfig.Player){var E=window.frameElement&&this.v.env.fif&&window.top||window,T=E.performance&&E.performance.timing&&E.performance.timing.fetchStart||0,M=this.viStoriesUi.playerContainer.offsetWidth||this.v.viPlayerConfig.width,S=n.h.trackingViAdServer+"?event=p&dim1="+(T?Date.now()-T:0)+"&session_id="+this.v.env.sessionId+"&affiliate_id="+this.v.tagConfig.ChannelID+"&domainapp="+this.v.env.pageDomain+"&width="+M+"&height="+Math.round(M/16*9)+"&visible=0&publisher_id="+this.v.tagConfig.PublisherID+"&cb="+Object(f.z)();document.createElement("img").src=S}(this.v.tagConfig.LazyLoading&&this.v.tagConfig.LazyLoadingSettings?new Promise((function(e,i){var n,o,s=Date.now(),a=t.v.tagConfig.LazyLoadingSettings.offset||null,r=t.v.tagConfig.LazyLoadingSettings.pageLoad||null,l=t.v.tagConfig.LazyLoadingSettings.pageScroll||null,d=t.v.tagConfig.LazyLoadingSettings.timeout||null,c=function i(a){a||(a={}),t.v.env.lazyTrigger="inview"===a.type?"offset":"load"===a.type?"pageLoad":"scroll"===a.type?"pageScroll":o?"timeout":"",t.v.env.lazyPaused=Date.now()-s,n&&n.dispose(),window.top.removeEventListener("load",i),window.top.removeEventListener("scroll",i),clearTimeout(o),o=null,e()};a&&(n=new yt.a(t.v.topDiv,{rootMargin:a+" 0px "+a+" 0px",threshold:0})).addEventListener(yt.a.Events.inview,c),r&&window.top.addEventListener("load",c),l&&window.top.addEventListener("scroll",c),d&&(o=setTimeout(c,1e3*d)),a||r||l||d||c()})):Promise.resolve()).finally((function(){var e;if(t.v.tagConfig.Unblocker)if(window.addEventListener("vi_unblock_event",(function(){console.log("vi_unblock_event"),t.v.env.unblocked=!0}),!1),t.v.tagConfig.Unblocker.waitForEvent){var i=new Promise((function(e,i){Object(o.e)("WA",{},t.v),window.addEventListener("vi_adblocker_event",(function(){console.log("vi_adblocker_event"),e()}),!1)}));e=Promise.all([Object(j.b)(t.v.tagConfig.Unblocker.url),i])}else e=Object(j.b)(t.v.tagConfig.Unblocker.url);else e=Promise.resolve();e.finally((function(){(t.v.tagConfig.ShoppableVideo?Object(j.b)(n.h.kerv):Promise.resolve()).finally((function(){Object(j.b)(n.h[t.v.tagConfig.Player]).then((function(){"1"===t.v.tagConfig.AdUnitType.toString()?t.startUnit():t.callVideoApi()}),(function(){Object(o.e)("ERROR",{error_msg:"Failed to load "+n.h[t.v.tagConfig.Player]},t.v)}))}))}))}))}}else Object(o.e)("ERROR",{error_msg:n.e.stopCondition+": beforePlayerLoad"},this.v)}else Object(o.e)("ERROR",{error_msg:n.e.noChannelId},this.v);else Object(o.e)("ERROR",{error_msg:n.e.noAdUnitType},this.v);else Object(o.e)("ERROR",{error_msg:n.e.noPageUrl},this.v)}},{key:"callVideoApi",value:function(){var t=this,e=this.v.tagConfig.PlayerSuggestionOverlay?15:this.v.tagConfig.PlaylistMode>0?this.v.tagConfig.PlaylistLength:null,i=n.h.videoAPI+(this.v.tagConfig.PlaylistMode>0||this.v.tagConfig.PlayerSuggestionOverlay?"playlist/v2":"video"),s={url:this.v.env.pageUrl,session_id:this.v.env.sessionId,category:this.v.tagConfig.IAB_Category,publisherId:this.v.tagConfig.PublisherID,keywords:this.v.tagConfig.Keywords,language:this.v.tagConfig.Language,useAllCategories:this.v.tagConfig.UseAllCategories,useOnlyCategories:this.v.tagConfig.UseOnlyCategories,userCategories:this.v.tagConfig.UserCategories,appBundle:this.v.tagConfig.AppBundle,appPageUrl:this.v.tagConfig.AppPageUrl,pageTitle:this.v.tagConfig.AppPageTitle||Object(f.j)("title"),pageDescription:Object(f.j)("description"),pageLanguage:this.v.env.pageLanguage,mobile:Object(f.q)(),playlistLength:e};this.v.tagConfig.IncludeVideoKeywords&&(s.includeVideoKeywords=this.v.tagConfig.IncludeVideoKeywords),this.v.tagConfig.SendPageKeywords&&(s.pageKeywords=Object(f.j)("keywords"));var a=(window.frameElement&&this.v.env.fif&&window.top.document||window.document).getElementById("vi-stories-data"),r=a&&a.getAttribute("data-video-ids");r&&(s.videoIds=r),this.v.tagConfig.VideoIds&&(s.videoIds=this.v.tagConfig.VideoIds);var l=Object(f.k)(decodeURIComponent(this.v.env.pageUrl),"viStoriesId");l&&(s.videoIds=l);var d="?url="+(s=Object(f.c)(s,Object(f.g)(this.v.tagConfig.CustomMetaParams,this.v))).url;for(var c in delete s.url,s)s.hasOwnProperty(c)&&""!==s[c]&&null!==s[c]&&void 0!==s[c]&&(d+="&"+c+"="+encodeURIComponent(s[c]));return i+=d,this.v.tagConfig.DemoVideos?(this.v.video=this.v.tagConfig.DemoVideos,this.v.state.defaultVideo=!1,void this.startUnit()):this.v.tagConfig.VideoUrl&&this.v.tagConfig.TitleText&&this.v.tagConfig.ThumbnailUrl?(this.v.video[this.v.videoIdx].url=this.v.tagConfig.VideoUrl,this.v.video[this.v.videoIdx].title=this.v.tagConfig.TitleText,this.v.video[this.v.videoIdx].thumbnail=this.v.tagConfig.ThumbnailUrl,this.v.state.defaultVideo=!1,void this.startUnit()):void Object(j.a)("GET",i).then((function(e){if(e.error)Object(o.e)("ERROR",{error_msg:n.e.stopCondition+": "+e.error.code+" / "+e.error.message},t.v),t.v.env.fif&&window.frameElement&&setTimeout(t.viStoriesUi.dispose,1e3);else{var i=Object(f.p)(e.videos)?e.videos:[e];t.v.tagConfig.PlaylistRandomOrder&&(i=Object(f.B)(i)),t.v.video=i.map((function(t){return{id:t.id,sourceId:t.sourceId,feedId:t.feedId,url:t.url,title:t.title,thumbnail:t.thumbnailImageUrl,duration:t.duration,description:t.description,keywords:t.keywords,licenseInfo:t.licenseInfo,adParameter:t.adParameter,contentCost:t.contentCost,matchedCategoryCode:t.matchedCategoryCode,matchedCategoryName:t.matchedCategoryName,videoSegments:t.videoSegments,requestedCategories:e.requestedCategories,segments:e.segments,brandSafety:e.brandSafety}})),t.v.state.defaultVideo=!1,t.v.env.isEU=e.isEU,t.startUnit()}}),(function(e){Object(o.e)("WARNING",{error_msg:"Failed to load "+i},t.v),t.v.tagConfig.DefaultVideo?(t.v.video[t.v.videoIdx].id=t.v.tagConfig.DefaultVideo.id,t.v.video[t.v.videoIdx].sourceId=t.v.tagConfig.DefaultVideo.sourceId,t.v.video[t.v.videoIdx].feedId=t.v.tagConfig.DefaultVideo.feedId,t.v.video[t.v.videoIdx].url=t.v.tagConfig.DefaultVideo.url,t.v.video[t.v.videoIdx].title=t.v.tagConfig.DefaultVideo.title,t.v.video[t.v.videoIdx].thumbnail=t.v.tagConfig.DefaultVideo.thumbnail,t.v.video[t.v.videoIdx].duration=t.v.tagConfig.DefaultVideo.duration,t.v.video[t.v.videoIdx].description=t.v.tagConfig.DefaultVideo.description,t.v.video[t.v.videoIdx].adParameter=t.v.tagConfig.DefaultVideo.adParameter,t.v.state.defaultVideo=!0,t.startUnit()):Object(j.a)("GET","https://s.vi-serve.com/defaultVideo.json").then((function(e){var i=t.v.tagConfig.Language||"";i.indexOf("-")>0&&(i=i.substr(0,i.indexOf("-")));var n=e[i]||e.default,o=n[t.v.tagConfig.IAB_Category]||n.default;o.id&&(t.v.video[t.v.videoIdx].id=o.id),o.sourceId&&(t.v.video[t.v.videoIdx].sourceId=o.sourceId),o.feedId&&(t.v.video[t.v.videoIdx].feedId=o.feedId),o.url&&(t.v.video[t.v.videoIdx].url=o.url),o.title&&(t.v.video[t.v.videoIdx].title=o.title),o.thumbnail&&(t.v.video[t.v.videoIdx].thumbnail=o.thumbnail),o.duration&&(t.v.video[t.v.videoIdx].duration=o.duration),o.description&&(t.v.video[t.v.videoIdx].description=o.description),t.v.state.defaultVideo=!0,t.startUnit()}),(function(e){Object(o.e)("WARNING",{error_msg:"Failed to load https://s.vi-serve.com/defaultVideo.json"},t.v),t.v.state.defaultVideo=!0,t.startUnit()}))}))}},{key:"startUnit",value:function(){var t=this;if("1"===this.v.tagConfig.AdUnitType.toString())this.v.video[this.v.videoIdx].url="",this.v.video[this.v.videoIdx].thumbnail="";else{var e={requestedCategories:this.v.video[this.v.videoIdx].requestedCategories||"",requestedLanguage:this.v.tagConfig.Language};Object(o.e)("NV_LOADED",e,this.v)}Promise.all([Object(o.b)(this.v),Object(o.a)(this.v)]).then((function(e){var i=Object(f.c)(e[0],e[1]);i&&i.gdpr&&i.gdpr.extra&&Object(o.e)("INFO",i.gdpr.extra,t.v),t.v.remoteControlConfig.Enable&&t.v.env.fif&&!t.v.env.amp&&(g.b.dispatchEvent("vi-stories-unit-event",{action:"launchRemoteControl",v:t.v}),t.v.remoteControlConfig.OpenAnim&&(t.v.playerConfig.openAnim=!0)&&(t.v.viPlayerConfig.openAnim=!0)),"playerAV"===t.v.tagConfig.Player||"playerWL"===t.v.tagConfig.Player||"playerWLstage"===t.v.tagConfig.Player?t.player=new ft(t.v,i,t.viStoriesUi.playerContainer):t.player=new Pt(t.v,i,t.viStoriesUi.playerContainer),t.player.init(),t.viStoriesUi.player=t.player,t.viStoriesUi.render()}))}},{key:"perform",value:function(t,e){this.player&&("play"===t?(this.player.tryShowUnit(!0),this.player.play()):"pause"===t?this.player.pause():"inview"===t?(this.player.tryShowUnit(),this.player.tryStartAd()):"float"===t&&(this.player.canFloatNow=e))}}])&&Ot(e.prototype,i),s&&Ot(e,s),t}()},function(t,e,i){"use strict";i.r(e),function(t){i(11),i(12),i(16);var e=i(2),n=i(7),o=i(8),s=i(3),a=i(1);window[btoa("video intelligence")]||(window[btoa("video intelligence")]=window.vi={topWin:null,viUnit:null,publisherConfig:function(t,e){var i=this.topWin&&this.topWin[btoa("video intelligence")],n=i&&i.viHub&&i.viHub.viUnits||[],o=e&&e.env.adUnitId||document.currentScript&&document.currentScript.className;n.forEach((function(e){o&&parseInt(o,10)===e.v.env.adUnitId?e.publisherConfig(t):o||e.publisherConfig(t)}))},run:function(i,r,l,d){var c=this,v=Object(a.c)({},e.c);v.sessionId=Object(a.C)();try{var u=Object(a.e)();i.GdprConsent&&(v.consent=i.GdprConsent),u&&u.initialConsentValue&&(v.consent=u.initialConsentValue),u&&u.data&&(u.data.viTitle&&(document.title=u.data.viTitle),u.data.viPageLanguage&&(document.documentElement.lang=u.data.viPageLanguage)),v.amp=!!u,v.pageLanguage=Object(a.j)("language")||Object(a.j)("lang");var h=v.amp?u.sourceUrl:window.top.location&&window.top.location.href,p=v.amp?Object(a.h)(h):window.top.location&&window.top.location.hostname;v.pageUrl=encodeURIComponent(h),v.pageDomain=encodeURIComponent(p)}catch(t){v.fif=!1;var g=window,f=window.document.referrer;try{do{f=(g=g.parent).document.referrer}while(g!==window.top)}catch(t){}var y=Object(a.o)(f);y&&(f=y,v.amp=!0),v.pageDomain=encodeURIComponent(Object(a.h)(f)||f),v.pageUrl=encodeURIComponent(f)}this.topWin=v.fif&&!v.amp&&window.top||window;var m=this.topWin[btoa("video intelligence")]||(this.topWin[btoa("video intelligence")]={});m.viHub||(m.viHub={lastId:0,floatId:0,viUnits:[]}),v.adUnitId=++m.viHub.lastId,this.viUnit=new o.a(i,r,l,d,v);var b=m.viHub;b.viUnits.push(this.viUnit),m.closeAll=function(){b.viUnits.reduceRight((function(t,e){e.dispose()}),[])},s.b.hasEventListener("vi-stories-rc-event")||s.b.addEventListener("vi-stories-rc-event",(function(t){b.viUnits.forEach((function(e){"inview"===t.data.action?(e.v.state.remoteControlInViewOnce=!0,e.perform(t.data.action)):t.data.adUnitId===e.v.env.adUnitId&&e.perform(t.data.action)}))})),s.b.hasEventListener("vi-stories-unit-event")||s.b.addEventListener("vi-stories-unit-event",(function(e){if("launchRemoteControl"===e.data.action){if(!b.viRemoteControl){var i=document.createElement("style");i.id="vi-css-rc",i.type="text/css";try{i.innerHTML=t}catch(t){}c.topWin.document.head.appendChild(i),b.viRemoteControl=new n.a(e.data.v)}}else"float"===e.data.action?(b.floatId=e.data.info?e.data.v.env.adUnitId:0,b.viUnits.length>1&&b.viUnits.forEach((function(t){e.data.v.env.adUnitId!==t.v.env.adUnitId&&t.perform(e.data.action,!e.data.info)}))):"close"===e.data.action?(b.viUnits.reduceRight((function(t,i,n,o){e.data.v.env.adUnitId===i.v.env.adUnitId&&o.splice(n,1)}),[]),c.viUnit&&c.viUnit.v.env.adUnitId===e.data.v.env.adUnitId&&(c.viUnit=null),0===b.viUnits.length&&b.viRemoteControl&&b.viRemoteControl.perform(e.data.action,e.data.v)):"stopMultipleInstances"===e.data.action?b.viUnits.length>1&&b.viUnits[0].v.env.adUnitId!==e.data.v.env.adUnitId&&(b.viUnits.reduceRight((function(t,i,n,o){e.data.v.env.adUnitId===i.v.env.adUnitId&&(o.splice(n,1),i.dispose())}),[]),c.viUnit&&c.viUnit.v.env.adUnitId===e.data.v.env.adUnitId&&(c.viUnit=null)):b.viRemoteControl&&b.viRemoteControl.perform(e.data.action,e.data.v,e.data.info)}))},close:function(){this.viUnit&&this.viUnit.dispose()}})}.call(this,i(10))},function(t,e,i){(e=i(6)(!1)).push([t.i,".vi-stories-remote-control,.vi-stories-remote-control div,.vi-stories-remote-control span,.vi-stories-remote-control object,.vi-stories-remote-control iframe,.vi-stories-remote-control audio,.vi-stories-remote-control video,.vi-stories-remote-control dl,.vi-stories-remote-control dt,.vi-stories-remote-control dd,.vi-stories-remote-control button{background:transparent;border:0;bottom:auto;box-shadow:none;box-sizing:content-box;clear:none;font-size:100%;left:auto;line-height:inherit;margin:0;outline:none;overflow:visible;padding:0;position:static;right:auto;text-align:left;top:auto;vertical-align:baseline;word-spacing:normal}.vi-stories-remote-control a{background:transparent;font-size:100%;margin:0;padding:0;vertical-align:baseline}.vi-stories-remote-control{border-color:#e3e3e3;border-style:solid;border-width:1px;box-sizing:border-box;height:100px;margin-bottom:15px;position:relative;width:100%}.vi-stories-remote-control.displayNone{display:none}.vi-stories-remote-control .vi-stories-remote-control-thumbnail{background-repeat:no-repeat;background-size:cover;height:100%;left:0;position:absolute;top:0;width:174px}.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-playback-button{background-color:rgba(0,0,0,0.4);background-repeat:no-repeat;background-size:62% 52%;border-color:#ccc;border-radius:50%;border-style:solid;border-width:2px;box-sizing:content-box;cursor:pointer;height:30px;left:50%;margin:auto;outline:none;padding:6px;position:absolute;top:50%;transform:translate(-50%, -50%);width:30px}.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-play-button{background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNC45LDF2MjFsMTYuNS0xMC41TDQuOSwxeiIvPjwvc3ZnPg==);background-position:11px center}.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-pause-button{background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtMyAyMmg2di0yMGgtNnYyMHogbTEwLTIwdjIwaDZ2LTIwaC02eiIvPjwvc3ZnPg==);background-position:9px center}.vi-stories-remote-control .vi-stories-remote-control-description{align-items:center;display:flex;height:100%;position:absolute;right:0;top:0;width:calc(100% - 174px)}.vi-stories-remote-control .vi-stories-remote-control-description .vi-stories-remote-control-title{color:#000000;font-family:Verdana;font-size:18px;font-weight:bold;padding:10px;text-align:left;word-wrap:break-word}.vi-stories-remote-control .vi-stories-remote-control-description .vi-stories-remote-control-sponsor-logo{bottom:0;display:inline;height:20px;margin:0 8px 8px 0;position:absolute;right:0;width:20px}.vi-stories-width-max-500.vi-stories-remote-control{height:70px}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-thumbnail{width:120px}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-playback-button{height:15px;width:15px}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-play-button{background-position:7px center}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-pause-button{background-position:6px center}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-description{width:calc(100% - 120px)}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-description .vi-stories-remote-control-title{font-size:10px}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-description .vi-stories-remote-control-sponsor-logo{height:15px;margin:0 5px 5px 0;width:15px}\n",""]),t.exports=e},function(t,e){
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(t){"use strict";if("Element"in t){var e=t.Element.prototype,i=Object,n=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},r=function(t){for(var e=n.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],o=0,s=i.length;o<s;o++)this.push(i[o]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},l=r.prototype=[],d=function(){return new r(this)};if(s.prototype=Error.prototype,l.item=function(t){return this[t]||null},l.contains=function(t){return-1!==a(this,t+="")},l.add=function(){var t,e=arguments,i=0,n=e.length,o=!1;do{t=e[i]+"",-1===a(this,t)&&(this.push(t),o=!0)}while(++i<n);o&&this._updateClassName()},l.remove=function(){var t,e,i=arguments,n=0,o=i.length,s=!1;do{for(t=i[n]+"",e=a(this,t);-1!==e;)this.splice(e,1),s=!0,e=a(this,t)}while(++n<o);s&&this._updateClassName()},l.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},l.toString=function(){return this.join(" ")},i.defineProperty){var c={get:d,enumerable:!0,configurable:!0};try{i.defineProperty(e,"classList",c)}catch(t){void 0!==t.number&&-2146823252!==t.number||(c.enumerable=!1,i.defineProperty(e,"classList",c))}}else i.prototype.__defineGetter__&&e.__defineGetter__("classList",d)}}(window.self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}())},function(t,e,i){"use strict";t.exports=i(13).polyfill()},function(t,e,i){(function(e,i){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var n;n=function(){"use strict";function t(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,s=void 0,a=void 0,r=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(g):C())},l="undefined"!=typeof window?window:void 0,d=l||{},c=d.MutationObserver||d.WebKitMutationObserver,v="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),u="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(g,1)}}var p=new Array(1e3);function g(){for(var t=0;t<o;t+=2)(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0;o=0}var f,y,m,b,C=void 0;function w(t,e){var i=this,n=new this.constructor(P);void 0===n[x]&&j(n);var o=i._state;if(o){var s=arguments[o-1];r((function(){return L(o,n,s,i._result)}))}else M(i,n,t,e);return n}function I(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(P);return k(e,t),e}v?C=function(){return e.nextTick(g)}:c?(y=0,m=new c(g),b=document.createTextNode(""),m.observe(b,{characterData:!0}),C=function(){b.data=y=++y%2}):u?((f=new MessageChannel).port1.onmessage=g,C=function(){return f.port2.postMessage(0)}):C=void 0===l?function(){try{var t=Function("return this")().require("vertx");return void 0!==(s=t.runOnLoop||t.runOnContext)?function(){s(g)}:h()}catch(t){return h()}}():h();var x=Math.random().toString(36).substring(2);function P(){}function O(e,i,n){i.constructor===e.constructor&&n===w&&i.constructor.resolve===I?function(t,e){1===e._state?E(t,e._result):2===e._state?T(t,e._result):M(e,void 0,(function(e){return k(t,e)}),(function(e){return T(t,e)}))}(e,i):void 0===n?E(e,i):t(n)?function(t,e,i){r((function(t){var n=!1,o=function(t,e,i,n){try{t.call(e,i,n)}catch(t){return t}}(i,e,(function(i){n||(n=!0,e!==i?k(t,i):E(t,i))}),(function(e){n||(n=!0,T(t,e))}),t._label);!n&&o&&(n=!0,T(t,o))}),t)}(e,i,n):E(e,i)}function k(t,e){if(t===e)T(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(n=e),null===n||"object"!==o&&"function"!==o)E(t,e);else{var i=void 0;try{i=e.then}catch(e){return void T(t,e)}O(t,e,i)}var n,o}function _(t){t._onerror&&t._onerror(t._result),S(t)}function E(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&r(S,t))}function T(t,e){void 0===t._state&&(t._state=2,t._result=e,r(_,t))}function M(t,e,i,n){var o=t._subscribers,s=o.length;t._onerror=null,o[s]=e,o[s+1]=i,o[s+2]=n,0===s&&t._state&&r(S,t)}function S(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n=void 0,o=void 0,s=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+i],n?L(i,n,o,s):o(s);t._subscribers.length=0}}function L(e,i,n,o){var s=t(n),a=void 0,r=void 0,l=!0;if(s){try{a=n(o)}catch(t){l=!1,r=t}if(i===a)return void T(i,new TypeError("A promises callback cannot return that same promise."))}else a=o;void 0!==i._state||(s&&l?k(i,a):!1===l?T(i,r):1===e?E(i,a):2===e&&T(i,a))}var A=0;function j(t){t[x]=A++,t._state=void 0,t._result=void 0,t._subscribers=[]}var N=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(P),this.promise[x]||j(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&E(this.promise,this._result))):T(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;void 0===this._state&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,n=i.resolve;if(n===I){var o=void 0,s=void 0,a=!1;try{o=t.then}catch(t){a=!0,s=t}if(o===w&&void 0!==t._state)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(i===D){var r=new i(P);a?T(r,s):O(r,t,o),this._willSettleAt(r,e)}else this._willSettleAt(new i((function(e){return e(t)})),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,i){var n=this.promise;void 0===n._state&&(this._remaining--,2===t?T(n,i):this._result[e]=i),0===this._remaining&&E(n,this._result)},t.prototype._willSettleAt=function(t,e){var i=this;M(t,void 0,(function(t){return i._settledAt(1,e,t)}),(function(t){return i._settledAt(2,e,t)}))},t}(),D=function(){function e(t){this[x]=A++,this._result=this._state=void 0,this._subscribers=[],P!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){k(t,e)}),(function(e){T(t,e)}))}catch(e){T(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var i=this.constructor;return t(e)?this.then((function(t){return i.resolve(e()).then((function(){return t}))}),(function(t){return i.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();return D.prototype.then=w,D.all=function(t){return new N(this,t).promise},D.race=function(t){var e=this;return n(t)?new e((function(i,n){for(var o=t.length,s=0;s<o;s++)e.resolve(t[s]).then(i,n)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},D.resolve=I,D.reject=function(t){var e=new this(P);return T(e,t),e},D._setScheduler=function(t){a=t},D._setAsap=function(t){r=t},D._asap=r,D.polyfill=function(){var t=void 0;if(void 0!==i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=D},D.Promise=D,D},t.exports=n()}).call(this,i(14),i(15))},function(t,e){var i,n,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function r(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var l,d=[],c=!1,v=-1;function u(){c&&l&&(c=!1,l.length?d=l.concat(d):v=-1,d.length&&h())}function h(){if(!c){var t=r(u);c=!0;for(var e=d.length;e;){for(l=d,d=[];++v<e;)l&&l[v].run();v=-1,e=d.length}l=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new p(t,e)),1!==d.length||c||r(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=window.document,e=[];n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},n.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},n.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,i){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==i[e-1]}))},n.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(window,"resize",this._checkForIntersections,!0),o(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(window,"resize",this._checkForIntersections,!0),s(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},n.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(n){var o=n.element,s=a(o),r=this._rootContainsTarget(o),l=n.entry,d=t&&r&&this._computeTargetAndRootIntersection(o,e),c=n.entry=new i({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:s,rootBounds:e,intersectionRect:d});l?t&&r?this._hasCrossedThreshold(l,c)&&this._queuedEntries.push(c):l&&l.isIntersecting&&this._queuedEntries.push(c):this._queuedEntries.push(c)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},n.prototype._computeTargetAndRootIntersection=function(e,i){if("none"!=window.getComputedStyle(e).display){for(var n,o,s,r,d,c,v,u,h=a(e),p=l(e),g=!1;!g;){var f=null,y=1==p.nodeType?window.getComputedStyle(p):{};if("none"==y.display)return;if(p==this.root||p==t?(g=!0,f=i):p!=t.body&&p!=t.documentElement&&"visible"!=y.overflow&&(f=a(p)),f&&(n=f,o=h,s=void 0,r=void 0,d=void 0,c=void 0,v=void 0,u=void 0,s=Math.max(n.top,o.top),r=Math.min(n.bottom,o.bottom),d=Math.max(n.left,o.left),c=Math.min(n.right,o.right),u=r-s,!(h=(v=c-d)>=0&&u>=0&&{top:s,bottom:r,left:d,right:c,width:v,height:u})))break;p=l(p)}return h}},n.prototype._getRootRect=function(){var e;if(this.root)e=a(this.root);else{var i=t.documentElement,n=t.body;e={top:0,left:0,right:i.clientWidth||n.clientWidth,width:i.clientWidth||n.clientWidth,bottom:i.clientHeight||n.clientHeight,height:i.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(e)},n.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,i){return"px"==e.unit?e.value:e.value*(i%2?t.width:t.height)/100})),i={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return i.width=i.right-i.left,i.height=i.bottom-i.top,i},n.prototype._hasCrossedThreshold=function(t,e){var i=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(i!==n)for(var o=0;o<this.thresholds.length;o++){var s=this.thresholds[o];if(s==i||s==n||s<i!=s<n)return!0}},n.prototype._rootIsInDom=function(){return!this.root||r(t,this.root)},n.prototype._rootContainsTarget=function(e){return r(this.root||t,e)},n.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},n.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=n,window.IntersectionObserverEntry=i}function i(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,i=e.width*e.height,n=this.intersectionRect,o=n.width*n.height;this.intersectionRatio=i?Number((o/i).toFixed(4)):this.isIntersecting?1:0}function n(t,e){var i,n,o,s=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(s.root&&1!=s.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){i(),o=null}),n))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(s.rootMargin),this.thresholds=this._initThresholds(s.threshold),this.root=s.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function o(t,e,i,n){"function"==typeof t.addEventListener?t.addEventListener(e,i,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,i)}function s(t,e,i,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,i,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,i)}function a(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function r(t,e){for(var i=e;i;){if(i==t)return!0;i=l(i)}return!1}function l(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}()},function(t,e,i){var n=i(18),o=i(19);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var s={insert:"head",singleton:!1},a=(n(o,s),o.locals?o.locals:{});t.exports=a},function(t,e,i){"use strict";var n,o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},s=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),a=[];function r(t){for(var e=-1,i=0;i<a.length;i++)if(a[i].identifier===t){e=i;break}return e}function l(t,e){for(var i={},n=[],o=0;o<t.length;o++){var s=t[o],l=e.base?s[0]+e.base:s[0],d=i[l]||0,c="".concat(l," ").concat(d);i[l]=d+1;var v=r(c),u={css:s[1],media:s[2],sourceMap:s[3]};-1!==v?(a[v].references++,a[v].updater(u)):a.push({identifier:c,updater:f(u,e),references:1}),n.push(c)}return n}function d(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var o=i.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var a=s(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,v=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function u(t,e,i,n){var o=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,o);else{var s=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function h(t,e,i){var n=i.css,o=i.media,s=i.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),s&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var p=null,g=0;function f(t,e){var i,n,o;if(e.singleton){var s=g++;i=p||(p=d(e)),n=u.bind(null,i,s,!1),o=u.bind(null,i,s,!0)}else i=d(e),n=h.bind(null,i,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var i=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<i.length;n++){var o=r(i[n]);a[o].references--}for(var s=l(t,e),d=0;d<i.length;d++){var c=r(i[d]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}i=s}}}},function(t,e,i){(e=i(6)(!1)).push([t.i,"#vi-stories-main-container{background-color:#faf8f8;clear:both;font-family:Verdana;margin:0 auto;padding:0px;position:relative}.viUnit1 #vi-stories-main-container{background-color:transparent}.vi-stories-main-container,.vi-stories-main-container div,.vi-stories-main-container span,.vi-stories-main-container object,.vi-stories-main-container iframe,.vi-stories-main-container audio,.vi-stories-main-container video,.vi-stories-main-container dl,.vi-stories-main-container dt,.vi-stories-main-container dd,.vi-stories-main-container button{background:transparent;border:0;bottom:auto;box-shadow:none;box-sizing:content-box;clear:none;font-size:100%;left:auto;line-height:inherit;margin:0;outline:none;overflow:visible;padding:0;position:static;right:auto;text-align:left;top:auto;vertical-align:baseline;word-spacing:normal}.vi-stories-main-container a{background:transparent;font-size:100%;margin:0;padding:0;vertical-align:baseline}#vi-stories-main-placeholder{width:1px}#vi-stories-player-container{position:relative;overflow:hidden}#vi-stories-ad-container{height:100%;position:absolute;width:100%}#vi-stories-gui-container{height:100%;position:absolute;width:100%}#vi-stories-text-above{color:#000;font-family:Verdana;font-size:11px;position:absolute;top:-20px}#vi-stories-close-button{background-position:center center;background-repeat:no-repeat;background-size:cover;color:#000000;font-size:90%;height:24px;line-height:24px;position:absolute;text-align:center;user-select:none;width:24px;z-index:10000}#vi-stories-close-button.outside-vi-unit{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='512' height='512' viewBox='0 0 20 20'%3E%3Cpath fill='%23000' d='M10.185,1.417c-4.741,0-8.583,3.842-8.583,8.583c0,4.74,3.842,8.582,8.583,8.582S18.768,14.74,18.768,10C18.768,5.259,14.926,1.417,10.185,1.417 M10.185,17.68c-4.235,0-7.679-3.445-7.679-7.68c0-4.235,3.444-7.679,7.679-7.679S17.864,5.765,17.864,10C17.864,14.234,14.42,17.68,10.185,17.68 M10.824,10l2.842-2.844c0.178-0.176,0.178-0.46,0-0.637c-0.177-0.178-0.461-0.178-0.637,0l-2.844,2.841L7.341,6.52c-0.176-0.178-0.46-0.178-0.637,0c-0.178,0.176-0.178,0.461,0,0.637L9.546,10l-2.841,2.844c-0.178,0.176-0.178,0.461,0,0.637c0.178,0.178,0.459,0.178,0.637,0l2.844-2.841l2.844,2.841c0.178,0.178,0.459,0.178,0.637,0c0.178-0.176,0.178-0.461,0-0.637L10.824,10z'/%3E%3C/svg%3E\");background-size:22px;top:-26px}#vi-stories-close-button.inside-vi-unit{background-color:rgba(0,0,0,0.7);background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='512' height='512' viewBox='0 0 16 16'%3E%3Cpath fill='%23FFF' d='M15.1 3.1L12.9.9 8 5.9 3.1.9.9 3.1l5 4.9-5 4.9 2.2 2.2 4.9-5 4.9 5 2.2-2.2-5-4.9z'/%3E%3C/svg%3E\");color:#ffffff}#vi-stories-close-button.vi-stories-close-timer{background-image:none}#vi-stories-area-above-placeholder{height:25px}.fixedRatio.vi-stories-floating.vi-stories-main-container{height:auto !important}.vi-stories-floating .vi-stories-hide-while-floating{display:none}.vi-stories-floating .vi-stories-show-while-floating{display:block}#vi-stories-player-image-overlay{background-size:cover;height:70px;margin:5px;width:125px}#vi-stories-player-preview-overlay{align-items:center;background-color:rgba(0,0,0,0.5);max-width:100%;position:absolute;z-index:10000000}#vi-stories-player-text-overlay{color:white;font-family:Verdana;font-size:18px;padding:7px;user-select:none;overflow:hidden;flex-grow:1;flex-basis:1px;text-overflow:ellipsis}#vi-stories-player-preview-overlay.bottom-left,#vi-stories-player-preview-overlay.bottom-right{bottom:45px}#vi-stories-preloader-thumbnail{background-color:#000000;background-position:center center;background-repeat:no-repeat;background-size:contain;height:100%;width:100%}#vi-stories-preloader-play-icon{background-color:rgba(0,0,0,0.7);background-image:url(\"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+\");background-position:16px center;background-repeat:no-repeat;background-size:62% 64%;border:3px solid white;border-radius:50%;box-sizing:content-box;height:61px;left:50%;margin-left:-34px;margin-top:-34px;position:absolute;top:50%;width:61px;z-index:99999}.vi-stories-position.top-left{top:0;left:0}.vi-stories-position.top-right{top:0;right:0}.vi-stories-position.bottom-left{bottom:0;left:0}.vi-stories-position.bottom-right{bottom:0;right:0}.displayFlex{display:flex}.displayNone{display:none}.marginBottom.marginBottom20{margin-bottom:20px}.pointer{cursor:pointer}.heightTransition{transition:height 1s ease 0s}#vi-stories-main-container .viTruncate1Line{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vi-stories-width-max-500 #vi-stories-player-image-overlay{height:30px;margin:3px;width:53px}.vi-stories-floating.vi-stories-playing-content:hover #vi-stories-player-preview-overlay,.vi-stories-overlay-ui.vi-stories-overlay-ui-enable:hover #vi-stories-player-preview-overlay,.vi-stories-overlay-ui.vi-stories-overlay-ui-enable.vi-stories-overlay-ui-show #vi-stories-player-preview-overlay{display:none}.vi-stories-companion-ad-container{margin:10px 0}.vi-stories-companion-ad-container>div{margin:0 auto}#vi-stories-description-container{border-color:#e3e3e3;border-style:solid;border-width:0px 1px 1px 1px;box-sizing:border-box;margin:0px auto;width:100%}#vi-stories-sponsor-container{height:36px;line-height:36px;text-align:right}#vi-stories-sponsor-container a{box-shadow:none;cursor:pointer;text-decoration:none}#vi-stories-sponsor-container.top-left,#vi-stories-sponsor-container.top-right{position:absolute;top:-31px}#vi-stories-sponsor-container.top-left #vi-stories-sponsor-powered,#vi-stories-sponsor-container.top-right #vi-stories-sponsor-powered{font-size:11px;opacity:unset}#vi-stories-sponsor-container.top-left,#vi-stories-sponsor-container.bottom-left{text-align:left}#vi-stories-title{color:#000;font-family:Verdana;font-size:18px;font-weight:bold;line-height:1.33;margin-left:8px;padding-top:8px;text-align:left;word-wrap:break-word}#vi-stories-sponsor-powered{color:#000;display:inline-block;font-family:Verdana;font-size:9px;margin:0 8px 0 8px;opacity:0.5;text-transform:uppercase;vertical-align:middle}#vi-stories-main-container #vi-stories-sponsor-logo{display:inline;height:20px;margin:0 8px 0 0;vertical-align:middle;width:auto}.fixedRatio #vi-stories-sponsor-container{position:absolute;width:100%}.fixedRatio.hideUnitBeforeAd #vi-stories-description-container{border-width:0}.viUnit1 #vi-stories-main-container #vi-stories-description-container{display:none}.vi-stories-overlay-ui #vi-stories-description-container,.vi-stories-floating #vi-stories-description-container{background:linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);border:0;color:#ffffff;display:none;height:30%;position:absolute;top:0}.vi-stories-overlay-ui.vi-stories-close-button-show.vi-stories-close-button-inside #vi-stories-description-container,.vi-stories-floating.vi-stories-close-button-show.vi-stories-close-button-inside #vi-stories-description-container{background:linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.7) 20%, rgba(0,0,0,0) 100%);pointer-events:none;top:25px}.vi-stories-overlay-ui #vi-stories-title,.vi-stories-floating #vi-stories-title{color:#ffffff;margin-left:20px;padding-top:20px}.vi-stories-overlay-ui #vi-stories-sponsor-container{background-color:transparent}.vi-stories-overlay-ui#vi-stories-main-container #vi-stories-sponsor-logo{margin:7px;right:0;top:0}.vi-stories-overlay-ui#vi-stories-main-container{background-color:transparent}.vi-stories-floating #vi-stories-sponsor-container{display:none}.vi-stories-floating.vi-stories-playing-content:hover #vi-stories-description-container,.vi-stories-overlay-ui.vi-stories-overlay-ui-enable:hover #vi-stories-description-container,.vi-stories-overlay-ui.vi-stories-overlay-ui-enable.vi-stories-overlay-ui-show #vi-stories-description-container{display:block}.vi-stories-width-max-500.vi-stories-overlay-ui #vi-stories-title,.vi-stories-width-max-500.vi-stories-floating #vi-stories-title{margin-left:10px;padding-top:10px}.vi-stories-width-max-500 #vi-stories-title{font-size:12px}.vi-stories-width-max-500 #vi-stories-sponsor-container{height:24px;line-height:24px}.vi-stories-width-max-500#vi-stories-main-container #vi-stories-sponsor-logo{height:15px}.vi-stories-width-max-500 #vi-stories-player-text-overlay{font-size:12px}#vi-stories-display-ad-overlay{box-sizing:border-box;height:100%;position:absolute;top:0;width:100%;z-index:10000000}#vi-stories-display-ad-overlay #vi-stories-display-ad-container{left:calc(50% - 150px);position:absolute;top:calc(50% - 125px)}#vi-stories-display-ad-overlay #vi-stories-display-ad-close-button{background-color:#000;border-color:#ffffff;border-style:solid;border-width:1px;color:#ffffff;cursor:pointer;padding:5px;position:absolute;right:0;top:0}#vi-stories-display-ad-overlay.vi-stories-display-ad-blur{background-color:#ffffff}.vi-stories-width-max-500 #vi-stories-display-ad-overlay #vi-stories-display-ad-close-button{display:none}.vi-stories-main-container .vi-stories-display-banner-overlay{bottom:50px;box-sizing:border-box;position:absolute;z-index:10000000}.vi-stories-main-container .vi-stories-display-banner-overlay.size320x50{height:50px;left:calc(50% - 160px);width:320px}.vi-stories-main-container .vi-stories-display-banner-overlay.size320x80{height:80px;left:calc(50% - 160px);width:320px}.vi-stories-main-container .vi-stories-display-banner-overlay.size320x100{height:100px;left:calc(50% - 160px);width:320px}.vi-stories-main-container .vi-stories-display-banner-overlay.size468x60{height:60px;left:calc(50% - 234px);width:468px}.vi-stories-main-container .vi-stories-display-banner-overlay.size728x90{height:90px;left:calc(50% - 364px);width:728px}.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button{background-color:#000000;border-color:#ffffff;border-radius:50%;border-style:solid;border-width:2px;cursor:pointer;display:none;height:23px;position:absolute;right:-8px;top:-8px;width:23px}.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button::before,.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button::after{background-color:#ffffff;content:\"\";height:3px;left:5px;position:absolute;top:10px;width:13px}.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button::before{transform:rotate(-45deg)}.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button::after{transform:rotate(45deg)}.vi-stories-main-container .vi-stories-display-banner-overlay:hover .vi-stories-display-banner-close-button{display:block}.vi-stories-main-container.vi-stories-floating .vi-stories-display-banner-overlay{bottom:70px}.vi-stories-width-max-500.vi-stories-main-container .vi-stories-display-banner-overlay,.vi-stories-mobile.vi-stories-main-container .vi-stories-display-banner-overlay{bottom:45px;transform:scale(0.9)}.vi-stories-width-max-500.vi-stories-main-container .vi-stories-display-banner-overlay.size468x60,.vi-stories-mobile.vi-stories-main-container .vi-stories-display-banner-overlay.size468x60{bottom:35px;transform:scale(0.6)}.vi-stories-width-max-500.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button,.vi-stories-mobile.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button{display:block}.vi-stories-main-container.vi-stories-suggestion-overlay-show .GUI-module__gui.GUI-module__container .GUI-module__controls{transform:translateY(0)}.vi-stories-main-container.vi-stories-suggestion-overlay-show .GUI-module__gui.GUI-module__container::before{background-color:rgba(0,0,0,0.7);bottom:0;content:\"\";height:10%;left:0;pointer-events:none;position:absolute;width:100%}.vi-stories-main-container.vi-stories-suggestion-overlay-show.vi-stories-width-max-500 .GUI-module__gui.GUI-module__container::before{height:20%}.vi-stories-ribbon-ui#vi-stories-main-container{width:100% !important}.vi-stories-ribbon-ui #vi-stories-description-container,.vi-stories-ribbon-ui.vi-stories-close-button-show.vi-stories-close-button-inside #vi-stories-description-container{background-color:#000000;background-image:none;border-width:0px;bottom:auto;display:block;height:100%;overflow:hidden;position:absolute;right:0;top:0;width:53%}.vi-stories-ribbon-ui #vi-stories-title{color:#ffffff;font-size:15px;padding-top:24px}.vi-stories-mobile .GUI-module__gui.GUI-module__container .GUI-module__controls{transform:translateY(0)}#vi-stories-license-info-button{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gU3ZnIFZlY3RvciBJY29ucyA6IGh0dHA6Ly93d3cub25saW5ld2ViZm9udHMuY29tL2ljb24gLS0+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAwIDEwMDAiIHhtbDpzcGFjZT0icHJlc2VydmUiICA+DQo8Zz4NCgk8cGF0aCBkPSJNNTAwLDg0LjJjNTYuMiwwLDExMC42LDExLDE2MS44LDMyLjZjNDkuNSwyMC45LDk0LDUwLjksMTMyLjIsODkuMWMzOC4yLDM4LjIsNjguMiw4Mi43LDg5LjEsMTMyLjJjMjEuNyw1MS4yLDMyLjYsMTA1LjcsMzIuNiwxNjEuOGMwLDU2LjItMTEsMTEwLjYtMzIuNiwxNjEuOGMtMjAuOSw0OS41LTUwLjksOTQtODkuMSwxMzIuMmMtMzguMiwzOC4yLTgyLjcsNjguMi0xMzIuMiw4OS4xYy01MS4yLDIxLjctMTA1LjcsMzIuNi0xNjEuOCwzMi42Yy01Ni4yLDAtMTEwLjYtMTEtMTYxLjgtMzIuNmMtNDkuNS0yMC45LTk0LTUwLjktMTMyLjItODkuMWMtMzguMi0zOC4yLTY4LjItODIuNy04OS4xLTEzMi4yQzk1LjIsNjEwLjYsODQuMiw1NTYuMiw4NC4yLDUwMGMwLTU2LjIsMTEtMTEwLjYsMzIuNi0xNjEuOGMyMC45LTQ5LjUsNTAuOS05NCw4OS4xLTEzMi4yYzM4LjItMzguMiw4Mi43LTY4LjIsMTMyLjItODkuMUMzODkuNCw5NS4yLDQ0My44LDg0LjIsNTAwLDg0LjIgTTUwMCwxMEMyMjkuNCwxMCwxMCwyMjkuNCwxMCw1MDBzMjE5LjQsNDkwLDQ5MCw0OTBjMjcwLjYsMCw0OTAtMjE5LjQsNDkwLTQ5MFM3NzAuNiwxMCw1MDAsMTBMNTAwLDEweiIgZmlsbD0iI2ZmZmZmZiIvPg0KCTxwYXRoIGQ9Ik00NTAuMSwzMzIuMnYtOTIuM2g5OS43djkyLjNINDUwLjF6IE00NTAuMSw3NjAuMVYzODMuM2g5OS43djM3Ni44SDQ1MC4xeiIgZmlsbD0iI2ZmZmZmZiIvPjwvZz4NCjwvc3ZnPg==\");background-repeat:no-repeat;background-size:cover;height:20px;margin-top:2px;width:20px}#vi-stories-gui-container #vi-stories-license-info-button{display:inline;margin-top:9px;position:absolute;right:15px}#vi-stories-license-info-dialog{background-color:rgba(255,255,255,0.6);border-color:#dddddd;border-radius:3px;border-style:solid;border-width:2px;bottom:0;color:#000000;font-size:18px;height:150px;left:0;margin:auto;padding:15px;position:absolute;right:0;top:0;width:300px;z-index:10000000}#vi-stories-license-info-dialog .vi-stories-license-info-dialog-title{font-weight:bold}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-data dl{width:100%}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-data dt{clear:left;float:left;font-weight:bold}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-data dd{float:left;margin-left:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:60%}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-close-button{color:#000000;font-size:25px;font-weight:bold;height:25px;line-height:1;position:absolute;right:0;top:0;width:25px}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-close-button:after{display:inline-block;content:\"\\00d7\"}.vi-stories-width-max-500 #vi-stories-license-info-credit-button{font-size:16px}.vi-stories-width-max-500 #vi-stories-license-info-dialog{font-size:13px;height:80px;width:215px}#vi-stories-playlist-container{border-color:#e3e3e3;border-style:solid;border-width:0px 1px 1px 1px;box-sizing:border-box;height:150px;margin:0px auto;position:relative;user-select:none;width:100%}#vi-stories-playlist-container #vi-stories-playlist-entries-viewport{height:100%;margin:0 20px;overflow:hidden}#vi-stories-playlist-container #vi-stories-playlist-entries{position:relative;width:150%;height:100%}#vi-stories-playlist-container .vi-stories-playlist-entry{background-color:rgba(125,125,125,0.85);background-size:cover;border-color:#ffffff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;font-family:Verdana;height:calc(100% - 20px);margin:10px 7px;position:relative;width:calc((100% - 84px)/6)}#vi-stories-playlist-container .vi-stories-playlist-entry.vi-stories-playlist-current-item{border-color:red}#vi-stories-playlist-container .vi-stories-playlist-entry.vi-stories-playlist-current-item .vi-stories-playlist-entry-blur{display:block}#vi-stories-playlist-container .vi-stories-playlist-entry.vi-stories-playlist-current-item .vi-stories-playlist-entry-icon{display:none}#vi-stories-playlist-container .vi-stories-playlist-entry:hover{border-color:red}#vi-stories-playlist-container .vi-stories-playlist-entry:hover .vi-stories-playlist-entry-blur,#vi-stories-playlist-container .vi-stories-playlist-entry:hover .vi-stories-playlist-entry-text,#vi-stories-playlist-container .vi-stories-playlist-entry:hover .vi-stories-playlist-entry-duration{display:block}#vi-stories-playlist-container .vi-stories-playlist-entry-blur{background:linear-gradient(to bottom, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%);display:none;height:100%;position:absolute;width:100%}#vi-stories-playlist-container .vi-stories-playlist-entry-icon{background-color:rgba(0,0,0,0.7);background-image:url(\"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+\");background-position:8px center;background-repeat:no-repeat;background-size:60% 60%;border-color:#cccccc;border-radius:50%;border-style:solid;border-width:2px;box-sizing:content-box;height:30px;left:50%;margin-left:-15px;margin-top:-15px;position:absolute;top:50%;width:30px}#vi-stories-playlist-container .vi-stories-playlist-entry-text{box-sizing:border-box;color:#ffffff;display:none;font-size:75%;height:25%;line-height:15px;overflow:hidden;padding:3% 5%;position:absolute;text-align:left;text-overflow:ellipsis;top:0;user-select:none;white-space:nowrap;width:100%;word-wrap:break-word}#vi-stories-playlist-container .vi-stories-playlist-entry-duration{background-color:red;border-radius:2px;bottom:10px;color:#ffffff;display:none;font-size:12px;height:20px;left:10px;line-height:20px;position:absolute;text-align:center;width:50px}#vi-stories-playlist-container .vi-stories-playlist-entry-now{background-color:red;bottom:0;color:#ffffff;font-size:75%;height:30px;line-height:30px;position:absolute;text-align:center;width:100%}#vi-stories-playlist-container .vi-stories-playlist-nav{background-color:#faf8f8;background-repeat:no-repeat;border:none;cursor:pointer;height:100%;outline:none;position:absolute;top:0;user-select:none;width:27px}#vi-stories-playlist-container .vi-stories-playlist-nav-left{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+NDgvcHJldmlvdXMtbGFyZ2U8L3RpdGxlPjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPjxwYXRoIGQ9Ik0xMCAyNC41MTR2LTEuMDI4TDI1LjMyMyA2Ljc0Yy4zNzQtLjQxLjk4NC0uNDI1IDEuMzczLS4wMjRsMS4xMDggMS4xNGMuMzg0LjM5NS4zOTMgMS4wMzguMDE2IDEuNDRMMTQgMjRsMTMuODIgMTQuNzA1Yy4zNzYuNC4zNzMgMS4wNC0uMDE2IDEuNDRsLTEuMTA4IDEuMTRjLS4zODQuMzk0LTEgLjM4LTEuMzczLS4wMjVMMTAgMjQuNTE0eiIgZmlsbD0iIzk5OSIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+\");background-position:-7px center;left:0}#vi-stories-playlist-container .vi-stories-playlist-nav-right{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+NDgvbmV4dC1sYXJnZTwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PHBhdGggZD0iTTM4IDI0LjUxNHYtMS4wMjhMMjIuNjc3IDYuNzRjLS4zNzQtLjQxLS45ODQtLjQyNS0xLjM3My0uMDI0bC0xLjEwOCAxLjE0Yy0uMzg0LjM5NS0uMzkzIDEuMDM4LS4wMTYgMS40NEwzNCAyNCAyMC4xOCAzOC43MDVjLS4zNzYuNC0uMzczIDEuMDQuMDE2IDEuNDRsMS4xMDggMS4xNGMuMzg0LjM5NCAxIC4zOCAxLjM3My0uMDI1TDM4IDI0LjUxNHoiIGZpbGw9IiM5OTkiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==\");background-position:-14px center;right:0}.vi-stories-width-max-500 #vi-stories-playlist-container{height:70px}.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry{height:calc(100% - 10px);margin:5px 2px;width:calc((100% - 24px)/6)}.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry .vi-stories-playlist-entry-icon,.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry .vi-stories-playlist-entry-text,.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry .vi-stories-playlist-entry-duration{display:none}.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry-now{display:none}.vi-stories-width-500-600 #vi-stories-playlist-container{height:100px}.vi-stories-width-500-600 #vi-stories-playlist-container .vi-stories-playlist-entry-icon{background-position:5px center;height:20px;margin-left:-10px;margin-top:-10px;width:20px}.vi-stories-width-500-600 #vi-stories-playlist-container .vi-stories-playlist-entry-duration{bottom:5px;height:15px;left:5px;line-height:15px}.vi-stories-width-600-700 #vi-stories-playlist-container{height:110px}.vi-stories-width-600-700 #vi-stories-playlist-container .vi-stories-playlist-entry-icon{background-position:5px center;height:20px;margin-left:-10px;margin-top:-10px;width:20px}.vi-stories-width-600-700 #vi-stories-playlist-container .vi-stories-playlist-entry-duration{bottom:5px;height:15px;left:5px;line-height:15px}.vi-stories-width-700-800 #vi-stories-playlist-container{height:120px}.vi-stories-width-700-800 #vi-stories-playlist-container .vi-stories-playlist-entry-icon{background-position:6px center;height:25px;margin-left:-13px;margin-top:-13px;width:25px}.vi-stories-width-700-800 #vi-stories-playlist-container .vi-stories-playlist-entry-duration{bottom:5px;left:5px}.vi-stories-main-container .GUI-module__container .vi-stories-social-share-button{align-items:center;cursor:pointer;display:flex;height:40px;justify-content:center;width:36px}.vi-stories-main-container #av-container #av-inner #gui #buttons #right .vi-stories-social-share-button{float:left}.vi-stories-main-container .vi-stories-social-share-button::before{background-position-y:center;background-repeat:no-repeat;background-size:cover;content:\"\";display:inline-block;height:24px;vertical-align:middle;width:24px}.vi-stories-main-container .vi-stories-fb-share-button::before{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iODAlIiBoZWlnaHQ9IjkwJSIgeD0iMTAlIiB5PSIxMCUiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJNMjIuNjc1IDBoLTIxLjM1Yy0uNzMyIDAtMS4zMjUuNTkzLTEuMzI1IDEuMzI1djIxLjM1MWMwIC43MzEuNTkzIDEuMzI0IDEuMzI1IDEuMzI0aDExLjQ5NXYtOS4yOTRoLTMuMTI4di0zLjYyMmgzLjEyOHYtMi42NzFjMC0zLjEgMS44OTMtNC43ODggNC42NTktNC43ODggMS4zMjUgMCAyLjQ2My4wOTkgMi43OTUuMTQzdjMuMjRsLTEuOTE4LjAwMWMtMS41MDQgMC0xLjc5NS43MTUtMS43OTUgMS43NjN2Mi4zMTNoMy41ODdsLS40NjcgMy42MjJoLTMuMTJ2OS4yOTNoNi4xMTZjLjczIDAgMS4zMjMtLjU5MyAxLjMyMy0xLjMyNXYtMjEuMzVjMC0uNzMyLS41OTMtMS4zMjUtMS4zMjUtMS4zMjV6IiBzdHlsZT0iZmlsbDojM2I1OTk4O2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIi8+PC9zdmc+\")}.vi-stories-main-container .vi-stories-tweet-button::before{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTAwJSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyOyIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSIxMDAlIiA+PHJlY3QgaGVpZ2h0PSI0MDAiIHN0eWxlPSJmaWxsOm5vbmU7IiB3aWR0aD0iNDAwIiB4PSI1NiIgeT0iNTYiLz48cGF0aCBkPSJNMTYxLjAxNCw0NjQuMDEzYzE5My4yMDgsMCAyOTguODg1LC0xNjAuMDcxIDI5OC44ODUsLTI5OC44ODVjMCwtNC41NDYgMCwtOS4wNzIgLTAuMzA3LC0xMy41NzhjMjAuNTU4LC0xNC44NzEgMzguMzA1LC0zMy4yODIgNTIuNDA4LC01NC4zNzRjLTE5LjE3MSw4LjQ5NSAtMzkuNTEsMTQuMDY1IC02MC4zMzQsMTYuNTI3YzIxLjkyNCwtMTMuMTI0IDM4LjM0MywtMzMuNzgyIDQ2LjE4MiwtNTguMTAyYy0yMC42MTksMTIuMjM1IC00My4xOCwyMC44NTkgLTY2LjcwMywyNS40OThjLTE5Ljg2MiwtMjEuMTIxIC00Ny42MDIsLTMzLjExMiAtNzYuNTkzLC0zMy4xMTJjLTU3LjY4MiwwIC0xMDUuMTQ1LDQ3LjQ2NCAtMTA1LjE0NSwxMDUuMTQ0YzAsOC4wMDIgMC45MTQsMTUuOTc5IDIuNzIyLDIzLjc3M2MtODQuNDE4LC00LjIzMSAtMTYzLjE4LC00NC4xNjEgLTIxNi40OTQsLTEwOS43NTJjLTI3LjcyNCw0Ny43MjYgLTEzLjM3OSwxMDkuNTc2IDMyLjUyMiwxNDAuMjI2Yy0xNi43MTUsLTAuNDk1IC0zMy4wNzEsLTUuMDA1IC00Ny42NzcsLTEzLjE0OGwwLDEuMzMxYzAuMDE0LDQ5LjgxNCAzNS40NDcsOTMuMTExIDg0LjI3NSwxMDIuOTc0Yy0xNS40NjQsNC4yMTcgLTMxLjY5Myw0LjgzMyAtNDcuNDMxLDEuODAyYzEzLjcyNyw0Mi42ODUgNTMuMzExLDcyLjEwOCA5OC4xNCw3Mi45NWMtMzcuMTksMjkuMjI3IC04My4xNTcsNDUuMTAzIC0xMzAuNDU4LDQ1LjA1NmMtOC4zNTgsLTAuMDE2IC0xNi43MDgsLTAuNTIyIC0yNS4wMDYsLTEuNTE2YzQ4LjAzNCwzMC44MjUgMTAzLjk0LDQ3LjE4IDE2MS4wMTQsNDcuMTA0IiBzdHlsZT0iZmlsbDojMWRhMWYyO2ZpbGwtcnVsZTpub256ZXJvOyIvPjwvc3ZnPg==\")}.vi-stories-main-container .vi-stories-linkedin-share-button::before{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNTBweCIgaGVpZ2h0PSIxNTBweCIgdmlld0JveD0iMCAwIDQzMC4xMTcgNDMwLjExOCI+PGc+PHJlY3Qgd2lkdGg9IjgwJSIgaGVpZ2h0PSI5MCUiIHg9IjEwJSIgeT0iMTAlIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTM5OC4zNTUsMEgzMS43ODJDMTQuMjI5LDAsMC4wMDIsMTMuNzkzLDAuMDAyLDMwLjgxN3YzNjguNDcxICAgYzAsMTcuMDI1LDE0LjIzMiwzMC44MywzMS43OCwzMC44M2gzNjYuNTczYzE3LjU0OSwwLDMxLjc2LTEzLjgxNCwzMS43Ni0zMC44M1YzMC44MTdDNDMwLjExNSwxMy43OTgsNDE1LjkwNCwwLDM5OC4zNTUsMHogICAgTTEzMC40LDM2MC4wMzhINjUuNDEzVjE2NS44NDVIMTMwLjRWMzYwLjAzOHogTTk3LjkxMywxMzkuMzE1aC0wLjQzN2MtMjEuNzkzLDAtMzUuOTItMTQuOTA0LTM1LjkyLTMzLjU2MyAgIGMwLTE5LjAzNSwxNC41NDItMzMuNTM1LDM2Ljc2Ny0zMy41MzVjMjIuMjI3LDAsMzUuODk5LDE0LjQ5NiwzNi4zMzEsMzMuNTM1QzEzNC42NTQsMTI0LjQxNSwxMjAuNTU1LDEzOS4zMTUsOTcuOTEzLDEzOS4zMTV6ICAgIE0zNjQuNjU5LDM2MC4wMzhoLTY0Ljk2NlYyNTYuMTM4YzAtMjYuMTA3LTkuNDEzLTQzLjkyMS0zMi45MDctNDMuOTIxYy0xNy45NzMsMC0yOC42NDIsMTIuMDE4LTMzLjMyNywyMy42MjEgICBjLTEuNzM2LDQuMTQ0LTIuMTY2LDkuOTQtMi4xNjYsMTUuNzI4djEwOC40NjhoLTY0Ljk1NGMwLDAsMC44NS0xNzUuOTc5LDAtMTk0LjE5Mmg2NC45NjR2MjcuNTMxICAgYzguNjI0LTEzLjIyOSwyNC4wMzUtMzIuMSw1OC41MzQtMzIuMWM0Mi43NiwwLDc0LjgyMiwyNy43MzksNzQuODIyLDg3LjQxNFYzNjAuMDM4eiBNMjMwLjg4MywxOTMuOTkgICBjMC4xMTEtMC4xODIsMC4yNjYtMC40MDEsMC40Mi0wLjYxNHYwLjYxNEgyMzAuODgzeiIgZmlsbD0iIzQ4NzViNCIvPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48L3N2Zz4=\")}#vi-stories-player-suggestion-overlay{background-color:rgba(0,0,0,0.7);box-sizing:border-box;font-size:18px;height:90%;padding:25px;position:absolute;top:0;width:100%;z-index:10000000}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry{background-color:rgba(125,125,125,0.85);background-size:cover;border-color:#ffffff;border-style:solid;border-width:1px;float:left;font-family:Verdana;height:calc(50% - 22px);margin:10px;position:relative;width:calc(50% - 22px)}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover{border-color:red}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover .vi-stories-player-suggestion-blur,#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover .vi-stories-player-suggestion-text,#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover .vi-stories-player-suggestion-duration{display:block}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-blur{background:linear-gradient(to bottom, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%);display:none;height:100%;position:absolute;width:100%}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-icon{background-color:rgba(0,0,0,0.7);background-image:url(\"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+\");background-position:10px center;background-repeat:no-repeat;background-size:60% 60%;border-color:#cccccc;border-radius:50%;border-style:solid;border-width:2px;box-sizing:content-box;height:40px;left:50%;margin-left:-20px;margin-top:-20px;position:absolute;top:50%;width:40px}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-text{box-sizing:border-box;color:#ffffff;display:none;height:25%;line-height:15px;overflow:hidden;padding:3% 5%;position:absolute;text-align:left;text-overflow:ellipsis;top:0;user-select:none;white-space:nowrap;width:100%;word-wrap:break-word}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-duration{background-color:red;border-radius:2px;bottom:20px;color:#ffffff;display:none;font-size:12px;height:20px;left:20px;line-height:20px;position:absolute;text-align:center;width:50px}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:nth-child(3):last-child{left:25%}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:first-child:nth-last-child(1){left:25%;top:25%}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:first-child:nth-last-child(2),#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:first-child:nth-last-child(2) ~ .vi-stories-player-suggestion-entry{top:25%}.vi-stories-width-max-500 #vi-stories-player-suggestion-overlay{font-size:12px;height:80%;padding:10px}.vi-stories-width-max-500 #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry{height:calc(100% - 22px);left:0 !important;top:0 !important;width:calc(100% - 22px)}.vi-stories-width-max-500 #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-icon{background-position:8px center;height:30px;margin-left:-15px;margin-top:-15px;width:30px}.vi-stories-width-500-600 #vi-stories-player-suggestion-overlay{font-size:13px;padding:10px}.vi-stories-width-600-700 #vi-stories-player-suggestion-overlay{font-size:14px;padding:15px}.vi-stories-width-700-800 #vi-stories-player-suggestion-overlay{font-size:16px;padding:20px}.vi-stories-mobile #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry .vi-stories-player-suggestion-blur,.vi-stories-mobile #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry .vi-stories-player-suggestion-text,.vi-stories-mobile #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry .vi-stories-player-suggestion-duration{display:block}.vi-stories-top-div.viUnit4{padding-bottom:45px}.viUnit4 .vi-stories-width-max-500 #vi-stories-description-container{border-width:0px}.viUnit4 .vi-stories-width-max-500 #vi-stories-title{font-size:18px;font-weight:normal}.viUnit4 .vi-stories-width-max-500 #vi-stories-sponsor-powered{font-size:11px;opacity:1}.viUnit4 .vi-stories-width-max-500#vi-stories-main-container #vi-stories-sponsor-logo{height:20px}.viUnit4 .vi-stories-width-500-600 #vi-stories-description-container,.viUnit4 .vi-stories-width-600-700 #vi-stories-description-container,.viUnit4 .vi-stories-width-700-800 #vi-stories-description-container,.viUnit4 .vi-stories-width-min-800 #vi-stories-description-container{border-width:0px;height:100%;position:absolute;right:0;top:0;width:300px}.viUnit4 .vi-stories-width-500-600 #vi-stories-title,.viUnit4 .vi-stories-width-600-700 #vi-stories-title,.viUnit4 .vi-stories-width-700-800 #vi-stories-title,.viUnit4 .vi-stories-width-min-800 #vi-stories-title{font-weight:normal;margin:0;padding:0}.viUnit4 .vi-stories-width-500-600 #vi-stories-sponsor-powered,.viUnit4 .vi-stories-width-600-700 #vi-stories-sponsor-powered,.viUnit4 .vi-stories-width-700-800 #vi-stories-sponsor-powered,.viUnit4 .vi-stories-width-min-800 #vi-stories-sponsor-powered{font-size:11px;opacity:1}.viUnit4 .vi-stories-width-500-600 #vi-stories-sponsor-container,.viUnit4 .vi-stories-width-600-700 #vi-stories-sponsor-container,.viUnit4 .vi-stories-width-700-800 #vi-stories-sponsor-container,.viUnit4 .vi-stories-width-min-800 #vi-stories-sponsor-container{bottom:2px;height:20px;line-height:20px;position:absolute;width:100%}.viUnit4 .vi-stories-width-500-600 #vi-stories-preloader-play-icon,.viUnit4 .vi-stories-width-600-700 #vi-stories-preloader-play-icon,.viUnit4 .vi-stories-width-700-800 #vi-stories-preloader-play-icon,.viUnit4 .vi-stories-width-min-800 #vi-stories-preloader-play-icon{left:25%}.vi-stories-player-container .vi-stories-unmute-overlay{background-color:rgba(250,248,248,0.7);border-radius:5px;cursor:pointer;height:30px;left:30px;padding:10px;position:absolute;user-select:none;z-index:10000000}.vi-stories-player-container .vi-stories-unmute-overlay::before{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='17' height='16'%3E %3Cpath fill='%23000' d='M4 5H0v6h4l5 4V1zM16.9 5.6l-.8-.7-2.3 2.4-2.4-2.4-.8.7L13 8l-2.4 2.4.8.7 2.4-2.4 2.3 2.4.8-.7L14.5 8z'/%3E %3C/svg%3E\");background-position-y:center;background-repeat:no-repeat;background-size:cover;content:\"\";display:inline-block;height:30px;vertical-align:middle;width:32px}.vi-stories-player-container .vi-stories-unmute-overlay.vi-stories-unmute-overlay-ad{top:30px}.vi-stories-player-container .vi-stories-unmute-overlay.vi-stories-unmute-overlay-content{bottom:50px}.vi-stories-player-container .vi-stories-unmute-overlay .vi-stories-unmute-label{display:inline-block;font-size:20px;padding-left:10px;vertical-align:middle}.vi-stories-player-container .vi-stories-unmute-overlay .vi-stories-unmute-label.displayNone{display:none}.vi-stories-width-max-500 .vi-stories-player-container .vi-stories-unmute-overlay{height:15px}.vi-stories-width-max-500 .vi-stories-player-container .vi-stories-unmute-overlay::before{height:15px;width:19px}.vi-stories-width-max-500 .vi-stories-player-container .vi-stories-unmute-overlay .vi-stories-unmute-label{font-size:12px}.vi-stories-width-500-600 .vi-stories-player-container .vi-stories-unmute-overlay{height:20px;left:30px}.vi-stories-width-500-600 .vi-stories-player-container .vi-stories-unmute-overlay::before{height:20px;width:25px}.vi-stories-width-500-600 .vi-stories-player-container .vi-stories-unmute-overlay .vi-stories-unmute-label{font-size:16px}\n",""]),t.exports=e}]);