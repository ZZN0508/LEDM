"use strict";(self.webpackChunk_deepl_gatsby=self.webpackChunk_deepl_gatsby||[]).push([[184],{18252:function(e,t,n){var a=n(98808),r=n(30171);n(61606).Z.defineType("/translator/common/switchLang",["/translator/core/languageManagement","/translator/core/textareas","/translator/core/config"],(e,t,n)=>{let o=(0,r.S3)(!1),l=(0,a.f)(),s=n.get("isRtfEnabled"),g=()=>{let n=e.getSelectedSourceLang(),a=n&&"auto"!==n.toLowerCase(),r=e.getActiveLangContext().getSourceLang(),l=r&&"auto"!==r.toLowerCase(),s=!t.getSourceText(),g=!s&&!t.getTargetText();(a||l)&&!g&&!(s&&!a)?o(!0):o(!1)};e.onActiveLangContextChanged.push(g),e.onSelectedSourceLangChanged.push(g),t.onSourceTextChanged.push(g),t.onTargetTextChanged.push(g),g();let i=()=>{var n,a,r;if(!o())return;let g=e.getActiveLangContext(),i=g.getSourceLang()||e.getSelectedSourceLang(),c=g.getTargetLang()||e.getSelectedTargetLang(),u=t.getTargetText(),d="";s&&(d=t.getTargetHtml());let{lang:S,variant:p}=e.getSelectedTargetLangSettings(),T=t.getSourceText().length;s?(t.updateTargetHtml("","internal"),t.updateSourceHtml("","internal")):(t.setTargetTextExplicitly("","internal"),t.setSourceTextExplicitly("","internal")),null===(n=t.getSourceDTextarea())||void 0===n||n.resetUndoStack(),null===(a=t.getTargetDTextarea())||void 0===a||a.resetUndoStack(),e.setUserSelectedSourceLang(c,"langSwitchButton"),e.sanitizeAndUpdateActiveLanguages(c,i);let h={sourceLang:i.toLowerCase(),targetLang:p||S.toLowerCase(),numCharactersInSourceField:T};l(h),s?t.updateSourceHtml(d,"update",!0):t.setSourceTextExplicitly(u,"update",!0);let{activeElement:f}=document;f&&"BUTTON"!==f.tagName.toUpperCase()&&f!==document.body&&(null===(r=t.getSourceDTextarea())||void 0===r||r._rootDomNode.focus())};return{onSwitchLanguage:l,switchLanguage:i,updateSwitchLangEnabled:g,enabled:o}})},15885:function(e,t,n){var a=n(61606),r=n(83115);a.Z.defineType("/translator/core/retranslationServices",["/translator/core/translationBackend","/translator/core/languageManagement","/translator/core/translateSourceSentences","/translator/core/config"],(e,t,n,a)=>{let{translationBackend:o}=e,l=a.get("isRtfEnabled");function s(e){let{keepChangedSentences:a=!1,updateChangedSentenceHighlightInfo:o=!1}=void 0===e?{}:e;o&&function(e){let{keepTargetText:n=!0}=e,a=t.getActiveLangContext();a.splitChainsOnModifiedSentences(),a.getTargetSentences().filter(e=>e.hasChangedText()).forEach(e=>{if(n){let t=e.getSourceSentence(),n=e.getTranslation();t.translation=r.Z.create(n.getSourceText(),e.getNormalizedText(),!0),l&&t.translation.setSourceHtml(t.getTrimmedHtml())}else e.getTranslation().status=r.Z.STATUS__OBSOLETE,e.allowTextToBeResetByTranslation()})}({keepTargetText:!0}),a?function(){let e=t.getActiveLangContext();e.getTargetSentences().filter(e=>!e.hasChangedText()).forEach(e=>{e.getTranslation().status=r.Z.STATUS__OBSOLETE})}():function(){let e=t.getActiveLangContext();e.getTargetSentences().forEach(e=>{e.getTranslation().status=r.Z.STATUS__OBSOLETE,e.allowTextToBeResetByTranslation()})}(),n.triggerTranslationUpdate()}return{dev_hardReset:function(){let e=t.getActiveLangContext(),n=e.getSourceLang(),a=e.getTargetLang();o().dev_clearTranslationCache(),t.updateActiveLanguages("",{lang:""}),t.updateActiveLanguages(n,{lang:a})},retranslateEverything(){s({keepChangedSentences:!1,updateChangedSentenceHighlightInfo:!1})},retranslateUnchangedSentences(){s({keepChangedSentences:!0,updateChangedSentenceHighlightInfo:!1})},retranslateUnchangedAndUpdateHighlightOfChangedSentences(){s({keepChangedSentences:!0,updateChangedSentenceHighlightInfo:!0})}}})},64768:function(e,t,n){var a=n(61606),r=n(30171);a.Z.defineType("/translator/core/sourceLanguageLabel",["/translator/webTranslatorCore"],e=>{let t=(0,r.S3)({type:"ANY_LANGUAGE"}),n=e._internalLanguageManagement.activeSourceLang,a=e._internalLanguageManagement.selectedSourceLang,o=e.sourceIsEmpty;return(0,r.S1)([n,a,o],(e,n,a)=>{n&&"auto"!==n?t({type:"USER_SELECTED_LANGUAGE",language:n}):a?t({type:"ANY_LANGUAGE"}):e?t({type:"AUTO_DETECTED_LANGUAGE",language:e}):t({type:"AUTO_DETECTION_IN_PROGRESS"})}),{state:t}})},17441:function(e,t,n){var a=n(4769),r=n(30171);n(61606).Z.defineType("/translator/core/sourceLanguages",["/translator/webTranslatorCore","/translator/core/languageManagement","/translator/core/config"],(e,t,n)=>{let o=(0,r.S3)(),l=e._internalLanguageManagement,s=l.selectedSourceLang;(0,r.S1)([s],e=>{o({lang:e})});let g=e=>{t.setUserSelectedSourceLang(e)},i=()=>t.getSelectableSourceLangEntries().map(e=>({lang:e.lang})),c=e=>{let t=n.get("il");return(0,a.Z)(e).sort((e,n)=>"auto"===e.lang?-1:"auto"===n.lang?1:e.label.localeCompare(n.label,t))};return{currentLanguage:o,setCurrentLanguage:g,getLanguages:i,sortLanguages:c}})},12846:function(e,t,n){var a=n(61606),r=n(30171);a.Z.defineType("/translator/core/targetLanguageLabel",["/translator/webTranslatorCore","/translator/core/languageManagement"],(e,t)=>{let n=e._internalLanguageManagement.activeSourceLang,a=e._internalLanguageManagement.selectedSourceLang,o=(0,r.S3)(t.getSelectedTargetLangSettings()),l=e=>{o(e)},s=()=>{o(t.getSelectedTargetLangSettings())};return(0,r.S1)([n,a],()=>{s()}),t.onSelectedTargetLangSettingsChanged.push(e=>l(e)),{currentLanguage:o}})},98824:function(e,t,n){n.d(t,{Z:function(){return l},C:function(){return i}});var a,r=n(84627);let o=1e4*Math.round(1e4*Math.random()),l=((a={}).REMOTE_ERROR="REMOTE_ERROR",a.INVALID_RESPONSE_JSONRPC="INVALID_RESPONSE_JSONRPC",a.INVALID_RESPONSE_JSON="INVALID_RESPONSE_JSON",a.REQUEST_FAILED="REQUEST_FAILED",a.TIMEOUT="TIMEOUT",a),s=(0,r.fo)(),g={connectTo:e=>{var t,a,i,c,u;let d=e.url,S=null!==(t=e.withCredentials)&&void 0!==t&&t,p=!1===(null===(a=e.useJsonContentType)||void 0===a||a)?"text/plain":"application/json",T=null!==(i=e.timeout)&&void 0!==i?i:0,h=null!==(c=e.responseWithMetadata)&&void 0!==c&&c,f=null!==(u=e.f_str)&&void 0!==u?u:(e,t)=>e,E=0;function L(t){let a=function(i,c,u){void 0===u&&(u=0);let L=++o,m=f(JSON.stringify({jsonrpc:"2.0",method:t,params:void 0!==i?i:{},id:L}),L);return new Promise((o,f)=>{function L(n,r,l,s){let S={errorType:n,basename:d,method:t,code:r,data:l,params:i,retry:u};function p(t){e.responseWithMetadata?f({error:S,metadata:s}):f(t)}g.errorHandler?g.errorHandler(S).then(()=>a(i,c,u+1).then(o).catch(f)).catch(e=>{p(S)}):p(S)}T&&setTimeout(()=>{L(l.TIMEOUT,void 0,void 0,{})},T);let v=new XMLHttpRequest;v.withCredentials=S,v.onreadystatechange=()=>{if(v.readyState===XMLHttpRequest.DONE){let e=function(e){let t={},n=function(e){try{let t=e.getAllResponseHeaders().toLowerCase();if(!t.includes("server-timing:"))return null;let n=e.getResponseHeader("server-timing")||"";return function(e){if(""===e)return null;try{return e.split(",").map(e=>e.trim()).filter(e=>""!==e).map(e=>(function(e){let t=e.split(";");if(t.length<1||""===t[0].trim())return null;let n={name:t[0].trim()};return t.slice(1).forEach(e=>{let t=e.split("=");if(2===t.length){let e=t[0];if("desc"===e)n.description=t[1].replaceAll('"',"");else if("dur"===e){let e=parseFloat(t[1]);Number.isNaN(e)||(n.duration=e)}}}),n})(e)).filter(e=>!!(null!=e&&e.name)).reduce((e,t)=>({...e,[t.name]:t}),{})}catch(e){return console.warn("error when trying to parse Server-Timing header",e),null}}(n)}catch(e){return console.warn("error when trying to parse Server-Timing header",e),null}}(e);return n&&(t.serverTiming=n),t}(v);if(200===v.status)!function(e,t){try{let n=JSON.parse(e);if(n.error)L(l.REMOTE_ERROR,n.error.code,n.error.message,t);else if(n.jsonrpc){try{s&&s(n.jsonrpc)}catch(e){console.warn(e)}let e=n.result,a=h?{data:e,metadata:t}:e;E?setTimeout(()=>o(a),E):o(a)}else L(l.INVALID_RESPONSE_JSONRPC,void 0,e,t)}catch(a){n.g&&(n.g._jsonErrorData=e),L(l.INVALID_RESPONSE_JSON,void 0,e,t)}}(v.responseText,e);else{let t;let n={xhr:v,status:v.status,basename:d,responseData:v.responseText};console.warn("error with http status: ",n.status,n.responseData);try{let e=JSON.parse(v.responseText).error;n.responseData=e,t=e.code}catch(e){}L(l.REQUEST_FAILED,t,n,e)}}};let C=r.ZP.urlWithParameters(d,{method:t});if(c&&c.queryParams)for(let e in c.queryParams)Object.prototype.hasOwnProperty.call(c.queryParams,e)&&(C=r.ZP.urlWithParameter(C,e,c.queryParams[e]));if(v.open("POST",C,!0),v.setRequestHeader("Content-type",p),C.startsWith("https://w.deepl.com")&&Object.entries({}).forEach(e=>{let[t,n]=e;v.setRequestHeader(t,n)}),c&&c.headers)for(let e in c.headers)Object.prototype.hasOwnProperty.call(c.headers,e)&&v.setRequestHeader(e,c.headers[e]);v.send(m)})};return a}return{getFunction:L,callFunction:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return L(e).apply(void 0,n)},setDebugDelay:e=>{E=e}}},_onSuccessHook:s};g.errorHandler=e=>{var t,a;return null!==(t=n.g)&&void 0!==t&&null!==(a=t.dlApiErrorHandlers)&&void 0!==a&&a.rpc?n.g.dlApiErrorHandlers.rpc(e):Promise.reject()},"undefined"!=typeof window&&window.M&&!window.M.get("RPC")&&window.M&&window.M.registerAsync("RPC",g);var i=g}}]);