"use strict";(self.webpackChunk_deepl_gatsby=self.webpackChunk_deepl_gatsby||[]).push([[3997],{37509:function(e,t,n){n.d(t,{y:function(){return o}});var r=n(27378),l=n(26908),i=n(49359);let o=e=>{let{label:t,selected:n,onSelect:o,icon:a,...u}=e;return r.createElement("button",Object.assign({type:"button",onClick:o,className:(0,i.Ch)(["hover:bg-dark-8 py-1 px-2 focus-visible-inside rounded",n?"text-blue-chill":"text-deepl-blue font-normal"])},u),r.createElement("div",{className:"flex"},n&&r.createElement(l.n,{className:"mr-2 h-6 w-6 min-w-[1.5rem] stroke-2"}),r.createElement("div",{className:"flex w-full justify-between"},r.createElement("span",{className:(0,i.Ch)([n?"font-semibold":"pl-8","break-word text-start"])},t),a)))}},16146:function(e,t,n){n.d(t,{A:function(){return r}});let r=e=>{let{searchRef:t,resultsListRef:n}=e,r=e=>{"ArrowDown"===e.key&&(n.current.focusItemAt(0),e.preventDefault()),"ArrowUp"===e.key&&(n.current.focusItemAt(-1),e.preventDefault())},l=e=>{if(!document.activeElement||!n.current)return;let r=n.current.children.indexOf(document.activeElement);if(-1!==r&&("ArrowUp"===e.key&&0===r||"ArrowDown"===e.key&&r===n.current.children.length-1)){var l;null===(l=t.current)||void 0===l||l.focus(),e.preventDefault()}};return{navigateFromSearchToResultsKeyboardHandler:r,navigateFromResultsToSearchKeyboardHandler:l}}},87873:function(e,t,n){n.d(t,{G:function(){return l},t:function(){return i}});var r=n(27378);let l=(0,r.createContext)({isTargetOpen:!1,isSourceOpen:!1,setIsTargetOpen:()=>{},setIsSourceOpen:()=>{}}),i=e=>{let{children:t}=e,{0:n,1:i}=(0,r.useState)(!1),{0:o,1:a}=(0,r.useState)(!1),u=(0,r.useMemo)(()=>({isTargetOpen:n,setIsTargetOpen:i,isSourceOpen:o,setIsSourceOpen:a}),[n,o]);return r.createElement(l.Provider,{value:u},t)}},81166:function(e,t,n){n.d(t,{D:function(){return r}});let r=(e,t,n)=>(r,l)=>{let i=0,o=!0;if("Home"===r)i=0,o=!1;else if("End"===r)i=e-1,o=!1;else{let a=Math.floor(l/n),u=Math.floor(l%n);switch(r){case"ArrowUp":0===l?(i=e-1,o=!1):0===u?(u=n-1,a-=1):u-=1;break;case"ArrowDown":l===e-1?(i=0,o=!1):u===n-1?(u=0,a+=1):u+=1;break;case"ArrowLeft":a=(i=(a=a>0?a-1:t-1)*n+u)>e-1?a-1:a;break;case"ArrowRight":a=(i=(a=a<t-1?a+1:0)*n+u)>e-1?0:a}i=o?a*n+u:i}return i}},5772:function(e,t,n){n.d(t,{A:function(){return i.A},D:function(){return o}});var r=n(43433),l=n(31326),i=n(12574);let o=()=>{let e=(0,l.d)("/translator/common/computedTextLength"),t=(0,r.z)(null==e?void 0:e.computedTextLength);if(e)return{computedTextLength:t,recalculate:e.recalculate}}},10204:function(e,t,n){n.d(t,{M:function(){return l}});var r=n(57233);let l=()=>{let e=!!(0,r.bY)("DM-732");return e?14:30}},12574:function(e,t,n){var r;n.d(t,{A:function(){return l}});let l=((r={})[r.Short=0]="Short",r[r.None=1]="None",r[r.Medium=2]="Medium",r[r.Long=3]="Long",r[r.VeryLong=4]="VeryLong",r)},9320:function(e,t,n){n.d(t,{a:function(){return u}});let r=((l={})[l.Wide=50]="Wide",l[l.Narrow=25]="Narrow",l);var l,i=n(11269);let o={context:{length:r.Narrow},segmentation:!1},a={DE:{...o,context:{length:r.Wide}},JA:{...o,context:!1,segmentation:{getSegmenter:(0,i._)("ja-JP")}},ZH:{...o,segmentation:{getSegmenter:(0,i._)("zh-CN")}}},u=e=>{var t;let n=e.toUpperCase();return{lang:n,...null!==(t=a[n])&&void 0!==t?t:o}}},79743:function(e,t,n){n.d(t,{n:function(){return g},w:function(){return d}});var r,l,i=n(9320);let o=((r={}).Select="select",r.Full="full",r.Context="context",r),a=" ;.!?-+=/%\xa7'`\xb4<>()[]\"	\n";function u(e,t){let n=t;for(;n>0&&-1===a.indexOf(e[n-1]);)n-=1;return n}function c(e,t){let n=t;for(;n<e.length&&-1===a.indexOf(e[n]);)n+=1;return n}function s(e){return{word_pos:e,word_end:e+1}}let g=((l={})[l.Click=0]="Click",l[l.Change=1]="Change",l[l.KeyUp=2]="KeyUp",l[l.Paste=3]="Paste",l[l.LangChange=4]="LangChange",l);function d(e,t,n,r){var l;let d=n?r.getSourceLang():r.getTargetLang(),f=n?r.getTargetLang():r.getSourceLang(),m=r.getSelectedTargetLangSettings(),p=null!==(l=m.variant)&&void 0!==l?l:m.lang,h=n?r.getSourceLang():p,v=n?p:r.getSourceLang(),x=t.value,y=x.trim(),S=t.selectionStart,w=t.selectionEnd,C=function(e){let{text:t,selection:n,isClick:r,languageConfig:l,otherLanguageConfig:i}=e,{start:g}=n,d=0===t.substring(g).trim().length;if(d||!r)return function(e){let t=e.trim(),n=t.length<60;return{queryString:n?t:"",kind:o.Full,isShortQuery:n}}(t);try{if(l.segmentation){let e=l.segmentation.getSegmenter({granularity:"word"});if(l.context&&!e){let e=Math.max(0,g-l.context.length),n=g+l.context.length;return{kind:o.Context,isShortQuery:!1,queryString:`${t.slice(e,g)}###${t.slice(g,n)}`}}let{word_pos:n,word_end:r}=function(e,t,n){if(!n)return s(t);let r=0;for(let{segment:l}of n.segment(e)){let e=r+l.length;if(t<e)return{word_pos:r,word_end:e};r=e}return s(t)}(t,g,e),i=t.slice(n,r).trim();return{kind:o.Select,isShortQuery:!1,queryString:i.length>=60?"":i}}}catch(e){console.error("BuildQuery",e)}return i.context&&l.context?l.context?function(e,t,n){let r=n.length,l=u(e,t),i=c(e,t);if(l===t&&-1!==a.indexOf(e[t]))return{kind:"",isShortQuery:!1,queryString:""};let s=l-r>0?function(e,t){let n=c(e,t);for(;n<e.length&&-1!==a.indexOf(e[n]);)n+=1;return n}(e,l-r):0,g=i+r<e.length?e.length-u(e,i+r):0,d=`${e.substring(s,s+l-s)}###${e.substring(l,l+e.length-l-g)}`.trim();return{kind:o.Context,queryString:d,isShortQuery:!1}}(t,g,l.context):{isShortQuery:!1,kind:"",queryString:""}:function(e,t){let n=u(e,t),r=c(e,t);return{isShortQuery:!0,kind:o.Select,queryString:e.substring(n,r)}}(t,g)}({text:x,selection:{start:S,end:w},isClick:e===g.Click,languageConfig:(0,i.a)(h),otherLanguageConfig:(0,i.a)(v)}),E={eventSource:e,forleftside:n,sourceLang:d,targetLang:f,sourceLangWithVariant:h,targetLangWithVariant:v,selection:{start:S,end:w},fulltext:y,id:`${d}::${f}::${y}`,queryString:C.queryString,kind:C.kind,isShortQuery:C.isShortQuery,cacheKey:`${h}:${v}:${C.queryString}`};return E}},11269:function(e,t,n){n.d(t,{_:function(){return r}});let r=e=>t=>{var n;return"function"!=typeof(null===(n=Intl)||void 0===n?void 0:n.Segmenter)?null:new Intl.Segmenter(e,t)}},94232:function(e,t,n){var r;n.d(t,{H:function(){return l}});let l=((r={}).AUTO="auto",r.FORMAL="formal",r.INFORMAL="informal",r)},70676:function(e,t,n){n.d(t,{F:function(){return c}});var r=n(27378),l=n(34681),i=n(40096),o=n(94232),a=n(9510);let u=e=>{let{showProBadge:t,label:n,onClick:l,...i}=e;return r.createElement("button",Object.assign({onClick:l,className:"text-deprecated-mid-grey hover:bg-golden-tanoi/30 active:bg-golden-tanoi/30 flex min-w-[194px] items-center px-5 py-px text-base font-normal leading-[2] dark:text-white",type:"button"},i),r.createElement("span",{className:"grow text-left"},n),t&&r.createElement("span",{className:"bg-mosque rounded-[5px] px-2 text-[11px] font-semibold leading-[2.2] text-white"},"PRO"))},c=e=>{let{className:t="",showProAds:n,showFormalityModeInformal:c,showFormalityModeFormal:s,showFormalityModeAuto:g,onRequestProPage:d,selectMode:f,onSelect:m,language:p}=e,{t:h}=(0,l.$)("translator"),v=(0,a.v)(p),x=e=>()=>{f(e),m&&m()},y=()=>{d(),m&&m()};return r.createElement("div",{className:`flex flex-col py-2.5 ${t}`},s&&r.createElement(u,{showProBadge:n,onClick:x(o.H.FORMAL),label:h(v("formality.selector.menu.formal")),"data-testid":"formality-menu-entry-formal"}),c&&r.createElement(u,{showProBadge:n,onClick:x(o.H.INFORMAL),label:h(v("formality.selector.menu.informal"))}),g&&r.createElement(u,{showProBadge:!1,onClick:x(o.H.AUTO),label:h("formality.selector.menu.auto")}),n&&r.createElement("div",{className:"whitespace-nowrap px-5 py-2.5"},r.createElement(i.z,{variant:"outline",onClick:y,size:"small"},r.createElement("span",{className:"text-sm font-light"},h("ad.cta.goPro_short")))))}},9510:function(e,t,n){n.d(t,{v:function(){return r}});let r=function(e,t){return void 0===e&&(e="en"),void 0===t&&(t=!1),n=>{let r=n;return"JA"===e.toLocaleUpperCase()&&(r=`${n}${t?"_":"."}japanese`),r}}},10687:function(e,t,n){let r;n.d(t,{a:function(){return w}});var l=n(27378),i=n(32891),o=n(64143),a=n(58597),u=n(50171),c=n(17787),s=n(66726),g=n.n(s),d=n(11377),f=n(39323),m=n(89355),p=n(58462);async function h(e,t,n,l,i){var o,a;void 0===i&&(i=!1),null===(o=l.targetSentence)||void 0===o||o.highlightState.setInnerSentenceHighlight("targetPopup",{classes:["target_popup_anchor_highlight"],ranges:[{offset:l.sentenceCursor,length:1}],validationMode:m.s.SENTENCE_CONTENT_UNCHANGED,optimizationMode:"none"});let u=[];l.targetSentence&&u.push(l.targetSentence),r=l.targetSentence,u.length&&await n.notifyTargetSentencesChanged(u);let c=t.getElementsByClassName("target_popup_anchor_highlight")[0],s=c.getBoundingClientRect(),g=v({start:i?s.left:s.right,top:s.top,width:s.width},e,t,s.height,i);return null===(a=r)||void 0===a||a.highlightState.setInnerSentenceHighlight("targetPopup",null),r&&n.notifyTargetSentencesChanged([r]),r=void 0,g}function v(e,t,n,r,l){var i,o,a,u,c;let s;let g=null!==(i=n.closest(".lmt__side_container--target"))&&void 0!==i?i:n,d=g.getBoundingClientRect(),{innerWidth:f}=window,m=function(e,t){let n=document.body.scrollHeight-window.scrollY-window.innerHeight;return window.innerHeight-(e.top+t)+n}(e,r);if(l)s=(null!==(a=null==d?void 0:d.right)&&void 0!==a?a:0)-e.start-e.width;else{let n=null!==(u=null==t?void 0:t.getBoundingClientRect().width)&&void 0!==u?u:0,r=e.start+n;s=e.start-(null!==(c=null==d?void 0:d.left)&&void 0!==c?c:0)-e.width,r>f-20&&(s+=f-20-r)}return{start:s,top:e.top-(null!==(o=null==d?void 0:d.top)&&void 0!==o?o:0)+r,maxHeight:Math.min(10*r,Math.max(m-4,3*r))}}let x=e=>{let{isNewTextareaActive:t,targetPopupInfo:n,popupElement:r,isRtl:i}=e,{0:o,1:a}=(0,l.useState)({start:0,top:0}),u=(0,f.Y)(),c=(0,d.s)(),s=(0,l.useCallback)(async()=>{if(c&&n&&n.targetSentence){if(t){if(!u)return;let{start:e,top:t,maxHeight:l}=await h(r,c,u,n,i);a({start:e,top:t,maxHeight:l})}else{let{start:e,top:t,maxHeight:l}=function(e,t,n,r){void 0===r&&(r=!1);let l=t.parentElement,i=parseInt(getComputedStyle(l).fontSize,10),o=parseFloat(getComputedStyle(l).lineHeight)||1.2*i,a=(0,p.DO)(t,n.globalCursor),u=t.getBoundingClientRect(),c={top:a.top+u.top,left:a.left+u.left};return v({start:c.left,top:c.top,width:0},e,t,o,r)}(r,c,n,i);a({start:e,top:t,maxHeight:l})}}},[u,t,i,r,n,c]);(0,l.useEffect)(()=>{s();let e=g()(s,150);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[s]);let m=(0,l.useMemo)(()=>0!==o.start||0!==o.top,[o]);return{position:o,isCalculated:m}};var y={alternativesMenu:"alternativesMenu-module--alternativesMenu--mYL08"};let S=e=>{let{isOpen:t=!1,isRtl:n=!1,targetPopupInfo:r,isNewTextareaActive:i,closeMenu:s,applyAlternative:g}=e,{0:d,1:f}=(0,l.useState)(null),m=(0,l.useRef)(null),{registerItem:p,items:h}=(0,u.I)(),{position:v,isCalculated:S}=x({isNewTextareaActive:i,isRtl:n,targetPopupInfo:r,popupElement:d}),{0:w,1:C}=(0,l.useState)(),E=(0,l.useMemo)(()=>h.find(e=>e.item.postfix===w),[h,w]);return((0,c.f)({containerElement:m.current,selectedItem:E,items:h,onSelectItem:(e,t)=>C(null==t?void 0:t.item.postfix),onEnter:e=>e&&g(e.item),onAnyOtherKeyPressed:s}),(0,a.u)(r.data.type,!!E,r.targetSentence),S)?l.createElement(o.q,{"data-testid":"alternatives-menu",ref:f,className:y.alternativesMenu,open:t,target:{top:v.top,[n?"right":"left"]:v.start+(n?16:-16)},onOutsideClick:s},l.createElement(o.q.List,{"data-testid":"list",ref:m,style:{maxHeight:v.maxHeight,scrollbarWidth:"thin"}},!r.data.isComplete&&l.createElement(o.q.Item,{item:"loading"},"..."),r.data.entries.map((e,t)=>l.createElement(o.q.Item,{"data-testid":`item_${t}`,key:e.postfix,ref:e=>p(e,t),noWrap:"alternatives"===r.data.type,item:e,selected:e.postfix===w,dir:n?"rtl":"ltr",onClick:g,onSelect:e=>C(e.postfix)},e.displayPostfix)))):null},w=e=>{let{isNewTextareaActive:t,isAutoCompletionOnly:n,isRtl:r}=e,o=(0,i.O)();if(!o||!o.targetPopupInfo)return null;let{closePopup:a,isPopupOpen:u,applyAlternative:c,targetPopupInfo:s}=o;return!u||n&&"autocompletion"!==s.trigger?null:l.createElement(S,{isOpen:u,targetPopupInfo:s,isNewTextareaActive:t,isRtl:r,applyAlternative:e=>c(s.data.type,s.targetSentence,s.globalCursor,e,s.data.entries.findIndex(t=>e.postfix===t.postfix)),closeMenu:a})}},97306:function(e,t,n){n.d(t,{L:function(){return i},o:function(){return l}});var r=n(27378);let l=r.createContext(void 0),i=e=>r.createElement(l.Provider,e)}}]);