!function(n){var r={};function c(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=n,c.c=r,c.d=function(exports,e,t){c.o(exports,e)||Object.defineProperty(exports,e,{enumerable:!0,get:t})},c.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c(c.s=0)}([function(e,exports){var t="https://webresource.c-ctrip.com/ares2/fx/nfesServiceworker/0.1.4/default/serviceWorker.wasm",s="mfe-hp-sw-cache-v1",i=!1,f=null,a=null,c=!1,l=!1;try{var n=self.location.search;if(n)for(var r=n.replace("?","").split("&"),u=0;u<r.length;u++){var o,h=(o=r[u].split("="))[0],p=o[1];"isSupportWebP"===h&&("boolean"==typeof p?i=p:"string"==typeof p&&(i="true"===p)),"disablesw"===h&&(l=!(1!=p))}}catch(e){}function d(){var n,r;return c||(n=new Request(t),a=new WebAssembly.Memory({initial:2}),r=function(e){return e.arrayBuffer().then(function(e){return WebAssembly.compile(e)}).then(function(e){return WebAssembly.instantiate(e,{env:{memory:a}})}).then(function(e){f=e.exports;for(var t=null;t=b.shift();)t()}).catch(function(e){y=!0;for(var t=null;t=m.shift();)t(e)})},caches.match(n).then(function(e){if(e)return r(e);fetch(t).then(function(t){caches.open(s).then(function(e){e.put(n,t.clone()),r(t)})})})),c=!0,new Promise(function(e,t){f?e():y?t():(b.push(e),m.push(t))})}var b=[],m=[],y=!1,v=(self.addEventListener("install",function(e){self.skipWaiting()}),self.addEventListener("activate",function(e){self.clients.claim(),i||"undefined"==typeof WebAssembly||f||d()}),new RegExp("http(s)?://(images4|youimg1|(dimg([0-1][0-9]|20))).c-ctrip.com","i"));self.addEventListener("fetch",function(o){function e(t,n,r){o.respondWith(caches.match(o.request).then(function(e){if(e&&!c)return e;e=t;return r||(e=o.request.clone()),fetch(e).then(function(t){return t&&200===t.status?n?t:caches.open(s).then(function(e){return e.put(o.request,t.clone()),t}):r?fetch(o.request).catch(function(e){}):t}).catch(function(){if(r)return fetch(o.request).catch(function(e){})})}).catch(function(){return fetch(o.request).catch(function(e){})}))}var t,c=!1,n=o.request.clone().url,r=n.split("?"),u=r[1],u=(u&&u.includes&&u.includes("nocache=1")&&(c=!0),!0);if(r[0]&&(u=!/\.webp$/i.test(r[0])),/\.(png|jpg|jpeg)/gi.test(o.request.url)&&!l&&u)return!(u=i)&&o.request.headers.has("accept")&&(u=o.request.headers.get("accept").includes("webp")),r[0]+="_.webp",t=r.join("?"),(r=o.request.url)&&v.test(r)?u?e(t,null,!0):"undefined"==typeof WebAssembly?e(n):void o.respondWith(caches.match(o.request).then(function(e){return e||new Promise(function(i){try{d().then(function(){fetch(t).then(function(e){return e.arrayBuffer()}).then(function(e){f.reset();var e=new Uint8Array(e),t=f.malloc(e.length),n=f.malloc(4),r=f.malloc(4),t=((c=new Uint8Array(a.buffer)).set(e,t),f.webpToBmp(t,e.length,n,r)),e=new DataView(a.buffer),c=new Uint8Array(a.buffer),n=e.getUint32(t+2,!0),r=c.slice(t,t+n),e=new Blob([r],{type:"image/bmp"}),u=new Response(e,{status:200});f.reset(),i(caches.open(s).then(function(e){return e.put(o.request,u.clone()),u}))}).catch(function(){return i(fetch(o.request).catch(function(){}))})}).catch(function(){return i(fetch(o.request).catch(function(){}))})}catch(e){return i(fetch(o.request).catch(function(){}))}})})):e(n)}),self.addEventListener("message",function(e){try{var t=JSON.parse(e.data);i=t.isSupportWebP}catch(e){}})}]);