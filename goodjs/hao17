define("indexnew:static/js/wave/wave.js",["global","module","exports","require","indexnew:static/js/browser.js","indexnew:static/js/log.js"],function(e,t,a,i,n,s){function o(e,t,a){try{return Math.floor(Math.random()*(Math.abs(t)+Math.abs(a))+(e-a))}catch(i){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:i.message||i.description,path:"indexnew:static/js/wave/wave.js",ln:55})}}function c(e,t){try{return Math.round(Math.abs((e-t)/2))}catch(a){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"indexnew:static/js/wave/wave.js",ln:58})}}function r(e,t){try{return c(e,t)+Math.min(e,t)}catch(a){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"indexnew:static/js/wave/wave.js",ln:61})}}function l(){try{return Array.prototype.join.call(arguments," ")}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message||e.description,path:"indexnew:static/js/wave/wave.js",ln:65})}}function p(e){try{return function(){try{Array.prototype.forEach.call(Array.isArray(arguments[0])?arguments[0]:arguments,function(t){try{e.appendChild(t)}catch(a){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"indexnew:static/js/wave/wave.js",ln:72})}})}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:static/js/wave/wave.js",ln:73})}}}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:static/js/wave/wave.js",ln:74})}}function d(e,t){try{return(t||document).querySelector(e)}catch(a){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"indexnew:static/js/wave/wave.js",ln:77})}}function f(e,t){try{return(t||document).querySelectorAll(e)}catch(a){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"indexnew:static/js/wave/wave.js",ln:80})}}function g(e,t,a){try{var i=document.createElementNS("http://www.w3.org/2000/svg",e);for(var n in t)i.setAttributeNS(null,n,t[n]);return a&&(i.textContent=a),i}catch(s){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:s.message||s.description,path:"indexnew:static/js/wave/wave.js",ln:88})}}function h(e,t,a){try{A(Object.assign({},{page:"index",level:1,type:"auto",monkey:"realtimepulse_"+(b||""),log_type:t,title:e,isHit:k},a))}catch(i){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:i.message||i.description,path:"indexnew:static/js/wave/wave.js",ln:99})}}function w(e){try{return function(){try{window.open(e.url,"_blank"),h(e.word,"click",{jump_url:e.url})}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:static/js/wave/wave.js",ln:104})}}}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:static/js/wave/wave.js",ln:105})}}function u(e,t,a){try{return{x:e,y:t,pre:a}}catch(i){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:i.message||i.description,path:"indexnew:static/js/wave/wave.js",ln:112})}}function v(e){try{var t=e.getBBox();return{x:t.x,y:t.y,dx:t.x+t.width,dy:t.y+t.height}}catch(a){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"indexnew:static/js/wave/wave.js",ln:116})}}function m(e,t){try{return l("M",e,t,"L",e+4,t+4,e,t+8)}catch(a){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"indexnew:static/js/wave/wave.js",ln:119})}}function y(e,t,a,i,n,s,h,y,x){try{for(var j=x||150,b=t+10,k=g("g",{}),M=g("g",{"class":"shadow-group"}),A=g("g",{"class":"move"}),_=g("g",{"class":"g"+n}),E="",L=[],N=e.map(function(e,a){try{var i=4*a*j+j,n=o(b,h,y),c=s?n:t,r=g("g",{"class":"point-hover"}),l=s?i+2*j:i,d=s?b:c;p(r)(g("circle",{cx:l,cy:d,r:5,"class":"animate-circle"}),g("circle",{cx:l,cy:d,r:2,"class":"normal-circle"}),g("text",{x:l,y:d+20,"class":"point-text"},e.word)),r.addEventListener("click",w(e)),L.push(r);var f={};return f.word=e.word,f.url=e.url,f.x=i,f.y=c,f.randomY=n,f}catch(u){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:u.message||u.description,path:"indexnew:static/js/wave/wave.js",ln:152})}}),B=N.reduce(function(e,t){try{var i=u(t.x-j,a,e);t.pre=i,t.high=!0;var n=u(t.x+j,a,t),o=u(t.x+2*j,s?b:t.randomY,n);return o.gap=!0,o}catch(c){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:c.message||c.description,path:"indexnew:static/js/wave/wave.js",ln:161})}},null),C=tail={pre:B,x:B.x+j,y:a};tail&&tail.pre;){var G=[r(tail.x,tail.pre.x),r(tail.y,tail.pre.y)],S=c(tail.y,tail.pre.y),q=.6;q=10>=S?.4:12>=S?.5:16>=S?.6:18>=q?.7:20>=S?.8:.9;var T=Math.round(S*q),H=tail.y>tail.pre.y,P=[G[0],H?G[1]-T:G[1]+T],Y=[G[0],H?G[1]+T:G[1]-T];E=l("C",P[0],P[1],Y[0],Y[1],tail.x,tail.y,E),tail=tail.pre}var I=l(l("M","0",a),E,l("L",C.x,i,0,i)),O=g("path",{"class":"wave",d:I});p(k)(O),p(k)(L),p(M)(O.cloneNode()),p(M)(L.map(function(t,a){try{var i=t.cloneNode(!0);return i.addEventListener("click",w(e[a])),i}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"indexnew:static/js/wave/wave.js",ln:200})}})),p(A)(k,M),p(_)(A),p(d("#wave-box"))(_),Array.prototype.forEach.call(f(".point-hover",_),function(e){try{var t=v(d("text",e)),a=g("path",{"class":"point-arrow-left",d:m(t.dx+4,t.y+5)}),i=g("path",{"class":"point-arrow-right",d:m(t.dx+2+7,t.y+5)});p(e)(a,i)}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"indexnew:static/js/wave/wave.js",ln:215})}})}catch(R){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:R.message||R.description,path:"indexnew:static/js/wave/wave.js",ln:216})}}function x(){try{var e=document.createElement("div");return e.className="realtimepulse-"+b||"",e.innerHTML=_,e}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:static/js/wave/wave.js",ln:223})}}function j(e,t){try{var a=e.data;a&&a.length>=60&&!d("#realtimepulse")&&!M.ie&&!M.isIpad()&&(b=t,k=e.hit,setTimeout(function(){try{if("feed"===t){var e=d("#feed_news_list");e.insertBefore(x(),e.childNodes[1])}else{if("left"!==t)return;var i=d("#left-realtimepulse");i.appendChild(x())}var n=a.slice(0,20),s=a.slice(20,40),o=a.slice(40,60),c=!0,r="left"===t?100:150,l=4*r*20;d("rect",d("#clip-wave")).setAttribute("width",l-2),y(n,5,40,98,1,!1,10,10,r),y(s,26,75,98,2,!0,30,0,r),y(o,54,83,98,3,!0,10,10,r),"feed"===t&&d("#realtime-switch").addEventListener("click",function(){try{d("#realtimepulse").setAttribute("class",c?"realtime-wave-fold":""),h(c?"fold_realtimepulse":"unfold_realtimepulse","click"),c=!c}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message||e.description,path:"indexnew:static/js/wave/wave.js",ln:255})}}),h("realtimepulse_show","show")}catch(p){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:p.message||p.description,path:"indexnew:static/js/wave/wave.js",ln:257})}},0))}catch(i){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:i.message||i.description,path:"indexnew:static/js/wave/wave.js",ln:259})}}var b,k,M=n,A=s,_=['<div id="realtimepulse" monkey="realtimepulse">','<div id="realtime-switch">',"实时脉搏",'<svg version="1.1"','id="wave-arrow"','width="14"','height="14"','xmlns="http://www.w3.org/2000/svg"','viewBox="0 0 100 100"',">",'<path d="M 10 70 L 50 30 90 70"','stroke-linecap="round"','stroke-linejoin="round"','stroke="#0AA770"','stroke-width="10"','fill="transparent"></path>',"</svg>","</div>",'<div class="realtime-wave-box">','<svg version="1.1"','id="wave-box"','width="840"','height="98"','xmlns="http://www.w3.org/2000/svg">',"<defs>",'<linearGradient id="fill-fast">','<stop offset="0%" stop-color="#a3f8ad" stop-opacity="0.4"></stop>','<stop offset="50%" stop-color="#8bd1b7" stop-opacity="0.4"></stop>','<stop offset="100%" stop-color="#a3f8ad" stop-opacity="0.4"></stop>',"</linearGradient>",'<linearGradient id="fill-normal">','<stop offset="0%" stop-color="#79deb5" stop-opacity="0.4"></stop>','<stop offset="50%" stop-color="#a1ea96" stop-opacity="0.4"></stop>','<stop offset="100%" stop-color="#79deb5" stop-opacity="0.4"></stop>',"</linearGradient>",'<clipPath id="clip-wave">','<rect x="1" y="0" width="11998" height="98"></rect>',"</clipPath>","</defs>","</svg>","</div>","</div>"].join("");t.exports={initRealTimeWave:j}});