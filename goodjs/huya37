(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[223],{35:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(a,e,t,n,i){var s=e.split("\n"),p=Math.max(n-3,0),_=Math.min(s.length,n+3),l=i(t),c=s.slice(p,_).map((function(a,e){var t=e+p+1;return(t==n?" >> ":"    ")+t+"| "+a})).join("\n");throw a.path=l,a.message=(l||"ejs")+":"+n+"\n"+c+"\n\n"+a.message,a},escapeFn=escapeFn||function(a){return null==a?"":String(a).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(a){return _ENCODE_HTML_RULES[a]||a}var __line=1,__lines="<%\n\n    for(var i = 0, len=list.length; i<len; i ++){\n        var data = list[i];\n        // data.attribute.ListPos1 = {\n        //     'sBackImage': 'https://test-huyaimg.msstatic.com/cdnimage/cornermark/phpByNY3M1685441362.png',\n        //     'sIcon': 'https://test-huyaimg.msstatic.com/cdnimage/cornermark/phpC4AVqL1685441361.png',\n        //     'sContent': '有有有有有有'\n        // }\n%>\n<li class=\"game-live-item\" gid=\"<%=data['gid']%>\" data-gid=\"<%=data['gid']%>\" data-lp=\"<%=data['uid']%>\">\n    <%\n    \tvar url = '';\n    \tvar target = '';\n\n    \tif(window.IS_UNION) {\n    \t\turl = TT.app.main + 'union/'+ TT.createRoomHost(data.privateHost, data.profileRoom) + '?promoter=' + TT.promoter;\n    \t\ttarget = '_self';\n    \t}else {\n\t\t\turl = TT.app.main + TT.createRoomHost(data.privateHost, data.profileRoom);\n\t\t\ttarget = '_blank';\n    \t}\n        \n        if(data['screenType'] == 1 && data['liveSourceType'] == 2){\n            var screenshot = TT.createScreenshot(data['screenshot'], {w: 190, h: 338, r: 270})\n        }else{\n            var screenshot = TT.createScreenshot(data['screenshot'], {w: 338, h: 190})\n        }\n\n        var nick = '';\n        var introduction = '';\n        var gameFullName = '';\n        if(typeof noEscape == 'undefined' || !noEscape){\n            nick = HUYA_UTIL.xssFilter(HUYA_UTIL.unescape(data['nick']));\n            introduction = HUYA_UTIL.xssFilter(HUYA_UTIL.unescape(data['introduction']));\n            gameFullName = HUYA_UTIL.xssFilter(HUYA_UTIL.unescape(data['gameFullName']));\n        }else{\n            nick = data['nick'];\n            introduction = data['introduction'];\n            gameFullName = data['gameFullName'];\n        }\n    %>\n    <a href=\"<%=url%>\" class=\"video-info <%= data['imgRecInfo'] ? 'clickstat' : ''%>\" target=\"<%=target%>\" <% if( data['imgRecInfo'] ){ %> eid=\"click/position/<%=data['gid']%>/<%=data['imgRecInfo']['type']%>/<%=data['uid']%>\" eid_desc=\"点击/位置/<%= gameFullName %>/<%=data['imgRecInfo']['typeDesc']%>/<%=data['uid']%>\" <% } %>>\n        <img class=\"pic\" data-original=\"<%=TT.trimUrl(screenshot)%>\" src=\"//a.msstatic.com/huya/main/assets/img/default/338x190.jpg\" data-default-img=\"338x190\" alt=\"<%= HUYA_UTIL.unescape(nick) %>的直播\" title=\"<%= HUYA_UTIL.unescape(nick) %>的直播\">\n        <% if (data['roomPayTag']) { %>\n            <em class=\"tag tag-payRoom\"><%= data['roomPayTag'] %></em>\n        <% } else if (data['isGaming'] && data['isGaming'] == 1) { %>\n            <em class=\"tag tag-gaming\"></em>\n        <% } else if(data['attribute'] && data['attribute']['ListPos1'] && data['attribute']['ListPos1']['sBackImage']) {\n            var tagIcon = TT.trimUrl(data.attribute.ListPos1.sIcon && data.attribute.ListPos1.sIcon.replace(/<ua>|&lt;ua&gt;/, '3').replace(/<client>|&lt;client&gt;/, 'web'));\n            var tagImage = TT.trimUrl(data.attribute.ListPos1.sBackImage && data.attribute.ListPos1.sBackImage.replace(/<ua>|&lt;ua&gt;/, '3').replace(/<client>|&lt;client&gt;/,'web'));\n        %>\n            <p class=\"tag-backImage\" style=\"background: url(<%= tagImage %>) no-repeat;\">\n                <% if (tagIcon !== '') { %>\n                    <img class=\"tag-leftIcon\" src=\"<%= tagIcon %>\">\n                <% } %>\n                <em class=\"content\" style=\"padding-left: <%= tagIcon !== '' ? '0px' : '4px' %>\"><%= data.attribute.ListPos1.sContent %></em>\n            </p>\n        <% } else if(data['attribute'] && data['attribute']['ListPos1'] && data['attribute']['ListPos1']['sIcon']) { %>\n            <img class=\"tag-leftTopImg\" src=\"<%= TT.trimUrl(data.attribute.ListPos1.sIcon && data.attribute.ListPos1.sIcon.replace(/<ua>|&lt;ua&gt;/, '3').replace(/<client>|&lt;client&gt;/, 'web')) %>\">\n        <% } else if(data['attribute'] && data['attribute']['ListPos1'] && data['attribute']['ListPos1']['sContent']) { %>\n            <em class=\"tag tag-recommend\"><%= data.attribute.ListPos1.sContent %></em>\n        <% } else if(data['recommendTagName']) { %>\n            <em class=\"tag tag-recommend\"><%= data['recommendTagName'] %></em>\n        <% } %>\n\n\n        <% if (data['attribute'] && data['attribute']['ListPos10'] && data['attribute']['ListPos10']['sContent']) {  %>\n          <em class=\"tag tag-leftBottom\"><%=data.attribute.ListPos10.sContent%></em>\n        <% } %>\n\n        <div class=\"item-mask\"></div>\n        <i class=\"btn-link__hover_i\"></i>\n\n        <p class=\"tag-right\">\n        \x3c!-- 手机开播 --\x3e\n        <% if(data['isPhoneLive']==1){ %><em class=\"tag-phone\"></em><% } %>\n        \n        \x3c!-- VR直播 --\x3e\n        <% if( data.attribute && data.attribute.VR && data.attribute.VR.sContent ) { %>\n            <em class=\"tag-vr\"><%= data.attribute.VR.sContent %></em>\n        <% } else { %>\n\n            \x3c!-- 蓝光 --\x3e\n            <% if( typeof rankStart=='undefined' && data['isGreatVoice']==1){ %>\n                <em class=\"tag-lossless\">无损音质</em>\n            <% }else if(typeof rankStart=='undefined' && data['isBluRay']==1){ %>\n                <em class=\"tag-blue\">蓝光<%=data['bluRayMBitRate']%></em>\n            <% } %>\n\n        <% } %>\n\n        \x3c!-- 直播间推荐rank --\x3e\n        <% if( typeof rankStart!= 'undefined'){%>\n            <em class=\"tag-rank tag-rank-<%=rankStart+i%>\">No.<%=rankStart+i%></em>\n        <% }%>\n        \n        <% if(data['imgRecInfo']){ \n            var tagType = data['imgRecInfo']['type'];\n            var tagValue = data['imgRecInfo']['value'];\n        %>\n            <% if(tagType == 'killNum' && tagValue > 0){ %>\n                \x3c!-- 击杀 --\x3e\n                <em class=\"tag-save\"><i class=\"save-amount\"><%=tagValue%></i><i class=\"save-icon\">击杀</i></em>\n            <% }else if(tagType == 'aliveNum' && tagValue > 0 && tagValue <= 30){ %>\n                \x3c!-- 存活 --\x3e\n                <em class=\"tag-save\"><i class=\"save-amount\"><%=tagValue%></i><i class=\"save-icon\">存活</i></em>\n            <% }else if(tagType == 'isDancing' && tagValue > 0){ %>\n                \x3c!-- 热舞 --\x3e\n                <em class=\"tag-dancing\"></em>\n            <% }else if(tagType == 'isSinging' && tagValue > 0){ %>\n                \x3c!-- 唱歌 --\x3e\n                <em class=\"tag-singing\"></em>\n            <% } %>\n        <% } %>\n\n        <% if (data.attribute && data.attribute.ListPos2) { \n            var tagIcon2 = TT.trimUrl( data.attribute.ListPos2.sIcon && data.attribute.ListPos2.sIcon.replace(/<ua>|&lt;ua&gt;/, '3').replace(/<client>|&lt;client&gt;/, 'web') );\n            var tagImage = TT.trimUrl(data.attribute.ListPos2.sBackImage && data.attribute.ListPos2.sBackImage.replace(/<ua>|&lt;ua&gt;/, '3').replace(/<client>|&lt;client&gt;/,'web'));%>\n\n            <% if (data.attribute.ListPos2.sBackImage) { %>\n                </p><p class=\"tag-backImage\" style=\"background: url(<%=tagImage%>) no-repeat;\">\n                    <% if (tagIcon2 !='' ) { %>\n                        <img class=\"tag-leftIcon\" src=\"<%=tagIcon2%>\">\n                    <% } %>\n                    <em class=\"content\" style=\"padding-left: <%=tagIcon2 != '' ? '0px' : '4px'%>;\">\n                        <%=data.attribute.ListPos2.sContent%>\n                    </em>\n                </p>\n            <% } else if (tagIcon2 != '') { %>\n                <img class=\"tag-pos2-icon\" src=\"<%=tagIcon2%>\">\n            <% } else if (data.attribute.ListPos2.sContent) { %>\n                <em class=\"tag-pos2-content\"><%=data.attribute.ListPos2.sContent%></em>\n            <% } %>\n        <% } %>\n        <p></p>\n\n        \x3c!-- 分享 --\x3e\n        <% if( data.rankLabel ){%>\n            <em class=\"tag tag-hot\"><%=data.rankLabel%></em>\n        <% }%>\n    </a>\n    <a href=\"<%=url%>\" class=\"title\" target=\"<%=target%>\" title=\"<%= HUYA_UTIL.unescape(introduction) %>\"><%= HUYA_UTIL.unescape(introduction) %></a>\n    <span class=\"txt\">\n        <span class=\"avatar fl\">\n            <img data-original=\"<%=TT.trimUrl(data['avatar180'])%>\" src=\"//a.msstatic.com/huya/main/assets/img/default/84x84.jpg\" data-default-img=\"84x84\" alt=\"<%= HUYA_UTIL.unescape(nick) %>\" title=\"<%= HUYA_UTIL.unescape(nick) %>\">\n            <i class=\"nick\" title=\"<%=HUYA_UTIL.unescape(nick)%>\"><%=HUYA_UTIL.unescape(nick)%></i>\n        </span>\n        <%\n            if(gameType) {\n                if( data['gameHostName'] != \"\"){\n                    var gameTypeUrl = TT.app.main+\"g/\" + data['gameHostName'];\n                }else{\n                    var gameTypeUrl = TT.app.main+\"g/\" + data['gid'];\n                }\n        %>\n        <span class=\"game-type fr\"><a target=\"_blank\" href=\"<%=gameTypeUrl%>\" title=\"<%= gameFullName %>\"><%= HUYA_UTIL.unescape(gameFullName) %></a></span>\n        <% }  %>\n        <span class=\"num\"><i class=\"num-icon\"></i><i class=\"js-num\"><%=format.formatNumber(data['totalCount'])%></i></span>\n    </span>\n</li>\n<%}%>\n",__filename="widget/game-live-item/game-live-item.tmpl";try{var __output="";function __append(a){null!=a&&(__output+=a)}with(locals||{}){for(var i=0,len=list.length;i<len;i++){var data=list[i];__line=10,__append('\n<li class="game-live-item" gid="'),__line=11,__append(escapeFn(data.gid)),__append('" data-gid="'),__append(escapeFn(data.gid)),__append('" data-lp="'),__append(escapeFn(data.uid)),__append('">\n    '),__line=12;var url="",target="";if(window.IS_UNION?(url=TT.app.main+"union/"+TT.createRoomHost(data.privateHost,data.profileRoom)+"?promoter="+TT.promoter,target="_self"):(url=TT.app.main+TT.createRoomHost(data.privateHost,data.profileRoom),target="_blank"),1==data.screenType&&2==data.liveSourceType)var screenshot=TT.createScreenshot(data.screenshot,{w:190,h:338,r:270});else var screenshot=TT.createScreenshot(data.screenshot,{w:338,h:190});var nick="",introduction="",gameFullName="";if("undefined"!=typeof noEscape&&noEscape?(nick=data.nick,introduction=data.introduction,gameFullName=data.gameFullName):(nick=HUYA_UTIL.xssFilter(HUYA_UTIL.unescape(data.nick)),introduction=HUYA_UTIL.xssFilter(HUYA_UTIL.unescape(data.introduction)),gameFullName=HUYA_UTIL.xssFilter(HUYA_UTIL.unescape(data.gameFullName))),__line=42,__append('\n    <a href="'),__line=43,__append(escapeFn(url)),__append('" class="video-info '),__append(escapeFn(data.imgRecInfo?"clickstat":"")),__append('" target="'),__append(escapeFn(target)),__append('" '),data.imgRecInfo&&(__append(' eid="click/position/'),__append(escapeFn(data.gid)),__append("/"),__append(escapeFn(data.imgRecInfo.type)),__append("/"),__append(escapeFn(data.uid)),__append('" eid_desc="点击/位置/'),__append(escapeFn(gameFullName)),__append("/"),__append(escapeFn(data.imgRecInfo.typeDesc)),__append("/"),__append(escapeFn(data.uid)),__append('" ')),__append('>\n        <img class="pic" data-original="'),__line=44,__append(escapeFn(TT.trimUrl(screenshot))),__append('" src="//a.msstatic.com/huya/main/assets/img/default/338x190.jpg" data-default-img="338x190" alt="'),__append(escapeFn(HUYA_UTIL.unescape(nick))),__append('的直播" title="'),__append(escapeFn(HUYA_UTIL.unescape(nick))),__append('的直播">\n        '),__line=45,data.roomPayTag)__append('\n            <em class="tag tag-payRoom">'),__line=46,__append(escapeFn(data.roomPayTag)),__append("</em>\n        "),__line=47;else if(data.isGaming&&1==data.isGaming)__append('\n            <em class="tag tag-gaming"></em>\n        '),__line=49;else if(data.attribute&&data.attribute.ListPos1&&data.attribute.ListPos1.sBackImage){var tagIcon=TT.trimUrl(data.attribute.ListPos1.sIcon&&data.attribute.ListPos1.sIcon.replace(/<ua>|&lt;ua&gt;/,"3").replace(/<client>|&lt;client&gt;/,"web")),tagImage=TT.trimUrl(data.attribute.ListPos1.sBackImage&&data.attribute.ListPos1.sBackImage.replace(/<ua>|&lt;ua&gt;/,"3").replace(/<client>|&lt;client&gt;/,"web"));__line=52,__append('\n            <p class="tag-backImage" style="background: url('),__line=53,__append(escapeFn(tagImage)),__append(') no-repeat;">\n                '),__line=54,""!==tagIcon&&(__append('\n                    <img class="tag-leftIcon" src="'),__line=55,__append(escapeFn(tagIcon)),__append('">\n                '),__line=56),__append('\n                <em class="content" style="padding-left: '),__line=57,__append(escapeFn(""!==tagIcon?"0px":"4px")),__append('">'),__append(escapeFn(data.attribute.ListPos1.sContent)),__append("</em>\n            </p>\n        "),__line=59}else data.attribute&&data.attribute.ListPos1&&data.attribute.ListPos1.sIcon?(__append('\n            <img class="tag-leftTopImg" src="'),__line=60,__append(escapeFn(TT.trimUrl(data.attribute.ListPos1.sIcon&&data.attribute.ListPos1.sIcon.replace(/<ua>|&lt;ua&gt;/,"3").replace(/<client>|&lt;client&gt;/,"web")))),__append('">\n        '),__line=61):data.attribute&&data.attribute.ListPos1&&data.attribute.ListPos1.sContent?(__append('\n            <em class="tag tag-recommend">'),__line=62,__append(escapeFn(data.attribute.ListPos1.sContent)),__append("</em>\n        "),__line=63):data.recommendTagName&&(__append('\n            <em class="tag tag-recommend">'),__line=64,__append(escapeFn(data.recommendTagName)),__append("</em>\n        "),__line=65);if(__append("\n\n\n        "),__line=68,data.attribute&&data.attribute.ListPos10&&data.attribute.ListPos10.sContent&&(__append('\n          <em class="tag tag-leftBottom">'),__line=69,__append(escapeFn(data.attribute.ListPos10.sContent)),__append("</em>\n        "),__line=70),__append('\n\n        <div class="item-mask"></div>\n        <i class="btn-link__hover_i"></i>\n\n        <p class="tag-right">\n        \x3c!-- 手机开播 --\x3e\n        '),__line=77,1==data.isPhoneLive&&__append('<em class="tag-phone"></em>'),__append("\n        \n        \x3c!-- VR直播 --\x3e\n        "),__line=80,data.attribute&&data.attribute.VR&&data.attribute.VR.sContent?(__append('\n            <em class="tag-vr">'),__line=81,__append(escapeFn(data.attribute.VR.sContent)),__append("</em>\n        "),__line=82):(__append("\n\n            \x3c!-- 蓝光 --\x3e\n            "),__line=85,"undefined"==typeof rankStart&&1==data.isGreatVoice?(__append('\n                <em class="tag-lossless">无损音质</em>\n            '),__line=87):"undefined"==typeof rankStart&&1==data.isBluRay&&(__append('\n                <em class="tag-blue">蓝光'),__line=88,__append(escapeFn(data.bluRayMBitRate)),__append("</em>\n            "),__line=89),__append("\n\n        "),__line=91),__append("\n\n        \x3c!-- 直播间推荐rank --\x3e\n        "),__line=94,"undefined"!=typeof rankStart&&(__append('\n            <em class="tag-rank tag-rank-'),__line=95,__append(escapeFn(rankStart+i)),__append('">No.'),__append(escapeFn(rankStart+i)),__append("</em>\n        "),__line=96),__append("\n        \n        "),__line=98,data.imgRecInfo){var tagType=data.imgRecInfo.type,tagValue=data.imgRecInfo.value;__line=101,__append("\n            "),__line=102,"killNum"==tagType&&tagValue>0?(__append('\n                \x3c!-- 击杀 --\x3e\n                <em class="tag-save"><i class="save-amount">'),__line=104,__append(escapeFn(tagValue)),__append('</i><i class="save-icon">击杀</i></em>\n            '),__line=105):"aliveNum"==tagType&&tagValue>0&&tagValue<=30?(__append('\n                \x3c!-- 存活 --\x3e\n                <em class="tag-save"><i class="save-amount">'),__line=107,__append(escapeFn(tagValue)),__append('</i><i class="save-icon">存活</i></em>\n            '),__line=108):"isDancing"==tagType&&tagValue>0?(__append('\n                \x3c!-- 热舞 --\x3e\n                <em class="tag-dancing"></em>\n            '),__line=111):"isSinging"==tagType&&tagValue>0&&(__append('\n                \x3c!-- 唱歌 --\x3e\n                <em class="tag-singing"></em>\n            '),__line=114),__append("\n        "),__line=115}if(__append("\n\n        "),__line=117,data.attribute&&data.attribute.ListPos2){var tagIcon2=TT.trimUrl(data.attribute.ListPos2.sIcon&&data.attribute.ListPos2.sIcon.replace(/<ua>|&lt;ua&gt;/,"3").replace(/<client>|&lt;client&gt;/,"web")),tagImage=TT.trimUrl(data.attribute.ListPos2.sBackImage&&data.attribute.ListPos2.sBackImage.replace(/<ua>|&lt;ua&gt;/,"3").replace(/<client>|&lt;client&gt;/,"web"));__line=119,__append("\n\n            "),__line=121,data.attribute.ListPos2.sBackImage?(__append('\n                </p><p class="tag-backImage" style="background: url('),__line=122,__append(escapeFn(tagImage)),__append(') no-repeat;">\n                    '),__line=123,""!=tagIcon2&&(__append('\n                        <img class="tag-leftIcon" src="'),__line=124,__append(escapeFn(tagIcon2)),__append('">\n                    '),__line=125),__append('\n                    <em class="content" style="padding-left: '),__line=126,__append(escapeFn(""!=tagIcon2?"0px":"4px")),__append(';">\n                        '),__line=127,__append(escapeFn(data.attribute.ListPos2.sContent)),__append("\n                    </em>\n                </p>\n            "),__line=130):""!=tagIcon2?(__append('\n                <img class="tag-pos2-icon" src="'),__line=131,__append(escapeFn(tagIcon2)),__append('">\n            '),__line=132):data.attribute.ListPos2.sContent&&(__append('\n                <em class="tag-pos2-content">'),__line=133,__append(escapeFn(data.attribute.ListPos2.sContent)),__append("</em>\n            "),__line=134),__append("\n        "),__line=135}if(__append("\n        <p></p>\n\n        \x3c!-- 分享 --\x3e\n        "),__line=139,data.rankLabel&&(__append('\n            <em class="tag tag-hot">'),__line=140,__append(escapeFn(data.rankLabel)),__append("</em>\n        "),__line=141),__append('\n    </a>\n    <a href="'),__line=143,__append(escapeFn(url)),__append('" class="title" target="'),__append(escapeFn(target)),__append('" title="'),__append(escapeFn(HUYA_UTIL.unescape(introduction))),__append('">'),__append(escapeFn(HUYA_UTIL.unescape(introduction))),__append('</a>\n    <span class="txt">\n        <span class="avatar fl">\n            <img data-original="'),__line=146,__append(escapeFn(TT.trimUrl(data.avatar180))),__append('" src="//a.msstatic.com/huya/main/assets/img/default/84x84.jpg" data-default-img="84x84" alt="'),__append(escapeFn(HUYA_UTIL.unescape(nick))),__append('" title="'),__append(escapeFn(HUYA_UTIL.unescape(nick))),__append('">\n            <i class="nick" title="'),__line=147,__append(escapeFn(HUYA_UTIL.unescape(nick))),__append('">'),__append(escapeFn(HUYA_UTIL.unescape(nick))),__append("</i>\n        </span>\n        "),__line=149,gameType){if(""!=data.gameHostName)var gameTypeUrl=TT.app.main+"g/"+data.gameHostName;else var gameTypeUrl=TT.app.main+"g/"+data.gid;__line=156,__append('\n        <span class="game-type fr"><a target="_blank" href="'),__line=157,__append(escapeFn(gameTypeUrl)),__append('" title="'),__append(escapeFn(gameFullName)),__append('">'),__append(escapeFn(HUYA_UTIL.unescape(gameFullName))),__append("</a></span>\n        "),__line=158}__append('\n        <span class="num"><i class="num-icon"></i><i class="js-num">'),__line=159,__append(escapeFn(format.formatNumber(data.totalCount))),__append("</i></span>\n    </span>\n</li>\n"),__line=162}__append("\n"),__line=163}return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}}}]);