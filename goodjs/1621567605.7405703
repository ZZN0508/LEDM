/* repo: gdpr-ccpa/HEAD@1bc44e6-dirty - Package Version: 1.0.0 - 2021-05-03 02:12 pm - User:  */
try{if(window.performance.mark("page-load"),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof defines&&defines.amd?define(t):t()}(0,function(){"use strict";function e(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})}function s(e){return!(!e||void 0===e.length)}function o(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function i(n,o){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,a._immediateFn(function(){var e=1===n._state?o.onFulfilled:o.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(e){return void c(o.promise,e)}r(o.promise,t)}else(1===n._state?r:c)(o.promise,n._value)})):n._deferreds.push(o)}function r(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof a)return t._state=3,t._value=e,void d(t);if("function"==typeof n)return void l((o=n,i=e,function(){o.apply(i,arguments)}),t)}t._state=1,t._value=e,d(t)}catch(e){c(t,e)}var o,i}function c(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,r(t,e))},function(e){n||(n=!0,c(t,e))})}catch(e){if(n)return;n=!0,c(t,e)}}var t=setTimeout;a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(o);return i(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},a.prototype.finally=e,a.all=function(t){return new a(function(o,i){function a(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){a(t,e)},i)}r[t]=e,0==--c&&o(r)}catch(e){i(e)}}if(!s(t))return i(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return o([]);for(var c=r.length,e=0;r.length>e;e++)a(e,r[e])})},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a(function(e){e(t)})},a.reject=function(n){return new a(function(e,t){t(n)})},a.race=function(i){return new a(function(e,t){if(!s(i))return t(new TypeError("Promise.race accepts an array"));for(var n=0,o=i.length;n<o;n++)a.resolve(i[n]).then(e,t)})},a._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){t(e,0)},a._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();"Promise"in n?n.Promise.prototype.finally||(n.Promise.prototype.finally=e):n.Promise=a}),-1==window.location.search.indexOf("noonetrust")){!function(){window.webmdCCMReadCookie=function(e){var t=document.cookie.split(";");if("OptanonConsent"===e)return decodeURIComponent(t);for(var n=0;n<t.length;n++){var o=t[n].split("=");if(e==o[0].trim())return decodeURIComponent(o[1])}return null},window.beaconTrackValue=sessionStorage.getItem("beaconTrack")||(generateBeaconTrackValue=Math.floor(4*Math.random())+1,window.sessionStorage.setItem("beaconTrack",generateBeaconTrackValue),generateBeaconTrackValue),window._STATE={},window.isCa=!1,window.gdprTest=-1<window.location.search.indexOf("gdpr"),window.ccpaTest=-1<window.location.search.indexOf("ccpa");var e=window.webmdCCMReadCookie("gtinfo");if(e&&((e=JSON.parse(e))&&e.st&&"ca"===e.st.toLowerCase()||ccpaTest)&&(window.isCa=!0),!window.onetTrustLoaded&&(window.countryBlocked||window.isCa||gdprTest||ccpaTest)){var t=document.createElement("script");t.src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",t.setAttribute("data-document-language","true"),t.type="text/javascript",t.setAttribute("charset","UTF-8"),t.setAttribute("data-domain-script","797d052a-d0f4-447d-b9ae-0a293fb5e41f"),document.getElementsByTagName("head")[0].appendChild(t);var n=document.createElement("script");n.innerHTML="function OptanonWrapper() { }",n.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(n)}if(window.isCa){var o=document.createElement("script"),i="staging"===(-1<window.location.hostname.indexOf("staging")?"staging":"")?"https://img.staging.webmd.com/dtmcms/staging/webmd/consumer_assets/site_images/webmd-ccm/otCCPAiab.min.js":"https://img.webmd.com/dtmcms/live/webmd/consumer_assets/site_images/webmd-ccm/otCCPAiab.min.js";o.setAttribute("src",i),o.setAttribute("type","text/javascript"),o.setAttribute("charset","UTF-8"),o.setAttribute("ccpa-opt-out-ids","C0002,C0004"),o.setAttribute("ccpa-opt-out-geo","all"),o.setAttribute("ccpa-opt-out-lspa","true");var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)}}();var webmdCCMBeacon={getUseragent:function(){var e=window.navigator.userAgent.toLowerCase(),t="desktop";return/android|webos|iphone|ipod|blackberry|iemobile|opera mini/.test(e)?t="mobile":/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e)&&(t="tablet"),t},getEnviroment:function(){var e,t,n=(e=window.location.hostname,t=new RegExp("[a-z-0-9]{2,63}.[a-z.]{2,5}$").exec(e),e.replace(t[0],"").slice(0,-1)),o="live";return-1<n.indexOf("preview")?o="preview":-1<n.indexOf("staging")?o="staging":-1<n.indexOf("qa")&&(o="qa"),o},callWebmdBeacon:function(e){var t={type:"",event:"",location:"",measure:0},n=new Image,o=Math.floor(100*Math.random()),i="",a=window.location.host.replace("www.","")+window.location.pathname||"",r="",c=this.getEnviroment(),s=this.getUseragent();switch(t=Object.assign(t,e),c){case"qa":case"preview":i="preview.";break;case"staging":i="staging.";break;default:i=""}r="//www."+i+"webmd.com/static/v/c?site=webmd&type=one-trust&busref=wcbTracker&wcbType="+t.type+"&wcbEvent="+t.event+"&wcbLocation="+t.location+"&wcbPagename="+a+"&wcbUa="+s+"&wcbMeasure="+t.measure.toFixed(2),1==beaconTrackValue&&(window.navigator.sendBeacon?window.navigator.sendBeacon(r):function e(){window.document.body?(n.src=r,n.id="webmd-tracking-pixel-"+t.type+"-"+o,n.style.display="none",window.document.body.appendChild(n)):setTimeout(e,5)}())}};window.countryBlocked||gdprTest||(window.__tcfapiPromise=new Promise(function(e){window.performance.mark("resolve-ads-immediately"),window.performance.measure("measure-resolve-ads-immediately","page-load","resolve-ads-immediately"),e("NON GDPR location"),window.webmdCCMBeacon.callWebmdBeacon({type:"ccm",event:"resolve-ads-immediately",location:"no-eu",measure:window.performance.getEntriesByName("measure-resolve-ads-immediately","measure")[0].duration})})),window.countryBlocked||gdprTest?(window.__tcfapiPromise=new Promise(function(n,e){var o,i=!1,a=!1;window.document.addEventListener("start-ad-override-timer",function(){o=setTimeout(function(){var e=window.webmdCCMReadCookie("OptanonConsent");-1<e.indexOf("C0002:1")||-1<e.indexOf("C0003:1")||-1<e.indexOf("C0004:1")?(i=!0,window.performance.mark("resolve-3sec-timer"),window.performance.measure("measure-resolve-3sec-timer","page-load","resolve-3sec-timer"),n("TIMEOUT"),window.webmdCCMBeacon.callWebmdBeacon({type:"stub",event:"resolve-3sec-timer",location:"eu",measure:window.performance.getEntriesByName("measure-resolve-3sec-timer","measure")[0].duration})):console.log("not resolving promise as user not consented")},3e3)}),window.__tcfapi=window.__tcfapi||function(){},"function"==typeof window.__tcfapi?window.__tcfapi("addEventListener",2,function(t,e){e&&"tcloaded"===t.eventStatus?(clearTimeout(o),i||a?a||(window.performance.mark("tcfapi-ready-late"),window.performance.measure("measure-tcfapi-ready-late","page-load","tcfapi-ready-late"),window.webmdCCMBeacon.callWebmdBeacon({type:"stub",event:"tcfapi-ready-late",location:"eu",measure:window.performance.getEntriesByName("measure-tcfapi-ready-late","measure")[0].duration}),t.tcString||window.webmdCCMBeacon.callWebmdBeacon({type:"stub",event:"tcfapi-ready-late-no-string",location:"eu"})):(window.performance.mark("resolve-tcfapi-success"),window.performance.measure("measure-resolve-tcfapi-success","page-load","resolve-tcfapi-success"),n("SUCSSESS"),window.webmdCCMBeacon.callWebmdBeacon({type:"stub",event:"resolve-tcfapi-success",location:"eu",measure:window.performance.getEntriesByName("measure-resolve-tcfapi-success","measure")[0].duration}),t.tcString||window.webmdCCMBeacon.callWebmdBeacon({type:"stub",event:"resolve-tcfapi-success-no-string",location:"eu"})),a||t.tcString||window.webmdCCMBeacon.callWebmdBeacon({type:"stub",event:"tcfapi-tcloaded-no-string",location:"eu"}),window.__tcfapi("removeEventListener",2,function(e){window.webmdCCMBeacon.callWebmdBeacon({type:"stub",event:"tcfapi-removed-"+t.eventStatus+"-event",location:"eu"})},t.listenerId),a=!0):e&&"cmpuishown"===t.eventStatus&&(clearTimeout(o),window.gdprMatch||(window.performance.mark("tcfapi-cmpui-shown-waiting"),window.performance.measure("measure-tcfapi-cmpui-shown-waiting","page-load","tcfapi-cmpui-shown-waiting"),window.webmdCCMBeacon.callWebmdBeacon({type:"stub",event:"tcfapi-cmpui-shown-waiting",location:"eu",measure:window.performance.getEntriesByName("measure-tcfapi-cmpui-shown-waiting","measure")[0].duration})))}):window.webmdCCMBeacon.callWebmdBeacon({type:"stub",event:"tcfapi-no-function",location:"eu"})}),window.performance.mark("load-stub"),window.performance.measure("measure-load-stub","page-load","load-stub"),window.webmdCCMBeacon.callWebmdBeacon({type:"stub",event:"load-stub",location:"eu",measure:window.performance.getEntriesByName("measure-load-stub","measure")[0].duration})):window.webmdCCMBeacon.callWebmdBeacon({type:"stub",event:"no-load-stub",location:"no-eu"});var webmdCCM={requireUserExpressedPermission:!0,ccpaBannerLinks:{cookieLink:"",privacyPolicyLink:""},ccpaTestParam:"",init:function(){this.checkDebug(),this.getGeoLocation(),this.getDomain(),this.getSite(),this.setFooterLinks(),window.document.dispatchEvent(new CustomEvent("start-ad-override-timer"))},checkDebug:function(){var e=!1;"URLSearchParams"in window&&("debug"===new URLSearchParams(window.location.search).get("webmdccm")&&(e=!0));this.debug=e},getDomain:function(){var e,t,n=(e=window.location.hostname,t=new RegExp("[a-z-0-9]{2,63}.[a-z.]{2,5}$").exec(e),e.replace(t[0],"").slice(0,-1)),o="webmd.com";(-1<n.indexOf("preview")||-1<n.indexOf("staging")||-1<n.indexOf("devint"))&&(o="webmd_iab.com"),this.domain=o,this.log("Enviroment set as "+this.domain)},log:function(e,t){window.console&&this.debug&&(void 0===t?"string"==typeof e?window.console.log("WebMD CCM Debugger: "+e):window.console.log("WebMD CCM Debugger: ",e):window.console.log("WebMD CCM Debugger: "+e,t))},getSite:function(){var e="";-1<window.location.hostname.indexOf("webmd.com")?e={name:"webmd",type:"consumer"}:-1<window.location.hostname.indexOf("vitals.com")?e={name:"vitals",type:"consumer"}:-1<window.location.hostname.indexOf("medicinenet.com")?e={name:"medicinenet",type:"oo"}:-1<window.location.hostname.indexOf("emedicinehealth.com")?e={name:"emedicinehealth",type:"oo"}:-1<window.location.hostname.indexOf("rxlist.com")?e={name:"rxlist",type:"oo"}:-1<window.location.hostname.indexOf("onhealth.com")&&(e={name:"onhealth",type:"oo"}),this.site=e},getCookie:function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var o=t[n].split("=");if(e==o[0].trim())return decodeURIComponent(o[1])}return null},getGeoLocation:function(){var e=this.getCookie("gtinfo");e&&"string"==typeof e&&(e=JSON.parse(e),this.geoLocation=e)},setFooterLinks:function(){var t=this;document.addEventListener("DOMContentLoaded",function(e){setTimeout(function(){"oo"===t.site.type&&document.getElementsByClassName("ccpaFtrLnk").length?document.getElementsByClassName("ccpaFtrLnk")[0].style.display="block":t.createFooterLink()},3e3)})},createFooterLink:function(){var e,t,n=window.isCa?"Do Not Sell My Personal Information":"Cookie Settings";this.dnsLnk=document.createElement("button"),this.dnsLnk.setAttribute("id","ot-sdk-btn"),this.dnsLnk.setAttribute("class","ot-sdk-show-settings managepref"),this.dnsLnk.innerHTML=n;var o=document.createElement("style");o.innerHTML=".managepref {text-align:left;background: transparent !important; box-shadow: none !important; border: 0px transparent !important;color: inherit !important;font-size: .875em !important;line-height: 1.66 !important;padding: 0 !important; outline : none;}\n.managepref:hover {text-decoration:underline !important}",document.body.appendChild(o),"vitals"===this.site.name&&(e=document.querySelectorAll(".footer-links-container")).length&&e[0]&&(t=(e=e[0]).getElementsByTagName("li")[3]),window.__INITIAL_STATE__?"webmd"===this.site.name&&(e=document.querySelectorAll(".global-footer ul")).length&&e[1]&&(t=(e=e[1]).getElementsByTagName("li")[3]):document.querySelectorAll(".footer-container .links").length?t=(e=document.querySelectorAll(".footer-container .links"))[0].getElementsByTagName("li")[5]:document.querySelectorAll(".footerContent .about").length?t=(e=document.querySelectorAll(".footerContent .about"))[0].getElementsByTagName("li")[10]:document.querySelectorAll("footer ul.policy").length?t=(e=document.querySelectorAll("footer ul.policy"))[0].getElementsByTagName("li")[3]:document.querySelectorAll("#non_sp_ft_rdr .about").length&&(t=(e=document.querySelectorAll("#non_sp_ft_rdr .about"))[0].getElementsByTagName("a")[1]),void 0!==t&&t.parentNode.insertBefore(this.dnsLnk,t.nextSibling),!window.__INITIAL_STATE__&&window.webmd&&window.webmd.externalLinks&&window.webmd.externalLinks.init()},getBehavior:function(){var e="",t=new RegExp("\\s*notice_behavior\\s*=\\s*([^;]*)").exec(document.cookie);return t&&1<t.length&&(e=t[1]),e}};window.countryBlocked||isCa||gdprTest||ccpaTest?(window.performance.mark("load-one-trust"),window.performance.measure("measure-load-one-trust","page-load","load-one-trust"),webmdCCM.init(),window.webmdCCMBeacon.callWebmdBeacon({type:"one-trust",event:"load-one-trust",location:"eu-ca",measure:window.performance.getEntriesByName("measure-load-one-trust","measure")[0].duration})):window.webmdCCMBeacon.callWebmdBeacon({type:"one-trust",event:"no-load-one-trust",location:"no-eu-no-ca"}),window.addEventListener("load",function(){window.document.body&&window.document.body.addEventListener("click",function(e){(e&&e.target&&!window.isCa&&"onetrust-accept-btn-handler"===e.target.id||"accept-recommended-btn-handler"===e.target.id||"save-preference-btn-handler onetrust-close-btn-handler"===e.target.className)&&window.location.reload()})})}}catch(e){}