"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([[6691],{24352:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(65146),a=n(53864),o="e6k633bx",l=n(79705),i=n.n(l),s=function(e){var t=e.val,n=e.className;return a.createElement("div",{className:i()(o,(0,r.Z)({},null!=n?n:"",n))},t)}},53734:function(e,t,n){n.d(t,{Z:function(){return P}});var r=n(30906),a=n(64408),o=n(32781),l=n(60260),i=n.n(l),s=n(5594),c=n.n(s),u=n(94090),d=n.n(u),f=n(26447),m=n.n(f),v=n(53864),p=n(85011),_="ftrUwgTC",h="MFd1_yMa",g="C9AtxjSN",E="kQre3HiZ",y="KFw7G9eg",S="z69203fg",b="N6mo1tyg",C="ACfjkE_I",w=n(95138),k=n(27809),A=n(65364),N=n(13971),I=n(34547),x=n(353),T=n(89474),L=n(84829),M=n(15504),O=n(46611),Z=n(21160),B=n(82524),F=n(58908),R=function(e){return e[e.NO_TACTICS=0]="NO_TACTICS",e[e.DEFAULT_TACTICS=1]="DEFAULT_TACTICS",e[e.CONFIG_TACTICS=2]="CONFIG_TACTICS",e[e.SWITCH_AUDIO_TACTICS=3]="SWITCH_AUDIO_TACTICS",e}(R||{}),U=function(e){return e.FRONT="visible",e.BACK="hidden",e}(U||{}),D=function(e){var t=e.playerRef,n=e.onClose,r=e.roomId,a=e.anchorId,l=e.countDownSeconds,i=e.reasonType,s=e.setPausePop,c=e.remainPtrRef,u=e.store,f=(0,v.useState)(l),m=(0,o.Z)(f,2),k=m[0],A=m[1],N=(0,v.useRef)(l),I=u.eventStore.playerEvent,x=u.singletonStore.message,L=(0,v.useMemo)((function(){var e;return d()(e="".concat(Math.floor(k/60),":")).call(e,k%60>=10?k%60:k%60?"0".concat(k%60):"00")}),[k]);return(0,v.useEffect)((function(){if(null==I||I.liveConSumeNoMovePopShow({ecom_group_type:"live",content_id:r,author_id:a,reason_type:"detail"===i?"live_play":"other",is_visible:"hidden"===document.visibilityState?0:1}),!T.s){var e=F.Z.setIntervalWarp,n=F.Z.clearIntervalWarp,o=c.current;return o&&n(o),c.current=null==e?void 0:e((function(){if(N.current>0)N.current=N.current-1,A(N.current);else{var e;null==I||I.liveConSumeNoMovePause({ecom_group_type:"live",content_id:r,author_id:a,reason_type:"detail"===i?"live_play":"other",is_visible:"hidden"===document.visibilityState?0:1});var o=null===(e=t.current)||void 0===e?void 0:e.getPlayer();o&&(null==o||o.pause()),r&&"detail"===i&&(null==x||x.pause()),s&&s(!0),A(N.current),(null==c?void 0:c.current)&&(null==n||n(null==c?void 0:c.current))}}),1e3),function(){return(null==c?void 0:c.current)&&(null==n?void 0:n(null==c?void 0:c.current))}}}),[t,r,s,x]),v.createElement("div",{className:_},v.createElement("div",{className:h},"\u76f4\u64ad\u6682\u505c\u63d0\u9192"),v.createElement(p.Z,{className:g,onClick:n}),v.createElement("div",{className:y},v.createElement("div",{className:E},"\u7531\u4e8e\u4f60\u957f\u65f6\u95f4\u65e0\u4efb\u4f55\u64cd\u4f5c\uff0c\u53ef\u80fd\u5df2\u79bb\u5f00\u5c4f\u5e55\uff0c".concat(l/60,"min\u540e\u5c06\u6682\u505c\u64ad\u653e")),v.createElement("div",{className:S},v.createElement("span",{className:b},L)),v.createElement(w.zx,{className:C},"\u4efb\u610f\u64cd\u4f5c\u53ef\u6062\u590d\u64ad\u653e")))},P=function(e){var t=(0,B.Z)(),n=t.eventStore.playerEvent,l=t.singletonStore.message,s=e.roomId,u=e.cameraGroupId,d=e.cameraId,f=e.playerRef,p=e.anchorId,_=e.roomStatus,h=e.webRid,g=e.setRoomStatus,E=e.reasonType,y=e.setPausePop,S=e.strategyConfig,b=(0,v.useRef)(!1),C=(new Date).setHours(0,0,0,0),w=(0,v.useRef)(!1),P=(0,v.useRef)(null),G=(0,v.useState)(null),V=(0,o.Z)(G,2),z=V[0],j=V[1],H=(0,v.useRef)(0),W=(0,v.useRef)(0),K=(0,v.useRef)(null),Y=(0,v.useRef)(null),Q=function(){if(W.current){var e=W.current+(null==z?void 0:z.gapTimer)-m()();return e<0?0:e}return 0},J=(0,v.useCallback)((0,a.Z)(c().mark((function e(){var t,n,r,a,o,l,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window&&window.__INVISIBLE_QUERY__||sessionStorage.getItem("route_params"),n=t&&(null==t?void 0:t.enter_from_merge),e.prev=2,e.next=5,(0,L.el)({webRid:h,roomId:s,enterFromMerge:n});case 5:r=e.sent,a=r.data,o=a.data,l=a.status_code,200===r.status&&0===l&&g&&g(null==o||null===(i=o.data[0])||void 0===i?void 0:i.status),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),M.k.error("\u7528\u6237\u89e3\u9664\u5f39\u7a97,\u8fdb\u623f\u5931\u8d25",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),[g,s,h]),q=(0,v.useCallback)((0,a.Z)(c().mark((function e(){var t,a,o,i,v;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T.s||(t=F.Z.clearIntervalWarp,(null==Y?void 0:Y.current)&&(null==t||t(null==Y?void 0:Y.current)));try{a=(0,N.$o)(x.LocalStorageKeys.LivePausePop)||""}catch(c){a=""}w.current&&(null==n||n.liveConSumeNoMoveReaction({ecom_group_type:"live",content_id:s,author_id:p,reason_type:"detail"===E?"live_play":"other",reaction_duration:a?m()()-(null===(o=a)||void 0===o?void 0:o.lastTimer):0})),J(),b.current=!1,w.current=!1,_!==O.LV.END&&(v=null===(i=f.current)||void 0===i?void 0:i.getPlayer())&&(null==v||v.play()),s&&_!==O.LV.END&&"detail"===E&&(null==l||l.start((0,r.Z)((0,r.Z)({room_id:s},d&&{sub_room_id:d}),u&&{group_id:u}))),y&&y(!1),W.current=m()(),k.U.destroy();case 11:case"end":return e.stop()}}),e)}))),[s,f,g,_,E,p,J,y,Y,l]);(0,Z.Y)((0,v.useCallback)((function(){var e,t=null===(e=f.current)||void 0===e?void 0:e.getPlayer();t&&!t.paused&&(null==n||n.livePcConSumeOnemin({ecom_group_type:"live",is_visible:"hidden"===document.visibilityState?0:1,if_pip:(0,I.DJ)()?1:0}))}),[f]),6e4);var X=(0,v.useCallback)((function(){if(!(0,I.DJ)()&&b.current){var e,n,r;w.current=!0,b.current=!1;try{r=(0,N.$o)(x.LocalStorageKeys.LivePausePop)||""}catch(o){r=""}var a=(null===(e=r)||void 0===e?void 0:e.lastTimer)>C?(null===(n=r)||void 0===n?void 0:n.todayCount)+1:1;try{(0,N.qQ)(x.LocalStorageKeys.LivePausePop,{todayCount:a,lastTimer:m()()})}catch(o){}k.U.renderImmediate({children:v.createElement(D,{onClose:q,playerRef:f,roomId:s,anchorId:p,countDownSeconds:null==z?void 0:z.countDownSeconds,reasonType:E,setPausePop:y,remainPtrRef:Y,store:t}),onMaskClick:q})}}),[f,b.current,z,s,p,E,q,y]),$=(0,v.useMemo)((function(){var e;return null==S||null===(e=S[E])||void 0===e?void 0:e.strategy_type}),[S,E]),ee=(0,v.useMemo)((function(){var e;return 1e3*Number(null==S||null===(e=S[E])||void 0===e?void 0:e.pause_monitor_duration)}),[S,E]),te=(0,v.useMemo)((function(){var e;return 1e3*Number(null==S||null===(e=S.background)||void 0===e?void 0:e.pause_monitor_duration)}),[S]),ne=(0,v.useMemo)((function(){var e;return null==S||null===(e=S.background)||void 0===e?void 0:e.use_config_duration}),[S]),re=function(e){var t=e.state,n=e.frontDelayTimes,r=void 0===n?0:n,a=e.backDelayTimes;switch(t){case U.FRONT:return r+z.popFrontTimerList[1].front;case U.BACK:return ne?a+z.popFrontTimerList[1].back:z.popFrontTimerList[1].back;default:return 0}},ae=(0,v.useCallback)((function(e){z&&S&&$===R.DEFAULT_TACTICS?H.current=re({state:e,backDelayTimes:te}):z&&S&&$===R.CONFIG_TACTICS?H.current=re({state:e,frontDelayTimes:ee,backDelayTimes:te}):(R.NO_TACTICS,H.current=0)}),[z,S,E,ee,te,$,ne]);return(0,v.useEffect)((function(){try{(0,a.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,A.ZP)({service_name:"webcast.douyin.live_pc",key:"pause_pop_config"});case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})))()}catch(e){}}),[]),(0,v.useEffect)((function(){if(z&&!T.s){var e=F.Z.setIntervalWarp,t=F.Z.clearIntervalWarp,r=F.Z.setTimeoutWarp,a=F.Z.clearTimeoutWarp;ae(document.visibilityState);var o=i()((function(){var o=0;ae(document.visibilityState),K.current&&(null==t||t(K.current));var l=P.current;if(l&&(null==a||a(l)),b.current=!1,w.current)q();else{var i=K.current;if(i&&t(i),K.current=null==e?void 0:e((function(){o+=1,null==n||n.liveConSumeNoMoveOnemin({ecom_group_type:"live",content_id:s,author_id:p,reason_type:"detail"===E?"live_play":"other",is_visible:"hidden"===document.visibilityState?0:1,continue_rank:o,if_pip:(0,I.DJ)()?1:0})}),6e4),H.current>0&&S&&$!==R.NO_TACTICS){var c=P.current;c&&(null==a||a(c)),P.current=null==r?void 0:r((function(){b.current=!0,X()}),H.current+Q())}}}),1e3,{leading:!0,trailing:!1});if(H.current>0){var l=P.current;l&&(null==a||a(l)),P.current=null==r?void 0:r((function(){b.current=!0,X()}),H.current+Q())}return document.addEventListener("visibilitychange",o),document.addEventListener("mousemove",o),document.addEventListener("click",o),document.addEventListener("keydown",o),document.addEventListener("wheel",o),function(){P.current&&(null==a||a(P.current)),K.current&&(null==t||t(K.current)),document.removeEventListener("visibilitychange",o),document.removeEventListener("mousemove",o),document.removeEventListener("click",o),document.removeEventListener("keydown",o),document.removeEventListener("wheel",o)}}}),[z,S]),null}},65387:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(53864),a="vfip2Czh",o="Ts8XvwGB",l=n(24352),i=function(e){var t=e.info,n=e.btn;return r.createElement("div",null,r.createElement("span",{className:a},t),r.createElement(l.Z,{className:o,val:n}))}},60494:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(53864),a={tooltips:"dGeDEA1h",popup:"SxFwSPrn",top:"FNlMjQZw",bottom:"GiOUUTs5",left:"oKCSmmHi",right:"DwPT4UIu"},o=n(79705),l=n.n(o);function i(e){var t=e.content,n=e.children,o=e.position,i=void 0===o?"top":o,s=e.className,c=e.tooltipStyle,u=void 0===c?{}:c;return r.createElement("div",{className:a.tooltips},r.createElement("div",{className:l()(a.popup,a[i],s),style:u},t),n)}},44086:function(e,t,n){n.d(t,{Z:function(){return Rn}});var r=n(32781),a=n(56402),o=n.n(a),l=n(54779),i=n(46611),s=n(53864),c=n(65146),u=n(32153),d=n(79705),f=n.n(d),m=n(82524),v="BSMfxNI3",p="DTLdEOeJ",_="Up7Dzgw1",h="FoccckN5",g="X_dFr1vX",E="EZJtvF_n",y=(0,u.Pi)((function(){var e,t,n,r,a,o,u,d=(0,m.Z)(),y=null==d||null===(e=d.roomStore)||void 0===e?void 0:e.roomInfo,S=Number(null==y||null===(t=y.room)||void 0===t?void 0:t.status_str)===i.LV.END,b=!(null!=y&&null!==(n=y.room)&&void 0!==n&&null!==(r=n.room_view_stats)&&void 0!==r&&r.is_hidden),C=null==y||null===(a=y.room)||void 0===a||null===(o=a.room_view_stats)||void 0===o?void 0:o.display_middle,w=!S&&b&&C,k=(null==y||null===(u=y.room)||void 0===u?void 0:u.live_room_mode)===i.ke.MEDIA,A=(0,l.n)(y),N=!k&&A;return w?s.createElement("div",{className:f()(v,(0,c.Z)({},p,N))},s.createElement("div",{className:h}),N?s.createElement(s.Fragment,null,s.createElement("div",{className:g},"\u5728\u7ebf\u89c2\u4f17"),s.createElement("div",{className:E},"\xb7"),s.createElement("div",{className:_,"data-e2e":"live-room-audience"},C)):s.createElement("div",{className:_},C||"0\u4eba\u770b\u8fc7")):null})),S=n(64408),b=n(19478),C=n.n(b),w=n(5594),k=n.n(w),A=n(56442),N=n.n(A),I=n(94090),x=n.n(I),T=n(34346),L=n.n(T),M=n(85792),O=n.n(M),Z=n(17330),B=n.n(Z),F=n(10373),R=n(65902),U=n(29529),D=n(30906),P=n(67161),G=n(92524),V=n.n(G),z={adjustX:1,adjustY:1},j=[0,0],H=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10,t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:z;return{left:{points:["cr","cl"],overflow:t,offset:[Number("-".concat(e)),0],targetOffset:j},right:{points:["cl","cr"],overflow:t,offset:[e,0],targetOffset:j},top:{points:["bc","tc"],overflow:t,offset:[0,Number("-".concat(e))],targetOffset:j},bottom:{points:["tc","bc"],overflow:t,offset:[0,e],targetOffset:j},topLeft:{points:["bl","tl"],overflow:t,offset:[0,Number("-".concat(e))],targetOffset:j},leftTop:{points:["tr","tl"],overflow:t,offset:[Number("-".concat(e)),0],targetOffset:j},topRight:{points:["br","tr"],overflow:t,offset:[0,Number("-".concat(e))],targetOffset:j},rightTop:{points:["tl","tr"],overflow:t,offset:[e,0],targetOffset:j},bottomRight:{points:["tr","br"],overflow:t,offset:[0,e],targetOffset:j},rightBottom:{points:["bl","br"],overflow:t,offset:[e,0],targetOffset:j},bottomLeft:{points:["tl","bl"],overflow:t,offset:[0,e],targetOffset:j},leftBottom:{points:["br","bl"],overflow:t,offset:[Number("-".concat(e)),0],targetOffset:j}}},W=n(69729),K=["children","placement","trigger","overlay","getTooltipContainer","prefixCls","align","destroyTooltipOnHide","onVisibleChange","overlayClassName","overlayStyle","onPopupAlign","className","mouseEnterDelay","mouseLeaveDelay","offset","autoAdjustOverflowConfig","visible","scrollElement","scrollHide"],Y={trigger:"hover",placement:"bottom",mouseEnterDelay:0,mouseLeaveDelay:0};function Q(e){var t=(0,D.Z)((0,D.Z)({},Y),e),n=t.children,a=t.placement,o=void 0===a?"bottom":a,l=t.trigger,i=void 0===l?"hover":l,c=t.overlay,u=t.getTooltipContainer,d=t.prefixCls,f=void 0===d?"dylive-tooltip":d,m=t.align,v=t.destroyTooltipOnHide,p=t.onVisibleChange,_=t.overlayClassName,h=t.overlayStyle,g=t.onPopupAlign,E=t.className,y=t.mouseEnterDelay,S=void 0===y?0:y,b=t.mouseLeaveDelay,C=void 0===b?0:b,w=t.offset,k=t.autoAdjustOverflowConfig,A=t.visible,N=t.scrollElement,I=t.scrollHide,x=void 0===I||I,T=(0,P.Z)(t,K),L=(0,s.useState)(o),M=(0,r.Z)(L,2),Z=(M[0],M[1]),B=(0,s.useState)(Boolean(A)),F=(0,r.Z)(B,2),G=F[0],z=F[1];(0,s.useEffect)((function(){if(x){var e=function(){G&&z(!1)};return document.addEventListener("scroll",e,!0),N instanceof HTMLElement&&N.addEventListener("scroll",e),function(){x&&(document.removeEventListener("scroll",e),N instanceof HTMLElement&&N.removeEventListener("scroll",e))}}}),[N,G]),(0,s.useEffect)((function(){A!==undefined&&z(Boolean(A))}),[A]);var j=(0,s.useCallback)((function(e){p&&p(e),A!==undefined?z(Boolean(A)):z(e)}),[A,p]),Q=(0,s.useCallback)((function(){var e="function"==typeof c?c():c;return e||null}),[c]),J=(0,s.useCallback)((function(e,t){var n=new RegExp("".concat(f,"-placement-([a-zA-Z]+)\\s?")),r=e.className.match(n);r&&Z(r[1]),g&&g(e,t)}),[g,f]),q=(0,s.useCallback)((function(){e.onMouseLeave?e.onMouseLeave():-1!==V()(i).call(i,"hover")&&(C>0?O()((function(){z(!1)}),1e3*C):z(!1))}),[i,e,C]),X=!1,$=!1;if("boolean"==typeof v)X=v;else if("object"===(0,U.Z)(v)){X=!0,$=!v.keepParent}var ee="".concat(E," ");_&&(ee+=_);var te=(0,s.useMemo)((function(){return H(w,k)}),[w,k]),ne=s.isValidElement(n)?n:s.createElement("span",null,n);return s.createElement(W.Z,(0,R.Z)({builtinPlacements:te,popupPlacement:o,popupClassName:ee,action:i,popup:Q,onPopupVisibleChange:j,prefixCls:f,destroyPopupOnHide:X,autoDestroy:$,popupAlign:m,popupVisible:G,getPopupContainer:u,popupStyle:h,onMouseLeave:q,onPopupAlign:J,mouseLeaveDelay:C,mouseEnterDelay:S},T),ne)}var J=s.memo(Q),q="BE9s_07q",X="iAXG5lJ1",$="b_7E71rg",ee="gafhCXsV",te=n(26750),ne=["className"],re=function(e){var t=e.className,n=(0,P.Z)(e,ne),r=(0,te.V)().name;return s.createElement("div",(0,R.Z)({className:f()(q,t)},n),s.createElement("div",{className:X},s.createElement("div",{className:$},"\u6392\u5e8f\u89c4\u5219"),"\u5728\u7ebf\u89c2\u4f17\u5217\u8868\u62e5\u6709\u4e24\u79cd\u4e0d\u540c\u7ef4\u5ea6\u7684\u6392\u5e8f\u65b9\u5f0f\uff0c\u53ef\u81ea\u7531\u5207\u6362\u67e5\u770b\u3002"),s.createElement("div",{className:X},s.createElement("div",{className:ee},"\u65b9\u5f0f\u4e00\uff1a\u9ed8\u8ba4\u6392\u5e8f"),"\u89c2\u4f17\u70b9\u8d5e30\u6b21\u6216\u9001\u51fa1".concat(r,"\u793c\u7269\uff0c\u5747\u6709\u673a\u4f1a\u83b7\u5f971\u70b9\u699c\u5355\u503c\uff1b\u6bcf10\u5206\u949f\uff0c\u5355\u4e2a\u7528\u6237\u53ef\u901a\u8fc7\u70b9\u8d5e\u83b7\u5f975\u70b9\u699c\u5355\u503c\uff0c\u8d85\u51fa\u540e\u5c06\u4e0d\u518d\u7ee7\u7eed\u83b7\u5f97\u3002\uff08\u9ad8\u5cf0\u65f6\u6bb5\u53ef\u80fd\u4f1a\u6709\u8ba1\u503c\u5ef6\u8fdf\u6216\u4e0d\u7a33\u5b9a\u73b0\u8c61\uff0c\u5747\u5c5e\u6b63\u5e38\uff09")),s.createElement("div",{className:X},s.createElement("div",{className:ee},"\u65b9\u5f0f\u4e8c\uff1a\u8fdb\u623f\u65f6\u95f4\u6392\u5e8f"),"\u6b64\u5217\u8868\u6309\u7167\u7528\u6237\u8fdb\u623f\u5148\u540e\u6392\u5e8f\uff0c\u8fdb\u623f\u8d8a\u65e9\u6392\u540d\u8d8a\u9760\u524d\uff0c\u82e5\u4e2d\u9014\u9000\u51fa\u91cd\u8fdb\uff0c\u5219\u4f1a\u4ee5\u6700\u65b0\u4e00\u6b21\u8fdb\u623f\u65f6\u95f4\u53c2\u4e0e\u6392\u5e8f\uff0c\u5217\u8868\u6700\u591a\u5c55\u793a200\u4eba\u3002"),s.createElement("div",{className:X},s.createElement("div",{className:$},"\u7279\u522b\u63d0\u9192"),"\u6b64\u5217\u8868\u4ec5\u5c55\u793a\u5f53\u524d\u5728\u76f4\u64ad\u95f4\u5185\u7528\u6237\u4e92\u52a8\u60c5\u51b5\uff0c\u82e5\u79bb\u5f00\u76f4\u64ad\u95f4\u6216\u9000\u51fa\u91cd\u8fdb\u540e\uff0c\u5217\u8868\u4fe1\u606f\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u8bf7\u70b9\u51fb\u6253\u5f00\u5728\u7ebf\u89c2\u4f17\u5217\u8868\u4e86\u89e3\u5f53\u524d\u6392\u540d\u3002"))},ae=n(50750),oe=n.n(ae),le="eu9Y5Bfp",ie="t1NKlZ4k",se="ja9ryE3T",ce=["activeRankType","className","onRankTypeChange"],ue=function(e){var t,n=e.activeRankType,r=void 0===n?F.Jd.DEFAULT:n,a=e.className,o=e.onRankTypeChange,l=(0,P.Z)(e,ce),i=L()(t=oe()(F.UC)).call(t,Number);return s.createElement("div",(0,R.Z)({className:f()(le,a)},l),L()(i).call(i,(function(e,t){var n;return s.createElement("div",{key:x()(n="".concat(t)).call(n,e),className:f()(ie,(0,c.Z)({},se,e===r)),onClick:function(){!function(e){o&&o(e)}(e)}},F.UC[e])})))},de=(0,s.memo)(ue),fe=function(){var e=(0,s.useState)(!1),t=(0,r.Z)(e,2),n=t[0],a=t[1],o=(0,s.useRef)(),l=(0,s.useRef)(),i=(0,s.useCallback)((function(){clearTimeout(l.current),o.current=O()((function(){a(!0)}),80)}),[]),c=(0,s.useCallback)((function(){clearTimeout(o.current),l.current=O()((function(){a(!1)}),80)}),[]);return{popoverVisible:n,setPopoverVisible:a,showPopover:i,hidePopover:c}},me="sNTtuLeM",ve="I87uB0nk",pe="rvAjq88m",_e="_VoS8pBU",he="ShT899Zo",ge={adjustX:1,adjustY:0},Ee=function(e){var t=e.activeRankType,n=void 0===t?F.Jd.DEFAULT:t,r=e.className,a=e.onRankClick,o=e.onRankVisibleChange,l=e.onRankTypeChange,i=(0,s.useRef)(null),c=fe(),u=c.popoverVisible,d=c.showPopover,m=c.hidePopover,v=fe(),p=v.popoverVisible,_=v.showPopover,h=v.hidePopover;return(0,s.useEffect)((function(){p&&o&&o(p)}),[p]),s.createElement("div",{className:f()(me,r),ref:i},s.createElement(J,{visible:u,scrollHide:!1,placement:"bottom",offset:6,zIndex:10,autoAdjustOverflowConfig:ge,overlay:s.createElement(re,{className:he,onMouseEnter:d,onMouseLeave:m}),getTooltipContainer:function(){return i.current}},s.createElement("div",{className:ve},F.kq[n],s.createElement("div",{className:_e,onMouseEnter:d,onMouseLeave:m}))),s.createElement(J,{visible:p,scrollHide:!1,placement:"bottom",offset:6,zIndex:10,autoAdjustOverflowConfig:ge,overlay:s.createElement(de,{activeRankType:n,onRankTypeChange:function(e){l&&l(e),h()},onMouseEnter:_,onMouseLeave:h}),getTooltipContainer:function(){return i.current}},s.createElement("div",{className:pe,onClick:function(){_(),a&&a()},onMouseLeave:h},F.UC[n],"\u6392\u5e8f",s.createElement("div",{className:_e}))))},ye=(0,s.memo)(Ee),Se=n(34590),be=n(37337),Ce=n(21662),we=n(99759),ke=n(56462),Ae=n(353),Ne=n(97422),Ie=n(86305),xe=["src"],Te=function(e){var t=e.src,n=(0,P.Z)(e,xe),a="light"===ke.Q.getItem({sKey:Ae.CookieKeys.Theme})?Ne:Ie,o=(0,s.useState)(a),l=(0,r.Z)(o,2),i=l[0],c=l[1],u=(0,s.useCallback)((function(){c(a)}),[a]);return(0,s.useEffect)((function(){t&&c(t)}),[t]),s.createElement("img",(0,R.Z)({},n,{src:globalThis.xssNamespace.douyin_web.filterUrl(i,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),onError:u}))},Le=(0,s.memo)(Te),Me={wrap:"DS7nMcfH",hasHover:"FeUAev44",rank:"aNEn9h3G",rank1:"kJEHK816",rank2:"BSYDJf0a",rank3:"ChT8alOW",avatarWrap:"yIKvL_kN",avatar:"Y3LoHeiU",info:"n0M804ld",user:"wCt_EhQF",userInfo:"gomm7aon",name:"BlITih3_",gapDescription:"l7oZqHJB",honorLevel:"tMHvOCWz",fansClub:"jlClPK9u",label:"jgnl0r3_",score:"joR6r7X8"},Oe=function(e){var t,n,r,a,o,l=e.userInfo,i=void 0===l?{}:l,u=e.activeRankType,d=void 0===u?F.Jd.DEFAULT:u,m=e.isSelf,v=void 0!==m&&m,p=e.hasHover,_=void 0===p||p,h=e.className,g=e.handleMouseEnter,E=e.handleMouseLeave,y=(0,we.Z)().showUserInfoCard,S=(0,s.useMemo)((function(){return i.rank&&(i.score||d===F.Jd.DURATION)?Number(i.rank)>99?"99+":i.rank:"-"}),[i.rank,i.score,d]),b=(0,s.useMemo)((function(){return i.isHidden?"https://sf16-passport-va.ibytedtos.com/img/user-avatar-musically/3cc8090976e92743e480fdba88d29b76~120x256.image":i.avatar}),[i.avatar,i.isHidden]),C=(0,s.useMemo)((function(){var e,t;return i.isHidden?null===(e=i.name)||void 0===e||null===(t=N()(e).call(e,0,1))||void 0===t?void 0:x()(t).call(t,"***"):i.name}),[i.name,i.isHidden]),w=(0,s.useCallback)((function(e){i.isHidden?Se.F.info("\u6682\u4e0d\u652f\u6301\u67e5\u770b\u8be5\u7528\u6237\u4fe1\u606f"):y({event:e,user:i,needGetUserInfo:!0,pointParams:{click_user_position:be.JC.SINGLE_ROOM_RANK}}).then((function(){var e,t;null===(e=document.getElementById(Ce.Gn))||void 0===e||e.addEventListener("mouseenter",g),null===(t=document.getElementById(Ce.Gn))||void 0===t||t.addEventListener("mouseleave",E)}))}),[i,y,g,E]);return s.useEffect((function(){return function(){var e,t;null===(e=document.getElementById(Ce.Gn))||void 0===e||e.removeEventListener("mouseenter",g),null===(t=document.getElementById(Ce.Gn))||void 0===t||t.removeEventListener("mouseleave",E)}}),[g,E]),s.createElement("div",{className:f()(Me.wrap,(0,c.Z)({},Me.hasHover,_),h),onClick:w},s.createElement("div",{className:f()(Me.rank,Me["rank".concat(S)])},S),s.createElement("div",{className:Me.avatarWrap},s.createElement("div",{className:Me.avatar},s.createElement(Le,{height:32,src:globalThis.xssNamespace.douyin_web.filterUrl(b,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}))),s.createElement("div",{className:Me.info},s.createElement("div",{className:Me.user},s.createElement("div",{className:Me.userInfo},s.createElement("div",{className:Me.name},C),v&&s.createElement("div",{className:Me.gapDescription},i.gapDescription)),!v&&(null===(t=i.honorLevel)||void 0===t?void 0:t.icon)&&s.createElement("div",{className:Me.honorLevel},s.createElement("img",{height:14,src:globalThis.xssNamespace.douyin_web.filterUrl(null===(n=i.honorLevel)||void 0===n?void 0:n.icon,null,{logType:"js.href/src",mode:"black",reportOnly:!1})})),!v&&(null===(r=i.fansClub)||void 0===r?void 0:r.icon)&&s.createElement("div",{className:Me.fansClub},s.createElement("img",{height:14,src:globalThis.xssNamespace.douyin_web.filterUrl(null===(a=i.fansClub)||void 0===a?void 0:a.icon,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}),s.createElement("div",{className:Me.label},s.createElement("span",null,null===(o=i.fansClub)||void 0===o?void 0:o.name)))),i.scoreBlur&&s.createElement("div",{className:Me.score},i.scoreBlur)))},Ze=n(68493),Be=n.n(Ze),Fe=n(933),Re=n(15504),Ue=n(51365),De=n(5611),Pe=function(){var e,t,n=(0,m.Z)().roomStore.roomInfo,r=(null==n?void 0:n.roomId)||"",a=(null==n||null===(e=n.anchor)||void 0===e?void 0:e.id_str)||"",o=(null==n||null===(t=n.anchor)||void 0===t?void 0:t.sec_uid)||"",l=(0,s.useCallback)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return(0,Fe.R)((0,D.Z)({room_id:r,anchor_id:a,sec_anchor_id:o},e)).then((function(e){var t,n,r=e.data,a=e.logId;return 0===(null==r?void 0:r.status_code)?Be().resolve(r):(Re.k.event(x()(t="[".concat(Ue.Tn.Error,"]")).call(t,Ue.Mo.LiveGetAudienceError),(0,D.Z)({statusCode:null==r?void 0:r.status_code,logId:null!=a?a:"",is_client:(0,De.DT)()},null==r?void 0:r.data)),Se.F.info((null==r||null===(n=r.data)||void 0===n?void 0:n.prompts)||"\u83b7\u53d6\u89c2\u4f17\u6570\u636e\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),Re.k.error("\u83b7\u53d6\u89c2\u4f17\u6570\u636e\u5931\u8d25",r,a),Be().reject(r))}))}),[r,a,o]);return{getAudienceData:l}},Ge=n(8e3),Ve=n.n(Ge),ze=n(23132),je=function(){var e=(0,s.useState)([]),t=(0,r.Z)(e,2),n=t[0],a=t[1],o=(0,s.useState)([]),l=(0,r.Z)(o,2),i=l[0],c=l[1],u=(0,m.Z)(),d=u.userStore.userInfo,f=u.singletonStore.message,v=null==d?void 0:d.sec_uid;return(0,s.useEffect)((function(){return null==f?void 0:f.on("GiftMessage",(function(e){var t,n=Ve()(t=Ve()(e).call(e,(function(e){var t,n;return(null==e||null===(t=e.payload)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.sec_uid)===v}))).call(t,ze.J$);n.length&&a(n)}))}),[v,a,f]),(0,s.useEffect)((function(){return null==f?void 0:f.on("RoomRankMessage",(function(e){e.length&&c(e)}))}),[f]),{giftMessages:n,roomRankMessages:i}},He="T3YSUrL0",We="Lv8NUfuL",Ke="t8SaP6zm",Ye="EJA3CusM",Qe="Xzo4zLe9",Je="e_zvAWmT",qe="hyiccsrk",Xe="nPZLQDkK",$e="g7S8csZZ",et="GVETSmBD",tt="GJtBTxo_",nt=n(40496),rt=function(e){var t,n,a=e.userId,o=void 0===a?"":a,i=e.setAudienceDevelop,u=Boolean(o),d=(0,s.useState)(!1),v=(0,r.Z)(d,2),p=v[0],_=v[1],h=(0,s.useState)(!1),g=(0,r.Z)(h,2),E=g[0],y=g[1],b=(0,s.useState)(F.Jd.DEFAULT),w=(0,r.Z)(b,2),A=w[0],I=w[1],T=(0,s.useState)([]),M=(0,r.Z)(T,2),R=M[0],U=M[1],D=(0,s.useState)({}),P=(0,r.Z)(D,2),G=P[0],V=P[1],z=(0,s.useState)(0),j=(0,r.Z)(z,2),H=j[0],W=j[1],K=(0,s.useRef)(),Y=(0,s.useRef)(),Q=(0,s.useRef)(),J=(0,s.useRef)(),q=(0,s.useRef)(null),X=(0,s.useRef)(!1),$=(0,s.useRef)(!1),ee=(0,s.useRef)(0),te=(0,m.Z)(),ne=te.roomStore.roomInfo,re=te.eventStore.ranklistEvent,ae=Pe().getAudienceData,oe=je(),le=oe.giftMessages,ie=oe.roomRankMessages,se=null==ne||null===(t=ne.room)||void 0===t||null===(n=t.room_view_stats)||void 0===n?void 0:n.display_middle,ce=G.rank||0,ue=(0,s.useMemo)((function(){return E&&G.uid}),[E,G.uid]),de=(0,s.useMemo)((function(){return E?R:N()(R).call(R,0,3)}),[E,R]),fe=(0,s.useMemo)((function(){var e,t=se-de.length-H;return H>0&&t>0?x()(e="\u8fd8\u6709".concat(H,"\u540d\u9690\u8eab\u7528\u6237\u3001")).call(e,t,"\u540d\u672a\u767b\u5f55\u7528\u6237\u6b63\u5728\u89c2\u770b"):H>0?"\u8fd8\u6709".concat(H,"\u540d\u9690\u8eab\u7528\u6237\u6b63\u5728\u89c2\u770b"):t>0?"\u8fd8\u6709".concat(t,"\u540d\u672a\u767b\u5f55\u7528\u6237\u6b63\u5728\u89c2\u770b"):""}),[H,se,de]),me=function(){var e=(0,S.Z)(k().mark((function e(){var t,n,r,a,i,s,c,u=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&u[0]!==undefined&&u[0]&&(U([]),_(!0)),e.prev=2,e.next=5,ae({rank_type:A});case 5:i=e.sent,s=L()(t=(null==i||null===(n=i.data)||void 0===n?void 0:n.ranks)||[]).call(t,(function(e){return(0,l.L)(e,o)})),c=(0,l.L)(null==i||null===(r=i.data)||void 0===r?void 0:r.self_info,o),U(s),V(c),W((null==i||null===(a=i.data)||void 0===a?void 0:a.invisible_total)||0),(0,Z.forceCheck)(),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(2);case 16:return e.prev=16,_(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,14,16,19]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){K.current&&clearTimeout(K.current),y(!0),$.current=!0},pe=function(){K.current&&clearTimeout(K.current),K.current=O()((function(){y(!1)}),150)},_e=function(e){e.current&&clearTimeout(e.current),e.current=undefined},he=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3e3;Y.current=O()((function(){Y.current&&clearTimeout(Y.current),Y.current=undefined}),e)},ge=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3e3;e.current=O()((function(){t&&t(),_e(e)}),n)};return(0,s.useEffect)((function(){me(!0)}),[A]),(0,s.useEffect)((function(){_e(J),le.length&&!Q.current&&ge(Q,me)}),[le]),(0,s.useEffect)((function(){E||Q.current||!ie.length||J.current||ge(J,me,3e3)}),[ie]),(0,s.useEffect)((function(){E&&!Y.current&&(_e(J),_e(Q),me(),he())}),[E]),(0,s.useEffect)((function(){return function(){var e,t;null===(e=document.getElementById(Ce.Gn))||void 0===e||e.removeEventListener("mouseenter",ve),null===(t=document.getElementById(Ce.Gn))||void 0===t||t.removeEventListener("mouseleave",pe)}}),[E]),(0,s.useEffect)((function(){var e=q.current;return null==e||e.addEventListener("mouseenter",ve),null==e||e.addEventListener("mouseleave",pe),function(){null==e||e.removeEventListener("mouseenter",ve),null==e||e.removeEventListener("mouseleave",pe)}}),[]),(0,s.useEffect)((function(){$.current&&(E?(re.liveAudienceShowEvent({show_type:F.cL.MOUSE_ENTER,user_rank:ce}),re.liveAudienceRankIconEvent({pc_live_action_type:F.KW.SHOW,rank_type:F.Ee[A],user_rank:ce}),ee.current=(new Date).getTime()):(re.liveAudienceShowEvent({show_type:F.cL.MOUSE_LEAVE,user_rank:ce}),re.liveAudienceDurationEvent({duration:(new Date).getTime()-ee.current,user_rank:ce})))}),[E]),(0,s.useEffect)((function(){null!=G&&G.uid&&!X.current&&(re.liveAudienceShowEvent({show_type:F.cL.ENTER_ROOM,user_rank:ce}),X.current=!0)}),[null==G?void 0:G.uid]),(0,s.useEffect)((function(){null==i||i(E)}),[E]),s.createElement("div",{className:He,ref:q},s.createElement(ye,{className:f()(We,(0,c.Z)({},Ke,E)),activeRankType:A,onRankClick:function(){re.liveAudienceRankIconEvent({pc_live_action_type:F.KW.CLICK,rank_type:F.Ee[A],user_rank:ce})},onRankVisibleChange:function(e){e&&re.liveAudienceRankChangeEvent({pc_live_action_type:F.KW.SHOW,rank_type:F.Ee[A],user_rank:ce})},onRankTypeChange:function(e){I(e),re.liveAudienceRankChangeEvent({pc_live_action_type:F.KW.CLICK,rank_type:F.Ee[e],user_rank:ce})}}),s.createElement("div",{className:Ye},s.createElement("div",{id:F.vb,className:f()(Qe,(0,c.Z)({},Je,E)),onScroll:C()(Z.forceCheck,50)},L()(de).call(de,(function(e,t){var n,r,a;return s.createElement(B(),{key:x()(n=x()(r="".concat(e.uid)).call(r,e.name)).call(n,t),scrollContainer:F.vb,height:48,once:!0,overflow:!0},s.createElement(Oe,{key:x()(a="".concat(e.uid)).call(a,e.name),userInfo:e,activeRankType:A,handleMouseEnter:ve,handleMouseLeave:pe}))})),de.length>0&&de.length<200&&E&&fe&&s.createElement("div",{className:qe},fe),de.length>=200&&s.createElement("div",{className:qe},"\u6700\u591a\u663e\u793a200\u540d\u89c2\u4f17\u54e6"),!de.length&&s.createElement("div",{className:Xe},p?"\u52a0\u8f7d\u4e2d":"\u6682\u65e0\u5728\u7ebf\u89c2\u4f17")),u&&ue&&s.createElement(Oe,{className:$e,userInfo:G,activeRankType:A,isSelf:!0,handleMouseEnter:ve,handleMouseLeave:pe}),!u&&E&&s.createElement("div",{className:f()($e,et)},s.createElement("div",{className:tt,onClick:function(){(0,nt.m8)("\u767b\u5f55\u540e\u5373\u53ef\u67e5\u770b\u6392\u540d","live_audience")}},"\u767b\u5f55\u67e5\u770b\u6211\u7684\u6392\u540d"))))},at=(0,s.memo)(rt),ot="n1iMhmEh",lt=function(e){var t=e.userId,n=e.showAudienceContent,r=void 0!==n&&n,a=e.setAudienceDevelop;return s.createElement("div",{className:ot},s.createElement(y,null),r&&s.createElement(at,{userId:t,setAudienceDevelop:a}))},it=(0,s.memo)(lt),st="eu9R6nFS",ct="nGRbwTB3",ut="qFDsoO1l",dt=n(72943),ft=function(){return s.createElement(s.Fragment,null,"\u9700\u5148",s.createElement("span",{className:ut,onClick:function(){(0,dt.p)().then((function(e){var t,n,r;e({headerText:"\u767b\u5f55\u540e\u5373\u53ef\u53c2\u4e0e\u4e92\u52a8",success:(r=(0,S.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)}),next:"https://".concat(null===(t=window)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.host),enterMethod:"livesdk_audience_live_message"})}))}},"\u767b\u5f55"),"\uff0c\u624d\u80fd\u5f00\u59cb\u804a\u5929")},mt=function(e){return e[e.NO_LOGIN=0]="NO_LOGIN",e[e.MUTE=1]="MUTE",e[e.BLACK_HOUSE=2]="BLACK_HOUSE",e[e.END=3]="END",e[e.DEFAULT=4]="DEFAULT",e[e.KICK_OUT=5]="KICK_OUT",e[e.APP_ONLY=6]="APP_ONLY",e}({}),vt={0:s.createElement(ft,null),1:"\u4f60\u5df2\u88ab\u7981\u8a00",2:"\u4f60\u88ab\u5173\u8fdb\u5c0f\u9ed1\u5c4b\uff0c\u6682\u65f6\u65e0\u6cd5\u64cd\u4f5c",3:"\u76f4\u64ad\u5df2\u7ed3\u675f",4:"\u804a\u5929\u529f\u80fd\u4e0d\u53ef\u7528",5:"\u5df2\u9000\u51fa\u76f4\u64ad\u95f4\uff0c\u65e0\u6cd5\u8bc4\u8bba",6:"\u8be5\u5185\u5bb9\u4ec5\u9650\u624b\u673a\u89c2\u770b"},pt=function(e){var t=e.type,n=e.className;return s.createElement("div",{className:f()(st,n)},s.createElement("div",{className:ct},vt[t]))},_t=n(11227),ht=n.n(_t),gt=n(19672),Et=n.n(gt),yt=n(90457),St=n.n(yt),bt=n(88743),Ct=n.n(bt),wt="r80Oclsr",kt="rc30lnLh",At="R22mg9V_",Nt="b76LkBHq",It="RwRQ6jOI",xt=n(12361),Tt=n(62971),Lt=n(53361),Mt=n.n(Lt),Ot=n(58144),Zt=n.n(Ot),Bt=n(8369),Ft=n.n(Bt),Rt="KE7O_8ZC",Ut="FzpnR1C1",Dt="Ehh2NFQO",Pt="GDJPyGRR",Gt="NNKf0TrD",Vt=n(75478),zt=function(e){return e[e.ADMIN=3]="ADMIN",e[e.HONOR=1]="HONOR",e[e.FANS_CLUB=7]="FANS_CLUB",e[e.RETAILER=58]="RETAILER",e}(zt||{});function jt(e){var t,n=e.user,r=e.activity,a=(0,m.Z)().roomStore.roomInfo,l=(0,s.useMemo)((function(){var e,t,n,r=(null===(e=a.room)||void 0===e?void 0:e.live_room_mode)===i.ke.MEDIA,l=(null===(t=a.room)||void 0===t||null===(n=t.room_auth)||void 0===n?void 0:n.LandscapeChat)!==i.xW.OFF,s=o()(a,"room.episode_extra.mod.episode_stage",""),c=s===be.jL.LIVE||s===be.jL.FIRST_LIVE;return!r&&l&&!c}),[a]),c=(0,s.useMemo)((function(){var e,t,r,a=null==n||null===(e=n.badge_image_list)||void 0===e?void 0:Mt()(e).call(e,(function(e){return e.image_type===zt.RETAILER})),o=null==n||null===(t=n.badge_image_list_v2)||void 0===t?void 0:Zt()(t).call(t,(function(e){return e.image_type===zt.RETAILER}));-1===a&&o&&n&&l&&Ft()(r=n.badge_image_list).call(r,0,0,o);return n.badge_image_list}),[n,l]);return s.createElement("span",{className:Rt},null===(t=r?null==n?void 0:n.badge_image_list_v2:c)||void 0===t?void 0:L()(t).call(t,(function(e,t){var n,r=e.image_type===zt.FANS_CLUB&&e.content,a=null!==(n=null==e?void 0:e.url_list)&&void 0!==n?n:null==e?void 0:e.url_list;return s.createElement("span",{className:Ut,key:t},s.createElement("img",{alt:"",src:globalThis.xssNamespace.douyin_web.filterUrl((0,Vt.uC)(a&&a[0]),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),height:18}),r&&s.createElement("div",{className:Dt},s.createElement("span",{className:Pt}),s.createElement("span",{className:Gt},e.content.name)))})))}var Ht,Wt=n(62232),Kt=(0,u.Pi)((function(e){var t=e.user,n=e.children,r=e.prefix,a=void 0===r?"":r,l=e.message,i=e.loginSecUid,u=e.loginUid,d=e.roomId,v=e.hasReport,p=void 0!==v&&v,_=e.separator,h=void 0===_?"\uff1a":_,g=e.activity,E=void 0!==g&&g,y=t||{},b=y.id,C=y.sec_uid,w=y.id_str,A=(0,m.Z)(),N=A.userStore.userInfo,I=A.roomStore.roomInfo,x=A.linkmicStore,T=x.linkRoomType,L=x.linkMicSeats,M=s.useMemo((function(){var e=w;return w||(e=b),e}),[w,b]),O=s.useMemo((function(){return o()(I,"room.room_auth.UserCard")}),[I]),Z=s.useMemo((function(){var e,t=o()(N,"id_str",""),n=ht()(e=o()(I,"room.admin_user_ids_str",[])).call(e,t),r=t===o()(I,"anchor.id_str");return!(O||n||r||M===t)}),[N,O,I,M]),B=s.useMemo((function(){return Z?(0,Tt.t)(o()(t,"desensitized_nickname",o()(t,"nickname",""))):o()(t,"nickname","")}),[t,Z]),F=o()(N,"user_attr.is_admin",!1),R=o()(N,"user_attr.admin_privileges",[]),U=s.useMemo((function(){return F&&Et()(R)&&ht()(R).call(R,Wt.s.LinkMicPrivilege)}),[F,R]),D=s.useMemo((function(){var e;return T&&L&&St()(e=Ct()(L)).call(e,(function(e){return o()(e,"user.user.id_str","")===b}))}),[T,L,b]),P=Boolean(U&&!D),G=(0,s.useCallback)(function(){var e=(0,S.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation(),xt.Z.open({isMessageUser:!1,uid:M,secUid:C,roomId:d,loginSecUid:i,loginUid:u,message:l,hasReport:p,isEnableUserCard:O,hide:Z,supportAdminInviteLinking:P,store:A},{top:t.clientY,left:t.clientX});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[M,C,d,i,u,l,p,Z,P]),V=(0,s.useMemo)((function(){var e,t,n,r,a,o,i;return null!=l&&l.show_identity&&1===(null==l?void 0:l.show_identity)&&null!=l&&null!==(e=l.identity_label)&&void 0!==e&&e.url_list?null!=l&&null!==(t=l.identity_label)&&void 0!==t&&t.url_list[0]?null==l||null===(n=l.identity_label)||void 0===n?void 0:n.url_list[0]:null!=l&&null!==(r=l.identity_label)&&void 0!==r&&r.url_list[1]?null==l||null===(a=l.identity_label)||void 0===a?void 0:a.url_list[1]:null!=l&&null!==(o=l.identity_label)&&void 0!==o&&o.url_list[2]?null==l||null===(i=l.identity_label)||void 0===i?void 0:i.url_list[2]:"":""}),[l]);return s.createElement("div",{className:f()(wt,(0,c.Z)({},It,E))},a&&s.createElement("span",{className:Nt},a),s.createElement("span",{style:{cursor:"pointer"},onClick:G},s.createElement(jt,{user:t,activity:E})),s.createElement("span",{className:kt,onClick:G},B,V&&s.createElement("span",{className:At},s.createElement("img",{src:globalThis.xssNamespace.douyin_web.filterUrl(V,null,{logType:"js.href/src",mode:"black",reportOnly:!1})})),h),s.createElement("span",{className:Nt},n))})),Yt=n(49819),Qt=n(1640),Jt=(0,u.Pi)((function(e){var t=e.message,n=t.payload,r=n.user,a=n.content,o=(0,s.useContext)(Yt.Z),l=o.display,i=L()(o),c=(0,m.Z)(),u=c.userStore.userInfo,d=c.roomStore.roomInfo,f=u.sec_uid,v=u.id_str,p=d.roomId,_=void 0===p?"":p;return s.createElement(Kt,{hasReport:!0,user:r,loginSecUid:f,loginUid:v,roomId:_,message:t,activity:!1},l?s.createElement(Qt.Z,{content:a,reflex:i}):a)})),qt="ZBL3mDe5",Xt="sG3bJJhR",$t="HCajOVT6",en="xvIN8CM4",tn=n(29703),nn=(0,u.Pi)((function(e){var t,n,a=e.message,l=a.payload,i=l.user,c=l.gift,u=l.gift_id,d=l.to_user,f=(0,m.Z)(),v=f.userStore.userInfo,p=f.roomStore.roomInfo,_=f.giftStore.giftPages,h=f.linkmicStore.linkRoomTypeHooks,g=v.sec_uid,E=v.id_str,y=p.roomId,S=void 0===y?"":y,b=(0,s.useState)(),C=(0,r.Z)(b,2),w=C[0],k=C[1];(0,s.useEffect)((function(){k(h)}),[]);var A="audio"===w||"video"===w,N=(0,tn.dU)(u),I=(null==_||null===(t=_[1])||void 0===t?void 0:t.giftList)||[],x=(null==I||null===(n=Zt()(I).call(I,(function(e){return(null==e?void 0:e.id)===Number(u)})))||void 0===n?void 0:n.icon)||"",T=((0,nt.x_)(a.payload.gift)?Number(a.payload.group_count):Number(a.payload.repeat_count))||1;return s.createElement(s.Fragment,null,c||N?s.createElement(Kt,{user:i,loginSecUid:g,loginUid:E,roomId:S,message:a,separator:A?" ":"\uff1a"},s.createElement("span",{className:qt},A?s.createElement("span",{className:$t},"\u9001\u7ed9\xa0",s.createElement("span",null,null==d?void 0:d.nickname,"\xa0",T,"\u4e2a",null==c?void 0:c.name),s.createElement("img",{className:Xt,src:globalThis.xssNamespace.douyin_web.filterUrl((0,Vt.uC)(o()(c,"image.url_list[0]",x)),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:""})):s.createElement("span",{className:$t},"\u9001\u51fa\u4e86",s.createElement("img",{className:Xt,src:globalThis.xssNamespace.douyin_web.filterUrl((0,Vt.uC)(o()(c,"image.url_list[0]",x)),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:""}),s.createElement("span",{className:en},"\xa0\xd7\xa0",T)))):null)})),rn=(0,u.Pi)((function(e){var t=e.message,n=t.payload,r=n.user,a=n.action,o=n.content,l=(0,m.Z)(),i=l.userStore.userInfo,c=l.roomStore.roomInfo,u=i.sec_uid,d=i.id_str,f=c.roomId,v=void 0===f?"":f,p=null==o?void 0:o.split(" "),_=2===a&&(null==r?void 0:r.sec_uid)===u;return s.createElement(s.Fragment,null,_?s.createElement(Kt,{user:r,loginSecUid:u,loginUid:d,roomId:v,message:t,separator:" ",prefix:"".concat(null==p?void 0:p[0]," ")},s.createElement("span",null,null==p?void 0:p[2])):null)})),an=(0,u.Pi)((function(e){var t=e.message,n=t.payload.user,r=(0,m.Z)(),a=r.userStore.userInfo,o=r.roomStore.roomInfo,l=a.sec_uid,c=a.id_str,u=o.roomId,d=void 0===u?"":u;return Number(t.payload.action)!==i.WU.ENTER?s.createElement(s.Fragment,null):s.createElement(Kt,{hasReport:!1,user:n,loginSecUid:l,loginUid:c,roomId:d,message:t,separator:" "},"\u6765\u4e86")})),on=(0,u.Pi)((function(e){var t=e.message,n=t.payload.user,r=(0,m.Z)(),a=r.userStore.userInfo,o=r.roomStore.roomInfo,l=a.sec_uid,i=a.id_str,c=o.roomId,u=void 0===c?"":c;return s.createElement(Kt,{hasReport:!1,user:n,loginSecUid:l,loginUid:i,roomId:u,message:t,separator:"\uff1a"},"\u4e3a\u4e3b\u64ad\u70b9\u8d5e\u4e86")})),ln=function(e){return e[e.FOLLOW_ANCHOR=1]="FOLLOW_ANCHOR",e[e.UNFOLLOW_ANCHOR=2]="UNFOLLOW_ANCHOR",e[e.SHARE_ROOM=3]="SHARE_ROOM",e}({}),sn=(0,u.Pi)((function(e){var t=e.message,n=t.payload,r=n.user,a=n.action,o=(0,m.Z)(),l=o.userStore.userInfo,i=o.roomStore.roomInfo,c=l.sec_uid,u=l.id_str,d=i.roomId,f=void 0===d?"":d;return s.createElement(Kt,{hasReport:!1,user:r,loginSecUid:c,loginUid:u,roomId:f,message:t,separator:"\uff1a"},function(){switch(Number(a)){case ln.FOLLOW_ANCHOR:return"\u5173\u6ce8\u4e86\u4e3b\u64ad";case ln.UNFOLLOW_ANCHOR:return"\u53d6\u6d88\u5173\u6ce8\u4e86\u4e3b\u64ad";case ln.SHARE_ROOM:return"\u5206\u4eab\u4e86\u672c\u6b21\u76f4\u64ad";default:return""}}())})),cn=(Ht={},(0,c.Z)(Ht,i.lm.WEBCAST_CHAT_MESSAGE,Jt),(0,c.Z)(Ht,i.lm.WEBCAST_GIFT_MESSAGE,nn),(0,c.Z)(Ht,i.lm.WEBCAST_MEMBER_MESSAGE,an),(0,c.Z)(Ht,i.lm.WEBCAST_LIKE_MESSAGE,on),(0,c.Z)(Ht,i.lm.WEBCAST_SOCIAL_MESSAGE,sn),(0,c.Z)(Ht,i.lm.WEBCAST_FANS_CLUB_MESSAGE,rn),Ht),un=[i.lm.ROOM_MESSAGE,i.lm.WEBCAST_ROOM_MESSAGE,i.lm.WEBCAST_CHAT_MESSAGE,i.lm.WEBCAST_GIFT_MESSAGE,i.lm.WEBCAST_MEMBER_MESSAGE,i.lm.WEBCAST_LIKE_MESSAGE,i.lm.WEBCAST_FANS_CLUB_MESSAGE,i.lm.WEBCAST_EXHIBITION_CHAT_MESSAGE],dn=(i.lm.ROOM_MESSAGE,i.lm.WEBCAST_ROOM_MESSAGE,i.lm.WEBCAST_CHAT_MESSAGE,i.lm.WEBCAST_GIFT_MESSAGE,i.lm.WEBCAST_MEMBER_MESSAGE,i.lm.WEBCAST_NOTICE_MESSAGE,i.lm.WEBCAST_CONTROL_MESSAGE,i.lm.WEBCAST_ROOM_USER_SEQ_MESSAGE,i.lm.WEBCAST_LINK_MESSAGE,i.lm.WEBCAST_LIKE_MESSAGE,i.lm.WEBCAST_SOCIAL_MESSAGE,[i.lm.WEBCAST_MEMBER_MESSAGE]),fn={height:"32px"},mn={height:"44px"},vn=n(97753),pn=n(89669),_n=n(72002),hn=n(56920),gn=n(59858),En=n(17612),yn=n(87788),Sn=function(e,t,n,a){var l=(0,m.Z)(),c=l.roomStore,u=c.roomInfo,d=c.likeStatus,f=c.setLikeStatus,v=c.isAsianGames,p=c.emojiReflex,_=l.singletonStore.message,h=l.eventStore.chatEvent,g=l.cameraStore.cameraInfo,E=(0,gn.j)().liveWatchOptimize,y=void 0===E?0:E,b=(0,En.d)(yn.e1.Chat),C=b.ticketInfo,w=b.isCanView,A=(0,s.useRef)(!1),N=(0,s.useMemo)((function(){return function(e,t,n,r,a){var l=arguments.length>5&&arguments[5]!==undefined?arguments[5]:function(){},s=arguments.length>6?arguments[6]:undefined,c=arguments.length>7?arguments[7]:undefined;return function(){var u=(0,S.Z)(k().mark((function u(d){var f,m,v,p,_,h,g;return k().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(null===(f=t.current)||void 0===f||f.inputClear(),m=e.roomId,v=void 0===m?"":m,a){u.next=5;break}return null==l||l({interact_name:"Chat"},"\u8d2d\u7968\u540e\u53ef\u53c2\u4e0e\u4e92\u52a8"),u.abrupt("return");case 5:return null==r||r.liveAudienceLiveEvent({anchor_id:o()(e,"anchor.id_str",""),room_id:v,message:d,is_only_emoji:(0,ze.Lt)(d,s)}),u.next=8,(0,_n.W)((0,D.Z)({room_id_str:v,content:d,episode_id:o()(e,"room.episode_extra.episode_id_str"),stage:o()(e,"room.episode_extra.mod.episode_stage")},null!=c&&c.cameraId?{camera_id:null==c?void 0:c.cameraId}:{}));case 8:p=u.sent,0!==(_=p.data).status_code&&Re.k.event(x()(h="[".concat(Ue.Tn.Error,"]")).call(h,Ue.Mo.LiveUserChatError),{statusCode:null==_?void 0:_.status_code,message:(null==_||null===(g=_.data)||void 0===g?void 0:g.prompts)||"",is_client:(0,De.DT)()}),u.t0=_.status_code,u.next=u.t0===i.Ze.SUCCESS?14:u.t0===i.Ze.MUTE?17:u.t0===i.Ze.WORD_LIMITED?19:21;break;case 14:return(0,ze.bz)(_.data.content),n.queuePush((0,ze.ft)(_.data)),u.abrupt("break",23);case 17:return Se.F.info(_.data.prompts||"\u4f60\u5df2\u88ab\u7981\u8a00"),u.abrupt("break",23);case 19:return Se.F.info(_.data.prompts||"\u8d85\u51fa\u5b57\u6570\u9650\u5236"),u.abrupt("break",23);case 21:return Se.F.info(_.data.prompts||"\u670d\u52a1\u51fa\u73b0\u5f02\u5e38"),u.abrupt("break",23);case 23:case"end":return u.stop()}}),u)})));return function(e){return u.apply(this,arguments)}}()}(u,t,_,h,w,C,g,p)}),[u,t,_,h,w,C,p]),I=(0,vn.Z)(),T=(0,pn.j)(a),M=(0,r.Z)(T,2),O=M[0],Z=M[1],B=(0,s.useState)(!1),F=(0,r.Z)(B,2),R=F[0],U=F[1],P=(0,gn.j)().liveGiftDanmakuFilter;return(0,s.useEffect)((function(){var e;v&&null!=g&&g.cameraId&&(null==t||null===(e=t.current)||void 0===e||e.clear())}),[v,g,t]),(0,s.useEffect)((function(){return _.on("ChatMessage",(function(t){I!==i.$V.LIVING_END&&(y!==hn.PX.Off||A.current)&&(Z(Ve()(t).call(t,(function(t){return(0,ze.G$)(e,t)}))),O())}))}),[n,e,I,Z,O,g]),(0,s.useEffect)((function(){return _.on("MemberMessage",(function(t){I!==i.$V.LIVING_END&&(Z(Ve()(t).call(t,(function(t){return(0,ze.J$)(t)&&(0,ze.G$)(e,t)}))),O())}))}),[n,e,I,Z,O,g]),(0,s.useEffect)((function(){var e;if(!ht()(e=[hn.Rp.Chat,hn.Rp.Both]).call(e,P))return _.on("GiftMessage",(function(e){I!==i.$V.LIVING_END&&(Z(Ve()(e).call(e,(function(e){return(0,ze.J$)(e)}))),O())}))}),[n,e,I,Z,O,g,P]),(0,s.useEffect)((function(){return _.on("RoomMessage",(function(t){I!==i.$V.LIVING_END&&(A.current||(A.current=!0),Z(Ve()(t).call(t,(function(t){return(0,ze.J$)(t)&&(0,ze.G$)(e,t)}))),O())}))}),[n,e,I,Z,O,g]),(0,s.useEffect)((function(){return _.on("FansclubMessage",(function(e){I!==i.$V.LIVING_END&&(Z(e),O())}))}),[n,e,I,Z,O,g]),(0,s.useEffect)((function(){return _.on("LikeMessage",(function(t){if(I!==i.$V.LIVING_END){var n=!1,r=Ve()(t).call(t,(function(t){var r,a,o=(null==t||null===(r=t.payload)||void 0===r||null===(a=r.user)||void 0===a?void 0:a.id)===e;return!o||R||n?o?void 0:t:(U(!0),n=!0,t)}));Z(r),O()}}))}),[n,e,I,Z,O,R,U,g]),(0,s.useEffect)((function(){return _.on("ExhibitionChatMessage",(function(e){I!==i.$V.LIVING_END&&(Z(e),O())}))}),[n,e,I,Z,O,g]),(0,s.useEffect)((function(){return _.on("RoomAuthInterventionVerifyMessage",(function(e){L()(e).call(e,(function(e,t){var n,r;if(d.Digg=Number(null==e||null===(n=e.payload)||void 0===n?void 0:n.status)!==i.Xq.CLOSE,null!=d&&null!==(r=d.SpecialStyle)&&void 0!==r&&r.Like){var a;d.SpecialStyle.Like.UnableStyle=null==e||null===(a=e.payload)||void 0===a?void 0:a.unableStyle,f(d)}else{var o,l,s={Digg:Number(null==e||null===(o=e.payload)||void 0===o?void 0:o.status)!==i.Xq.CLOSE,SpecialStyle:{Like:{Content:"",OffType:0,UnableStyle:null==e||null===(l=e.payload)||void 0===l?void 0:l.unableStyle}}};f(s)}}))}))}),[d,f,g]),{onSend:N}},bn=n(26688),Cn=function(){var e=(0,m.Z)().roomStore,t=e.setEmojiList,n=e.setEmojiReflex,r=e.emojiReflex,a=e.emojiList;return(0,s.useEffect)((function(){(0,S.Z)(k().mark((function e(){var r,a,o,l,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,bn.b)();case 2:o=e.sent,l={},i=null===(r=o.data)||void 0===r?void 0:L()(a=r.emoji_list).call(a,(function(e){var t=e.origin_uri,n=e.display_name,r=e.emoji_url,a=e.hide;return l[n]=r.url_list[0],{display_name:n,hide:a,uri:t,url:r.url_list[0]}})),t(i),n(l);case 7:case"end":return e.stop()}}),e)})))()}),[]),(0,s.useMemo)((function(){return{input:!0,display:!0,map:r,list:a,icon:""}}),[r,a])},wn=n(19154),kn=function(){var e=(0,m.Z)(),t=e.roomStore.roomInfo,n=e.singletonStore.message,r=(0,s.useRef)(!1),a=(0,s.useRef)(""),l=(0,s.useCallback)((0,S.Z)(k().mark((function e(){var l,i,s,c,u,d,f,m,v,p,_,h;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.current){e.next=2;break}return e.abrupt("return",[]);case 2:return a.current||(a.current=n.getCursor()),s=null===(l=n.getPolling())||void 0===l?void 0:l.props,c=n.getPolling(),u=n.getDecoder(),d={aid:null==s?void 0:s.aid,app_name:null==s?void 0:s.app_name,did_rule:null==s?void 0:s.did_rule,endpoint:null==s?void 0:s.endpoint,live_id:null==s?void 0:s.live_id,support_wrds:null==s?void 0:s.support_wrds,user_unique_id:null==s?void 0:s.user_unique_id,room_id:o()(t,"roomId"),need_persist_msg_count:15,device_id:null==s?void 0:s.user_unique_id},e.next=9,(0,wn.s)((0,D.Z)((0,D.Z)({},d),{},{cursor:a.current}));case 9:return f=e.sent,e.next=12,c.transport.decode(new Uint8Array(f.data));case 12:if(m=e.sent,v=m.response){e.next=18;break}return e.abrupt("return",[]);case 18:a.current=null==v?void 0:v.cursor;case 19:if(null==v||!v.history_no_more){e.next=22;break}return r.current=!0,e.abrupt("return",[]);case 22:if(!(null!=v&&v.messages&&(null==v||null===(i=v.messages)||void 0===i?void 0:i.length)>0)){e.next=30;break}return _=null==v?void 0:v.messages,e.next=26,Be().all(L()(p=null!=_?_:[]).call(p,function(){var e=(0,S.Z)(k().mark((function e(t){var n,r,a,o;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=t.method,e.next=3,(0,S.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n||!r){e.next=7;break}return e.next=4,u.decode(n,r);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=undefined;case 8:return e.abrupt("return",e.t0);case 11:return e.prev=11,e.t1=e.catch(0),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))();case 3:return a=e.sent,o=(0,D.Z)((0,D.Z)({},t),{},{payload:a}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 26:return h=e.sent,e.abrupt("return",h);case 30:return e.abrupt("return",[]);case 31:case"end":return e.stop()}}),e)}))),[t]);return{getHistoryData:l}},An=n(48532),Nn=function(e,t,n,a,o,l,i,c,u){var d=(0,m.Z)(),f=d.userStore.userInfo,v=(d.linkmicStore.linkMicLayout,d.eventStore.chatEvent),p=(0,s.useState)(!1),_=(0,r.Z)(p,2),h=_[0],g=_[1],E=(0,s.useRef)(),y=(0,s.useState)([]),S=(0,r.Z)(y,2),b=S[0],C=S[1],w=(0,s.useCallback)((function(e){C(e)}),[]),k=Cn(),A=Sn(f.id_str,E,n,w).onSend,N=kn().getHistoryData,I=(0,gn.j)().liveWatchOptimize,x=(void 0===I?0:I)===hn.PX.On;return{renderChatRoom:(0,s.useCallback)((function(){return(0,s.createElement)(An.ZP,{ref:E,className:e,inputContainerStyle:x?mn:fn,emojiConfig:k,customMessages:cn,messageMethods:un,bottomMessageMethods:dn,showHeader:!1,enableChat:h,source:b,placeholder:"\u4e0e\u5927\u5bb6\u4e92\u52a8\u4e00\u4e0b...",inputLimit:50,enableEnterSend:!0,disableInputEnterWrap:!0,onSend:A,onClickTextArea:a?function(){l(!0)}:undefined,enableAnimation:!0,isMediaLive:t,isFixedChat:a,isSpringSkin:o,isHiddenGift:!1,userId:null==f?void 0:f.id_str,isTheaterOn:i,isFullScreen:c,audienceDevelop:u,emojiTea:v,isOptimizeAb:x,getHistoryData:N})}),[e,k,h,a,o,l,t,A,b,null==f?void 0:f.id_str,i,c,u]),setEnableChat:g,enableChat:h,onSend:A,chatroomRef:E}},In=n(40637),xn=n(16470),Tn=n(44909),Ln=n(40408),Mn=n(3543),On=n(21155),Zn=n.n(On),Bn=function(e,t,n,r,a,l){var u=(0,m.Z)(),d=u.audienceStore,f=d.setAudienceSwitchStatus,v=d.setAudienceAuthStatus,p=u.singletonStore.message,_=u.isLiveModal,h=(0,vn.Z)();(0,s.useEffect)((function(){return p.on("RoomVerifyMessage",(function(e){Zn()(e).call(e,(function(e){var t=e.method,n=e.payload;if(t&&n)switch(Number(n.action)){case i.Jq.CLOSE_CHAT:r(!1),a(mt.DEFAULT);break;case i.Jq.OPEN_CHAT:r(!0)}}))}))}),[r,a]),(0,s.useEffect)((function(){return p.on("ControlMessage",(function(e){Zn()(e).call(e,(function(e){var t,n=e.method,a=e.payload;if(n&&a)switch(Number(a.action)){case i.Rz.FINISH:case i.Rz.FINISH_BY_ADMIN:case i.Rz.ROOM_FINISH_BY_SWITCH:f(!1),null===(t=l.current)||void 0===t||t.clear();break;case i.Rz.RESUME:f(!0),r(!0)}}))}))}),[f,r,l]),(0,s.useEffect)((function(){return null==p?void 0:p.on("MemberMessage",(function(t){Zn()(t).call(t,(function(t){var n,s=t.method,c=t.payload;if(s&&c)switch(Number(c.action)){case i.WU.SET_SILENCE:case i.WU.MANAGER_SET_SILENCE:r(!1),a(mt.MUTE);break;case i.WU.CANCEL_SILENCE:case i.WU.MANAGER_CANCEL_SILENCE:r(!0);break;case i.WU.BLOCK:v(!1),r(!1),a(mt.BLACK_HOUSE);break;case i.WU.KICK_OUT:v(!1),r(!1),a(mt.KICK_OUT),null===(n=l.current)||void 0===n||n.clear();break;case i.WU.LEAVE:if(_)return;var u,d=o()(c,"user.id");if("WEB_INITIATIVE"!==c.action_description&&d===e)v(!1),r(!1),a(mt.KICK_OUT),null===(u=l.current)||void 0===u||u.clear()}}))}))}),[r,v,a,e,l,_,p]),(0,s.useEffect)((function(){return p.on("NoticeMessage",(function(e){Zn()(e).call(e,(function(e){var t=e.method,n=e.payload;if(t&&n&&Number(n.notice_type)===i.F3.RESUME)r(!0)}))}))}),[]),(0,s.useEffect)((function(){return p.on("ImDeleteMessage",(function(e){Zn()(e).call(e,(function(e){var t,n=e.method,r=e.payload;if(n&&r){var a=r.delete_msg_ids;null===(t=l.current)||void 0===t||t.delete(a)}}))}))}),[]);var g=(0,s.useMemo)((function(){var e;return e={},(0,c.Z)(e,i.$V.ROOM_ID_EMPTY,(function(){r(!1),a(mt.DEFAULT)})),(0,c.Z)(e,i.$V.LIVING_PAUSE,(function(){r(!0)})),(0,c.Z)(e,i.$V.NO_LOGIN,(function(){r(!1),a(mt.NO_LOGIN)})),(0,c.Z)(e,i.$V.LIVING_END,(function(){r(!1),a(mt.END)})),(0,c.Z)(e,i.$V.DEFAULT,(function(){r(!0)})),e}),[a,r]);(0,s.useEffect)((function(){g[h](),t&&(r(!1),v(!1),a(mt.APP_ONLY))}),[g,h,t,v,a,r])},Fn=n(669),Rn=(0,u.Pi)((function(e,t){var n,a,c,u=e.css,d=e.className,v=e.isMedia,p=e.isVerified,_=e.isFixedChat,h=e.isAppOnly,g=e.isSpringSkin,E=e.isTheaterOn,y=e.isFullScreen,S=(0,s.useState)(mt.DEFAULT),b=(0,r.Z)(S,2),C=b[0],w=b[1],k=(0,m.Z)(),A=k.userStore.userInfo,N=k.roomStore.roomInfo,I=k.audienceStore,x=I.audiencePanelStatus,T=I.audienceStatus,L=I.setAudienceAuthStatus,M=k.layoutStore.resource,O=k.paidLiveStore.viewType,Z=(0,s.useState)(!1),B=(0,r.Z)(Z,2),F=B[0],R=B[1],U=(0,s.useState)(!1),D=(0,r.Z)(U,2),P=D[0],G=D[1];(0,s.useEffect)((function(){var e=(0,l.n)(N);L(e&&!h&&!v)}),[N,h,v]);var V=(0,s.useMemo)((function(){return{uid:o()(A,"id_str")}}),[A]).uid,z=Nn(u.chatroom,v,p,_,g,R,E,y,P),j=z.onSend,H=z.renderChatRoom,W=z.setEnableChat,K=z.enableChat,Y=z.chatroomRef;(0,s.useImperativeHandle)(t,(function(){return{onSend:j,setShowChat:R}})),Bn(V,h,p,W,w,Y);var Q=(0,s.useMemo)((function(){var e,t,n,r;return O!==Fn.ku.NORMAL_WATCH&&(null===(e=N.room)||void 0===e||null===(t=e.room_auth)||void 0===t||null===(n=t.SpecialStyle)||void 0===n||null===(r=n.Chat)||void 0===r?void 0:r.AnchorSwitchForPaidLive)===i.RZ.OFF}),[O,N]);return s.createElement("div",{className:f()(u.chatroomWrap,d),style:{background:g?null==M||null===(n=M.color)||void 0===n?void 0:n.chatBack:undefined}},x&&s.createElement(xn.k,{componentName:Tn.l.AUDIENCE_PANEL,type:"module"},s.createElement(it,{userId:V,showAudienceContent:T,setAudienceDevelop:G})),s.createElement("div",{className:u.chatroomContainer},F&&s.createElement(xn.k,{componentName:Tn.l.FIXED_CHAT},s.createElement(Ln.Z,{isSkin:g,enable:_,onSend:j,onClose:function(){R(!1)}})),(null===(a=N.room)||void 0===a||null===(c=a.room_auth)||void 0===c?void 0:c.PublicScreen)===i.RZ.OFF||Q?s.createElement(Mn.jj,{type:Mn.NI.emptyList,title:"\u5f53\u524d\u76f4\u64ad\u95f4\u6682\u4e0d\u652f\u6301\u53d1\u5f39\u5e55"}):s.createElement("div",{className:u.chatroomContent},s.createElement(In.N,null,H())),!K&&s.createElement(pt,{className:u.input_disabled,type:C})))}),{forwardRef:!0})},5671:function(e,t,n){n.d(t,{Z:function(){return xe}});var r,a,o,l,i,s,c,u,d,f,m=n(65146),v=n(64408),p=n(32781),_=n(56402),h=n.n(_),g=n(19478),E=n.n(g),y=n(5594),S=n.n(y),b=n(85792),C=n.n(b),w=n(53864),k=n(79705),A=n.n(k),N=n(95138),I=n(49915),x=n(21619),T=n(29703);function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}var M,O,Z,B,F,R,U,D,P,G,V=function(e){return w.createElement("svg",L({width:28,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=w.createElement("g",{opacity:.6,filter:"url(#fansIconBg_svg__filter0_i_1910_111921)"},w.createElement("path",{d:"M9.111 3.996H1.853a.74.74 0 00-.74.74 3.703 3.703 0 002.711 3.569l5.287 1.468V3.996z",fill:"url(#fansIconBg_svg__paint0_linear_1910_111921)"}))),a||(a=w.createElement("g",{filter:"url(#fansIconBg_svg__filter1_i_1910_111921)"},w.createElement("path",{d:"M12.667 7.107H3.811a.812.812 0 00-.807.914 4.062 4.062 0 002.885 3.393l5 1.47 1.778-5.777z",fill:"url(#fansIconBg_svg__paint1_linear_1910_111921)"}))),o||(o=w.createElement("g",{opacity:.6,filter:"url(#fansIconBg_svg__filter2_i_1910_111921)"},w.createElement("path",{d:"M18.889 3.996h7.258a.74.74 0 01.74.74 3.703 3.703 0 01-2.711 3.569l-5.287 1.468V3.996z",fill:"url(#fansIconBg_svg__paint2_linear_1910_111921)"}))),w.createElement("mask",{id:"fansIconBg_svg__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:18,y:3,width:9,height:7},l||(l=w.createElement("path",{d:"M18.888 3.996h7.258a.74.74 0 01.74.74 3.703 3.703 0 01-2.711 3.569l-5.287 1.468V3.996z",fill:"url(#fansIconBg_svg__paint3_linear_1910_111921)"}))),i||(i=w.createElement("g",{opacity:.1,filter:"url(#fansIconBg_svg__filter3_f_1910_111921)",mask:"url(#fansIconBg_svg__a)"},w.createElement("path",{d:"M21.93 9.394c1.585-1.583 1.486-4.949 1.486-5.939l-3.47.495-2.973 6.434c.826.165 3.37.594 4.956-.99z",fill:"#FF3E01"}))),s||(s=w.createElement("g",{filter:"url(#fansIconBg_svg__filter4_i_1910_111921)"},w.createElement("path",{d:"M15.333 7.107h8.856c.49 0 .867.429.807.914a4.062 4.062 0 01-2.885 3.393l-5 1.47-1.778-5.777z",fill:"url(#fansIconBg_svg__paint4_linear_1910_111921)"}))),w.createElement("g",{filter:"url(#fansIconBg_svg__filter5_i_1910_111921)"},c||(c=w.createElement("g",{filter:"url(#fansIconBg_svg__filter6_i_1910_111921)"},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.545 1.595C4.81 3.505 4.6 6.54 6.177 8.61c.696.913 1.438 1.84 2.11 2.58 1.426 1.57 3.622 3.494 4.83 4.522.256.218.566.309.867.28.309.037.629-.053.892-.276 1.209-1.028 3.41-2.952 4.837-4.525.671-.739 1.413-1.666 2.107-2.578 1.575-2.072 1.364-5.105-.371-7.016-1.933-2.128-5.066-2.128-6.999 0l-.454.5-.457-.503c-1.931-2.127-5.062-2.127-6.994 0z",fill:"url(#fansIconBg_svg__paint5_linear_1910_111921)"}))),w.createElement("mask",{id:"fansIconBg_svg__b",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:5,y:0,width:18,height:16},u||(u=w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.545 1.595C4.81 3.505 4.6 6.54 6.177 8.61c.696.913 1.438 1.84 2.11 2.58 1.426 1.57 3.622 3.494 4.83 4.522.256.218.566.309.867.28.309.037.629-.053.892-.276 1.209-1.028 3.41-2.952 4.837-4.525.671-.739 1.413-1.666 2.107-2.578 1.575-2.072 1.364-5.105-.371-7.016-1.933-2.128-5.066-2.128-6.999 0l-.454.5-.457-.503c-1.931-2.127-5.062-2.127-6.994 0z",fill:"url(#fansIconBg_svg__paint6_linear_1910_111921)"}))),d||(d=w.createElement("g",{mask:"url(#fansIconBg_svg__b)"},w.createElement("path",{d:"M19.331 14.22L5.999.888 7.42-4.51l9.996-1.732 10.904 8.66L19.33 14.22z",fill:"url(#fansIconBg_svg__paint7_linear_1910_111921)"}),w.createElement("path",{d:"M25.18 13.504L13.11.888l.258-6.437 9.995-1.732 10.904 8.66-9.086 12.125z",fill:"url(#fansIconBg_svg__paint8_linear_1910_111921)"})))),f||(f=w.createElement("defs",null,w.createElement("linearGradient",{id:"fansIconBg_svg__paint0_linear_1910_111921",x1:1.557,y1:2.663,x2:4.224,y2:8.937,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#FFE7AA"}),w.createElement("stop",{offset:1,stopColor:"#FFB74B"})),w.createElement("linearGradient",{id:"fansIconBg_svg__paint1_linear_1910_111921",x1:9.556,y1:9.774,x2:4.509,y2:14.261,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#FFB422"}),w.createElement("stop",{offset:.549,stopColor:"#FFC75A"}),w.createElement("stop",{offset:1,stopColor:"#FFD074"})),w.createElement("linearGradient",{id:"fansIconBg_svg__paint2_linear_1910_111921",x1:25.999,y1:2.663,x2:23.547,y2:7.649,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#FFF065"}),w.createElement("stop",{offset:1,stopColor:"#FFA800"})),w.createElement("linearGradient",{id:"fansIconBg_svg__paint3_linear_1910_111921",x1:24.408,y1:7.909,x2:22.736,y2:-.674,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#FFF065"}),w.createElement("stop",{offset:1,stopColor:"#FFC700"})),w.createElement("linearGradient",{id:"fansIconBg_svg__paint4_linear_1910_111921",x1:19.333,y1:9.774,x2:24.838,y2:11.76,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#FFA012"}),w.createElement("stop",{offset:.701,stopColor:"#FFBA35"})),w.createElement("linearGradient",{id:"fansIconBg_svg__paint5_linear_1910_111921",x1:6.738,y1:5.329,x2:21.314,y2:14.374,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#FFF8B5"}),w.createElement("stop",{offset:.573,stopColor:"#FFE68D"}),w.createElement("stop",{offset:1,stopColor:"#FFA928"})),w.createElement("linearGradient",{id:"fansIconBg_svg__paint6_linear_1910_111921",x1:6.738,y1:5.329,x2:17.014,y2:14.096,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#FFD84D"}),w.createElement("stop",{offset:.584,stopColor:"#FFBF3E"}),w.createElement("stop",{offset:1,stopColor:"#F90"})),w.createElement("linearGradient",{id:"fansIconBg_svg__paint7_linear_1910_111921",x1:7.146,y1:.4,x2:20.378,y2:13.619,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#FFF8B6"}),w.createElement("stop",{offset:1,stopColor:"#FFC34E"})),w.createElement("linearGradient",{id:"fansIconBg_svg__paint8_linear_1910_111921",x1:14.197,y1:-.535,x2:22.042,y2:8.566,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#FFEA7E"}),w.createElement("stop",{offset:1,stopColor:"#FFBF44"})),w.createElement("filter",{id:"fansIconBg_svg__filter0_i_1910_111921",x:1.112,y:3.996,width:7.999,height:6.666,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),w.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),w.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.createElement("feOffset",{dy:.889}),w.createElement("feGaussianBlur",{stdDeviation:.889}),w.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),w.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 0.97 0 0 0 0 0.8125 0 0 0 0.7 0"}),w.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1910_111921"})),w.createElement("filter",{id:"fansIconBg_svg__filter1_i_1910_111921",x:2.998,y:7.107,width:9.669,height:6.666,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),w.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),w.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.createElement("feOffset",{dy:.889}),w.createElement("feGaussianBlur",{stdDeviation:1.333}),w.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),w.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 0.932667 0 0 0 0 0.579167 0 0 0 0.6 0"}),w.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1910_111921"})),w.createElement("filter",{id:"fansIconBg_svg__filter2_i_1910_111921",x:18.889,y:3.996,width:7.999,height:6.666,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),w.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),w.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.createElement("feOffset",{dy:.889}),w.createElement("feGaussianBlur",{stdDeviation:.889}),w.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),w.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 0.97 0 0 0 0 0.8125 0 0 0 0.7 0"}),w.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1910_111921"})),w.createElement("filter",{id:"fansIconBg_svg__filter3_f_1910_111921",x:15.195,y:1.677,width:10.001,height:10.663,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),w.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),w.createElement("feGaussianBlur",{stdDeviation:.889,result:"effect1_foregroundBlur_1910_111921"})),w.createElement("filter",{id:"fansIconBg_svg__filter4_i_1910_111921",x:15.333,y:7.107,width:9.669,height:6.666,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),w.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),w.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.createElement("feOffset",{dy:.889}),w.createElement("feGaussianBlur",{stdDeviation:.889}),w.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),w.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 0.932667 0 0 0 0 0.579167 0 0 0 0.3 0"}),w.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1910_111921"})),w.createElement("filter",{id:"fansIconBg_svg__filter5_i_1910_111921",x:4.221,y:-.889,width:18.665,height:16.889,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),w.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),w.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.createElement("feOffset",{dx:-.889,dy:-.889}),w.createElement("feGaussianBlur",{stdDeviation:1.333}),w.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),w.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.2 0"}),w.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1910_111921"})),w.createElement("filter",{id:"fansIconBg_svg__filter6_i_1910_111921",x:5.109,y:0,width:18.665,height:16.889,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),w.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),w.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.createElement("feOffset",{dx:.889,dy:.889}),w.createElement("feGaussianBlur",{stdDeviation:1.333}),w.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),w.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.21 0"}),w.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1910_111921"})))))};function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}var j=function(e){return w.createElement("svg",z({width:26,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M||(M=w.createElement("g",{opacity:.6,filter:"url(#fansIconNotActiveBg_svg__filter0_i_1910_111971)"},w.createElement("path",{d:"M8.111 3.996H.853a.74.74 0 00-.74.74 3.703 3.703 0 002.711 3.569l5.287 1.468V3.996z",fill:"url(#fansIconNotActiveBg_svg__paint0_linear_1910_111971)"}))),O||(O=w.createElement("g",{filter:"url(#fansIconNotActiveBg_svg__filter1_i_1910_111971)"},w.createElement("path",{d:"M11.667 7.107H2.811a.812.812 0 00-.807.914 4.062 4.062 0 002.885 3.393l5 1.47 1.778-5.777z",fill:"url(#fansIconNotActiveBg_svg__paint1_linear_1910_111971)"}))),Z||(Z=w.createElement("g",{opacity:.6,filter:"url(#fansIconNotActiveBg_svg__filter2_i_1910_111971)"},w.createElement("path",{d:"M17.889 3.996h7.258a.74.74 0 01.74.74 3.703 3.703 0 01-2.711 3.569l-5.287 1.468V3.996z",fill:"url(#fansIconNotActiveBg_svg__paint2_linear_1910_111971)"}))),w.createElement("mask",{id:"fansIconNotActiveBg_svg__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:17,y:3,width:9,height:7},B||(B=w.createElement("path",{opacity:.6,d:"M17.888 3.996h7.258a.74.74 0 01.74.74 3.703 3.703 0 01-2.711 3.569l-5.287 1.468V3.996z",fill:"url(#fansIconNotActiveBg_svg__paint3_linear_1910_111971)"}))),F||(F=w.createElement("g",{opacity:.2,filter:"url(#fansIconNotActiveBg_svg__filter3_f_1910_111971)",mask:"url(#fansIconNotActiveBg_svg__a)"},w.createElement("path",{d:"M20.93 9.394c1.585-1.583 1.486-4.949 1.486-5.939l-3.47.495-2.973 6.434c.826.165 3.37.594 4.956-.99z",fill:"#000"}))),R||(R=w.createElement("g",{filter:"url(#fansIconNotActiveBg_svg__filter4_i_1910_111971)"},w.createElement("path",{d:"M14.333 7.107h8.856c.49 0 .867.429.807.914a4.062 4.062 0 01-2.885 3.393l-5 1.47-1.778-5.777z",fill:"url(#fansIconNotActiveBg_svg__paint4_linear_1910_111971)"}))),w.createElement("g",{filter:"url(#fansIconNotActiveBg_svg__filter5_i_1910_111971)"},U||(U=w.createElement("g",{filter:"url(#fansIconNotActiveBg_svg__filter6_i_1910_111971)"},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.545 1.595C3.81 3.505 3.6 6.54 5.177 8.61c.696.913 1.438 1.84 2.11 2.58 1.426 1.57 3.622 3.494 4.83 4.522.256.218.566.309.867.28.309.037.629-.053.892-.276 1.209-1.028 3.41-2.952 4.837-4.525.671-.739 1.413-1.666 2.107-2.578 1.575-2.072 1.364-5.105-.371-7.016-1.933-2.128-5.066-2.128-6.999 0l-.454.5-.457-.503c-1.931-2.127-5.062-2.127-6.994 0z",fill:"url(#fansIconNotActiveBg_svg__paint5_linear_1910_111971)"}))),w.createElement("mask",{id:"fansIconNotActiveBg_svg__b",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:4,y:0,width:18,height:16},D||(D=w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.545 1.595C3.81 3.505 3.6 6.54 5.177 8.61c.696.913 1.438 1.84 2.11 2.58 1.426 1.57 3.622 3.494 4.83 4.522.256.218.566.309.867.28.309.037.629-.053.892-.276 1.209-1.028 3.41-2.952 4.837-4.525.671-.739 1.413-1.666 2.107-2.578 1.575-2.072 1.364-5.105-.371-7.016-1.933-2.128-5.066-2.128-6.999 0l-.454.5-.457-.503c-1.931-2.127-5.062-2.127-6.994 0z",fill:"url(#fansIconNotActiveBg_svg__paint6_linear_1910_111971)"}))),P||(P=w.createElement("g",{mask:"url(#fansIconNotActiveBg_svg__b)"},w.createElement("path",{d:"M18.331 14.22L4.999.888 6.42-4.51l9.996-1.732 10.904 8.66L18.33 14.22z",fill:"url(#fansIconNotActiveBg_svg__paint7_linear_1910_111971)"}),w.createElement("path",{d:"M24.18 13.504L12.11.888l.258-6.437 9.995-1.732 10.904 8.66-9.086 12.125z",fill:"url(#fansIconNotActiveBg_svg__paint8_linear_1910_111971)"})))),G||(G=w.createElement("defs",null,w.createElement("linearGradient",{id:"fansIconNotActiveBg_svg__paint0_linear_1910_111971",x1:.557,y1:2.663,x2:3.224,y2:8.937,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#EAEAEA"}),w.createElement("stop",{offset:1,stopColor:"#A2A2A2"})),w.createElement("linearGradient",{id:"fansIconNotActiveBg_svg__paint1_linear_1910_111971",x1:8.556,y1:9.774,x2:3.509,y2:14.261,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#7A7A7A"}),w.createElement("stop",{offset:.549,stopColor:"#B0B0B0"}),w.createElement("stop",{offset:1,stopColor:"#D2D2D2"})),w.createElement("linearGradient",{id:"fansIconNotActiveBg_svg__paint2_linear_1910_111971",x1:25.443,y1:2.663,x2:22.776,y2:8.937,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#BBB"}),w.createElement("stop",{offset:1,stopColor:"#8C8C8C"})),w.createElement("linearGradient",{id:"fansIconNotActiveBg_svg__paint3_linear_1910_111971",x1:25.442,y1:2.663,x2:22.775,y2:8.937,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#EAEAEA"}),w.createElement("stop",{offset:1,stopColor:"#777"})),w.createElement("linearGradient",{id:"fansIconNotActiveBg_svg__paint4_linear_1910_111971",x1:17.444,y1:9.774,x2:22.491,y2:14.261,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#5F5F5F"}),w.createElement("stop",{offset:.549,stopColor:"#9C9C9C"}),w.createElement("stop",{offset:1,stopColor:"#B1B1B1"})),w.createElement("linearGradient",{id:"fansIconNotActiveBg_svg__paint5_linear_1910_111971",x1:5.738,y1:5.329,x2:20.314,y2:14.374,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#E4E4E4"}),w.createElement("stop",{offset:.573,stopColor:"#BABABA"}),w.createElement("stop",{offset:1,stopColor:"#919191"})),w.createElement("linearGradient",{id:"fansIconNotActiveBg_svg__paint6_linear_1910_111971",x1:5.738,y1:5.329,x2:16.014,y2:14.096,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#FFD84D"}),w.createElement("stop",{offset:.584,stopColor:"#FFBF3E"}),w.createElement("stop",{offset:1,stopColor:"#F90"})),w.createElement("linearGradient",{id:"fansIconNotActiveBg_svg__paint7_linear_1910_111971",x1:6.146,y1:.4,x2:19.378,y2:13.619,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#E7E7E7"}),w.createElement("stop",{offset:1,stopColor:"#969696"})),w.createElement("linearGradient",{id:"fansIconNotActiveBg_svg__paint8_linear_1910_111971",x1:13.197,y1:-.535,x2:26.604,y2:11.965,gradientUnits:"userSpaceOnUse"},w.createElement("stop",{stopColor:"#C5C5C5"}),w.createElement("stop",{offset:1,stopColor:"#848484"})),w.createElement("filter",{id:"fansIconNotActiveBg_svg__filter0_i_1910_111971",x:.112,y:3.996,width:7.999,height:6.666,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),w.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),w.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.createElement("feOffset",{dy:.889}),w.createElement("feGaussianBlur",{stdDeviation:.889}),w.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),w.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.7 0"}),w.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1910_111971"})),w.createElement("filter",{id:"fansIconNotActiveBg_svg__filter1_i_1910_111971",x:1.998,y:7.107,width:9.669,height:6.666,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),w.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),w.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.createElement("feOffset",{dy:.889}),w.createElement("feGaussianBlur",{stdDeviation:1.333}),w.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),w.createElement("feColorMatrix",{values:"0 0 0 0 0.833333 0 0 0 0 0.833333 0 0 0 0 0.833333 0 0 0 0.6 0"}),w.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1910_111971"})),w.createElement("filter",{id:"fansIconNotActiveBg_svg__filter2_i_1910_111971",x:17.889,y:3.996,width:7.999,height:6.666,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),w.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),w.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.createElement("feOffset",{dy:.889}),w.createElement("feGaussianBlur",{stdDeviation:.889}),w.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),w.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.7 0"}),w.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1910_111971"})),w.createElement("filter",{id:"fansIconNotActiveBg_svg__filter3_f_1910_111971",x:14.195,y:1.677,width:10.001,height:10.663,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),w.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),w.createElement("feGaussianBlur",{stdDeviation:.889,result:"effect1_foregroundBlur_1910_111971"})),w.createElement("filter",{id:"fansIconNotActiveBg_svg__filter4_i_1910_111971",x:14.333,y:7.107,width:9.669,height:6.666,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),w.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),w.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.createElement("feOffset",{dy:.889}),w.createElement("feGaussianBlur",{stdDeviation:1.333}),w.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),w.createElement("feColorMatrix",{values:"0 0 0 0 0.833333 0 0 0 0 0.833333 0 0 0 0 0.833333 0 0 0 0.6 0"}),w.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1910_111971"})),w.createElement("filter",{id:"fansIconNotActiveBg_svg__filter5_i_1910_111971",x:3.221,y:-.889,width:18.665,height:16.889,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),w.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),w.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.createElement("feOffset",{dx:-.889,dy:-.889}),w.createElement("feGaussianBlur",{stdDeviation:1.333}),w.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),w.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.2 0"}),w.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1910_111971"})),w.createElement("filter",{id:"fansIconNotActiveBg_svg__filter6_i_1910_111971",x:4.109,y:0,width:18.665,height:16.889,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),w.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),w.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.createElement("feOffset",{dx:.889,dy:.889}),w.createElement("feGaussianBlur",{stdDeviation:1.333}),w.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),w.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.21 0"}),w.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_1910_111971"})))))},H=n(8e3),W=n.n(H),K=n(82524),Y=function(){var e=(0,w.useState)([]),t=(0,p.Z)(e,2),n=t[0],r=t[1],a=(0,K.Z)(),o=a.userStore.userInfo,l=a.singletonStore.message,i=(0,w.useMemo)((function(){return{uid:h()(o,"id_str")}}),[o]).uid;return(0,w.useEffect)((function(){return null==l?void 0:l.on("FansclubMessage",(function(e){var t,n=W()(t=W()(e).call(e,(function(e){return e.method===x.YZ.WEBCAST_FANS_CLUB_METHOD}))).call(t,(function(e){var t,n;return(null==e||null===(t=e.payload)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id)===i}));n.length>0&&r(n)}))}),[i,r,l]),{fansClubMessages:n}},Q=n(90229),J=n(17612),q=n(34346),X=n.n(q),$=n(56758),ee=n(29524),te=n(79953),ne="JUW3IUcx",re="zS3qvPEg",ae="nhWkY0gq",oe="Z1kUcZPJ",le="e_6BDEPj",ie="PWtMI0bM",se="C0mbLi7R",ce="JyeySNEj",ue="FdrTvPjI",de="eodzSoU4",fe="qHJAnHFl",me="AfnWIYy6",ve="_dY8_FjJ",pe="UVezDeTT",_e="V74XZOi3",he=function(e){var t=e.introduceInfo,n=(0,K.Z)().fansClubStore.setFansClubShowStatus;if(!t)return null;var r=t.header,a=[{id:1,img:ee,text:"\u9177\u70ab\u52cb\u7ae0"},{id:2,img:$,text:"\u4e13\u5c5e\u793c\u7269"},{id:3,img:te,text:"\u8fdb\u573a\u7279\u6548"}];return w.createElement("div",{className:A()(ne),onClick:function(e){e.stopPropagation()}},w.createElement("div",{className:re},w.createElement("div",{className:ae,style:{backgroundImage:"url(".concat(null==r?void 0:r.anchorAvatar,")")}}),w.createElement("div",{className:oe},w.createElement("span",{className:le},null==r?void 0:r.anchorName),w.createElement("span",{className:ie},"\u7684\u7c89\u4e1d\u56e2")),w.createElement("div",{className:se,onClick:function(){return n({isShow:!0,source:""})}})),w.createElement("div",{className:ce},w.createElement("div",{className:ue}),w.createElement("div",{className:fe},"\u7c89\u4e1d\u56e2\u6743\u76ca"),w.createElement("div",{className:de})),w.createElement("div",{className:me},X()(a).call(a,(function(e,t){return w.createElement("div",{className:ve,key:t},w.createElement("div",{className:pe,style:{backgroundImage:"url(".concat(e.img,")")}}),w.createElement("div",{className:_e},e.text))}))))},ge=(0,w.memo)(he),Ee="WcvndvnN",ye="OmOnwTdr",Se="wgFoz5Uz",be="khulcwyh",Ce="DaX5rexK",we="JAJQTzXU",ke="D0HJ22wf",Ae="THKXtQgU",Ne="LJJWpE5A",Ie=n(87788),xe=function(e){var t=e.fansClubButtonShowStatus,n=e.hasFetchDataStatus,r=e.currencyName,a=e.isNewStyle,o=void 0!==a&&a,l=(0,w.useState)(!1),i=(0,p.Z)(l,2),s=i[0],c=i[1],u=(0,w.useState)(!1),d=(0,p.Z)(u,2),f=d[0],_=d[1],g=(0,w.useState)(!1),y=(0,p.Z)(g,2),b=y[0],k=y[1],L=(0,w.useState)(!1),M=(0,p.Z)(L,2),O=M[0],Z=M[1],B=(0,w.useState)(!0),F=(0,p.Z)(B,2),R=F[0],U=F[1],D=(0,w.useState)("+"),P=(0,p.Z)(D,2),G=P[0],z=P[1],H=(0,w.useState)("\u52a0\u5165\u7c89\u4e1d\u56e2"),W=(0,p.Z)(H,2),q=W[0],X=W[1],$=(0,w.useRef)(!1),ee=(0,w.useRef)(!1),te=E()((function(){return Z(!1)}),100),ne=(0,Q.Z)(),re=ne.getFansMeData,ae=ne.handleJoinFansClub,oe=Y().fansClubMessages,le=(0,J.d)(Ie.e1.FansClub),ie=le.isCanView,se=le.ticketInfo,ce=(0,K.Z)(),ue=ce.roomStore.roomInfo,de=ce.userStore.userInfo,fe=ce.fansClubStore,me=fe.fansClubJoinStatus,ve=fe.fansClubAutoLightStatus,pe=fe.fansClubShowStatus,_e=fe.setFansClubAuthStatus,he=fe.setFansClubShowStatus,xe=fe.setFansClubButtonShowStatus,Te=fe.setHasFetchDataStatus,Le=ce.giftStore.giftStatus,Me=ce.paidLiveStore.paidLiveAuth,Oe=ce.eventStore.fansclubEvent,Ze=w.useMemo((function(){return h()(ue,"anchor.nickname","")}),[ue]),Be=w.useMemo((function(){return h()(ue,"anchor.avatar_thumb.url_list[0]","")}),[ue]),Fe=1===w.useMemo((function(){return h()(ue,"room.room_auth.FansClub")}),[ue]),Re=w.useMemo((function(){return h()(ue,"anchor.follow_info.follow_status",I.E.INNOCENT)}),[ue]),Ue=w.useMemo((function(){return h()(de,"id_str","")}),[de]),De={header:{anchorName:Ze,anchorAvatar:Be}},Pe=Le,Ge=function(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1],n=arguments.length>2?arguments[2]:undefined;if(s){var r,a=x.vg.NAME,o=x.eI.FANS;e?t?"\u505a\u4efb\u52a1\u5f97\u4eb2\u5bc6\u5ea6"===n&&(a=x.vg.TASK):(a=x.vg.DARK,o=x.eI.DARK_FANS):(a=x.vg.ENTER,o=x.eI.NOT_FANS),null==Oe||null===(r=Oe.liveFansClubButtonShowEvent)||void 0===r||r.call(Oe,{icon_type:a,is_fans_club:o}),$.current=!0}},Ve=function(e){var t=e?x.yc:0;try{C()((0,v.Z)(S().mark((function e(){var t,n,r,a,o,l,i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:t=e.sent,n=t.fansMeData,r=t.isjoin,_(r),Te(!0),r&&n?(a=null==n?void 0:n.fansButtonInfo,o=a.buttonNumber,l=a.buttonText,i=a.isActive,z(o),X(l),U(i),!$.current&&Ge(r,i,l)):(z("+"),X("\u52a0\u5165\u7c89\u4e1d\u56e2"),!$.current&&Ge(r,!1,"\u52a0\u5165\u7c89\u4e1d\u56e2"));case 8:case"end":return e.stop()}}),e)}))),t)}catch(n){}},ze=function(){var e=(0,v.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie||null==se||se({interact_name:"fans"}),!(0,T.ig)(Fe,Pe,Boolean(Me.FansClub))){e.next=5;break}return e.next=4,ae({autoShow:!0,source:x.q7.FANS_CLUB_ICON});case 4:Ve(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,w.useEffect)((function(){(s||oe.length>0)&&Ve(!1)}),[ve,me,pe]),(0,w.useEffect)((function(){Ue&&Fe?(_e(Fe),Ve(!1),t||f?(c(!0),xe(!0)):(c(!1),xe(!1))):c(!1)}),[s,t,Re,Ue,f]),(0,w.useEffect)((function(){k(!!s&&!!f)}),[s,f]),s&&n?w.createElement(N.zx,{size:N.qE.small,className:A()(f&&!R?ye:Ee,(0,m.Z)({},Ne,o)),onMouseLeave:te,onMouseEnter:function(){Z(!0),te.cancel()},onClick:function(){var e;if(!ee.current){ee.current=!0,C()((function(){ee.current=!1}),500);var n=x.vg.NAME,r=x.eI.FANS;f?R?"\u505a\u4efb\u52a1\u5f97\u4eb2\u5bc6\u5ea6"===q&&(n=x.vg.TASK):(n=x.vg.DARK,r=x.eI.DARK_FANS):(n=x.vg.ENTER,r=x.eI.NOT_FANS),null==Oe||null===(e=Oe.liveFansClubButtonClickEvent)||void 0===e||e.call(Oe,{icon_type:n,is_fans_club:r}),t&&!f&&(he({isShow:!1,source:""}),ze()),(0,T.lH)(Boolean(Me.FansClub))&&b&&he({isShow:!0,source:x.q7.FANS_CLUB_ICON})}}},R&&w.createElement(V,{className:Se}),f&&!R&&w.createElement(j,{className:Se}),w.createElement("span",{className:A()(be,Number(G)>9?Ce:"")},G),!o&&w.createElement("span",{className:A()(we,f&&!R?ke:"")},q),!f&&!o&&w.createElement("span",{className:Ae},"\uff081".concat(r,"\uff09")),!f&&O&&w.createElement(ge,{introduceInfo:De})):null}},8084:function(e,t,n){n.d(t,{q:function(){return N},Z:function(){return I}});var r=n(65146),a=n(64408),o=n(32781),l=n(56402),i=n.n(l),s=n(5594),c=n.n(s),u=n(34590),d=n(95138),f=n(79705),m=n.n(f),v=n(53864),p=n(49915),_=n(89474),h=n(37337),g=n(91615),E=n(15504),y=n(78511),S=n(66453),b=n(97876),C="MAyor8pP",w="gySLo5bI",k="fIKESxt_",A="gOkFVUpM",N=function(e){return e===p.E.FOLLOWING||e===p.E.BOTH},I=function(e){var t=e.followStatus,n=e.className,l=e.isLogin,s=e.current_room_id,f=e.sec_to_user_id,I=e.sec_user_id,x=e.to_user_id,T=e.channel_id,L=e.size,M=e.followCb,O=e.toast,Z=void 0===O||O,B=e.onClick,F=(e.isIframe,e.isUgcLive),R=e.pointParams,U=e.buttonStyle,D=e.fansClubIsShow,P=e.liveFollowEvent,G=e.liveUnFollowEvent,V=e.anchorId,z=(0,v.useState)(t),j=(0,o.Z)(z,2),H=j[0],W=j[1],K=(0,v.useState)("primary"),Y=(0,o.Z)(K,2),Q=Y[0],J=Y[1],q=(0,v.useState)("\u5173\u6ce8"),X=(0,o.Z)(q,2),$=X[0],ee=X[1],te=null==R?void 0:R.click_user_position,ne=v.useMemo((function(){return _.s||F||V!==x?h.VA.AUDIENCE:h.VA.ANCHOR}),[x,V]);(0,v.useEffect)((function(){W(t)}),[t]),(0,v.useEffect)((function(){l?H===p.E.FOLLOWING?D||(ee("\u5df2\u5173\u6ce8"),J("secondary")):H===p.E.BOTH?D||(ee("\u4e92\u76f8\u5173\u6ce8"),J("secondary")):(ee("\u5173\u6ce8"),J("primary")):(ee("\u5173\u6ce8"),J("primary"))}),[l,H,D]);var re=(0,v.useCallback)((0,a.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={current_room_id:s||"0",sec_to_user_id:f,sec_user_id:I,to_user_id:x,channel_id:T},e.prev=1,!(n=N(H))){e.next=9;break}return e.next=6,(0,g.fv)(t);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,(0,g.ZN)(t);case 11:e.t0=e.sent;case 12:0===(r=e.t0).data.status_code?(n?G(x,ne,te):(P(x,ne,te),S.a.TrayPushGuideManager.emitFollowEvent(),b.emit(b.EVENT.showClientDownloadGuide,{isShow:!0,type:"follow",text:"\u53ca\u65f6\u63a5\u6536\u300c\u5173\u6ce8\u7684\u4eba\u300d\u5f00\u64ad\u63d0\u9192"})),Z&&u.F.info(n?"\u53d6\u6d88\u5173\u6ce8\u6210\u529f":"\u5173\u6ce8\u6210\u529f"),M&&M(r.data.data.follow_status),W(r.data.data.follow_status)):u.F.info(i()(r,"data.data.prompts","\u670d\u52a1\u5668\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01")),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),E.k.error("\u5173\u6ce8\u5f02\u5e38\uff1a",e.t1);case 19:case"end":return e.stop()}}),e,null,[[1,16]])}))),[H,T,s,M,f,I,x]),ae=function(){var e=(0,a.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B&&B(),l){e.next=4;break}return(0,y.x)({headerText:"\u767b\u5f55\u540e\u5373\u53ef\u5173\u6ce8",success:function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),E.k.error("\u5173\u6ce8\u5f02\u5e38\uff1a",e.t0);case 8:window.location.reload();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),next:"https://".concat(null===(t=window)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.host),enterMethod:"livesdk_follow"}),e.abrupt("return");case 4:return e.next=6,re();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"symbol"===U?v.createElement("div",{className:m()(w,n,N(H)?C:k),onClick:ae,"data-e2e":"live-followbutton"}):v.createElement(d.zx,{size:L,className:m()(C,(0,r.Z)({},A,"secondary"===Q),n),onClick:ae,type:Q,"data-e2e":"live-followbutton"},$)}},98362:function(e,t,n){n.d(t,{R:function(){return G},Z:function(){return V}});var r=n(64408),a=n(32781),o=n(19478),l=n.n(o),i=n(34346),s=n.n(i),c=n(5594),u=n.n(c),d=n(95138),f=n(53864),m=n(65146),v=n(79705),p=n.n(v),_="KglJFGx9",h="yW94uavu",g="d8lQg2al",E="xOgaWoA2",y=n(1818),S=n.n(y),b=n(7924),C=n.n(b),w=n(21155),k=n.n(w),A=n(50750),N=n.n(A),I=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],x=null,T={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},L=function(e){var t;k()(t=N()(T)).call(t,(function(t){e.style.setProperty(t,T[t],"important")}))},M=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize};var O=function(e){var t=e.notResize,n=void 0!==t&&t,r=e.value,o=e.onChange,l=e.placeholder,i=e.maxLength,s=e.width,c=e.className,u=e.minHeight,d=f.useRef(null),v=f.useState(),y=(0,a.Z)(v,2),b=y[0],w=y[1],A=f.useCallback((function(){var e=d.current;if(e){var t=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n=S()(t,I);return""===n.boxSizing?null:{sizingStyle:n,paddingSize:C()(n.paddingBottom)+C()(n.paddingTop),borderSize:C()(n.borderBottomWidth)+C()(n.borderTopWidth)}}(e);if(!t)return;var n=function(e,t){var n,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1,a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Infinity;x||((x=document.createElement("textarea")).setAttribute("tab-index","-1"),x.setAttribute("aria-hidden","true"),L(x)),null===x.parentNode&&document.body.appendChild(x);var o=e.paddingSize,l=e.borderSize,i=e.sizingStyle,s=i.boxSizing;k()(n=N()(i)).call(n,(function(e){x.style[e]=i[e]})),L(x),x.value=t;var c=M(x,e);x.value="x";var u=M(x,e)-o-l,d=u*r;"border-box"===s&&(d=d+o+l),c=Math.max(d,c);var f=u*a;return"border-box"===s&&(f=f+o+l),Math.min(f,c)}(t,r);n!==b&&w(n)}}),[r,b]);f.useEffect((function(){n||A()}),[r]);var T=f.useCallback((function(e){var t=e.target.value;o&&o(t)}),[o]);return f.createElement("div",{style:{width:s},className:p()(_,c)},f.createElement("textarea",{maxLength:i,value:r,ref:d,style:{minHeight:u,height:b},onChange:T,placeholder:l,className:h}),i!==undefined&&f.createElement("div",{className:p()(g,(0,m.Z)({},E,r.length>i))},r.length,"/",i))},Z=n(34028),B="Qf_9gHWC",F="QuhVEASV",R="uvZdZ6xi",U="fIWvY1kM",D="nHLhsm7i",P="FvIuPCKg",G={ROOM:0,COMMENT:1},V=function(e){var t,n,o,i=e.type,c=e.reasons,m=e.onSubmit,v=f.useState(""),p=(0,a.Z)(v,2),_=p[0],h=p[1],g=f.useState(""),E=(0,a.Z)(g,2),y=E[0],S=E[1],b=f.useMemo((function(){for(var e={},t=0;t<c.length;t++){var n=c[t];e[t%3]?e[t%3].push(n):e[t%3]=[n]}return e}),[c]),C=f.useCallback((function(e){S(e)}),[]),w=f.useCallback(l()((0,r.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,G.ROOM!==i){e.next=9;break}return t={reason:y,reportDesc:_,reportRecordExtra:_},e.next=7,m(t);case 7:e.next=12;break;case 9:return n={desc:_,reason:y},e.next=12,m(n);case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(2);case 16:case"end":return e.stop()}}),e,null,[[2,14]])}))),300),[_,y,m]);return f.createElement("div",{className:B},f.createElement("div",{className:U},f.createElement("div",{className:D},s()(t=b[0]||[]).call(t,(function(e){return f.createElement(Z.Z,{key:e.value,selected:y===e.value,label:e.label,value:e.value,className:P,onClick:C})}))),f.createElement("div",{className:D},s()(n=b[1]||[]).call(n,(function(e){return f.createElement(Z.Z,{key:e.value,selected:y===e.value,label:e.label,value:e.value,className:P,onClick:C})}))),f.createElement("div",{className:D},s()(o=b[2]||[]).call(o,(function(e){return f.createElement(Z.Z,{key:e.value,selected:y===e.value,label:e.label,value:e.value,className:P,onClick:C})})))),f.createElement(O,{notResize:!0,maxLength:140,placeholder:"\u8bf7\u8be6\u7ec6\u63cf\u8ff0\u4e3e\u62a5\u539f\u56e0\uff0c\u4fbf\u4e8e\u5e73\u53f0\u5224\u65ad\u8fdd\u89c4\u60c5\u51b5",minHeight:75,value:_,onChange:h,className:F}),f.createElement(d.zx,{size:"large",className:R,onClick:w,disabled:!y},"\u63d0\u4ea4"))}},70175:function(e,t,n){n.d(t,{F:function(){return A}});var r=n(30906),a=n(64408),o=n(32781),l=n(56402),i=n.n(l),s=n(5594),c=n.n(s),u=n(58144),d=n.n(u),f=n(34346),m=n.n(f),v=n(53864),p=n(60443),_=n(97702),h=n(98362),g=n(34590),E=n(57162),y=n(15504),S=n(65454),b=n(86324),C=n(25902),w=n(61065),k=function(e){var t=e.type,n=e.param,l=e.submitParam,s=e.onClose,u=e.store,f=e.container,p=(0,v.useState)([]),S=(0,o.Z)(p,2),C=S[0],w=S[1],k=u.eventStore.reportEvent,A=(0,v.useMemo)((function(){return h.R.ROOM===t?"\u4e3e\u62a5\u672c\u573a\u76f4\u64ad":"\u8bc4\u8bba\u4e3e\u62a5"}),[t]),N=(0,v.useCallback)(function(){var e=(0,a.Z)(c().mark((function e(n){var a,o,u,m,v,p,y;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.R.ROOM===t?"\u4e3e\u62a5\u672c\u573a\u76f4\u64ad\u6210\u529f":"\u4e3e\u62a5\u8bc4\u8bba\u6210\u529f",o=f||document.body,h.R.ROOM===t&&(u=_.ZP.findDom(o,".xgplayer.basicPlayer"))&&(o=u),e.prev=3,h.R.ROOM!==t){e.next=11;break}return null==k||k.liveReportSubmitEvent({reason:d()(C).call(C,(function(e){return e.value===n.reason})).label,detail:n.reportDesc}),e.next=8,(0,E.HX)((0,r.Z)((0,r.Z)({},n),l));case 8:m=e.sent,e.next=15;break;case 11:return null==k||k.liveReportCommentEvent({toUserId:l.secReportedUserId,webcast_to_user_id:null==l?void 0:l.webcast_uid,reason:d()(C).call(C,(function(e){return e.value===n.reason})).label,detail:n.desc}),e.next=14,(0,E.K5)((0,r.Z)((0,r.Z)({},n),l));case 14:m=e.sent;case 15:return p=(v=m).status_code,y=v.data,a=p?i()(y,"prompts",h.R.ROOM===t?"\u4e3e\u62a5\u672c\u573a\u76f4\u64ad\u5931\u8d25":"\u4e3e\u62a5\u8bc4\u8bba\u5931\u8d25"):"\u63d0\u4ea4\u6210\u529f",e.next=19,s();case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),a=h.R.ROOM===t?"\u4e3e\u62a5\u672c\u573a\u76f4\u64ad\u5931\u8d25":"\u4e3e\u62a5\u8bc4\u8bba\u5931\u8d25";case 24:return e.prev=24,g.F.info(a,o),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[3,21,24,27]])})));return function(t){return e.apply(this,arguments)}}(),[t,s,C,l,k,f]);return(0,v.useEffect)((function(){(0,a.Z)(c().mark((function e(){var r,a,o,l,s,u,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=[],h.R.ROOM!==t){e.next=10;break}return e.next=5,(0,E.jV)(n);case 5:a=e.sent,o=a.data,r=m()(o).call(o,(function(e){return{label:e.reason_str,value:e.reason}})),e.next=15;break;case 10:return e.next=12,(0,E.OD)(n);case 12:s=e.sent,u=s.data,m()(l=i()(u,"report_reasons",[])).call(l,(function(e){r.push({label:e.reason,value:e.serial_id})}));case 15:w(r),e.next=24;break;case 18:e.prev=18,e.t0=e.catch(0),d=document.body,h.R.ROOM===t&&(d=_.ZP.findDom(document.body,".xgplayer")),g.F.info("\u7f51\u7edc\u51fa\u73b0\u95ee\u9898, \u8bf7\u7a0d\u540e\u91cd\u8bd5",d),y.k.error("\u83b7\u53d6\u4e3e\u62a5\u4fe1\u606f\u5f02\u5e38: ",e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,18]])})))()}),[t]),v.createElement(b.Z,{title:A,visible:!0,onCancel:s},v.createElement(h.Z,{type:t,onSubmit:N,reasons:C}))},A=function(e){var t=e.type,n=e.param,r=e.submitParam,o=e.callback,l=e.store,i=_.ZP.findDom(document.body,".living-modal"),s=document.getElementById(S.P)||document.body;(0,C.r)()&&(s=(0,w.W)()),i||(i=document.createElement("div"),_.ZP.addClass(i,"living-modal"),s.appendChild(i));var u=function(){s.style.overflow="",_.ZP.removeClass(i,"living-modal"),p.unmountComponentAtNode(i),s.removeChild(i)},d=function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=3;break}return e.next=3,o();case 3:u();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.style.overflow="hidden",p.render(v.createElement(k,{store:l,type:t,param:n,submitParam:r,onClose:d,container:s}),i),u}},86324:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(79705),a=n.n(r),o=n(27809),l=n(9909),i=n(85011),s=n(53864),c="aHexCip8",u="sAGTxCht",d="q4ipfxqd",f="bDU2GzDj",m="xCQpJ094",v=function(e){var t=e.children,n=e.title,r=e.visible,v=e.className,p=e.onCancel,_=e.closeable,h=void 0===_||_,g=s.useCallback((function(){p&&p(!1)}),[p]);return r?s.createElement(o.T,{className:a()(c,v)},s.createElement("div",{className:u},h&&s.createElement("div",{className:d,onClick:g},s.createElement(l.Z,{width:36,height:36,src:globalThis.xssNamespace.douyin_web.filterUrl(i.Z,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),color:"#A9AAB7"})),n&&s.createElement("div",{className:f},n),s.createElement("div",{className:m},t))):null}},92826:function(e,t,n){n.d(t,{S:function(){return o}});var r=n(34590),a=n(53236),o=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"\u8d2d\u4e70\u95e8\u7968\u540e\u53ef\u4f7f\u7528\u8be5\u529f\u80fd";(0,a.ys)(e),r.F.info(t)}},34028:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(65146),a=n(53864),o="PgCvR_FY",l="owydyXgg",i="c4KQrQ5A",s="q_rqBcUV",c="TSm4EE9b",u=n(79705),d=n.n(u),f=function(e){var t=e.selected,n=e.disable,u=e.label,f=e.className,m=e.onClick,v=e.value,p=a.useCallback((function(){m&&m(v,!t)}),[v,t,m]);return a.createElement("div",{className:d()(o,(0,r.Z)({},c,n),f),onClick:p},a.createElement("div",{className:d()(l,(0,r.Z)({},i,t))}),u&&a.createElement("span",{className:s},u))}},4509:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(53864),a=n(46852),o="fZ8bv55C",l="JbEIkuHq",i=function(e){var t=e.likeCount,n=r.useMemo((function(){return(0,a.uf)(t)}),[t]);return r.createElement("div",{className:o},r.createElement("div",{className:l},n,"\u672c\u573a\u70b9\u8d5e"))},s="d0QSpvuB",c="st8eGKi4",u=n(68100),d=function(e){var t=e.anchorNickname,n=e.children,a=e.likeCount,o=void 0===a?0:a,l=e.showTitle,d=void 0!==l&&l,f=e.title,m=void 0===f?"":f,v=r.useCallback((function(){return o>0}),[o]);return r.createElement("div",{className:s},n,r.createElement("div",{className:c,"data-e2e":"live-room-nickname"},d&&m?r.createElement(u.Y,{text:m}):t),v()&&r.createElement(i,{likeCount:o}))}},42977:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(94090),a=n.n(r),o=n(53864),l=n(58075),i=n(37337),s=n(77060),c=n(51078),u="cSLtCkVW",d="INliXZyi",f="LlSrlDma",m=n(28712),v=n(82524),p=function(e){var t,n,r=e.anchorSecUserId,p=e.anchorAvatar,_=e.avatarBorder,h=e.isSpider,g=(0,v.Z)().eventStore,E=g.basicEvent,y=g.userEvent,S=(0,o.useRef)("");return(0,o.useEffect)((function(){var e,t;if(!(0,m.p)()){var n=null!==(e=null==E?void 0:E.getEnterEventParams())&&void 0!==e?e:{},r=n.enter_method,o=void 0===r?"":r,l=n.enter_from_merge,i=void 0===l?"":l;S.current=a()(t="?enter_method=".concat(o,"&enter_from_merge=")).call(t,i,"&event_page=live_detail&tab_name=")}}),[r]),o.createElement(s.a,{className:u,href:globalThis.xssNamespace.douyin_web.filterUrl(a()(t=a()(n="//".concat((0,l.iE)().VIDEO_DOMAIN,"/user/")).call(n,r)).call(t,S.current),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),target:"_blank",rel:"noreferrer",onClick:function(){null==y||y.liveClickUserEvent({click_type:"anchor",event_page:"live_detail",click_user_position:i.JC.LIVE_OPEN_TOP_LEFT_ANCHOR})}},o.createElement(c.q,{className:d,type:"extraExtraExtraSmall",src:globalThis.xssNamespace.douyin_web.filterUrl(p,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),isSpider:h}),_&&o.createElement("div",{className:f,style:{backgroundImage:"url(".concat(_,")")}}))}},31769:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(56402),a=n.n(r),o=n(49915),l=n(91615),i=n(8084),s=n(82524),c=n(95138),u=n(32153),d=n(53864),f="NOsJySmV",m=(0,u.Pi)((function(){var e=(0,s.Z)(),t=e.roomStore,n=t.roomInfo,r=t.setFollowStatus,u=e.linkmicStore,m=u.setIsFansGuide,v=u.linkMicConfig,p=e.fansClubStore,_=p.fansClubButtonShowStatus,h=p.hasFetchDataStatus,g=p.fansClubStatus,E=p.setFansClubButtonShowStatus,y=e.userStore.userInfo,S=e.eventStore.userEvent,b=e.singletonStore.container,C=a()(n,"anchor.follow_info.follow_status",o.E.INNOCENT);(0,d.useEffect)((function(){var e=C===o.E.FOLLOWING||C===o.E.BOTH;null==b||b.emit("userStatusChange",{follow_status:Number(e)})}),[C]);var w=(0,d.useMemo)((function(){return{roomId:a()(n,"roomId",""),sec_to_user_id:a()(n,"anchor.sec_uid",""),to_user_id:a()(n,"anchor.id_str","")}}),[n]),k=w.roomId,A=w.sec_to_user_id,N=w.to_user_id,I=(0,d.useMemo)((function(){return{isLogin:Boolean(a()(y,"id_str","")),sec_user_id:a()(y,"sec_uid","")}}),[y]),x=I.isLogin,T=I.sec_user_id,L=1===d.useMemo((function(){return a()(n,"room.room_auth.FansClub")}),[n]),M=d.useCallback((function(e){r(e),e===o.E.FOLLOWED&&(v.big_party_accept_need_verified||v.audio_chat_accept_need_verified)&&m(!0),E(e===o.E.FOLLOWING||e===o.E.BOTH)}),[r,v,m,E]);return(0,d.useEffect)((function(){E(C===o.E.FOLLOWING||C===o.E.BOTH)}),[]),_&&h?d.createElement(d.Fragment,null):d.createElement(i.Z,{channel_id:l.RN.ROOM,className:f,size:c.qE.normal,followStatus:C,isLogin:x,sec_user_id:T,sec_to_user_id:A,to_user_id:N,current_room_id:k,fansClubIsShow:L&&g,followCb:M,liveFollowEvent:null==S?void 0:S.liveFollowEvent,liveUnFollowEvent:null==S?void 0:S.liveUnFollowEvent,anchorId:N})}))},48999:function(e,t,n){n.d(t,{Z:function(){return Ie}});var r,a=n(30906),o=n(65146),l=n(56402),i=n.n(l),s=n(11227),c=n.n(s),u=n(34346),d=n.n(u),f=n(46611),m=n(26750),v=n(59858),p=n(82524),_=n(96973),h=n(79705),g=n.n(h),E=n(32153),y=n(53864),S=n(4509),b=n(32781),C=n(19478),w=n.n(C);function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}var A,N=function(e){return y.createElement("svg",k({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=y.createElement("path",{d:"M1.75 2.917c0-.645.522-1.167 1.167-1.167h1.75a.583.583 0 010 1.167h-1.75v1.75a.583.583 0 01-1.167 0v-1.75zM1.75 7c0-.322.261-.583.583-.583h9.334a.583.583 0 010 1.166H2.333A.583.583 0 011.75 7zM2.917 12.25a1.167 1.167 0 01-1.167-1.167v-1.75a.583.583 0 011.167 0v1.75h1.75a.583.583 0 010 1.167h-1.75zM12.25 2.917c0-.645-.522-1.167-1.167-1.167h-1.75a.583.583 0 000 1.167h1.75v1.75a.583.583 0 001.167 0v-1.75zM11.083 12.25c.645 0 1.167-.522 1.167-1.167v-1.75a.583.583 0 00-1.167 0v1.75h-1.75a.583.583 0 000 1.167h1.75z",fill:"#fff",fillOpacity:.9})))},I=n(77060),x=function(e){var t=e.children,n=(0,y.useState)(!1),r=(0,b.Z)(n,2),a=r[0],o=r[1],l=w()((function(){return o(!1)}),100),i=(0,p.Z)().eventStore.playerEvent;return y.createElement(I.a,{onClick:function(e){e.preventDefault()},onMouseLeave:l,onMouseEnter:function(){o(!0),null==i||i.liveRoomQrcodeShowEvent(),l.cancel()}},y.createElement(N,{width:14,height:14}),y.createElement("span",null,"\u624b\u673a\u89c2\u770b"),d()(y.Children).call(y.Children,t,(function(e){return(0,y.isValidElement)(e)&&(0,y.cloneElement)(e,{show:a})})))},T=n(95138),L="SghvnfyF",M="UexsJcwa",O=function(e){var t=e.children,n=(0,y.useState)(!1),r=(0,b.Z)(n,2),a=r[0],o=r[1],l=w()((function(){return o(!1)}),100),i=(0,p.Z)().eventStore.playerEvent;return y.createElement(T.zx,{className:L,onMouseLeave:l,onMouseEnter:function(){o(!0),null==i||i.liveRoomQrcodeShowEvent(),l.cancel()},"data-e2e":"mobile-view-button"},y.createElement(N,{className:M}),y.createElement("span",null,"\u624b\u673a\u89c2\u770b"),d()(y.Children).call(y.Children,t,(function(e){return(0,y.isValidElement)(e)&&(0,y.cloneElement)(e,{show:a})})))},Z="RtPwdGdV",B="hAhGUppg",F="U7iS3IZ_",R="uHbIgx_l",U=function(e){var t=e.className,n=e.qrcode_url,r=e.show,a=void 0!==r&&r;return y.createElement("div",{className:g()(Z,t),style:{display:a?"block":"none"}},y.createElement("img",{className:B,src:globalThis.xssNamespace.douyin_web.filterUrl(n,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),alt:""}),y.createElement("p",{className:F},"\u626b\u7801\u89c2\u770b"),y.createElement("p",{className:R},"\u6253\u5f00\u6296\u97f3APP\u626b\u63cf\u4e8c\u7ef4\u7801\u53ef\u4ee5\u8fdb\u884c\u66f4\u591a\u4e92\u52a8"))},D=function(e){var t=e.type,n=e.qrcode_url,r=(0,y.useMemo)((function(){return"button"===t?O:x}),[t]);return y.createElement(r,null,y.createElement(U,{qrcode_url:n}))},P=n(42977),G=n(5671),V=n(64408),z=n(85792),j=n.n(z),H=n(5594),W=n.n(H);function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}var Y,Q=function(e){return y.createElement("svg",K({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),A||(A=y.createElement("path",{d:"M5.998 9a.498.498 0 01-.355-.149L2.816 6.025a.5.5 0 11.708-.707l1.974 1.975V1.5a.5.5 0 011 0v5.794l1.977-1.976a.5.5 0 11.707.707L6.354 8.854A.498.498 0 016 9h-.003zM9 11a.5.5 0 000-1H3a.5.5 0 000 1h6z",fill:"#fff",fillOpacity:.9})))},J=n(14993),q=n(57768),X=n(96164),$=n(5611),ee=n(36543),te="JHIG5TlE",ne="XGmjgVay",re="Xe_E9Jnl",ae="t79beNCQ",oe=function(e){var t=e.userId,n=e.immersive,r=(0,y.useState)(!1),a=(0,b.Z)(r,2),o=a[0],l=a[1],i=(0,y.useState)(!1),s=(0,b.Z)(i,2),c=s[0],u=s[1],d=(0,y.useState)(!1),f=(0,b.Z)(d,2),m=f[0],v=f[1],p=(0,J.q)(),_=p.pauseAutoHide,h=p.recoverAutoHide,g=w()((function(){l(!1),n&&(null==h||h())}),100);return(0,y.useEffect)((function(){(0,V.Z)(W().mark((function e(){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,X.D5)()||(0,$.DT)()){e.next=9;break}if(!t){e.next=8;break}return e.next=4,(0,ee.Y)();case 4:n=e.sent,u(!n),e.next=9;break;case 8:m&&u(!0);case 9:case"end":return e.stop()}}),e)})))()}),[t,m]),(0,y.useEffect)((function(){var e=j()((function(){v(!0)}),5e3);return function(){clearTimeout(e)}}),[]),c?y.createElement(T.zx,{className:te,onMouseLeave:g,onMouseEnter:function(){l(!0),g.cancel(),n&&(null==_||_())},"data-e2e":"down-load"},y.createElement(Q,{width:n?12:14,height:n?12:14,viewBox:"0 0 12 12",className:ne}),y.createElement("span",{className:ae},"\u4e0b\u8f7d\u5ba2\u6237\u7aef"),y.createElement("div",{className:re,style:{display:o?"block":"none"}},y.createElement(q.E6,{isShow:o,withClose:!1,forLive:!0}))):null},le=n(31769),ie=n(76102);function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}var ce,ue,de=function(e){return y.createElement("svg",se({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Y||(Y=y.createElement("path",{d:"M8.667 12.145a1.333 1.333 0 11-2.667 0 1.333 1.333 0 012.667 0zM13.333 12.145a1.333 1.333 0 11-2.666 0 1.333 1.333 0 012.666 0zM16.667 13.479a1.333 1.333 0 100-2.667 1.333 1.333 0 000 2.667z",fill:"#2F3035",fillOpacity:.4})))},fe="lhKHPoj3",me="_b0MQ8hR",ve="GMYCseZn",pe="zydrPiGx",_e=function(e){var t=e.immersive,n=e.children,r=(0,p.Z)().eventStore.reportEvent,a=(0,y.useState)(!1),o=(0,b.Z)(a,2),l=o[0],i=o[1],s=(0,J.q)(),c=s.pauseAutoHide,u=s.recoverAutoHide,f=w()((function(){i(!1),t&&(null==u||u())}),100);return(0,y.useEffect)((function(){l&&(null==r||r.liveReportBtnShowClickEvent())}),[l]),y.createElement("button",{className:fe,type:"button",onMouseLeave:f,onMouseEnter:function(){i(!0),f.cancel(),t&&(null==c||c())},"data-e2e":"more-button"},y.createElement(de,{viewBox:"0 0 24 24",className:me}),y.createElement("ul",{className:ve,style:{display:l?"flex":"none"}},d()(y.Children).call(y.Children,n,(function(e,t){return y.createElement("li",{key:t,className:pe},e)}))))};function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}var ge=function(e){return y.createElement("svg",he({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ce||(ce=y.createElement("path",{d:"M7 5.25c.323 0 .584.261.584.583v2.334a.583.583 0 01-1.167 0V5.833c0-.322.261-.583.583-.583zM7.584 9.917a.583.583 0 11-1.167 0 .583.583 0 011.167 0z",fill:"#fff",fillOpacity:.9})),ue||(ue=y.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.006 2.309a1.167 1.167 0 00-2.011 0L1.18 10.492a1.167 1.167 0 001.006 1.758h9.627c.902 0 1.463-.98 1.005-1.758L8.006 2.309zM7 2.901l4.814 8.182H2.187L7 2.901z",fill:"#fff",fillOpacity:.9})))},Ee=n(99699),ye=function(e){var t=e.roomId,n=e.anchorSecUserId,r=e.userId,a=(0,Ee.Z)({roomId:t,anchorSecUserId:n,userId:r}).handleReportClick;return y.createElement(I.a,{onClick:function(e){e.preventDefault(),a()}},y.createElement(ge,{width:14,height:14}),y.createElement("span",null,"\u4e3e\u62a5\u76f4\u64ad\u95f4"))},Se=n(59676),be=n(78384),Ce=n(9729),we=n(63836),ke=(0,Se.default)((function(){return Promise.all([n.e(2447),n.e(6651)]).then(n.bind(n,5475))}),{ssr:!1}),Ae=(0,Se.default)((function(){return n.e(7623).then(n.bind(n,98894))}),{ssr:!1}),Ne=(0,Se.default)((function(){return n.e(5662).then(n.bind(n,10580))}),{ssr:!1}),Ie=(0,E.Pi)((function(e){var t,n,r,l,s=e.isAppOnly,u=void 0!==s&&s,h=e.className,E=void 0===h?"":h,b=e.hideExhibitionEntrance,C=void 0!==b&&b,w=e.hideBanner,k=void 0!==w&&w,A=e.isSpider,N=(0,p.Z)(),I=N.isLiveModal,x=N.roomStore,T=x.roomInfo,L=x.longtouchShow,M=x.longtouchList,O=x.usePageUrlBannerId,Z=x.isAsianGames,B=N.userStore,F=B.userInfo,R=B.headerUserInfo,U=N.fansClubStore,V=U.fansClubButtonShowStatus,z=U.fansClubStatus,j=U.hasFetchDataStatus,H=U.fansClubJoinStatus,W=N.exhibitionStore,K=W.isShowExhibition,Y=W.setIsShowExhibition,Q=W.setIsFirstLoad,J=N.hourRankListStore,q=J.setIsShowHourRankList,X=J.isShowHourRankList,ee=J.setOpenType,te=J.setIsFirstLoad,ne=N.feedStore.isActive,re=N.singletonStore.message,ae=N.eventStore,se=ae.ranklistEvent,ce=ae.giftEvent,ue=(0,m.V)().name,de="webp"===(0,v.j)().ecomHeadImgFormat,fe=(0,_.Z)().avatarBorder,me=(0,y.useMemo)((function(){var e;return{roomId:i()(T,"roomId",""),title:i()(T,"room.title",""),isLiveEnded:Number(null===(e=T.room)||void 0===e?void 0:e.status_str)===f.LV.END,qrcode_url:i()(T,"qrcode_url",""),anchorSecUserId:i()(T,"anchor.sec_uid",""),anchorId:i()(T,"anchor.id_str"),anchorNickname:i()(T,"anchor.nickname",""),anchorAvatar:i()(T,"anchor.avatar_thumb.url_list[0]",""),avatarBorder:i()(T,"room.owner.border.thumb_icon.url_list[0]",""),hourRank:i()(T,"room.room_auth.HourRank",2)}}),[T]),ve=me.roomId,pe=me.title,he=me.isLiveEnded,ge=me.qrcode_url,Ee=me.anchorSecUserId,Se=me.anchorNickname,Ie=me.anchorAvatar,xe=me.anchorId,Te=me.hourRank,Le=me.avatarBorder,Me=(0,y.useMemo)((function(){return{userId:i()(F,"id_str","")}}),[F]).userId,Oe=(0,y.useMemo)((function(){return fe||Le}),[fe,Le]),Ze=(null===(t=T.room)||void 0===t?void 0:t.live_room_mode)===f.ke.MEDIA;return y.createElement("div",{className:g()(ie.Z.room_info_bar,ie.Z.flex_center,(0,o.Z)({},ie.Z.liveModalMac,I&&(0,be.Q5)()&&(0,$.DT)()),E)},I&&y.createElement(we.Z,null),y.createElement(P.Z,{anchorSecUserId:Ee,anchorAvatar:Ie,avatarBorder:Oe,isSpider:A}),y.createElement(S.Z,{overflowHoverTip:Z,title:pe,showTitle:Z,anchorNickname:Se,likeCount:Number(null==T||null===(n=T.room)||void 0===n?void 0:n.like_count)}),y.createElement("div",{className:ie.Z.right},z&&!k&&y.createElement(G.Z,{fansClubButtonShowStatus:V,hasFetchDataStatus:j,currencyName:ue}),!k&&y.createElement(le.Z,null),c()(r=[0,1]).call(r,Te)&&!Ze&&!u&&!he&&!k&&y.createElement(Ne,{isActive:ne,roomId:ve,messageInstance:re,anchorId:xe,userInfo:R,inPrefetchGroup:de,isShowHourRankList:X,onClick:function(e){var t=e.openType;ee(t),q(!X),X?te(!1):(0,Ce.B1)("rank_load_start")},logParams:(0,a.Z)((0,a.Z)({},null==se||null===(l=se.getHourRankListCommonEventParams)||void 0===l?void 0:l.call(se)),{},{is_fans_club:H?1:0})}),y.createElement(oe,{userId:Me}),ve&&!he&&y.createElement(y.Fragment,null,y.createElement(_e,null,y.createElement(D,{type:"link",qrcode_url:ge}),y.createElement(ye,{roomId:ve,anchorSecUserId:Ee,userId:Me})))),y.createElement("div",{className:g()(ie.Z.rightContainer)},ne&&!u&&L&&M.length>0&&!k&&y.createElement("div",{className:g()(ie.Z.longtouch)},d()(M).call(M,(function(e){return y.createElement(Ae,{banner:e,key:e.id,usePageUrlBannerId:O})}))),!C&&!he&&!k&&y.createElement("div",{className:g()(ie.Z.exhibition_entrace)},y.createElement(ke,{isActive:ne,roomId:ve,anchorId:xe,userInfo:R,inPrefetchGroup:de,onClick:function(){Y(!K),K?Q(!1):(0,Ce.B1)("exhibition_load_start")},className:I?"isDark":"",messageInstance:re,isShowExhibition:K,logParams:null==ce?void 0:ce.getExhibitionCommonEventParams()}))))}))},12361:function(e,t,n){n.d(t,{Z:function(){return ee}});var r,a=n(65902),o=n(65146),l=n(30906),i=n(64408),s=n(32781),c=n(60260),u=n.n(c),d=n(56402),f=n.n(d),m=n(94090),v=n.n(m),p=n(68493),_=n.n(p),h=n(5594),g=n.n(h),E=n(79705),y=n.n(E),S=n(91615),b=n(89474),C=n(49915),w=n(58075),k=n(30423),A=n(74637),N=n(15504),I=n(75478),x=n(8084),T=n(98362),L=n(70175),M=n(51078),O=n(34590),Z=n(95138),B=n(53864),F={user_popup:"P3QbOwfT",mystery_man_bg:"vCDKQN11",dark:"Tjkk972M",report:"Zjl7q40Q",linkmic_guest:"Uf21rbAi",base_info:"u862vslp",right:"jrs8wDSI",nickname:"dpjSfIG6",label:"j3MYmmJW",value:"qlCydDns",linkmic_base_info:"i2waXoli",linkmic_avatar:"OUNs3p_p",follow_symbol:"Ip9azmM2",nickname_div:"MrtZOmpD",arrow:"yKT6vl6z",info:"IRFl8y2R",fans:"PdCydq1p",gift_btn:"O3vIUZnU",mystery_popup:"VpuNVMKW",avatar:"_yOP8dJN",tips:"jgydim4i",view_detail_button:"tr7nCjK3",sign:"aICYhYPI",btns:"LIqkJ3yy",show_go_to_living_btn:"gJBKCpJt"},R=n(62971),U=n(51526),D=n(26813),P=n(49418),G=n(45921);function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}var z=function(e){return B.createElement("svg",V({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=B.createElement("path",{d:"M3.646 1.646a.5.5 0 01.708 0l4 4a.5.5 0 010 .708l-4 4a.5.5 0 01-.708-.708L7.293 6 3.646 2.354a.5.5 0 010-.708z",fill:"#fff",opacity:.5})))},j=n(90519),H=function(e){var t=e.isSelf;return B.createElement("div",{className:F.mystery_popup},B.createElement(M.q,{src:globalThis.xssNamespace.douyin_web.filterUrl(U,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:F.avatar}),B.createElement("h2",{className:F.nickname},"\u795e\u79d8\u4eba"),B.createElement("p",{className:F.tips},t?"\u4f60\u5df2\u5f00\u542f\u795e\u79d8\u4eba\u5957\u88c5":"\u8be5\u7528\u6237\u5df2\u5f00\u542f\u795e\u79d8\u4eba\u5957\u88c5"),B.createElement("button",{type:"button",className:F.view_detail_button,onClick:function(){return O.F.info("\u8bf7\u5728\u624b\u673a\u4e0a\u6253\u5f00")}},B.createElement("span",null,"\u67e5\u770b\u8be6\u60c5"),B.createElement("img",{src:globalThis.xssNamespace.douyin_web.filterUrl(D,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:F.arrow})))},W=function(e){var t,n=e.uid,r=e.secUid,a=e.loginUid,o=e.loginSecUid,c=e.roomId,d=e.user,m=e.isMysteryMan,p=e.isSelf,h=e.pointParams,E=e.displayId,I=e.showGoToLivingBtn,T=e.onFollowStatusUpdate,L=e.userInfo,R=e.isMessageUser,U=e.isUgcLive,D=e.isLinkmicGuest,P=e.showSendGiftBtn,G=e.supportAdminInviteLinking,V=void 0!==G&&G,W=e.store,K=W.roomStore,Y=K.roomInfo,Q=K.setFollowStatus,J=K.setFollowInfo,q=K.followInfo,X=W.linkmicStore,$=X.setChoosePeopleAll,te=X.setChoosePeopleArr,ne=W.giftStore,re=ne.setGiftPanelShowFrom,ae=ne.setGiftPanelSwitchStatus,oe=ne.setHasGiftBar,le=W.eventStore,ie=le.linkmicEvent,se=le.userEvent,ce=(0,B.useState)({}),ue=(0,s.Z)(ce,2),de=ue[0],fe=ue[1],me=(0,B.useRef)();if(m)return B.createElement(H,{isSelf:p});B.useEffect((function(){U&&(0,i.Z)(g().mark((function e(){var t,r,a,o,l,i,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.bG)({target_uid:n});case 2:(t=e.sent).status&&(s=t.data.data,me.current=null==s||null===(r=s.follow_info)||void 0===r?void 0:r.follow_status,fe({secUid:null==s?void 0:s.sec_uid,displayId:null==s?void 0:s.display_id,followStatus:null==s||null===(a=s.follow_info)||void 0===a?void 0:a.follow_status,followerCount:null==s||null===(o=s.follow_info)||void 0===o?void 0:o.follower_count,followingCount:null==s||null===(l=s.follow_info)||void 0===l?void 0:l.following_count,avatar:null==s||null===(i=s.avatar_thumb)||void 0===i?void 0:i.url_list[0],nickname:null==s?void 0:s.nickname}));case 4:case"end":return e.stop()}}),e)})))()}),[U]);var ve=B.useCallback((function(e){b.s||(n&&n===f()(Y,"anchor.id_str")&&Q(e),J(n,e),T&&T({uid:n,secUid:r,followStatus:e}))}),[n,r]),pe=B.useMemo((function(){return U?me.current:q[n]?q[n]:f()(d,"follow_info.follow_status",C.E.INNOCENT)||f()(d,"follow_info.follow_status",C.E.INNOCENT)}),[d,U,me.current]),_e=B.useCallback((function(){var e;h&&ie.liveRoomGroupPKOthersClickEvent((0,l.Z)((0,l.Z)({},h),{},{actionType:"go_main"})),window.open(v()(e="//".concat((0,w.iE)().VIDEO_DOMAIN,"/user/")).call(e,U?de.secUid:r),"_blank","noopener")}),[]),he=B.useCallback((function(){null==$||$(!1),null==te||te([f()(d,"id_str","")]),ee.close(),null==re||re("profile_card"),null==ae||ae(k.nN.OPEN_GIFT),null==oe||oe(!0)}),[d]),ge=B.useCallback((function(){ie.liveAdminInviteEvent(n),(0,A.WP)({room_id:c,sec_to_user_id:r,from_user_role:2,link_type:j.Un.TYPE_AUDIO,teamfight_team_id:""}).then((function(e){var t,n=e.data,r=e.logId;return 0===n.status_code?(O.F.info("\u9080\u8bf7\u6210\u529f"),_().resolve(n)):(O.F.info((null==n||null===(t=n.data)||void 0===t?void 0:t.prompts)||"\u9080\u8bf7\u5931\u8d25",player.root),N.k.error("\u9080\u8bf7\u5931\u8d25",n,r),_().reject(n))}))}),[c,r]);return D?B.createElement("div",{className:F.linkmic_base_info},B.createElement(M.q,{className:F.linkmic_avatar,src:globalThis.xssNamespace.douyin_web.filterUrl(U?de.avatar:f()(d,"avatar_thumb.url_list[0]",""),null,{logType:"js.href/src",mode:"black",reportOnly:!1})}),B.createElement(x.Z,{channel_id:U?S.RN.ROOM:S.RN.CHAT,className:F.follow_symbol,isLogin:Boolean(a),sec_to_user_id:U?de.secUid:r,sec_user_id:o,to_user_id:n,current_room_id:c,followStatus:pe,followCb:ve,isUgcLive:U,pointParams:h,onClick:function(){h&&ie.liveRoomGroupPKOthersClickEvent((0,l.Z)((0,l.Z)({},h),{},{actionType:"follow"}))},buttonStyle:"symbol",liveFollowEvent:null==se?void 0:se.liveFollowEvent,liveUnFollowEvent:null==se?void 0:se.liveUnFollowEvent,anchorId:f()(Y,"anchor.id_str","")}),B.createElement("div",{className:F.nickname_div,onClick:_e},B.createElement("div",{className:F.nickname},U?de.nickname:f()(d,"nickname","")),B.createElement("div",{className:F.arrow},B.createElement(z,null))),B.createElement("div",{className:F.info},B.createElement("span",{className:F.label},"\u5173\u6ce8"),B.createElement("span",{className:F.value},U?de.followingCount:R?L.following_count:f()(d,"follow_info.following_count","")||""),B.createElement("span",{className:y()(F.label,F.fans)},"\u7c89\u4e1d"),B.createElement("span",{className:F.value},U?de.followerCount:R?L.follower_count:f()(d,"follow_info.follower_count","")||"")),P&&B.createElement(Z.zx,{className:F.gift_btn,onClick:he},"\u9001\u793c")):B.createElement(B.Fragment,null,B.createElement("div",{className:F.base_info},B.createElement(M.q,{src:globalThis.xssNamespace.douyin_web.filterUrl(U?de.avatar:f()(d,"avatar_thumb.url_list[0]",""),null,{logType:"js.href/src",mode:"black",reportOnly:!1})}),B.createElement("div",{className:F.right},B.createElement("div",{className:F.nickname},U?de.nickname:f()(d,"nickname","")),B.createElement("div",null,B.createElement("span",{className:F.label},"\u5173\u6ce8"),B.createElement("span",{className:F.value},U?de.followingCount:R?L.following_count:f()(d,"follow_info.following_count","")||""),B.createElement("span",{className:F.label},"\u7c89\u4e1d"),B.createElement("span",{className:F.value},U?de.followerCount:R?L.follower_count:f()(d,"follow_info.follower_count","")||"")))),B.createElement("p",{className:F.sign},f()(d,"signature","")),B.createElement("div",{className:F.btns},p?B.createElement(Z.zx,{className:F.open,type:"primary"},B.createElement("a",{href:"https://www.douyin.com/falcon/webcast_openpc/pages/streamingtool_download/index.html",target:"_blank",rel:"noreferrer"},"\u6211\u8981\u5f00\u64ad")):B.createElement(B.Fragment,null,B.createElement(x.Z,{channel_id:U?S.RN.ROOM:S.RN.CHAT,className:F.follow,isLogin:Boolean(a),sec_to_user_id:U?de.secUid:r,sec_user_id:o,to_user_id:n,current_room_id:c,followStatus:pe,followCb:ve,isUgcLive:U,pointParams:h,onClick:function(){h&&ie.liveRoomGroupPKOthersClickEvent((0,l.Z)((0,l.Z)({},h),{},{actionType:"follow"}))},liveFollowEvent:null==se?void 0:se.liveFollowEvent,liveUnFollowEvent:null==se?void 0:se.liveUnFollowEvent,anchorId:f()(Y,"anchor.id_str","")}),B.createElement(Z.zx,{type:"primary",theme:"border",onClick:_e},"\u4e3b\u9875"),(I&&E||U)&&B.createElement(Z.zx,{type:"primary",theme:"border"},B.createElement("a",{href:globalThis.xssNamespace.douyin_web.filterUrl(v()(t="//".concat((0,w.iE)().DOMAIN,"/")).call(t,U?de.displayId:E),null,{logType:"js.href/src",mode:"black",reportOnly:!1}),rel:"noreferrer"},"\u53bbTa\u76f4\u64ad\u95f4")),V&&B.createElement(Z.zx,{type:"primary",theme:"border",onClick:u()((function(){return ge()}),1e3)},"\u9080\u8bf7\u8fde\u7ebf"))))},K=function(e){var t=e.user;return B.createElement(B.Fragment,null,B.createElement("div",{className:F.base_info},B.createElement(M.q,{src:""}),B.createElement("div",{className:F.right},B.createElement("div",{className:F.nickname},(0,R.t)(f()(t,"desensitized_nickname","******"))),B.createElement("div",null,B.createElement("span",{className:F.label},"\u5173\u6ce8"),B.createElement("span",{className:F.value},"****"),B.createElement("span",{className:F.label},"\u7c89\u4e1d"),B.createElement("span",{className:F.value},"****")))),B.createElement("p",{className:F.sign},"****"),B.createElement("div",{className:F.btns}))},Y=function(e){var t,n=e.uid,r=e.secUid,a=e.loginUid,c=e.loginSecUid,u=e.roomId,d=e.message,m=e.hasReport,v=void 0!==m&&m,p=e.style,_=e.hide,h=e.domId,E=e.isEnableUserCard,S=e.pointParams,b=e.displayId,C=e.showGoToLivingBtn,w=void 0!==C&&C,k=e.onFollowStatusUpdate,A=e.isMessageUser,N=e.isUgcLive,x=e.isLinkmicGuest,M=e.showSendGiftBtn,O=e.clickTea,Z=void 0===O||O,R=e.supportAdminInviteLinking,U=void 0!==R&&R,D=e.store,V=(e.container,D.eventStore),z=V.reportEvent,j=V.userEvent,H=n===a,Y=(0,B.useState)({}),Q=(0,s.Z)(Y,2),J=Q[0],q=Q[1],X=(0,B.useCallback)((function(){var e={roomId:u},t={roomId:u,chatType:1,secReportedUserId:r,msgId:f()(d,"msg_id",""),comment:f()(d,"payload.content",""),webcast_uid:E?"":f()(d,"payload.user.webcast_uid","")};(0,L.F)({type:T.R.COMMENT,param:e,submitParam:t,store:D}),ee.close()}),[u,r,d,D]);(0,B.useEffect)((function(){v&&a&&!H&&z.liveReportBtnShowClickEvent()}),[v,a,H]);var $=(0,B.useMemo)((function(){var e=f()(d,"payload.user",{});return(0,l.Z)((0,l.Z)({},(0,I.OM)(e)),e)}),[d]),te=$.sec_uid,ne=(0,B.useCallback)(function(){var e=(0,i.Z)(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.et)(t);case 2:n=e.sent,q(n.user);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);(0,B.useEffect)((function(){ne(te)}),[te]),(0,B.useEffect)((function(){Z&&j.liveClickUserEvent({click_type:"audience",event_page:"live_detail",click_user_position:null==S?void 0:S.click_user_position})}),[Z]);var re=2===$.mysteryMan;return B.createElement("div",{className:y()(F.user_popup,F[(0,G.gh)()],(t={},(0,o.Z)(t,F.mystery_man_bg,re),(0,o.Z)(t,F.show_go_to_living_btn,w),(0,o.Z)(t,F.linkmic_guest,x),t)),id:h,style:p,onClick:function(e){return e.stopPropagation()}},v&&a&&!H?B.createElement("span",{className:F.report,onClick:X},"\u4e3e\u62a5"):null,_?B.createElement(K,{user:$}):B.createElement(W,{uid:n,secUid:r,loginUid:a,loginSecUid:c,roomId:u,user:$,userInfo:J,isMessageUser:A,isMysteryMan:re,isSelf:H,pointParams:S,displayId:b,showGoToLivingBtn:w,onFollowStatusUpdate:k,isUgcLive:N,isLinkmicGuest:x,showSendGiftBtn:M,supportAdminInviteLinking:U,store:D}))},Q=n(60443),J=n(16470),q=n(44909),X=n(21662),$=null,ee={open:function(e,t,n){return $&&$.destroy(),$=function(e,t,n){var r,o,l=t.top,i=void 0===l?0:l,s=t.left,c=void 0===s?0:s,u=document.createElement("div");u.id=X.Gn,document.body.appendChild(u);var d=Q.createPortal(B.createElement(J.k,{componentName:q.l.USER_POPUP},B.createElement("div",{style:{zIndex:9998,position:"fixed"}},B.createElement(Y,(0,a.Z)({},e,{style:t,container:n,domId:R.p})))),n||document.body);Q.render(d,u);var f=document.getElementById(R.p),m=(null==f?void 0:f.getBoundingClientRect())||{height:0,width:0},v=m.height,p=m.width,_=null===(r=document)||void 0===r||null===(o=r.body)||void 0===o?void 0:o.getBoundingClientRect(),h=_.height,g=_.width,E=Number(i),y=Number(c);v+E>h&&(E-=v),p+y>g&&(y-=p),f&&(f.style.top="".concat(E,"px"),f.style.left="".concat(y,"px"));var S=function e(t){var n=document.getElementById(R.p);n&&n.contains(null==t?void 0:t.target)||(null==t||t.preventDefault(),null==t||t.stopPropagation(),document.body.removeEventListener("click",e,!0),$&&(Q.unmountComponentAtNode(u),document.body.removeChild(u),$=null))};return document.body.addEventListener("click",S,!0),{destroy:S}}(e,t,n),$},close:function(){$&&$.destroy()}}},62971:function(e,t,n){n.d(t,{t:function(){return l},p:function(){return i}});var r=n(30673),a=n(56442),o=n.n(a),l=function(){var e,t,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return"".concat(null!==(e=o()(t=(0,r.Z)(n)).call(t,0,1)[0])&&void 0!==e?e:"","*****")},i="user_popup"},65368:function(e,t,n){n.d(t,{M:function(){return r}});var r=(0,n(53864).createContext)({})},17610:function(e,t,n){var r=n(53864),a=n(65368);t.Z=function(){var e=(0,r.useContext)(a.M);if(e===undefined)throw new Error("feedContext must be used within FeedContextProvider");return e}},26750:function(e,t,n){n.d(t,{V:function(){return i}});var r=n(38290),a=n(57218),o=n(53864),l=a.F;function i(){var e=(0,o.useContext)(l);if(e===undefined)throw(0,r.g)("Currency"),new Error("Currency must be used within Provider");return e}},25499:function(e,t,n){n.d(t,{e:function(){return i}});var r=n(38290),a=n(53864),o=n(30127),l=n(37028);function i(e){var t=(0,a.useContext)(o.X);if(t===undefined)throw(0,r.g)("roomStore"),new Error("roomStore must be used within Provider");return(0,l.oR)(t,e)}},99699:function(e,t,n){var r=n(64408),a=n(5594),o=n.n(a),l=n(72943),i=n(82524),s=n(70175),c=n(98362),u=n(53864);t.Z=function(e){var t=e.userId,n=e.roomId,a=e.anchorSecUserId,d=(0,i.Z)(),f=d.eventStore.reportEvent,m=(0,u.useCallback)((function(){t?(null==f||f.liveReportBtnClickEvent(),(0,s.F)({type:c.R.ROOM,param:{roomId:n,currentRoomId:n},submitParam:{targetRoomId:n,secTargetAnchorId:a},store:d})):(0,l.p)().then((function(e){var t,n,a;e({headerText:"\u767b\u5f55\u540e\u5373\u53ef\u8fdb\u884c\u4e3e\u62a5",success:(a=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),next:"https://".concat(null===(t=window)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.host),enterMethod:"livesdk_audience_live_message"})}))}),[a,t,n,f,d]);return{handleReportClick:m}}},89669:function(e,t,n){n.d(t,{j:function(){return c}});var r=n(60260),a=n.n(r),o=n(94090),l=n.n(o),i=n(53864),s=n(60443);function c(e){var t=(0,i.useRef)([]),n=(0,i.useRef)(!1),r=(0,i.useRef)(e);(0,i.useEffect)((function(){return function(){n.current=!0}}),[]);var o=(0,i.useCallback)(a()((function(){if(!n.current){var e=t.current;r.current&&null!=e&&e.length&&s.flushSync((function(){t.current=[],r.current(e)}))}}),1200,{leading:!0,trailing:!0}),[r.current]),c=(0,i.useCallback)((function(){var e,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];t.current=l()(e=t.current).call(e,n)}),[]);return[o,c]}},96973:function(e,t,n){var r=n(32781),a=n(53864),o=n(82524);t.Z=function(){var e=(0,o.Z)().singletonStore.message,t=(0,a.useState)(),n=(0,r.Z)(t,2),l=n[0],i=n[1];return(0,a.useEffect)((function(){return null==e?void 0:e.on("UserPrivilegeChangeMessage",(function(e){var t,n,r,a;i(null==e||null===(t=e[0])||void 0===t||null===(n=t.payload)||void 0===n||null===(r=n.avatar_border)||void 0===r||null===(a=r.url_list)||void 0===a?void 0:a[0])}))}),[e]),{avatarBorder:l}}},90229:function(e,t,n){var r=n(64408),a=n(30906),o=n(5594),l=n.n(o),i=n(68493),s=n.n(i),c=n(94090),u=n.n(c),d=n(11227),f=n.n(d),m=n(53864),v=n(1774),p=n(91615),_=n(82524),h=n(2670),g=n(34590),E=n(74584),y=n(26750),S=n(88942),b=n(29703),C=n(15504),w=n(30423),k=n(75478),A=n(12361),N=n(92267),I=n(51365),x=n(5611),T=n(72603),L=n(71116);t.Z=function(){var e,t,n=(0,m.useRef)(!1),o=(0,_.Z)(),i=o.userStore.userInfo,c=o.roomStore.roomInfo,d=o.fansClubStore,M=d.fansClubJoinStatus,O=d.setFansClubData,Z=d.setFansClubJoinStatus,B=d.setFansClubAutoLightStatus,F=d.setFansClubShowStatus,R=o.giftStore.useRechargeComponent,U=o.eventStore.fansclubEvent,D=(0,h.Z)().getGifts,P=(0,S.y)().showRecharge,G=(0,E.n)().player,V=(0,y.V)().name,z=(null==i?void 0:i.id_str)||"",j=(null==i?void 0:i.sec_uid)||"",H=(null==c||null===(e=c.anchor)||void 0===e?void 0:e.id_str)||"",W=(null==c?void 0:c.roomId)||"",K=(null==c||null===(t=c.anchor)||void 0===t?void 0:t.sec_uid)||"",Y=(0,m.useCallback)((function(){return v.Le({anchor_id:H,request_scene:1,action:1,anchor_open_id:H}).then((function(e){var t,n=e.data,r=e.logId;if(0===(null==n?void 0:n.status_code)){var o=null==n?void 0:n.data,l=0!==(((null==o?void 0:o.user_fansclub_info)||{}).task_infos||[]).length,i={};if(M||l){var c,d,f;if(l)i=(0,b.hd)(o,V),O(i),B(null===(c=i)||void 0===c||null===(d=c.cardInfo)||void 0===d||null===(f=d.mid)||void 0===f?void 0:f.isShowAutoSwitch);return Z(l),s().resolve({fansMeData:i,isjoin:l})}return Z(l),s().resolve({fansMeData:i,isjoin:l})}return C.k.event(u()(t="[".concat(I.Tn.Error,"]")).call(t,I.Mo.LiveFansMeError),(0,a.Z)({statusCode:null==n?void 0:n.status_code,is_client:(0,x.DT)(),logId:r},n)),g.F.info("\u83b7\u53d6\u7c89\u4e1d\u56e2\u72b6\u6001\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),C.k.error("\u83b7\u53d6 \u7c89\u4e1d\u56e2Me\u63a5\u53e3 \u72b6\u6001\u5931\u8d25",n,r),s().reject(n)}))}),[W,H,K]),Q=(0,m.useCallback)((function(){return v.sz({anchor_id:H,anchor_open_id:H,offset:0,count:100}).then((function(e){var t,n=e.data,r=e.logId;return 0===(null==n?void 0:n.status_code)?s().resolve(n):(C.k.event(u()(t="[".concat(I.Tn.Error,"]")).call(t,I.Mo.LiveFansUserListError),(0,a.Z)({statusCode:null==n?void 0:n.status_code,is_client:(0,x.DT)(),logId:r},n)),g.F.info("\u83b7\u53d6\u7c89\u4e1d\u56e2\u5217\u8868\u72b6\u6001\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),C.k.error("\u83b7\u53d6 \u7c89\u4e1d\u56e2UserList \u72b6\u6001\u5931\u8d25",n,r),s().reject(n))}))}),[W,H,K]),J=(0,m.useCallback)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.type,n=void 0===t?"recharge":t,r=e.balance,o=void 0===r?0:r,l=e.amount,i=void 0===l?0:l;if(R){var s,c,u,d={enter_from_merge:(0,T.yW)(),show_reason:null!==(s=w.St[n])&&void 0!==s?s:"other",live_window_type:null!==(c=null===(u=L.Le.getConfig(L.gI.LiveWindowStatus))||void 0===u?void 0:u.type)&&void 0!==c?c:"no_live_window",if_live_play:1};P({type:n,balance:o,amount:i,additionalLogParams:d,onClose:function(e){N.i.sendLog("livesdkRechargeShowDuration",(0,a.Z)((0,a.Z)({},d),{},{duration:(null==e?void 0:e.duration)||0,if_recharge_success:null!=e&&e.isSuccess?1:0}))}})}else window.open("https://www.douyin.com/falcon/webcast_openpc/pages/douyin_recharge/index.html")}),[R,P]),q=(0,m.useCallback)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.targetUid,n=e.secTargetUid;return p.bG({target_uid:t,sec_target_uid:n}).then((function(e){var t,n=e.data,r=e.logId;return 0===(null==n?void 0:n.status_code)?s().resolve(n):(C.k.event(u()(t="[".concat(I.Tn.Error,"]")).call(t,I.Mo.LiveFansUserInfoError),(0,a.Z)({statusCode:null==n?void 0:n.status_code,is_client:(0,x.DT)(),logId:r},n)),C.k.error("\u83b7\u53d6 \u7c89\u4e1d\u56e2\u5217\u8868 \u7528\u6237\u4fe1\u606f\u5931\u8d25",n,r),s().reject(n))}))}),[]),X=(0,m.useCallback)(function(){var e=(0,r.Z)(l().mark((function e(t){var r,i,s,c,u,d,m,v,p,_,h,E,y,S,b,C,w,N,I,x,T,L,M,O,Z,B,F,R,U,D,P,V;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.user,i=t.event,s=t.style,c=t.container,u=void 0===c?null:c,d=t.showGoToLivingBtn,m=void 0!==d&&d,v=t.needGetUserInfo,p=void 0!==v&&v,_=t.pointParams,h=void 0===_?{}:_,E=t.onFollowStatusUpdate,y=r.userId,S=void 0===y?"":y,b=r.secUid,C=void 0===b?"":b,w=r.displayId,N=void 0===w?"":w,I=r.userNickname,x=r.userAvatar,T=r.mysteryMan,L=r.desensitizedNickname,M=r.signature,O=r.followInfo,Z=S===z,F={payload:{user:B={nickname:I,mysteryMan:T,desensitizedNickname:L,signature:M,followInfo:O,avatarThumb:{urlList:[x]}}}},null==I||!f()(I).call(I,"***")||Z){e.next=8;break}return g.F.info("\u56e0\u4e3b\u64ad\u8bbe\u7f6e\u4e0d\u652f\u6301\u67e5\u770b\u4ed6\u4eba\u8d44\u6599"),e.abrupt("return");case 8:if(!p){e.next=26;break}if(!n.current){e.next=11;break}return e.abrupt("return");case 11:return n.current=!0,e.prev=12,e.next=15,q({targetUid:S,secTargetUid:C});case 15:P=e.sent,V=(null==P?void 0:P.data)||{},B.followInfo={followStatus:null===(R=V.follow_info)||void 0===R?void 0:R.follow_status,followerCount:(null===(U=V.follow_info)||void 0===U?void 0:U.follower_count)||0,followingCount:(null===(D=V.follow_info)||void 0===D?void 0:D.following_count)||0},B.signature=V.signature,e.next=23;break;case 21:e.prev=21,e.t0=e.catch(12);case 23:return e.prev=23,n.current=!1,e.finish(23);case 26:A.Z.open({uid:S,secUid:C,displayId:N,loginUid:z,loginSecUid:j,roomId:W,isSelf:Z,hasReport:!1,message:(0,k._0)(F),showGoToLivingBtn:m,pointParams:h,onFollowStatusUpdate:E,store:o},(0,a.Z)((0,a.Z)({},s),{},{top:i.clientY,left:i.clientX}),u||(null==G?void 0:G.root));case 27:case"end":return e.stop()}}),e,null,[[12,21,23,26]])})));return function(t){return e.apply(this,arguments)}}(),[W,z,j,G,q,o]);return{getFansMeData:Y,getFansUserListData:Q,handleAutoLigth:function(e){return v.Ad({auto_light_up_status:e,anchor_id:H}).then((function(t){var n,r=t.data,o=t.logId;return 0===(null==r?void 0:r.status_code)?(B(e),g.F.info(e?"\u81ea\u52a8\u70b9\u4eae\u670d\u52a1\u5f00\u542f":"\u81ea\u52a8\u70b9\u4eae\u670d\u52a1\u5173\u95ed"),s().resolve(r)):40001===(null==r?void 0:r.status_code)?(F({isShow:!1,source:""}),g.F.info("\u4f59\u989d\u4e0d\u8db3"),J(),s().reject(r)):(C.k.event(u()(n="[".concat(I.Tn.Error,"]")).call(n,I.Mo.LiveFansAutoLigthError),(0,a.Z)({statusCode:null==r?void 0:r.status_code,is_client:(0,x.DT)(),logId:o},r)),g.F.info("\u5f00\u542f\u81ea\u52a8\u70b9\u4eae\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),C.k.error("\u5f00\u542f \u7c89\u4e1d\u56e2\u81ea\u52a8\u70b9\u4eae \u529f\u80fd\u5931\u8d25",r,o),s().reject(r))}))},handleRecharge:J,handleJoinFansClub:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.autoShow,n=void 0!==t&&t,r=e.source,o=void 0===r?"":r;return v.WM({room_id:W,anchor_id:H,open_auto_light:!1}).then((function(e){if(!e)return g.F.info("\u53d1\u751f\u672a\u77e5\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),C.k.error("\u52a0\u5165 \u7c89\u4e1d\u56e2 \u529f\u80fd\u5931\u8d25"),s().reject();var t,r,l,i=e.data,c=e.logId;return 0===(null==i?void 0:i.status_code)?(g.F.info("\u52a0\u5165\u6210\u529f"),null==U||null===(t=U.liveFansClubJoinSuccessEvent)||void 0===t||t.call(U,{source:o}),n&&(Z(!0),F({isShow:!0,source:o}),D()),s().resolve(i)):40001===(null==i?void 0:i.status_code)?(g.F.info("\u4f59\u989d\u4e0d\u8db3"),J(),s().reject(i)):(C.k.event(u()(r="[".concat(I.Tn.Error,"]")).call(r,I.Mo.LiveJoinFansError),(0,a.Z)({statusCode:null==i?void 0:i.status_code,is_client:(0,x.DT)(),logId:c},null==i?void 0:i.data)),g.F.info((null==i||null===(l=i.data)||void 0===l?void 0:l.prompts)||"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),C.k.error("\u52a0\u5165 \u7c89\u4e1d\u56e2 \u529f\u80fd\u5931\u8d25",i,c),s().reject(i))}))},handleQuitFansClub:function(){v.Xb({anchor_id:H,sec_anchor_id:K,room_id:W}).then((function(e){var t,n=e.data,r=e.logId;return 0===(null==n?void 0:n.status_code)?(g.F.info("\u9000\u51fa\u6210\u529f"),s().resolve(n)):(C.k.event(u()(t="[".concat(I.Tn.Error,"]")).call(t,I.Mo.LiveQuitFansError),(0,a.Z)({statusCode:null==n?void 0:n.status_code,is_client:(0,x.DT)(),logId:r},n)),g.F.info("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),C.k.error("\u9000\u51fa \u7c89\u4e1d\u56e2 \u529f\u80fd\u5931\u8d25",n,r),s().reject(n))}))},showUserInfoCard:X}}},2670:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(67161),a=n(64408),o=n(30906),l=n(5594),i=n.n(l),s=n(68493),c=n.n(s),u=n(94090),d=n.n(u),f=n(34346),m=n.n(f),v=n(31674),p=n.n(v),_=n(53864),h=n(56402),g=n.n(h),E=n(34590),y=n(26750),S=n(74584),b=n(88942),C=n(92267),w=n(72603),k=n(71116),A=n(51365),N=n(5611),I=n(30423),x=n(40496),T=n(15504),L=n(29703),M=n(9024),O=n(82524),Z=n(60443),B=n(97702),F=n(95138),R=n(86324),U="BagPYTbU",D="X5jSlXiu",P="z04qGKib",G="CnJf4rbV",V=function(e){var t=e.title,n=e.content,r=e.confirmBtnText,a=void 0===r?"\u786e\u5b9a":r,o=e.closeBtnText,l=void 0===o?"\u53d6\u6d88":o,i=e.onConfirm,s=e.onClose;return _.createElement(R.Z,{visible:!0,className:G,title:t,onCancel:s},_.createElement("div",{className:U},_.createElement("div",{className:D},n),_.createElement("div",{className:P},_.createElement(F.zx,{onClick:function(){s&&s()}},l),_.createElement(F.zx,{onClick:function(){i&&i()}},a))))},z=["isToAnchor","giftSource","pageType"],j=function(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0],t=(0,O.Z)(),n=t.userStore.userInfo,l=t.roomStore.roomInfo,s=t.linkmicStore,u=s.choosePeopleArr,f=s.useChoosePeopleFunc,v=t.giftStore,h=v.giftStatus,F=v.giftList,R=v.effectList,U=v.balance,D=v.useRechargeComponent,P=v.giftPanelShowFrom,G=v.setGiftMessages,j=v.setGiftPages,H=v.setEffectList,W=v.setBalance,K=t.eventStore,Y=K.giftEvent,Q=K.slardarEvent,J=function(){var e,t,n=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).elementClass,r=void 0===n?"confirm-modal":n,o=function(){e&&t&&(B.ZP.removeClass(t,r),Z.unmountComponentAtNode(t),e.removeChild(t),e.style.overflow="")};return{showModal:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},l=n.title,s=n.content,c=n.confirmBtnText,u=n.closeBtnText,d=n.onConfirm,f=n.onClose,m=function(){var e=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=3;break}return e.next=3,d();case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=3;break}return e.next=3,f();case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e=document.body,(t=B.ZP.findDom(e,".".concat(r)))||(t=document.createElement("div"),B.ZP.addClass(t,r),e.appendChild(t),e.style.overflow="hidden",Z.render(_.createElement(V,{title:l,content:s,confirmBtnText:c,closeBtnText:u,onConfirm:m,onClose:v}),t))},destroyModal:o}}(),q=J.showModal,X=(0,y.V)().name,$=(0,b.y)().showRecharge,ee=(0,S.n)().player,te=Boolean(g()(n,"id_str")),ne=g()(l,"roomId",""),re=g()(l,"anchor.sec_uid",""),ae=g()(l,"anchor.id_str",""),oe=g()(l,"room.episode_extra"),le=g()(oe,"episode_id_str",0)||0,ie=g()(oe,"mod.episode_stage"),se=g()(I.$F,ie,I.dq.NORMAL),ce=(0,_.useCallback)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.type,n=void 0===t?"recharge":t,r=e.balance,a=void 0===r?0:r,l=e.amount,i=void 0===l?0:l;if(D){var s,c,u,d={enter_from_merge:(0,w.yW)(),show_reason:null!==(s=I.St[n])&&void 0!==s?s:"other",live_window_type:null!==(c=null===(u=k.Le.getConfig(k.gI.LiveWindowStatus))||void 0===u?void 0:u.type)&&void 0!==c?c:"no_live_window",if_live_play:1};$({type:n,balance:a,amount:i,additionalLogParams:d,onClose:function(e){C.i.sendLog("livesdkRechargeShowDuration",(0,o.Z)((0,o.Z)({},d),{},{duration:(null==e?void 0:e.duration)||0,if_recharge_success:null!=e&&e.isSuccess?1:0}))}}),(0,x.rp)(ee)}else(0,x.n_)()}),[D,ee,$]),ue=(0,_.useCallback)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return M.Xq((0,o.Z)({room_id:ne,to_room_id:ne,sec_anchor_id:re,sec_to_user_id:re,gift_scene:se,to_episode_id:le,fetch_giftlist_from:3},e)).then((function(e){var t,n,r=e.data,a=e.logId,o=g()(r,"status_code");if(0===o){var l=g()(r,"data.pages",[]),i=(0,x.BU)(l);return j(i),c().resolve(r)}return T.k.event(d()(t="[".concat(A.Tn.Error,"]")).call(t,A.Mo.LiveGiftListError),{statusCode:o,message:(null==r||null===(n=r.data)||void 0===n?void 0:n.prompts)||"",logId:null!=a?a:"",is_client:(0,N.DT)()}),E.F.info(g()(r,"data.prompts","\u83b7\u53d6\u793c\u7269\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")),T.k.error("\u83b7\u53d6\u793c\u7269\u5931\u8d25",r,a),c().reject(r)}))}),[ne,re,le,se,j]),de=(0,_.useCallback)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return M.ao((0,o.Z)({is_living:!1,download_assets_from:3},e)).then((function(e){var t,n,r=e.data,a=e.logId,o=g()(r,"status_code");if(0===o){var l=g()(r,"data.assets",[]),i=(0,x.Js)(l);return H(i),c().resolve(r)}return E.F.info(g()(r,"data.prompts","\u83b7\u53d6\u7279\u6548\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")),T.k.event(d()(t="[".concat(A.Tn.Error,"]")).call(t,A.Mo.LiveGiftEffectError),{statusCode:o,message:(null==r||null===(n=r.data)||void 0===n?void 0:n.prompts)||"",logId:null!=a?a:"",is_client:(0,N.DT)()}),T.k.error("\u83b7\u53d6\u7279\u6548\u5931\u8d25",r,a),c().reject(r)}))}),[H]),fe=(0,_.useCallback)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return M.ao((0,o.Z)({is_living:!1,download_assets_from:3},e)).then((function(e){var t,n=e.data,r=e.logId,a=g()(n,"status_code");if(0===a){var l=g()(n,"data.assets",[]),i=(0,x.Js)(l);return c().resolve(i[0])}return T.k.event(d()(t="[".concat(A.Tn.Error,"]")).call(t,A.Mo.LiveSingleEffectError),(0,o.Z)({statusCode:a,logId:null!=r?r:"",is_client:(0,N.DT)()},n)),T.k.error("\u83b7\u53d6\u5355\u4e2a\u7279\u6548\u5931\u8d25",n,r),c().reject()}))}),[]),me=(0,_.useCallback)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(te)return M.sb((0,o.Z)({},e)).then((function(e){var t,n=e.data,r=e.logId,a=g()(n,"status_code");if(0===a){var l=g()(n,"data.diamond",0);return W(l),c().resolve(n)}return T.k.event(d()(t="[".concat(A.Tn.Error,"]")).call(t,A.Mo.LiveBalanceError),(0,o.Z)({statusCode:a,logId:null!=r?r:"",is_client:(0,N.DT)()},n)),E.F.info(g()(n,"data.prompts","\u83b7\u53d6".concat(X,"\u4f59\u989d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"))),T.k.error("\u83b7\u53d6".concat(X,"\u4f59\u989d\u5931\u8d25"),n,r),c().reject(n)}))}),[te,X,W]),ve=(0,_.useCallback)((0,a.Z)(i().mark((function e(){var t,l,s,v,_,y,S,b,C,w,k,O,Z,B,V=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=V.length>0&&V[0]!==undefined?V[0]:{},v=!(V.length>1&&V[1]!==undefined)||V[1],te){e.next=7;break}return e.next=5,(0,x.m8)("\u767b\u5f55\u540e\u5373\u53ef\u9001\u793c","live_gift");case 5:return(0,x.rp)(ee),e.abrupt("return",c().reject());case 7:if(h){e.next=11;break}return E.F.info("\u6682\u65e0\u9001\u793c\u6743\u9650\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),(0,x.rp)(ee),e.abrupt("return",c().reject());case 11:if(_=s.isToAnchor,y=s.giftSource,S=s.pageType,b=(0,r.Z)(s,z),null==Q||null===(t=Q.sendGiftApiEvent)||void 0===t||t.call(Q,{params:s}),!f||_){e.next=20;break}if(w=s.count,k=s.price,!(k*w*(null!==(C=null==u?void 0:u.length)&&void 0!==C?C:0)>I.sF)){e.next=20;break}return E.F.info("\u8be5\u793c\u7269\u4e0d\u652f\u6301\u6210\u7ec4\u9001\u5168\u9ea6"),s.count>1&&(null==Y||null===(O=Y.liveGiftGroupClick)||void 0===O||O.call(Y,{peopleCount:null!==(Z=null==u?void 0:u.length)&&void 0!==Z?Z:1,giftId:null==s?void 0:s.gift_id,pageType:S,result:"fail"})),e.abrupt("return",c().reject());case 20:return B=f&&!_&&null!==(l=null==u?void 0:m()(u).call(u,(function(e){return Number(e)})))&&void 0!==l?l:[Number(ae)],e.abrupt("return",M.hF((0,o.Z)({room_id:ne,to_room_id:ne,to_user_id:f&&!_&&1===(null==B?void 0:B.length)?String(null==B?void 0:B[0]):ae,to_user_ids:f&&!_&&1!==(null==B?void 0:B.length)?p()(B):"",to_episode_id:le,send_type:4,send_scene:f&&!_?2:1,gift_source:0,buff_level:0},b)).then(function(){var e=(0,a.Z)(i().mark((function e(t){var r,a,l,f,p,_,h,C,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=t.data,p=t.logId,_=g()(f,"status_code"),h=s.price*s.count,null==Q||null===(r=Q.sendGiftApiCbEvent)||void 0===r||r.call(Q,{params:s,data:f}),s.count>1&&(null==Y||null===(a=Y.liveGiftGroupClick)||void 0===a||a.call(Y,{peopleCount:null!==(l=null==u?void 0:u.length)&&void 0!==l?l:1,giftId:g()(f,"data.gift_id"),pageType:S,result:0===_?"success":"fail"})),0!==_){e.next=12;break}C=(0,x.mL)(g()(f,"data"),F,R,n,g()(b,"count")),G(C),me(),m()(B).call(B,(function(e){var t;null==Y||null===(t=Y.liveGiftSendEvent)||void 0===t||t.call(Y,{gift_id:g()(f,"data.gift_id"),combo_cnt:g()(f,"data.combo_count"),group_cnt:g()(f,"data.group_count"),gift_source:y,money_per_unit:s.price,gift_cnt:s.count,money:h,is_fans_club_gift:(0,L.dU)(String(g()(f,"data.gift_id")))?"1":"0",to_user_id:String(e),full_seats_cnt:B.length,gift_show_from:P,pageType:S})})),e.next=18;break;case 12:if(20003!==_){e.next=17;break}return e.next=15,(0,x.m8)("\u767b\u5f55\u540e\u5373\u53ef\u9001\u793c","live_gift");case 15:e.next=18;break;case 17:40001===_?v&&(D?ce({type:"balance",balance:h-U,amount:h}):q({content:"\u60a8\u7684\u4f59\u989d\u4e0d\u8db3\uff0c\u8bf7\u5145\u503c\uff5e",confirmBtnText:"\u53bb\u5145\u503c",onConfirm:x.n_})):42201===_?E.F.info("\u4e3a\u4fdd\u969c\u8d26\u53f7\u548c\u8d44\u91d1\u5b89\u5168\uff0c\u8bf7\u5148\u524d\u5f80\u6296\u97f3app\u5b8c\u6210\u8eab\u4efd\u9a8c\u8bc1"):42202===_?E.F.info("\u4e3a\u4fdd\u969c\u8d26\u53f7\u548c\u8d44\u91d1\u5b89\u5168\uff0c\u8bf7\u5148\u524d\u5f80\u6296\u97f3app\u5b8c\u6210\u8eab\u4efd\u6838\u5bf9"):(T.k.event(d()(w="[".concat(A.Tn.Error,"]")).call(w,A.Mo.LiveSendGiftError),(0,o.Z)({statusCode:_,logId:null!=p?p:"",is_client:(0,N.DT)()},f)),E.F.info(g()(f,"data.prompts","\u9001\u793c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")),T.k.error("\u9001\u793c\u5931\u8d25",f,p));case 18:if(0!==_){e.next=22;break}return e.abrupt("return",c().resolve(f));case 22:return(0,x.rp)(ee),e.abrupt("return",c().reject(f));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 22:case"end":return e.stop()}}),e)}))),[te,h,n,ne,le,F,R,U,D,ee,me,G,q,ce,u,P,f,ae,Y,Q]);return(0,_.useEffect)((function(){e&&h&&(ue(),de())}),[h]),(0,_.useEffect)((function(){e&&te&&me()}),[te]),{getGifts:ue,getEffects:de,getSingleEffect:fe,getBalance:me,sendGift:ve,handleRecharge:ce,giftScene:se}}},97753:function(e,t,n){var r=n(56402),a=n.n(r),o=n(82524),l=n(53864),i=n(46611);t.Z=function(){var e,t,n=(0,o.Z)(),r=n.userStore.userInfo,s=n.roomStore.roomInfo,c=s.roomId,u=void 0===c?"":c;return(0,l.useMemo)((function(){return u?a()(s,"room.mosaic_status",0)||i.LV.PAUSE===a()(s,"room.status")?i.$V.LIVING_PAUSE:a()(s,"room.status")===i.LV.END?i.$V.LIVING_END:r.id_str?i.$V.DEFAULT:i.$V.NO_LOGIN:i.$V.ROOM_ID_EMPTY}),[u,null==s||null===(e=s.room)||void 0===e?void 0:e.status,null==s||null===(t=s.room)||void 0===t?void 0:t.mosaic_status,r.id_str])}},99759:function(e,t,n){var r=n(64408),a=n(30906),o=n(56402),l=n.n(o),i=n(5594),s=n.n(i),c=n(68493),u=n.n(c),d=n(11227),f=n.n(d),m=n(19672),v=n.n(m),p=n(90457),_=n.n(p),h=n(88743),g=n.n(h),E=n(53864),y=n(34590),S=n(74584),b=n(15504),C=n(87290),w=n(75478),k=n(42441),A=n(40496),N=n(49915),I=n(91615),x=n(50666),T=n(66453),L=n(82524),M=n(12361),O=n(62232);t.Z=function(){var e,t,n=(0,E.useRef)(!1),o=(0,L.Z)(),i=o.userStore.userInfo,c=o.roomStore.roomInfo,d=o.pkStore.pkAppData,m=o.linkmicStore,p=m.linkRoomType,h=m.linkMicSeats,Z=(0,S.n)().player,B=(null==c?void 0:c.roomId)||"",F=(null==c||null===(e=c.anchor)||void 0===e?void 0:e.id_str)||"",R=(null==c||null===(t=c.anchor)||void 0===t?void 0:t.sec_uid)||"",U=(null==i?void 0:i.id_str)||"",D=(null==i?void 0:i.sec_uid)||"",P=(null==d?void 0:d.channelId)||0,G=null==d?void 0:d.ver,V=(0,E.useCallback)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return x.BL((0,a.Z)({room_id:B,anchor_id:F,sec_anchor_id:R,channel_id:P,from_type:3},e)).then((function(e){var t,n=e.data,r=e.logId;return 0===(null==n?void 0:n.status_code)?u().resolve(n):(y.F.info((null==n||null===(t=n.data)||void 0===t?void 0:t.prompts)||"\u83b7\u53d6 PK \u72b6\u6001\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),b.k.error("\u83b7\u53d6 PK \u72b6\u6001\u5931\u8d25",n,r),u().reject(n))}))}),[B,F,R,P]),z=(0,E.useCallback)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return x.v6((0,a.Z)((0,a.Z)((0,a.Z)({room_id:B,channel_id:P,offset:0,count:50,link_status:4},G===C.TG.DOUBLE&&{scene:1,request_source:"audience_enter_room"}),G===C.TG.MULTI&&{scene:7,request_source:"receive_multi_linker_sei"}),e)).then((function(e){var t,n=e.data,r=e.logId;return 0===(null==n?void 0:n.status_code)?u().resolve(n):(y.F.info((null==n||null===(t=n.data)||void 0===t?void 0:t.prompts)||"\u83b7\u53d6 PK \u5217\u8868\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),b.k.error("\u83b7\u53d6 PK \u5217\u8868\u5931\u8d25",n,r),u().reject(n))}))}),[B,P,G]),j=(0,E.useCallback)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return x.j8((0,a.Z)({channel_id:P},e)).then((function(e){var t,n=e.data,r=e.logId;return 0===(null==n?void 0:n.status_code)?u().resolve(n):(y.F.info((null==n||null===(t=n.data)||void 0===t?void 0:t.prompts)||"\u83b7\u53d6 PK \u8d21\u732e\u699c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),b.k.error("\u83b7\u53d6 PK \u8d21\u732e\u699c\u5931\u8d25",n,r),u().reject(n))}))}),[P]),H=(0,E.useCallback)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.targetUid,n=e.secTargetUid;return I.bG({target_uid:t,sec_target_uid:n}).then((function(e){var t=e.data,n=e.logId;return 0===(null==t?void 0:t.status_code)?u().resolve(t):(b.k.error("\u83b7\u53d6 PK \u8d21\u732e\u699c\u7684\u7528\u6237\u4fe1\u606f\u5931\u8d25",t,n),u().reject(t))}))}),[]),W=(0,E.useCallback)(function(){var e=(0,r.Z)(s().mark((function e(t){var r,c,u,d,m,E,S,b,C,A,N,I,x,T,L,F,R,P,G,V,z,j,W,K,Y,Q,J,q,X,$,ee,te,ne,re,ae,oe,le,ie;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.user,u=t.event,d=t.style,m=t.container,E=void 0===m?null:m,S=t.showGoToLivingBtn,b=void 0!==S&&S,C=t.needGetUserInfo,A=void 0!==C&&C,N=t.pointParams,I=void 0===N?{}:N,x=t.onFollowStatusUpdate,T=c.uid,L=void 0===T?"":T,F=c.secUid,R=void 0===F?"":F,P=c.displayId,G=void 0===P?"":P,V=c.name,z=c.avatar,j=c.mysteryMan,W=c.desensitizedNickname,K=c.signature,Y=c.followInfo,Q=L===U,q={payload:{user:J={nickname:V,mysteryMan:j,desensitizedNickname:W,signature:K,followInfo:Y,avatarThumb:{urlList:[z]}}}},null==V||!f()(V).call(V,"***")||Q){e.next=8;break}return y.F.info("\u56e0\u4e3b\u64ad\u8bbe\u7f6e\u4e0d\u652f\u6301\u67e5\u770b\u4ed6\u4eba\u8d44\u6599"),e.abrupt("return");case 8:if(!A){e.next=30;break}if(!n.current){e.next=11;break}return e.abrupt("return");case 11:return n.current=!0,e.prev=12,e.next=15,H({targetUid:L,secTargetUid:R});case 15:te=e.sent,ne=(null==te?void 0:te.data)||{},J.followInfo={followStatus:null===(X=ne.follow_info)||void 0===X?void 0:X.follow_status,followerCount:(null===($=ne.follow_info)||void 0===$?void 0:$.follower_count)||0,followingCount:(null===(ee=ne.follow_info)||void 0===ee?void 0:ee.following_count)||0},J.signature=ne.signature,J.mysteryMan=ne.mystery_man,J.desensitizedNickname=ne.desensitized_nickname,c.secUid=ne.sec_uid,c.displayId=ne.display_id,e.next=27;break;case 25:e.prev=25,e.t0=e.catch(12);case 27:return e.prev=27,n.current=!1,e.finish(27);case 30:re=l()(i,"user_attr.is_admin",!1),ae=l()(i,"user_attr.admin_privileges",[]),oe=re&&v()(ae)&&f()(ae).call(ae,O.s.LinkMicPrivilege),le=p&&h&&_()(r=g()(h)).call(r,(function(e){return l()(e,"user.user.id_str","")===L})),ie=Boolean(oe&&!le),M.Z.open({uid:L,secUid:R||c.secUid||"",displayId:G||c.displayId||"",loginUid:U,loginSecUid:D,roomId:B,isSelf:Q,hasReport:!1,message:(0,w._0)(q),showGoToLivingBtn:b,pointParams:I,supportAdminInviteLinking:ie,store:o,onFollowStatusUpdate:x},(0,a.Z)((0,a.Z)({},d),{},{top:u.clientY,left:u.clientX}),E||(0,k.E)(Z));case 36:case"end":return e.stop()}}),e,null,[[12,25,27,30]])})));return function(t){return e.apply(this,arguments)}}(),[B,U,D,Z,H,h,i,p,o]),K=(0,E.useCallback)((function(){var e,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!U)return(0,A.m8)("\u767b\u5f55\u540e\u5373\u53ef\u9001\u793c","live_pk"),(0,A.rp)(Z),u().reject();var n=t.uid,r=t.secUid,a=t.followStatus,o=f()(e=[N.E.EACH_OTHER,N.E.FROMUID_TO_TARGETUID]).call(e,a),l=o?"\u53d6\u6d88\u5173\u6ce8":"\u5173\u6ce8";return(o?I.fv:I.ZN)({to_user_id:n,sec_to_user_id:r,current_room_id:B,sec_user_id:U,channel_id:I.RN.ROOM}).then((function(e){var t,n=e.data,r=e.logId;return 0===(null==n?void 0:n.status_code)?(y.F.info("".concat(l,"\u6210\u529f")),o||T.a.TrayPushGuideManager.emitFollowEvent(),u().resolve(n)):(y.F.info((null==n||null===(t=n.data)||void 0===t?void 0:t.prompts)||"".concat(l,"\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")),b.k.error("".concat(l,"\u5931\u8d25"),n,r),u().reject(n))}))}),[B,U,Z]);return{getPKStatus:V,getPKList:z,getPKContributors:j,showUserInfoCard:W,followOrUnfollow:K}}},17612:function(e,t,n){n.d(t,{d:function(){return S}});var r=n(64408),a=n(32781),o=n(5594),l=n.n(o),i=n(52249),s=n.n(i),c=n(50750),u=n.n(c),d=n(94090),f=n.n(d),m=n(53864),v=n(56402),p=n.n(v),_=n(87788),h=n(82524),g=n(92826),E=n(65364),y=n(35039),S=function(e){var t=(0,h.Z)().paidLiveStore,n=t.paidLiveAuth,r=(t.paidLiveData,(null==n?void 0:n[e])===_.Bp.OPEN);return{ticketInfo:g.S,isCanView:r}};t.Z=function(){arguments.length>0&&undefined;var e=(0,h.Z)().singletonStore.container,t=(0,m.useState)("https://lf-dy-gr-sourcecdn.bytegecko.com/obj/byte-gurd-source-gr/webcast/mono/h5/vs_paid_live_audience_pc_buy_ticket_h5_douyin/pages/ticket_pc/index.html"),n=(0,a.Z)(t,2),o=n[0],i=n[1],c=function(){var t,n,r=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).query,a=void 0===r?{}:r,l=s()(t=u()(a)).call(t,(function(e,t){var n,r,o=f()(n="".concat(t,"=")).call(n,a[t]);return f()(r="".concat(e,"&")).call(r,o)}),""),i=f()(n="".concat(o)).call(n,l?"?".concat(l):"");e.open(i,y.ov.RIGHT_PANEL,{hideClose:!0})};return(0,m.useEffect)((function(){var e,t,n,r;null!==(e=window)&&void 0!==e&&null!==(t=e.__INVISIBLE_QUERY__)&&void 0!==t&&t.if_paid_live_card&&(c({query:{ticket_entrance:null===(n=window)||void 0===n||null===(r=n.__INVISIBLE_QUERY__)||void 0===r?void 0:r.ticket_entrance}}),window.__INVISIBLE_QUERY__.if_paid_live_card=undefined)}),[c]),(0,m.useEffect)((function(){try{(0,r.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.ZP)({service_name:"webcast.douyin.live_pc",key:"hybrid_schema"});case 2:t=e.sent,(n=p()(t,"paid_live_ticket_panel",""))&&i(n);case 5:case"end":return e.stop()}}),e)})))()}catch(e){}}),[]),{openTicketInfo:c}}},20335:function(e,t,n){n.d(t,{S:function(){return h}});var r=n(30906),a=n(64408),o=n(56402),l=n.n(o),i=n(5594),s=n.n(i),c=n(26447),u=n.n(c),d=n(353),f=n(56462),m=n(65364),v=n(34510),p=n(67402),_=n(88810),h=function(){var e=(0,a.Z)(s().mark((function e(t,n,a,o){var i,c,h,g,E,y,S,b,C,w,k,A,N,I,x,T,L,M,O,Z,B,F,R,U,D,P,G,V,z=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M=z.length>4&&z[4]!==undefined&&z[4],O={Digg:null==a||null===(i=a.room)||void 0===i||null===(c=i.room_auth)||void 0===c?void 0:c.Digg,SpecialStyle:null==a||null===(h=a.room)||void 0===h||null===(g=h.room_auth)||void 0===g?void 0:g.SpecialStyle},t.roomStore&&l()(a,"room.others.programme.enable_programme",!1)&&(t.roomStore.enableProgramme=!0),null===(E=t.roomStore)||void 0===E||E.setRoomInfo(a),null===(y=t.roomStore)||void 0===y||y.setUgcLive(null==a||null===(S=a.room)||void 0===S||null===(b=S.scene_type_info)||void 0===b?void 0:b.commentary_type),null===(C=t.roomStore)||void 0===C||C.setGameHiddle(null===(w=(0,v.MP)(a))||void 0===w||null===(k=w.extension)||void 0===k?void 0:k.game_hidden),null===(A=t.roomStore)||void 0===A||A.setLikeStatus(O),Z=(0,p.h)(a),null===(N=t.streamStore)||void 0===N||N.setStreamData(Z),B=f.Q.getItem({sKey:d.CookieKeys.WebcastLeadingLastShowTime,ctx:null==o?void 0:o.ctx}),F=f.Q.getItem({sKey:d.CookieKeys.WebcastLeadingTotalShowTimes,ctx:null==o?void 0:o.ctx}),M||(U=l()(n,"loginLead",{}),null===(R=t.streamStore)||void 0===R||R.setLeadingData((0,r.Z)((0,r.Z)({},U),{},{clatity_guide:_.g.TRYWATCH_LEAD,last_show_time:B,total_show_times:F}))),D=f.Q.getItem({sKey:d.CookieKeys.WebcastLocalQuality,ctx:null==o?void 0:o.ctx}),e.next=15,(0,m.ZP)({ctx:null==o?void 0:o.ctx,service_name:"webcast.douyin.live_pc",key:"live_quality_count_tactics"});case 15:P=e.sent,G=P.singleControlTime,V=P.singleControlMaxShowTime,null===(I=t.streamStore)||void 0===I||I.setLocalQuality(D),null===(x=t.streamStore)||void 0===x||x.setRenderTime(u()()),null===(T=t.streamStore)||void 0===T||T.setSingleControlTime(Number(G)),null===(L=t.streamStore)||void 0===L||L.setSingleControlMaxShowTime(Number(V));case 21:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},94604:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(65146),a=n(53864),o="OKe43LlI",l="WxKTHjr8",i="WT4Juiui",s="hpcrr6CP",c=n(79705),u=n.n(c),d=function(e){var t=e.width,n=e.title,c=e.cover,d=e.meta,f=e.detail,m=e.className,v=e.onMouseEnter,p=e.onMouseLeave,_=e.onClick;return a.createElement("div",{style:{width:t},onMouseEnter:v,onMouseLeave:p,onClick:_,className:u()(o,m)},a.createElement("div",{className:u()(l,(0,r.Z)({},i,f))},c),f?a.createElement("div",null,f):a.createElement(a.Fragment,null,a.createElement("div",{className:s},n),a.createElement("div",null,d)))}},46750:function(e,t,n){n.d(t,{Z:function(){return M}});var r,a,o,l=n(30906),i=n(32781),s=n(70200),c=n.n(s),u=n(34346),d=n.n(u),f=n(53864),m=n(59682);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var p=function(e){return f.createElement("svg",v({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.867 10.29a2 2 0 012-2H20.44a2 2 0 012 2v5.25l-1.644-.959a1 1 0 00-.801-.09v-2.218a.6.6 0 00-.6-.6h-.76l.32-.48a.6.6 0 00-.999-.666l-.764 1.146h-.305l-.764-1.146a.6.6 0 00-.998.666l.32.48h-.765a.6.6 0 00-.6.6v3.772a.6.6 0 00.6.6h1.57l-.605.353a1 1 0 00-.346.337h-1.091a.6.6 0 100 1.2h.94v4.178c0 .05.005.1.012.147H9.867a2 2 0 01-2-2V10.29zm1.97 1.042a.6.6 0 01.6-.6h2.357a.6.6 0 01.6.6v2.83a.6.6 0 01-.6.6h-1.758v1.157h1.758a.6.6 0 01.6.6v3.3a.6.6 0 01-.6.6h-2.358a.6.6 0 010-1.2h1.758v-2.1h-1.758a.6.6 0 01-.6-.6V14.16a.6.6 0 01.6-.6h1.758v-1.629h-1.758a.6.6 0 01-.6-.6z",fill:"#fff",fillOpacity:.9})),a||(a=f.createElement("path",{d:"M18.794 15.16l-.488.285h-.67v-.684h1.158v.4zM15.279 15.445v-.684h1.157v.684h-1.157zM15.279 13.561h1.157v-.688h-1.157v.688zM17.636 13.561h1.158v-.688h-1.158v.688z",fill:"#fff",fillOpacity:.9})),o||(o=f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.78 16.703a1 1 0 00-.981 0l-2.429 1.366a1 1 0 00-.51.872v2.687a1 1 0 00.51.872l2.429 1.366a1 1 0 00.98 0l2.429-1.366a1 1 0 00.51-.872v-2.687a1 1 0 00-.51-.872l-2.429-1.366zm-.49 2.299a1.286 1.286 0 10-.001 2.572 1.286 1.286 0 000-2.572z",fill:"#fff",fillOpacity:.9})))},_=n(85327),h=n(85090),g=n(35355),E="tU1V6lWo",y="TIocPWEu",S="PRcpG6Lt",b="stu75YQz",C="CPMhyqXs",w="dxmNt3rm",k="Eq61JOWT",A="HZVwbThe",N="TOcz1jKJ",I=n(74584),x=n(92312),T=n(44635),L=function(e){var t=e.label,n=c()(e),r=e.showDots,a=e.min,o=e.max,l=e.getLabelFunc,s=e.defaultValue,u=e.reset,d=e.onChange,v=f.useState(s),p=(0,i.Z)(v,2),_=p[0],g=p[1],E=f.useState(!1),y=(0,i.Z)(E,2),S=y[0],b=y[1];f.useEffect((function(){g(s)}),[s]),f.useEffect((function(){S?g(null===h.HI||void 0===h.HI?void 0:h.HI[n]):b(!0)}),[u,b]);var C=f.useCallback((function(e){d(e),g(e)}),[d]);return f.createElement("div",{className:k},f.createElement("span",{className:N},t),f.createElement(m.i,{className:A,min:a||0,max:o||1,showDots:r,getLabelFunc:l,value:_,onChange:C}))},M=(0,x.r)((function(){var e=(0,I.n)().player,t=f.useState(!1),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=(0,T.P)({delayDisappear:300}),s=o.type,c=o.changeType,u=[{id:1,key:"opacity",label:"\u4e0d\u900f\u660e\u5ea6",desc:"\u4e0d\u900f\u660e\u5ea6",defaultVal:(0,g.n)("opacity"),getLabelFunc:function(e){return"".concat(e,"%")},max:100,min:20,showDots:!1,onChange:function(t){if(t){var n=Math.max(t/100,.2);e.plugins.danmu.setOpacity(n)}}},{id:2,label:"\u663e\u793a\u533a\u57df",key:"area",desc:"\u663e\u793a\u533a\u57df",defaultVal:(0,g.n)("area"),max:4,min:0,showDots:!0,getLabelFunc:function(e){var t;return null===(t=h.WK[e])||void 0===t?void 0:t.desc},onChange:function(t){var n=(0,l.Z)({start:.01,end:h.WK[t].value},1===t||0===t?{lines:t+1}:{});e.plugins.danmu.setArea(n)}},{id:3,label:"\u5b57\u4f53\u5927\u5c0f",key:"fontSize",desc:"\u5b57\u4f53\u5927\u5c0f",defaultVal:(0,g.n)("fontSize"),max:4,min:0,showDots:!0,getLabelFunc:function(e){var t;return null===(t=h.NY[e])||void 0===t?void 0:t.desc},onChange:function(t){var n,r,a=null===(n=h.NY[t])||void 0===n?void 0:n.value;null===(r=e.plugins.danmu)||void 0===r||r.setFontSize(String(a),a+20);var o=document.getElementsByClassName("content-with-emoji-emoji_danmaku"),l=document.getElementsByClassName("content-with-gift_danmaku");if(null!=o&&o.length)for(var i in o){var s;null!==(s=o[i])&&void 0!==s&&s.style&&(o[i].style.width=h.NY[t].width,o[i].style.height=h.NY[t].width)}if(null!=l&&l.length)for(var c in l){var u;null!==(u=l[c])&&void 0!==u&&u.style&&(l[c].style.width=h.NY[t].width,l[c].style.height=h.NY[t].width)}}},{id:4,label:"\u79fb\u52a8\u901f\u5ea6",key:"speed",desc:"\u79fb\u52a8\u901f\u5ea6",defaultVal:(0,g.n)("speed"),max:2,min:0,showDots:!0,getLabelFunc:function(e){var t;return null===(t=h.AY[e])||void 0===t?void 0:t.desc},onChange:function(t){e.plugins.danmu.setAllDuration("scroll",h.AY[t].value)}}],m=f.useCallback((function(){a((function(e){return!e})),(0,g.D)("reset"),d()(u).call(u,(function(e){var t;e.onChange(null!==(t=null===h.HI||void 0===h.HI?void 0:h.HI[e.key])&&void 0!==t?t:1)}))}),[]);return f.createElement("div",{className:E},f.createElement("div",{onMouseLeave:function(){return c(!1)},onMouseEnter:function(){return c(!0)}},f.createElement(p,null)),s&&f.createElement("div",{className:y,onMouseLeave:function(){return c(!1)},onMouseEnter:function(){return c(!0)}},f.createElement("div",{className:S},f.createElement("div",{className:b},"\u5f39\u5e55\u8bbe\u7f6e"),f.createElement("div",{className:C},f.createElement("img",{src:globalThis.xssNamespace.douyin_web.filterUrl(_,null,{logType:"js.href/src",mode:"black",reportOnly:!1})}),f.createElement("div",{onClick:m},"\u6062\u590d\u9ed8\u8ba4"))),f.createElement("div",{className:w},d()(u).call(u,(function(e){return f.createElement(L,{key:e.id,label:e.desc,keys:e.key,showDots:e.showDots,max:e.max,min:e.min,getLabelFunc:e.getLabelFunc,defaultValue:e.defaultVal,onChange:function(t){(0,g.D)(e.key,t),e.onChange(t)},reset:r})})))))}))},40408:function(e,t,n){n.d(t,{Z:function(){return m}});var r,a=n(32781),o=n(34346),l=n.n(o),i=n(53864),s=function(e){var t=e.text,n=e.isSkin,r=e.clickText;return i.createElement("div",{className:"fix-chat_chat-item ".concat(n?"fix-chat_chat-skin":""),onClick:r},t)};function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=function(e){return i.createElement("svg",c({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.707 7.707a1 1 0 00-1.414-1.414L12 10.586 7.707 6.293a1 1 0 00-1.414 1.414L10.586 12l-4.293 4.293a1 1 0 101.414 1.414L12 13.414l4.293 4.293a1 1 0 001.414-1.414L13.414 12l4.293-4.293z",fill:"#fff",fillOpacity:.4})))},d=n(32153),f=n(82524),m=(0,d.Pi)((function(e){var t=e.isSkin,n=void 0===t||t,r=e.enable,o=void 0!==r&&r,c=e.onSend,d=e.onClose,m=(0,f.Z)().singletonStore.message,v=(0,i.useState)([]),p=(0,a.Z)(v,2),_=p[0],h=p[1];(0,i.useEffect)((function(){var e;if(o)return null==m||null===(e=m.wrds)||void 0===e?void 0:e.on("RoomDataSyncMessage","FixedChatSyncData",(function(e){var t,n,r=(null==e?void 0:e.payload).payload;h(null!==(t=null==r||null===(n=r.fixed_chat_info)||void 0===n?void 0:n.fixed_chat_list)&&void 0!==t?t:[])}))}),[o,m]);var g=(0,i.useCallback)((function(e){c&&c(e),null==d||d()}),[c]);return i.createElement("div",{className:"fix-chat_container ".concat(n?"fix-chat_is-skin":""),onClick:function(e){e.stopPropagation()}},i.createElement("div",{className:"fix-chat_close",onClick:d},i.createElement(u,null)),i.createElement("div",{className:"fix-chat_chat-box"},(null==_?void 0:_.length)>0?l()(_).call(_,(function(e,t){return i.createElement("div",{className:"fix-chat_chat-info",key:t},i.createElement(s,{isSkin:n,text:e,clickText:function(){g(e)}}))})):i.createElement("div",{className:"fix-chat_no-content"},"\u5f53\u524d\u6682\u65e0\u53ef\u53d1\u9001\u5f39\u5e55")))}))},39814:function(e,t,n){n.d(t,{Z:function(){return M}});var r,a=n(65902),o=n(65146),l=n(32781),i=n(53864);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var c=function(e){return i.createElement("svg",s({width:105,height:120,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M89.013 24.055C82.55 19.84 77.883 13.098 76.427 5.238A28.704 28.704 0 0175.939 0H55.31l-.035 82.675c-.345 9.257-7.967 16.689-17.307 16.689-2.902 0-5.636-.726-8.044-1.992-5.517-2.907-9.299-8.692-9.299-15.35 0-9.56 7.783-17.343 17.343-17.343 1.783 0 3.495.297 5.119.803V44.423a38.211 38.211 0 00-5.12-.368C17.034 44.055 0 61.088 0 82.027c0 12.848 6.42 24.216 16.213 31.088A37.749 37.749 0 0037.973 120c20.939 0 37.972-17.033 37.972-37.973V40.101a49.054 49.054 0 0028.704 9.227v-20.63a28.56 28.56 0 01-15.636-4.643z",fill:"#121423",fillOpacity:.9,opacity:.04})))},u="J5v91V5M",d="Nw_1SZfA",f="QB_bJAy0",m="Ep996RG4",v="NhQDnoGU",p="eKUHOl1N",_="P3H_SIEn",h="_e5FKuxZ",g="EQ8SkrxW",E="iRpmVuLZ",y="vNxjYAeF",S="v2ka3wpf",b="L7fw4cnU",C="wvwjmDxl",w="sA4KwL2v",k="IeqaecxD",A=n(17330),N=n.n(A),I=n(79705),x=n.n(I),T=function(e){var t=e.onLog,n=e.isReady,r=i.useRef(!1);return i.useEffect((function(){n&&!r.current&&(r.current=!0,t&&t())}),[t,n]),null},L=function(e){var t,n=e.imageSrc,r=e.scale,a=void 0===r?16/9:r,s=e.title,A=e.fit,I=void 0===A?"cover":A,L=e.mask,M=e.leftMarker,O=e.rightMarker,Z=e.className,B=e.hideMarkers,F=void 0!==B&&B,R=e.onMouseLeave,U=e.onMouseEnter,D=e.onClick,P=e.maskZIndex,G=void 0===P?2:P,V=e.alt,z=e.animation,j=e.hideShadow,H=e.forwardRef,W=e.onLog,K=e.lazyLoadOffset,Y=void 0===K?600:K,Q=e.lazyLoad,J=void 0!==Q&&Q,q=e.isLogReady,X=e.leftTag,$=e.hoverImg,ee=i.useState(!1),te=(0,l.Z)(ee,2),ne=te[0],re=te[1],ae=i.useRef(null);i.useEffect((function(){ae.current&&ae.current.complete&&re(!0)}),[]);var oe=i.useCallback((function(){ne||re(!0)}),[ne]),le=i.useMemo((function(){var e;return i.createElement("img",{alt:V,ref:ae,src:globalThis.xssNamespace.douyin_web.filterUrl(n,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),onLoad:oe,className:x()(h,(e={},(0,o.Z)(e,E,!ne),(0,o.Z)(e,g,$),e)),style:{objectFit:I}})}),[V,ae,n,oe,ne,I,$]);return i.createElement("div",{ref:H,title:"",className:x()(u,Z),style:{paddingTop:"".concat(1/a*100,"%")},onMouseEnter:U,onMouseLeave:R,onClick:D},L&&i.createElement("div",{style:{zIndex:G},className:_},L),i.createElement("div",{className:m},i.createElement(c,null)),i.createElement(N(),{height:"100%",offset:200,once:!0},i.createElement(T,{onLog:W,isReady:q})),J?i.createElement(N(),{height:"100%",offset:Y,once:!0},le):le,!j&&i.createElement("div",{className:x()(v,(0,o.Z)({},p,!ne))}),i.createElement("div",{className:d},i.createElement("div",{className:f},X)),i.createElement("div",{className:x()(y,(t={},(0,o.Z)(t,w,z&&F),(0,o.Z)(t,k,z&&!F),(0,o.Z)(t,C,!z&&F),t))},i.createElement("div",{className:S},s),i.createElement("div",{className:b},M,O)))},M=i.forwardRef((function(e,t){return i.createElement(L,(0,a.Z)({},e,{forwardRef:t}))}))},92683:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(30673),a=n(32781),o=n(26447),l=n.n(o),i=n(94090),s=n.n(i),c=n(85792),u=n.n(c),d=n(8e3),f=n.n(d),m=n(34346),v=n.n(m),p=n(53864),_="Zs4Pv2bD",h="j0w8hIJX",g="ArIkYpEb",E="LFzHmghV",y="Hszv5xRa",S=n(79705),b=n.n(S),C="ZHxnzvky",w="d7jhIZ6K",k="zhKT054h";function A(e){var t=e.x,n=void 0===t?50:t,r=e.y,a=void 0===r?50:r,o=e.img,l={left:n-10,top:a-10};return p.createElement("div",{style:l,className:C},o?p.createElement("img",{src:globalThis.xssNamespace.douyin_web.filterUrl(o,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),className:b()(w,k)}):p.createElement("img",{src:"//p3-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/feed_money_like_icon.svg",className:b()(w,k)}))}var N=n(21662),I=n(72943),x=function(e){var t=e.isClickLike,n=e.classNames,o=e.isFullScreen,i=e.isTheaterOn,c=e.userInfo,d=e.icons,m=e.userLike,S=(0,p.useState)([]),C=(0,a.Z)(S,2),w=C[0],k=C[1],x=(0,p.useState)([]),T=(0,a.Z)(x,2),L=T[0],M=T[1],O=(0,p.useState)(!0),Z=(0,a.Z)(O,2),B=Z[0],F=Z[1],R=(0,p.useState)({top:220,left:40,height:0}),U=(0,a.Z)(R,2),D=U[0],P=U[1],G=(0,p.useState)(0),V=(0,a.Z)(G,2),z=V[0],j=V[1],H=(0,p.useRef)(0),W=(0,p.useRef)(!1),K=(0,p.useRef)(null),Y=(0,p.useRef)(0),Q=(0,p.useRef)(),J=(0,p.useRef)(),q=function(e){var n,a,o=l()();n=(null==e?void 0:e.pageX)-D.left;var i=D.top>D.height?D.top-D.height:D.top;a=(null==e?void 0:e.pageY)-i,null==m||m("double_click"),t&&(k((function(e){var t,l;return Y.current++,s()(t=[]).call(t,(0,r.Z)(e),[{x:n,y:a,index:Y.current,img:(l=L,l.length<=0?"":l[Math.floor(Math.random()*l.length)]),timeFlag:o}])})),clearTimeout(J.current),J.current=u()((function(){k((function(e){return f()(e).call(e,(function(e){return e.timeFlag>o}))}))}),2e3))};(0,p.useEffect)((function(){v()(d).call(d,(function(e){M((function(t){var n,a;return s()(n=[]).call(n,(0,r.Z)(t),[null==e||null===(a=e.url_list)||void 0===a?void 0:a[0]])}))}))}),[d]),(0,p.useEffect)((function(){return window.localStorage.getItem("like_guide")||(F(!1),window.localStorage.setItem("like_guide","1"),K.current=u()((function(){F(!0)}),5e3)),function(){clearTimeout(K.current),clearTimeout(J.current),clearTimeout(Q.current)}}),[]);var X=(0,p.useCallback)((function(e){var t=null==e?void 0:e.getBoundingClientRect();t&&P({top:null==t?void 0:t.top,left:null==t?void 0:t.left,height:null==t?void 0:t.height})}),[o,i,z]),$=function(){j((function(e){return e+1}))};(0,p.useEffect)((function(){var e=document.querySelector("#".concat(N.IS));return null==e||e.addEventListener("scroll",$),function(){null==e||e.removeEventListener("scroll",$)}}),[]);return p.createElement(p.Fragment,null,p.createElement("div",{className:b()(_,n),ref:X,onClick:function(e){if(clearTimeout(Q.current),W.current)l()()-H.current<500?q(e):W.current=!1;else if(H.current&&l()()-H.current<500){if(!(null!=c&&c.secUid||null!=c&&c.sec_uid))return void(0,I.p)().then((function(e){var t,n;e({success:function(){window.location.reload()},next:"https://".concat(null===(t=window)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.host),headerText:"\u767b\u5f55\u540e\u5373\u53ef\u70b9\u8d5e"})}));H.current=l()(),W.current=!0,q(e),Q.current=u()((function(){W.current=!1,clearTimeout(Q.current)}),500)}else H.current=l()()}}),p.createElement("div",{className:h},v()(w).call(w,(function(e){return p.createElement(A,{x:e.x,y:e.y,key:e.index,img:e.img})}))),B?null:p.createElement("div",{className:g,onClick:function(){return F(!0)}},p.createElement("div",{className:E}),p.createElement("p",{className:y},"\u300c\u9f20\u6807\u53cc\u51fb\u300d\u5c4f\u5e55\u53ef\u4ee5\u70b9\u8d5e\u54e6\uff01")))}},88437:function(e,t,n){n.d(t,{pL:function(){return y},nh:function(){return S},HP:function(){return C}});var r=n(56442),a=n.n(r),o=n(82766),l=n.n(o),i=n(8e3),s=n.n(i),c=n(50750),u=n.n(c),d=n(11227),f=n.n(d),m=n(92524),v=n.n(m),p=n(31674),_=n.n(p),h=n(53864),g=n(15504),E=n(98075),y=function(e){return e[e.ao=0]="ao",e[e.ld=1]="ld",e[e.sd=2]="sd",e[e.hd=3]="hd",e[e.uhd=4]="uhd",e[e.fhd=5]="fhd",e[e.origin=6]="origin",e}({}),S=["ao","ld","sd","hd","uhd","fhd","origin"],b=["ld","sd","hd","uhd","fhd","origin"],C=function(e){var t=e.streamData,n=void 0===t?{}:t,r=e.localQuality,o=e.openIntercepted,i=void 0!==o&&o,c=e.interceptedQuality,d=e.defealutQuality,m=e.initQualities,p=void 0===m?b:m,S=e.openTryWatching,C=void 0!==S&&S,w=e.isLogin,k=void 0!==w&&w,A=h.useMemo((function(){var e=a()(p).call(p);return l()(e).call(e,(function(e,t){return y[e]-y[t]})),e}),[p]),N=h.useMemo((function(){var e,t,r;return n?l()(e=s()(t=a()(r=u()(n)).call(r)).call(t,(function(e){return f()(A).call(A,e)}))).call(e,(function(e,t){return y[e]-y[t]})):[]}),[n,A]),I=h.useCallback((function(e){var t=v()(A).call(A,e);if(t<1)return"";var n=A[t-1];return f()(N).call(N,n)?n:I(n)}),[A,N]),x=h.useMemo((function(){if(!N.length)return"";var e="";return C?N[N.length-1]:(r&&(r&&f()(N).call(N,String(r))?e=String(r):r&&(e=I(r))),e&&i&&c&&y[c]<=y[e]&&(e=I(c)),e||(e=d&&f()(N).call(N,d)&&k?d:I(c)),""===e?(g.k.error("cannot get any quality"),g.k.event("stream_data",{streamData:_()(u()(n)),initQualities:_()(p)}),N[N.length-1]):((0,E.QX)(e),e))}),[n,r,i,c,d,N,C,k,I,p]);return[N,x]}},14993:function(e,t,n){n.d(t,{q:function(){return l}});var r=n(53864),a=n(74584),o=n(28712),l=function(){var e=(0,a.n)().player;return(0,r.useMemo)((function(){if(!(0,o.p)()&&null!=e&&e.root){var t=document.createElement("style");t.innerHTML=globalThis.xssNamespace.douyin_web._filterXSS(".xgplayer.xgplayer-inactive.force-show-controllers xg-controls.control_autohide { bottom: 0px; }\n.xgplayer.xgplayer-inactive.force-show-controllers xg-bar { opacity: 1; }\n.xgplayer.xgplayer-inactive.force-show-controllers xg-bar.xg-top-bar { top: 0px }",null,{logType:"js.innerHTML",mode:"black",reportOnly:!1}),e.root.parentElement.insertBefore(t,e.root)}}),[e]),{pauseAutoHide:(0,r.useCallback)((function(){null==e||e.addClass("force-show-controllers")}),[e]),recoverAutoHide:(0,r.useCallback)((function(){null==e||e.removeClass("force-show-controllers")}),[e])}}},39619:function(e,t,n){n.d(t,{TV:function(){return l},OG:function(){return i},ZM:function(){return s}});var r=n(92725),a=n(82062),o=null,l=function(e){var t,n,a,l;return o||(o=new r.Z({loadTimeout:null!==(t=null==e?void 0:e.loadTimeout)&&void 0!==t?t:4e3,maxReaderInterval:null!==(n=null==e?void 0:e.maxReaderInterval)&&void 0!==n?n:4e3,retryCount:null!==(a=null==e?void 0:e.retryCount)&&void 0!==a?a:0,retryDelay:null!==(l=null==e?void 0:e.retryDelay)&&void 0!==l?l:1e3}))},i=!1,s=function(e,t){var n;i||(0,a.sw)(e)&&(0,a.VU)()&&(null===(n=l())||void 0===n||n.load((0,a.GT)(e,t)),i=!0)}},93845:function(e,t,n){n.d(t,{u:function(){return I}});var r,a=n(56920),o=n(53864),l=n(59858),i=n(30906),s=n(32781),c=n(85792),u=n.n(c),d=n(56707),f=n(58075),m=n(15504),v=n(3571),p=n(61508),_=n(97702),h=n(82524),g=n(74584);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}var y=function(e){return o.createElement("svg",E({width:36,height:37,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.808 10.928a.833.833 0 00-1.354-.651l-5.605 3.984h-3.041a.833.833 0 00-.833.833v6.667c0 .46.373.833.833.833h3.04l5.606 3.984a.833.833 0 001.354-.65v-15zM22.7 23.035a1.384 1.384 0 010-1.958l2.284-2.284-2.284-2.285a1.385 1.385 0 111.958-1.958l2.284 2.285 2.285-2.285a1.385 1.385 0 111.958 1.958L28.9 18.793l2.285 2.284a1.385 1.385 0 01-1.958 1.958l-2.285-2.284-2.284 2.284c-.541.541-1.418.541-1.958 0z",fill:"#fff"})))},S=n(32153),b="M30jw7GS",C="xbg8k7ZV";var w=(0,S.Pi)((function(e){var t=e.syncVolume,n=(0,h.Z)().eventStore,r=n.playerEvent,a=n.slardarEvent,l=(0,g.n)().player,c=(0,o.useState)(!1),E=(0,s.Z)(c,2),S=E[0],w=E[1],k=(0,o.useState)(!1),A=(0,s.Z)(k,2),N=A[0],I=A[1],x=o.useRef(!0),T=(0,o.useCallback)((function(){var e,n;null!==(n=(e=window).__INVISIBLE_QUERY__)&&void 0!==n||(e.__INVISIBLE_QUERY__={}),window.__INVISIBLE_QUERY__.if_browser_limited=1,null==r||r.volumeBrowserLimitedMute(),x.current&&(u()((function(){l.muted=!0,l.play(),(0,d.w)(!1,t)})),x.current=!1),u()((function(){if(l.muted){var e;if(w(!0),null==r||r.volumeBrowserLimitedToastShow(),location.hostname===(0,f.iE)().DOMAIN)null==r||null===(e=r.liveCancelMutePromptShowEvent)||void 0===e||e.call(r);u()((function(){w(!1)}),1e4)}}),5e3)}),[]);(0,o.useEffect)((function(){return l.on(p.AUTOPLAY_PREVENTED,T),function(){l.off(p.AUTOPLAY_PREVENTED,T)}}),[]),(0,o.useEffect)((function(){var e=_.ZP.findDom(l.root,".xgplayer-controls");e&&(e.style.display=S?"none":"block"),N&&(l.muted=S,l.volume=S?0:(0,d.T1)(t))}),[S,N]);var L=(0,o.useCallback)((function(){var e;(w(!1),I(!0),location.hostname===(0,f.iE)().DOMAIN)&&(null==r||null===(e=r.liveCancelMutePromptClickEvent)||void 0===e||e.call(r));null==r||r.volumeBrowserLimitedClickOpen(),m.k.event("click_bottom_cancel_mute",(0,i.Z)({},null==a?void 0:a.getCommonInfo()))}),[]);return o.createElement(v.Z,{in:S,timeout:500,classNames:"transition-node"},o.createElement("button",{className:b,type:"button",onClick:L},o.createElement(y,{className:C}),o.createElement("span",null,"\u70b9\u51fb\u53d6\u6d88\u9759\u97f3")))})),k=n(5755),A="HaZdYRsF",N=function(e){var t=e.syncVolume,n=(0,h.Z)().eventStore.playerEvent,r=(0,g.n)().player,a=(0,o.useState)(!1),l=(0,s.Z)(a,2),i=l[0],c=l[1],f=(0,o.useState)(!1),m=(0,s.Z)(f,2),v=m[0],_=m[1],E=(0,o.useRef)(!1);(0,o.useEffect)((function(){return function(){E.current=!0}}),[]);var y=o.useRef(!0),S=(0,o.useCallback)((function(){var e,a;null!==(a=(e=window).__INVISIBLE_QUERY__)&&void 0!==a||(e.__INVISIBLE_QUERY__={}),window.__INVISIBLE_QUERY__.if_browser_limited=1,null==n||n.volumeBrowserLimitedMute(),y.current&&(u()((function(){r.muted=!0,r.play(),u()((function(){(0,d.w)(!1,t),r.once(p.VOLUME_CHANGE,(function(){E.current||_(!1)}))}))}),0),y.current=!1,_(!0),null==n||n.volumeBrowserLimitedToastShow())}),[r,t]);(0,o.useEffect)((function(){return r.on(p.AUTOPLAY_PREVENTED,S),function(){r.off(p.AUTOPLAY_PREVENTED,S)}}),[r,S]);var b=(0,o.useCallback)((function(){null==n||n.volumeBrowserLimitedClickOpen(),r&&(r.muted?r.muted=!1:r.volume=.5,r.emit("volumechange")),_(!1)}),[r]),C=(0,o.useCallback)((function(){null==n||n.volumeBrowserLimitedClickClose(),_(!1)}),[]);return v?o.createElement(k.I,{className:A,onClose:C,onModalVisibleChange:c,onOpen:b,preventModalVisible:i}):null},I=function(e){var t=e.disableStrengthen,n=void 0!==t&&t,r=(0,l.j)().syncVolume;return n||r!==a.T0.PreventTip&&r!==a.T0.PreventTipAndSyncVolume?o.createElement(w,{syncVolume:r}):o.createElement(N,{syncVolume:r})}},6404:function(e,t,n){n.d(t,{M:function(){return H}});var r=n(65146),a=n(30906),o=n(64408),l=n(32781),i=n(5594),s=n.n(i),c=n(31674),u=n.n(c),d=n(58144),f=n.n(d),m=n(52249),v=n.n(m),p=n(50750),_=n.n(p),h=n(90457),g=n.n(h),E=n(11227),y=n.n(E),S=n(53864),b=n(59676),C=n(79705),w=n.n(C),k=n(29434),A="O6bv6zn7",N="x5oLQRf4",I="k8tkwqoj",x="_eHqlAn6",T="yaIdJFTE",L="xLFAJwse",M=n(56920),O=n(90037),Z=n(64911),B=n(44344),F=n(16470),R=n(44909),U=n(79019),D=n(25499),P=n(30022),G=n(74584),V=n(67330),z=n(84514),j=(0,b.default)((function(){return Promise.all([n.e(2447),n.e(7251),n.e(5874),n.e(6557)]).then(n.bind(n,20734))}),{ssr:!1}),H=function(e){var t,n=e.toolbarData,i=e.headerUserInfo,c=e.roomId,d=e.authorId,m=e.isLiveShopVisible,p=void 0!==m&&m,h=e.isLiveShopPopVisible,E=void 0!==h&&h,b=e.hasGiftBar,C=e.getLiveShoppingLogParams,H=e.promotionListVisible,W=void 0!==H&&H,K=e.setPromotionListVisible,Y=void 0===K?function(){}:K,Q=e.adData,J=e.abTestData,q=e.messageInstance,X=e.layoutType,$=e.isFullScreen,ee=e.isTheaterOn,te=e.roomStatus,ne=e.isPopcardHitPrefetch,re=void 0!==ne&&ne,ae=e.isLiveModal,oe=S.useState(!1),le=(0,l.Z)(oe,2),ie=le[0],se=le[1],ce=S.useRef(""),ue=S.useState(),de=(0,l.Z)(ue,2),fe=de[0],me=de[1],ve=p,pe=p&&ie,_e=(0,D.e)((function(e){return e.childElementList||[]})),he=S.useCallback((function(e){se(e),e||Y(!1)}),[]),ge=(0,G.n)().player;S.useEffect((function(){requestAnimationFrame((function(){var e=new CustomEvent("webcast_yellowCartEvent",{detail:{roomId:c,visible:ie}});document.dispatchEvent(e)}))}),[ie]);var Ee=S.useCallback((function(){ce.current="live_cart_tag",Y(!0)}),[]),ye=S.useCallback((function(e){var t=(e||{}).promotion,n=void 0===t?null:t;ce.current="live_popup_card",me(n),Y(!0)}),[]),Se=S.useCallback((function(){Y(!1),me(null)}),[]),be=function(){var e=(0,o.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.Sn)({roomId:c,authorId:d,entranceInfo:u()({room_id:c,anchor_id:d,carrier_type:"live_popup_card",ecom_scene_id:"1001"})});case 2:if(null==(n=e.sent)||!n.promotions||3===(null==n||null===(t=n.campaign)||void 0===t?void 0:t.campaign_type)){e.next=5;break}return e.abrupt("return",n.promotions[0]);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();S.useEffect((function(){var e;if(pe){if(i.isLogin&&Boolean((0,z.cN)({clearWindowQuery:ae,onlyFromWindow:ae}))&&(ce.current="live_cart_tag",Y(!0),(0,z.fH)({clearWindowQuery:ae,onlyFromWindow:ae})&&(0,o.Z)(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be();case 2:(n=t.sent)&&!e&&(ce.current="live_popup_card",me(n));case 4:case"end":return t.stop()}}),t)})))()),ae){var t=["open_promotion_list","open_promotion_detail"],n=(0,V.parse)(location.search.split("?")[1]);if(f()(t).call(t,(function(e){return Boolean(null==n?void 0:n[e])}))){var l,c=v()(l=_()(n)).call(l,(function(e,o){return g()(t).call(t,(function(e){return("[object RegExp]"===Object.prototype.toString.call(e)&&e.test(o)||"[object String]"===Object.prototype.toString.call(e)&&e===o)&&n[o]!==undefined}))?(window.__INVISIBLE_QUERY__&&(window.__INVISIBLE_QUERY__[o]=n[o]),e):(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},o,n[o]))}),{});window.history.replaceState({},"",location.pathname+_()(c).length?"?".concat((0,V.stringify)(c)):"")}}return function(){e=!0}}Y(!1)}),[i,pe]);var Ce=S.useCallback((function(e){var t="pop"===e.scene?{open_promotion_detail:"1"}:{},n=null!=Q&&Q.adCid&&!ae?{live_ad_creative_id:String(null==Q?void 0:Q.adCid),live_ad_id:String(null==Q?void 0:Q.adId),ad_log_extra:null==Q?void 0:Q.adLogExtra}:{};window.location.href=globalThis.xssNamespace.douyin_web.filterUrl((0,B.G)((0,a.Z)((0,a.Z)({open_promotion_list:"1"},t),n),location.href),null,{logType:"js.window.location",mode:"black",reportOnly:!1})}),[Q,ae]),we=S.useCallback((function(){var e=C(),t=e.request_id,n=e.enter_method,r=e.enter_from_merge,o=e.enter_method_temai;return(0,a.Z)({request_id:t,enter_method:n,enter_from_merge:r,enter_method_temai:o,source_method:n,carrier_source:r,ecom_entrance_form:ce.current,ecom_entrance_from:ce.current,ecom_group_type:"live",room_id:c,anchor_id:d,cid:null==Q?void 0:Q.adCid,if_qianchuan_ad:null!=Q&&Q.adCid?1:0,ad_type:null!=Q&&Q.adCid?O.Z9.Live:undefined,is_hit:re?1:0},(0,z.tN)())}),[C,d,c,W,Q]);return S.createElement("div",{className:A},S.createElement("div",{className:w()(N,(0,r.Z)({},I,b))},ve&&S.createElement(k.default,{popClassName:y()(t=[M.$x.Bottom,M.$x.BottomV2]).call(t,null==J?void 0:J.cartPositionChange)?x:"",toolbarData:n,headerUserInfo:i,cartVisible:ae?pe:pe&&!J.cartPositionChange,onCartClick:Ee,onPopClick:ye,onCartVisibleChange:he,onLoginSuccess:Ce,isLiveShopPopVisibel:E,roomId:c,authorId:d,getLiveShoppingLogParams:C,scene:"live_detail",adData:Q,isHide:(null==_e?void 0:_e.length)>0,messageInstance:q,isPopcardHitPrefetch:re})),pe&&W&&S.createElement(U.d,{className:L,position:X===P.yP.VIDEO_T1_V_B8?"absolute":"relative"},S.createElement("div",{className:T},S.createElement(F.k,{componentName:R.l.PROMOTION_LIST_WRAPPER},S.createElement(j,{abTestData:J,onClose:Se,roomId:c,authorId:d,userId:null==i?void 0:i.info.uid,logParams:we,openDetailPromotion:fe,adData:Q,messageInstance:q,player:ae?null:ge,isFullScreen:$,isTheaterOn:ee,roomStatus:te,isPopcardHitPrefetch:re})))))}},63836:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(53864),a="TL7ZD7Ra",o=n(17610),l=function(){var e=(0,o.Z)().closeLiveModal,t=(0,r.useCallback)((function(){e("click_button")}),[e]);return r.createElement("div",{className:a,onClick:t})}},30127:function(e,t,n){n.d(t,{h:function(){return i},X:function(){return s}});var r=n(56442),a=n.n(r),o=n(37028),l=n(53864),i=function(){return function(){return(0,o.ZP)((function(e,t,n){return{rootElement:null,childElementList:[],setRootElement:function(t){return e((function(){return{rootElement:t}}))},setChildElementList:function(t){return e((function(){return{childElementList:a()(t).call(t)}}))}}}))}},s=(0,l.createContext)({})},79019:function(e,t,n){n.d(t,{d:function(){return u}});var r=n(32270),a=n.n(r),o=n(53864),l=n(60443),i=n(25499),s={rightPanelPortal:"gAQQZnIY"},c=1;function u(e){var t=o.useRef(document.createElement("div")),n=(0,i.e)((function(e){return e.rootElement})),r=(0,i.e)((function(e){return e.childElementList})),u=(0,i.e)((function(e){return e.setChildElementList})),d=(0,o.useRef)(r);d.current=r;var f=e.position,m=void 0===f?"relative":f,v=e.className;return(0,o.useEffect)((function(){var r,o=t.current,l="".concat(null!==(r=e.width)&&void 0!==r?r:"376","px");o.classList.add(s.rightPanelPortal),v&&o.classList.add(v),o.style.zIndex=String(c++),o.style.width=l;var i,f=function(e){return e.stopPropagation()};(o.addEventListener("wheel",f),n)&&("absolute"===m&&(n.style.position=m,n.style.right="0px"),n.appendChild(o),d.current.push({$el:o,width:null!==(i=e.width)&&void 0!==i?i:"376"}),u(d.current));return function(){if(o.removeEventListener("wheel",f),n){a()(d.current,(function(e){return(null==e?void 0:e.$el)===o}));try{n.removeChild(o),null==o||o.remove()}catch(e){}u(d.current)}}}),[]),l.createPortal(e.children,t.current)}},67813:function(e,t,n){n.d(t,{XF:function(){return c.X},dJ:function(){return s.d},XR:function(){return c.h},ZP:function(){return u}});var r=n(53864),a="nfu1Zo3o",o=n(79705),l=n.n(o),i=n(25499),s=n(79019),c=n(30127),u=function(e){var t,n=e.className,o=void 0===n?"":n,s=(0,r.useRef)(),c=(0,i.e)((function(e){return e.setRootElement})),u=(0,i.e)((function(e){return e.childElementList}));(0,r.useEffect)((function(){s.current&&c(s.current)}),[s.current]);var d=0===(null==u?void 0:u.length)?0:null===(t=u[u.length-1])||void 0===t?void 0:t.width;return r.createElement("div",{className:l()(a,o),ref:s,style:{width:"".concat(d,"px"),opacity:d>0?1:0}})}},92663:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(95508),a=n(19049),o=n(65146),l=n(67758),i=n(89474),s=(0,r.Z)((function e(t){var n=this;(0,a.Z)(this,e),(0,o.Z)(this,"store",null),(0,o.Z)(this,"hydrate",(function(e){for(var t in e)"store"!==t&&(n[t]=e[t])})),(0,o.Z)(this,"reset",(function(){n.store=null})),i.s||(this.store=t),(0,l.rC)(this,{hydrate:l.aD})}))},87788:function(e,t,n){n.d(t,{Bp:function(){return _},e1:function(){return h},ZP:function(){return b}});var r,a=n(19049),o=n(95508),l=n(73316),i=n(6670),s=n(78034),c=n(65146),u=n(56402),d=n.n(u),f=n(92663),m=n(67758),v=n(669),p=n(92826),_=function(e){return e[e.BAN=0]="BAN",e[e.OPEN=1]="OPEN",e}({}),h=function(e){return e.MultiCamera="MultiCamera",e.FansClub="FansClub",e.SendGift="SendGift",e.DANMU="DANMU",e.Chat="Chat",e.Link="Link",e.FullScreen="FullScreen",e.PIP="PIP",e}({}),g={MultiCamera:_.BAN,FansClub:_.BAN,Link:_.BAN,Chat:_.OPEN,DANMU:_.OPEN,SendGift:_.OPEN,FullScreen:_.BAN,PIP:_.BAN},E={MultiCamera:_.BAN,FansClub:_.BAN,Link:_.BAN,Chat:_.BAN,DANMU:_.BAN,SendGift:_.BAN,FullScreen:_.BAN,PIP:_.BAN},y={MultiCamera:_.OPEN,FansClub:_.OPEN,Link:_.OPEN,Chat:_.OPEN,DANMU:_.OPEN,SendGift:_.OPEN,FullScreen:_.OPEN,PIP:_.OPEN},S=(r={},(0,c.Z)(r,v.ku.TRY_WATCH_ING,g),(0,c.Z)(r,v.ku.TRT_WATCH_FINISH,E),(0,c.Z)(r,v.ku.NORMAL_WATCH,y),r),b=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,a.Z)(this,n),r=t.call(this,e),(0,c.Z)((0,l.Z)(r),"viewType",v.ku.BAN),(0,c.Z)((0,l.Z)(r),"retType",v.Pf.NORMAL_WATCH),(0,c.Z)((0,l.Z)(r),"paidLiveData",null),(0,c.Z)((0,l.Z)(r),"paidLiveAuth",y),(0,c.Z)((0,l.Z)(r),"setPaidLiveData",(function(e){if("function"!=typeof e){var t=Number(d()(e,"view_right",0))?v.Pf.NORMAL_WATCH:v.Pf.TRY_WATCH_ING;r.setRetType(t),r.paidLiveData=e}else{var n;r.paidLiveData=e(null!==(n=r.paidLiveData)&&void 0!==n?n:{})}})),(0,c.Z)((0,l.Z)(r),"setViewType",(function(e){r.viewType=e,r.paidLiveAuth=S[e]})),(0,c.Z)((0,l.Z)(r),"setPaidLiveAuth",(function(e){r.paidLiveAuth=e})),(0,c.Z)((0,l.Z)(r),"setRetType",(function(e){r.retType=e})),(0,m.rC)((0,l.Z)(r),{paidLiveData:m.LO,setPaidLiveData:m.aD,retType:m.LO,setRetType:m.aD,viewType:m.LO,setViewType:m.aD,paidLiveAuth:m.LO,setPaidLiveAuth:m.aD}),r}return(0,o.Z)(n,[{key:"infoWarn",value:function(e){(0,p.S)(e)}}]),n}(f.Z)},68100:function(e,t,n){n.d(t,{Y:function(){return l}});var r=n(32781),a=n(53864),o="jyrAKdW2",l=function(e){var t=e.text,n=e.className,l=(0,a.useRef)(),i=(0,a.useState)(!1),s=(0,r.Z)(i,2),c=s[0],u=s[1];return(0,a.useEffect)((function(){var e,t;(null==l||null===(e=l.current)||void 0===e?void 0:e.scrollWidth)>(null==l||null===(t=l.current)||void 0===t?void 0:t.clientWidth)?u(!0):u(!1)}),[t]),a.createElement("div",{className:n},a.createElement("div",{ref:l,className:o,title:c?t:undefined},t))}},76102:function(e,t){t.Z={room_info_bar:"PMZegZqe",liveModalMac:"B3S8mljw",right:"yh8kJTB7",rightContainer:"IjwXQjjN",longtouch:"pmQBfrU3",exhibition_entrace:"jCA9w8PR",flex_center:"i_hfpp4Q",left:"dKUwOLua",leftContainer:"LV2pOyWA",addBgColor:"FXU0yoat"}},85327:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAB+ElEQVRYhe2XzXEiMRCFv97aoycACIANwAEsAZgASAAHAPfdAOy9GwfAfeFuNgASIAAcwPj+fJAEWgqYngHf9FVNMT+t0ZsndUtAoVAoFArXYNe+QNI9MALugTugAmpgG4+lmW2/VGAU0Tez5dG930DP8Yo18MfMdjcXKKkC3uLlzMzWkqbAOAurgQ3BMQguDgiu5jyb2aKNwO+OmLvsvDoSVwMLYGFm9XFDST3C8E/irakk2oj0ONgD0tBuCc6k85ln2CQNgGcO0+HRzDYegd88QRlJ3C524ppTMUmmBMcBfnk7bCswsQKGkobeBlFkGtq+t23bIT7FzMzWns5iwv0lJNHGzB6b2jQ6aGbvwPuZx6neuYiJtIqXg0uxCU8WY2YjSf0Tj+pT2dvAvhRJ6jfNY5dAgC5F9gytPqhrklxD1SbYLVDSWNLLmaFuw37ueUaljYMTwtI1aQpsIJWXmxfqVEoeurooacRhNVldik20EZi/8KlFO2BfT5P7u3xndAm3wLh2ppVgIOkpFl6vuDkH917d/XoDs85eOGyjdsDrOTfiB4zjkT5mbmbzrxRYERb7fC3dAf/i7wdhi/YD+Mn/ZaWVuE4CM6Fpn+fZUW8Jm1VX5uZc9Z8kujkEHgj1LXerJri67CLsJgKPiYIruq3RhUKhUDjBJzn9siF+6y9KAAAAAElFTkSuQmCC"},56758:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABR+SURBVHgB5Vx7jB3Vef+dudev9YNdwMFGpF5XBaV2KLRRW4WYeKOqyR8JAqJaqdISUBW1lYgKojRV1Up7TUr5q3UgSvpQKxwVChVNnZbQpmkedqBEaR42NHZaB/CuC8YPbK+9fqy9e+fLOTNzznznm2/m3rXXxkmONTtn5pw55/t+5/c95nFtcAkUev3osN2NAMkwjFmFBMMgGs5bzXDU2WDCtk3YfmMgW0/pBaTpDszDmHnL0A68ycXgTSi05+ggFrfvtMCMWAlGLDCDmIuSgY2tdmE+j3R6m1k5NIaLXC4aoAFE0G1W6RFcjGIsuJRsvpjgXnBArTmPIEnusiZ665wx8VyKwWZ0uxsvNLAXDNAMyFZr9KKxsd9ygYGdc0CzANNubUKK23AplwsE7JwCSocmLSPp3jfVtGdbEtMxy5duxByVOQE0Y2XS3mJrN+JHs4wh7b5nLtia4DwLHZy8x/rK7T/CYLpiCdHaTvuP3YvzLOfFUDp4fJM17/MW4pIq5+kCzgnQPKdsbbnkIvhcFZe/nuzeblYPTWCWZdaA/hj4yz4L7bC3tLfP1q/OCtAczNbX4HzOT0aZdbDqOyhlZp4x8ycGTFcsgZItme59lv6jvPOZP/ZmrhVzY657f6UvQOnA5KV3C3kxi9WdDtmMpo/SE9AszwR1cD6FqHkv603nmsY/1+v7KSnu7SdPbQxKWRBySftsbyWdIsbko6eUT+Pq1DArb9PqWjHsWiPG0caS8vl9/8U+0O7+fFOQamaoi+izBtP9MWXdAxtOU66I3EBlm1bXNn4tKf0jC2AyZmAWAs2OxYMuSDV1qAU085v9RHRigpNyvrKh7DsXG9A8prYAJGnMx+gFsLmRDhzr1LZqJ4t8cw+aCjE7C6ZV58vE8alp4MX9wKI2cM0y4PIBzEk5bcd9wY47MD8f9woxrqqtqQrb2w3Umn5b7Z4kHTQV7nsI9abl+3Jn9sz/AV/4fn4+TfPtlp8Fbn076udTzkn/+YR9P/eVHzjZ883J94G3Ae9/W3mB9JlGDm6YXo3AWtNvuah/e51YpexN7PTABR8kBJImL6PK8+PAo98CuhZEShmolLPpj38VWL5EH69O4vEjwN88D+w95h5slGB6YH/9BuBXrhUDaMDyLlEEQ23szu+itvJTVR/axE4nMIzwTaj6M2IH/tht/74LOHMGOHs231z9jKvb/WuHgd99Anjy2y5FyTd+rd98m9ue/h/gvs8Buw/kY/gxs31R/7fvl76buyXNnwcMef+GVMO94hElgr4nO7k5MNly4Jy5kBBO9PuNz5as5CbvGErF3h07lj70QeAty1RRcPA4sOnLwM59jJVJXjcFM3n98Y8IbU09K40CT5NLFSyNfWij7zT1gcefJ1GPulPOmgAoA5AEqP//BvDbjwK/eRPwwXfEc/3zd4HHrImfOhv7ywhEASxJs6VSJ7/LuhTECE0U66351FbrTvt3K+IRG9gpA1Bk5sxPyrTjyGngH78H7JvMoy9PV9ICeTUfLdr/4hZUZWHzf+yfEKVioZ4y2US7i/5rrgLueqe1gqX1jDWmhqlyYbIygVPd1f7ZKfOhrRGohZs5Y2Fk7oiFP3zKAvIN4OUjMZgRO1Md0DQanIEpzqdF3wBmylxRzWKdmAK+OQbcbxfj4KRuUZD6FSeMx6Ii2yAWJXf5gxLQFu6EpkStT2ZMleb+tE2NpqaryoVj1CgOVBNvQE+2iwn9AvlrUyrBT8X4/ppJG6w+9TVUglVEkhqQSTH7xNwaqllfZ+7yaVLkdyR4DWC6/UtHoAKWSjZTDIJnWsrGV8FEDFK2q2E8KXK4k3sOsXmhgCruoHylkrtmhyP+mWnBUMXcjWm+s9DATAvhp2ZQa3aa4gG8tKinsRKx8MpCpTGoaFg4D+KJM8pYENcqYhDDgJfC7HNAE9yqCw6hMANAY6ZqZoivAeqBdoX7RbUoY6CBjbIP5MKiutdA5XPrco24v3nalH9SWC3ef5KuU8RMD6YHBdrKU0OEB5tMEYYQn+fXaWwMfdAMfKZjyJvKveETm7KZyxLdbSXrM0Dp1aM3ou4RHaFescqeCaoCRrriQTmwRSF9zuicMgbY3Bp42twplRFceU4S5aO8VHPSQReLEsxrDUMr0vlyE+QgELFbxULQBW3ofrIBaMneaF5lZTV2ptR7QX3d5aR8DMl4qW9slrFeobRGEitE7xdvARCgArJknVNq5ZIqkE3JfG2g0oCEuC6Nx45yU8TsTJnfXLMy9vcQfQV+kSfKHmkYhaVkGZqYG1Sho7oRCvE+VF3d29eULE3THqwhoTTVrD4QLSgHDaT7bRIL7UFbZNl5x02IWE0cRDaWVurOG7MqsVgN9r5ILheqIHIFBhcAd/8yupPHLYG6iuD82hSqn6vII+dXWJ3WLVQ+PnW7SN0TqD+zD16uXFoEUwgd3Cbu+2vwq8iZYLhtOw+jn0JUrbtdqijkBL1sIWb27ysFqqw+F5jEuIT29pdjRVwbu2ubeW1vCbIc29ejdvcnf1Cy4IoluawuaUyR7zlnQuQvir+Hz3a1t47utAXUMbR2Bdi1bqCUVLJGDE1LcJMFC3OT58pWFHU7sjLbv1mbsSLZY9MqFOFgIXifpD0vZx0b2xRVQ/oiZTv/trPCSrA0UXkIzeUI2VW13TF0sHIBagby+0hIthEiU3OAUncmb/O5qqKoKa4znE3+YTaYssx/mgzQtDjNzmsL53duDvdIL2WLQ0YBtQAzLGJS9peYxKAOV98pRa835ABiMC9EljYxJTygAwNIp6ZQARtaHQwIp3grZgMI5bNK295uI3YfFAeeaM5ybJO0y3MpeygOU2VqMHWK8Wko+ku6MAmABpcRhOd3EEFYK/z8BTA8VSFm/hx8FG0cVJ6W+Ae/7O7FMzRyHwmxOdiYbOGSdhsVt0OG6RE9GGXHMrFXzqEOUL9ikSmHBrHyiJ8igbVZQHKz7yqMTKuAMoaZVivuHxatYI1rR4uNU4xBLQZqEi2kIS67ifUKx0Xd663dRXGyieKcwxhqiwAqqrJJeV/OvAJoY32Q813ZZkHOt1Z5PjuO2/MpFHYU57L+2b9inxHalGOFf2A1xEQgThDEeku0qMlMQ5lo41xKlJ7INtSbsfCxke+TwYSbZDQXZznFzE9r2kI7czn+Hp4zMmvj/suo2EbtcZlwSzlW6dvodxUEJQhBqeK4knAjBjByLRxcPp4cm1+PZjDVANigGtWc99drdVcslm10aTxPUWoG4BeTmDQ6ZiCE+2nthRlVweZ72V6nkDaWvOtSweTzGKg+tJlR9SVNjzmTH+uvt092ESvojtUH7IriaFCQB7+KSxEAA/oiyflq26Scdf5SIVoT1mR2WEDNGGZTNPYan14wYcnEvlG6hlofx8dAfBxkIH2hZJtcgAhcxCyVIIZUKiSlUunqqXlmuwW0uzVLP8qZ1WpzYaDxc9RgzpKdkQ9EAzNR9uuHodq5CDueSSigeSzdXn64FAAvStodT7JP8tz/hCAF9uYti1EmrpgQoxj3kXXsDOBIn8sGlyATWwSuoNzCpz4C5MZSY9fU2G3C/Rcd7aLjVvs3/zm2/H5p1oWZfyXgAL19HNu7P+OHgRdezc+9+1r7FGsAFWb24z8rbwM49cws41BxjR8iO5Vuc7sCUNpmgbyt9tqm414T93rwqwUkKoD8+m67fwMhc9hhH9ndcA3wc9f0B2h0DqUcHBAv57nwJ35Jl30qngO6IN2Ms61NERChI5TJxAlT054K4CSo/lzwn8zk//4biFldpBLbLajfHY9ByxYOaGSu3xNB9ZXnW9JuxtDMzZqhoQmY8gsyfQJpKlqRt4oSTMRgRndINTlk2sBA3geE3u6EL4JyWxuOua68G0F9l2Sx85+Hl3ErpX9BBR9uFiYeGGxOYu1cggqYClC1ry08UGkDUITaj86oB8CRAhVlEIjDv7gztcFqs6+WgDqz99E+GpMDGY/CsYPmbN2LugBY8YYy8mMecCiAI14ICVyvIMeDET/nXh/7uGkK/ULiYtg5xuAovVJKYe4RoJnZdwuWSmvQQI0EkQKa/In7gnkFtoyl6jso/wUdV95/mlPzmWLdK2DNFfC+y5cJgRtKP67VspP/GkSkqpalceces5gSQAmwK29fGb8L56Bp9/DSD6bygfRs2lEdz22rlguGMrU4S/st1N3IDyNAs2/FeXBSE3vEAFYamWDv/pn8t0jB5CH8n2cXquzlTNXAamJmcBNioQbs6+0PvVPxhUapFgg3gSvYKUYq+mT/E5j7SaL3QSiURwlC+B4e+U9k/Lfy3WI/U5xzbYdOAF/8HvCqdc+Hbf30WYWNQKMfrGura8/kLtjrPmpw2y/+NPCBdwAr7DvJllW7lRSbKb/FT9ixQ6bliZOU1DPMp1J3dU9AM/kOHN9iBbutDHpi1XmE9rd2XSpB9CDPFJ9++3Me8BTldXxxJLv0JLhqJX7Pf6fUKkDgQGUAtsp6woBNDNvYsR8/MSKWmM1Ysey3jBBQ/60nde8LEd+vRpRSVLQTvsgriNjHeqG8ovwc7xOUAlMKTMlE+G45Pgc6EXOgGkCDnqjGgTqTt77TKICogJoVg3ssYx4uJ6HqbEZsEGyBPCeUhgAgaTrmP58pFqQl+nHQ+IJF8wtZNPml3ySg8qs7g41YOTgOpaiAuu828NebHsj+s1M/aACS2KrKiTShDWMXdLYaE5taOK+YImccb2sZfY7EVN1BkNmwRWdg8lfWJkYG7vnxX256wESftcQwQAfVto1PrMZ88x3r0wbLwIHY7/nv21MWiLxvnPE+k/nPLim+mGcAqEZxLq6/c6lbQL8QLQaqDzRhn8TnJdN9UPL7ks32Fp1+AStcIHJfupj+TJ7cEjlFHv3kmD14oLIEfDU5WzVmynpidAWiYzDmJYKFibhGaxdzGXbOy58osvF94BrDjOgB/NXD4/Ei9wFoGGx0lHDPfzxiWfVIPhlVgeVbABaxmSemzy1hm4lBbSW9F6J2wRh4weyZnPw2U0AQ2qbpE7jnPx/BmjUF3LrJ1wDqvKihMNgdO37fmufX4wllXWFlFCiM8JEKiFk6Y1haI8FNSpNtaaztA2hZ54tvdDQsdttw58O5pe7aRQ4bquldA2hh9p2OwYYN+YlXpn7NnsyDVMRGg2oqwgTUlJRgSQCjHNHESXhgq93afCESkawLAHmGwBe9yezdltKLeOmNDQGYzig5bAyhf4aaIiZlJr/L1pcfIjz2rxM4Pm0Htu/xK4sjGVmTJxoJrFGS7KKtrQGV1FwjgWSgc1dRCyAQdIrM3+p6+NQGPPbVCYysLwDdmHUgMyuGmjy6bswvxlO7CFdfR7hjyxjeOPVe2/xCNeAwOWRQ4ADKAFLLxn43vkiMsRFDa3xwRQfDsExfzHT9zDN7sPt1QseSau2uIoE04RMJBbnmQp1ODvrW9Xa/zT7+snD9zkeGcO1lT1mhbo6+C5UPjUOKBPE8E9XvSYHqcRCC3VhwiT0ACWuL/DcUk0+YSzKKP82gehbffuVD+Nvnj+DgghS3WDLt/IwFdC2ZTicl30spDT7UfQxcfDm100Y2Z/ZwtF8D/Pn/TuD+z74P0+mDsTkLswqsQez7Ir8nTL9V+EbOwnar2JJqn3aiszuYvsJKueep0szMp3H/5vdlYI4foRzMQxmY6HhfWF+SpsZsok4nUD1j6NBRW38JWDxE+MOvPoiz0x+3HY9FgSoRYEqzr4ApfF4AyugmroLYQpSwywVMmkze7ZMJTFtdfm/LxzPdlqwgrFtpX7BvK/HoAE05aDOg2oXL11DmT5bYlTu5OMXik4R7P/9p+8r3JivRuJrMq6mPiRVtcdayPpXIbqrA82v5WBI8mbb5wJlkxvsixl57V6bLlfNTHJjMlXe6VkgGnENiz0rHmv3oaF5fuzzn4ZBduVcsU93Eiyyon3p6D/7k79ZiuvtQlDbVpk7cJBVWtQVYMsGvgGzEgmhzQfjYbLEnMDX9EP7gyXfhsf8ay3RZelXOzswSCxIFLEbzoGQMzRrQ/CJyNM/vrl2kx0gaJnD/t4qb+EQ7zUzkpVaKu7/4IPYeWWsDzuP1dy3C/CspTqKAZxp8ZCKiveI3I2CLLcUX8PLhdfjTLz2I01aHoydzXfafyMHcfV0MWgFmrzje3EqUO2HXy+VfO/PbLhzaZXDdSoOjrxus+CWDyQMGY+PuBZjBwisTTE0afPQ9w1h9xR9hXuvD5TseIH7f48+JY34uEpPf+hqhhYlTN/kAxV+T0nM4cvIhfOIrz2LqSIr5yygzc1ecxTl3tnZ9mvlOR56nfPwYdaknNUV4LqmOp8/xgZDQZsUB60B1ye6+3RbYIYMT+w2WzCQ4vdjg7HGDywYMziw0uHv9KqxeWgDrB6bYD1HxBEnzTZWnTajRhLcVJl0+yzyGme4zOHn2cYx+6VkcnyK8dSlhaqEF8lVkzHQRfS1yd5axc5v7z4PSLBC5wOyhBAdFEQO9itPd5bFeOHc7ypnqUqnrClAP7cpdyJKV+X5okcGx6QTTJw3uG1mFFZevs+93PmxNdF3EwFpmelBQJas/MIpGnr1p+hzOps/gv3/wD3hy+wRWLra+34K5xAK4yLopF1QdKyMwbSDybi1jZ4f45E1gVsTTSsZS4u7D5IFq51MMVFucC3jOuoC1Nk/N2Loisb7I4LRl6wEgMHaBZfFHb34rrl52MxYteL/1Z+vskJeVE0oEqwKV5k6x6ZNlYgYiPYtv7X4Cn9t9NFvM09a/O0YePZ0PyiO5M3EH5HdsfenrlLFygyVMSBVR+k9qDkgBol6F4l+SFpN0qj7VlastU7+5P69ftdTgpAN1cZEdWHCnBvL6mRMG05bBl9v6x957PQYGfgoL519vE/jrc4DNqgLoyyKACXvtIpAFbm9Wn+nutSzci30Tz+GTX96b9XFMnJzKL1h4ygK5LK+7KH7IMvN6G8l98HGFp0feb3bcwShMx6TZDU4f5u7KDwF6dM03RbdYHAAAAABJRU5ErkJggg=="},29524:function(e,t,n){e.exports=n.p+"image/4.fe467df7.png"},79953:function(e,t,n){e.exports=n.p+"image/6.cc7a70d9.png"},86305:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAgMAAABjUWAiAAAACVBMVEUAAAD///////9zeKVjAAAAA3RSTlMACQVb3osYAAAAeklEQVQoz8XQsQ3AIAwEQAeJIukzAkW2YIQUPKJkFJagZ9QQKTJ2Fyq+u4LHNq2JxX8VJa90KwUlFCXM62g2OlZNNpr6YUcXP3JKVcpAakNsQzsySXkhC5qQEy2FTtVZw/g9GbAMehJP/Sqzzi4vj9Ir5Uo0csVCS/IAJH4kRvGRNEkAAAAASUVORK5CYII="},97422:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAgMAAABjUWAiAAAACVBMVEUAAAAYGBgPDw+1oIxmAAAAA3RSTlMACQQs2buOAAAAeklEQVQoz8XQsQ2AIBQE0C8JhfaOwB6MYOERSkdhCXpGVRORfyYmWnHdKy7386VPLL4rkTxpIa0kFBL+ayoWrsogWph8aTzUWo6UtQy0BoTSNGKTJgtPSiR5yLGC7s1BL+TQ1uOEVV0GRKk5td2aD/mXFxldO7eTdMkOuRck2R9qUsAAAAAASUVORK5CYII="},26813:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAANCAYAAABlyXS1AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACCSURBVHgBbZAxDoAgDEULq7u7zjjrKdjZPQUH8BTs7OxehQO4O+MnKQmpNHn5gf62FCJEKcWAk0Ro1g1YaWjJBDIbrOxQW88gggSWkcFwMlSzGhgcpJI1/eNmXbWomiAXH4Ns6Xmm61dps446SykV+4q9fyWJT1jBCzyqHhqsMMm7D450VuJ2gBncAAAAAElFTkSuQmCC"},51526:function(e,t,n){e.exports=n.p+"image/mystery_man_avatar.67c10e74.png"}}]);