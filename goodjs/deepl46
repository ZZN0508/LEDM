"use strict";(self.webpackChunk_deepl_gatsby=self.webpackChunk_deepl_gatsby||[]).push([[1934],{23092:function(e,t,r){r.d(t,{Ou:function(){return I},XN:function(){return u},jx:function(){return _},T6:function(){return P}});var n,o,a=r(84984),i=r(98808),c=r(30171),l=r(45058),s=r(66726),d=r.n(s);let u=((n={})[n.no=0]="no",n[n.exact=1]="exact",n[n.exactCountryReflectsLanguage=2]="exactCountryReflectsLanguage",n[n.language=3]="language",n),p={bg:"bul",cs:"ces",da:"dan",de:"deu",el:"ell",en:"eng",es:"spa",et:"est",fi:"fin",fr:"fra",hu:"hun",id:"ind",it:"ita",ja:"jpn",lv:"lav",lt:"lit",nl:"nld",pl:"pol",pt:"por",ro:"ron",ru:"rus",sk:"slk",sl:"slv",sv:"swe",tr:"tur",uk:"ukr",zh:"cmn",ko:"kor",nb:"nob","en-US":"eng-USA","en-GB":"eng-GBR","pt-PT":"por-PRT","pt-BR":"por-BRA"},v=(e,t)=>{let[r,n]=h(e.toLowerCase()),[o,a]=h(t.toLowerCase());return(null==o?void 0:o.length)===3&&3!==r.length&&p[e]?v(p[e],t):r===o&&n===a?u.exact:r!==n&&o!==a||r!==o||n&&a?r===o?u.language:u.no:u.exactCountryReflectsLanguage};function h(e){return e.includes("-")?e.split("-"):e.includes("_")?e.split("_"):[e,void 0]}let f={en:"en-US",zh:"zh-CN"},g=/^Chrome OS$/i,S={de:[{platformPattern:g,voiceURI:/^Android Speech Services by Google de-de-x-deg-local$/}],zh:[{platformPattern:g,voiceURI:/^Android Speech Services by Google cmn-cn-x-cce-local$/}],it:[{platformPattern:g,voiceURI:/^Android Speech Services by Google it-it-x-itb-local$/}],pl:[{platformPattern:g,voiceURI:/^Android Speech Services by Google pl-pl-x-oda-local$/}],tr:[{platformPattern:g,voiceURI:/^Android Speech Services by Google tr-tr-x-tmc-local$/}],hu:[{platformPattern:g,voiceURI:/^Android Speech Services by Google hu-HU-language$/}],cs:[{platformPattern:g,voiceURI:/^Android Speech Services by Google cs-cz-x-jfs-local$/}],ru:[{platformPattern:g,voiceURI:/^Android Speech Services by Google ru-ru-x-rud-local$/}],ro:[{platformPattern:g,voiceURI:/^Android Speech Services by Google ro-RO-language$/}],nb:[{platformPattern:g,voiceURI:/^Android Speech Services by Google nb-no-x-cmj-local$/}],el:[{platformPattern:g,voiceURI:/^Android Speech Services by Google el-GR-language$/}],fi:[{platformPattern:g,voiceURI:/^Android Speech Services by Google fi-FI-language$/}]},m={en:[{platformPattern:/^Mac.*$/i,voiceURI:/^Samantha$/}],"en-US":[{platformPattern:/^Mac.*$/i,voiceURI:/^Samantha$/}],"en-GB":[{platformPattern:/^MacIntel$/i,voiceURI:/^com.apple.eloquence.en-GB.Grandpa$/,match:e=>{var t,r;return null!==(t=null===(r=e.device)||void 0===r?void 0:r.isIPad)&&void 0!==t&&t}}],fr:[{platformPattern:/^Mac.*$/i,voiceURI:/^Thomas$/}]},y={de:{platformPattern:/^.*$/,voiceURI:/.*Eddy.*/}};function w(e,t){let r=e.criteria,n=t.criteria;if(r.preferredVoiceIndependentOfMatch===n.preferredVoiceIndependentOfMatch){if(r.matchCategory!==n.matchCategory)return r.matchCategory-n.matchCategory;if(r.preferredVoice===n.preferredVoice){if(r.preferredPackage===n.preferredPackage){if(r.preferredVoicePerPackage===n.preferredVoicePerPackage){var o,a;return r.matchCategoryAlternative===n.matchCategoryAlternative?e.voice.default===t.voice.default?0:e.voice.default?-1:1:(null!==(o=r.matchCategoryAlternative)&&void 0!==o?o:0)-(null!==(a=n.matchCategoryAlternative)&&void 0!==a?a:0)}return r.preferredVoicePerPackage?-1:1}return r.preferredPackage?-1:1}return r.preferredVoice?-1:1}return r.preferredVoiceIndependentOfMatch?-1:1}let R=(e,t)=>{var r;let n=null!==(r=t.userRate)&&void 0!==r?r:1,o=U(e,t);if(o.length<=0)return;let a=o[0].voice,i=a&&null!=a&&a.voiceURI.includes("apple")&&1.5===n?a.voiceURI.includes("eloquence")?1.005:a.voiceURI.includes("compact")?1.18:a.voiceURI.includes("synthesis")?1.1:n:n;return{rate:i,voice:a}};function U(e,t){let r=function(e){if(e.includes("-")){let t=e.split("-");return`${t[0].toLowerCase()}-${t[1].toUpperCase()}`}return e.toLowerCase()}(t.languageCode);return e.filter(e=>e.localService).map(e=>{var n,o;let a=S[r]&&S[r].filter(e=>{var r;return null===(r=t.platform)||void 0===r?void 0:r.match(e.platformPattern)}),i=(null!==(n=null==a?void 0:a.length)&&void 0!==n?n:0)>0&&a.every(t=>e.voiceURI.match(t.voiceURI)),c=m[r]&&m[r].filter(e=>{var r;return null===(r=t.platform)||void 0===r?void 0:r.match(e.platformPattern)}).some(r=>e.voiceURI.match(r.voiceURI)&&(!r.match||r.match(t))),l=!!(y[r]&&null!==(o=t.platform)&&void 0!==o&&o.match(y[r].platformPattern)&&e.voiceURI.match(y[r].voiceURI)),s=e.voiceURI.includes("compact")||!e.voiceURI.includes(".")&&!e.voiceURI.match(/\(.+\(.+\)\)/);return{voice:e,criteria:{matchCategory:v(r,e.lang),matchCategoryAlternative:f[r]?v(f[r],e.lang):void 0,preferredVoiceIndependentOfMatch:i,preferredVoice:c,preferredPackage:s,preferredVoicePerPackage:l}}}).filter(e=>e.criteria.matchCategory!==u.no).sort(w)}let I=function e(){this._currentUtterance=(0,c.S3)(null),this._state=(0,c.S3)("stopped"),this.ready=e._ready.asReadOnly(),this.state=this._state.asReadOnly(),this.onSpoken=(0,i.f)(),this.speakOrStopSpeaking=(t,n,o)=>{var a,i;let c=this._currentUtterance();if(this.stop(),c){this.enterStoppedState();return}if(t.length<=0)return;let l=null!=o&&o.voice?{voice:o.voice,rate:null!==(a=o.rate)&&void 0!==a?a:1}:k({languageCode:n,userRate:null!==(i=null==o?void 0:o.rate)&&void 0!==i?i:1}),s=new window.SpeechSynthesisUtterance(t);s.lang=n;let d=b(r.g.textToSpeechOverwriteVoice,null==l?void 0:l.voice);if(!d)return;s.voice=d;let u=b(r.g.textToSpeechOverwriteRate,null==l?void 0:l.rate);u&&(s.rate=u),s.addEventListener("boundary",()=>{e._hadBoundaryEvent=!0,"loading"===this._state()&&this.enterSpeakingState()}),s.addEventListener("start",()=>{e._useBoundaryEvent||this.enterSpeakingState()}),s.addEventListener("end",()=>{this.enterStoppedState(),e._hadBoundaryEvent||(e._useBoundaryEvent=!1)}),s.addEventListener("error",e=>{this.enterStoppedState(),"canceled"!==e.error&&"interrupted"!==e.error&&e.error&&console.error("[/translator/common/textToSpeech]","SpeechSynthesisError",e.error)}),this.enterLoadingState(s),window.addEventListener("beforeunload",e.stop),e.speak({utterance:s,cleanup:()=>{this.enterStoppedState()}}),this.onSpoken()},this.stop=()=>{e.stop()},this.enterStoppedState=()=>{this._currentUtterance(null),this._state("stopped"),window.removeEventListener("beforeunload",e.stop)},this.enterLoadingState=e=>{this._currentUtterance(e),this._state("loading")},this.enterSpeakingState=()=>{this._state("speaking")},e._ready(window.speechSynthesis.getVoices().length>0),window.speechSynthesis.onvoiceschanged=()=>{e._ready(window.speechSynthesis.getVoices().length>0)}};function P(e){return!!window.speechSynthesis&&!!window.SpeechSynthesisUtterance&&!!k({languageCode:e})}function k(e){var t,r;if(!window.speechSynthesis||!window.SpeechSynthesisUtterance)return;let n=window.speechSynthesis.getVoices();return R(n,{platform:null!==(t=null===(r=window.navigator.userAgentData)||void 0===r?void 0:r.platform)&&void 0!==t?t:window.navigator.platform,userAgent:window.navigator.userAgent,...e,device:{isIPad:(0,l.zc)(),...e.device}})}function _(e){var t,r;if(!window.speechSynthesis||!window.SpeechSynthesisUtterance)return[];let n=window.speechSynthesis.getVoices();return U(n,{platform:null!==(t=null===(r=window.navigator.userAgentData)||void 0===r?void 0:r.platform)&&void 0!==t?t:window.navigator.platform,userAgent:window.navigator.userAgent,...e,device:{isIPad:(0,l.zc)(),...e.device}})}function b(e,t){return e||(null!==e?t:void 0)}o=I,I.onSpeak=(0,i.f)(),I._ready=(0,c.S3)(!1),I._lastWinsQueue=[],I._hadBoundaryEvent=!1,I._useBoundaryEvent=!a.Dt,I.speak=e=>{o._lastWinsQueue.push(e),o.speakAfterDebounced()},I.stop=()=>{window.speechSynthesis.cancel()},I.speakAfterDebounced=d()(()=>{let[e,...t]=o._lastWinsQueue.reverse();for(let e of t)e.cleanup();o._lastWinsQueue=[],window.speechSynthesis.speak(e.utterance),o.onSpeak()},300)}}]);