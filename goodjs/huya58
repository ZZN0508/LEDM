(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[53],{444:function(e,a,t){"use strict";var n=t(4),r=t.n(n),o=(t(17),t(32),t(5),t(69),t(6),t(27)),m=t(445),i=t(449),c=t.n(i),l=t(450),g=t.n(l);function s(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,r,o=[],m=!0,i=!1;try{for(t=t.call(e);!(m=(n=t.next()).done)&&(o.push(n.value),!a||o.length!==a);m=!0);}catch(e){i=!0,r=e}finally{try{m||null==t.return||t.return()}finally{if(i)throw r}}return o}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return d(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function u(e){var a=e.visible,t=s(Object(n.useState)(!1),2),o=t[0],i=t[1],c=s(Object(n.useState)({status:"pending"}),2),l=c[0],g=l.data,d=l.error,f=l.status,p=c[1];return Object(n.useEffect)((function(){if(o){var e=setTimeout((function(){return i(!1)}),3e5);return function(){return clearTimeout(e)}}}),[o]),Object(n.useEffect)((function(){if(a&&!o){0,$.ajax({type:"post",url:"https://webwan.huya.com/wan/sq/history",dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0},data:Object(m.a)({})}).done((function(e){if(e){var a=e.code,t=e.data;200==a?(i(!0),p({data:t,status:"resolved"})):p({error:new Error("ERROR (".concat(a,")")),status:"rejected"})}else p({error:new Error("Data Empty"),status:"rejected"})})).fail((function(e,a){p({error:new Error("Network Error(".concat(a,")")),status:"rejected"})}))}}),[a,o]),r.a.createElement(r.a.Fragment,null,"pending"==f&&r.a.createElement(u.Loading,null),"pending"!=f&&!!d&&r.a.createElement(u.Error,{message:"获取数据失败：".concat(d.message)}),"pending"!=f&&!d&&(!g||!g.length)&&r.a.createElement(u.Empty,null),"pending"!=f&&!d&&g&&!!g.length&&r.a.createElement(u.Box,{data:g.slice(0,4)}))}u.Box=function(e){var a=e.data;return r.a.createElement("div",{className:g.a.game},r.a.createElement("h5",{className:g.a["game-tit"]},"最近玩过的游戏"),r.a.createElement("div",{className:g.a["game-bd"]},r.a.createElement("div",{className:g.a["game-list"]},a.map((function(e,a){var t=e.gid,n=e.name,m=e.servers,i="",c="";return 17==t||33==t?(i="https://game.wan.huya.com/game_frame/play_".concat(t,".php?sid=").concat(m[0]&&m[0].sid||""),c="https://image.wan.huya.com/images/game/".concat(t,"/246_246.png")):(i="".concat(o.i,"game/gamelgn/?game=").concat(t,"&recent=1&pro=hy_web&ref=").concat(encodeURIComponent("HYZBGW/YDHL/ZJYX"),"&ref_desc=").concat(encodeURIComponent("虎牙直播官网/右导航栏/最近游戏")),c="https://download-y.wan.huya.com/goa/pic/o/".concat(t,"_48.png")),r.a.createElement("a",{key:a,className:g.a["game-item"],href:i,target:"_blank"},r.a.createElement("img",{src:c}),r.a.createElement("span",{className:g.a.name},n),r.a.createElement("i",{className:g.a["server-icon"]}),m&&m[0]?r.a.createElement("span",{className:g.a["server-name"]},m[0].lineName):null)})))),r.a.createElement("div",{className:g.a["game-ft"]},r.a.createElement("a",{className:g.a["game-btn"],href:o.i,target:"_blank"},"查看更多")))},u.Empty=function(){return r.a.createElement("div",{className:g.a["game-empty"]},r.a.createElement("img",{src:c.a}),r.a.createElement("p",null,"暂无游戏记录~"),r.a.createElement("a",{className:g.a["game-btn"],href:o.i,target:"_blank"},"去玩游戏"))},u.Error=function(e){var a=e.message;return r.a.createElement("div",{className:g.a["game-error"]},r.a.createElement("p",null,a))},u.Loading=function(){return r.a.createElement("div",{className:g.a["game-loading"]})},a.a=u},450:function(e,a,t){var n=t(451);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(184)(n,r);n.locals&&(e.exports=n.locals)},451:function(e,a,t){var n=t(183),r=t(185),o=t(452);a=n(!1);var m=r(o);a.push([e.i,".game--2nJtGHkCwd7G6AVmRea2l_{padding:10px 15px 15px}.game--2nJtGHkCwd7G6AVmRea2l_ .game-tit--2IHlK4mlzy9GYC6q-eoVzF{font-size:14px;font-weight:bold}.game--2nJtGHkCwd7G6AVmRea2l_ .game-bd--3BQVQpKQSMzJ2xEDC58tVv{margin-top:10px}.game--2nJtGHkCwd7G6AVmRea2l_ .game-item--3KkP3JkIoZNN4XYo1bucMq+.game-item--3KkP3JkIoZNN4XYo1bucMq{margin-top:8px}.game--2nJtGHkCwd7G6AVmRea2l_ .game-item--3KkP3JkIoZNN4XYo1bucMq{display:flex;align-items:center}.game--2nJtGHkCwd7G6AVmRea2l_ .game-item--3KkP3JkIoZNN4XYo1bucMq:hover{text-decoration:none}.game--2nJtGHkCwd7G6AVmRea2l_ .game-item--3KkP3JkIoZNN4XYo1bucMq:hover .name--2j3gUuc20ZFJ0arsTbTFn2{color:#ff9600}.game--2nJtGHkCwd7G6AVmRea2l_ .game-item--3KkP3JkIoZNN4XYo1bucMq:hover .server-name--1EyklceN_GnDriKjk2wGIx{color:#666}.game--2nJtGHkCwd7G6AVmRea2l_ .game-item--3KkP3JkIoZNN4XYo1bucMq img{width:32px;height:32px;margin-right:0.8em}.game--2nJtGHkCwd7G6AVmRea2l_ .game-item--3KkP3JkIoZNN4XYo1bucMq .name--2j3gUuc20ZFJ0arsTbTFn2{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.game--2nJtGHkCwd7G6AVmRea2l_ .game-item--3KkP3JkIoZNN4XYo1bucMq .server-icon--NorP0zAYgM7yqlSf-1o9E{margin-left:0.8em;width:16px;height:14px;background:url("+m+") no-repeat;background-size:cover}.game--2nJtGHkCwd7G6AVmRea2l_ .game-item--3KkP3JkIoZNN4XYo1bucMq .server-name--1EyklceN_GnDriKjk2wGIx{margin-left:0.3em;color:#999}.game--2nJtGHkCwd7G6AVmRea2l_ .game-ft--2SOhe5hWnFN0faDdkEBoL9{margin-top:12px}.game--2nJtGHkCwd7G6AVmRea2l_ .game-ft--2SOhe5hWnFN0faDdkEBoL9 .game-btn--3LLogfXOEIRiFGywUegzI_{width:100%}.game-empty--9tU9diUf5wm_qwNq1jBw_{display:flex;align-items:center;justify-content:center;flex-direction:column;box-sizing:border-box;width:100%;height:240px;padding:15px}.game-empty--9tU9diUf5wm_qwNq1jBw_ img{width:100px}.game-empty--9tU9diUf5wm_qwNq1jBw_ p{font-size:14px}.game-empty--9tU9diUf5wm_qwNq1jBw_ .game-btn--3LLogfXOEIRiFGywUegzI_{margin-top:1.5em;width:100%}.game-loading--uxIh97jiNvMZ-a-lKS0SH{width:100%;height:240px;background:url(https://a.msstatic.com/huya/main/assets/img/loading.gif) 50% no-repeat}.game-error--2lcMH25gGlFZTAbIXD8Deo{display:flex;align-items:center;justify-content:center;flex-direction:column;box-sizing:border-box;width:100%;height:240px}.game-btn--3LLogfXOEIRiFGywUegzI_{display:inline-block;box-sizing:border-box;padding:0 2em;line-height:28px;text-align:center;color:#666;background:#f1f2f4;border-radius:14px}.game-btn--3LLogfXOEIRiFGywUegzI_:hover{text-decoration:none;color:#fff !important;background:#ff9600}\n",""]),a.locals={game:"game--2nJtGHkCwd7G6AVmRea2l_","game-tit":"game-tit--2IHlK4mlzy9GYC6q-eoVzF","game-bd":"game-bd--3BQVQpKQSMzJ2xEDC58tVv","game-item":"game-item--3KkP3JkIoZNN4XYo1bucMq",name:"name--2j3gUuc20ZFJ0arsTbTFn2","server-name":"server-name--1EyklceN_GnDriKjk2wGIx","server-icon":"server-icon--NorP0zAYgM7yqlSf-1o9E","game-ft":"game-ft--2SOhe5hWnFN0faDdkEBoL9","game-btn":"game-btn--3LLogfXOEIRiFGywUegzI_","game-empty":"game-empty--9tU9diUf5wm_qwNq1jBw_","game-loading":"game-loading--uxIh97jiNvMZ-a-lKS0SH","game-error":"game-error--2lcMH25gGlFZTAbIXD8Deo"},e.exports=a}}]);