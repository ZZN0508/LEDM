(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1239:function(e,t,n){n(18),n(16),n(13),n(6),n(15);var r=n(125),o=n(163);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),c=t.children,d=void 0===c?[]:c,h=data.class,f=data.staticClass,style=data.style,v=data.staticStyle,m=data.attrs,w=void 0===m?{}:m,O=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,v],attrs:Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w)},O),d.concat([n("circle",{attrs:{cx:"12",cy:"12",r:"11",fill:"black","fill-opacity":"0.4"}}),n("circle",{attrs:{cx:"12",cy:"12",r:"11.5",stroke:"white","stroke-opacity":"0.4"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.96924 8.24087C8.76787 8.0395 8.4414 8.0395 8.24003 8.24087C8.03867 8.44223 8.03867 8.76871 8.24003 8.97007L11.2919 12.022L8.02407 15.2898C7.82271 15.4912 7.82271 15.8177 8.02407 16.019C8.22543 16.2204 8.55191 16.2204 8.75327 16.019L12.0211 12.7512L15.289 16.019C15.4904 16.2204 15.8168 16.2204 16.0182 16.019C16.2196 15.8177 16.2196 15.4912 16.0182 15.2898L12.7503 12.022L15.8022 8.97007C16.0036 8.76871 16.0036 8.44223 15.8022 8.24087C15.6009 8.0395 15.2744 8.0395 15.073 8.24087L12.0211 11.2928L8.96924 8.24087Z",fill:"white","fill-opacity":"0.9"}})]))}}},1240:function(e,t,n){"use strict";n(983)},1241:function(e,t,n){"use strict";n(984)},1402:function(e,t,n){"use strict";n.r(t);n(18),n(16),n(13),n(6),n(15),n(63),n(111),n(95),n(37),n(39),n(45);var r=n(0),o=(n(19),n(5)),l=n(3),c=n(56),d=n(91),h=n(61),f=n(7),v=n(107),m=n(17),w=n(10),O=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1e3,e.abrupt("return",setTimeout((function(){return Promise.resolve()}),t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function _(){return(_=Object(o.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||Object(w.g)()){e.next=17;break}if(localStorage.getItem(m.a.userFirstVisitDispatchCoupon)!==t){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,v.a.UserCouponReceiveDiscountFirstOrder({},{showError:!1});case 7:if((null==(n=e.sent)?void 0:n.err_no)!==f.ERROR_NO.OK){e.next=12;break}return localStorage.setItem(m.a.userFirstVisitDispatchCoupon,t),e.next=12,O();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error("userFirstVisitDispatchCoupon api request error:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}var y=n(8),T=n(41),C=n.n(T),j=n(1239),k=n.n(j),P=n(4),R=Object(y.d)({components:{CloseIcon:k.a},emits:["show"],setup:function(e,t){var n=t.root,r=t.emit,c=[{name:"timelineIndex",alias:"home",traceShowKey:"ad_web_pop_show",traceClickKey:"ad_web_pop_click"},{name:"column",alias:"post",traceShowKey:"ad_web_article_pop_show",traceClickKey:"ad_web_article_pop_click"}],d=Object(l.p)(),h=Object(y.p)(),f=function(){var e=localStorage.getItem(m.a.showAdTccModal)||"[]",t=[];try{var n=JSON.parse(e);Array.isArray(n)&&(t=n)}catch(e){console.error(e),t=[]}return t},v=function(){return c.filter((function(e){return e.name===(d.value.name||"")}))},w=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var t,o,l,c,d,m,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.$device.isDesktop){e.next=2;break}return e.abrupt("return");case 2:if(!(l=v()).length){e.next=13;break}return e.next=6,n.$store.dispatch(P.TCC_CONFIG,"juejin_config_web_ad_home_post");case 6:c=e.sent,d=(null===(t=c)||void 0===t?void 0:t[l[0].alias])||[],m=Date.now()/1e3,(w=d.filter((function(e){return m>C()(e.startTime).unix()&&m<C()(e.endTime).unix()}))).length&&!f().includes("".concat((null===(o=w[0])||void 0===o?void 0:o.id)||""))&&(r("show"),h.value=w[0],O(l[0].traceShowKey)),e.next=14;break;case 13:h.value&&(h.value=void 0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(y.u)((function(){return d.value.name}),(function(){w()})),Object(y.l)((function(){w()}));var O=function(e){var t,r;e&&n.$TEA(e,{id:(null===(t=h.value)||void 0===t?void 0:t.id)||"",ad_url:(null===(r=h.value)||void 0===r?void 0:r.url)||""})},_=function(e){var t,r,o;n.$TEA(null===(t=v()[0])||void 0===t?void 0:t.traceClickKey,{id:(null===(r=h.value)||void 0===r?void 0:r.id)||"",ad_url:(null===(o=h.value)||void 0===o?void 0:o.url)||"",click_type:e})};return{activeAd:h,closeAd:function(){var e;localStorage.setItem(m.a.showAdTccModal,JSON.stringify(f().concat(["".concat((null===(e=h.value)||void 0===e?void 0:e.id)||"")]))),_("skip"),h.value=void 0},handleClick:function(){_("enter"),window.open(h.value.url,"_blank")}}}}),S=(n(1240),n(25)),x=Object(S.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.activeAd?n("div",{staticClass:"poster-wrap",on:{click:function(t){return t.stopPropagation(),e.handleClick(t)}}},[n("div",{staticClass:"poster-close-wrap",on:{click:function(t){return t.stopPropagation(),e.closeAd(t)}}},[n("CloseIcon",{staticClass:"poster-close-icon"})],1),e._v(" "),n("div",{staticClass:"poster-img-wrap"},[n("img",{staticClass:"poster-img",attrs:{src:e.activeAd.imgUrl}})]),e._v(" "),n("div",{staticClass:"poster-title"},[e._v(e._s(e.activeAd.title))])]):e._e()}),[],!1,null,"144bae02",null).exports,E=n(887),F=n(874),L=n(20);var M=n(347),U=n(82),I=n(55),D=n(179),A=n(32),N=n(47),V=n(901),B=n(241);function $(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function G(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var H=0,J=["/bind","/login","/mobile/lottery","/mobile/lottery/welfare","/getting-started","/app","/delete/account","/mobile/bugfix","/bugfix/rank",/^\/meeting/,"/challenge/1","/challenge/1/detail"],K=Object(l.b)({components:{AlertList:function(){return n.e(32).then(n.bind(null,1403))},ErrorView:function(){return Promise.resolve().then(n.bind(null,432))},BindPhoneModal:function(){return n.e(25).then(n.bind(null,1411))},NewUserLead:function(){return n.e(19).then(n.bind(null,1401))},PinModal:function(){return n.e(10).then(n.bind(null,1399))},AuthModal:function(){return n.e(17).then(n.bind(null,1410))},ActivityRecommend:function(){return n.e(47).then(n.bind(null,1413))},AccountDeleteModal:function(){return n.e(28).then(n.bind(null,1414))},GlobalFloatBanner:function(){return Promise.all([n.e(51),n.e(29)]).then(n.bind(null,1415))},GlobalFullscreenPopUp:function(){return n.e(30).then(n.bind(null,1416))},SuspensionPanel:function(){return n.e(21).then(n.bind(null,1404))},VipBorrowModal:function(){return n.e(35).then(n.bind(null,1412))},UserGrowthLead:function(){return n.e(16).then(n.bind(null,1400))},UserGrowthPopup:function(){return n.e(20).then(n.bind(null,1417))},UpgradeBox:function(){return n.e(31).then(n.bind(null,1418))},Report:function(){return Promise.all([n.e(53),n.e(18)]).then(n.bind(null,1408))},BottomLoginGuide:function(){return n.e(37).then(n.bind(null,1419))},HomePostTccAd:x,FixedResourceTccConfig:function(){return n.e(39).then(n.bind(null,1420))},DarkModeNotification:function(){return n.e(34).then(n.bind(null,1421))},RiskModal:function(){return n.e(45).then(n.bind(null,1422))}},setup:function(e,t){var n=t.root,r=Object(l.r)(),d=Object(l.q)(),f=Object(F.a)().doFollow;r.dispatch(P.LOAD_THEME);var v=Object(E.b)(n),w=v.showReportModal,O=v.reportModalData,_=Object(U.d)(m.a.juejinDarkNotification)[m.a.juejinDarkNotification],y=Object(U.b)(m.a.juejinDarkNotification).handleJuejinDarkNotificationDismiss,T=Object(l.a)((function(){return Object(L.f)(d.currentRoute.fullPath)}));Object(l.h)((function(){var e,t,o=n.$getBean("eventBus");o.onVmLife(n,o.eventType.REPORT_CONTENT,w),!T.value&&(null===(t=null===(e=r.state.auth)||void 0===e?void 0:e.user)||void 0===t?void 0:t.user_id)&&(r.dispatch(P.FETCH_ORE_COUNT),r.dispatch(P.FETCH_AVATAR_MENU_INFO),h.a.CompleteTask().catch((function(){}))),Object(V.a)(!0)}));var style=Object(l.a)((function(){var e;return null===(e=n.$store.getters[P.TCC_STYLE])||void 0===e?void 0:e.trim()})),script=Object(l.a)((function(){var e;return null===(e=n.$store.getters[P.TCC_SCRIPT])||void 0===e?void 0:e.trim()})),C=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:script.value&&((t=document.createElement("script")).innerHTML=script.value,document.documentElement.appendChild(t)),style.value&&((n=document.createElement("style")).innerHTML=style.value,document.head.appendChild(n));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.h)(Object(o.a)(regeneratorRuntime.mark((function e(){var t,o,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.$store.dispatch(P.TCC_CONFIG),!(null===(t=r.state.auth)||void 0===t?void 0:t.user)){e.next=13;break}if(o=localStorage.getItem(m.a.autoFollowUser),localStorage.removeItem(m.a.autoFollowUser),!o){e.next=11;break}if(!(l=Object(I.f)(o,(function(e){return"number"==typeof(null==e?void 0:e.expire)&&e.expire>Date.now()})))){e.next=11;break}return e.next=9,f(l.itemId,l.itemType,{teaFollowType:l.teaFollowType});case 9:(d=e.sent)&&d.isSuccess&&c.Message.success("关注成功");case 11:e.next=15;break;case 13:Object(I.f)(localStorage.getItem(m.a.autoFollowUser),(function(e){return"number"==typeof(null==e?void 0:e.expire)&&e.expire>Date.now()}))||localStorage.removeItem(m.a.autoFollowUser);case 15:case"end":return e.stop()}}),e)})))),Object(l.s)([style,script],(function(){C()})),function(e){var t=Object(l.r)(),n=Object(l.q)(),r=Object(l.a)((function(){var e;return null===(e=t.state.auth)||void 0===e?void 0:e.userInitiated})),o=Object(l.a)((function(){var e;return null===(e=t.state.auth)||void 0===e?void 0:e.user})),c=Object(l.a)((function(){return Object(L.f)(n.currentRoute.fullPath)}));Object(l.s)(r,(function(t){c.value&&t&&e(!!o.value)}),{immediate:!0})}((function(e){e&&(r.dispatch(P.FETCH_ORE_COUNT),r.dispatch(P.FETCH_AVATAR_MENU_INFO),h.a.CompleteTask())})),G(G({},Object(U.c)()),{},{reportModalData:O,darkModeVisible:_,onDarkNotificationClose:y},Object(M.a)())},data:function(){return{visibleAuthForm:null,isSuspensionPanelVisible:!1,isAlertListVisible:!1,newuserTicket:!1,isVisiblePinEditor:!1,isBindPhoneNumberModalVisible:!1,captchaType:"SLIDE",verifyCallback:"",bindPhoneMsg:"",to:"",isLogoutModalVisible:!1,UserLeadPopupShowed:!1,isFromMainPageSigninClick:!1,enter_method:"",bindPhoneOption:{},popupMutex:!1,isShowVipBorrow:!1,vipTeaParams:{},bookInfo:{},hideRecommendComponent:!1,closeRedirectParams:null,loginGuideFooterVisible:!1,hasTccAd:!1,loginGuideFrom:void 0}},computed:G(G({},Object(d.mapGetters)({user:P.USER,activity:P.ACTIVITY,logined:P.LOGINED,unreadNotificationCount:P.UNREAD_NOTIFICATION_COUNT,errorView:P.ERROR_VIEW,statusCode:P.STATUS_CODE,needSuspension:P.NEED_SUSPENSION,needRiskModal:P.NEED_RISK_MODAL,userInitiated:P.USER_INITIATED})),{},{displayedUnreadNotificationAmount:function(){return Object(B.c)(this.unreadNotificationCount.total)},titleTemplate:function(){return this.displayedUnreadNotificationAmount?"(".concat(this.displayedUnreadNotificationAmount,") %s - 掘金"):"%s - 掘金"},date:function(){return Object(A.a)(new Date,"MMDD")},recommendComponent:function(){var e;return this.hideRecommendComponent||["login","lognIndex","bindIndex","offer","presalePay","presaleIndex","presaleResult","vipIndex","vipPayResult","membership","membershipHome","integral","property","mall"].includes(this.$route.name)||this.$route.path.startsWith("/creator")?null:1===(null===(e=this.activity[2020])||void 0===e?void 0:e.is_show)?"ActivityRecommend":null},isPathExcluded:function(){var path=this.$router.currentRoute.path;return J.some((function(e){return e instanceof RegExp?e.test(path):e===path}))}}),watch:{visibleAuthForm:function(e){this.visibleMobileExtension(!e)},user:function(e){var t=this.$route.name||"";("courseIndex"!==t||this.$route.path.includes("bytetech"))&&(["bookInfo","column"].includes(t)||function(e){_.apply(this,arguments)}((null==e?void 0:e.user_id)||""))},$route:function(){this.checkLogin(),this.modalStyleTimer&&clearTimeout(this.modalStyleTimer),this.modalStyleTimer=setTimeout((function(){document.body.style.overflow="",document.body.style.paddingRight=""}),300)},userInitiated:{handler:function(e){if(e&&(this.checkLogin(),this.$device.isDesktop)){var t=localStorage.getItem("juejin_2608_theme")||"{}",n=JSON.parse(t),r=n.theme,o=void 0===r?"light":r,l=n.isFollowSystem,c=void 0!==l&&l;this.$TEA("current_theme",{theme:o,isFollowSystem:c})}},immediate:!0}},mounted:function(){H=new Date,this.initEventListener(),this.mountAlertList(),this.mountSuspensionPanel(),this.$store.dispatch(P.ACTIVITY),this.modalStyleTimer=null,"1"!==window.sessionStorage.getItem("IS_DELETE")||this.popupMutex||this.isPathExcluded||(this.isLogoutModalVisible=!0,this.popupMutex=!0,window.sessionStorage.removeItem("IS_DELETE"))},beforeDestroy:function(){Object(N.j)(this.handleVisibilityChange),this.modalStyleTimer&&clearTimeout(this.modalStyleTimer)},methods:G(G({},Object(d.mapActions)({fetchCurrentUser:P.FETCH_CURRENT_USER})),{},{visibleMobileExtension:function(e){var t=document.getElementById("mobile-newuser-ticket");null!==t&&(t.style.opacity=Number(e))},checkLogin:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,l,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$store.getters.USER){t.next=6;break}return t.next=3,e.$store.dispatch(P.TCC_CONFIG,"juejin_login_config");case 3:l=t.sent,(null==(c=null===(o=null===(r=null===(n=l)||void 0===n?void 0:n.mustLogin)||void 0===r?void 0:r.bookIds)||void 0===o?void 0:o.map((function(e){return{reg:new RegExp("^/((book)|(video))/(m/)?".concat(e,"/section/\\d+$")),id:e}})))?void 0:c.length)&&window.location.pathname&&c.forEach((function(t){var n=t.reg,r=t.id;n.test(window.location.pathname)&&e.$requestLogin({closeRedirectParams:{name:"bookInfo",params:{id:r}}})}));case 6:case"end":return t.stop()}}),t)})))()},initEventListener:function(){var e=this,t=this.$getBean("eventBus"),n=t.eventType;t.onVmLife(this,n.VISIBLE_LOGOUT_MODAL,(function(){e.isLogoutModalVisible=!0})),t.onVmLife(this,n.REQUEST_LOGIN,(function(t){var n=t||{},r=n.click,o=void 0!==r&&r,l=n.enterMethod,c=n.closeRedirectParams,d=n.successRedirectUrl,h=n.loginGuideFrom;e.isFromMainPageSigninClick=o,e.enter_method=l,e.visibleAuthForm="login-with-phone",e.newuserTicket=null,e.closeRedirectParams=c||null,e.loginGuideFrom=h,e.to=d||""})),t.onVmLife(this,n.SHOW_VIP_BORROW_MODAL,(function(t,n){e.isShowVipBorrow=!0,e.bookInfo=t,e.vipTeaParams=n})),t.onVmLife(this,n.REQUEST_LOGIN_REDIRECT,(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;e.isFromMainPageSigninClick=t,e.enter_method=n,e.visibleAuthForm="login-with-phone",e.newuserTicket=null,e.to=r})),t.onVmLife(this,n.REQUEST_REGISTER,(function(t){e.visibleAuthForm="register",e.newuserTicket=t})),t.onVmLife(this,n.REQUEST_RESET_PASSWORD,(function(){e.visibleAuthForm="reset-password"})),t.onVmLife(this,n.AUTHORIZED,(function(){e.visibleAuthForm=null})),t.onVmLife(this,n.REQUEST_LOGOUT,(function(){e.$store.dispatch(P.LOGOUT)})),t.onVmLife(this,n.ALERT,(function(content,t){e.$refs.alertList.$emit("push",{content:content,type:t})})),t.onVmLife(this,n.CREATE_PIN,(function(t){e.isVisiblePinEditor="pin",e.editorProps=t})),t.onVmLife(this,n.BIND_PHONE_NUMBER,(function(t,option){e.bindPhoneMsg=t||"",e.isBindPhoneNumberModalVisible=!0,e.bindPhoneOption=option;var n=e.$getBean("eventBus");n.emit(n.eventType.LOCK_ROOT_CONTAINER_SCROLL)})),Object(D.d)(),Object(N.i)(this.handleVisibilityChange)},mountAlertList:function(){this.isAlertListVisible=!0},mountSuspensionPanel:function(){this.isSuspensionPanelVisible=!this.isPathExcluded},onBindPhoneNumberModalClose:function(){var e=this.$getBean("eventBus");this.fetchCurrentUser(),this.isBindPhoneNumberModalVisible=!1,e.emit(e.eventType.UNLOCK_ROOT_CONTAINER_SCROLL)},collectPageStayTime:function(){var e=0;H&&(e=new Date-H),this.$TEA("main_site_stay",{user_id:this.user?this.user.id:"unknown",page_link:window.location.href,stay_time:e}),H=0},handleVisibilityChange:function(){var e=Object(N.c)();document[e]?this.collectPageStayTime():H=new Date},closeRecommendComponent:function(){this.hideRecommendComponent=!0},closeAuthModal:function(e){this.visibleAuthForm=null,!0!==e&&this.closeRedirectParams&&this.$router.push(this.closeRedirectParams)}})}),W=(n(1241),Object(S.a)(K,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"juejin"}},[e.errorView?[n("client-only",[n("ErrorView",{attrs:{"status-code":e.statusCode}})],1)]:n("router-view"),e._v(" "),e.recommendComponent?n(e.recommendComponent,{tag:"component",attrs:{logined:e.logined},on:{close:e.closeRecommendComponent}}):e._e(),e._v(" "),n("div",{staticClass:"global-component-box"},[n("ClientOnly",[e.isAlertListVisible?n("AlertList",{ref:"alertList",staticClass:"alert-list"}):e._e(),e._v(" "),e.isSuspensionPanelVisible&&e.needSuspension?n("SuspensionPanel",{staticClass:"suspension-panel",attrs:{"has-extension-banner":Boolean(e.recommendComponent)}}):e._e(),e._v(" "),e.isBindPhoneNumberModalVisible?n("BindPhoneModal",{attrs:{visible:e.isBindPhoneNumberModalVisible,msg:e.bindPhoneMsg,to:e.bindPhoneOption.toUrl||"",closable:e.bindPhoneOption.closable,title:e.bindPhoneOption.title,"trigger-type":e.bindPhoneOption.triggerType},on:{close:e.onBindPhoneNumberModalClose}}):e._e(),e._v(" "),e.isVisiblePinEditor?n("PinModal",{attrs:{"editor-props":e.editorProps},on:{close:function(t){e.isVisiblePinEditor=!1}}}):e._e(),e._v(" "),e.visibleAuthForm?n("AuthModal",{attrs:{type:e.visibleAuthForm,"newuser-ticket":e.newuserTicket,to:e.to,"is-from-main-page-signin-click":e.isFromMainPageSigninClick,enter_method:e.enter_method,"login-guide-from":e.loginGuideFrom},on:{close:e.closeAuthModal}}):e._e(),e._v(" "),e.isShowVipBorrow?n("VipBorrowModal",{attrs:{"book-info":e.bookInfo,"tea-params":e.vipTeaParams},on:{closeVipBorrowModal:function(t){e.isShowVipBorrow=!1}}}):e._e()],1)],1),e._v(" "),n("ClientOnly",[n("NewUserLead",{attrs:{visible:e.showNewUserLead},on:{close:e.handleShowNewUserLeadDismiss,finish:e.handleShowNewUserLeadDismiss}}),e._v(" "),e.user_growth_lead?n("UserGrowthLead",{attrs:{logined:e.logined},on:{confirm:function(t){return e.handleUser_growth_leadDismiss("confirm")},dismiss:function(t){return e.handleUser_growth_leadDismiss("dismiss")}}}):e._e(),e._v(" "),e.showUserGrowthPopup||e.showUserGrowthPopup.visible?n("UserGrowthPopup",{attrs:{popup:e.showUserGrowthPopup.data},on:{dismiss:e.handleShowUserGrowthPopupDismiss}}):e._e(),e._v(" "),n("UpgradeBox",{attrs:{visible:e.isUpgradeBoxVisible.visible,user:e.user,"growth-info":e.isUpgradeBoxVisible.data},on:{close:e.handleIsUpgradeBoxVisibleDismiss}}),e._v(" "),e.isLogoutModalVisible?n("AccountDeleteModal",{attrs:{"need-qrcode":!1},on:{close:function(t){e.isLogoutModalVisible=!1}}},[e._v("\n      掘友您好，您当前登录账号正在注销审核期，故无法访问稀土掘金内容。如果需要取消注销申请，请登录稀土掘金App，进行放弃注销操作。如果您有任何建议和反馈，可以发送邮箱到\n      feedback@xitu.io 联系我们。给您带来的不便，我们深感抱歉。\n    ")]):e._e(),e._v(" "),e.reportModalData.show?n("Report",{attrs:{"item-id":e.reportModalData.itemId,"item-type":e.reportModalData.idType},model:{value:e.reportModalData.visible,callback:function(t){e.$set(e.reportModalData,"visible",t)},expression:"reportModalData.visible"}}):e._e()],1),e._v(" "),n("ClientOnly",[n("RiskModal"),e._v(" "),n("FixedResourceTccConfig",{on:{show:function(t){e.hasTccAd=!0}}}),e._v(" "),n("HomePostTccAd",{class:{"home-post-tcc-add":!0,"tcc-ad-with-recommend":!!e.recommendComponent},on:{show:function(t){e.hasTccAd=!0}}}),e._v(" "),e.showBottomLoginGuide?n("BottomLoginGuide",{on:{close:e.handleCloseBottomLoginGuide}}):e._e(),e._v(" "),n("DarkModeNotification",{attrs:{visible:e.darkModeVisible},on:{close:e.onDarkNotificationClose,ok:e.onDarkNotificationClose}}),e._v(" "),e.isSuspensionPanelVisible?n("GlobalFloatBanner"):e._e(),e._v(" "),e.isSuspensionPanelVisible?n("GlobalFullscreenPopUp"):e._e()],1)],2)}),[],!1,null,null,null));t.default=W.exports},866:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var r,o,l=n(40);function c(e,t){Object(l.d)(e,t)}!function(e){e.FollowShow="follow_show",e.FollowClick="follow_click",e.FollowCancel="follow_cancel",e.FollowingFeedShow="following_feed_show"}(r||(r={})),function(e){e[e.followCommendCard=0]="followCommendCard",e[e.hotAuthors=1]="hotAuthors",e[e.homeUserPopover=2]="homeUserPopover",e[e.postUserCard=4]="postUserCard",e[e.postTop=5]="postTop",e[e.postStickyBar=6]="postStickyBar",e[e.userCenterTop=7]="userCenterTop",e[e.userCenterStickyBar=8]="userCenterStickyBar",e[e.userCenterMomentFeed=9]="userCenterMomentFeed",e[e.userCenterFollowing=10]="userCenterFollowing",e[e.userCenterTeam=11]="userCenterTeam",e[e.userCenterFollowers=12]="userCenterFollowers",e[e.commentUserPopover=13]="commentUserPopover",e[e.pinFeedUserPopover=14]="pinFeedUserPopover",e[e.pinDiggDetail=15]="pinDiggDetail",e[e.pinDetail=16]="pinDetail",e[e.clubDetail=18]="clubDetail",e[e.searchResult=19]="searchResult",e[e.teamCenterTop=20]="teamCenterTop",e[e.other=100]="other"}(o||(o={}))},871:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(6);var r=n(11),o=n(12),l=function(){function e(){Object(r.a)(this,e),this.busy=!1}return Object(o.a)(e,[{key:"do",value:function(e){var t=this;return this.busy?Promise.resolve(void 0):(this.busy=!0,Promise.resolve("function"==typeof e?e():e).then((function(e){return t.busy=!1,e})).catch((function(e){return t.busy=!1,Promise.reject(e)})))}}]),e}();function c(){return new l}},874:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n(39),n(45),n(19);var r=n(5),o=n(3),l=n(56),c=n(104),d=n(23),h=n(4),f=n(155),v=n(871),m=n(1),w=n(866),O=n(186);function _(){var e,t,n,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=Object(v.a)(),C=Object(o.r)(),j=Object(o.c)(),k=Object(o.k)(!1),P=Object(o.k)(!1),R=[],S=Object(o.k)(!1),x=Object(o.k)(""),E=Object(o.k)(d.b.UserType),F=Object(o.k)(w.b.other),L=Object(o.k)("关注失败，请稍后重试~"),M=Object(o.k)(""),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.itemId,n=e.itemType,r=e.isFollow,o=e.teaFollowType,l=e.errorText,c=e.successText;void 0!==t&&(x.value=t),void 0!==n&&(E.value=n),void 0!==r&&(S.value=r),void 0!==o&&(F.value=o),void 0!==l&&(L.value=l),void 0!==c&&(M.value=c),"boolean"==typeof r&&(P.value=!0)},I=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==j?void 0:j.proxy.$ensureAuthorized({loginGuideFrom:c.b.focus_login});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",!1);case 8:if(!t||"string"==typeof t){e.next=10;break}return e.abrupt("return",!1);case 10:if((null!=t?t:x.value)&&(null!=n?n:E.value)){e.next=12;break}return e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c,v,m,_,T,j,P,R,U;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t,n);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",{isSuccess:!1});case 4:return m=null!=t?t:x.value,_=null!=n?n:E.value,T=null!==(o=null==r?void 0:r.successText)&&void 0!==o?o:M.value,j=null!==(c=null==r?void 0:r.errorText)&&void 0!==c?c:L.value,k.value=!0,P=!0,e.prev=10,e.next=13,y({itemId:m,itemType:_});case 13:0===(R=e.sent).err_no?(S.value=!0,T&&l.Message.success(T)):(P=!1,Object(f.a)(R.err_no)||l.Message.error(R.err_msg)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(10),P=!1,l.Message.error(j);case 21:return k.value=!1,[d.b.UserType,d.b.Team].includes(_)&&(U=null!==(v=null==r?void 0:r.teaFollowType)&&void 0!==v?v:F.value,Object(w.c)(w.a.FollowClick,{follow_status:P?1:0,current_page:Object(O.d)(window.location.href),follow_type:U,to_item_id:m,to_item_type:_===d.b.UserType?0:1})),_===d.b.UserType&&C.dispatch(h.FOLLOW_USER),e.abrupt("return",{isSuccess:P,targetStatus:!0});case 25:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t,n,r){return e.apply(this,arguments)}}(),A=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c,f,v,m,_,y,j,P,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t,n);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",{isSuccess:!1});case 4:return v=null!=t?t:x.value,m=null!=n?n:E.value,_=null!==(o=null==r?void 0:r.successText)&&void 0!==o?o:M.value,y=null!==(c=null==r?void 0:r.errorText)&&void 0!==c?c:L.value,k.value=!0,j=!0,e.prev=10,e.next=13,T({itemId:v,itemType:m});case 13:0===(P=e.sent).err_no?(S.value=!1,_&&l.Message.success("取消".concat(_))):(j=!1,l.Message.error(P.err_msg)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(10),j=!1,l.Message.error("取消".concat(y));case 21:return k.value=!1,[d.b.UserType,d.b.Team].includes(m)&&(R=null!==(f=null==r?void 0:r.teaFollowType)&&void 0!==f?f:F.value,Object(w.c)(w.a.FollowCancel,{follow_status:j?1:0,current_page:Object(O.d)(window.location.href),follow_type:R,to_item_id:v,to_item_type:m===d.b.UserType?0:1})),m===d.b.UserType&&C.dispatch(h.UNFOLLOW_USER),e.abrupt("return",{isSuccess:j,targetStatus:!1});case 25:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t,n,r){return e.apply(this,arguments)}}(),N=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=r?r:S.value)){e.next=7;break}return e.next=4,A(t,n,o);case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,D(t,n,o);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),V=function(e){var t,n,r;var o=null!==(t=null==e?void 0:e.currentPage)&&void 0!==t?t:Object(O.d)(window.location.href),l=null!==(n=null==e?void 0:e.teaFollowType)&&void 0!==n?n:P.value?F.value:void 0,c=null!==(r=null==e?void 0:e.isFollow)&&void 0!==r?r:P.value?S.value:void 0;void 0!==l&&void 0!==c?Object(w.c)(w.a.FollowShow,{current_page:o,follow_type:l,button_status:c?1:0}):R.push({currentPage:o,teaFollowType:l,isFollow:c})};return U(m),Object(o.s)(P,(function(){P.value&&(R.forEach((function(e){var t=e.currentPage,n=e.teaFollowType,r=e.isFollow;V({currentPage:t,teaFollowType:null!=n?n:F.value,isFollow:null!=r?r:S.value})})),R.splice(0,R.length))})),{isFollow:S,followLoading:k,doFollow:(n=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.do((function(){return D(t,n,r)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t,r){return n.apply(this,arguments)}),cancelFollow:(t=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.do((function(){return A(t,n,r)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,n,r){return t.apply(this,arguments)}),toggleFollow:(e=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.do((function(){return N(t,n,r,o)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(t,n,r,o){return e.apply(this,arguments)}),setFollowInfo:U,traceFollowShow:V}}function y(e){var t=e.itemId,n=e.itemType;return Object(m.d)({url:"/interact_api/v1/follow/do",method:"post",showError:!1,body:{id:t,type:n}})}function T(e){var t=e.itemId,n=e.itemType;return Object(m.d)({url:"/interact_api/v1/follow/undo",method:"post",showError:!1,body:{id:t,type:n}})}},887:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));n(19);var r=n(5),o=n(3);function l(){var e=Object(o.c)();return{openReportModal:function(t,n){if(e){var r=e.proxy.$getBean("eventBus");r.emit(r.eventType.REPORT_CONTENT,t,n)}}}}function c(e){var t=Object(o.j)({visible:!1,show:!1});function n(){return(n=Object(r.a)(regeneratorRuntime.mark((function n(r,o){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.$validLogin()){n.next=2;break}return n.abrupt("return");case 2:t.show||(t.show=!0),t.visible=!0,t.itemId=r,t.idType=o;case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return{reportModalData:t,showReportModal:function(e,t){return n.apply(this,arguments)}}}},901:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n(19);var r=n(5),o=(n(3),n(7)),l=n(61),c=n(29),d=n(17),h=(n(227),n(55));function f(){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]&&f[0],n=t?Object(h.f)(sessionStorage.getItem(d.b.reportBindPhoneJScore)||"null"):{growth_type:c.d.JScore,task_id:c.c.BindPhone,item_id:"0"}){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,t||sessionStorage.setItem(d.b.reportBindPhoneJScore,JSON.stringify(n)),e.next=8,l.a.AddPointReport(n);case 8:(r=e.sent).err_no!==o.ERROR_NO.OK&&console.warn("error reportBindPhoneJScore reason:".concat(r.err_msg)),sessionStorage.removeItem(d.b.reportBindPhoneJScore),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.warn("error reportBindPhoneJScore, set to sessionStorage, ".concat(JSON.stringify(n)," err:"),e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}},983:function(e,t,n){},984:function(e,t,n){}}]);
//# sourceMappingURL=1622e45.js.map