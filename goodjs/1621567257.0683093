/*Built by pcw player group @5/20/2021, 1:25:21 PM */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).QiyiPlayerLoader=t()}(this,function(){"use strict";var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var PlayerVersion="5.2.29";function mixin(r,e,a,i){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function t(e,t){var r;for(r in e)if(n(e,r)&&t(e[r],r))break}return e&&t(e,function(e,t){!a&&n(r,t)||(i&&"string"!=typeof e&&"boolean"!=typeof e?(r[t]||(r[t]={}),mixin(r[t],e,a,i)):r[t]=e)}),r}var licked={},cookie={get:function(e,t){var r="",a,i;return(t=mixin({memory:!1},t,!0)).memory&&Object.prototype.hasOwnProperty.call(licked,e)?r=licked[e]:(!new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)||(i=new RegExp("(^| )"+e+"=([^;]*)(;|$)").exec(document.cookie))&&(r=i[2]||""),"string"==typeof r&&(r=decodeURIComponent(r)),t.memory&&(licked[e]=r)),r},set:function(e,t,r){r=r||{},t=encodeURIComponent(t);var a=r.expires;"number"==typeof r.expires&&(a=r.expires<=0?new Date(0):new Date).setTime(a.getTime()+r.expires),delete licked[e],document.cookie=e+"="+t+(r.path?"; path="+r.path:"")+(a?"; expires="+a.toUTCString():"")+(r.domain?"; domain="+r.domain:"")},remove:function(e,t){(t=t||{}).expires=-1,this.set(e,"",t)}},objectCreate=Object.create||objectCreatePolyfill,objectKeys=Object.keys||objectKeysPolyfill,bind=Function.prototype.bind||functionBindPolyfill,defaultMaxListeners=20,Dispatcher=(O.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},O.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},O.prototype.getMaxListeners=function(){return $getMaxListeners(this)},O.prototype.emit=function(e){var t,r,a,i,n,o,s="error"===e,o=this._events;if(o)s=s&&null==o.error;else if(!s)return!1;if(s){if((t=1<arguments.length?arguments[1]:t)instanceof Error)throw t;var s=new Error('Unhandled "error" event. ('+t+")");throw s.context=t,s}if(!(r=o[e]))return!1;var l="function"==typeof r,a;switch(a=arguments.length){case 1:emitNone(r,l,this);break;case 2:emitOne(r,l,this,arguments[1]);break;case 3:emitTwo(r,l,this,arguments[1],arguments[2]);break;case 4:emitThree(r,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(a-1),n=1;n<a;n++)i[n-1]=arguments[n];emitMany(r,l,this,i)}return!0},O.prototype.on=function(e,t,r){return _addListener(this,e,t,r="object"!=typeof(r=void 0===r?{highPriority:!1}:r)?{}:r)},O.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,_onceWrap(this,e,t)),this},O.prototype.off=function(e,t){return _removeListener.call(this,e,t)},O.prototype.un=function(e,t){this.off(e,t)},O.prototype.removeAllListeners=function(e){var t,r,a,r=this._events;if(!r)return this;if(!r.off)return 0===arguments.length?(this._events=objectCreate(null),this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=objectCreate(null):delete r[e]),this;if(0===arguments.length){for(var i=objectKeys(r),n,a=0;a<i.length;++a)"off"!==(n=i[a])&&this.removeAllListeners(n);return this.removeAllListeners("off"),this._events=objectCreate(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.off(e,t);else if(t)for(a=t.length-1;0<=a;a--)this.off(e,t[a]);return this},O.prototype.listeners=function(e){return _listeners(this,e,!0)},O.prototype.rawListeners=function(e){return _listeners(this,e,!1)},O.prototype.listenerCount=function(){return O.listenerCount.apply(this,arguments)},O),hasDefineProperty;function O(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=objectCreate(null),this._eventsCount=0),this._maxListeners=this._maxListeners||undefined}try{var o={};Object.defineProperty&&Object.defineProperty(o,"x",{value:0}),hasDefineProperty=0===o.x}catch(err){hasDefineProperty=!1}function $getMaxListeners(e){return e._maxListeners===undefined?Dispatcher.defaultMaxListeners:e._maxListeners}function emitNone(e,t,r){if(t)e.call(r);else for(var a=e.length,i=arrayClone(e,a),n=0;n<a;++n)try{i[n].call(r)}catch(o){}}function emitOne(e,t,r,a){if(t)e.call(r,a);else for(var i=e.length,n=arrayClone(e,i),o=0;o<i;++o)try{n[o].call(r,a)}catch(s){}}function emitTwo(e,t,r,a,i){if(t)e.call(r,a,i);else for(var n=e.length,o=arrayClone(e,n),s=0;s<n;++s)try{o[s].call(r,a,i)}catch(l){}}function emitThree(e,t,r,a,i,n){if(t)e.call(r,a,i,n);else for(var o=e.length,s=arrayClone(e,o),l=0;l<o;++l)try{s[l].call(r,a,i,n)}catch(c){}}function emitMany(e,t,r,a){if(t)e.apply(r,a);else for(var i=e.length,n=arrayClone(e,i),o=0;o<i;++o)try{n[o].apply(r,a)}catch(s){}}function _addListener(e,t,r,a){var i,a,n,i=!!(a=void 0===a?{}:a).highPriority,i,i;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');return(a=e._events)?(a.newListener&&(e.emit("newListener",t,r.listener||r),a=e._events),n=a[t]):(a=e._events=objectCreate(null),e._eventsCount=0),n?("function"==typeof n?n=a[t]=[n,r]:i?n.shift(r):n.push(r),n.warned||(i=$getMaxListeners(e))&&0<i&&n.length>i&&(n.warned=!0,(i=new Error("Possible Dispatcher memory leak detected. "+n.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.')).name="MaxListenersExceededWarning",i.emitter=e,i.type=t,i.count=n.length)):(n=a[t]=r,++e._eventsCount),e}function _removeListener(e,t){var r,a,i,n,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(a=this._events))return this;if(!(r=a[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=objectCreate(null):(delete a[e],a.off&&this.emit("off",e,r.listener||t));else if("function"!=typeof r){for(i=-1,n=r.length-1;0<=n;n--)if(r[n]===t||r[n].listener===t){o=r[n].listener,i=n;break}if(i<0)return this;0===i?r.shift():spliceOne(r,i),1===r.length&&(a[e]=r[0]),a.off&&this.emit("off",e,o||t)}return this}function onceWrapper(){if(!this.fired)switch(this.target.off(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function _onceWrap(e,t,r){var e={fired:!1,wrapFn:undefined,target:e,type:t,listener:r},t=bind.call(onceWrapper,e);return t.listener=r,e.wrapFn=t}function _listeners(e,t,r){var e=e._events;if(!e)return[];var t=e[t];return t?"function"==typeof t?r?[t.listener||t]:[t]:r?unwrapListeners(t):arrayClone(t,t.length):[]}function listenerCount(e){var t=this._events;if(t){var e=t[e];if("function"==typeof e)return 1;if(e)return e.length}return 0}function spliceOne(e,t){for(var r=t,a=r+1,i=e.length;a<i;r+=1,a+=1)e[r]=e[a];e.pop()}function arrayClone(e,t){for(var r=new Array(t),a=0;a<t;++a)r[a]=e[a];return r}function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function objectCreatePolyfill(e){var t=function(){};return t.prototype=e,new t}function objectKeysPolyfill(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t);return t}function functionBindPolyfill(e){var t=this;return function(){return t.apply(e,arguments)}}hasDefineProperty?Object.defineProperty(Dispatcher,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');defaultMaxListeners=e}}):Dispatcher.defaultMaxListeners=defaultMaxListeners;var chrsz=8;function core_md5(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var r=1732584193,a=-271733879,i=-1732584194,n=271733878,o=0;o<e.length;o+=16){var s=r,l=a,c=i,p=n,r=md5_ff(r,a,i,n,e[o+0],7,-680876936),n=md5_ff(n,r,a,i,e[o+1],12,-389564586),i=md5_ff(i,n,r,a,e[o+2],17,606105819),a=md5_ff(a,i,n,r,e[o+3],22,-1044525330);r=md5_ff(r,a,i,n,e[o+4],7,-176418897),n=md5_ff(n,r,a,i,e[o+5],12,1200080426),i=md5_ff(i,n,r,a,e[o+6],17,-1473231341),a=md5_ff(a,i,n,r,e[o+7],22,-45705983),r=md5_ff(r,a,i,n,e[o+8],7,1770035416),n=md5_ff(n,r,a,i,e[o+9],12,-1958414417),i=md5_ff(i,n,r,a,e[o+10],17,-42063),a=md5_ff(a,i,n,r,e[o+11],22,-1990404162),r=md5_ff(r,a,i,n,e[o+12],7,1804603682),n=md5_ff(n,r,a,i,e[o+13],12,-40341101),i=md5_ff(i,n,r,a,e[o+14],17,-1502002290),r=md5_gg(r,a=md5_ff(a,i,n,r,e[o+15],22,1236535329),i,n,e[o+1],5,-165796510),n=md5_gg(n,r,a,i,e[o+6],9,-1069501632),i=md5_gg(i,n,r,a,e[o+11],14,643717713),a=md5_gg(a,i,n,r,e[o+0],20,-373897302),r=md5_gg(r,a,i,n,e[o+5],5,-701558691),n=md5_gg(n,r,a,i,e[o+10],9,38016083),i=md5_gg(i,n,r,a,e[o+15],14,-660478335),a=md5_gg(a,i,n,r,e[o+4],20,-405537848),r=md5_gg(r,a,i,n,e[o+9],5,568446438),n=md5_gg(n,r,a,i,e[o+14],9,-1019803690),i=md5_gg(i,n,r,a,e[o+3],14,-187363961),a=md5_gg(a,i,n,r,e[o+8],20,1163531501),r=md5_gg(r,a,i,n,e[o+13],5,-1444681467),n=md5_gg(n,r,a,i,e[o+2],9,-51403784),i=md5_gg(i,n,r,a,e[o+7],14,1735328473),r=md5_hh(r,a=md5_gg(a,i,n,r,e[o+12],20,-1926607734),i,n,e[o+5],4,-378558),n=md5_hh(n,r,a,i,e[o+8],11,-2022574463),i=md5_hh(i,n,r,a,e[o+11],16,1839030562),a=md5_hh(a,i,n,r,e[o+14],23,-35309556),r=md5_hh(r,a,i,n,e[o+1],4,-1530992060),n=md5_hh(n,r,a,i,e[o+4],11,1272893353),i=md5_hh(i,n,r,a,e[o+7],16,-155497632),a=md5_hh(a,i,n,r,e[o+10],23,-1094730640),r=md5_hh(r,a,i,n,e[o+13],4,681279174),n=md5_hh(n,r,a,i,e[o+0],11,-358537222),i=md5_hh(i,n,r,a,e[o+3],16,-722521979),a=md5_hh(a,i,n,r,e[o+6],23,76029189),r=md5_hh(r,a,i,n,e[o+9],4,-640364487),n=md5_hh(n,r,a,i,e[o+12],11,-421815835),i=md5_hh(i,n,r,a,e[o+15],16,530742520),r=md5_ii(r,a=md5_hh(a,i,n,r,e[o+2],23,-995338651),i,n,e[o+0],6,-198630844),n=md5_ii(n,r,a,i,e[o+7],10,1126891415),i=md5_ii(i,n,r,a,e[o+14],15,-1416354905),a=md5_ii(a,i,n,r,e[o+5],21,-57434055),r=md5_ii(r,a,i,n,e[o+12],6,1700485571),n=md5_ii(n,r,a,i,e[o+3],10,-1894986606),i=md5_ii(i,n,r,a,e[o+10],15,-1051523),a=md5_ii(a,i,n,r,e[o+1],21,-2054922799),r=md5_ii(r,a,i,n,e[o+8],6,1873313359),n=md5_ii(n,r,a,i,e[o+15],10,-30611744),i=md5_ii(i,n,r,a,e[o+6],15,-1560198380),a=md5_ii(a,i,n,r,e[o+13],21,1309151649),r=md5_ii(r,a,i,n,e[o+4],6,-145523070),n=md5_ii(n,r,a,i,e[o+11],10,-1120210379),i=md5_ii(i,n,r,a,e[o+2],15,718787259),a=md5_ii(a,i,n,r,e[o+9],21,-343485551),r=safe_add(r,s),a=safe_add(a,l),i=safe_add(i,c),n=safe_add(n,p)}return Array(r,a,i,n)}function md5_cmn(e,t,r,a,i,n){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(a,n)),i),r)}function md5_ff(e,t,r,a,i,n,o){return md5_cmn(t&r|~t&a,e,t,i,n,o)}function md5_gg(e,t,r,a,i,n,o){return md5_cmn(t&a|r&~a,e,t,i,n,o)}function md5_hh(e,t,r,a,i,n,o){return md5_cmn(t^r^a,e,t,i,n,o)}function md5_ii(e,t,r,a,i,n,o){return md5_cmn(r^(t|~a),e,t,i,n,o)}function safe_add(e,t){var r=(65535&e)+(65535&t),a;return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function bit_rol(e,t){return e<<t|e>>>32-t}function str2binl(e){for(var t=Array(),r=(1<<chrsz)-1,a=0;a<e.length*chrsz;a+=chrsz)t[a>>5]|=(e.charCodeAt(a/chrsz)&r)<<a%32;return t}function binl2hex(e){for(var t="0123456789abcdef",r="",a=0;a<4*e.length;a++)r+=t.charAt(e[a>>2]>>a%4*8+4&15)+t.charAt(e[a>>2]>>a%4*8&15);return r}function md5(e){return binl2hex(core_md5(str2binl(e),e.length*chrsz))}var isBool=function(e){return"boolean"==typeof e},isNum=function(e){return"number"==typeof e&&!isNaN(e)},isObject=function(e){return"[object object]"===Object.prototype.toString.call(e).toLowerCase()},isArray=function(e){var e,e=Array.isArray?Array.isArray(e):"[object array]"===Object.prototype.toString.call(e).toLowerCase();return e},formatMilliseconds=function(e){if(isNaN(e))return"00:00:00";var t=3600<=(e=Math.round(e))?Math.floor(e/3600):0,r,r=10<=(r=60<=e%3600?Math.floor(e%3600/60):0)?r:"0"+r;return e=10<=(e=0<=parseInt(r,10)?e%3600%60:e)?e:"0"+e,0<t?(9<t?t:"0"+t)+":"+r+":"+e:r+":"+e},protocolRevise=function(e){var t="",t;return t=(t=(t=(e=void 0===e?"":e).replace("http://","//")).replace("https://","//")).replace(".qiyipic",".iqiyipic")},hex2rgba=function(e,t){void 0===t&&(t=1);for(var r=[],a=1;a<e.length;){var i=e.substring(a,a+2);r.push(parseInt(i,16)),a+=2}return r.push(t),"rgba("+r.join(",")+")"},util={isBool:isBool,isNumber:isNum,isArray:isArray,isObject:isObject,formatMilliseconds:formatMilliseconds,protocolRevise:protocolRevise,hex2rgba:hex2rgba},doc=document,noop=function(){},cacheMappingURL={},accepts={"*":"*/".concat("*"),text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},converters={"*":null,text:null,html:null,xml:null,json:function(e){var t={},r=window.JSON?JSON.parse:function(){return{}};try{t=r(e)}catch(a){}return t}},defaultOptions={method:"get",dataType:"*",timeout:1e4,charset:"utf-8",cache:!0,withCredentials:!0,jsonpCallback:"callback",complete:noop,success:noop,failure:noop},_paramFormat=function(e){var t=[];if("object"==typeof e)for(var r in e)t[t.length]=encodeURIComponent(r)+"="+encodeURIComponent(e[r]);return t.join("&").replace(/%20/g,"+")},ajax=function(p){mixin(p=p||{},defaultOptions);var d=p.url,_=p.dataType,f=p.params||{},u=p.success,h=p.failure,e;d&&function(){var a={},e=p.headers,t=p.data||null,r=_paramFormat(f);a.params=f,a.url=d+(0<r.length?(/\?/i.test(d)?"&":"?")+r:""),"function"==typeof p.beforeSend&&(a=p.beforeSend(a));var i="",n=!1,o=new XMLHttpRequest;if(o.withCredentials=p.withCredentials,o.onreadystatechange=l,o.ontimeout=c,o.open(p.method,a.url,!0),o.timeout=p.timeout,o.setRequestHeader("Accept",accepts[_]),util.isObject(e))for(var s in e)o.setRequestHeader(s,e[s]);function l(){var e;if(i+=", readyState = "+o.readyState,4==o.readyState)if(e=converters[_]?converters[_](o.responseText):o.responseText,i+=", status = "+o.status+", statusText = "+o.statusText,200==o.status){if("json"===_&&"string"==typeof e)try{e=JSON.parse(e)}catch(r){}u(e)}else if(!n){n=!0;var t="";try{t=JSON.stringify(e)}catch(r){t=" json error"}i+=", data = "+t+"url = "+a.url,h("xhr error, time = "+p.timeout+i)}}function c(e){var e;n||(n=!0,e="xhr timeout, time = "+p.timeout+", readyState = "+o.readyState+", status = "+o.status+", data = "+JSON.stringify(e)+"url = "+a.url,h(e))}o.send(t)}()},xhrJSON=function(e){mixin(e=e||{},defaultOptions),e.dataType="json",ajax(e)},jsonp=function(e){mixin(e=e||{},defaultOptions);var t=e.url,r=e.params||{},a=_paramFormat(r),i=t+(0<a.length?(/\?/i.test(t)?"&":"?")+a:""),n=e.complete,o=e.success,s=e.failure,l=(e.callbackhead||"Q")+md5(e.fixedCallback||i),c=!!e.memory,p=md5(i),d=cacheMappingURL[p];if(i){if(!(c&&d&&o)){var _=function(e,t,r){switch(f(),e){case"success":c&&(cacheMappingURL[p]=r),o(r);break;case"fail":s(r,t)}n(r)},f=function(){if(window[l]){window[l]=undefined;try{delete window[l]}catch(e){}}},u;window[l]=function(e){f(),setTimeout(function(){_("success","200",e)},0)};var h={},y=doc.createElement("script");y.async=!0,y.type="text/javascript",y.charset=e.charset;var E=function(){if(y)try{y.onload(null,!0)}catch(e){}};y.abort=E,y.onload=y.onreadystatechange=function(e,t){!t&&y.readyState&&!/loaded|complete/.test(y.readyState)||(y.onload=y.onreadystatechange=null,y.parentNode&&y.parentNode.removeChild(y),y=null,clearTimeout(u))},y.onerror=function(){_("fail",null),E()};var u=setTimeout(function(){_("fail",408),E()},e.timeout),a={};if(a[e.jsonpCallback]=l,mixin(r,a,!0),e.isSort&&1==e.isSort){var m=[],P="",g;for(g in e.params)m.push(g+"="+e.params[g]);m.sort();for(var g=0;g<m.length;g++)g===m.length-1?P+=m[g]:P+=m[g]+"&";h.url=t+(/\?/i.test(t)?"&":"?")+P}else h.url=i+(/\?/i.test(i)?"&":"?")+_paramFormat(a);return h.params=r,"function"==typeof e.beforeSend&&(h=e.beforeSend(h)||h),y.src=h.url,doc.getElementsByTagName("head")[0].appendChild(y),y}o(d)}},beacon=function(e,t,r){if("string"==typeof t){var r=r===undefined||r;if(e){var a=[],i;for(i in r&&(e._=+new Date),e)a.push(i+"="+encodeURIComponent(e[i]));var t=t+"?"+a.join("&"),n=new Image;n.onload=n.onerror=n.onabort=function(){n.onload=n.onerror=n.onabort=null,n=null},n.src=t}}},http={serializeParam:_paramFormat,ajax:ajax,json:xhrJSON,jsonp:jsonp,beacon:beacon},data={},changeData={},deleteData={},tMark=0,storage={getItem:function(e){return data[e]},setItem:function(e,t){data[e]=t},removeItem:function(e){delete data[e]}},ls=function(){try{return window.localStorage.setItem("_Q_test_",1),window.localStorage.removeItem("_Q_test_"),window.localStorage}catch(e){}return storage}(),updateStorage=function(){0===tMark&&(clearTimeout(tMark),tMark=setTimeout(function(){for(var e in tMark=0,changeData)ls.setItem(e,changeData[e]),delete changeData[e];for(var t in deleteData)ls.removeItem(t),delete deleteData[t]},1e3))},storage$1={PLAYER_VD_KEY:"QiyiPlayerVD",read:function(e){return data[e]||(data[e]=ls.getItem(e)),data[e]},write:function(e,t){data[e]=t,changeData[e]=t,updateStorage()},remove:function(e){delete data[e],deleteData[e]=0,updateStorage()}},loggerMessageChanged=!1,LOGGER_MESSAGE="",AD_LOGGER_MESSAGE="",LOGGER_KEY="QiyiPlayerLogger",LOGGER_LEVEL_KEY="QiyiPlayerLoggerLevel",COLOR_BG_NORMAL="#FFA500",COLOR_BG_WARN="#ff6cb7",COLOR_BG_ERROR="#F30",COLOR_BG_DEBUG="#FFA500",Levels={OFF:{value:0,name:"OFF"},ERROR:{value:1,name:"ERROR"},WARN:{value:2,name:"WARN"},INFO:{value:3,name:"INFO"},DEBUG:{value:4,name:"DEBUG"}},filterLevelInStore=parseInt(storage$1.read(LOGGER_LEVEL_KEY),10),slice=Array.prototype.slice,DefaultLoggerName="Unknown",prelogInfo="",repeatNum=0,prelog="",timeLabel=function(){var e;try{e=(new Date).toISOString()}catch(t){e=(new Date).toString()}return e},checkrepeat=function(e){var t=e.join("");prelog!==t?(prelog=t,repeatNum=0):(1<++repeatNum&&(LOGGER_MESSAGE=(LOGGER_MESSAGE=LOGGER_MESSAGE.replace(prelogInfo,"")).substring(0,LOGGER_MESSAGE.length-2)),e.push(">>repeat("+repeatNum+")<<"))},logHandler=function(e,t){var r,a=COLOR_BG_NORMAL,i;if(e=slice.call(e),checkrepeat(e),e.unshift("%c"),t.name!==DefaultLoggerName&&e.unshift("["+t.name+"]"),e.unshift("%c["+timeLabel()+" "+t.level.name+"]"),t.level!==Levels.DEBUG&&(prelogInfo=e.join("").replace(/%c/gi,""),LOGGER_MESSAGE=(""!==(i=LOGGER_MESSAGE||"")?i+"\n":"")+prelogInfo,loggerMessageChanged=!0),"undefined"!=typeof console)try{r=console.log,t.level===Levels.WARN&&console.warn?(r=console.warn,a=COLOR_BG_WARN):t.level===Levels.ERROR&&console.error?(r=console.error,a=COLOR_BG_ERROR):t.level===Levels.INFO&&console.info?r=console.info:t.level===Levels.DEBUG&&console.debug&&(r=console.debug,a=COLOR_BG_DEBUG),t.print&&r.apply(console,[e.join(" ")+" ","background-color:#699f00;color:#fff;","background-color:"+a+";color:#fff;"])}catch(n){}},emitOnce=!0,PlayerLogger=(ef=Dispatcher,__extends(ff,ef),ff.stringify=function(e){var t="";try{t=JSON.stringify(e)}catch(r){}return t},ff.setLevel=function(e){e&&"value"in e&&(ff._filterLevel=e,storage$1.write(LOGGER_LEVEL_KEY,e.value))},ff.getLevel=function(){if(!ff._filterLevel){var e=Levels.WARN,t;for(t in Levels)Levels[t].value===filterLevelInStore&&(e=Levels[t]);ff._filterLevel=e}return ff._filterLevel},ff.getLog=function(){return LOGGER_MESSAGE+"\n\n\n **** ad log ****\n"+AD_LOGGER_MESSAGE},ff.saveImmediately=function(){writeLogInstantly()},ff.prototype.enabledFor=function(e){return e.value<=ff.getLevel().value},ff.prototype.invoke=function(e,t){logHandler(t,mixin({level:e,print:this.enabledFor(e)},this.context))},ff.prototype.debug=function(){this.invoke(Levels.DEBUG,arguments)},ff.prototype.log=function(){var e=arguments[1];emitOnce&&this.context.name===DefaultLoggerName&&"string"==typeof e&&/^w: overflow NALU found/.test(e)&&(emitOnce=!1,this.emit("needFireLog")),this.invoke(Levels.INFO,arguments)},ff.prototype.info=function(){this.invoke(Levels.INFO,arguments)},ff.prototype.adInfo=function(e){AD_LOGGER_MESSAGE=e},ff.prototype.warn=function(){this.invoke(Levels.WARN,arguments)},ff.prototype.error=function(){this.invoke(Levels.ERROR,arguments)},ff),ef;function ff(e){var t=ef.call(this)||this;return t.context={name:e||DefaultLoggerName},t}PlayerLogger.Levels=Levels;var period=3e4,M=1048576,limitSize=.5*M;function truncateLog(e,t){var r="\n",a,r=LOGGER_MESSAGE.split(r).slice(0,16).join(r)+r+"~~~~~truncated log~~~~~"+r;LOGGER_MESSAGE=r+LOGGER_MESSAGE.slice(r.length<e?e:r.length,t)}function writeLogInstantly(){var e=LOGGER_MESSAGE.length;limitSize<e&&truncateLog(e-limitSize,e),storage$1.write(LOGGER_KEY,LOGGER_MESSAGE+"\n\n\n **** ad log ****\n"+AD_LOGGER_MESSAGE)}function cronLogIntoStore(){loggerMessageChanged&&(loggerMessageChanged=!1,writeLogInstantly()),setTimeout(cronLogIntoStore,period)}setTimeout(cronLogIntoStore,period);var _parse=function(e){var t="",r="",a="",i="",n=/(\w+):\/\/([^\/:]+):?(\d*)((?:\/|$)[^?#]*)/,n=e.match(n);return n&&(t=n[1],r=n[2],a=n[3],i=n[4]),{protocol:t,host:r,port:a,path:i}},_queryToJson=function(e){for(var t,r=e.substr(e.lastIndexOf("?")+1).split("&"),a=r.length,i={},n=0,o,s,l,s;n<a;n++)r[n]&&(o=(s=r[n].split("=")).shift(),s=s.join("="),void 0===(l=i[o])&&(i[o]=s));return i},_getQueryValue=function(e,t){1===arguments.length&&(t=e,e=window.location.href);var t=String(t).replace(new RegExp("([.*+?^=!:${}()|[\\]/\\\\])","g"),"\\$1"),t=new RegExp("(^|&|\\?|#)"+t+"=([^&#]*)(&|$|#)",""),t=e.match(t);return t?t[2]:""},_filename=function(e){var e=_parse(e),t;return(e&&e.path||"").replace(/^.*[\\\/]/,"").split(".")[0]},urlkit={parse:_parse,query:_getQueryValue,query2Json:_queryToJson,filename:_filename},CON_TYPE={PlayerType_Html5VOD:"h5_VOD",PlayerType_FlashVOD:"flash_VOD",PlayerType_Null:"null",SkinType_pc:"pc",SkinType_mobile:"mobile",SkinType_mini:"mini",QYPLAYER_STATUS_LOAD_MOVIE:"loadmovie",QYPLAYER_STATUS_DATA_READY:"dataready",QYPLAYER_STATUS_AD_START_PLAY:"adstartplay",QYPLAYER_STATUS_AD_PLAYING:"adplaying",QYPLAYER_STATUS_AD_PAUSED:"adpaused",QYPLAYER_STATUS_AD_RESUMED:"adresumed",QYPLAYER_STATUS_READY:"ready",QYPLAYER_STATUS_START_PLAY:"startplay",QYPLAYER_STATUS_SEEKING:"seeking",QYPLAYER_STATUS_WAITING:"waiting",QYPLAYER_STATUS_PAUSED:"paused",QYPLAYER_STATUS_PLAYING:"playing",QYPLAYER_STATUS_STOPED:"stoped",QYPLAYER_STATUS_ERROR:"error",QYPLAYER_STATUS_END_PLAY:"endplay",QYPLAYER_LOAD_COMPLETE:"loadcomplete",QYPLAYER_LOAD_SUCCESS:"playerLoadSuccess",QYPLAYER_STATE_CHANGE:"playerStateChange",QYPLAYER_VIDEO_CHANGE:"videoChanged",QYPLAYER_VID_CHANGE:"vidChanged",QYPLAYER_NEXT_VIDEO:"playnextvideo",QYPLAYER_SET_LIGHT:"setLight",QYPLAYER_MOVETO_QITAN:"moveToQitan",QYPLAYER_SHOW_LOGIN_PANEL:"showLoginPanel",QYPLAYER_EXPAND:"expand",QYPLAYER_AUTHENTICATION_RESULE:"authenticationResult",QYPLAYER_RECHARGE:"recharge",QYPLAYER_SUBSCRIBE:"subscribe",QYPLAYER_REFRESH_PAGE:"refreshPage",QYPLAYER_DOWNLOAD:"download",QYPLAYER_REQUEST_VIDEOLIST:"requestVideoList",QYPLAYER_REQUEST_VIDEOLIST_BY_PAGE:"requestVideoListByPage",QYPLAYER_REQUEST_CHANGE_VIDEO:"requestChangeVideo",QYPLAYER_SWITCH_FULL_SCREEN:"switchFullScreen",QYPLAYER_ADD_TO_TABLE:"addToTable",QYPLAYER_FOCUS_TIPS:"focusTips",QYPLAYER_FOCUS_UPLOADER:"focusUploader",QYPLAYER_FIND_GOODS:"findGoods",QYPLAYER_PGC_FOLLOW:"pgcFollow",QYPLAYER_SHOW_DOWNLOAD_APPPOP:"showDownLoadAppPop",QYPLAYER_CHECK_CLIENT_INSTALL:"checkClientInstall",QYPLAYER_REQUEST_SEND_PINGBACK:"requestJSSendPB",QYPLAYER_DOSOMETHING:"setJsDoSomething",QYPLAYER_FOLLOW_UPNEXT_LOAD:"followUpNextLoad",QYPLAYER_USER_CLICK_SCORE:"userClickScore",QYPLAYER_BARRAGE_REPLAY:"barrageReply",QYPLAYER_BARRAGE_RECEIVE_DATA:"barrageReceiveData",QYPLAYER_SET_BARRAGE_INTERACT_INFO:"setBarrageInteractInfo",QYPLAYER_NOTIFY_BARRAGE_DATA:"notifyBarrageData",QYPLAYER_SET_BARRAGE_CONFIG_INFO:"setHasBarrageConfigInfo",QYPLAYER_SET_BARRAGE_CHANNEL_CONFIG_INFO:"setHasBarrageChannelConfigInfo",QYPLAYER_BARRAGE_STATE_CHANGE:"barrageStateChange",QYPLAYER_BARRAGE_ALLOWED:"barrageAllowed",QYPLAYER_REQUEST_REWARD:"requestReward",QYPLAYER_COMMENT_ALLOWED:"commentAllowed",QYPLAYER_GET_PLAYER_LOG:"getQiyiPlayerLog",QYPLAYER_WEBFULLSCREEN_BEFORE_CHANGE:"beforeWebFullScreenChange",QYPLAYER_WEBFULLSCREEN_AFTER_CHANGE:"afterWebFullScreenChange",QYPLAYER_FULLSCREEN_BEFORE_CHANGE:"beforeFullScreenChange",QYPLAYER_FULLSCREEN_AFTER_CHANGE:"afterFullScreenChange",QYPLAYER_NOTIFY_GIFT_INFO:"notifyGiftInfo",QYPLAYER_NOTIFY_WRITE_FLASH_LOG:"writeFlashLog",QYPLAYER_SWITCH_PLAYER:"switchPlayer",QYPLAYER_NOTIFY_AD_START:"ADStart",QYPLAYER_NOTIFY_AD_END:"ADEnd",QYPLAYER_NOTIFY_AD_NOTIFY_INFO:"adnotifyinfo",QYPLAYER_NOTIFY_AD_BLOCK:"adblock",QYPLAYER_NOTIFY_TIMEUPDATE:"timeUpdate",QYPLAYER_NOTIFY_SCORECHANGE:"scoreTaskChange",QYPLAYER_NOTIFY_FEEDBACK_SHOW:"feedbackShow",QYPLAYER_NOTIFY_FEEDBACK_HIDE:"feedbackHide",QYPLAYER_NOTIFY_FEEDBACK_PANEL_SHOW:"feedbackPanelShow",QYPLAYER_NOTIFY_USER_SEEK:"userSeek",QYPLAYER_BuyPlay:"buyPlay",QYPLAYER_NOTIFY_TO_DIVERSION:"todiversion",QYPLAYER_NOTIFY_AI_STAR_INFO:"aistarinfo",QYPLAYER_NOTIFY_AI_FEEDBACK:"aifeedback",QYPLAYER_NOTIFY_AI_STAR_CLOSE:"aistarclose",QYPLAYER_NOTIFY_SHOW_VIDEOLIST:"showvideolist",QYPLAYER_NOTIFY_FOLLOW_CLICK:"followbtnclick",QYPLAYER_NOTIFY_INTERACTION_START:"interactionstart",QYPLAYER_NOTIFY_INTERACTION_END:"interactionend",QYPLAYER_H5_VIDEO_LOADSTART:"h5videoloadstart",QYPLAYER_H5_VIDEO_LOADEDMETADATA:"h5videoloadedmetadata",QYPLAYER_H5_DURATION_CHANGED:"h5durationchanged",QYPLAYER_H5_VOLUME_CHANGED:"h5volumechanged",QYPLAYER_H5_SEEK_DRAGSTART:"h5seekdragstart",QYPLAYER_H5_SEEK_DRAGEND:"h5seekdragend"},_uuidTick=0,_newUser=undefined,_veid="",_webEventId=window.webEventID||"",_removeWeid=function(){_webEventId=window.webEventID||""},_genUuid=function(){return md5(window.navigator.userAgent+document.cookie+Math.random()+(new Date).getTime()*_uuidTick++)},saveCookie=function(e,t,r){cookie.set(e,t,{expires:r||31536e6,path:"/",domain:"iqiyi.com"})},_getJsuid=function(){var e="QC006",t=cookie.get(e);return t||(window.QiyiPlayerIsNewUser=!0,t=_genUuid(),saveCookie(e,t)),t},_getFluid=function(){return _checkJSUid()},_checkJSUid=function(){var e="QC005",t,r=cookie.get(e);return r||(r=_genUuid(),saveCookie(e,r,283824e7)),r},UUID={createUUID:function guid(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1).toUpperCase()}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getQtsid:function(){var e,t=/^\d{10}\.\d{10}\.\d{10}\.\d+$/,r=function(){return parseInt(new Date/1e3,10).toString()},r,e;return e=cookie.get("QC008"),cookie.get("QC010")&&e||(t.test(e)?((e=e.split("."))[1]=e[2],e[2]=r(),e[3]=parseInt(e[3],10)+1):e=[r=r(),r,r,"1"],e.join(".")),e},getJsuid:_getJsuid,getFluid:_getFluid,getWeid:function(){return _webEventId=_webEventId||(window.webEventID||md5(_getJsuid()+"weid"+ +new Date))},getEid:function(){var e="";return _veid||(e=_getJsuid(),_veid=md5(e+"veid"+ +new Date)),_veid},getIsNewUser:function(e){var e,t;return(e=void 0===e?!1:e)||_newUser===undefined&&(e="QP0030",1===parseInt(cookie.get(e),10)?_newUser=!1:(_newUser=!0,saveCookie(e,1,283824e7))),window.QiyiPlayerIsNewUser===undefined&&(window.QiyiPlayerIsNewUser=!1,_getJsuid()),window.QiyiPlayerIsNewUser},init:function(){try{window.addEventListener("unload",_removeWeid),window.addEventListener("beforeunload",_removeWeid),window.addEventListener("pagehide",_removeWeid)}catch(e){}}};function platform(){var e="",l={},c={},t=navigator,r=t.platform,a=t.userAgent.toLowerCase(),i=a.match(/rtrident/),n=!i&&a.match(/(ipad).*os\s([\d_]+)/),o=!i&&!n&&a.match(/(iphone\sos)\s([\d_]+)/),s=a.match(/Android\s+([\d.]+)/i),p=a.match(/(?:redmi|hm) ([\w ]+) build/i),d="",t="",_,f,t=navigator.connection&&navigator.connection.effectiveType?navigator.connection.effectiveType:(t=a.match(/NetType\/\w+/)?a.match(/NetType\/\w+/)[0]:"").toLowerCase().replace("nettype/","");c.userAgent=a,c.IE11=/rv\:11/.test(a),c.IE=/msie/.test(a)||c.IE11,c.IE6=/msie 6/.test(a),c.IE7=/msie 7/.test(a),c.IE8=/msie 8/.test(a),c.IE9=/msie 9/.test(a),c.IE10=/msie 10/.test(a),c.EDGE=/edge/.test(a),c.iPhone=/iphone os/.test(a)&&!i,c.iPhone4=/iphone os [45]_/.test(a)&&!i,c.iPad=/ipad/.test(a)&&!i,c.iPod=/iPod/i.test(a)&&!i,c.isTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,c.CHROMEIOS=/crios/.test(a),c.CHROME=/chrome/.test(a)&&!c.EDGE,c.SAFARI=/safari/.test(a)&&!/chrome/.test(a),c.FIREFOX=/firefox/.test(a),c.mobile=/mobile/gi.test(a),c.mobileSafari=c.iPhone||c.iPhone||c.iPad,c.QQ=/QQBrowser/gi.test(a),c.WECHAT=/(wechat)|(micromessenger)/gi.test(a),c.SmartTV=/SMART-TV/gi.test(a),c.CHROME&&(_=/chrome\/([\d\.]+) /gi.exec(a),c.version=_?parseInt(_[1],10):0),c.EDGE&&(f=/edge\/([\d\.]+)/gi.exec(a),c.version=f?parseInt(f[1],10):0),p&&(c.redmi=p);var _=/mac/i.test(r),f="X11"==r&&!_,p=/win/i.test(r)&&!f,r=/android/.test(a);l.unix=f,l.win=p,l.mac=_,l.android=r,l.androidMobile=r&&c.mobile,l.androidTablet=r&&(!c.mobile||/pad/i.test(a)),s&&(l.version=s[1]),l.ios=!1,o&&(l.ios=!0,l.version=o[2].replace(/_/g,".")),n&&(l.ios=!0,l.version=n[2].replace(/_/g,".")),c.iPod&&(l.ios=!0);var e=c.iPad?"b85da1cf3ae44351":"b6c13e26323c537d",u=function(e){var t="01";(c.iPhone||l.android)&&(t="02"),(c.iPad||l.androidTablet)&&(t="03");var r="01",a,i,n,o,s;return l.android&&(r="02"),l.mac&&(r="08"),t+(r=l.ios?"03":r)+"003"+"101"+"00"+(e?"10":"00")+"000000"},h=function(e){return d||u(e)},s=function(e){d=e},o=function(e){var t=1,r;switch(h(e).substr(0,4)){case"0108":t=276;break;case"0303":t=10;break;case"0302":t=11;break;case"0203":t=13;break;case"0202":t=12}return t},n=function(){var e="";return c.CHROME?e="CHROME":c.SAFARI?e="SAFARI":c.FIREFOX?e="FIREFOX":c.QQ?e="QQ":c.WECHAT?e="WECHAT":c.IE?e="IE":c.IE6?e="IE6":c.IE7?e="IE7":c.IE8?e="IE8":c.IE9?e="IE9":c.IE10?e="IE10":c.EDGE?e="EDGE":c.mobileSafari?e="mobileSafari":l.ios||l.ios?e="ios":l.androidMobile?e="androidMobile":l.androidTablet&&(e="androidTablet"),e},a=a.match(/miuivideo\//i)||l.android&&4<parseInt(l.version)&&a.match(/MiuiBrowser/i),a=c.iPad||c.iPhone||l.android&&4<parseFloat(l.version)||a?"m3u8":"mp4";return/__pmode__=m3u8/.test(window.location.href)?a="m3u8":/__pmode__=mp4/.test(window.location.href)&&(a="mp4"),{browser:c,os:l,code:e,getPtid:h,setPtid:s,getAgentType:o,browserName:n,network:t,playerMode:a}}var platform$1=platform(),protocol=window.location.protocol,opendataURL=protocol+"//msg.qy.net/v5/bi/opendata",PF_CODE_PCW="1",PF_CODE_MOBILE="2",P_CODE_PCW="10",P_CODE_MOBILE="20",P1_CODE_PCW="101",P1_CODE_PHW="201",P1_CODE_TBW="202",pf=PF_CODE_PCW,p=P_CODE_PCW,p1=P1_CODE_PCW;platform$1.browser.iPad?(pf=PF_CODE_MOBILE,p=P_CODE_MOBILE,p1=P1_CODE_TBW):(platform$1.os.ios||platform$1.os.android)&&(pf=PF_CODE_MOBILE,p=P_CODE_MOBILE,p1=P1_CODE_PHW);var p_code=pf+"_"+p+"_"+p1,os_type="";platform$1.os.ios||platform$1.os.mac?os_type=2:platform$1.os.android&&(os_type=1);var _send=function(e){var t;mixin(t={p1:p_code,flashuid:UUID.getFluid()||"",v:e.playerVersion,pkg:"",sid:UUID.getWeid(),sttime:"",os_t:os_type,os_v:navigator.platform||"",ua_model:"",brand:"",lang:navigator.language||navigator.browserLanguage,resolution:window.screen.width+"*"+window.screen.height,network:"",cell_id:"",gps_lon:"",gps_lat:"",ipv4:"",tvid:e.tvid||"",aid:e.albumId||"",cid:e.cid||"",pid:UUID.getEid(),duration:e.duration||"",rn:+new Date,rfr:window.document.referrer,url:window.location.href,br:platform$1.browser.userAgent,ce:UUID.getWeid(),c2:""},e,!0),http.beacon(t,opendataURL)},ThreePingback=(eh.prototype.sendStartPlayPingback=function(e){e.type=3,e.sttime=Math.round((new Date).getTime()/1e3),_send(e)},eh.prototype.sendEndPlayPingback=function(e){e.type=4,e.sttime=Math.round((new Date).getTime()/1e3),_send(e)},eh);function eh(){}var ThreePingback$1=new ThreePingback;function isSupported(){var e=!!window.Promise&&!!window.Uint8Array&&!!Array.prototype.forEach,t=window.MediaSource||window.WebKitMediaSource,r=window.URL,a=!1,i,n,a;return t&&"function"==typeof t.isTypeSupported&&(i=t.isTypeSupported('video/mp4;codecs="avc1.42E01E"'),a=t.isTypeSupported('audio/mp4;codecs="mp4a.40.2"')&&i),e&&!!r&&(!!a||platform$1.browser.EDGE)}var mseFlag=isSupported(),_userAgent=navigator.userAgent,chromeVersion=/chrome\/([\d\.]+) /gi.exec(_userAgent.toLowerCase()),chromeVersion=chromeVersion?parseInt(chromeVersion[1],10):0,firxfoxVersion=/firefox\/([\d\.]+)/gi.exec(_userAgent.toLowerCase()),firxfoxVersion=firxfoxVersion?parseInt(firxfoxVersion[1],10):0,safariVersion=/Version\/([\d\.]+)/gi.exec(_userAgent.toLowerCase()),_swf;function isSupportKernel(){var e=platform$1.browser.WECHAT,t=platform$1.browser.CHROME&&34<=chromeVersion&&!platform$1.browser.EDGE,r=platform$1.browser.SAFARI&&10<=safariVersion,a=platform$1.browser.FIREFOX&&42<=firxfoxVersion,i=platform$1.browser.EDGE,n=platform$1.browser.SmartTV,o;return mseFlag&&(e||t||r||a||i||n)}function isSupportHtml5(){return isSupportKernel()||platform$1.os.ios||platform$1.os.android}function getForcedType(){var e;return cookie.get("player_forcedType")||null}function getDefaultType(){var e=CON_TYPE.PlayerType_Html5VOD,t;return e="flash"==urlkit.query("__playertype__")?CON_TYPE.PlayerType_FlashVOD:e}function getPlayerType(e){var t;return isSupportHtml5()?getForcedType()||e||getDefaultType():CON_TYPE.PlayerType_FlashVOD}var safariVersion=safariVersion?parseFloat(safariVersion[1]):0,EmbedSwf=(zh.prototype.embed=function(e,t){var r=[];r.push("<object>");var a="",i=document.getElementById(e.parentId);a+='<style type="text/css">  div, span, a {margin: 0;padding: 0;}  a {text-decoration: none;}  a:link, a:visited, a:hover, a:active {text-decoration: none;}  .iqp-layer-upgrade {position: absolute;top: -1px;left: -1px;right: -1px;bottom: -1px;background-color: #000;z-index: 100;font-size: 14px;line-height: 32px;}  .iqp-layer-upgrade .iqp-layer-con {position: absolute; width: 100%;top: 50%;-webkit-transform: translateY(-50%);transform: translateY(-50%);text-align: center;}  .iqp-layer-upgrade .iqp-layer-main {line-height: 32px;font-size: 16px; color: #fff;}  .iqp-layer-upgrade .iqp-layer-minor {line-height: 30px;font-size: 14px; color: #fff;opacity: 0.5;}  .iqp-layer-upgrade .browser-item {box-sizing: border-box;display: inline-block;width: 160px;height: 40px;border: 1px solid #00CC4C;border-radius: 6px;margin-top: 16px; font-size: 0;}  .iqp-layer-upgrade .browser-item:hover { border-color: #33D66F; }  .iqp-layer-upgrade .browser-item:hover .browser-name {color: #33D66F;}  .iqp-layer-upgrade .browser-item:hover .browser-btn {background-color:#33D66F;}  .iqp-layer-upgrade .upgrade-icon {display: inline-block;vertical-align: middle;width: 24px;height: 24px;background-image: url(//www.iqiyipic.com/common/fix/player/upgradeTips-icon.png);background-repeat: no-repeat; margin-right: 8px;}  .iqp-layer-upgrade .upgrade-icon.browser-goole {background-position: 0 0;}  .iqp-layer-upgrade .upgrade-icon.browser-QQ {background-position: -25px 0;}  .iqp-layer-upgrade .upgrade-icon.browser-360 {background-position: -50px 0;}  .iqp-layer-upgrade .browser-name {display: inline-block;vertical-align: middle;line-height: 38px;font-size: 14px;color: #00CC4C;}  .iqp-layer-upgrade .browser-btn {float: right;width: 40px;height: 38px;background-color: #00CC4C;border-radius: 0 4px 4px 0;}  .iqp-layer-upgrade .browser-btn .upgrade-icon {display: inline-block;width: 20px;height: 20px;background-position: -75px 0;margin-right: 0;margin-top: 4px;}  @media screen and (min-width: 0) {.iqp-layer-upgrade .upgrade-icon { background-image: url(//www.iqiyipic.com/common/fix/player/upgradeTips-icon@2x.png);background-size: 100px 25px;}}</style><div class="iqp-layer-upgrade">   <div class="iqp-layer-con">       <div class="iqp-layer-main">å½“å‰æµè§ˆå™¨ä¸æ”¯æŒæ’­æ”¾ï¼Œå»ºè®®ä½¿ç”¨ä»¥ä¸‹æµè§ˆå™¨</div>       <div class="iqp-layer-minor">ä¸‹åˆ—è½¯ä»¶å‡å·²é€šè¿‡å®‰å…¨éªŒè¯ï¼Œæ‚¨å¯æ”¾å¿ƒå®‰è£…</div>       <div class="iqp-layer-browser">           <div class="browser-wrap">               <a href="//www.google.cn/intl/zh-CN/chrome/" class="browser-item">                   <span class="upgrade-icon browser-goole"></span>                   <span class="browser-name">è°·æ­Œæµè§ˆå™¨</span>                   <span class="browser-btn">                       <i class="upgrade-icon"></i>                   </span>               </a>           </div>           <div class="browser-wrap">               <a href="//browser.qq.com/" class="browser-item">                   <span class="upgrade-icon browser-QQ"></span>                   <span class="browser-name">QQæµè§ˆå™¨</span>                   <span class="browser-btn">                       <i class="upgrade-icon"></i>                   </span>               </a>           </div>           <div class="browser-wrap">               <a href="//browser.360.cn/ee/" class="browser-item">                   <span class="upgrade-icon browser-360"></span>                   <span class="browser-name">360æµè§ˆå™¨</span>                   <span class="browser-btn">                       <i class="upgrade-icon"></i>                   </span>               </a>           </div>       </div>   </div></div>',r.push(a),r.push("</object>");var r=r.join(""),n=document.createElement("div");n.innerHTML=r;try{i.appendChild(n.firstChild),(_swf=document.getElementById(e.origin)).loadSuccess=!1}catch(o){}return n=null,_swf},zh.prototype.addEvent=function(e,t,r){window.attachEvent?e.attachEvent("on"+t,r):window.addEventListener&&e.addEventListener(t,r)},zh);function zh(){}var cbcache={},genCacheKey=function(e){return e},VideoInfo={get:function(e,n){var t=e.tvid,r=e.locale,e=genCacheKey(t),t,t;cbcache[e]=cbcache[e]||[],cbcache[e].push(n),t&&n&&(t="//pcw-api.iqiyi.com/video/video/playervideoinfo?tvid="+t,t=r?t+"&locale="+r:t,http.jsonp({url:t,memory:!0,success:function(e){"A00000"===e.code&&e.data||n({}),e=e.data;var t=genCacheKey(e.tvid),r=genCacheKey(e.videoQipuId),a=[];cbcache[t]?(a=(cbcache[t]||[]).slice(0),delete cbcache[t]):cbcache[r]&&(a=(cbcache[r]||[]).slice(0),delete cbcache[r]);for(var i=0;i<a.length;i++)a[i]&&function(e,t){setTimeout(function(){e({tvid:t.videoQipuId,vid:t.vid,albumId:t.albumId,cid:t.cid,vi:t,sid:t.sid,cType:t.cType})},0)}(a[i],e);a=null},failure:function(e){n(e||{})}}))},isUGC:function(e){return!!((e+="")&&2<e.length&&"9"==e.charAt(e.length-1)&&"0"==e.charAt(e.length-2)&&0<(e=parseInt(e,10))&&9e7<e)}},xml2json=function(d){var e="1.2.0";function t(){d.escapeMode===undefined&&(d.escapeMode=!0),d.attributePrefix=d.attributePrefix||"_",d.arrayAccessForm=d.arrayAccessForm||"none",d.emptyNodeForm=d.emptyNodeForm||"text",d.enableToStringFunc===undefined&&(d.enableToStringFunc=!0),d.arrayAccessFormPaths=d.arrayAccessFormPaths||[],d.skipEmptyTextNodesForObj===undefined&&(d.skipEmptyTextNodesForObj=!0),d.stripWhitespaces===undefined&&(d.stripWhitespaces=!0),d.datetimeAccessFormPaths=d.datetimeAccessFormPaths||[],d.useDoubleQuotes===undefined&&(d.useDoubleQuotes=!1),d.xmlElementsFilter=d.xmlElementsFilter||[],d.jsonPropertiesFilter=d.jsonPropertiesFilter||[],d.keepCData===undefined&&(d.keepCData=!1)}d=d||{},t();var _={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function f(e){var t=e.localName;return t=null==(t=null==t?e.baseName:t)||""==t?e.nodeName:t}function u(e){return e.prefix}function l(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function i(e,t,r,a){for(var i=0;i<e.length;i++){var n=e[i];if("string"==typeof n){if(n==a)break}else if(n instanceof RegExp){if(n.test(a))break}else if("function"==typeof n&&n(t,r,a))break}return i!=e.length}function h(e,t,r){"property"===d.arrayAccessForm&&(e[t]instanceof Array?e[t+"_asArray"]=e[t]:e[t+"_asArray"]=[e[t]]),!(e[t]instanceof Array)&&0<d.arrayAccessFormPaths.length&&i(d.arrayAccessFormPaths,e,t,r)&&(e[t]=[e[t]])}function a(e){var t=e.split(/[-T:+Z]/g),r=new Date(t[0],t[1]-1,t[2]),a=t[5].split("."),t,i,t;return r.setHours(t[3],t[4],a[0]),1<a.length&&r.setMilliseconds(a[1]),t[6]&&t[7]?(t=60*t[6]+Number(t[7]),t=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*t:t),r.setMinutes(r.getMinutes()-t-r.getTimezoneOffset())):-1!==e.indexOf("Z",e.length-1)&&(r=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()))),r}function y(e,t,r){if(0<d.datetimeAccessFormPaths.length){var r=r.split(".#")[0];return i(d.datetimeAccessFormPaths,e,t,r)?a(e):e}return e}function E(e,t,r,a){return!(t==_.ELEMENT_NODE&&0<d.xmlElementsFilter.length)||i(d.xmlElementsFilter,e,r,a)}function m(e,t){var r,a,i,n,o,s,l,c;if(e.nodeType==_.DOCUMENT_NODE){for(c=new Object,l=e.childNodes,s=0;s<l.length;s++)(r=l.item(s)).nodeType==_.ELEMENT_NODE&&(c[a=f(r)]=m(r,a));return c}if(e.nodeType==_.ELEMENT_NODE){for((c=new Object).__cnt=0,l=e.childNodes,s=0;s<l.length;s++)a=f(r=l.item(s)),r.nodeType!=_.COMMENT_NODE&&(i=t+"."+a,E(c,r.nodeType,a,i)&&(c.__cnt++,null==c[a]?(c[a]=m(r,i),h(c,a,i)):(null!=c[a]&&(c[a]instanceof Array||(c[a]=[c[a]],h(c,a,i))),c[a][c[a].length]=m(r,i))));for(o=0;o<e.attributes.length;o++)n=e.attributes.item(o),c.__cnt++,c[d.attributePrefix+n.name]=n.value;var p=u(e);return null!=p&&""!=p&&(c.__cnt++,c.__prefix=p),null!=c["#text"]&&(c.__text=c["#text"],c.__text instanceof Array&&(c.__text=c.__text.join("\n")),d.stripWhitespaces&&(c.__text=c.__text.trim()),delete c["#text"],"property"==d.arrayAccessForm&&delete c["#text_asArray"],c.__text=y(c.__text,a,t+"."+a)),null!=c["#cdata-section"]&&(c.__cdata=c["#cdata-section"],delete c["#cdata-section"],"property"==d.arrayAccessForm&&delete c["#cdata-section_asArray"]),0==c.__cnt&&"text"==d.emptyNodeForm?c="":1==c.__cnt&&null!=c.__text?c=c.__text:1!=c.__cnt||null==c.__cdata||d.keepCData?1<c.__cnt&&null!=c.__text&&d.skipEmptyTextNodesForObj&&(d.stripWhitespaces&&""==c.__text||""==c.__text.trim())&&delete c.__text:c=c.__cdata,delete c.__cnt,!d.enableToStringFunc||null==c.__text&&null==c.__cdata||(c.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),c}if(e.nodeType==_.TEXT_NODE||e.nodeType==_.CDATA_SECTION_NODE)return e.nodeValue}function c(e,t,r,a){var i="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=r)for(var n=0;n<r.length;n++){var o=r[n],s=e[o];d.escapeMode&&(s=l(s)),i+=" "+o.substr(d.attributePrefix.length)+"=",d.useDoubleQuotes?i+='"'+s+'"':i+="'"+s+"'"}return i+=a?"/>":">"}function p(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function r(e,t){return-1!==e.indexOf(t,e.length-t.length)}function P(e,t){return!!("property"==d.arrayAccessForm&&r(t.toString(),"_asArray")||0==t.toString().indexOf(d.attributePrefix)||0==t.toString().indexOf("__")||e[t]instanceof Function)}function g(e){var t=0;if(e instanceof Object)for(var r in e)P(e,r)||t++;return t}function A(e,t,r){return 0==d.jsonPropertiesFilter.length||""==r||i(d.jsonPropertiesFilter,e,t,r)}function L(e){var t=[];if(e instanceof Object)for(var r in e)-1==r.toString().indexOf("__")&&0==r.toString().indexOf(d.attributePrefix)&&t.push(r);return t}function n(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(d.escapeMode?t+=l(e.__text):t+=e.__text),t}function T(e){var t="";return e instanceof Object?t+=n(e):null!=e&&(d.escapeMode?t+=l(e):t+=e),t}function O(e,t){return""===e?t:e+"."+t}function C(e,t,r,a){var i="";if(0==e.length)i+=c(e,t,r,!0);else for(var n=0;n<e.length;n++)i+=c(e[n],t,L(e[n]),!1),i+=Y(e[n],O(a,t)),i+=p(e[n],t);return i}function Y(e,t){var r="",a,i,n,o;if(0<g(e))for(var s in e){P(e,s)||""!=t&&!A(e,s,O(t,s))||(n=L(i=e[s]),null==i||i==undefined?r+=c(i,s,n,!0):i instanceof Object?i instanceof Array?r+=C(i,s,n,t):i instanceof Date?(r+=c(i,s,n,!1),r+=i.toISOString(),r+=p(i,s)):0<g(i)||null!=i.__text||null!=i.__cdata?(r+=c(i,s,n,!1),r+=Y(i,O(t,s)),r+=p(i,s)):r+=c(i,s,n,!0):(r+=c(i,s,n,!1),r+=T(i),r+=p(i,s)))}return r+=T(e)}this.parseXmlString=function(e){var t=window.ActiveXObject||"ActiveXObject"in window,r;if(e===undefined)return null;if(window.DOMParser){var a=new window.DOMParser,i=null;if(!t)try{i=a.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(err){i=null}try{r=a.parseFromString(e,"text/xml"),null!=i&&0<r.getElementsByTagNameNS(i,"parsererror").length&&(r=null)}catch(err){r=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(r=new ActiveXObject("Microsoft.XMLDOM")).async="false",r.loadXML(e);return r},this.asArray=function(e){return e===undefined||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?a(e):e},this.xml2json=function(e){return m(e)},this.xml_str2json=function(e){var e=this.parseXmlString(e);return null!=e?this.xml2json(e):null},this.json2xml_str=function(e){return Y(e,"")},this.json2xml=function(e){var e=this.json2xml_str(e);return this.parseXmlString(e)},this.getVersion=function(){return e}},logger=new PlayerLogger("FlashAdapter"),FlashAdapter=function(_super){function FlashAdapter(param,isSupportHtml5,manager){var _this_1=_super.call(this)||this;_this_1._player=_this_1,_this_1.__canRecordEvents=!0,_this_1.eventsRecorder={},_this_1.__evtRecorderTimer=setTimeout(function(){_this_1.stopRecordEvents()},3e5),_this_1.isSmallWindow=null,_this_1._videoid=param.vid,_this_1._tvid=param.tvid,_this_1.local=param.local||"cn_s",_this_1._isFirstWriteLog=!0;var _this=_this_1;return _this_1._embedSwf=new EmbedSwf,_this_1._swf=_this_1._embedSwf.embed(param,isSupportHtml5),_this_1._playerId=param.parentId||"",_this_1._param=param,_this_1._prevCalls=[],_this_1._firstTime=!0,_this_1.LOGGER_KEY="QiyiPlayerLogger",_this_1._swf&&(_this_1._swf.fire=function(data){try{var ev_1=window.JSON?window.JSON.parse(data):eval("("+data+")");if(ev_1.data.origin&&ev_1.data.origin!=_this._swf.id)return;setTimeout(function(){try{_this.handleEvent(ev_1.type,ev_1.data)}catch(e){}},0)}catch(e){return}},_this_1.destroy=function(){_this_1._swf.parentNode.removeChild(_this_1._swf),_this_1._swf=null,_this_1._embedSwf=null,delete manager.players[_this_1._playerId],_this_1.fire({type:"destroy"}),_this_1.removeAllListeners()}),_this_1._embedSwf.addEvent(window,"beforeunload",function(){_this_1._flashcall("stopHeartBeat")}),_this_1}return __extends(FlashAdapter,_super),FlashAdapter.prototype.callSwf=function(e){var t=this._swf,r=e.functionName,a=e.parameter,e=e.callback||function(){};t&&r&&t[r]&&(a===undefined?e(t[r]()):"[object Object]"==Object.prototype.toString.apply(a)||"[object Array]"==Object.prototype.toString.apply(a)?e(t[r](JSON.stringify(a))):e(t[r](a)))},FlashAdapter.prototype.handleEvent=function(e,r){var a=this,t,i,i;r=r||{},e==CON_TYPE.QYPLAYER_STATE_CHANGE?(t=r.state||"",r.vid!=a._videoid&&(a._videoid=r.vid,a._tvid=r.tvid,t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_LOAD_MOVIE&&a.getVideoInfo(function(e){a.fire({type:CON_TYPE.QYPLAYER_VIDEO_CHANGE,data:e})}),a.getPlayInfo(function(e){var t={};t.prePlayingDuration=e.prePlayingDuration,t.preTvid=e.preTvid,t.curPlayingDuration=e.curPlayingDuration,t.playerVersion=e.playerVersion,mixin(r,t),a.fire({type:CON_TYPE.QYPLAYER_VID_CHANGE,data:r})})),t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_DATA_READY&&a.getVideoInfo(function(e){a.fire({type:CON_TYPE.QYPLAYER_STATUS_DATA_READY,data:e})}),t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_END_PLAY&&a.getPlayInfo(function(e){var t={};t.prePlayingDuration=e.prePlayingDuration,t.preTvid=e.preTvid,t.curPlayingDuration=e.curPlayingDuration,t.playerVersion=e.playerVersion,mixin(r,t)}),t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_START_PLAY&&a.getPlayInfo(function(e){a._timeMark=e.totaleDuration,mixin(r,e)}),t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_SEEKING&&a.fire({type:CON_TYPE.QYPLAYER_STATUS_SEEKING,data:{actionType:"controls",current:r.current,duration:r.duration}}),r.state&&(r.state=t.toLocaleLowerCase()),a.fire({type:CON_TYPE.QYPLAYER_STATE_CHANGE,data:r})):e==CON_TYPE.QYPLAYER_NEXT_VIDEO?a.fire({type:CON_TYPE.QYPLAYER_NEXT_VIDEO}):e==CON_TYPE.QYPLAYER_SWITCH_PLAYER?(cookie.set("QP004",0,{expires:288e5,path:"/",domain:"iqiyi.com"}),window.location.reload()):e==CON_TYPE.QYPLAYER_LOAD_COMPLETE?a.fire({type:CON_TYPE.QYPLAYER_LOAD_COMPLETE,data:r}):e==CON_TYPE.QYPLAYER_SET_LIGHT?(i="false"==r.open,a.fire({type:CON_TYPE.QYPLAYER_SET_LIGHT,data:i})):e==CON_TYPE.QYPLAYER_MOVETO_QITAN?a.fire({type:CON_TYPE.QYPLAYER_MOVETO_QITAN}):e==CON_TYPE.QYPLAYER_LOAD_SUCCESS?(r.playerId=this._param.parentId,a.fire({type:CON_TYPE.QYPLAYER_LOAD_SUCCESS,data:r})):e==CON_TYPE.QYPLAYER_SHOW_LOGIN_PANEL?a.fire({type:CON_TYPE.QYPLAYER_SHOW_LOGIN_PANEL,data:r}):e==CON_TYPE.QYPLAYER_EXPAND?a.fire({type:CON_TYPE.QYPLAYER_EXPAND,data:r}):e==CON_TYPE.QYPLAYER_AUTHENTICATION_RESULE?a.fire({type:CON_TYPE.QYPLAYER_AUTHENTICATION_RESULE,data:{isTryWatch:"true"==r.isTryWatch,tvid:r.tvid}}):e==CON_TYPE.QYPLAYER_RECHARGE?a.fire({type:CON_TYPE.QYPLAYER_RECHARGE,data:r}):e==CON_TYPE.QYPLAYER_BuyPlay?a.fire({type:CON_TYPE.QYPLAYER_BuyPlay,data:r}):e==CON_TYPE.QYPLAYER_REFRESH_PAGE?a.fire({type:CON_TYPE.QYPLAYER_REFRESH_PAGE}):e==CON_TYPE.QYPLAYER_DOWNLOAD?a.fire({type:CON_TYPE.QYPLAYER_DOWNLOAD,data:r}):e==CON_TYPE.QYPLAYER_REQUEST_VIDEOLIST?a.fire({type:CON_TYPE.QYPLAYER_REQUEST_VIDEOLIST,data:r}):e==CON_TYPE.QYPLAYER_SWITCH_FULL_SCREEN?a.fire({type:CON_TYPE.QYPLAYER_SWITCH_FULL_SCREEN,data:r.value}):e==CON_TYPE.QYPLAYER_ADD_TO_TABLE||e==CON_TYPE.QYPLAYER_ADD_TO_TABLE?a.fire({type:CON_TYPE.QYPLAYER_ADD_TO_TABLE}):e==CON_TYPE.QYPLAYER_FOCUS_TIPS?a.fire({type:CON_TYPE.QYPLAYER_FOCUS_TIPS,data:r}):e==CON_TYPE.QYPLAYER_FOCUS_UPLOADER?a.fire({type:CON_TYPE.QYPLAYER_FOCUS_UPLOADER,data:r}):e==CON_TYPE.QYPLAYER_FIND_GOODS?a.fire({type:CON_TYPE.QYPLAYER_FIND_GOODS,data:r}):e==CON_TYPE.QYPLAYER_BARRAGE_REPLAY?a.fire({type:CON_TYPE.QYPLAYER_BARRAGE_REPLAY,data:r}):e==CON_TYPE.QYPLAYER_BARRAGE_RECEIVE_DATA?a.fire({type:CON_TYPE.QYPLAYER_BARRAGE_RECEIVE_DATA,data:r}):e==CON_TYPE.QYPLAYER_SET_BARRAGE_INTERACT_INFO?a.fire({type:CON_TYPE.QYPLAYER_SET_BARRAGE_INTERACT_INFO,data:r}):e==CON_TYPE.QYPLAYER_SET_BARRAGE_CONFIG_INFO?a.fire({type:CON_TYPE.QYPLAYER_SET_BARRAGE_CONFIG_INFO,data:r}):e==CON_TYPE.QYPLAYER_SET_BARRAGE_CHANNEL_CONFIG_INFO?a.fire({type:CON_TYPE.QYPLAYER_SET_BARRAGE_CHANNEL_CONFIG_INFO,data:r}):e==CON_TYPE.QYPLAYER_NOTIFY_GIFT_INFO?a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_GIFT_INFO,data:{data:decodeURIComponent(r.data||"")}}):e==CON_TYPE.QYPLAYER_NOTIFY_BARRAGE_DATA?(i={},r&&r.data&&(i=(new xml2json).xml_str2json(decodeURIComponent(r.data))),a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_BARRAGE_DATA,data:{data:i.danmu}})):e==CON_TYPE.QYPLAYER_SHOW_DOWNLOAD_APPPOP?a.fire({type:CON_TYPE.QYPLAYER_SHOW_DOWNLOAD_APPPOP,data:r}):e==CON_TYPE.QYPLAYER_NOTIFY_SCORECHANGE?a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_SCORECHANGE}):e==CON_TYPE.QYPLAYER_CHECK_CLIENT_INSTALL?a.fire({type:CON_TYPE.QYPLAYER_CHECK_CLIENT_INSTALL,data:r}):e==CON_TYPE.QYPLAYER_REQUEST_SEND_PINGBACK?a.fire({type:CON_TYPE.QYPLAYER_REQUEST_SEND_PINGBACK,data:r}):e==CON_TYPE.QYPLAYER_DOSOMETHING?a.fire({type:CON_TYPE.QYPLAYER_DOSOMETHING,data:r}):e==CON_TYPE.QYPLAYER_FOLLOW_UPNEXT_LOAD?a.fire({type:CON_TYPE.QYPLAYER_FOLLOW_UPNEXT_LOAD,data:r}):e==CON_TYPE.QYPLAYER_USER_CLICK_SCORE?a.fire({type:CON_TYPE.QYPLAYER_USER_CLICK_SCORE,data:r}):e==CON_TYPE.QYPLAYER_BARRAGE_STATE_CHANGE?a.fire({type:CON_TYPE.QYPLAYER_BARRAGE_STATE_CHANGE,data:r}):e==CON_TYPE.QYPLAYER_REQUEST_REWARD?a.fire({type:CON_TYPE.QYPLAYER_REQUEST_REWARD,data:r}):e==CON_TYPE.QYPLAYER_COMMENT_ALLOWED?a.fire({type:CON_TYPE.QYPLAYER_COMMENT_ALLOWED,data:r}):e==CON_TYPE.QYPLAYER_NOTIFY_WRITE_FLASH_LOG?a._isFirstWriteLog?(storage$1.write(a.LOGGER_KEY,r.logStr.join("\n")),a._isFirstWriteLog=!1):storage$1.write(a.LOGGER_KEY,storage$1.read(a.LOGGER_KEY)+"\n"+r.logStr.join("\n")):e==CON_TYPE.QYPLAYER_NOTIFY_AD_START?a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_AD_START,data:r}):e==CON_TYPE.QYPLAYER_NOTIFY_AD_END?a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_AD_END,data:r}):e==CON_TYPE.QYPLAYER_NOTIFY_TIMEUPDATE?a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_TIMEUPDATE,data:r}):e==CON_TYPE.QYPLAYER_NOTIFY_AD_NOTIFY_INFO?a.fire({type:r.data.type,data:r.data.data}):e==CON_TYPE.QYPLAYER_NOTIFY_FEEDBACK_SHOW?a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_FEEDBACK_SHOW,data:r}):e==CON_TYPE.QYPLAYER_NOTIFY_FEEDBACK_HIDE?a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_FEEDBACK_HIDE,data:r}):e==CON_TYPE.QYPLAYER_NOTIFY_USER_SEEK?a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_USER_SEEK}):e==CON_TYPE.QYPLAYER_BARRAGE_RECEIVE_DATA&&a.fire({type:CON_TYPE.QYPLAYER_BARRAGE_RECEIVE_DATA,data:r})},FlashAdapter.prototype.fire=function(e){var t=e.type,r=e.data,e={type:t};r!==undefined&&(e.data=r),this.emit(t,e),this.__canRecordEvents&&(this.eventsRecorder[t]||(this.eventsRecorder[t]=[]),"playerStateChange"===t?this.eventsRecorder[t].push(e):this.eventsRecorder[t]=[e])},FlashAdapter.prototype.un=function(e,t){return this.off(e,t),this},FlashAdapter.prototype._flashcall=function(e,t,r){var t={callback:r,functionName:e,parameter:t};this.callSwf(t)},FlashAdapter.prototype.load=function(e){this._flashcall("loadQiyiVideo",e)},FlashAdapter.prototype.stopRecordEvents=function(){var e=this;e.__canRecordEvents=!1,clearTimeout(e.__evtRecorderTimer),setTimeout(function(){e.eventsRecorder={}},1e4)},FlashAdapter.prototype.play=function(){this._flashcall("playQiyiVideo")},FlashAdapter.prototype.resume=function(){this._flashcall("resumeQiyiVideo")},FlashAdapter.prototype.replay=function(){this._flashcall("replayQiyiVideo")},FlashAdapter.prototype.pause=function(){this._flashcall("pauseQiyiVideo")},FlashAdapter.prototype.seek=function(e){this._flashcall("seekQiyiVideo",e)},FlashAdapter.prototype.stop=function(){this._flashcall("stopQiyiVideo")},FlashAdapter.prototype.getPlayInfo=function(t){this._flashcall("getQiyiPlayerInfo",undefined,function(e){var e=e||"",e=e?JSON.parse(e.replace(/\r/g,"").replace(/\n/g,"")):"";e&&(e.currentTime=e.currentTime?e.currentTime/1e3:0,t(e))})},FlashAdapter.prototype.getVideoInfo=function(e){var t,t="tw_t"===(t=this.locale)||"cn_t"===t?"zh_tw":"";VideoInfo.get({tvid:this._tvid,vid:this._videoid,locale:t},e)},FlashAdapter.prototype.getPlayerId=function(){return this._playerId},FlashAdapter.prototype.setQiyiUserLogin=function(e){this._flashcall("setQiyiUserLogin",e)},FlashAdapter.prototype.switchVideo=function(e){this._flashcall("switchVideo",e)},FlashAdapter.prototype.switchNextVideo=function(){this._flashcall("switchNextVideo")},FlashAdapter.prototype.switchPreVideo=function(){this._flashcall("switchNextVideo")},FlashAdapter.prototype.addVideoList=function(e){this._flashcall("addVideoList",e)},FlashAdapter.prototype.removeVideoList=function(e){this._flashcall("removeVideoList",e)},FlashAdapter.prototype.setSmallWindowMode=function(e){this.isSmallWindow!==e&&(this.isSmallWindow=e,this._flashcall("setSmallWindowMode",e))},FlashAdapter.prototype.jsNotifyAdManager=function(e){this._flashcall("jsNotifyAdManager",e)},FlashAdapter.prototype.getQiyiPlayerLog=function(e){this._flashcall("getQiyiPlayerLog",undefined,e)},FlashAdapter.prototype.clearBanWord=function(){this._flashcall("clearBanWord")},FlashAdapter.prototype.addBanWord=function(e){e!==undefined&&""!==e&&this._flashcall("addBanWord",e)},FlashAdapter.prototype.removeBanWord=function(e){e&&this._flashcall("removeBanWord",e)},FlashAdapter.prototype.requestBarrageData=function(e){this._flashcall("requestBarrageData")},FlashAdapter.prototype.notyfyADInfo=function(e){this._flashcall("notyfyADInfo",e)},FlashAdapter.prototype.getIsInMainVideo=function(e){this._flashcall("getIsInMainVideo",undefined,e)},FlashAdapter.prototype.setCyclePlay=function(e){this._flashcall("setCyclePlay")},FlashAdapter.prototype.getQiyiPlayerInfo=function(e){this.getPlayInfo(e)},FlashAdapter.prototype.getQiyiVideoInfo=function(e){this._flashcall("getQiyiVideoInfo",undefined,e)},FlashAdapter.prototype.setLight=function(e){this._flashcall("setLight",e)},FlashAdapter.prototype.expand=function(e){this._flashcall("expand",e)},FlashAdapter.prototype.setBarrageStatus=function(e){this._flashcall("setBarrageStatus",e)},FlashAdapter.prototype.setSelfSendBarrageInfo=function(e){this._flashcall("setSelfSendBarrageInfo",e)},FlashAdapter.prototype.setBarrageSetting=function(e){this._flashcall("setBarrageSetting",e)},FlashAdapter.prototype.setActivityNoticeInfo=function(e){this._flashcall("setActivityNoticeInfo",e)},FlashAdapter.prototype.zoomQiyiVideo=function(e){this._flashcall("zoomQiyiVideo",e)},FlashAdapter.prototype.setTimeListener=function(e){this._flashcall("setTimeListener",e)},FlashAdapter.prototype.getHasBarrageConfigInfo=function(){this._flashcall("getHasBarrageConfigInfo")},FlashAdapter.prototype.getHasBarrageChannelConfigInfo=function(){this._flashcall("getHasBarrageChannelConfigInfo")},FlashAdapter.prototype.getHasBarrageGiftInfo=function(){this._flashcall("getHasBarrageGiftInfo")},FlashAdapter.prototype.getCommentConfigInfo=function(){this._flashcall("getCommentConfigInfo")},FlashAdapter.prototype.setContinuePlayState=function(e){this._flashcall("setContinuePlayState",e)},FlashAdapter.prototype.getSwitchVideoType=function(e){this._flashcall("getSwitchVideoType",undefined,e)},FlashAdapter.prototype.forceToSaveCurVideoInfo=function(e){this._flashcall("forceToSaveCurVideoInfo",e)},FlashAdapter.prototype.getContinueData=function(e){this._flashcall("getContinueData",e)},FlashAdapter.prototype.setQiyiVisits=function(e){this._flashcall("setQiyiVisits",e)},FlashAdapter.prototype.initQiyiVideo=function(e){this._flashcall("initQiyiVideo",e)},FlashAdapter.prototype.getQiyiPlayerType=function(e){var t="flash";return e&&"function"==typeof e&&e(t),t},FlashAdapter.prototype.setPlayerFullScreen=function(e){e&&this._flashcall("setPlayerFullScreen",e)},FlashAdapter.prototype.exitPicInPic=function(){},FlashAdapter.prototype.setQiyiSubscribe=function(){},FlashAdapter.prototype.setSubscribeInfo=function(){},FlashAdapter.prototype.setSubscribeStateChange=function(){},FlashAdapter.prototype.setPlayerWebFullScreen=function(){},FlashAdapter.prototype.setRightBarStatus=function(){},FlashAdapter.prototype.setExpandScreenStatus=function(){},FlashAdapter.prototype.showToast=function(){},FlashAdapter.prototype.refresh=function(){},FlashAdapter.prototype.backToStoryLine=function(){},FlashAdapter.prototype.backToIVMain=function(){},FlashAdapter}(Dispatcher),logger$1=new PlayerLogger("H5Adapter"),H5Adapter=(Bl=Dispatcher,__extends(Cl,Bl),Cl.prototype.fire=function(e){var t=e.type,r=e.data,e={type:t};r!==undefined&&(e.data=r),this.emit(t,e),this.__canRecordEvents&&(this.eventsRecorder[t]||(this.eventsRecorder[t]=[]),"playerStateChange"===t?this.eventsRecorder[t].push(e):this.eventsRecorder[t]=[e])},Cl.prototype.un=function(e,t){return this.off(e,t),this},Cl.prototype.loadSkin=function(e){var t=window.QiyiPlayerLoader;t&&t.loadSkin(e)},Cl.prototype.checkPack=function(e,t,r){var a=this;if(!this.disabled){var i=function(){if(r)r();else{if(a["package"][e])return a["package"][e](t);logger$1.info("checkPack error, method = "+e)}};if(this["package"])return i();this.once("createPack",i)}},Cl.prototype.addView=function(e){this.hasview||(this.hasview=!0,this.checkPack("addView",e))},Cl.prototype.load=function(e){this.checkPack("load",e)},Cl.prototype.stopRecordEvents=function(){var e=this;e.__canRecordEvents=!1,clearTimeout(e.__evtRecorderTimer),setTimeout(function(){e.eventsRecorder={}},1e4)},Cl.prototype.play=function(e){void 0===e&&(e={withUserGesture:!1}),this.checkPack("play",e)},Cl.prototype.resume=function(){this.checkPack("resume")},Cl.prototype.replay=function(){this.checkPack("replay")},Cl.prototype.pause=function(){this.checkPack("pause")},Cl.prototype.seek=function(e){this.checkPack("seek",e)},Cl.prototype.seekN=function(e){this.checkPack("seekN",e)},Cl.prototype.setPlayPingbackInfo=function(e){this.checkPack("setPlayPingbackInfo",e)},Cl.prototype.stop=function(){this.checkPack("stop")},Cl.prototype.isPaused=function(){return this.checkPack("isPaused")},Cl.prototype.getPlayInfo=function(e){this.checkPack("getPlayInfo",e)},Cl.prototype.getVideoInfo=function(e){this.checkPack("getVideoInfo",e)},Cl.prototype.getPlayerId=function(){return this._playerId},Cl.prototype.getMuted=function(){return this.checkPack("getMuted")},Cl.prototype.setMuted=function(e){this.checkPack("setMuted",e)},Cl.prototype.setQiyiUserLogin=function(e){this.checkPack("setQiyiUserLogin",e)},Cl.prototype.switchVideo=function(e){this.checkPack("switchVideo",e)},Cl.prototype.switchNextVideo=function(){this.checkPack("switchNextVideo")},Cl.prototype.switchPreVideo=function(){this.checkPack("switchPreVideo")},Cl.prototype.addVideoList=function(e){this.checkPack("addVideoList",e)},Cl.prototype.removeVideoList=function(e){this.checkPack("removeVideoList",e)},Cl.prototype.setSmallWindowMode=function(e){var t=this;this.isSmallWindow!==e&&(logger$1.info("js call func,params: type = setSmallWindowMode(è®¾ç½®å°çª—,1ä¸ºå°çª—), data = "+e),this.isSmallWindow=e,this.checkPack("setSmallWindowMode",null,function(){t["package"].setSmallWindowMode&&t["package"].setSmallWindowMode(e)}))},Cl.prototype.jsNotifyAdManager=function(e){this.checkPack("jsNotifyAdManager",e)},Cl.prototype.getQiyiPlayerLog=function(e){try{e(PlayerLogger.getLog())}catch(t){}},Cl.prototype.clearBanWord=function(){this.checkPack("clearBanWord")},Cl.prototype.addBanWord=function(e){e!==undefined&&""!==e&&this.checkPack("addBanWord",e)},Cl.prototype.removeBanWord=function(e){this.checkPack("removeBanWord",e)},Cl.prototype.requestBarrageData=function(){},Cl.prototype.notyfyADInfo=function(e){this.checkPack("notyfyADInfo",e)},Cl.prototype.getQiyiPlayerInfo=function(e){this.checkPack("getQiyiPlayerInfo",e)},Cl.prototype.getQiyiPlayerType=function(e){var t="h5";return e&&"function"==typeof e&&e(t),t},Cl.prototype.setDelayPlayInfo=function(e){this.checkPack("setDelayPlayInfo",e)},Cl.prototype.clearDelayPlayInfo=function(e){this.checkPack("clearDelayPlayInfo",e)},Cl.prototype.setBarrageStatus=function(){},Cl.prototype.setSelfSendBarrageInfo=function(){},Cl.prototype.setBarrageSetting=function(){},Cl.prototype.setPlayerWebFullScreen=function(e){this.checkPack("setPlayerWebFullScreen",e)},Cl.prototype.setPlayerFullScreen=function(e){this.checkPack("setPlayerFullScreen",e)},Cl.prototype.getHasBarrageChannelConfigInfo=function(){},Cl.prototype.getHasBarrageConfigInfo=function(){},Cl.prototype.getHasBarrageGiftInfo=function(){},Cl.prototype.addPlayListView=function(e){this.checkPack("addPlayListView",e)},Cl.prototype.getSwitchVideoType=function(){return this.checkPack("getSwitchVideoType")},Cl.prototype.setRightBarStatus=function(e){this.checkPack("setRightBarStatus",e)},Cl.prototype.setExpandScreenStatus=function(e){this.checkPack("setExpandScreenStatus",e)},Cl.prototype.exitPicInPic=function(){this.checkPack("exitPicInPic")},Cl.prototype.showToast=function(e){this.checkPack("showToast",e)},Cl.prototype.refresh=function(e){this.checkPack("refresh",e)},Cl.prototype.backToStoryLine=function(e){this.checkPack("backToStoryLine",e)},Cl.prototype.backToIVMain=function(e){this.checkPack("backToIVMain",e)},Cl.prototype.setFollowData=function(e){this.checkPack("setFollowData",e)},Cl.prototype.changeFollowState=function(e){this.checkPack("changeFollowState",e)},Cl.prototype.changeAIBaikeState=function(e){this.checkPack("changeAIBaikeState",e)},Cl.prototype.setBarrageState=function(e){this.checkPack("setBarrageState",e)},Cl.prototype.getFeedbackInfo=function(){this.checkPack("getFeedbackInfo")},Cl.prototype.getIsInMainVideo=function(){},Cl.prototype.setCyclePlay=function(){},Cl.prototype.getQiyiVideoInfo=function(){},Cl.prototype.setQiyiSubscribe=function(){},Cl.prototype.setLight=function(){},Cl.prototype.expand=function(){},Cl.prototype.setActivityNoticeInfo=function(){},Cl.prototype.zoomQiyiVideo=function(){},Cl.prototype.setTimeListener=function(){},Cl.prototype.getCommentConfigInfo=function(){},Cl.prototype.setSubscribeInfo=function(){},Cl.prototype.setSubscribeStateChange=function(){},Cl.prototype.setContinuePlayState=function(){},Cl.prototype.forceToSaveCurVideoInfo=function(){},Cl.prototype.getContinueData=function(){},Cl.prototype.setQiyiVisits=function(){},Cl.prototype.initQiyiVideo=function(){},Cl),Bl;function Cl(e,t){var r=Bl.call(this)||this;(r._player=r)._playerId=e.parentId,r.disabled=!1,r.hasview=!1,r.type=CON_TYPE.PlayerType_Html5VOD,r.skinType=CON_TYPE.SkinType_pc,(platform$1.os.ios||platform$1.os.android)&&(r.skinType=CON_TYPE.SkinType_mobile),e&&e.skinType&&r.skinType===CON_TYPE.SkinType_pc&&(r.skinType=CON_TYPE.SkinType_mini);var a=window.QiyiPlayerLoader;return a&&(a.Package?r["package"]=new a.Package(e,r):(r["package"]=null,a.once("ready",function(){r["package"]=new a.Package(e,r),r.emit("createPack")}))),r.__canRecordEvents=!0,r.eventsRecorder={},r.__evtRecorderTimer=setTimeout(function(){r.stopRecordEvents()},3e5),r.isSmallWindow=null,setTimeout(function(){logger$1.info("call js, fire event,params: type = playerLoadSuccess(æ’­æ”¾å™¨åˆå§‹åŒ–å®Œæ¯•)"),r.fire({type:CON_TYPE.QYPLAYER_LOAD_SUCCESS,data:{playerId:e.parentId}}),r.fire({type:CON_TYPE.QYPLAYER_BARRAGE_ALLOWED,data:{enable:!1}})},0),r.destroy=function(){r.checkPack("destroy",null,function(){logger$1.log("js call func,params: type = player destroy(é”€æ¯æ’­æ”¾å™¨)"),r["package"].destroy(),r.hasview=!1,r.disabled=!0,delete t.players[e.parentId],r.removeAllListeners(),r.fire({type:"destroy"})})},r}var onlineUrl={"wonder.data.pc":"//static.iqiyi.com/js/player_v2/wonder.data.pc.96a4ce86.js","wonder.http.mobile":"//static.iqiyi.com/js/player_v2/wonder.http.mobile.1581dc92.js","skin.pc":"//static.iqiyi.com/js/player_v2/skin.pc.96a4ce86.js","skin.mobile":"//static.iqiyi.com/js/player_v2/skin.mobile.1581dc92.js","p2p.abs":"//static.iqiyi.com/js/player_v2/565b19851417.js",FLASH_PLAYER_URL:"//www.iqiyi.com/player_v2/flashplayer/20201118/6af57dfc0948.swf",FLASH_PLAYER_ZURL:"//www.iqiyi.com/player_v2/flashplayer/20201118/906490700948.swf",FLASH_P2P_URL:"//www.iqiyi.com/common/flashplayer/20180620/14002a1b82aa.swf",FLASH_BARRAGE_URL:"//www.iqiyi.com/common/flashplayer/20180810/0949c72eeb6.swf",FLASH_PRELOADER_URL:"//www.iqiyi.com/common/flashplayer/20190719/23215aa9a57.swf",FLASH_PRELOADER_URL_TW:"//www.iqiyi.com/common/flashplayer/20180529/1508c9cdf8a4.swf",FLASH_PRELOADER_VIP:"//www.iqiyi.com/common/flashplayer/20190719/232184b0df09.swf",FLASH_PRELOADER_VIP_TW:"//www.iqiyi.com/common/flashplayer/20171129/1530df83b9a5.swf",FLASH_PRELOADER_PRODUCE:"//www.iqiyi.com/common/flashplayer/20190719/2321561520f8.swf",FLASH_PRELOADER_PRODUCE_TW:"//www.iqiyi.com/common/flashplayer/20180529/15085e1d0a85.swf",FLASH_PRELOADER_EXCLUSIVE:"//www.iqiyi.com/common/flashplayer/20190719/232121793893.swf",FLASH_PRELOADER_EXCLUSIVE_TW:"//www.iqiyi.com/common/flashplayer/20180529/1508dc809b19.swf",FLASH_PRELOADER_ICON:"//www.iqiyi.com/common/flashplayer/20171129/1530c314a0aa.swf",FLASH_PRELOADER_ICON_TW:"//www.iqiyi.com/common/flashplayer/20171129/15307da15813.swf",FLASH_PRELOADER_ICON_PRODUCE:"//www.iqiyi.com/common/flashplayer/20171129/1530925a82d4.swf",FLASH_PRELOADER_ICON_PRODUCE_TW:"//www.iqiyi.com/common/flashplayer/20171129/1530151837af.swf",FLASH_PRELOADER_ICON_EXCLUSIVE:"//www.iqiyi.com/common/flashplayer/20171129/153013651bd2.swf",FLASH_PRELOADER_ICON_EXCLUSIVE_TW:"//www.iqiyi.com/common/flashplayer/20171129/153077057f2.swf",FLASH_TIP_XML:"//static-s.iqiyi.com/ext/common/Tipdatavod_201809131013.xml","skin.pc.mini":"//static.iqiyi.com/js/player_v2/skin.pc.mini.96a4ce86.js"},CONST_adParamAttrName="data-widget-adparam",CONST_flashParamAttrName="data-widget-flashplayerparam",CONST_flashVarsAttrName="data-flashplayerparam-flashvars",CONST_h5Vars="data-h5playerparam-h5vars",CONST_PlayerParams,CONST_PlayerParamsKV,spans,ParamVars={},setInitVars=function(){spans=document.querySelectorAll?document.querySelectorAll("span"):document.getElementsByTagName("span"),CONST_PlayerParams=window.QiyiPlayerParam||[],CONST_PlayerParamsKV={};for(var e=0;e<CONST_PlayerParams.length;e++)CONST_PlayerParams[e].name&&(CONST_PlayerParamsKV[CONST_PlayerParams[e].name]=CONST_PlayerParams[e].attribute||{})},getVer=function(){var e="";try{e=navigator.plugins["Shockwave Flash"].description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(err){}}return((e="string"!=typeof e?"":e)||"0 r0").match(/\d+/g)},checkFlashLzma=function(){var e=getVer();return 2<e.length&&(12<=parseInt(e[0],10)||11===parseInt(e[0],10)&&4<=parseInt(e[1],10))},outsite=function(){var e=[],t;try{t=!window.parent.location.href}catch(r){for(0===e.length&&(t=!0);e.length;)if(-1===document.referrer.indexOf(e.pop())){t=!0;break}}return t+""}(),delItemInPlayerParams=function(e){(CONST_PlayerParamsKV[e]||CONST_PlayerParamsKV.hasOwnProperty(e))&&(CONST_PlayerParamsKV[e]=null,delete CONST_PlayerParamsKV[e]);for(var t=CONST_PlayerParams.length;t--;)CONST_PlayerParams[t].name===e&&CONST_PlayerParams.splice(t,1)},safely=function(e){return e.replace(/([<>])/g,"")},delParamEmptyProps=function(e){for(var t in e)e[t]||!1===e[t]||delete e[t];return e},getElemWrapperParams=function(t){for(var e,r,a,i=function(e){return t.getAttribute(e)},n={expandState:i("data-player-expandstate"),albumId:i("data-player-albumid"),tvid:i("data-player-tvid"),vid:i("data-player-videoid"),autoplay:i("data-player-autoplay"),isMember:i("data-player-ismember"),cyclePlay:i("data-player-cycleplay"),exclusive:i("data-player-exclusive"),qiyiProduced:i("data-player-qiyiProduced"),share_sTime:i("data-player-startTime"),share_eTime:i("data-player-endTime"),showBarStyle:i("data-player-barStyle"),isLoop:i("data-player-isloop")},e=0,o,a,a,r;e<spans.length;e++){(a=spans[e]).getAttribute(CONST_adParamAttrName)===CONST_adParamAttrName&&(o=a.getAttribute("data-adparam-cupid"),a=a.getAttribute("data-adparam-playerid"),o&&(n.adurl=o),a&&(n.cid=a))}return delParamEmptyProps(n)},getElemAdParams=function(){for(var e,t,r,a={},e=0,i,r,r,t;e<spans.length;e++){(r=spans[e]).getAttribute(CONST_adParamAttrName)===CONST_adParamAttrName&&(i=r.getAttribute("data-adparam-cupid"),r=r.getAttribute("data-adparam-playerid"),i&&(a.adurl=i),r&&(a.cid=r))}return delParamEmptyProps(a)},getElemPublicParams=function(){for(var e,t,r,a,i,a,n=!1,o={},i=0;i<CONST_PlayerParams.length;i++)"public"===CONST_PlayerParams[i].name&&(mixin(o,delParamEmptyProps(CONST_PlayerParams[i].attribute||{}),!0),delItemInPlayerParams("public"),n=!0);if(!n)for(e=0;e<spans.length;e++)t=(a=spans[e]).getAttribute(CONST_flashParamAttrName),r=a.getAttribute(CONST_flashVarsAttrName),a=a.getAttribute(CONST_h5Vars),"public"===t&&(r&&mixin(o,delParamEmptyProps(urlkit.query2Json(r)),!0),a&&mixin(o,delParamEmptyProps(urlkit.query2Json(a)),!0));return delParamEmptyProps(o)},getJSConfigParams=function(e){var t={playerUrl:checkFlashLzma()&&onlineUrl.FLASH_PLAYER_ZURL?onlineUrl.FLASH_PLAYER_ZURL:onlineUrl.FLASH_PLAYER_URL,flashP2PCoreUrl:onlineUrl.FLASH_P2P_URL,barrageurl:onlineUrl.FLASH_BARRAGE_URL,preloader:onlineUrl.FLASH_PRELOADER_URL,preloaderTw:onlineUrl.FLASH_PRELOADER_URL_TW,qiyiProducedPreloader:onlineUrl.FLASH_PRELOADER_PRODUCE,qiyiProducedPreloaderTw:onlineUrl.FLASH_PRELOADER_PRODUCE_TW,exclusivePreloader:onlineUrl.FLASH_PRELOADER_EXCLUSIVE,exclusivePreloaderTw:onlineUrl.FLASH_PRELOADER_EXCLUSIVE_TW,vipPreloader:onlineUrl.FLASH_PRELOADER_VIP,vipPreloaderTw:onlineUrl.FLASH_PRELOADER_VIP_TW,iconPreloader:onlineUrl.FLASH_PRELOADER_ICON,iconPreloaderTw:onlineUrl.FLASH_PRELOADER_ICON_TW,iconProducedPreloader:onlineUrl.FLASH_PRELOADER_ICON_PRODUCE,iconProducedPreloaderTw:onlineUrl.FLASH_PRELOADER_ICON_PRODUCE_TW,iconExclusivePreloader:onlineUrl.FLASH_PRELOADER_ICON_EXCLUSIVE,iconExclusivePreloaderTw:onlineUrl.FLASH_PRELOADER_ICON_EXCLUSIVE_TW,tipdataurl:onlineUrl.FLASH_TIP_XML};return delParamEmptyProps(t)},getElemCustomParams=function(){for(var e,t,r,a,a,i={},e=0;e<spans.length;e++)t=(a=spans[e]).getAttribute(CONST_flashParamAttrName),r=a.getAttribute(CONST_flashVarsAttrName),a=a.getAttribute(CONST_h5Vars),t&&"public"!==t&&(CONST_PlayerParamsKV[t]?(mixin(i,delParamEmptyProps(CONST_PlayerParamsKV[t]),!0),delItemInPlayerParams(t)):(r&&mixin(i,delParamEmptyProps(urlkit.query2Json(r)),!0),a&&mixin(i,delParamEmptyProps(urlkit.query2Json(a)),!0)));if(0<CONST_PlayerParams.length)for(e=0;e<CONST_PlayerParams.length;e++)CONST_PlayerParams[e]&&CONST_PlayerParams[e].name&&mixin(i,delParamEmptyProps(CONST_PlayerParams[e].attribute||{}),!0);return delParamEmptyProps(i)},getElemWrapperFlashVarsParams=function(t){var e={},r,a,a=(a=function(e){return t.getAttribute(e)}("data-player-flashvars"))?urlkit.query2Json(a):{};return mixin(e,delParamEmptyProps(a),!0),delParamEmptyProps(e)},getURLParams=function(){var e={},t=function(e){var t=urlkit.query2Json(e),r,r=(r=t.flashVars)?urlkit.query2Json(safely(decodeURIComponent(r))):{},a=t.share_sTime,i=t.share_eTime;if(t.cupid_init_sub_type)for(var n=(t.cupid_init_sub_type+"").split(";"),o=void 0,s=0;s<n.length;s++)1<(o=(n[s]+"").split(":")).length&&(t[o[0]]=o[1]);var e=a&&a.match(/(\d*)-.*?=(\d*)/);e&&(a=e[1],i=e[2]);var i={autoplay:"1"===t.iamp||t.autoplay,vid:t.videoid||t.vid,tvid:t.tvid||t.tvId,albumId:t.albumid,cyclePlay:t.cycleplay,isMember:t.ismember,exclusive:t.exclusive,qiyiProduced:t.qiyiProduced,share_sTime:a,share_eTime:i,outsite:t.outsite,cid:t.cid,ptid:t.ptid,isCid:t.isCid,vfrm:t.vfrm,isMute:"1"===t.iamp||t.isMute,showBarStyle:t.barStyle,local:t.local,components:t.components,isLoop:t.isLoop,masflag:t.masflag,isExpandScreen:t.isExpandScreen,isSupportedShot:t.isSupportedShot,isSmallWindowMode:t.isSmallWindowMode,isSupportedHotKey:t.isSupportedHotKey,ps3:t.ps3,abtest:t.abtest,ist:t.cupid_init_sub_type};return mixin(r,delParamEmptyProps(i),!0),r},r=t(safely(window.location.search.replace(/([<>])/g,""))),t=t(safely(window.location.hash.slice(1).replace(/([<>])/g,""))),a;for(a in mixin(e,delParamEmptyProps(r),!0),mixin(e,delParamEmptyProps(t),!0),e)e[a]||!1===e[a]||delete e[a];return delParamEmptyProps(e)},playerParams={mix:function(e,t){setInitVars();var r=window.__qlt,a="";r&&r.brs&&(a=r.brs||"");var r=e.tmplt||0,i={outsite:outsite,site:"iqiyiw",components:"feffffe6e",local:"cn_s",ost:"0",browserType:a,pageTmpltType:r},n;for(n in mixin(i,getElemWrapperParams(t),!0),mixin(i,getElemAdParams(),!0),mixin(i,getElemPublicParams(),!0),mixin(i,getJSConfigParams(e),!0),mixin(i,getElemCustomParams(),!0),mixin(i,getElemWrapperFlashVarsParams(t),!0),mixin(i,e,!0),mixin(i,getURLParams(),!0),storage$1.read("abtest")&&(i.abtest=storage$1.read("abtest"),storage$1.remove("abtest")),i)"string"==typeof i[n]&&(i[n]=i[n].replace(/^http:/gi,""));return ParamVars=i},getVars:function(){return ParamVars}},logger$2=new PlayerLogger("PlayerManager"),_playersReadyCalls={};UUID.getIsNewUser(!0);var PlayerManager=(Xn.prototype.createPlayer=function(e){var t=this,r=document.getElementById(e.parentId);e=playerParams.mix(e,r);var a=this.players[e.parentId];if(!e.hasOwnProperty("parentId"))return null;if(null!=a)return null;e.width&&e.height&&(r.style.width=parseInt(e.width,10)+"px",r.style.height=parseInt(e.height,10)+"px"),e.plyct=+new Date;var i="production",n=getPlayerType(e.playerType),o=cookie.get("QC005",{memory:!0}),r=cookie.get("setting",{memory:!0});switch(logger$2.log(n+", v: "+PlayerVersion+", location: "+window.location.href+", env: "+navigator.userAgent.toLowerCase()+", "+i+"/"+o+"/"+(r||"-")+", parameters: "+PlayerLogger.stringify(e)),e.cssRendered=this.cssRendered,this.cssRendered||(this.cssRendered=!0),n){case CON_TYPE.PlayerType_Html5VOD:a=new H5Adapter(e,this);break;case CON_TYPE.PlayerType_FlashVOD:a=new FlashAdapter(e,!1,this)}(this.players[e.parentId]=a).on(CON_TYPE.QYPLAYER_LOAD_SUCCESS,function(e){a.__loadsuccess=!0;var e=e.data.playerId;t.flushPlayerReadyCalls(e)});var s="";return a.on(CON_TYPE.QYPLAYER_STATE_CHANGE,function(e){var t=e.data.state.toLocaleLowerCase(),r={};switch(r.tvid=e.data.tvid||"",r.albumId=e.data.albumId||"",r.cid=e.data.cid||"",r.playerVersion=e.data.playerVersion||"",t){case CON_TYPE.QYPLAYER_STATUS_END_PLAY:var a=e.data.tvid,i=void 0;e.data.spend?(i=e.data.spend,r.duration=e.data.spend):i=e.data.prePlayingDuration,ThreePingback$1.sendEndPlayPingback(r);break;case CON_TYPE.QYPLAYER_STATUS_START_PLAY:case CON_TYPE.QYPLAYER_STATUS_AD_START_PLAY:var n=e.data.tvid;n!==s&&(ThreePingback$1.sendStartPlayPingback(r),s=n);break;case CON_TYPE.QYPLAYER_STATUS_ERROR:}}),a.on(CON_TYPE.QYPLAYER_VID_CHANGE,function(e){var t,r,a={};e.data.preMovieInfo?(t=e.data.preMovieInfo.tvid,r=e.data.preMovieInfo.spend,a.albumId=e.data.preMovieInfo.albumId||"",a.cid=e.data.preMovieInfo.cid||""):(t=e.data.preTvid,r=e.data.prePlayingDuration),a.playerVersion=e.data.playerVersion||"",a.tvid=t||"",a.duration=r||"",ThreePingback$1.sendEndPlayPingback(a)}),a},Xn.prototype.getPlayerById=function(e){return this.players[e]},Xn.prototype.destroyPlayer=function(e){this.players[e].destroy()},Xn.prototype.addView=function(e){if(this.subViewDef=this.subViewDef||e,this.subViewDef)for(var t in this.players)this.players[t].addView(this.subViewDef)},Xn.prototype.ready=function(e,t){var r=this.getPlayerById(e),a=_playersReadyCalls[e]||[];(_playersReadyCalls[e]=a).push(t),r&&r.__loadsuccess&&this.flushPlayerReadyCalls(e)},Xn.prototype.flushPlayerReadyCalls=function(e){var t=_playersReadyCalls[e]||[];_playersReadyCalls[e]=[];for(var r=0;r<t.length;r++)!function(e,t){setTimeout(function(){e[t].call()},0)}(t,r)},Xn);function Xn(){this.players={},this._skins={},this.cssRendered=!1,this.subViewDef=!1,this.constantType=CON_TYPE,this.version=PlayerVersion}function seriesLoadScripts(t,r){"object"!=typeof t&&(t=[t]);var a=document.getElementsByTagName("head").item(0)||document.documentElement,i=[],n=t.length-1,o=function(e){i[e]=document.createElement("script"),i[e].setAttribute("type","text/javascript"),i[e].onload=i[e].onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(this.onload=this.onreadystatechange=null,this.parentNode.removeChild(this),e!=n?o(e+1):"function"==typeof r&&r(!0))},i[e].onerror=i[e].onstalled=function(){"function"==typeof r&&r(!1)},i[e].setAttribute("src",t[e]),a.appendChild(i[e])};o(0)}var grayConfig={id:"PCWDEV-3361",channelIds:[],index:0,eq:"",st:16,ed:16,url:{"skin.pc":"//static.iqiyi.com/js/player_v2/skin.pc.12ad42f8.js","skin.pc.mini":"//static.iqiyi.com/js/player_v2/skin.pc.mini.12ad42f8.js","wonder.data.pc":"//static.iqiyi.com/js/player_v2/wonder.data.pc.12ad42f8.js"}},adurl="//static.iqiyi.com/js/common/ares-mobile-h5.min.js",PackLoader=(Mo.prototype.matchGray=function(e){var t=grayConfig||{};if(t.id){var r=cookie.get("QC005",{memory:!0}),a=cookie.get("QP0032",{memory:!0}),i=!1;return""!==t.index&&(r=parseInt(r.substr(t.index,1),16),""!==t.eq?i=r==t.eq:""!==t.st&&""!==t.ed&&(i=r>=t.st&&r<=t.ed)),a&&cookie.remove("QP0032",{path:"/"}),i=i||"1"==a,-1<t.channelIds.indexOf(e)||i}return!1},Mo.prototype.loadPackage=function(){var e=this,t="data",r="pc";(platform$1.os.ios||platform$1.os.android)&&(t="http",r="mobile");var a="wonder."+t+"."+r,i=this.configUrl[a];this.globalEntry.packageName=a,setTimeout(function(){e.globalEntry.isSyncing=!1,e.globalEntry.Package||(e.logger.log("package loading: ("+a+")"),seriesLoadScripts(i,function(){e.logger.log("package loaded: ("+a+")")}))},0)},Mo.prototype.loadSkin=function(e){var t="pc";(platform$1.os.ios||platform$1.os.android)&&(t="mobile");var r="";e&&e.isMini&&"pc"===t&&(r=".mini"),seriesLoadScripts(this.configUrl["skin."+t+r])},Mo.prototype.loadAD=function(e){var a=this;"boolean"==typeof this.adcb.loaded?e():("function"==typeof e&&this.adcb.push(e),this.adcb.loading||(this.adcb.loading=!0,seriesLoadScripts(adurl,function(e){for(a.adcb.loading=!1,a.adcb.loaded=e;0<a.adcb.length;)try{var t;a.adcb.shift()()}catch(r){}})))},Mo);function Mo(e,t){if(this.logger=new PlayerLogger("PackLoader"),this.globalEntry=e,this.configUrl=onlineUrl,this.usedGrayUrl={},this.p2pcb=[],this.adcb=[],this.matchGray(t)){var r=grayConfig.url,a;for(a in r)this.configUrl[a]=r[a],this.usedGrayUrl[a]=!0}isSupportHtml5()&&this.loadPackage()}var logger$3=new PlayerLogger("QiyiLoader");Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,r=+arguments[1]||0;if(0===t||isNaN(r)||t<=r)return-1;for(r<0&&(r=t+r)<0&&(r=0);r<t;++r)if(this[r]===e)return r;return-1});var PlayerLoader=(kp=Dispatcher,__extends(lp,kp),lp.prototype.ready=function(e){"function"==typeof e&&(this.isActived=!0,e(this.manager),this._checkEnv())},lp.prototype._checkEnv=function(){var e;this._testEnvChecked||(this._testEnvChecked=!0,e=cookie.get("setting",{memory:!0}))},lp.prototype.logger=function(){return PlayerLogger},lp.prototype.setPackage=function(e){this.Package=e,this.emit("ready")},lp.prototype.addView=function(e,t){this.manager.addView(e,t)},lp.prototype.loadSkin=function(e){this.skinLoad?this.manager.addView():(this.skinLoad=!0,this.packLoader.loadSkin(e))},lp.prototype.loadAd=function(e){this.packLoader.loadAD(e)},lp),kp;function lp(){var e=kp.call(this)||this,t=0;window.__qlt&&"number"==typeof window.__qlt.statisticsStart&&(t=window.__qlt.statisticsStart),logger$3.log("player v2 sdk init,player-"+PlayerVersion+", page benchmark@"+t+"!");var r,t=(window.uniqy||{}).curVideoInfo||{};return e.Package=null,e.packLoader=new PackLoader(e,t.channelId),e.renderd=!1,e.manager=new PlayerManager,e.isSyncing=!0,e}var QiyiPlayerLoader=new PlayerLoader;return QiyiPlayerLoader});