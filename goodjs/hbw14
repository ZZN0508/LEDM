(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4064],{54667:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/topics/[urlname]",function(){return n(63844)}])},930:function(e,i,n){"use strict";n.d(i,{Z:function(){return N}});var t,l,o=n(14924),r=n(26042),a=n(69396),s=n(85893),c=n(38122),d=n(83244),u=n(10124),v=n(35020),m=n(85980),h=n(61980),f=n(94184),p=n.n(f),x=n(67294),g=n(59860),_=n.n(g);function j(e){var i=e.style,n=e.src,t=e.isHovering,l=(0,x.useRef)(null);return(0,x.useEffect)((function(){var e,i;t?null===l||void 0===l||null===(e=l.current)||void 0===e||e.play():null===l||void 0===l||null===(i=l.current)||void 0===i||i.pause()}),[t]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("video",{src:n,muted:!0,loop:!0,style:i,preload:"metadata",ref:l}),!t&&(0,s.jsx)(d.Z,{width:58,className:_().playIcon,alt:"\u64ad\u653e\u6309\u94ae",src:"https://cdn.dancf.com/fe-assets/20230822/9d22550a930810d43f08f00a78816606.png"})]})}!function(e){e[e.overlong=1]="overlong",e[e.long=2]="long",e[e.square=3]="square",e[e.short=4]="short"}(t||(t={}));var b=(l={},(0,o.Z)(l,t.overlong,{width:134}),(0,o.Z)(l,t.long,{width:134}),(0,o.Z)(l,t.square,{width:180}),(0,o.Z)(l,t.short,{width:200}),l);function N(e){var i,n,l=e.topicId,f=e.pinCount,g=e.pins,N=e.filter,y=e.isHomeImage,Z=void 0!==y&&y,w=e.homeImage,k=e.title,C=e.className,I=e.style,S=(0,x.useRef)(null),A=(0,x.useRef)(null),R=(0,v.Z)(S),E=(0,x.useState)({from:void 0,to:void 0}),M=E[0],D=E[1],F=(0,m.Z)((function(){var e;R&&(null===A||void 0===A||null===(e=A.current)||void 0===e||e.next())}),{wait:400}),O=F.run;(0,x.useEffect)((function(){O()}),[R,O]);var L=function(e,i){var n=e/i;return n<.56?t.overlong:n<.8?t.long:n>1?t.short:t.square},H=(0,x.useMemo)((function(){var e,i,n,t;if("\u89c6\u9891\u6a21\u677f"===(null===(e=g[0])||void 0===e||null===(i=e.file_material)||void 0===i?void 0:i.material_category)||"\u89c6\u9891"===(null===(n=g[0])||void 0===n||null===(t=n.file_material)||void 0===t?void 0:t.material_category)){var l,o,s,c,d,u,v=L(null===g||void 0===g||null===(l=g[0])||void 0===l||null===(o=l.file)||void 0===o?void 0:o.width,null===g||void 0===g||null===(s=g[0])||void 0===s||null===(c=s.file)||void 0===c?void 0:c.height),m=b[v];return(0,a.Z)((0,r.Z)({},m),{src:null===(d=g[0].file_material)||void 0===d||null===(u=d.extra)||void 0===u?void 0:u.video_mask})}return!1}),[g]),T=function(e){e.target.classList.add("transparent-img-bg")};return(0,s.jsxs)("a",{className:p()(_().card,(0,o.Z)({},_().homeImage,Z),C),style:I,ref:S,href:"/topics/".concat(l,"?filter_id=").concat(null===N||void 0===N?void 0:N.value),target:"_blank",rel:"noreferrer","data-gd-expose":"topic_expose","data-gd-click":"topic_click","data-topic-id":null===N||void 0===N?void 0:N.value,"data-topic-type":"\u4e8c\u7ea7\u4e3b\u9898","data-topic-title":N.title,"data-content-source":"\u5185\u5bb9\u5408\u96c6_".concat(k,"_").concat(N.title),children:[Z?(0,s.jsx)("div",{className:_().bigImageContent,children:H?(0,s.jsx)(j,{src:H.src,style:{width:504,height:280},isHovering:R}):(0,s.jsx)(d.Z,{src:w||(0,u.ZP)(null===g||void 0===g||null===(i=g[0])||void 0===i?void 0:i.file,{width:504}),className:p()(_().bigImage,function(e){if(e)return(null===e||void 0===e?void 0:e.width)>(null===e||void 0===e?void 0:e.height)?_().heightFixed:_().widthFixed}(w||null===g||void 0===g||null===(n=g[0])||void 0===n?void 0:n.file)),alt:""})}):(0,s.jsx)("div",{className:_().carouselContent,children:H?(0,s.jsx)("div",{className:_().wrapper,children:(0,s.jsx)("div",{className:_().content,children:(0,s.jsx)(j,{src:H.src,style:{width:null===H||void 0===H?void 0:H.width},isHovering:R})})}):(0,s.jsx)(h.Z,{autoplay:R,dots:!1,ref:A,pauseOnHover:!1,autoplaySpeed:1500,beforeChange:function(e,i){D({from:e,to:i})},children:null===g||void 0===g?void 0:g.map((function(e,i){var n,l=L(e.file.width,e.file.height),c=b[l];return(0,s.jsx)("div",{className:_().wrapper,children:(0,s.jsx)("div",{className:p()(_().content,(n={},(0,o.Z)(n,_().overlong,l===t.overlong),(0,o.Z)(n,_().from,i===M.from),n)),children:(0,s.jsx)("img",(0,a.Z)((0,r.Z)({className:_().img},(0,u.L5)((0,u.ZP)(e.file,{width:null===c||void 0===c?void 0:c.width,origin:!0}),{displayWidth:null===c||void 0===c?void 0:c.width})),{alt:"",style:{width:null===c||void 0===c?void 0:c.width},onLoad:T}))})},i)}))})}),(0,s.jsxs)("div",{className:_().footer,children:[(0,s.jsx)("div",{className:_().left,title:N.title,children:N.title}),(0,s.jsxs)("div",{className:_().right,children:[f>=1e4?"9999+":f,"\u5f20",(0,s.jsx)(c.Z,{type:"ic_chevron_right",className:_().icon})]})]})]})}},63844:function(e,i,n){"use strict";n.r(i),n.d(i,{__N_SSP:function(){return ve},default:function(){return me}});var t=n(47568),l=n(26042),o=n(69396),r=n(10253),a=n(70655),s=n(85893),c=n(38122),d=n(77633),u=n(98515),v=n(80142),m=n(77252),h=n(10124),f=n(17666),p=n(10449),x=n(71577),g=n(94184),_=n.n(g),j=n(11163),b=n(67294),N=n(34394),y=n(37910),Z=n.n(y);function w(e){var i=e.topic,n=e.children,t=e.placement,l=(0,b.useMemo)((function(){var e,n;return(null===(n=null===i||void 0===i||null===(e=i.contents)||void 0===e?void 0:e.slice(0,3))||void 0===n?void 0:n.map((function(e){return(0,h.ZP)(e.img,{width:240})})))||[]}),[i]);return(0,s.jsx)(u.Z,{placement:t,pics:l,title:"\u8fd9\u4e2a\u4e3b\u9898\u771f\u8d5e\uff01".concat((0,f.Z)(null===i||void 0===i?void 0:i.title,45)),children:n})}function k(e){var i,n,l=e.topic,o=(0,v.Z)((function(e){return{headerHeight:e.headerHeight,user:e.user,vips:e.vips}})),r=o.headerHeight,u=o.user,f=o.vips,g=(0,d.f0)().login,y=(0,j.useRouter)().query.urlname,k=(0,b.useState)(!1),C=k[0],I=k[1],S=(0,b.useState)(!1),A=S[0],R=S[1],E=(0,b.useState)(null),M=E[0],D=E[1];(0,p.Z)((0,t.Z)((function(){var e,i,n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,m.wOH)("topic-activity-banner")];case 1:return(e=t.sent())&&D(null===e||void 0===e||null===(i=e.pit_modules)||void 0===i||null===(n=i[0])||void 0===n?void 0:n.material),[2]}}))}))),(0,b.useEffect)((function(){l&&(I((null===l||void 0===l?void 0:l.following)||!1),R((null===l||void 0===l?void 0:l.liked)||!1))}),[l]);var F=(0,b.useMemo)((function(){var e,i;return(null===(i=null===l||void 0===l||null===(e=l.contents)||void 0===e?void 0:e.slice(0,3))||void 0===i?void 0:i.map((function(e){return e.img})))||[]}),[l]),O=(0,b.useMemo)((function(){var e,i;return(null===l||void 0===l?void 0:l.bgColor)?l.bgColor:(null===(e=F[0])||void 0===e?void 0:e.theme)?"#".concat(null===(i=F[0])||void 0===i?void 0:i.theme):"#FFB8BC"}),[F,l]),L=(0,b.useCallback)((0,t.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return u?[3,2]:[4,g()];case 1:if(!e.sent())return[2];e.label=2;case 2:return C?[4,(0,m.iV_)({urlname:y})]:[3,4];case 3:return e.sent().err||I(!1),[3,6];case 4:return[4,(0,m.hrK)({urlname:y})];case 5:e.sent().err||I(!0),e.label=6;case 6:return[2]}}))})),[u,C,g,y]),H=(0,b.useCallback)((0,t.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return u?[3,2]:[4,g()];case 1:if(!e.sent())return[2];e.label=2;case 2:return A?[4,(0,m.b0m)({urlname:y})]:[3,4];case 3:return e.sent().err||R(!1),[3,6];case 4:return[4,(0,m.fzs)({urlname:y})];case 5:e.sent().err||R(!0),e.label=6;case 6:return[2]}}))})),[A,g,y,u]);return(0,s.jsxs)("div",{className:Z().banner,children:[(0,s.jsx)(N.nA,{condition:l,children:(0,s.jsx)("div",{className:Z().bg,style:{backgroundColor:O,top:"".concat(r,"px")}})}),(0,s.jsxs)("div",{className:Z().container,children:[(0,s.jsx)("div",{className:Z().gallery,children:(0,s.jsxs)(N.If,{condition:null===l||void 0===l?void 0:l.img,children:[(0,s.jsx)(N.Zf,{children:(0,s.jsx)("div",{className:Z().img,children:(0,s.jsx)("img",{src:null===l||void 0===l?void 0:l.img,alt:"\u9884\u89c8\u56fe"})})}),(0,s.jsx)(N.Ot,{children:(0,s.jsxs)(N.If,{condition:F.length<=1,children:[(0,s.jsx)(N.Zf,{children:(0,s.jsxs)(N.If,{condition:F[0],children:[(0,s.jsx)(N.Zf,{children:(0,s.jsx)("div",{className:Z().img,children:(0,s.jsx)("img",{src:(0,h.ZP)(F[0],{width:87}),srcSet:(0,h.ZP)(F[0],{width:174}),alt:"\u9884\u89c8\u56fe"})})}),(0,s.jsx)(N.Ot,{children:(0,s.jsx)(N.nA,{condition:l,children:(0,s.jsx)("div",{className:Z().text,style:{backgroundColor:O},children:null===l||void 0===l?void 0:l.title.slice(0,2)})})})]})}),(0,s.jsx)(N.Ot,{children:[Z().imgFirst,Z().imgSecond,Z().imgThrid].map((function(e,i){return(0,s.jsx)("div",{className:e,children:(0,s.jsx)("img",{src:(0,h.ZP)(F[i],{width:87}),srcSet:(0,h.ZP)(F[i],{width:174}),alt:"\u9884\u89c8\u56fe"})},i)}))})]})})]})}),(0,s.jsxs)("div",{className:Z().content,children:[(0,s.jsxs)("div",{className:Z().header,children:[(0,s.jsx)(N.nA,{condition:l,children:(0,s.jsx)(c.Z,{className:Z().logo,type:"ic_tag"})}),(0,s.jsx)("h1",{className:Z().name,children:null===l||void 0===l?void 0:l.title}),(0,s.jsx)(N.nA,{condition:M&&(null===M||void 0===M?void 0:M.bannerShow),children:(0,s.jsxs)(N.If,{condition:f.length>0,children:[(0,s.jsx)(N.Zf,{children:(0,s.jsxs)("a",{className:Z().material,href:null===M||void 0===M?void 0:M.vipLink,target:"_blank",rel:"noreferrer","data-gd-click":"button_click","data-button-name":"\u4e3b\u9898\u9875\u6d3b\u52a8banner",children:[(0,s.jsx)("div",{className:Z().title,children:(0,s.jsx)("div",{className:Z().text,children:null===M||void 0===M?void 0:M.vipDesc})}),(0,s.jsx)("div",{className:Z().subtitle,children:null===M||void 0===M?void 0:M.vipTitle}),(0,s.jsx)(N.nA,{condition:null===M||void 0===M?void 0:M.vipMore,children:(0,s.jsxs)("div",{className:Z().more,children:[(0,s.jsx)("div",{className:Z().text,children:null===M||void 0===M?void 0:M.vipMore}),(0,s.jsx)(c.Z,{className:Z().icon,type:"ic_chevron_right"})]})})]})}),(0,s.jsx)(N.Ot,{children:(0,s.jsxs)("a",{className:Z().material,href:null===M||void 0===M?void 0:M.bannerLink,target:"_blank",rel:"noreferrer","data-gd-click":"button_click","data-button-name":"\u4e3b\u9898\u9875\u6d3b\u52a8banner",children:[(0,s.jsx)("div",{className:Z().title,children:(0,s.jsx)("div",{className:Z().text,children:null===M||void 0===M?void 0:M.bannerDesc})}),(0,s.jsx)("div",{className:Z().subtitle,children:null===M||void 0===M?void 0:M.bannerTitle}),(0,s.jsx)(N.nA,{condition:null===M||void 0===M?void 0:M.bannerMore,children:(0,s.jsxs)("div",{className:Z().more,children:[(0,s.jsx)("div",{className:Z().text,children:null===M||void 0===M?void 0:M.bannerMore}),(0,s.jsx)(c.Z,{className:Z().icon,type:"ic_chevron_right"})]})})]})})]})})]}),(0,s.jsx)("div",{className:Z().desc,children:(0,s.jsx)("span",{title:null===l||void 0===l?void 0:l.description,children:null===l||void 0===l?void 0:l.description})}),(0,s.jsx)(N.nA,{condition:(null===l||void 0===l||null===(i=l.labels)||void 0===i?void 0:i.length)>0,children:(0,s.jsxs)("div",{className:Z().labels,children:[(0,s.jsx)("div",{className:Z().title,children:"\u6807\u7b7e"}),(0,s.jsx)("div",{className:Z().list,children:null===l||void 0===l||null===(n=l.labels)||void 0===n?void 0:n.map((function(e){return(0,s.jsx)("a",{className:Z().item,href:"/search?type=material&q=".concat(encodeURIComponent(e.text)),"data-gd-click":"button_click","data-gd-expose":"resource_loc_expose","data-resource-id":0,"data-button-name":e.text,"data-resource-title":e.text,"data-resource-type":"\u6587\u5b57\u94fe\u63a5",target:"_blank",rel:"noreferrer",children:e.text},e.text)}))})]})})]}),(0,s.jsxs)("div",{className:Z().operation,children:[(0,s.jsx)(w,{topic:l,placement:"bottomRight",children:(0,s.jsx)(x.Z,{className:_()([Z().button,Z().rect]),type:"text",title:"\u5206\u4eab",children:(0,s.jsx)(c.Z,{className:Z().icon,type:"ic_share"})})}),(0,s.jsx)(x.Z,{className:_()([Z().button,Z().rect,A?Z().active:null]),type:"text",title:A?"\u53d6\u6d88\u559c\u6b22":"\u559c\u6b22",onClick:H,children:(0,s.jsx)(c.Z,{className:Z().icon,type:A?"ic_favorite":"favorite"})}),(0,s.jsxs)(N.If,{condition:C,children:[(0,s.jsx)(N.Zf,{children:(0,s.jsx)(x.Z,{className:Z().button,type:"text",title:"\u5df2\u5173\u6ce8",onClick:L,children:"\u5df2\u5173\u6ce8"})}),(0,s.jsx)(N.Ot,{children:(0,s.jsx)(x.Z,{className:Z().button,icon:(0,s.jsx)(c.Z,{className:Z().icon,type:"ic_star"}),type:"primary",title:"\u5173\u6ce8\u4e3b\u9898",onClick:L,children:"\u5173\u6ce8\u4e3b\u9898"})})]})]})]})]})}var C=n(99534),I=n(32808),S=n(57643),A=n.n(S);function R(e){var i=e.className,n=void 0===i?"":i,t=e.name,o=void 0===t?"":t,r=e.value,a=e.onChange,c=(0,C.Z)(e,["className","name","value","onChange"]);return(0,s.jsxs)("label",{className:_()([A().container,r?A().active:null,n]),children:[(0,s.jsx)("div",{className:A().text,children:o}),(0,s.jsx)("div",{className:A().checkbox,children:(0,s.jsx)(I.Z,(0,l.Z)({checked:r,onChange:function(e){a&&a(e.target.checked)}},c))})]})}var E=n(17375),M=n(55175),D=n(17054),F=n(40933),O=n.n(F),L=n(78971);function H(e){var i,n=e.options,t=void 0===n?[]:n,l=e.value,o=void 0===l?null:l,r=e.onChange,a=(0,j.useRouter)().query.urlname,c=(0,b.useRef)(null),d=(0,b.useCallback)((function(e,i){e.preventDefault(),r&&r(i)}),[r]),u=(0,b.useMemo)((function(){return null===t||void 0===t?void 0:t.map((function(e,i){var n=e.img,t=e.label,l=e.value;return{img:n,name:t,active:l===((null===o||void 0===o?void 0:o.value)||""),value:l,props:{href:"/topics/".concat(a,'/?filter_id"=').concat(l),"data-gd-click":"button_click","data-gd-expose":"resource_loc_expose","data-resource-id":l,"data-button-name":t,"data-resource-title":t,"data-resource-type":"\u5b50\u4e3b\u9898"}}}))}),[t,o,a]);return(0,s.jsxs)("div",{className:O().nav,ref:c,children:[(0,s.jsx)("h2",{className:O().hidden,children:null===(i=t.find((function(e){return e.value===((null===o||void 0===o?void 0:o.value)||"")})))||void 0===i?void 0:i.label}),(0,s.jsx)(L.Z,{list:u,displayRow:3,itemClick:function(e,i){d(i,e)}})]})}function T(e){var i=e.data,n=e.value,t=e.onChange,o=(0,C.Z)(e,["data","value","onChange"]),r=(0,b.useCallback)((function(e){t&&t(e?i:null)}),[t,i]);return(0,s.jsx)(R,(0,l.Z)({value:!!n,onChange:r},o))}function G(e){var i,n,t=e.topic,l=e.onChange,o=(0,b.useState)([]),r=o[0],a=o[1],c=(0,b.useState)(null),d=c[0],u=c[1],v=(0,b.useState)(null),m=v[0],h=v[1],f=(0,b.useRef)(null),p=(0,j.useRouter)(),x=p.query.filter_id,g=p.query.urlname;(0,b.useEffect)((function(){var e={sort:M.s3[M._l.ALL]};f.current.setFieldsValue(e),h(e)}),[]),(0,b.useEffect)((function(){var e,i=(null===t||void 0===t||null===(e=t.contents)||void 0===e?void 0:e.map((function(e){return{label:e.title,img:e.img,value:e.filter.value}})))||[];a(i);var n=i.length>0?x&&i.find((function(e){return"".concat(e.value)==="".concat(x)}))||i[0]:null;u(n)}),[x,t]);var _=(0,b.useCallback)((function(e){p.push("/topics/".concat(g,"?filter_id=").concat(e.value))}),[p,g]),y=(0,b.useCallback)((function(e,i){h(i)}),[]);return(0,b.useEffect)((function(){if(m&&d&&m.sort){var e=[d.value];Object.values((null===m||void 0===m?void 0:m.filter)||{}).forEach((function(i){i&&e.push(i.value)})),l&&l({ids:e,sort:m.sort.value,sortName:m.sort.label,filterOne:d.label})}}),[l,m,d]),(0,s.jsxs)(D.Z,{className:O().container,layout:"inline",ref:f,onValuesChange:y,children:[(null===r||void 0===r?void 0:r.length)>1&&(0,s.jsx)("div",{className:O().nav,children:(0,s.jsx)(H,{options:r,value:d,onChange:_})}),(0,s.jsxs)("div",{className:O().filter,children:[(0,s.jsx)("div",{className:O().left,children:(0,s.jsx)(D.Z.Item,{name:"sort",children:(0,s.jsx)(E.Z,{allowClear:!1,options:M.Zh})})}),(0,s.jsx)("div",{className:O().right,children:null===(n=null===t||void 0===t||null===(i=t.filters)||void 0===i?void 0:i.filter((function(e){return e.showOutside})))||void 0===n?void 0:n.map((function(e){return(0,s.jsxs)(N.If,{condition:e.children.length<=0,children:[(0,s.jsx)(N.Zf,{children:(0,s.jsx)(D.Z.Item,{name:["filter","".concat(e.key)],children:(0,s.jsx)(T,{className:O().item,name:e.name,data:e,iconType:"img",icon:e.icon})})}),(0,s.jsx)(N.Ot,{children:(0,s.jsx)(D.Z.Item,{name:["filter","".concat(e.key)],children:(0,s.jsx)(E.Z,{className:O().item,iconType:"img",optionType:e.type,icon:e.icon,name:e.name,options:e.children})})})]},e.key)}))})]})]})}var P=n(52284),Y=n(6143),q=n(85504),J=n(90048),V=n(97612),W=n(86910),Q=n.n(W);function z(){return(0,s.jsx)(P.Z,{className:Q().empty,size:"small",image:"//cdn.dancf.com/fe-assets/img/6a5695b2efbda504b26a212d160553ec.svg",title:"\u8fd8\u6ca1\u6709\u91c7\u96c6\u54e6~"})}function B(e){var i=e.values,n=e.defaultPins,l=e.showDownload,o=(0,b.useState)(n||[]),r=o[0],c=o[1],d=(0,b.useState)((null===n||void 0===n?void 0:n.length)<=0),u=d[0],v=d[1],h=(0,b.useState)(!0),f=h[0],p=h[1],g=(0,b.useRef)((null===n||void 0===n?void 0:n.length)>0?2:1),_=(0,b.useRef)((null===n||void 0===n?void 0:n.length)>0),j=(0,b.useMemo)((function(){return _.current?i&&(_.current=!1):(g.current=1,c([]),v(!0),p(!0)),(0,t.Z)((function(){var e,n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return i?(v(!0),[4,(0,m.C4y)({per_page:120,page:g.current,filter_ids:(null===i||void 0===i?void 0:i.ids)||[],sort:(null===i||void 0===i?void 0:i.sort)||"all",position:"topics",fields:"pins:PIN"})]):[2];case 1:return e=t.sent(),(n=(null===e||void 0===e?void 0:e.pins)||[]).length<=0&&p(!1),c((function(e){return e.concat(n)})),v(!1),[2]}}))}))}),[i]);(0,b.useEffect)((function(){j()}),[j]);var y=(0,b.useCallback)((function(){r.length>0&&!_.current&&(g.current++,j(),(0,J.Z)((0,V.Z)()))}),[r,j]);return(0,s.jsx)("div",{className:Q().list,"data-sort-type":null===i||void 0===i?void 0:i.sortName,children:(0,s.jsxs)(N.If,{condition:r.length>0,children:[(0,s.jsx)(N.Zf,{children:(0,s.jsx)(q.Z,{dataSource:r,hasMore:!1,showDownload:l,endMessage:(0,s.jsxs)(N.If,{condition:f,children:[(0,s.jsx)(N.Zf,{children:(0,s.jsxs)(N.If,{condition:u,children:[(0,s.jsx)(N.Zf,{children:(0,s.jsx)("div",{className:Q().loading,children:(0,s.jsx)(Y.Z,{})})}),(0,s.jsx)(N.Ot,{children:(0,s.jsx)("div",{className:Q().end,children:(0,s.jsx)(x.Z,{className:Q().button,type:"text",size:"large",onClick:y,children:"\u5c55\u5f00\u66f4\u591a"})})})]})}),(0,s.jsx)(N.Ot,{children:(0,s.jsx)("div",{className:Q().noMore,children:"\u6ca1\u6709\u66f4\u591a\u4e86"})})]}),trackerData:{"data-gd-expose":"content_expose","data-gd-click":"material_click","data-content-source":"\u4fe1\u606f\u6d41","data-filter-one":null===i||void 0===i?void 0:i.filterOne}})}),(0,s.jsx)(N.Ot,{children:(0,s.jsxs)(N.If,{condition:u,children:[(0,s.jsx)(N.Zf,{children:(0,s.jsx)("div",{className:Q().largeLoading,children:(0,s.jsx)(Y.Z,{})})}),(0,s.jsx)(N.Ot,{children:(0,s.jsx)(z,{})})]})})]})})}function U(e){var i=e.values,n=e.defaultPins,l=e.showDownload,o=(0,b.useState)(n||[]),r=o[0],c=o[1],d=(0,b.useState)(!0),u=d[0],v=d[1],h=(0,b.useState)((null===n||void 0===n?void 0:n.length)<=0),f=h[0],p=h[1],x=(0,b.useRef)((null===n||void 0===n?void 0:n.length)>0?2:1),g=(0,b.useRef)((null===n||void 0===n?void 0:n.length)>0),_=(0,b.useMemo)((function(){return g.current?i&&(g.current=!1):(x.current=1,c([]),v(!0)),(0,t.Z)((function(){var e,n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return i?(p(!0),[4,(0,m.C4y)({per_page:40,page:x.current,filter_ids:(null===i||void 0===i?void 0:i.ids)||[],sort:(null===i||void 0===i?void 0:i.sort)||"all",position:"topics",fields:"pins:PIN"})]):[2];case 1:return e=t.sent(),(n=(null===e||void 0===e?void 0:e.pins)||[]).length<=0&&v(!1),c((function(e){return e.concat(n)})),p(!1),[2]}}))}))}),[i]);(0,b.useEffect)((function(){_()}),[_]);var j=(0,b.useCallback)((function(){r.length>0&&!g.current&&(x.current++,_(),(0,J.Z)((0,V.Z)()))}),[r,_]);return(0,s.jsx)("div",{className:Q().list,"data-sort-type":null===i||void 0===i?void 0:i.sortName,children:(0,s.jsxs)(N.If,{condition:r.length>0,children:[(0,s.jsx)(N.Zf,{children:(0,s.jsx)(q.Z,{dataSource:r,hasMore:u,onLoadMore:j,showDownload:l,trackerData:{"data-gd-expose":"content_expose","data-gd-click":"material_click","data-content-source":"\u4fe1\u606f\u6d41","data-filter-one":null===i||void 0===i?void 0:i.filterOne}})}),(0,s.jsx)(N.Ot,{children:(0,s.jsxs)(N.If,{condition:f,children:[(0,s.jsx)(N.Zf,{children:(0,s.jsx)("div",{className:Q().loading,children:(0,s.jsx)(Y.Z,{})})}),(0,s.jsx)(N.Ot,{children:(0,s.jsx)(z,{})})]})})]})})}var X=n(930),K=n(65990),$=n.n(K);function ee(e){var i=e.keyword,n=(0,j.useRouter)().query.urlname,l=(0,b.useState)([]),o=l[0],r=l[1],c=(0,v.Z)((function(e){return e.column})),d=(0,b.useCallback)((0,t.Z)((function(){var e,t;return(0,a.__generator)(this,(function(l){switch(l.label){case 0:return i?[4,(0,m.RUJ)({q:i,per_page:25,page:1,exclude_topic:n,dedupe:1})]:[2];case 1:return t=l.sent(),r((null===t||void 0===t||null===(e=t.result)||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.pin_count)>0})))||[]),[2]}}))})),[i,n]);return(0,b.useEffect)((function(){d()}),[d]),o.length<=0?null:(0,s.jsxs)("div",{className:$().section,children:[(0,s.jsx)("div",{className:$().title,children:"\u76f8\u5173\u4e3b\u9898\u63a8\u8350"}),(0,s.jsx)("div",{className:$().list,children:o.map((function(e,i){var n=e.content_title,t=e.title,l=t&&n!==t?"".concat(n,"/").concat(t):n;return(0,s.jsx)(X.Z,{style:(i+1)%c!==0?{marginRight:"24px"}:{marginRight:"0"},className:$().item,pins:e.pins,topicId:e.urlname,pinCount:e.pin_count,filter:{title:l,value:e.filter_id},title:e.title},e.id)}))})]})}var ie=n(89147),ne=n(51283),te=n(74763),le=n(27484),oe=n.n(le),re=n(9008),ae=n.n(re),se=n(38892),ce=n.n(se),de=te.Z.Countdown;function ue(){var e,i,n,l,o,d=(0,b.useState)(null),u=d[0],v=d[1],h=(0,r.Z)((0,ne.Z)("hb-topic-activity-close-date",{defaultValue:null}),2),f=h[0],x=h[1];(0,p.Z)((0,t.Z)((function(){var e,i;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,m.wOH)("topic-fixed-banner")];case 1:return(e=n.sent())&&v((null===e||void 0===e||null===(i=e.pit_modules)||void 0===i?void 0:i[0])||null),[2]}}))})));var g=(0,b.useCallback)((function(){x(oe()().format("YYYY-MM-DD"))}),[x]);return u&&(null===u||void 0===u||null===(e=u.material)||void 0===e?void 0:e.activityShow)&&f!==oe()().format("YYYY-MM-DD")?(0,s.jsxs)("div",{className:ce().activity,children:[(0,s.jsx)(c.Z,{className:ce().close,type:"ic_clear2",onClick:g}),(0,s.jsxs)("a",{className:ce().container,href:null===u||void 0===u||null===(i=u.material)||void 0===i?void 0:i.activityLink,target:"_blank",rel:"noreferrer","data-gd-click":"resource_loc_click","data-gd-expose":"resource_loc_expose","data-resource-type":"banner","data-resource-id":null===u||void 0===u?void 0:u.module_id,"data-plan-id":null===u||void 0===u?void 0:u.plan_id,"data-resource-title":null===u||void 0===u?void 0:u.module_name,onClick:g,children:[(0,s.jsx)("img",{className:ce().img,src:null===u||void 0===u||null===(n=u.material)||void 0===n?void 0:n.activityImg,alt:"\u6d3b\u52a8\u56fe"}),(0,s.jsx)(N.nA,{condition:null===u||void 0===u||null===(l=u.material)||void 0===l?void 0:l.activityEndDate,children:(0,s.jsx)(de,{className:ce().time,value:1e3*(null===u||void 0===u||null===(o=u.material)||void 0===o?void 0:o.activityEndDate),format:"D\u5929HH:mm:ss"})})]})]}):null}var ve=!0;function me(e){var i=e.serverSideTopic,n=e.serverSidePins,r=(0,j.useRouter)(),c=r.query.urlname,d=(0,b.useState)(i),u=d[0],v=d[1],h=(0,b.useState)(null),f=h[0],x=h[1],g=(0,ie.Z)("hb_topic_similar","topic_0",{origin:"topic_0",experiment:"topic_1"}),_=(0,ie.Z)("hb_topic_download","string_0",{origin:"string_0",experiment:"string_1"});(0,p.Z)((0,t.Z)((function(){var e,n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return i?[2]:[4,(0,m.Rhm)({urlname:c})];case 1:return 404==(e=t.sent()).err?r.push("/404","/topics/".concat(c)):e.err||(n=function(e){var i,n,t,r,a,s,c,d,u,v,m,h,f,p,x,g,_;return{title:(null===(n=null===e||void 0===e||null===(i=e.banner)||void 0===i?void 0:i.materials[0])||void 0===n?void 0:n.title)||"",description:(null===(r=null===e||void 0===e||null===(t=e.banner)||void 0===t?void 0:t.materials[0])||void 0===r?void 0:r.material.description)||"",img:(null===(s=null===e||void 0===e||null===(a=e.banner)||void 0===a?void 0:a.materials[0])||void 0===s||null===(c=s.material)||void 0===c?void 0:c.img)||"",bgColor:(null===(u=null===e||void 0===e||null===(d=e.banner)||void 0===d?void 0:d.materials[0])||void 0===u||null===(v=u.material)||void 0===v?void 0:v.bgColor)||"",labels:(null===(h=null===e||void 0===e||null===(m=e.banner)||void 0===m?void 0:m.materials[0])||void 0===h||null===(f=h.material)||void 0===f?void 0:f.labels)||[],following:!!(null===e||void 0===e?void 0:e.following),liked:!!(null===e||void 0===e?void 0:e.liked),contents:(null===e||void 0===e||null===(p=e.content)||void 0===p||null===(x=p.materials)||void 0===x?void 0:x.map((function(e){var i,n,t;return(0,o.Z)((0,l.Z)({},(null===e||void 0===e?void 0:e.material)||null),{img:(null===e||void 0===e||null===(i=e.preview)||void 0===i||null===(n=i.pins)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.file)||null})})))||[],filters:(null===e||void 0===e||null===(g=e.filter)||void 0===g||null===(_=g.children)||void 0===_?void 0:_.reverse().map((function(e){var i,n,t;return{icon:(null===e||void 0===e||null===(i=e.preview)||void 0===i||null===(n=i.icon)||void 0===n?void 0:n.url)||"",name:(null===e||void 0===e?void 0:e.name)||"",key:(null===e||void 0===e?void 0:e.id)||"",type:(null===e||void 0===e||null===(t=e.children)||void 0===t?void 0:t.every((function(e){var i,n;return null===e||void 0===e||null===(i=e.preview)||void 0===i||null===(n=i.icon)||void 0===n?void 0:n.url})))?"img":"text",showOutside:(null===e||void 0===e?void 0:e.priority)<=10,value:(null===e||void 0===e?void 0:e.filter_id)||"",children:((null===e||void 0===e?void 0:e.children)||(null===e||void 0===e?void 0:e.agg_filter_result_responses)||[]).map((function(e){var i,n;return(null===e||void 0===e||null===(i=e.preview)||void 0===i||null===(n=i.icon)||void 0===n?void 0:n.url)?{icon:e.preview.icon.url||"",label:(null===e||void 0===e?void 0:e.name)||"",value:(null===e||void 0===e?void 0:e.filter_id)||""}:{label:(null===e||void 0===e?void 0:e.name)||"",value:(null===e||void 0===e?void 0:e.filter_id)||""}}))}})))||[]}}(e),v(n)),[2]}}))})),{refreshDeps:[c]});var y=(0,b.useCallback)((function(e){x(e)}),[]),Z=(0,b.useMemo)((function(){return u&&f?"".concat(null===u||void 0===u?void 0:u.title," ").concat(null===f||void 0===f?void 0:f.filterOne):""}),[u,f]);return(0,s.jsxs)("div",{className:ce().page,children:[(0,s.jsxs)(ae(),{children:[(0,s.jsx)("title",{children:"".concat((null===u||void 0===u?void 0:u.title)||"","\u56fe\u7247\u7d20\u6750-").concat((null===u||void 0===u?void 0:u.title)||"","\u8bbe\u8ba1\u6a21\u677f\u4e0b\u8f7d_\u82b1\u74e3\u7f51")}),(0,s.jsx)("meta",{name:"keywords",content:"".concat((null===u||void 0===u?void 0:u.title)||"","\u56fe\u7247,").concat((null===u||void 0===u?void 0:u.title)||"","\u7d20\u6750,").concat((null===u||void 0===u?void 0:u.title)||"","\u8bbe\u8ba1,").concat((null===u||void 0===u?void 0:u.title)||"","\u6a21\u677f, ").concat((null===u||void 0===u?void 0:u.title)||"","\u8bbe\u8ba1\u7d20\u6750")}),(0,s.jsx)("meta",{name:"description",content:"\u82b1\u74e3\u7f51\u4e3a\u60a8\u7cbe\u9009".concat((null===u||void 0===u?void 0:u.title)||"","\u56fe\u7247\u8bbe\u8ba1\u7075\u611f\u56fe\uff0c\u6d77\u91cf\u9ad8\u6e05").concat((null===u||void 0===u?void 0:u.title)||"","\u56fe\u7247\u7d20\u6750\u3001").concat((null===u||void 0===u?void 0:u.title)||"","\u8bbe\u8ba1\u6a21\u677f\u5927\u5168\uff0c\u4e00\u952e\u6536\u85cf\u4e0b\u8f7d\u3002")})]}),(0,s.jsx)("div",{className:ce().banner,children:(0,s.jsx)(k,{topic:u})}),(0,s.jsx)("div",{className:ce().filter,children:(0,s.jsx)(G,{topic:u,onChange:y})}),(0,s.jsxs)(N.If,{condition:g.origin,children:[(0,s.jsx)(N.Zf,{children:(0,s.jsx)("div",{className:ce().pins,children:(0,s.jsx)(U,{values:f,defaultPins:n,showDownload:!_.origin})})}),(0,s.jsxs)(N.Ot,{children:[(0,s.jsx)("div",{className:ce().pins,children:(0,s.jsx)(B,{values:f,defaultPins:n,showDownload:!_.origin})}),(0,s.jsx)("div",{className:ce().similar,children:(0,s.jsx)(ee,{keyword:Z})})]})]}),(0,s.jsx)(ue,{})]})}},17666:function(e,i,n){"use strict";function t(e,i){return e?(e.length>i&&(e=e.substring(0,i)+"..."),e):e}n.d(i,{Z:function(){return t}})},57643:function(e){e.exports={"color-primary":"x41EDMAp","color-text-1":"bGY_9vHG","color-text-2":"__9zLxskx9","color-text-3":"PoZj4iS3","font-sm":"HFWNlJJD","font-md":"bWDGmzYy","font-lg":"MFfV_LUm","font-bg":"SqrOv1VT","single-line-ellipsis":"__7z9NayKE","vertical-center":"XIl2r4Gs","justify-center":"Ib2F2owO","drop-list-wrap":"oG8y_IpH","list-item":"Tm1s5mkl",separate:"__4deGCVig","grid-bg":"xHsCsINa","line-bg":"PY5bCAG_",tip:"__21vygryj","primary-btn":"g_e_TI_C","primary-text-btn":"VlpGF4RT","thin-scroll-bar":"Ar_gYkh0",container:"__5mmJmrQJ",text:"McaPkseI",checkbox:"BmgNQbxm"}},59860:function(e){e.exports={"color-primary":"dn1KgGeb","color-text-1":"aopPVQnO","color-text-2":"Ld9i_E7Q","color-text-3":"wetTxap8","font-sm":"MRa65WgI","font-md":"V59_5pQl","font-lg":"QkAgC7lv","font-bg":"OQaCTfbc","single-line-ellipsis":"lcIF092S","vertical-center":"cTHF89Wz","justify-center":"jA4C80Va","drop-list-wrap":"__2FCkK_f_","list-item":"__8vRUfsdd",separate:"lIAVUZpi","grid-bg":"jzm6QELw",img:"M4oVb1LC","line-bg":"_cufoPUQ",tip:"r_XRF24x","primary-btn":"zeD7k_hE","primary-text-btn":"gmDSkyWp","thin-scroll-bar":"ihLt37yT",card:"ACWJlcW_",carouselContent:"sAfnoupm",wrapper:"Z3beb_8A",right:"IiGOK8zH",content:"E_n5_JF1",imgContent:"SUB9L4_e",overlong:"__7dInAsUi",playIcon:"BY1CDfF8",from:"RhWpCml0",footer:"__5HOuBda0",left:"njyV5_kk",icon:"dyylQrYR",homeImage:"__2aNeELbG",bigImageContent:"g0dwN4Df",bigImage:"hht28zd4",widthFixed:"AY7XgRC5",heightFixed:"lNNRvTma"}},37910:function(e){e.exports={"color-primary":"AtbbiheD","color-text-1":"KSUchvtm","color-text-2":"VYBB88kf","color-text-3":"fMMA0OkR","font-sm":"tkWbczOD","font-md":"__5Dy6PVau","font-lg":"OohtuQwk","font-bg":"__2hQew6iN","single-line-ellipsis":"TZWPk7Qm","vertical-center":"GTNwcttL","justify-center":"__2TtjY6st","drop-list-wrap":"GaDpy06e","list-item":"iwKOR0lQ",separate:"UwIGwE4a","grid-bg":"LSIBuDHv","line-bg":"__01Rbt1n9",tip:"Jcr6p9BG","primary-btn":"LIAmEJuE","primary-text-btn":"ckfZoQGZ","thin-scroll-bar":"bloH2fm7",banner:"y5m4fpbb",bg:"jyliklQi",container:"DaR8q75o",gallery:"UF_KtZH0",text:"__1rHwu_uC",img:"SXMXQoII",imgFirst:"EI0qiNGh",imgSecond:"__9tr7iU25",imgThrid:"tA6IaiF8",content:"glO4roJJ",header:"r4ppDmtz",logo:"WQmNGC1_",name:"ewgA8I_h",material:"__8j4jDP9U",title:"XnL5Fade",subtitle:"bYhWOI1O",more:"__56ZrwPTM",icon:"__3vk8Ju62",desc:"__3T3Fy9A6",labels:"t8_sPFLC",list:"gAx3gXC8",item:"__9vzUAhpZ",operation:"__6lsIr_Ch",button:"aEWQFAof",rect:"jFVeSzh4",active:"keQ_AQlE"}},40933:function(e){e.exports={"color-primary":"Cm5IIw4L","color-text-1":"zBcwNscQ","color-text-2":"sEnXPsFu","color-text-3":"Jk0k2kX_","font-sm":"NEi3d2tz","font-md":"__4SHAZQUk","font-lg":"iv9dcH_5","font-bg":"m54S0ACI","single-line-ellipsis":"DV1hJ9gX","vertical-center":"fodwBZ_Y","justify-center":"tUPE7GyA","drop-list-wrap":"wlqJFjyT","list-item":"sr69SzY2",separate:"CRSFkV1A","grid-bg":"R1NvtQ4M","line-bg":"mmhyWmND",tip:"fj_qRfFO","primary-btn":"_Lf_GpeS","primary-text-btn":"_flg5hVw","thin-scroll-bar":"K8wYC0Mi",container:"Lg836ufm",filter:"VcUsYMWl",right:"eumggDMi",item:"TVL37eMP",nav:"mcEG_Ibi",hidden:"ENSJIARo",active:"UpRt4JYG",bg:"T7K03U53",text:"bNiI_97v",color:"D84A0H_i"}},86910:function(e){e.exports={"color-primary":"LZylYzUl","color-text-1":"MvGHARzW","color-text-2":"Hnd_1k2X","color-text-3":"YAoxYNKF","font-sm":"iYA_WcB7","font-md":"i5Rv2ROa","font-lg":"_BDgh_tj","font-bg":"TEpJAAdG","single-line-ellipsis":"DJBk_mAv","vertical-center":"q0o4Tx7E","justify-center":"__5tzYXCZn","drop-list-wrap":"See7cd_E","list-item":"cIS1o3HV",separate:"__3e8_58JZ","grid-bg":"vRnXKI4q","line-bg":"bs57prH1",tip:"__4F3m73F2","primary-btn":"o2GWKurF","primary-text-btn":"l7i97OmK","thin-scroll-bar":"zI0BYCKR",list:"T_WlgUHG",empty:"CsTfpD72",end:"_meL82t_",button:"__8yYqt7Bd",noMore:"rlvrIH2Z",largeLoading:"__93HYUAqW",loading:"XJqu4QFz"}},65990:function(e){e.exports={"color-primary":"DJJpKgil","color-text-1":"fYa0WloA","color-text-2":"e5BH1ain","color-text-3":"__8u9NzqqX","font-sm":"F908RqaV","font-md":"R5eyFaoV","font-lg":"aA4euJjl","font-bg":"DkBFfbMD","single-line-ellipsis":"NGCfEbxk","vertical-center":"Y_oNtIeo","justify-center":"__9UOGVO3e","drop-list-wrap":"rI2YSw1r","list-item":"hZMGdakJ",separate:"yvp09GAV","grid-bg":"UArfioK0","line-bg":"MWj_dwDa",tip:"Su_k2N6W","primary-btn":"W383bGqR","primary-text-btn":"hBmO3qsq","thin-scroll-bar":"oZv7JzbI",section:"CMKYiA1k",title:"yxNNEITs",list:"m3sjMCmK",item:"F8sLtc8C"}},38892:function(e){e.exports={"color-primary":"X3EqwXe5","color-text-1":"grCWV32e","color-text-2":"zXCp8E_Q","color-text-3":"nvEgJO_7","font-sm":"__97AL1BTB","font-md":"iGu90FrJ","font-lg":"__8Sbz6S5b","font-bg":"__0N316MG8","single-line-ellipsis":"Tk2g0hmp","vertical-center":"iq9eATm_","justify-center":"_r0RwEBC","drop-list-wrap":"ZtLNbM0_","list-item":"RArEl1PL",separate:"PWFymq4x","grid-bg":"Z67jQpcs","line-bg":"SnEsahQH",tip:"P5mVJpFh","primary-btn":"gJPH_BXm","primary-text-btn":"__7_uLm9Lm","thin-scroll-bar":"GyniwxEG",page:"xqBc4JP_",filter:"c33VCsD_",pins:"Wh2SoxxJ",similar:"__2xMR15oC",activity:"__5q6Wal0s",close:"SSTAFBqf",container:"KLUFsWxM",img:"JaxZhGm9",time:"TC_LbHEM"}}},function(e){e.O(0,[3521,2919,9774,2888,179],(function(){return i=54667,e(e.s=i);var i}));var i=e.O();_N_E=i}]);
//# sourceMappingURL=[urlname]-67c2593c2534a114.js.map