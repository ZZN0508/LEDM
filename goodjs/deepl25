"use strict";(self.webpackChunk_deepl_gatsby=self.webpackChunk_deepl_gatsby||[]).push([[7215],{52644:function(e,t,r){var a;r.d(t,{M:function(){return n}});let n=((a={}).Admin="a",a.Editor="e",a.User="u",a)},94162:function(e,t,r){var a=r(84627);r(61606).Z.defineType("/translator/common/batchTranslation",["/translator/core/translateSourceSentences","/translator/core/config"],(e,t)=>{let r;let n=(0,a.S3)(0),o=(0,a.S3)(0),l=(0,a.S3)(0),s=(0,a.S3)(!1),i=(0,a.S3)(!1),c=(0,a.fo)(),u=(0,a.fo)(),d=()=>{var e;i(!0),null===(e=r)||void 0===e||e.stopped(!0)},g=()=>{s(!0),c(o())},p=()=>{s()&&(s(!1),u(i(),o(),l()),i(!1),n(0))},h=t.get("isWriteMode"),f=h?1e3:0;return e.onBatchedTranslationRequestStarted.push((e,t)=>{if(t.numNotCachedBatchesToTranslate()>1){let a=()=>{o(t.numCharactersToTranslate()||1),l(t.numRemainingCharacters()),n(100-l()/o()*100)};if(f){let n=setTimeout(()=>{r=t,a(),g(),t.numRemainingCharacters.onValueChanged.push(a),e.onRequestEnded.push(p)},f);t.finished.onValueChanged.push(e=>{e&&p(),e&&clearTimeout(n)})}else t.currentBatchId.onValueChanged.push(n=>{1===n&&(r=t,a(),g(),t.finished.onValueChanged.push(e=>{e&&p()}),t.numRemainingCharacters.onValueChanged.push(a),e.onRequestEnded.push(p))})}}),{progressPercentage:n.asReadOnly(),isDialogDisplayed:s.asReadOnly(),hasUserRequestedTranslationStop:i.asReadOnly(),stopTranslation:d,onTranslationProgressDialogDisplayed:c,onTranslationProgressDialogClosed:u}})},904:function(e,t,r){r(61606).Z.defineType("/translator/common/reloadHelper",["/translator/core/predefinedState","/translator/core/config","/translator/core/textareas"],(e,t,r)=>{let a,n,o,l;async function s(){let r=await e.serializeActiveState("full");try{window.sessionStorage.setItem("LMT_reloadState",JSON.stringify({state:r,isPro:t.get("CONFIG__IS_PRO")}))}catch(e){console.error(e)}}async function i(){await s(),window.location.reload()}let c=0;function u(){c=Date.now(),r.onSourceTextChanged.push(()=>{c=Date.now()}),r.onTargetTextChanged.push(()=>{c=Date.now()})}async function d(){if(clearTimeout(o),!a)return;let e=(a-Date.now())/1e3,t=!1,l=0,i=(Date.now()-c)/1e3,u=r.isSourceTextEmpty();e<=0?t=!0:e<=60?(t=u?i>2:i>10,l=1):e<=120?(t=u?i>10:i>30,l=2):e<=300?(t=u?i>30:i>60,l=10):e<=1800&&(t=u?i>60:i>300,l=30),t?(await s(),n()):o=setTimeout(d,1e3*l)}try{let e=window.sessionStorage.getItem("LMT_reloadState");e&&(window.sessionStorage.removeItem("LMT_reloadState"),l=JSON.parse(e))}catch(e){console.error(e)}return l&&(l.isPro&&!t.get("CONFIG__IS_PRO")||e.applyPredefinedState(l.state)),{prepareReload:s,reload:i,scheduleCarefulReload:function(e,t){void 0===t&&(t=()=>window.location.reload()),u();let r=1e3*e+Date.now();(!a||r<a)&&(a=r),n=t,d()},initListeners:u}})},90758:function(e,t,r){var a=r(61606),n=r(98808),o=r(93546),l=r(67977),s=r(30171);a.Z.defineType("/translator/common/sendTranslationState",["/translator/webTranslatorCore","/translator/core/languageManagement","/translator/core/translationBackend","/translator/core/config","/translator/core/textareas","/translator/common/observeTextSession","/translator/core/requestHandling","/translator/common/alternativeTranslations","/translator/environment/analyticsSession"],(e,t,r,a,i,c,u,d,g)=>{let p="[sendTranslationState]";if(a.get("CONFIG__IS_PRO"))return;let h=a.get("isWriteMode")?"writeState":"translationState",f=!1,S=Math.floor(1e8*Math.random()),m=(0,n.f)();e.features.with(["/translator/glossary"],e=>{m.push((t,r)=>{if(!e.isGlossaryEnabled())return;r.getTargetSentences().some(e=>Array.isArray(e.highlights)&&e.highlights.some(e=>"glossaryHighlight"===e.type))&&(Array.isArray(t.targetTextWasChangedByUser)||(t.targetTextWasChangedByUser=[]),t.targetTextWasChangedByUser.push("glossary"));let a=r.getSourceLang().toUpperCase(),n=r.getTargetLang().toUpperCase(),o=e.glossaryLangPairSets().find(e=>e.langSource.toUpperCase()===a&&e.langTarget.toUpperCase()===n);o&&o.entries&&(t.glossaryEntries=o.entries.map(e=>`${e.textSource}	${e.textTarget}`).join("\n"))})}),e.features.with(["/translator/write/writeAlternatives"],e=>{let t=e=>t=>{if("alternativesRejected"===e&&t.popupOpenInSeconds<3)return;let r={sourceSentence:t.sourceSentencePointer,targetSentence:t.targetSentencePointer,alternativeSelected:t.alternativeSelected,alternativesShown:t.alternativesShown.map(e=>({text:e.text,variant:e.variant})),alternativeType:t.alternativeType,popupOpenInSeconds:t.popupOpenInSeconds,userScrolled:t.userScrolled,scrollingNeeded:t.scrollingNeeded,userSwitchedAlternativeTab:t.userSwitchedAlternativeTab,alternativesVisibleCount:t.visibleAlternatives.length};O(e,r)};e.onBeforeAlternativeApplied.push(t("alternativeSelected")),e.onAlternativeRejected.push(t("alternativesRejected"))}),e.features.with(["/translator/write/writeSentenceAlternatives"],e=>{let t=e=>{let t={alternativeSelected:e.alternativeSelected,alternativesShown:e.alternativesShown.map(e=>({text:e.text,variant:e.variant})),alternativeType:"sentenceFromBottomList"};O("alternativeSentenceSelected",t)};e.onBeforeAlternativeApplied.push(t)}),e.features.with(["/translator/write/writeRevert"],e=>{e.onBeforeTargetSentenceReverted.push((e,t)=>{O("revertedToOriginalSentence",{sourceSentence:e,targetSentence:t})})});let T=(0,n.f)();T.push(e=>{e.dl={h:(0,l.fy)("h")(),d:(0,l.fy)("d")(),c:(0,l.fy)("c")(),a:(0,l.fy)("a")(),a2:(0,l.fy)("a2")()}});let v=g.getSessionId(),y=g.getUserId(),w=a.get("userCountry"),C=y?function(e){let t=2166136261;for(let r=e.length-1;r>=0;--r)t^=e.charCodeAt(r),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(y)%1e6:0;C&&T.push(e=>{e.uBucket=C}),T.push(e=>{v&&(e.dapSid=v),y&&(e.dapUid=y)}),w&&T.push(e=>{e.userCountry=w});{let e,t=!1,r=e=>{(e.isTrusted||void 0===e.isTrusted)&&(t=!0,window.removeEventListener("mousemove",r))};window.addEventListener("mousemove",r),e=a.get("isApp")?"app":a.get("isMobile")?"mobile":"desktop",m.push((r,a)=>{let n=0;o.$<=1&&(n=1),"desktop"!==e||t||(n*=.5),r.platform={system:e,hScore:n}})}function _(){let e=t.getActiveLangContext(),r=e.getTargetSentences(),n=i.getSourceText(),o=i.getTargetText(),l=[];r.some(e=>e.hasChangedText())&&l.push("manually");let s={};T(s);let u={version:"v1",type:h,lang:{source:e.getSourceLang(),target:e.getTargetLangSettings(),selectedSource:t.getSelectedSourceLang(),selectedTarget:t.getSelectedTargetLangSettings(),interface:(a.get("il")||"").toUpperCase(),preferredLangs:t.getPreferredLangs()},rawCharacterCountSourceText:n.length,rawCharacterCountTargetText:o.length,sourceText:n.substr(0,5e3),targetText:o.substr(0,1e4),targetTextWasChangedByUser:l,textSession:c.getTextSessionId(),browserSession:S,stats:s,platform:{}};return m(u,e),u}m.push((e,t)=>{var r,a;let n=null!==(r=null===(a=d.activeAlternatives())||void 0===a?void 0:a.map(e=>e.text))&&void 0!==r?r:[];n.length&&(e.alternativeTranslations=n)});let x="";function O(e,t){if(void 0===t&&(t={}),a.get("CONFIG__IS_PRO")){console.warn(p,"Should not happen. Safety check.");return}try{f=!0;let a={..._(),...t},n=JSON.stringify(a);if(x===n)return;x=n,a.trigger=e,r.sendAdditionalData(a).catch(e=>{})}catch(e){}}let A=!1;function L(e){(0,s.S1)([c.isTranslationCorrectionSessionActive,c.isPartialTranslationSessionActive],(t,n)=>{if(!t&&!n)return setTimeout(()=>{f&&function(e){try{if(a.get("CONFIG__IS_PRO")){console.warn(p,"Should not happen. Safety check.");return}let t={};T(t);let n={version:"v1",type:`${h}-event`,trigger:e,textSession:c.getTextSessionId(),browserSession:S,stats:t};r.sendAdditionalData(n).catch(e=>{})}catch(e){}}(e)}),"REMOVE"})}return c.onFullTranslation.push(()=>{O("newSourceText")}),c.onPartialTranslation.push(()=>O("changedSourceText")),c.onTranslationCorrection.push(()=>O("changedTargetText")),c.onLanguageSwitchTriggered.push(()=>{A=!0}),t.onSelectedTargetLangSettingsChanged.push(()=>{setTimeout(()=>u.waitForPendingRequests().then(()=>{A?(A=!1,O("languageSwitch")):O("changedTargetLang")}))}),e.features.with(["/translator/web/translationRating"],e=>{e.onTranslationRatingClicked.push(e=>{let{ratingOption:t}=e;L(1===t?"rateResult_good":"rateResult_bad")})}),e.features.with(["/translator/common/copyTargetText","/translator/common/interceptClipboard"],(e,t)=>{let r=!1;e.onBeforeCopy.push(()=>{r=!0}),e.onAfterCopy.push(()=>{r=!1,L("copyTarget")}),t.doUpdateCopiedTranslation.push(()=>{r||L("copyTarget")})}),e.features.with(["/translator/common/llmServices"],e=>{let{onChatCompletion:t,onTextCompletion:r}=e,n=a.get("isWriteMode")?"write":"translator",o=e=>`${n}-${e}__params`;t.push((e,t,r)=>{O(e,{type:o(e),completion:{parameters:t,result:r}})}),r.push((e,t,r)=>{O(e,{type:o(e),completion:{parameters:t,result:r}})})}),{dbg_prepareData:_}})},49199:function(e,t,r){var a=r(58425),n=r(61606),o=r(30171),l=r(98808);n.Z.defineType("/translator/common/shareTargetText",["/translator/webTranslatorCore","/translator/core/config","/translator/core/textareas","core/requestHandling","/translator/common/share","/translator/common/shareUrl"],(e,t,r,n,s,i)=>{let c=(0,l.f)(),u=(0,l.f)(),d=(0,o.G7)([e.sourceIsEmpty,n.hasPendingRequestsOfType(a.Xk.TYPE__TRANSLATE_SOURCE)],(e,t)=>!e&&!t||r.getTargetText().length>0),g=()=>{let{url:t,shortened:a,fullTargetText:n}=i.createShareUrlByLangContext(e.getActiveLangContext(),s.targetTextHasBeenAltered(e.getActiveLangContext()));return{originalText:r.getTargetText(),text:n,url:t,shortened:a}};return{canShare:d,getShareData:g,onShareStarted:c,onShareFinished:u,useTranslatedByFooter:!t.get("CONFIG__IS_PRO")}})},43101:function(e,t,r){r(61606).Z.defineType("/translator/common/shareUrl",[],()=>{let e=e=>encodeURIComponent(e.replace(/([\\|/])/g,"\\$1")),t=function(t,r,a){void 0===a&&(a=0);let n=[],o=a,l=!1,s="";return t.some((t,a)=>{let i=e(t);if(o+i.length>1900)return l=!0,!0;let c=r[a];return s+=c||"[...]",o+=i.length,n.push(i),!1}),{text:n.join(""),shortened:l,fullTargetText:s}},r=function(t,r,a){void 0===a&&(a=0);let n=[],o=a,l=!1,s="";return t.some((t,a)=>{let i=e(t);if(o+i.length>1900)return l=!0,!0;let c=r[a],u=c&&e(c)||"[...]";return o+u.length>1900?(l=!0,!0):(s+=c&&c||"[...]",o+=i.length+u.length+2,n.push(i+encodeURIComponent("|")+u),!1)}),{text:n.join("|"),shortened:l,fullTargetText:s}},a=(e,t,r,a)=>{let n=e,o="";if(t.length&&r&&a){let e=r.toLowerCase(),l=a.toLowerCase(),s=e===l?e:`${e}/${l}`;n+=o=`#${s}/${t}`}return{url:n,hash:o}},n=(e,n,o,l,s)=>{let i=`${window.location.origin}${window.location.pathname.replace(/(.*?translator[^/]*)(.*)$/i,"$1")}${window.location.search}`,{text:c,shortened:u,fullTargetText:d}=s?r(e,n,i.length):t(e,n,i.length),{url:g,hash:p}=a(i,c,o,l);return{url:g,shortened:u,fullTargetText:d,hash:p}},o=(e,t)=>{let r=e.sourceSentences.map(e=>e.getText()),a=e.sourceSentences.map((t,r)=>{var a;return null===(a=e.targetSentences[r])||void 0===a?void 0:a.getText()});return n(r,a,e.getSourceLang(),e.getTargetLang(),t)},l=(e,r)=>{let n=`${window.location.origin}/write${window.location.search}`,{text:o,shortened:l,fullTargetText:s}=t(e,e,n.length),{url:i,hash:c}=a(n,o,r,r);return{url:i,shortened:l,fullTargetText:s,hash:c}};return{createShareUrl:n,createShareUrlByLangContext:o,createShareUrlForWrite:l,MAX_TEXT_LENGTH:1900}})},85606:function(e,t,r){var a=r(61606),n=r(30171),o=r(67974),l=r(67977),s=r(40977);r(12959);let i=["1","7","30"];a.Z.defineType("/translator/common/translatorStats",["/translator/core/translationBackend","/translator/core/textareas","/translator/environment/analyticsSession","/translator/core/config","/translator/environment/sendAnalytics"],(e,t,r,a,c)=>{let{translationBackend:u}=e,{characterVolumeBlockDurationInMs:d}={};d&&console.warn("[translatorStats]","init");let g=d&&parseInt(d,10)||864e5;(0,n.S1)(u,e=>{e.onTranslationsReceived.push((e,t,a,n)=>{r.registerUserActivity();let o=new Date().toLocaleDateString(),s=(0,l.fy)("g","");s()!=o&&(s(o),(0,l.mq)("h",e=>e+1,0));let i=0;t.forEach(e=>{let{beams:t}=e;Array.isArray(t)&&t.length>0&&(t[0].sentences?t[0].sentences.forEach(e=>{i+=(e.text||"").length}):i+=(t[0].postprocessed_sentence||"").length)});let c=e.source_lang+n.target_lang,u=Array.isArray(a)&&a.length>0?a[0].kind:"";"default"!=u?"alternatives_at_position"==u&&(0,l.mq)("d",e=>e+1,0):((0,l.mq)("a2",e=>e+i,0),4==c.length&&(0,l.mq)("b",e=>(e[c]=i+(void 0===e[c]?0:e[c]),JSON.parse(JSON.stringify(e))),{}))})});let p=()=>{let e=localStorage.getItem("LMT_text_translator_usage_free");return e?JSON.parse(e):{}},h=()=>{let{characterVolumeByDays:e={}}=p();return e},f=e=>{let t=p();for(let r in e)t[r]=e[r];localStorage.setItem("LMT_text_translator_usage_free",JSON.stringify(t))},S=e=>{var t;let{characterVolumeByDays:r={},characterVolume:n=0}=p(),o=a.get("CONFIG__IS_PRO"),l=o?0:Math.min(e,null!==(t=a.get("CONFIG__MAX_NUM_CHARACTERS"))&&void 0!==t?t:5e3);f({characterVolume:n+l,characterVolumeByDays:Object.fromEntries(new Map(i.map(t=>{var a,n,o,l,s;return[t,{timestamp:null!==(a=null===(n=r[t])||void 0===n?void 0:n.timestamp)&&void 0!==a?a:Date.now(),characterVolume:(null!==(o=null===(l=r[t])||void 0===l?void 0:l.characterVolume)&&void 0!==o?o:0)+e,...null!==(s=r[t])&&void 0!==s&&s.previousVolume?{previousVolume:r[t].previousVolume}:{}}]})))})},m=()=>{let e=Date.now(),t=Object.fromEntries(new Map(i.map(t=>[t,{timestamp:e,characterVolume:0}])));f({characterVolumeByDays:t,firstCharacterEntered:e})},T=(e,t)=>{c.send({id:s.qb.EVENT_ID_CHARACTER_VOLUME,data:{characterVolumeData:{characterVolumePeriod:{1:1,7:2,30:3}[e],characterVolume:t}}})},v=()=>{let e=Date.now(),t=h();for(let r in t){let{timestamp:a,characterVolume:n}=t[r];if(e-parseInt(a,10)>=864e5*parseInt(r,10)){T(parseInt(r,10),parseInt(n,10));let t=p();localStorage.setItem("LMT_text_translator_usage_free",JSON.stringify({...t,characterVolumeByDays:{...null==t?void 0:t.characterVolumeByDays,[r]:{timestamp:e,characterVolume:0,previousVolume:n}}}))}}},y=(e,t)=>{if(t===e)return -1;let r=0;for(;e[r]&&e[r]===t[r];)r+=1;return r},w=(e,t)=>{if(e===t)return -1;let r=e.length-1,a=t.length-1;for(;r>=0&&a>=0&&e[r]===t[a];)r-=1,a-=1;return r},C=(e,t)=>{let r=y(e,t),a=w(e,t),n=e.substring(r,a+1);return r>a?Math.max(e.length-t.length,0):n.length},_=0,x=t.getSourceText();t.onSourceTextChanged.push((e,a)=>{if("typing"===a&&(_+=1,(0,o.wx)("typed_chars",()=>{(0,l.mq)("c",e=>e+_,0),_=0},3e3)),["paste","predefinedState","replace","typing","update"].includes(a)){var n;let{characterVolumeByDays:r={},firstCharacterEntered:o,characterVolumeReset:l=0}=p();null!==(n=Object.keys(r))&&void 0!==n&&n.length?v():m(),o||f({firstCharacterEntered:Date.now()}),(!l||l+g<=Date.now())&&f({characterVolumeReset:Date.now(),characterVolume:0}),S("update"===a?e.length:C(e,x)),x=t.getSourceText()}r.registerUserActivity()}),t.onTargetTextChanged.push(()=>{r.registerUserActivity()})})},65394:function(e,t,r){r.d(t,{z:function(){return n}});var a=r(43714);let n=e=>{let t=e.auth.userType,r=t.wasPro?Math.floor((t.lastLoginTime||0)/864e5):null;return r&&r+7>=(0,a.P)()}},95803:function(e,t,r){var a=r(30171),n=r(98808),o=r(61606),l=r(12959),s={ad:!0,survey:!1},i=r(94232);let c="formality/ad";o.Z.defineType("/translator/formality/ad",["webTranslatorCore","core/translateSourceSentences","core/config","formality/core","core/textareas"],(e,t,r,o,u)=>{let d="1"===l.Z.dev_formalityAd||s.ad&&!r.get("CONFIG__IS_PRO")&&!r.get("isWriteMode"),g=(0,a.S3)(!1),p=(0,n.f)(),h=u.getTargetDTextarea();function f(){g()&&(g(!1),setTimeout(()=>{null==h||h.unlockUndoStack(c)},10))}return g.onValueChanged.push(e=>{e||o.activeFormalityMode(i.H.AUTO)}),t.onTargetSentencesHaveChanged.push(()=>{d&&f()}),(0,a.S1)([o.activeFormalityMode],e=>{g()&&f()}),(0,a.S1)([o.activeFormalityModeManuallySelected],e=>{d&&e&&t.onTargetSentencesHaveChanged.push(()=>(null==h||h.lockUndoStack(c),setTimeout(()=>{g(!0)},1e3),"REMOVE"))}),e.features.with(["/translator/common/popups"],e=>{e.onHide.push(()=>{g(!1)})}),{isAdVisible:g,closeAd:f,onProPageRequested:p}})},64:function(e,t,r){var a=r(61606),n=r(12959),o=r(98808),l=r(30171),s=r(94232);let i={AUTO:"auto",FORMAL:"formal",INFORMAL:"informal"};a.Z.defineType("/translator/formality/core",["core/languageManagement","core/retranslationServices","webTranslatorCore","/translator/formality/persist","/translator/core/config","/translator/core/predefinedState"],(e,t,r,a,c,u)=>{var d;let g=c.get("CONFIG__IS_PRO"),{lang:p,variant:h}=e.getSelectedTargetLangSettings(),f=(0,l.S3)(h||p),S=(0,l.S3)(e.getSelectedSourceLang()),m=null!==(d=a.persistedFormalityMode())&&void 0!==d?d:null,T=(0,l.S3)(null),v=(0,l.S3)(0),y=(0,o.f)(),w=(0,l.S3)(m),C=(e,t)=>{var a,o;let[l]=e.split("-"),s=r._internalLanguageManagement.langConfig[null!==(a=null==l?void 0:l.toUpperCase())&&void 0!==a?a:""],i=!!(null!==(o=s.formalitySourceLangExclusions)&&void 0!==o&&o.includes(t.toUpperCase())),{formalityModes:c}=s;return i&&(c=[]),!c.length&&n.Z.dev_enableFormality&&(c=["informal","formal"]),c};function _(e){let{langContext:t,formality:r}=e;t.setTranslationJobParams("translationFormality",{formality:r===s.H.AUTO?void 0:r})}return(0,l.S1)([w],e=>{e&&(T(e),a.persistedFormalityMode(e),v(v()+1),y())}),e.onSelectedTargetLangSettingsChanged.push(e=>{let{lang:t,variant:r}=e;t&&f(r||t),r?f(r):t&&f(t)}),e.onSelectedSourceLangChanged.push(e=>{e&&S(e)}),e.onSourceLangDetected.push(e=>{e&&S(e)}),(0,l.S1)([f,S],(e,t)=>{if(g){let r=C(e,t);if(r.includes(T()))return;let n=a.persistedFormalityMode();if(r.includes(n)){T(n),w(n);return}}T("auto"),w(null)}),(0,l.S1)([f,T],(r,a)=>{(function(r){let{targetLangCode:a,formalityMode:n}=r;_({langContext:e.getActiveLangContext(),formality:n});let o=u.isInPredefinedState()&&u.hasTargetText();o||t.retranslateEverything()})({targetLangCode:(r||"").toLowerCase(),formalityMode:a}),a===s.H.AUTO&&w(null)}),e.doPrepareNewLangContext.push(e=>{_({langContext:e,formality:T()})}),{FORMALITY_MODES:i,targetLang:f,sourceLang:S,activeFormalityMode:T,activeFormalityModeManuallySelected:w.asReadOnly(),numberOfTimesFormalitySelected:v,onActiveFormalityModeManuallySelected:y,getAvailableFormalityModesForLang:C,setUserSelectedMode:function(e){let r=u.isInPredefinedState();u.leavePredefinedState(),e!==w()?w(e):r&&t.retranslateEverything()}}})},54791:function(e,t,r){var a=r(4769),n=r(30171),o=r(61606),l=r(94232),s=r(84627);o.Z.defineType("/translator/formality",["webTranslatorCore","/translator/core/config","/translator/formality/core","/translator/common/openPage"],(e,t,r,o)=>{let{requestProPage:i}=o,c=(0,s.fo)(),u=(0,n.S3)(!1),d=(0,n.G7)(r.targetLang,e=>e.toLowerCase()),g=(0,n.G7)(r.sourceLang,e=>e.toLowerCase()),p=(0,n.G7)([d,g],(e,t)=>(function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=""),!e)return[];let n=r.getAvailableFormalityModesForLang(e,t),o=[l.H.AUTO].concat((0,a.Z)(n));return o})(e.toLowerCase(),t.toLowerCase())),h=(0,n.G7)(p,e=>e.includes(l.H.AUTO)),f=(0,n.G7)(p,e=>e.includes(l.H.FORMAL)),S=(0,n.G7)(p,e=>e.includes(l.H.INFORMAL)),m=(0,n.G7)([f,S],(e,r)=>(e||r)&&!t.get("isWriteMode")),T=()=>{c(),i({cta:"DuSie"})};return e.features.with(["/translator/formality/ad"],e=>{(0,n.S1)([e.isAdVisible],e=>u(e))}),{showProAds:!t.get("CONFIG__IS_PRO")&&!t.get("isWriteMode"),isAvailable:m,hasModeAuto:h,hasModeInformal:S,hasModeFormal:f,activeMode:r.activeFormalityMode,updateMode:function(e){r.setUserSelectedMode(e)},openProPage:T,onProPageRequested:c,isDisabled:u.asReadOnly()}})},7545:function(e,t,r){var a=r(75671),n=r(30171);r(61606).Z.defineType("/translator/formality/persist",["/translator/core/config"],e=>{let t=e.get("CONFIG__IS_PRO");return{persistedFormalityMode:(()=>{if(!t)return(0,n.S3)(null);let e=function(){try{let e=window.localStorage.getItem("LMT_formality");if(!e)return;let t=JSON.parse(e);if(!t._persist)return;window.localStorage.removeItem("LMT_formality");let r=JSON.parse(t.preferredMode);return(null==r?void 0:r._value)||void 0}catch{return}}();return(0,a.O)("LMT_formality.preferredMode",e,2592e3)})()}})}}]);