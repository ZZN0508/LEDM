(window.shark_room_jsonp=window.shark_room_jsonp||[]).push([["GiftRedEnvelop_f326452"],{"03e01e":function(e,t,r){"use strict";var i,n,a,l=r("1a22b7"),o=r.n(l),s=r("7ca7dc"),c=r("7912b6"),u=r("0faf5b"),d=r("278bac"),f=r.n(d),m=(r("5cd2c0"),"/shark/live/src/pages/roomPage/playerDialogModule/components/GiftRedEnvelop/components/RedEnvelopAvatar/index.js");function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var p=(i=(0,s.default.Service)(u.default),n=function(e){function RedEnvelopAvatar(){var t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RedEnvelopAvatar);for(var i=arguments.length,n=Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=r=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"mainServices",a,r),_possibleConstructorReturn(r,t)}return _inherits(RedEnvelopAvatar,e),RedEnvelopAvatar.prototype.render=function render(){var e=this.props,t=e.avatar,r=void 0===t?"":t,i=e.nn,n=void 0===i?"--":i,a=e.uid,l=this.mainServices.getYubaUrl(a,n);return o.a.createElement("div",{className:"RedEnvelopAvatar",__source:{fileName:m,lineNumber:25},__self:this},o.a.createElement("a",{target:"_blank",href:l,__source:{fileName:m,lineNumber:26},__self:this},o.a.createElement("div",{className:"RedEnvelopVC",__source:{fileName:m,lineNumber:27},__self:this},o.a.createElement(c.DyImg,{className:"RedEnvelopAvatar-dyimg",isLazyable:!1,src:r,defaultSrc:f.a,errorSrc:f.a,__source:{fileName:m,lineNumber:28},__self:this})),o.a.createElement("div",{className:"RedEnvelopVC",__source:{fileName:m,lineNumber:36},__self:this},o.a.createElement("div",{className:"RedEnvelopAvatar-nn ell",title:n,__source:{fileName:m,lineNumber:37},__self:this},n))))},RedEnvelopAvatar}(o.a.Component),a=function _applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(n.prototype,"mainServices",[i],{enumerable:!0,initializer:null}),n);t.default=p},"0812ee":function(e,t,r){"use strict";var i=r("c93464");t.default=i.default},"151e27":function(e,t,r){"use strict";r.d(t,"RANKCONFIG",function(){return i});var i={PRE:{layout:[{className:"dygrid20-col-4",title:"\u65f6\u95f4"},{className:"dygrid20-col-12",title:"\u6d41\u91cf\u6276\u6301\u660e\u7ec6"},{className:"dygrid20-col-4",title:"\u5931\u6548\u65f6\u95f4"}],mapping:{}}}},"15c12d":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/defgift_a2ba4e3.png"},"1df29c":function(e,t,r){"use strict";var i=r("8eec36");t.default=i.default},"278bac":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/defavatar_1e06ef7.jpg"},"29900c":function(e,t,r){},"4c1d3e":function(e,t,r){"use strict";var i,n,a,l=r("1a22b7"),o=r.n(l),s=r("447d8e"),c=r("7ca7dc"),u=r("7912b6"),d=r("0faf5b"),f=r("aa3a5c"),m=r("03e01e"),p=r("e54dc9"),_=r("151e27"),v=r("278bac"),b=r.n(v),N=r("15c12d"),h=r.n(N),E=(r("ca82bb"),"/shark/live/src/pages/roomPage/playerDialogModule/components/GiftRedEnvelop/RedEnvelopRes/RedEnvelopRes.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}_.RANKCONFIG.PRE;var R=null,g=(i=(0,c.default.Service)(d.default),n=function(e){function RedEnvelopRes(){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RedEnvelopRes);var r=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"mainServices",a,r),r.checkRes=function(){R=setTimeout(function(){var e=r.props,t=e.stateData,i=void 0===t?{}:t,n=e.giftRedEnvelopData,a=void 0===n?{}:n,l=r.mainServices.returnRedInfo().activityid,o=a.pageType,s=void 0===o?4:o,c={},u=i.cppResult;4===+s&&(c=void 0===u?{}:u);var d=(c||{}).data,f=void 0===d?{}:d,m=f.isSuc,p=f.activityid;void 0!==m&&+p===+l||r.setState({isTimeOut:!0})},15e3)},r.rankItem=function(e){var r=e.item,i=e.index,n=e.layout2,a=r||{},l=a.uname,s=void 0===l?"":l,c=a.uic,d=void 0===c?"":c,f=a.ppic,m=void 0===f?"":f,_=a.pmun,v=void 0===_?0:_,N=[o.a.createElement("div",{className:"RedEnvelopAvatar",__source:{fileName:E,lineNumber:108},__self:t},o.a.createElement("div",{className:"RedEnvelopVC",__source:{fileName:E,lineNumber:109},__self:t},o.a.createElement(u.DyImg,{className:"RedEnvelopAvatar-dyimg",isLazyable:!1,src:d,defaultSrc:b.a,errorSrc:b.a,__source:{fileName:E,lineNumber:110},__self:t})),o.a.createElement("div",{className:"RedEnvelopVC",__source:{fileName:E,lineNumber:118},__self:t},o.a.createElement("div",{className:"RedEnvelopAvatar-nn ell",title:s,__source:{fileName:E,lineNumber:119},__self:t},s))),o.a.createElement("div",{className:"RedEnvelopRes-gift",__source:{fileName:E,lineNumber:122},__self:t},o.a.createElement(u.DyImg,{className:"RedEnvelopRes-detailImg",isLazyable:!1,src:m,defaultSrc:h.a,errorSrc:h.a,__source:{fileName:E,lineNumber:123},__self:t}),o.a.createElement("div",{className:"RedEnvelopVC",__source:{fileName:E,lineNumber:130},__self:t},"\xd7",v))];return o.a.createElement(p.RowLayout,{extClass:"RankItem ",layout:n,content:N,key:"RankItem-"+i,__source:{fileName:E,lineNumber:134},__self:t})},r.getDetails=function(){r.mainServices.getRedDetails(),r.setState({showDetails:!0,showDetailsBtn:!1})},r.renderList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return e.slice(0,50).map(function(e,i){return r.rankItem({item:e,index:i,layout2:t})})},r.state={showDetails:!1,showDetailsBtn:!0,isTimeOut:!1,isOver:!1},r}return _inherits(RedEnvelopRes,e),RedEnvelopRes.prototype.componentDidMount=function componentDidMount(){var e=this.props.giftRedEnvelopData,t=(void 0===e?{}:e).pageType,r=void 0===t?4:t;return 4===+r?this.checkRes():44===+r?this.mainServices.getResultOfGotInfo():444===+r&&this.setState({isOver:!0}),null},RedEnvelopRes.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(R)},RedEnvelopRes.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.stateData,r=void 0===t?{}:t,i=e.giftRedEnvelopData,n=void 0===i?{}:i,a=this.mainServices.returnRedInfo().activityid,l=n.pageType;if(4===+(void 0===l?4:l)){var o=r.cppResult,s=(void 0===o?{}:o).data,c=void 0===s?{}:s,u=c.isSuc;+c.activityid===+a&&void 0!==u&&clearTimeout(R)}},RedEnvelopRes.prototype.returnResStatus=function returnResStatus(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isSuc,t=this.state,r=t.isTimeOut,i=4;if(t.isOver)return 4;if(r)return 2;if(void 0===e)return 1;switch(+e){case 0:i=4;break;case 1:i=3;break;default:return 4}return i},RedEnvelopRes.prototype.render=function render(){var e=this.props,t=e.stateData,r=void 0===t?{}:t,i=e.giftRedEnvelopData,n=void 0===i?{}:i,a=this.mainServices.returnRedInfo().activityid,l=n.pageType,s=void 0===l?4:l,c=this.state,u=c.showDetails,d=void 0!==u&&u,_=c.showDetailsBtn,v=void 0===_||_,b={},N=r.grabUrl,h=void 0===N?{}:N,R=r.cppResult,g=void 0===R?{}:R,y=r.gotRedResult,S=void 0===y?{}:y,P=r.redDetails,w=void 0===P?{}:P,O=(S.data,g.data);b=44===+s?S:4===+s&&+(void 0===O?{}:O).activityid===+a?g:{};var C=h.data,D=((void 0===C?{}:C).isSuc,b.data),k=void 0===D?{}:D,T=this.mainServices.returnRedInfo(),j=T.uname,z=void 0===j?"":j,I=T.uav,L=void 0===I?"":I,x=T.uid,H=this.returnResStatus(k),q=w.data,A=void 0===q?{}:q,M=A.hprpnum,V=void 0===M?0:M,G=A.prtotal,B=void 0===G?0:G,F=A.list,W=void 0===F?[]:F,U=[{className:"RedEnvelopVC RedEnvelopRes-resLeft",title:"\u5927\u5bb6\u7684\u624b\u6c14"},{className:"RedEnvelopVC RedEnvelopRes-resRight",title:"\u5df2\u9886\u53d6"+V+"/"+B}],Y=v?o.a.createElement("div",{className:"RedEnvelopPanel-btn",onClick:this.getDetails,__source:{fileName:E,lineNumber:224},__self:this},"\u5927\u5bb6\u7684\u624b\u6c14>"):"";return o.a.createElement("div",{className:"RedEnvelopRes",__source:{fileName:E,lineNumber:227},__self:this},o.a.createElement(p.ScrollBar,{scrollHeight:460,__source:{fileName:E,lineNumber:228},__self:this},o.a.createElement("div",{className:"RedEnvelopRes-user",__source:{fileName:E,lineNumber:229},__self:this},o.a.createElement(m.default,{avatar:L,nn:z,uid:x,__source:{fileName:E,lineNumber:230},__self:this}),o.a.createElement("div",{className:"RedEnvelopVC",__source:{fileName:E,lineNumber:231},__self:this},"\u7684\u7ea2\u5305")),o.a.createElement(f.default,{data:k,status:H,__source:{fileName:E,lineNumber:233},__self:this}),3===+H||4===+H?Y:"",d?o.a.createElement("div",{className:"RedEnvelopRes-list",__source:{fileName:E,lineNumber:238},__self:this},o.a.createElement(p.RankHeader,{layout:U,__source:{fileName:E,lineNumber:239},__self:this}),this.renderList(W,U),W&&W.length>=50?o.a.createElement("div",{className:"RedEnvelopList-bottomTxt",__source:{fileName:E,lineNumber:243},__self:this},"\u4ec5\u5c55\u793a\u524d50\u4e2a\u62a2\u5230\u7ea2\u5305\u7684\u6c34\u53cb"):""):null))},RedEnvelopRes}(o.a.Component),a=function _applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(n.prototype,"mainServices",[i],{enumerable:!0,initializer:null}),n);t.default=Object(s.connect)(function mapStateToProps(e){return{giftRedEnvelopData:e.giftRedEnvelopData}})(g)},"4e9265":function(e,t,r){},"50a92b":function(e,t,r){"use strict";var i=r("869b94");t.default=i.default},"5cd2c0":function(e,t,r){},"5d90d5":function(e,t,r){},"5de2b5":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/defred_1b053c2.png"},"7a1231":function(e,t,r){"use strict";var i=r("e0b7d9");t.default=i.default},"7c1be6":function(e,t,r){},"7f1caa":function(e,t,r){"use strict";var i=r("9c51d4");t.default=i.default},"869b94":function(e,t,r){"use strict";var i=r("1a22b7"),n=r.n(i),a=(r("87ac91"),"/shark/live/src/pages/roomPage/playerDialogModule/components/GiftRedEnvelop/components/CircleProgress/CircleProgress.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var l=function(e){function CircleProgress(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CircleProgress),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(CircleProgress,e),CircleProgress.prototype.render=function render(){var e=this.props.lastTime,t=void 0===e?0:e;return n.a.createElement("div",{className:"RedCircleProgress",__source:{fileName:a,lineNumber:14},__self:this},n.a.createElement("div",{className:"RedCircleProgress-half is-right",__source:{fileName:a,lineNumber:15},__self:this},n.a.createElement("div",{className:"RedCircleProgress-inner rightcircle",style:{animationDuration:"180s",animationDelay:t-180+"s"},__source:{fileName:a,lineNumber:16},__self:this})),n.a.createElement("div",{className:"RedCircleProgress-half is-left",__source:{fileName:a,lineNumber:18},__self:this},n.a.createElement("div",{className:"RedCircleProgress-inner leftcircle",style:{animationDuration:"180s",animationDelay:t-180+"s"},__source:{fileName:a,lineNumber:19},__self:this})))},CircleProgress}(n.a.Component);t.default=l},"87ac91":function(e,t,r){},"8eec36":function(e,t,r){"use strict";var i,n,a,l=r("1a22b7"),o=r.n(l),s=r("447d8e"),c=r("7ca7dc"),u=r("0faf5b"),d=(r("c94fe4"),"/shark/live/src/pages/roomPage/playerDialogModule/components/GiftRedEnvelop/components/Header/Header.js");function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var f=(i=(0,c.default.Service)(u.default),n=function(e){function Header(){var t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Header);for(var i=arguments.length,n=Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=r=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"mainServices",a,r),r.clickRecord=function(){(0,r.props.goPage)(6)},r.backToRedList=function(){(0,r.props.goPage)(1),r.mainServices.switchTypeId(1),r.mainServices.reqRankData("redList"),r.mainServices.setCdTime()},r.goRuleIntro=function(){window.open("https://www.douyu.com/cms/huo/201912/05/11863.shtml","_blank")},_possibleConstructorReturn(r,t)}return _inherits(Header,e),Header.prototype.header12=function header12(e){return[o.a.createElement("div",{className:"RedEnvelopHeader-linkBtn is-rule",key:"RedEnvelopHeader-rule",onClick:this.goRuleIntro,__source:{fileName:d,lineNumber:37},__self:this},"\u89c4\u5219\u4ecb\u7ecd"),o.a.createElement("div",{className:"RedEnvelopHeader-linkBtn is-record",key:"RedEnvelopHeader-record",onClick:this.clickRecord,__source:{fileName:d,lineNumber:39},__self:this},"\u6211\u7684\u8bb0\u5f55")]},Header.prototype.header4=function header4(e){return o.a.createElement("div",{className:"RedEnvelopHeader-linkBtn is-back",onClick:this.backToRedList,__source:{fileName:d,lineNumber:45},__self:this},"\u8fd4\u56de")},Header.prototype.header35=function header35(e){return o.a.createElement("div",{className:"RedEnvelopHeader-linkBtn is-back",onClick:this.backToRedList,__source:{fileName:d,lineNumber:51},__self:this},"\u5168\u90e8\u7ea2\u5305")},Header.prototype.renderHeader=function renderHeader(){var e=this.props,t=e.giftRedEnvelopData,r=void 0===t?{}:t,i=e.goPage,n=r.pageType;switch(void 0===n?1:n){case 1:case 2:return this.header12(i);case 3:case 5:return this.header35(i);case 4:case 44:case 444:case 6:return this.header4(i);default:return this.header12(i)}},Header.prototype.render=function render(){return o.a.createElement("div",{className:"RedEnvelopHeader",__source:{fileName:d,lineNumber:79},__self:this},this.renderHeader())},Header}(o.a.Component),a=function _applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(n.prototype,"mainServices",[i],{enumerable:!0,initializer:null}),n);t.default=Object(s.connect)(function mapStateToProps(e){return{giftRedEnvelopData:e.giftRedEnvelopData}})(f)},"977eb1":function(e,t,r){},"9c51d4":function(e,t,r){"use strict";var i,n,a,l,o,s=r("1a22b7"),c=r.n(s),u=r("eb3e22"),d=r("447d8e"),f=r("722b8a"),m=(r("7912b6"),r("7ca7dc")),p=r("0faf5b"),_=r("e0caff"),v=r("e54dc9"),b=r("50a92b"),N=r("03e01e"),h=(r("7c1be6"),"/shark/live/src/pages/roomPage/playerDialogModule/components/GiftRedEnvelop/RedEnvelopInfo/RedEnvelopInfo.js");function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=m.default.Service,R={content:c.a.createElement("div",{__source:{fileName:h,lineNumber:24},__self:void 0},c.a.createElement("p",{__source:{fileName:h,lineNumber:25},__self:void 0},"\xb7 \u7ea2\u5305\u6570\u91cf\u6709\u9650\uff0c\u5148\u5230\u5148\u5f97"),c.a.createElement("p",{__source:{fileName:h,lineNumber:26},__self:void 0},"\xb7 \u6bcf\u4e2a\u7528\u6237\u6700\u591a\u53ef\u62a2\u5230\u4e00\u4e2a\u793c\u7269"),c.a.createElement("p",{__source:{fileName:h,lineNumber:27},__self:void 0},"\xb7 \u793c\u7269\u5230\u671f\u65f6\uff0c\u4f1a\u81ea\u52a8\u8d60\u9001\u7ed9\u5f53\u524d\u4e3b\u64ad")),boxRight:-38,arrowRight:24},g=null,y=(i=E(p.default),n=E(u.DataCenter.localStorage),a=function(e){function RedEnvelopInfo(){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RedEnvelopInfo);var r=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(r,"mainServices",l,r),_initDefineProp(r,"localStorage",o,r),r.infoRedTpl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.prnum,i=void 0===r?0:r,n=e.prplist,a=void 0===n?[]:n;return c.a.createElement("div",{className:"RedEnvelopInfo-reds",__source:{fileName:h,lineNumber:109},__self:t},a.slice(0,4).map(function(e,r){return c.a.createElement(_.default,{data:e,key:"RedEnvelopSmall-"+r,__source:{fileName:h,lineNumber:111},__self:t})}),c.a.createElement("div",{className:"RedEnvelopInfo-bagcal",__source:{fileName:h,lineNumber:113},__self:t},"\u5171",i,"\u4e2a\u7ea2\u5305\uff0c\u62a2\u5230\u7684\u793c\u7269\u5b58\u5165\u80cc\u5305\u4e14\u4ec5\u80fd\u8d60\u9001\u7ed9\u5f53\u524d\u4e3b\u64ad",c.a.createElement(v.QuestionTip,{title:"",tips:R,__source:{fileName:h,lineNumber:114},__self:t})))},r.qiang=function(){if(r.mainServices.returnIsAnchor())f.default.info("\u4e3b\u64ad\u4e0d\u80fd\u5728\u81ea\u5df1\u623f\u95f4\u62a2\u7ea2\u5305");else{var e=r.state.data,t=void 0===e?{}:e,i=(t.activityid,t.cdtime,t.joinc),n=void 0===i?0:i;r.isOk(+n)?r.mainServices.getRedEnvelop():f.default.info("\u60a8\u672a\u8fbe\u6210\u53c2\u4e0e\u6761\u4ef6")}},r.state={defaultTime:0,data:{}},r}return _inherits(RedEnvelopInfo,e),RedEnvelopInfo.prototype.componentDidMount=function componentDidMount(){this.mainServices.resetReqState("grabUrl");var e=this.mainServices.returnRedInfo(),t=e.cdtime,r=void 0===t?0:t,i=e.activityid,n=this.mainServices.returnUid();+(this.localStorage.get("RedEnvelop-"+i+"-"+n)||0)?this.mainServices.getResultOfGot():(this.setState({defaultTime:r,data:this.mainServices.returnRedInfo()}),this.setCdTime())},RedEnvelopInfo.prototype.setCdTime=function setCdTime(){var e=this;g=setInterval(function(){var t=Object.assign({},e.state).data,r=t.cdtime;+r>0?(r-=1,t.cdtime=r,e.setState({data:t})):clearInterval(g)},1e3)},RedEnvelopInfo.prototype.componentWillUnmount=function componentWillUnmount(){clearInterval(g)},RedEnvelopInfo.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.stateData,r=void 0===t?{}:t,i=(e.giftRedEnvelopData,this.mainServices.returnRedInfo().activityid),n=r.cppResult,a=(void 0===n?{}:n).data;if(+(void 0===a?{}:a).activityid===+i){this.mainServices.togglePanelType(4);var l=this.mainServices.returnUid();this.localStorage.set("RedEnvelop-"+i+"-"+l,1,600)}},RedEnvelopInfo.prototype.reqTxt=function reqTxt(e){switch(e){case 0:return"\u5168\u90e8\u6c34\u53cb\u53ef\u62a2";case 1:return"\u5173\u6ce8\u4e3b\u64ad\u5373\u53ef\u53c2\u4e0e\u62a2\u7ea2\u5305";case 2:return"\u52a0\u5165\u7c89\u4e1d\u56e2\u5373\u53ef\u53c2\u4e0e\u62a2\u7ea2\u5305";case 3:return"\u5173\u6ce8\u4e3b\u64ad\u5e76\u52a0\u5165\u7c89\u4e1d\u56e2\u5373\u53ef\u53c2\u4e0e\u62a2\u7ea2\u5305";default:return null}},RedEnvelopInfo.prototype.isOk=function isOk(e){var t=this.props.giftRedEnvelopData,r=void 0===t?{}:t,i=r.isFollowed,n=void 0!==i&&i,a=r.isFans,l=void 0!==a&&a,isOk=!1;switch(+e){case 0:isOk=!0;break;case 1:n&&(isOk=!0);break;case 2:l&&(isOk=!0);break;case 3:n&&l&&(isOk=!0);break;default:return!1}return isOk},RedEnvelopInfo.prototype.render=function render(){var e=this.props,t=(e.goPage,e.stateData,this.state),r=t.data,i=void 0===r?{}:r,n=t.defaultTime,a=void 0===n?0:n,l=i.yc,o=void 0===l?0:l,s=i.cdtime,u=void 0===s?0:s,d=i.uname,f=void 0===d?"--":d,m=i.uav,p=void 0===m?"":m,_=i.joinc,v=void 0===_?0:_,E=i.uid;return c.a.createElement("div",{className:"RedEnvelopInfo",__source:{fileName:h,lineNumber:198},__self:this},c.a.createElement(N.default,{avatar:p,nn:f,uid:E,__source:{fileName:h,lineNumber:199},__self:this}),c.a.createElement("div",{className:"RedEnvelopInfo-yctxt",__source:{fileName:h,lineNumber:200},__self:this},"\u9001\u51fa",c.a.createElement("span",{className:"RedEnvelopInfo-yc",__source:{fileName:h,lineNumber:200},__self:this},this.mainServices.formatDecimals(+o/100,1),"\u9c7c\u7fc5"),"\u793c\u7269\u7ea2\u5305"),this.infoRedTpl(i),+u>0?c.a.createElement("div",{className:"RedEnvelopInfo-circleProgress",__source:{fileName:h,lineNumber:205},__self:this},c.a.createElement(b.default,{lastTime:+a,__source:{fileName:h,lineNumber:206},__self:this}),c.a.createElement("div",{className:"RedEnvelopInfo-circleTxt",__source:{fileName:h,lineNumber:207},__self:this},c.a.createElement("div",{className:"RedEnvelopVC",__source:{fileName:h,lineNumber:208},__self:this},c.a.createElement("div",{className:"RedEnvelopInfo-time",__source:{fileName:h,lineNumber:209},__self:this},+u,"s"),c.a.createElement("div",{className:"RedEnvelopInfo-txt",__source:{fileName:h,lineNumber:210},__self:this},"\u540e\u53ef\u62a2")))):c.a.createElement("div",{className:"RedEnvelopInfo-circleProgress",onClick:this.qiang,__source:{fileName:h,lineNumber:214},__self:this},c.a.createElement("div",{className:"RedEnvelopInfo-circleTxt",__source:{fileName:h,lineNumber:215},__self:this},c.a.createElement("div",{className:"RedEnvelopVC",__source:{fileName:h,lineNumber:216},__self:this},c.a.createElement("div",{className:"RedEnvelopInfo-qiang",__source:{fileName:h,lineNumber:217},__self:this},"\u62a2")))),c.a.createElement("div",{className:"RedEnvelopInfo-req",__source:{fileName:h,lineNumber:222},__self:this},this.reqTxt(+v),c.a.createElement("div",{className:"RedEnvelopInfo-reqlight",__source:{fileName:h,lineNumber:226},__self:this},this.isOk(+v)?"\u5df2":"\u60a8\u672a","\u8fbe\u6210\u53c2\u4e0e\u6761\u4ef6")))},RedEnvelopInfo}(c.a.Component),l=_applyDecoratedDescriptor(a.prototype,"mainServices",[i],{enumerable:!0,initializer:null}),o=_applyDecoratedDescriptor(a.prototype,"localStorage",[n],{enumerable:!0,initializer:null}),a);t.default=Object(d.connect)(function mapStateToProps(e){return{giftRedEnvelopData:e.giftRedEnvelopData}})(y)},"9e2c91":function(e,t,r){},aa3a5c:function(e,t,r){"use strict";var i=r("1a22b7"),n=r.n(i),a=r("ad9050"),l=r("7912b6"),o=r("15c12d"),s=r.n(o),c=(r("29900c"),"/shark/live/src/pages/roomPage/playerDialogModule/components/GiftRedEnvelop/components/ClosePrompt/index.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var u=function(e){function ClosePrompt(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ClosePrompt),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(ClosePrompt,e),ClosePrompt.prototype.returnDateTime=function returnDateTime(e){return+e>0?Object(a.formatTime)(+e,"MM\u6708DD\u65e5HH\u70b9"):"--\u6708--\u65e5-\u70b9"},ClosePrompt.prototype.renderEmpty=function renderEmpty(){return n.a.createElement(n.a.Fragment,{__source:{fileName:c,lineNumber:17},__self:this},n.a.createElement("div",{className:"icon",__source:{fileName:c,lineNumber:18},__self:this}),n.a.createElement("div",{className:"RedEnvelopPrompt-txt1",__source:{fileName:c,lineNumber:19},__self:this},"\u7a7a\u7a7a\u5982\u4e5f~"),n.a.createElement("div",{className:"RedEnvelopPrompt-txt2",__source:{fileName:c,lineNumber:20},__self:this},"\u53c2\u4e0e\u62a2\u7ea2\u5305\u53ef\u83b7\u5f97\u6d77\u91cf\u793c\u7269\u5956\u52b1"))},ClosePrompt.prototype.renderZero=function renderZero(){return n.a.createElement(n.a.Fragment,{__source:{fileName:c,lineNumber:25},__self:this},n.a.createElement("div",{className:"icon",__source:{fileName:c,lineNumber:26},__self:this}),n.a.createElement("div",{className:"RedEnvelopPrompt-txt1",__source:{fileName:c,lineNumber:27},__self:this},"\u624b\u6162\u4e86\uff0c\u793c\u7269\u62a2\u5149\u4e86~"))},ClosePrompt.prototype.renderLoading=function renderLoading(){return n.a.createElement(n.a.Fragment,{__source:{fileName:c,lineNumber:32},__self:this},n.a.createElement("div",{className:"icon is-loading",__source:{fileName:c,lineNumber:33},__self:this}),n.a.createElement("div",{className:"RedEnvelopPrompt-txt2",__source:{fileName:c,lineNumber:34},__self:this},"\u7ea2\u5305\u5f00\u542f\u4e2d~"))},ClosePrompt.prototype.renderBusy=function renderBusy(){return n.a.createElement(n.a.Fragment,{__source:{fileName:c,lineNumber:39},__self:this},n.a.createElement("div",{className:"icon is-busy",__source:{fileName:c,lineNumber:40},__self:this}),n.a.createElement("div",{className:"RedEnvelopPrompt-txt2",__source:{fileName:c,lineNumber:41},__self:this},"\u5f53\u524d\u5f00\u542f\u4eba\u6570\u8fc7\u591a\uff0c"),n.a.createElement("div",{className:"RedEnvelopPrompt-txt2",__source:{fileName:c,lineNumber:42},__self:this},"\u8bf7\u7a0d\u540e\u5728\u9886\u53d6\u8bb0\u5f55\u67e5\u770b\u5f00\u542f\u7ed3\u679c~"))},ClosePrompt.prototype.renderRed=function renderRed(){var e=this.props.data,t=void 0===e?{}:e,r=t.ppic,i=t.pname,a=t.pnum,o=t.tm;return n.a.createElement(n.a.Fragment,{__source:{fileName:c,lineNumber:51},__self:this},n.a.createElement("div",{className:"icon is-red",__source:{fileName:c,lineNumber:52},__self:this},n.a.createElement(l.DyImg,{className:"RedEnvelopPrompt-dyimg",isLazyable:!1,src:r,defaultSrc:s.a,errorSrc:s.a,__source:{fileName:c,lineNumber:53},__self:this})),n.a.createElement("div",{className:"RedEnvelopPrompt-txt1",__source:{fileName:c,lineNumber:61},__self:this},"\u606d\u559c\u4f60\u83b7\u5f97",n.a.createElement("span",{className:"RedEnvelopColor",__source:{fileName:c,lineNumber:62},__self:this},n.a.createElement("span",{className:"RedEnvelopPrompt-pname ell",title:i,__source:{fileName:c,lineNumber:63},__self:this},i||"--"),"\xd7",a||"--")),n.a.createElement("div",{className:"RedEnvelopPrompt-txt2",__source:{fileName:c,lineNumber:67},__self:this},"\u793c\u7269\u5df2\u5b58\u5165\u80cc\u5305\uff0c\u8bf7\u5728",this.returnDateTime(+o),"\u524d\u8d60\u9001\u7ed9\u5f53\u524d\u4e3b\u64ad"))},ClosePrompt.prototype.renderCon=function renderCon(e){switch(e){case 0:return this.renderEmpty();case 1:return this.renderLoading();case 2:return this.renderBusy();case 3:return this.renderRed();case 4:return this.renderZero();default:return this.renderEmpty()}},ClosePrompt.prototype.render=function render(){var e=this.props.status,t=void 0===e?0:e;return n.a.createElement("div",{className:"RedEnvelopPrompt",__source:{fileName:c,lineNumber:92},__self:this},this.renderCon(t))},ClosePrompt}(n.a.Component);t.default=u},ad9050:function(e,t,r){e.exports=r("5f575e")("68de1")},b0fede:function(e,t,r){},b12198:function(e,t,r){e.exports=r("5f575e")("c0e50")},b5e597:function(e,t,r){},b643e9:function(e,t,r){"use strict";var i,n,a,l=r("1a22b7"),o=r.n(l),s=r("7ca7dc"),c=r("7912b6"),u=r("0faf5b"),d=(r("b0fede"),r("15c12d")),f=r.n(d),m="/shark/live/src/pages/roomPage/playerDialogModule/components/GiftRedEnvelop/components/RedEnvelopSmall/RedEnvelopSmall.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var p=(i=(0,s.default.Service)(u.default),n=function(e){function RedEnvelopSmall(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RedEnvelopSmall);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"mainServices",a,t),t.state={},t}return _inherits(RedEnvelopSmall,e),RedEnvelopSmall.prototype.render=function render(){var e=this.props.data,t=void 0===e?{}:e,r=t.ppic,i=void 0===r?"":r,n=t.prpn,a=void 0===n?"--":n,l=t.pnum,s=void 0===l?0:l,u=t.pyc,d=void 0===u?0:u;return o.a.createElement("div",{className:"RedEnvelopSmall-bag RedEnvelopVC",__source:{fileName:m,lineNumber:32},__self:this},o.a.createElement("div",{className:"RedEnvelopSmall-bagImg",__source:{fileName:m,lineNumber:33},__self:this},o.a.createElement(c.DyImg,{className:"RedEnvelopSmall-giftDyimg",isLazyable:!1,src:i,defaultSrc:f.a,errorSrc:f.a,__source:{fileName:m,lineNumber:34},__self:this})),o.a.createElement("div",{className:"RedEnvelopSmall-bagYc",__source:{fileName:m,lineNumber:42},__self:this},"\xd7",s),o.a.createElement("div",{className:"RedEnvelopSmall-bagTips",__source:{fileName:m,lineNumber:43},__self:this},o.a.createElement("div",{className:"RedEnvelopSmall-giftPic RedEnvelopVC",__source:{fileName:m,lineNumber:44},__self:this},o.a.createElement(c.DyImg,{className:"RedEnvelopSmall-tipDyimg",isLazyable:!1,src:i,defaultSrc:f.a,errorSrc:f.a,__source:{fileName:m,lineNumber:45},__self:this})),o.a.createElement("div",{className:"RedEnvelopSmall-giftInfo RedEnvelopVC",__source:{fileName:m,lineNumber:53},__self:this},o.a.createElement("div",{className:"RedEnvelopSmall-giftName",__source:{fileName:m,lineNumber:54},__self:this},o.a.createElement("div",{className:"RedEnvelopSmall-giftnn ell",title:a,__source:{fileName:m,lineNumber:55},__self:this},a),"\xd7",s),+d>0&&+s>0?o.a.createElement("div",{className:"RedEnvelopSmall-giftYc",__source:{fileName:m,lineNumber:59},__self:this},"\u603b\u4ef7\u503c",this.mainServices.formatDecimals(+d/100*+s,1),"\u9c7c\u7fc5"):"")))},RedEnvelopSmall}(o.a.Component),a=function _applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(n.prototype,"mainServices",[i],{enumerable:!0,initializer:null}),n);t.default=p},bbe360:function(e,t,r){"use strict";var i,n,a,l,o,s=r("1a22b7"),c=r.n(s),u=r("7ca7dc"),d=r("eb3e22"),f=r("7912b6"),m=r("b12198"),p=r("0faf5b"),_=(r("e0caff"),r("e54dc9")),v=(r("4e9265"),r("15c12d")),b=r.n(v),N="/shark/live/src/pages/roomPage/playerDialogModule/components/GiftRedEnvelop/RedEnvelopRecord/index.js";function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=u.default.Service,E=(i=h(p.default),n=h(d.DataCenter.global),a=function(e){function RedEnvelopRecord(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RedEnvelopRecord);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"giftRedEnvelopService",l,t),_initDefineProp(t,"global",o,t),t.texts={tab1HeaderCol1:"\u83b7\u5f97\u793c\u7269 / \u9886\u53d6\u76f4\u64ad\u95f4",tab1HeaderCol2:"\u9886\u53d6\u65f6\u95f4/\u8fc7\u671f\u65f6\u95f4",tab2HeaderCol1:"\u793c\u5305\u7c7b\u578b / \u53d1\u9001\u76f4\u64ad\u95f4",tab2HeaderCol2:"\u53d1\u9001\u65f6\u95f4",tab1NoRecords1:"\u5f53\u524d\u6ca1\u6709\u9886\u53d6\u8bb0\u5f55",tab1NoRecords2:"\u5f00\u542f\u793c\u7269\u7ea2\u5305\u62a2\u593a\u6d77\u91cf\u793c\u7269\u5956\u52b1",tab2NoRecords1:"\u5f53\u524d\u6ca1\u6709\u53d1\u9001\u8bb0\u5f55",tab2NoRecords2:"\u8001\u677f\u6765\u53d1\u4e2a\u7ea2\u5305~"},t.changeTab=function(e){t.state.tabIndex!==e&&(t.giftRedEnvelopService.switchRecordsType(e+1),t.setState({tabIndex:e}))},t.state={tabIndex:-1},t}return _inherits(RedEnvelopRecord,e),RedEnvelopRecord.prototype.componentDidMount=function componentDidMount(){this.changeTab(0)},RedEnvelopRecord.prototype.renderListHeader=function renderListHeader(e){return c.a.createElement("div",{className:"RedEnvelopRecord-listHeader",__source:{fileName:N,lineNumber:59},__self:this},c.a.createElement("div",{className:"RedEnvelopRecord-col is-col1",__source:{fileName:N,lineNumber:60},__self:this},this.texts["tab"+e+"HeaderCol1"]),c.a.createElement("div",{className:"RedEnvelopRecord-col is-col2",__source:{fileName:N,lineNumber:61},__self:this},this.texts["tab"+e+"HeaderCol2"]))},RedEnvelopRecord.prototype.renderNoRecords=function renderNoRecords(e){return c.a.createElement("div",{className:"RedEnvelopRecord-noRecord",__source:{fileName:N,lineNumber:68},__self:this},c.a.createElement("div",{className:"RedEnvelopRecord-noRecordTxt RedEnvelopRecord-defTxt",__source:{fileName:N,lineNumber:69},__self:this},this.texts["tab"+e+"NoRecords1"]),c.a.createElement("div",{__source:{fileName:N,lineNumber:70},__self:this},this.texts["tab"+e+"NoRecords2"]))},RedEnvelopRecord.prototype.isCurRoom=function isCurRoom(e){var t=this.global.get("$ROOM.room_id");return t>0&&+t===+e},RedEnvelopRecord.prototype.renderItem=function renderItem(e,t,r){var i=t.id,n=t.pric,a=t.rid,l=t.nn,o=t.time,s=t.endtime,u=t.yc,d=void 0===u?0:u,p=t.ppic,_=void 0===p?b.a:p,v=t.pnum,h=void 0===v?0:v,E=t.prpn,R=void 0===E?"\u672a\u77e5\u9053\u5177":E,g=m.default.formatDate(new Date(1e3*o),"MM\u6708dd\u65e5 hh:mm"),y=m.default.formatDate(new Date(1e3*s),"MM\u6708dd\u65e5 hh:mm"),S=g.split(" "),P=l||a;return 0===e?c.a.createElement("li",{key:"grab"+i,className:"RedEnvelopRecord-listItem",__source:{fileName:N,lineNumber:100},__self:this},c.a.createElement("div",{className:"RedEnvelopRecord-col is-col3",__source:{fileName:N,lineNumber:101},__self:this},c.a.createElement(f.DyImg,{src:_,className:"RedEnvelopRecord-propImg",isLazyable:!1,defaultSrc:b.a,errorSrc:b.a,__source:{fileName:N,lineNumber:102},__self:this})),c.a.createElement("div",{className:"RedEnvelopRecord-col is-col4",__source:{fileName:N,lineNumber:110},__self:this},c.a.createElement("div",{className:"RedEnvelopRecord-recordName",__source:{fileName:N,lineNumber:111},__self:this},R,"x",h),c.a.createElement("div",{className:"RedEnvelopRecord-roomTxt",__source:{fileName:N,lineNumber:112},__self:this},"\u9886\u53d6\u81ea",this.isCurRoom(a)?c.a.createElement("span",{className:"RedEnvelopRecord-anchorName RedEnvelopRecord-defTxt",title:P,__source:{fileName:N,lineNumber:116},__self:this},P):c.a.createElement("a",{target:"_blank",className:"RedEnvelopRecord-anchorName RedEnvelopRecord-defTxt",href:"/"+a,title:P,__source:{fileName:N,lineNumber:117},__self:this},P),"\u76f4\u64ad\u95f4")),c.a.createElement("div",{className:"RedEnvelopRecord-col is-col2",__source:{fileName:N,lineNumber:122},__self:this},c.a.createElement("div",{className:"RedEnvelopRecord-defTxt",__source:{fileName:N,lineNumber:123},__self:this},g),c.a.createElement("div",{className:"RedEnvelopRecord-defTxt",__source:{fileName:N,lineNumber:124},__self:this},y))):c.a.createElement("li",{key:"post"+i,className:"RedEnvelopRecord-listItem",__source:{fileName:N,lineNumber:128},__self:this},c.a.createElement("div",{className:"RedEnvelopRecord-col is-col3",__source:{fileName:N,lineNumber:129},__self:this},c.a.createElement(f.DyImg,{src:n,className:"RedEnvelopRecord-redEnvelopeImg",isLazyable:!1,defaultSrc:b.a,errorSrc:b.a,__source:{fileName:N,lineNumber:130},__self:this})),c.a.createElement("div",{className:"RedEnvelopRecord-col is-col4",__source:{fileName:N,lineNumber:138},__self:this},c.a.createElement("div",{className:"RedEnvelopRecord-recordName",__source:{fileName:N,lineNumber:139},__self:this},d/100||"--","\u9c7c\u7fc5"),c.a.createElement("div",{className:"RedEnvelopRecord-roomTxt",__source:{fileName:N,lineNumber:140},__self:this},"\u53d1\u9001\u81f3",this.isCurRoom(a)?c.a.createElement("span",{className:"RedEnvelopRecord-anchorName RedEnvelopRecord-defTxt",title:P,__source:{fileName:N,lineNumber:144},__self:this},P):c.a.createElement("a",{target:"_blank",className:"RedEnvelopRecord-anchorName RedEnvelopRecord-defTxt",href:"/"+a,title:P,__source:{fileName:N,lineNumber:145},__self:this},P),"\u76f4\u64ad\u95f4")),c.a.createElement("div",{className:"RedEnvelopRecord-col is-col2",__source:{fileName:N,lineNumber:150},__self:this},c.a.createElement("div",{className:"RedEnvelopRecord-defTxt RedEnvelopRecord-txtRight",__source:{fileName:N,lineNumber:151},__self:this},S[1]||"--"),c.a.createElement("div",{className:"RedEnvelopRecord-defTxt",__source:{fileName:N,lineNumber:152},__self:this},S[0]||"--")))},RedEnvelopRecord.prototype.renderList=function renderList(e,t){var r=this,i=t+1;return c.a.createElement("div",{className:"RedEnvelopRecord-content",__source:{fileName:N,lineNumber:162},__self:this},this.renderListHeader(i),e.length?[c.a.createElement(_.ScrollBar,{key:"scrollbar",scrollHeight:350,showTrack:!0,__source:{fileName:N,lineNumber:166},__self:this},c.a.createElement("ul",{className:"RedEnvelopRecord-list",__source:{fileName:N,lineNumber:167},__self:this},e.map(function(e,i){return r.renderItem(t,e,i)}))),c.a.createElement("div",{key:"recordtip",className:"RedEnvelopRecord-bottomTxt",__source:{fileName:N,lineNumber:173},__self:this},"\u4ec5\u5c55\u793a\u6700\u8fd150\u6761",0===t?"\u9886\u53d6":"\u53d1\u9001","\u8bb0\u5f55")]:this.renderNoRecords(i))},RedEnvelopRecord.prototype.render=function render(){var e=this,t=this.props,r=t.stateData,i=void 0===r?{}:r,n=(t.config,this.state.tabIndex);-1===n&&(n=0);var a=i.grabRecords,l=void 0===a?{}:a,o=i.postRecords,s=(0===n?l:void 0===o?{}:o).data,u=(s=void 0===s?{}:s).list,d=void 0===u?[]:u;return c.a.createElement("div",{className:"RedEnvelopRecord",__source:{fileName:N,lineNumber:197},__self:this},c.a.createElement("div",{className:"RedEnvelopRecord-tab",__source:{fileName:N,lineNumber:198},__self:this},["\u9886\u53d6\u8bb0\u5f55","\u53d1\u9001\u8bb0\u5f55"].map(function(t,r){return c.a.createElement("div",{key:r,onClick:function onClick(){return e.changeTab(r)},className:"RedEnvelopRecord-tabItem "+(n===r?"is-cur":""),__source:{fileName:N,lineNumber:200},__self:e},t)})),this.renderList(d,n))},RedEnvelopRecord}(c.a.Component),l=_applyDecoratedDescriptor(a.prototype,"giftRedEnvelopService",[i],{enumerable:!0,initializer:null}),o=_applyDecoratedDescriptor(a.prototype,"global",[n],{enumerable:!0,initializer:null}),a);t.default=E},c64509:function(e,t,r){"use strict";var i=r("4c1d3e");t.default=i.default},c93464:function(e,t,r){"use strict";var i,n,a,l=r("1a22b7"),o=r.n(l),s=r("7ca7dc"),c=r("722b8a"),u=(r("7912b6"),r("0faf5b")),d=r("e0caff"),f=(r("b5e597"),r("15c12d"),"/shark/live/src/pages/roomPage/playerDialogModule/components/GiftRedEnvelop/RedEnvelopSet/RedEnvelopSet.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var m=(i=(0,s.default.Service)(u.default),n=function(e){function RedEnvelopSet(){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RedEnvelopSet);var r=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"mainServices",a,r),r.renderRedTpl=function(){var e=r.state,i=e.tplInfo,n=void 0===i?{}:i,a=e.curTab,l=void 0===a?0:a,s=e.tabs,c=void 0===s?[]:s,u=n.prnum,m=void 0===u?0:u,p=n.btype,_=void 0===p?0:p,v=n.prplist,b=void 0===v?[]:v;return o.a.createElement("div",{className:"RedEnvelopSet-reds",__source:{fileName:f,lineNumber:104},__self:t},o.a.createElement("div",{className:"RedEnvelopSet-tab",__source:{fileName:f,lineNumber:105},__self:t},c.map(function(e,i){return o.a.createElement("div",{className:"RedEnvelopSet-subtab RedEnvelopVC "+(+l===+i?"is-cur":""),onClick:function onClick(){r.changeTab(i)},key:"RedEnvelopSet-subtab-"+i,__source:{fileName:f,lineNumber:108},__self:t},o.a.createElement("i",{className:"RedEnvelopSet-icon",__source:{fileName:f,lineNumber:110},__self:t}),+e||"--","\u9c7c\u7fc5")})),o.a.createElement("div",{className:"RedEnvelopSet-con",__source:{fileName:f,lineNumber:115},__self:t},b.slice(0,4).map(function(e,r){return o.a.createElement(d.default,{data:e,key:"RedEnvelopSmall-"+r,__source:{fileName:f,lineNumber:117},__self:t})}),o.a.createElement("div",{className:"RedEnvelopSet-bagcal",__source:{fileName:f,lineNumber:119},__self:t},o.a.createElement("div",{className:"RedEnvelopSet-bagcalBg",__source:{fileName:f,lineNumber:120},__self:t},"\uff08\u5171",m,"\u4e2a\u7ea2\u5305",+_>0?"\uff0c\u53d1\u9001\u6210\u529f\u53ef\u89e6\u53d1"+(2===+_?"\u5168\u7ad9":"\u5206\u533a")+"\u5e7f\u64ad":"","\uff09"))))},r.renderRedRequire=function(){var e=r.state,i=e.curReq,n=void 0===i?0:i,a=e.curTime,l=void 0===a?0:a,s=r.mainServices.returnRoomConfig().is_set_fans_badge;return o.a.createElement(o.a.Fragment,{__source:{fileName:f,lineNumber:162},__self:t},o.a.createElement("div",{className:"RedEnvelopSet-req",__source:{fileName:f,lineNumber:163},__self:t},o.a.createElement("p",{className:"RedEnvelopSet-reqLable RedEnvelopVC",__source:{fileName:f,lineNumber:164},__self:t},"\u53c2\u4e0e\u6761\u4ef6\uff1a"),r.req.map(function(e,i){return o.a.createElement("span",{className:"RedEnvelopSet-reqIitem RedEnvelopVC "+(+i>1&&!s?"is-disable":"")+" "+(+i===+n?"is-cur":""),key:"RedEnvelopSet-reqIitem-"+i,onClick:function onClick(){r.changeReq(i,s)},__source:{fileName:f,lineNumber:167},__self:t},e)})),o.a.createElement("div",{className:"RedEnvelopSet-req",__source:{fileName:f,lineNumber:175},__self:t},o.a.createElement("p",{className:"RedEnvelopSet-reqLable RedEnvelopVC",__source:{fileName:f,lineNumber:176},__self:t},"\u5f00\u542f\u65f6\u95f4\uff1a"),r.time.map(function(e,i){return o.a.createElement("span",{className:"RedEnvelopSet-reqIitem RedEnvelopVC "+(+i===+l?"is-cur":""),key:"RedEnvelopSet-"+i,onClick:function onClick(){r.setTime(i)},__source:{fileName:f,lineNumber:179},__self:t},e)})))},r.sendRed=function(){r.mainServices.returnIsAnchor()?c.default.info("\u4e3b\u64ad\u4e0d\u80fd\u5728\u81ea\u5df1\u623f\u95f4\u53d1\u7ea2\u5305"):r.mainServices.sendRedEnvelop()},r.state={tabs:[],curTab:0,curReq:0,curTime:0,tplInfo:{},yc:0},r.looper=null,r.req=["\u5168\u90e8\u6c34\u53cb","\u5173\u6ce8\u4e3b\u64ad","\u7c89\u4e1d\u56e2","\u5173\u6ce8+\u7c89\u4e1d\u56e2"],r.time=["3\u5206\u949f\u540e\u5f00\u542f","\u7acb\u5373\u5f00\u542f"],r}return _inherits(RedEnvelopSet,e),RedEnvelopSet.prototype.componentDidMount=function componentDidMount(){this.changeTab(0),this.mainServices.switchSetJoinc(0),this.mainServices.switchOpenRedTime(2),this.renderTitle()},RedEnvelopSet.prototype.renderTitle=function renderTitle(){var e=this,t=this.props,r=t.stateData,i=void 0===r?{}:r,n=t.config,a=i.getTemp,l=(void 0===a?{}:a).data,o=(void 0===l?{}:l).prlist,s=void 0===o?[]:o,c=n.prmap,u=void 0===c?{}:c,d=[];s.map(function(t,r){var i=(u[+t]||{}||{}).yc,n=void 0===i?0:i,a=(s[+r],+n>0?e.mainServices.formatDecimals(+n/100,1):"--");return d.push(a),null}),this.setState({tabs:d})},RedEnvelopSet.prototype.changeTab=function changeTab(e){var t=this.props,r=t.stateData,i=void 0===r?{}:r,n=t.config,a=i.getTemp,l=(void 0===a?{}:a).data,o=(void 0===l?{}:l).prlist,s=(void 0===o?[]:o)[+e]||0;this.mainServices.switchRedPrid(+s);var u=n.prmap,d=(void 0===u?{}:u)[+s];if(d){var f=(d||{}).yc,m=void 0===f?"--":f;this.mainServices.switchSetYc(+m),this.setState({curTab:e,tplInfo:d,yc:m})}else c.default.info("\u6570\u636e\u5f02\u5e38\uff0c\u8bf7\u5237\u65b0\u76f4\u64ad\u95f4")},RedEnvelopSet.prototype.changeReq=function changeReq(e,t){+e>1&&!t||(this.setState({curReq:e}),this.mainServices.switchSetJoinc(+e))},RedEnvelopSet.prototype.setTime=function setTime(e){this.setState({curTime:e});var t=0!==+e?1:2;this.mainServices.switchOpenRedTime(+t)},RedEnvelopSet.prototype.render=function render(){var e=this.state.yc,t=void 0===e?0:e;return o.a.createElement("div",{className:"RedEnvelopSet",__source:{fileName:f,lineNumber:207},__self:this},o.a.createElement("div",{className:"RedEnvelopSet-title",__source:{fileName:f,lineNumber:208},__self:this},"\u5728\u672c\u76f4\u64ad\u95f4\u9001\u51fa\u793c\u7269\u7ea2\u5305"),o.a.createElement("p",{className:"RedEnvelopSet-subtitle",__source:{fileName:f,lineNumber:209},__self:this},"\u6c34\u53cb\u62a2\u5230\u7684\u793c\u7269\u53ea\u80fd\u8d60\u9001\u7ed9\u5f53\u524d\u4e3b\u64ad"),this.renderRedTpl(),this.renderRedRequire(),+t>0?o.a.createElement("div",{className:"RedEnvelopPanel-btn",onClick:this.sendRed,__source:{fileName:f,lineNumber:217},__self:this},"\u53d1\u7ea2\u5305",o.a.createElement("span",{className:"RedEnvelopSet-btnYc",__source:{fileName:f,lineNumber:218},__self:this},"(",this.mainServices.formatDecimals(+t/100,1),"\u9c7c\u7fc5)")):o.a.createElement("div",{className:"RedEnvelopPanel-btn is-disable",__source:{fileName:f,lineNumber:220},__self:this},"\u53d1\u7ea2\u5305",o.a.createElement("span",{className:"RedEnvelopSet-btnYc",__source:{fileName:f,lineNumber:221},__self:this},"(--\u9c7c\u7fc5)")),o.a.createElement("p",{className:"RedEnvelopSet-txt",__source:{fileName:f,lineNumber:224},__self:this},"10\u5206\u949f\u5185\u672a\u88ab\u9886\u5b8c\u7684\u793c\u7269\u5c06\u4ee5\u4f60\u7684\u540d\u4e49\u8d60\u9001\u7ed9\u4e3b\u64ad!"))},RedEnvelopSet}(o.a.Component),a=function _applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(n.prototype,"mainServices",[i],{enumerable:!0,initializer:null}),n);t.default=m},c94fe4:function(e,t,r){},ca82bb:function(e,t,r){},d6190f:function(e,t,r){"use strict";r.r(t);var i,n,a,l,o,s=r("1a22b7"),c=r.n(s),u=r("447d8e"),d=r("503124"),f=r.n(d),m=r("7ca7dc"),p=r("eb3e22"),_=(r("7912b6"),r("ad9050"),r("0faf5b")),v=(r("e54dc9"),r("1df29c")),b=r("7a1231"),N=r("7f1caa"),h=r("c64509"),E=r("0812ee"),R=r("bbe360"),g=(r("9e2c91"),"/shark/live/src/pages/roomPage/playerDialogModule/components/GiftRedEnvelop/GiftRedEnvelop/index.js");function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=m.default.Service,S=(i=y(_.default),n=y(p.DataCenter.global),a=function(e){function App(){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,App);var r=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(r,"mainServices",l,r),_initDefineProp(r,"global",o,r),r.renderPageContent=function(e,i){switch(i){case 1:case 2:return c.a.createElement(b.default,{stateData:e,config:r.state.config,goPage:r.goPage,__source:{fileName:g,lineNumber:52},__self:t});case 3:return c.a.createElement(N.default,{stateData:e,goPage:r.goPage,__source:{fileName:g,lineNumber:54},__self:t});case 4:case 44:case 444:return c.a.createElement(h.default,{stateData:e,goPage:r.goPage,__source:{fileName:g,lineNumber:58},__self:t});case 5:return c.a.createElement(E.default,{stateData:e,config:r.state.config,goPage:r.goPage,__source:{fileName:g,lineNumber:60},__self:t});case 6:return c.a.createElement(R.default,{stateData:e,config:r.state.config,__source:{fileName:g,lineNumber:62},__self:t});default:return c.a.createElement(b.default,{stateData:e,config:r.state.config,goPage:r.goPage,__source:{fileName:g,lineNumber:64},__self:t})}},r.close=function(){r.mainServices.switchTypeId(1),r.mainServices.togglePanel(0)},r.state={config:{},pageType:1},r.goPage=r.goPage.bind(r),r}return _inherits(App,e),App.prototype.componentDidMount=function componentDidMount(){this.setState({config:this.mainServices.returnActiveConfig()})},App.prototype.goPage=function goPage(e){this.mainServices.togglePanelType(e)},App.prototype.render=function render(){var e=this.props,t=e.giftRedEnvelopData,r=void 0===t?{}:t,i=e.stateData,n=void 0===i?{}:i,a=r.pageType,l=void 0===a?0:a;return c.a.createElement(f.a,{bounds:{left:-500,top:-180,right:500,bottom:400},handle:".Draggable",allowAnyClick:!1,__source:{fileName:g,lineNumber:79},__self:this},c.a.createElement("div",{className:"RedEnvelopPanel",__source:{fileName:g,lineNumber:85},__self:this},c.a.createElement("div",{className:"Draggable",__source:{fileName:g,lineNumber:86},__self:this}),c.a.createElement("div",{className:"RedEnvelop-close",onClick:this.close,__source:{fileName:g,lineNumber:87},__self:this}),c.a.createElement(v.default,{goPage:this.goPage,__source:{fileName:g,lineNumber:88},__self:this}),this.renderPageContent(n,l)))},App}(c.a.Component),l=_applyDecoratedDescriptor(a.prototype,"mainServices",[i],{enumerable:!0,initializer:null}),o=_applyDecoratedDescriptor(a.prototype,"global",[n],{enumerable:!0,initializer:null}),a);t.default=Object(u.connect)(function mapStateToProps(e){return{giftRedEnvelopData:e.giftRedEnvelopData}})(S)},e0b7d9:function(e,t,r){"use strict";var i,n,a,l,o,s,c,u=r("1a22b7"),d=r.n(u),f=r("447d8e"),m=r("eb3e22"),p=r("7912b6"),_=r("7ca7dc"),v=r("e54dc9"),b=r("151e27"),N=r("aa3a5c"),h=r("5de2b5"),E=r.n(h),R=r("0faf5b"),g=(r("5d90d5"),"/shark/live/src/pages/roomPage/playerDialogModule/components/GiftRedEnvelop/RedEnvelopList/RedEnvelopList.js");function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=b.RANKCONFIG.PRE,S=_.default.Service,P=(i=S(R.default),n=S(m.DataCenter.global),a=S(m.DataCenter.localStorage),l=function(e){function RedEnvelopList(){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RedEnvelopList);var r=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(r,"mainServices",o,r),_initDefineProp(r,"global",s,r),_initDefineProp(r,"localStorage",c,r),r.renderList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=r.props.config,i=(void 0===t?{}:t).prmap,n=void 0===i?{}:i,a=r.mainServices.returnUid(),l=[];return e.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],i=r.localStorage.get("RedEnvelop-"+e.activityid+"-"+a)||0,o=(e||{}).prid;if(!n[+o])return null;var s=n[+o]||{};return l.push(r.rankItem({item:e,redTplInfo:s,isGot:i,index:t})),null}),l.slice(0,30)},r.req=function(e){var r="";return 1===+e&&(r=d.a.createElement("div",{className:"RedEnvelopList-subReq",__source:{fileName:g,lineNumber:143},__self:t},"\u5173\u6ce8")),2===+e&&(r=d.a.createElement("div",{className:"RedEnvelopList-subReq",__source:{fileName:g,lineNumber:146},__self:t},"\u7c89\u4e1d\u56e2")),3===+e&&(r=d.a.createElement(d.a.Fragment,{__source:{fileName:g,lineNumber:149},__self:t},d.a.createElement("div",{className:"RedEnvelopList-subReq",__source:{fileName:g,lineNumber:149},__self:t},"\u5173\u6ce8"),d.a.createElement("div",{className:"RedEnvelopList-subReq",__source:{fileName:g,lineNumber:150},__self:t},"\u7c89\u4e1d\u56e2"))),d.a.createElement(d.a.Fragment,{__source:{fileName:g,lineNumber:154},__self:t},"\u53c2\u4e0e\u6761\u4ef6\uff1a",r)},r.renderBtn=function(e,i){var n=(e||{}).cdtime,a=void 0===n?0:n;return i?d.a.createElement("div",{className:"RedEnvelopList-btn is-got",onClick:function onClick(){r.clickRow(e,i)},__source:{fileName:g,lineNumber:162},__self:t},d.a.createElement("div",{className:"RedEnvelopVC",__source:{fileName:g,lineNumber:164},__self:t},"\u5df2\u62a2")):+a>0?d.a.createElement("div",{className:"RedEnvelopList-btn is-got",onClick:function onClick(){r.clickRow(e,i)},__source:{fileName:g,lineNumber:170},__self:t},d.a.createElement("div",{className:"RedEnvelopVC",__source:{fileName:g,lineNumber:172},__self:t},+a,"s")):d.a.createElement("div",{className:"RedEnvelopList-btn",onClick:function onClick(){r.clickRow(e,i)},__source:{fileName:g,lineNumber:177},__self:t})},r.rankItem=function(e){var i=e.item,n=e.redTplInfo,a=e.isGot,l=e.index,o=r.state.curTab,s=void 0===o?0:o,c=i||{},u=(c.cdtime,c.joinc),f=void 0===u?0:u,m=c.nn,_=void 0===m?"":m,b=c.uname,N=void 0===b?"--":b,h=c.yc,R=c.rid,S=(n.prn,n.pric),P=void 0===S?"":S,w=Object.assign({},i,n),O=[d.a.createElement("div",{className:"RedEnvelopList-pic",onClick:function onClick(){r.clickRow(w,a)},__source:{fileName:g,lineNumber:194},__self:t},d.a.createElement(p.DyImg,{className:"RedEnvelopList-dyimg",isLazyable:!1,src:P,defaultSrc:E.a,errorSrc:E.a,__source:{fileName:g,lineNumber:195},__self:t})),d.a.createElement("div",{className:"RedEnvelopList-redInfo",__source:{fileName:g,lineNumber:203},__self:t},d.a.createElement("div",{className:"RedEnvelopList-redYc",onClick:function onClick(){r.clickRow(w,a)},__source:{fileName:g,lineNumber:204},__self:t},d.a.createElement("span",{className:"RedEnvelopList-rednn ell",__source:{fileName:g,lineNumber:205},__self:t},"\u793c\u7269\u7ea2\u5305"),d.a.createElement("span",{className:"RedEnvelopColor",__source:{fileName:g,lineNumber:206},__self:t},+h>0?r.mainServices.formatDecimals(+h/100,1):"--","\u9c7c\u7fc5")),d.a.createElement("div",{className:"RedEnvelopList-userInfo",__source:{fileName:g,lineNumber:208},__self:t},d.a.createElement("div",{className:"RedEnvelopList-anchor ell",title:N,__source:{fileName:g,lineNumber:209},__self:t},N),1===+s?r.renderAnchor({data:w,isGot:a,nn:_,rid:R}):"\u9001\u51fa"),d.a.createElement("div",{className:"RedEnvelopList-redReq",__source:{fileName:g,lineNumber:214},__self:t},0===+f?"\u5168\u90e8\u6c34\u53cb\u53ef\u62a2":r.req(+f))),r.renderBtn(w,a)];return d.a.createElement(v.RowLayout,{extClass:"RankItem ",key:"RankItem-"+l,layout:y.layout,content:O,__source:{fileName:g,lineNumber:219},__self:t})},r.getLength=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=r.props.config,i=(void 0===t?{}:t).prmap,n=void 0===i?{}:i;return e.filter(function(e,t){var r=(e||{}).prid;return!!n[+r]}).length},r.state={list1:[],list2:[],curTab:0},r.tabs=["\u672c\u623f\u7ea2\u5305","\u5168\u7ad9\u7ea2\u5305"],r.renderAnchor=r.renderAnchor.bind(r),r}return _inherits(RedEnvelopList,e),RedEnvelopList.prototype.componentDidMount=function componentDidMount(){this.changeTab(0,!0)},RedEnvelopList.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.stateData,r=(void 0===t?{}:t).redList,i=((void 0===r?{}:r)||{}).data,n=(void 0===i?{}:i).list,a=void 0===n?[]:n;0===+this.state.curTab?this.setState({list1:a||[]}):this.setState({list2:a||[]})},RedEnvelopList.prototype.changeTab=function changeTab(e,t){if(+e!==+this.state.curTab){this.setState({curTab:e});var r=this.mainServices.returnTypeId();this.mainServices.switchTypeId(+e+1),t&&1===+r||this.mainServices.reqRankData("redList"),this.mainServices.setCdTime()}},RedEnvelopList.prototype.renderTab=function renderTab(){var e=this,t=this.state.curTab,r=void 0===t?0:t;return d.a.createElement("div",{className:"RedEnvelopList-tab tab"+ +r,__source:{fileName:g,lineNumber:84},__self:this},this.tabs.map(function(t,i){return d.a.createElement("div",{className:"RedEnvelopList-tabitem RedEnvelopVC "+(+r===+i?"is-cur":""),onClick:function onClick(){e.changeTab(i)},key:"RedEnvelopList-tabitem-"+i,__source:{fileName:g,lineNumber:87},__self:e},d.a.createElement("span",{className:"RedEnvelopVC",__source:{fileName:g,lineNumber:89},__self:e},t))}))},RedEnvelopList.prototype.renderAnchor=function renderAnchor(e){var t=this,r=e.data,i=e.isGot,n=e.nn,a=e.rid,l=+a>0&&+a!==+this.global.get("$ROOM.room_id");return d.a.createElement(d.a.Fragment,{__source:{fileName:g,lineNumber:128},__self:this},"\u5728",l?d.a.createElement("a",{href:"/"+a,target:"_blank",__source:{fileName:g,lineNumber:131},__self:this},d.a.createElement("div",{className:"RedEnvelopList-anchor ell",title:n,__source:{fileName:g,lineNumber:131},__self:this},""+n)):d.a.createElement("div",{className:"RedEnvelopList-anchor ell",title:n,onClick:function onClick(){t.clickRow(r,i)},__source:{fileName:g,lineNumber:132},__self:this},""+n),"\u76f4\u64ad\u95f4\u9001\u51fa")},RedEnvelopList.prototype.clickRow=function clickRow(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=this.props.goPage,i=this.state.curTab,n=void 0===i?0:i,a=(e||{}).rid,l=+a>0&&+a!==+this.global.get("$ROOM.room_id");if(1===+n&&l&&+a){var o="/"+ +a;window.open(o,"_blank")}else this.mainServices.setRedInfo(e),1===+t?this.mainServices.getResultOfGot():r(3)},RedEnvelopList.prototype.render=function render(){var e=this.props,t=e.goPage,r=e.config,i=this.state,n=i.list1,a=void 0===n?[]:n,l=i.list2,o=void 0===l?[]:l,s=i.curTab,c=0===+(void 0===s?0:s)?a:o,u=r.qzisopen,f=void 0===u?1:u,m=this.mainServices.returnIsAnchor(),p=1===+f&&!m,_=this.getLength(c)||0;return d.a.createElement("div",{className:"RedEnvelopList",__source:{fileName:g,lineNumber:275},__self:this},+p?this.renderTab():d.a.createElement("div",{className:"RedEnvelopList-tab benfang",__source:{fileName:g,lineNumber:277},__self:this},d.a.createElement("div",{className:"RedEnvelopList-tabitem is-cur",__source:{fileName:g,lineNumber:278},__self:this},d.a.createElement("span",{className:"RedEnvelopVC",__source:{fileName:g,lineNumber:279},__self:this},"\u672c\u623f\u7ea2\u5305"))),d.a.createElement("div",{className:"RedEnvelopList-con",__source:{fileName:g,lineNumber:284},__self:this},c&&+_?d.a.createElement(v.ScrollBar,{scrollHeight:334,showTrack:!0,__source:{fileName:g,lineNumber:286},__self:this},this.renderList(c,p),+_>=30?d.a.createElement("div",{className:"RedEnvelopList-bottomTxt",__source:{fileName:g,lineNumber:288},__self:this},"\u4ec5\u5c55\u793a\u524d30\u4e2a\u7ea2\u5305"):""):d.a.createElement(N.default,{status:0,__source:{fileName:g,lineNumber:290},__self:this})),d.a.createElement("div",{className:"RedEnvelopPanel-btn",onClick:function onClick(){t(5)},__source:{fileName:g,lineNumber:293},__self:this},"\u53d1\u7ea2\u5305"))},RedEnvelopList}(d.a.Component),o=_applyDecoratedDescriptor(l.prototype,"mainServices",[i],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(l.prototype,"global",[n],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(l.prototype,"localStorage",[a],{enumerable:!0,initializer:null}),l);t.default=Object(f.connect)(function mapStateToProps(e){return{giftRedEnvelopData:e.giftRedEnvelopData}})(P)},e0caff:function(e,t,r){"use strict";var i=r("b643e9");t.default=i.default},e54dc9:function(e,t,r){"use strict";r.d(t,"RowLayout",function(){return d}),r.d(t,"RankHeader",function(){return f}),r.d(t,"QuestionTip",function(){return m}),r.d(t,"ScrollBar",function(){return p});var i=r("1a22b7"),n=r.n(i),a=r("f2b8b7"),l=(r("ad9050"),r("977eb1"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),o="/shark/live/src/pages/roomPage/playerDialogModule/components/GiftRedEnvelop/components/RankList/index.js",s=void 0;var c=function ThumbVertical(e){var t=e.style,r=function _objectWithoutProperties(e,t){var r={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}(e,["style"]);return n.a.createElement("div",l({className:"RankListScrollBar"},r,{style:t,__source:{fileName:o,lineNumber:16},__self:s}))},u=function TrackVertical(e){return n.a.createElement("div",{className:"RankListScrollTrack "+e,__source:{fileName:o,lineNumber:26},__self:s})},d=function RowLayout(e){var t=e.layout,r=void 0===t?{}:t,i=e.content,a=void 0===i?[]:i,l=e.extClass,c=void 0===l?"":l,u=e.corner,d=void 0===u?null:u,f=r.map(function(e,t){return n.a.createElement("div",{key:t,className:e.className,__source:{fileName:o,lineNumber:47},__self:s},a[t]||null)});return n.a.createElement("div",{className:"RowLayout "+c,__source:{fileName:o,lineNumber:51},__self:s},f,d)},f=function RankHeader(e){var t=e.layout,r=void 0===t?[]:t,i=e.extClass,a=void 0===i?"RankHeader":i,l=r.map(function(e,t){var r=e.title||"";return e.tips?n.a.createElement(m,{title:r,tips:e.tips,__source:{fileName:o,lineNumber:126},__self:s}):r});return n.a.createElement(d,{extClass:a,layout:r,content:l,__source:{fileName:o,lineNumber:129},__self:s})},m=function QuestionTip(e){var t=e.title,r=void 0===t?"":t,i=e.tips,a=void 0===i?{}:i,l=e.extClass,c=void 0===l?"":l,u=e.clickEvent,d=a.content,f=void 0===d?"":d,m=a.arrowRight,p=void 0===m?20:m,_=a.boxRight,v=void 0===_?-20:_;return n.a.createElement("span",{className:"QuestionTip "+c,onClick:u,__source:{fileName:o,lineNumber:218},__self:s},r,f?n.a.createElement("div",{className:"QuestionTip-box",style:{right:v+"px"},__source:{fileName:o,lineNumber:222},__self:s},n.a.createElement("i",{className:"QuestionTip-upArrow",style:{right:p+"px"},__source:{fileName:o,lineNumber:223},__self:s}),"string"===typeof f?n.a.createElement("div",{dangerouslySetInnerHTML:{__html:f},__source:{fileName:o,lineNumber:225},__self:s}):f):null)},p=function ScrollBar(e){var t=e.scrollHeight,r=void 0===t?0:t,i=e.showTrack,l=void 0!==i&&i;return n.a.createElement("div",{className:"RankList-scrollBody",style:{height:r+"px"},__source:{fileName:o,lineNumber:250},__self:s},l?n.a.createElement(a.Scrollbars,{renderTrackVertical:function renderTrackVertical(){return u("")},renderThumbVertical:c,__source:{fileName:o,lineNumber:253},__self:s},e.children):n.a.createElement(a.Scrollbars,{renderThumbVertical:c,__source:{fileName:o,lineNumber:258},__self:s},e.children))}}}]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/GiftRedEnvelop_f326452_d1c2747.js.map