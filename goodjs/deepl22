(self.webpackChunk_deepl_gatsby=self.webpackChunk_deepl_gatsby||[]).push([[1738],{29039:function(e,t,r){"use strict";r.d(t,{D:function(){return l}});var a=r(37565),n=r(40977);let o=async e=>{await r.g.store.dispatch((0,a.C1)({dapEventId:n.qb.CLEARANCE_TOKEN_REQUESTED,dapEventData:{clearanceTokenRequestedData:e}}))};var i=r(12959),s=r(67010);async function l(){let e;let t=Date.now(),r={status:0,duration:0};try{let e=new URL("https://clearance.deepl.com/token");i.Z.fakeBot&&e.searchParams.set("max_score","1");let t=await Promise.race([fetch(e.href,{credentials:"include",mode:"cors"}),new Promise((e,t)=>setTimeout(()=>t(new s.V(s.T.CLEARANCE_FETCH_FAILURE,"clearance timeout")),5e3))]);if(r.status=t.status||0,!t.ok)throw Error(`${t.status}`)}catch(t){console.warn(t.message),e=new s.V(s.T.CLEARANCE_FETCH_FAILURE,`Error happens while fetching clearance token: ${t.message}`)}if(r.duration=Date.now()-t,e&&(r.error=e.message),o(r),e)throw e;return r}},29809:function(e,t,r){"use strict";r.d(t,{M:function(){return a}});let a=e=>{let{targetPage:t,targetEventKey:r,message:a,setEntrypoint:n,invokeAdditionalFunctionAfterPostMessage:o}=e;void 0!==n&&n();let i=window.open(t,"_blank"),s=e=>{e.data.key===r&&(null==i||i.postMessage(a,i.origin),void 0!==o&&o(),window.removeEventListener("message",s))};window.addEventListener("message",s)}},76391:function(e,t,r){"use strict";var a=r(61606),n=r(30171),o=r(84627),i=r(58425),s=r(19323),l=r(50521),c=r(29809);a.Z.defineType("/translator/common/continueInWrite",["/translator/core/requestHandling","/translator/core/textareas","/translator/core/targetLanguages"],(e,t,r)=>{let a=(0,o.fo)(),u=(0,n.G7)([t.isSourceTextEmpty,e.hasPendingRequestsOfType(i.Xk.TYPE__TRANSLATE_SOURCE),r.currentLanguage],(e,r,a)=>Object.keys(l.S).includes(a.lang)&&(!e&&!r||t.getTargetText().length>0)),d=()=>{let e={text:t.getTargetText(),language:{lang:r.currentLanguage().lang,variant:r.currentLanguage().variant}},n=()=>(0,s.OV)({trigger:s.W$.translatorContinueInWrite,textTransportChannel:"postMessage"});(0,c.M)({targetPage:"/write",targetEventKey:"translator-to-write.ready-for-text",message:e,setEntrypoint:n,invokeAdditionalFunctionAfterPostMessage:()=>{a(),(0,s.OV)(void 0)}})};return{canContinueInWrite:u,continueInWrite:d,onContinueInWriteButtonClicked:a}})},75275:function(e,t,r){"use strict";var a=r(12959);r(61606).Z.defineType("/translator/common/newTextareaHint",["/translator/core/domElements","/translator/core/textareas"],(e,t)=>{if(!("dtx-check"in a.Z))return{};function r(){"dtx"===t.getSourceText()&&function(){let r=e.sourceEdit instanceof HTMLTextAreaElement?"old":"new";console.debug("[newTextareaHint]","Hinting at usage of textarea:",r),r!==t.getTargetText()&&t.setTargetTextExplicitly(r,"internal")}()}return t.onSourceTextChanged.push(()=>r()),t.onTargetTextChanged.push(()=>r()),{}})},37126:function(e,t,r){"use strict";r(61606).Z.defineType("/translator/common/spellcheckHandling",["/translator/core/domElements","/translator/core/config","/translator/environment/releaseGroups"],(e,t,r)=>{let{sourceEdit:a,targetEdit:n}=e,o=t.get("isWriteMode"),i=!o&&!r.isActive("TC-850"),s=["spellcheck"],l=[].concat(s,["data-gramm","data-gramm_editor","data-enable-grammarly"]),c=o?l:s;function u(e){c.forEach(t=>{e.setAttribute(t,"false")})}return o&&u(a),i||u(n),{}})},99202:function(e,t,r){"use strict";let a;r.r(t),r.d(t,{default:function(){return es},enhanceTranslator:function(){return ei}});var n=r(19783),o=r.n(n),i=r(65541),s=r(30171),l=r(56141),c=r.n(l);function u(e,t,r,a){let{callWithInitialValue:n=!0,_verbose:o=!1,_deepEqual:i=!1}=void 0===a?{}:a,s=n?void 0:t(e.getState());function l(){let a=t(e.getState());(i?c()(a,s):a!==s)&&(o&&console.debug({nextState:a,currentState:s}),r(s=a))}let u=e.subscribe(l);return l(),u}var d=r(84175),g=r(38340),p=r(80443),m=r(55658);let h=(e,t,r)=>{e.features.define(i.n,["/translator/web/translationSaving","/translator/core/textareas","/translator/common/clearText","/translator/environment/sendAnalytics"],(e,a,n,i)=>{let{send:l}=i,c=(0,s.S3)(!1);r((0,p.Hw)()),u(t,e=>e.savedTranslations.currentSavedTranslationId,()=>{let r=t.getState().savedTranslations.currentSavedTranslationId;if(e.isSavedTranslationApplied(!r),r){let a=t.getState().savedTranslations.savedTranslations.find(e=>e.id===r);a&&(e.isSelectingTranslation(!0),e.applyTranslatorState(a.serializedTranslatorState),setTimeout(()=>e.isSelectingTranslation(!1),200))}},{callWithInitialValue:!1}),u(t,e=>e.savedTranslations.shouldClearText,()=>{let e=t.getState().savedTranslations.shouldClearText;e&&(n.clear(),r((0,p.p_)(!1)))});let h=o()(async a=>{let n=(0,m.t)(t.getState());if(!(!n||e.isSelectingTranslation()))try{let t=await e.updateSavedTranslation(a);r((0,p.i8)(t))}catch(e){"change of languages"===e.message&&(r((0,p.jp)(null)),l({id:d.qb.SAVED_TRANSLATIONS_CLOSE_BY_CHANGING_LANGUAGE,data:{savedTranslationsCloseByChangingLanguageData:{isSidebarOpen:(0,g.fy)(t.getState()),amountOfSavedTranslations:(0,m.KO)(t.getState())}}})),console.warn(e)}},3e3);a.onSourceTextBecomesEmpty.push(()=>{r((0,p.jp)(null)),e.isSavedTranslationApplied(!1)});let S=e=>{let t=!0;""===e.trim()&&(t=!1),t!==c()&&c(t)},f=()=>{let r=(0,m.Pf)(t.getState());!e.isSelectingTranslation()&&r&&h(r)};return a.onTargetTextChanged.push(()=>{if(a.isSourceTextEmpty()||a.isTargetTextEmpty()||c(!0),a.isTargetTextEmpty()&&!e.isSelectingTranslation()){r((0,p.jp)(null)),e.isSavedTranslationApplied(!1);return}f()}),a.onSourceTextChanged.push(e=>{S(e),f()}),{isSavingAllowed:c}})};var S=r(77055),f=r(16768),T=r(65394);r(18130),r(89148),r(22308),r(18563),r(71716),r(91508),r(91622),r(72757),r(64514),r(20121),r(40001),r(3190),r(15885),r(7645),r(35728),r(64768),r(12846),r(17441),r(79298),r(24810),r(36192),r(66519),r(41537),r(11929),r(80909),r(82859),r(95590);var y=r(98808),v=r(61606),w=r(15311);v.Z.defineType("/translator/core/observeDTextareaShortcuts",["/translator/core/textareas"],e=>{var t,r;let a=(0,y.f)();return null===(t=e.getSourceDTextarea())||void 0===t||t.onFormattingShortcutUsed.push((e,t)=>a({shortcut:e,fullTextChanged:t,textarea:w.$.SOURCE})),null===(r=e.getTargetDTextarea())||void 0===r||r.onFormattingShortcutUsed.push((e,t)=>a({shortcut:e,fullTextChanged:t,textarea:w.$.TARGET})),{onShortcutUsed:a}}),r(62522),r(71944),r(70055),r(99467),r(37126),r(8196),r(43101),r(49199),r(46096),r(41655),r(67873),r(72974),r(97561),r(86073),r(27840),r(55311),r(85606),r(90758),r(904),r(94162),r(75275),r(18252),r(32818),r(93226),r(22867),r(9345),r(76391),r(71350),r(9859),r(55309),r(82903),r(34404);var C=r(66726),x=r.n(C);let E=e=>{let{length:t,textToSummarize:r,summaryLanguage:a}=e;return{profileKey:"text-translation-summary",input:{summaryLanguage:b(a),lengthDescription:A(t)},chatMessages:[{source:"user",text:r}]}},_=new Map;_.set("en","English"),_.set("en-US","English (American)"),_.set("en-GB","English (British)"),_.set("de","German"),_.set("fr","French"),_.set("es","Spanish"),_.set("it","Italian"),_.set("nl","Dutch"),_.set("pl","Polish"),_.set("ru","Russian"),_.set("pt","Portuguese"),_.set("pt-PT","Portuguese"),_.set("pt-BR","Portuguese (Brazilian)"),_.set("ja","Japanese"),_.set("zh","Chinese (simplified)"),_.set("bg","Bulgarian"),_.set("hr","Croatian"),_.set("cs","Czech"),_.set("da","Danish"),_.set("et","Estonian"),_.set("fi","Finnish"),_.set("el","Greek"),_.set("hu","Hungarian"),_.set("is","Icelandic"),_.set("ga","Irish"),_.set("lv","Latvian"),_.set("lt","Lithuanian"),_.set("mt","Maltese"),_.set("no","Norwegian"),_.set("ro","Romanian"),_.set("sk","Slovak"),_.set("sl","Slovenian"),_.set("sv","Swedish"),_.set("id","Indonesian"),_.set("tr","Turkish"),_.set("uk","Ukrainian"),_.set("ko","Korean"),_.set("nb","Norwegian (bokm\xe5l)");let b=e=>{var t;let r;return r=e.variant?e.variant:e.lang.toLowerCase(),null!==(t=_.get(r))&&void 0!==t?t:r},A=e=>{switch(e){case"short":return"Your summary should be very short. Roughly 25 words or two sentences.";case"medium":return"Your summary should be medium length. Roughly 150 words or one large paragraph.";case"long":return"Your summary should be fairly long. Roughly 300 words or four paragraphs.";default:return""}};v.Z.defineType("/translator/common/summarize",["/translator/core/textareas","/translator/core/loadingTranslation","/translator/common/charCount","/translator/core/targetLanguageLabel","/translator/core/languageManagement","/translator/core/config","/translator/common/llmServices"],(e,t,r,a,n,o,i)=>{let l,c,{isLoading:u}=t,{charCount:d}=r,{currentLanguage:g}=a,{isUnsupportedLanguage:p}=n,{factoryChatCompletion:m}=i,h=(0,s.S3)(!1),S=(0,s.S3)(null),f=(0,s.S3)(!1),T=(0,s.S3)(!1),v=(0,s.S3)(!1),w=null,C=(0,s.S3)(e.getTargetText());e.onTargetTextChanged.push(C);let _=(0,y.f)(),b=(0,y.f)(),A=(0,y.f)(),L=x()((e,t,r,a)=>{h(!e&&t>=800&&!r&&a.length>0)},150,{leading:!0,trailing:!0});(0,s.S1)([u,d,p,C],L);let I=new Map;(0,s.S1)([u],e=>{e||I.clear()});let D=async function(e){void 0===e&&(e="medium"),l=performance.now(),c=e;let t=g(),r=C();_({summaryLength:e,textToSummarizeLengthInCharacters:r.length,summaryLanguage:t});let a=I.get(e);return a?R({cachedSummary:a,length:e,summaryLanguage:t,textToSummarize:r}):M({length:e,summaryLanguage:t,textToSummarize:r})},R=e=>{let{length:t,cachedSummary:r,textToSummarize:a,summaryLanguage:n}=e;S({length:t,text:r}),b({summaryLength:t,textToSummarizeLengthInCharacters:a.length,resultType:"cached",summaryLengthInCharacters:r.length,elapsedTimeInMs:performance.now()-l,summaryLanguage:n})},M=e=>{var t;let{length:r,textToSummarize:a,summaryLanguage:n}=e;return f(!1),v(!0),(function(e){let{abortController:t,isPro:r,getChatCompletion:a,...n}=e;return a(E(n),t.signal,r).then(e=>{let t=e.result[0];if(!t)throw Error("Couldn't extract summary from response");return t})})({length:r,textToSummarize:a,summaryLanguage:n,abortController:w=new AbortController,isPro:null!==(t=o.get("CONFIG__IS_PRO"))&&void 0!==t&&t,getChatCompletion:m("text-translation-summary")}).then(e=>{I.set(r,e),S({length:r,text:e}),b({summaryLength:r,textToSummarizeLengthInCharacters:a.length,resultType:"success",summaryLengthInCharacters:e.length,elapsedTimeInMs:performance.now()-l,summaryLanguage:n})}).catch(e=>{var t;null!==(t=w)&&void 0!==t&&t.signal.aborted||(console.error(e),f(!0),b({summaryLength:r,textToSummarizeLengthInCharacters:a.length,resultType:"error",summaryLengthInCharacters:0,elapsedTimeInMs:performance.now()-l,summaryLanguage:n}))}).finally(()=>{v(!1)})},O=()=>{if(v()){var e;null===(e=w)||void 0===e||e.abort(),v(!1),b({summaryLength:c,textToSummarizeLengthInCharacters:C().length,resultType:"cancel",summaryLengthInCharacters:0,elapsedTimeInMs:performance.now()-l,summaryLanguage:g()})}};return{isEnabled:h,isSummarizing:v,summarize:D,abortIfNecessary:O,isDialogVisible:T,showDialog:()=>T(!0),hideDialog:()=>T(!1),summary:S,wasLastSummaryRequestAnError:f,events:{onSummaryStarted:_,onSummaryFinished:b,onSummaryCopied:A}}});var L=r(75671),I=r(19323),D=r(29809);let R=["DE","EN"];v.Z.defineType("/translator/common/writeAdvertisementBanner",["/translator/core/languageManagement","/translator/core/textareas","/translator/common/shareUrl"],(e,t,r)=>{let a,n,o;let i=(0,s.S3)(!1),l=(0,y.f)(),c=(0,L.O)("LMT_write.writeAdvertisementBannerDisplayed",!1,2592e3),u=e=>{let r=()=>(0,I.OV)({trigger:I.W$.translatorContinueInWrite,textTransportChannel:"postMessage"}),a={text:t.getTargetText(),language:{lang:e.getTargetLangSettings().lang,variant:e.getTargetLangSettings().variant}};(0,D.M)({targetPage:"/write",targetEventKey:"translator-to-write.ready-for-text",message:a,setEntrypoint:r})},d=()=>{let t=e.getActiveLangContext(),a=t.targetSentences.map(e=>e.getText()),{url:n,shortened:o}=r.createShareUrlForWrite(a,t.getTargetLang());if(!o){setTimeout(()=>{window.location.href=n},200);return}u(t)},g=(e,t)=>!!R.includes(a)&&n!==e&&a===e&&o===t,p=r=>{let s=e.getSourceLang(),l=e.getTargetLang(),c=t.getSourceText();(s!==a||""!==r)&&(i(g(l,c)),a=s,n=l,o=r)};return c()||t.onTargetTextChanged.push(p),i.onValueChanged.push(e=>{e&&(c(!0),t.onTargetTextChanged.remove(p))}),{showBanner:i,accept:d,onUserInteraction:l}});var M=r(29039);let O=-1,k=()=>new Promise(e=>{let t=Date.now(),r=t-O>=24e4;!a||r?(O=Date.now(),a=(0,M.D)().then(()=>e())):a.then(()=>e())}),N=async(e,t,r)=>{let a={method:"POST",body:e,headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include",signal:r},n=`${t?"https://camellia-pro.www.deepl.com":"https://camellia-free.www.deepl.com"}/v1/completion`;return k().then(()=>fetch(n,a)).then(async e=>{if(!e.ok){let t=await e.json();throw Error(`${t.error.message} (error code: ${t.error.code})`,{cause:t})}return await e.json()}).then(e=>({requestId:e.id,result:e.result}))};function P(e,t,r){void 0===r&&(r=!1);let{profileKey:a,input:n,profileOverride:o}=e,i={key:a,input:n};if(o){let{model:e,prompts:t,temperature:r,maxTokens:a,shrinkMaxTokens:n}=o;i.devProfile={Model:null!=e?e:"text-davinci-003",Prompts:Array.isArray(t)?t:[t],Temperature:null!=r?r:0,MaxTokens:a,ShrinkMaxTokens:n}}let s=JSON.stringify({id:1e4*Math.round(1e4*Math.random())+1,jsonrpc:"2.0",method:"text",params:i});return N(s,r,t)}function F(e,t,r){void 0===r&&(r=!1);let{profileKey:a,input:n,chatMessages:o,profileOverride:i}=e,s={key:a,input:n,messages:o};if(i){let{instructionMessages:e,model:t,temperature:r,maxTokens:a}=i;s.devProfile={Model:null!=t?t:"gpt-3.5-turbo",PromptMessages:e,Temperature:null!=r?r:0,MaxTokens:a}}let l=JSON.stringify({id:1e4*Math.round(1e4*Math.random())+1,jsonrpc:"2.0",method:"chat",params:s});return N(l,r,t)}"undefined"!=typeof window&&(window.getTextCompletion=P),"undefined"!=typeof window&&(window.getChatCompletion=F),v.Z.defineType("/translator/common/llmServices",[],()=>{let e=(0,y.f)(),t=(0,y.f)(),r=t=>async function(r){for(var a=arguments.length,n=Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];let i=await F.apply(void 0,[r].concat(n));return e(t,r,i),i},a=e=>async function(r){for(var a=arguments.length,n=Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];let i=await P.apply(void 0,[r].concat(n));return t(e,r,i),i};return{factoryChatCompletion:r,factoryTextCompletion:a,onChatCompletion:e,onTextCompletion:t}});var G=r(19526);v.Z.defineType("/translator/common/removeFormatting",["/translator/core/domElements","/translator/core/textareas"],(e,t)=>{let r=(0,y.f)(),a=(0,s.S3)(!1),n=()=>{let e=!t.getSourceHtml()&&!t.getSourceText(),r=t.getSourceDTextarea();if(!r){a(!1);return}let n=function(e){let t=e.hasAnyFormatting();return t}(r);n&&!e?a(!0):a(!1)};t.onSourceTextChanged.push(n),n();let o=()=>{a()&&(t.setSourceTextExplicitly(t.getSourceText(),"update",!0),a(!1),r(),e.sourceEdit.blur(),e.sourceEdit.focus())};return{removeFormatting:o,onFormattingRemoved:r,shouldBeEnabled:a}}),r(7545),r(64),r(54791),r(95803),r(5016),r(56819),r(54693);var B=r(69748),U=r(22496),V=r(58462);v.Z.defineType("/translator/smartEditing/detectSourceSentenceClicks",["/translator/core/domElements","/translator/core/languageManagement"],(e,t)=>{let{sourceEdit:r,getSourceEditCursorOffset:a,getSourceEditCursorOffsetEnd:n}=e,{getActiveLangContext:o}=t,i=(0,y.f)(),s=(0,y.f)();return r.addEventListener("mouseup",e=>{let t=e.detail;2===t?function(e,t,l){var c;let u=o(),d=r.value,g=a(),p=n(),m=d.substring(g,p).trim();if(-1!==m.indexOf(" ")){(U.ZP.isWin||U.ZP.isMac)&&!U.ZP.isMobilePhone&&i({langContext:u,tSentenceWordPos:void 0,tSentenceCursorPos:void 0,trigger:"click",clickNumber:l});return}let h=(0,V.PY)(d,g),S=(0,B.c5)(u,h),f=(0,B.c5)(u,g);if(S){let e=g!==p&&0===d.substring(g,p).trim().length,a=0===d.substring(g-1,p+1).trim().length,n=S.sentence.getText().trim().length;if((e||a)&&n){s();return}let o=(0,V.DO)(r,h);if(o.top<=0&&o.left<=0&&h>0)return;let i=parseInt(getComputedStyle(r).getPropertyValue("line-height"),10);h>=d.length-1&&t>o.top+i&&(S=null)}i({langContext:u,tSentenceWordPos:null!==(c=S)&&void 0!==c?c:void 0,tSentenceCursorPos:null!=f?f:void 0,trigger:"click",clickNumber:l})}(e.offsetX,e.offsetY,e.detail):s()}),{onSourceSentenceClicked:i,onEmptyAreaClicked:s,triggerSourceSentenceClicked:e=>{i(e)}}}),r(82961),r(69667),r(44821),r(87543),r(52910),r(61784),v.Z.defineType("/translator/smartEditing/smartSourceEditingDetector",["/translator/core/domElements","/translator/smartEditing/detectSourceSentenceClicks","/translator/core/networkStatus"],(e,t,r)=>{let a=(0,y.f)(),n=(0,y.f)(),{sourceEdit:o,targetEdit:i}=e;return i.addEventListener("focus",()=>n()),[o].forEach(e=>null==e?void 0:e.addEventListener("scroll",()=>n())),t.onEmptyAreaClicked.push(()=>n()),r.onRequestFailed.push((e,t)=>n()),t.onSourceSentenceClicked.push(e=>{let{langContext:t,tSentenceWordPos:r,tSentenceCursorPos:n,trigger:o,clickNumber:i}=e;a({langContext:t,tSentenceWordPos:r,tSentenceCursorPos:n,trigger:o,clickNumber:i})}),o.addEventListener("keydown",()=>{n()}),{onClick:a,onStopSmartEditing:n}}),v.Z.defineType("/translator/smartEditing/smartSourceEditing",["/translator/smartEditing/smartSourceEditingDetector"],e=>{let t=(0,y.f)(),r=(0,y.f)(),a=(0,y.f)(),n=(0,s.S3)(void 0),o=(0,s.G7)([n],e=>void 0!==e);function i(){o()&&(n(void 0),a())}return e.onStopSmartEditing.push(()=>{i()}),{onSourcePopupOpened:t,onSourcePopupOpening:r,onSourcePopupClosed:a,sourcePopupInfo:n,isPopupOpen:o,closePopup:i,openPopup:function(e){n(e),r(e),t(e)},updatePopupAnchor:function(e,t){let r=n();if(!r)return;let a={...r,globalCursor:e,sentenceCursor:t};n(a)}}}),r(5210);var W=r(35932);v.Z.defineType("/translator/web/translationRating",["/translator/core/textareas"],e=>{let t=(0,y.f)(),r=(0,s.S3)(!1),a=(0,s.S3)(null),n=()=>{t({sourceText:e.getSourceText(),targetText:e.getTargetText(),ratingOption:W.i.Like}),a(W.i.Like)},o=()=>{t({sourceText:e.getSourceText(),targetText:e.getTargetText(),ratingOption:W.i.Dislike}),a(W.i.Dislike)};return e.onTargetTextChanged.push(e=>{r("string"==typeof e&&e.length>0),a(null)}),{onTranslationRatingClicked:t,isRatingAllowed:r,rating:a,onLike:n,onDislike:o}}),v.Z.defineType("/translator/web/translationRatingSendText",["/translator/web/translationRating","/translator/core/languageManagement","/translator/core/translationBackend","/translator/core/config"],(e,t,r,a)=>{e.onTranslationRatingClicked.push(e=>{let{sourceText:n,targetText:o,ratingOption:i}=e,s=t.getActiveLangContext(),l=s.getTargetSentences(),c=[];l.some(e=>Array.isArray(e.highlights)&&e.highlights.some(e=>"glossaryHighlight"===e.type))&&c.push("glossary"),l.some(e=>e.hasChangedText())&&c.push("manually");let u=a.get("isWriteMode")?"writeRatedText":"ratedText",d={type:u,lang:{source:s.getSourceLang(),target:s.getTargetLangSettings(),selectedSource:t.getSelectedSourceLang(),selectedTarget:t.getSelectedTargetLangSettings(),interface:(a.get("il")||"").toUpperCase()},rating:i,ratingHuman:1===i?"good":"bad",rawCharacterCountSourceText:n.length,rawCharacterCountTargetText:o.length,sourceText:n.substr(0,5e3),targetText:o.substr(0,1e4),targetTextWasChangedByUser:c.join(","),isGlossaryEnabled:t.isGlossaryEnabled()?"glossaryIsActive":"glossaryIsNotActive",version:"v2"};r.sendAdditionalData(d).catch(e=>{})})}),r(19909),r(29667),r(21348),r(76304),r(19266);var Z=r(30874),z=r(91542),H=r(23426);v.Z.defineType("/translator/web/sourceFocusedWordHighlight",["/translator/environment/localizedTexts","webTranslatorCore","/translator/core/highlightManagement","/translator/core/languageManagement","/translator/core/textareas","/translator/core/translateSourceSentences"],(e,t,r,a,n,o)=>{let i=(0,s.S3)(!1),l=(0,s.S3)(!1),c=null,u=t=>{var n;null===(n=c)||void 0===n||n();let o=a.getSourceLang();o&&(c=(0,Z.g)({sentences:t,lang:o,withColor:!1,withTooltipOnClick:i(),withTooltipOnHover:l(),onRenderContextualMenuTooltip:function(){let t=e.get("translator/contextMenu.tooltip.source");for(var r=arguments.length,a=Array(r),n=0;n<r;n++)a[n]=arguments[n];H.iM.apply(void 0,[t].concat(a))},onCleanupContextualMenuTooltip:H.cA,onUpdateModel:(e,t)=>{e.highlightState.setInnerSentenceHighlight(z.lp.FOCUSED_WORD,t)}}),r.notifySourceSentencesChanged(t))},d=()=>{u(a.getActiveLangContext().getSourceSentences())};n.onSourceTextChanged.push(d),o.onFinalizeUpdatedTargetSentences.push(d),(0,s.S1)([l,i],()=>{d()}),t.features.with(["/translator/web/sourceContextEditing"],e=>{(0,s.S1)([e.isOpen],e=>{if(e){var t;null===(t=c)||void 0===t||t()}}),(0,s.S1)([e.isTooltipOnHoverEnabled],e=>{l(e)})})}),r(98907),r(71156);var j=r(32317),q=r(89300);v.Z.defineType("/translator/web/sourceContextEditing",["webTranslatorCore","/translator/core/config","/translator/core/domElements","/translator/core/highlightManagement","/translator/core/languageManagement","/translator/core/textareas","/translator/smartEditing/smartSourceEditingDetector","/translator/smartEditing/smartSourceEditing","/translator/dictionary"],(e,t,r,a,n,o,i,l,c)=>{let u=(0,s.S3)(null),d=(0,s.S3)(!1),g=(0,s.S3)(!1),p=(0,s.S3)(!1);(0,s.S1)([d],e=>{e&&g(!0)});let m=c.isDictSupported,h=(0,s.G7)([g,m,p],(e,t,r)=>!e&&t&&!r),S=(0,s.S3)({}),f=(0,y.f)();function T(){var t;let r=n.getActiveLangContext().getSourceLang().toUpperCase(),a=e._internalLanguageManagement.langConfig[r];return null!==(t=null==a?void 0:a.wordsAreWrittenContinuously)&&void 0!==t&&t}l.onSourcePopupOpened.push(()=>f()),(0,s.S1)([u,m,p],(t,r,a)=>{if(!t||!r||!function(t){let{langContext:r,tSentenceWordPos:a,tSentenceCursorPos:n,clickNumber:o}=t,i=!a&&e.isActiveLangContext(r);if(i)return!1;let s=T()?n:a;return void 0!==s&&2===o&&!!e.isActiveLangContext(r)}(t)||a){l.closePopup();return}let{tSentenceCursorPos:n,tSentenceWordPos:o,trigger:i}=t,s=T()?n:o;if(void 0===s){l.closePopup();return}let c={sourceSentence:s.sentence,globalCursor:s.cursorOffset,sentenceCursor:s.sentenceCursorOffset,trigger:i};l.openPopup(c)});let v=()=>{u(null),l.closePopup()},w=e=>{let t=r.sourceEdit.contains(e.target);t||v()};function C(){let e=n.getActiveLangContext().getSourceLang(),t=o.getSourceText();e&&t&&p(function(e,t){let r=(0,q.T_)(t),a=0;for(let{segment:t}of r.segment(e))if(/\S/.test(t)&&(a+=1),a>=2)return!1;return!0}(t,e))}async function x(e){let{sourceSentence:t,sentenceCursor:o}=null!=e?e:{};if(!t||void 0===o)return;let i=await (0,j.hF)("sourceContextEditing",a,t,o),s=n.getActiveLangContext().getSourceLang(),l=(0,j.yu)(t.getText(),o,s),c={start:r.sourceEdit.selectionStart};return{position:i,word:l,selection:c}}i.onClick.push(e=>{u(e)}),i.onStopSmartEditing.push(()=>{v()}),o.onSourceTextChanged.pushWithReplay(C),n.onActiveLangContextChanged.push(C);let E=(0,s.S3)();return(0,s.S1)([l.sourcePopupInfo],e=>{let t=E();if(E(e),t&&e&&e.sourceSentence===t.sourceSentence&&e.globalCursor===t.globalCursor&&e.sentenceCursor===t.sentenceCursor||(null==e?void 0:e.trigger)==="autocompletion")return;let r=t&&e&&e.sourceSentence===t.sourceSentence&&e.sentenceCursor!==t.sentenceCursor;r||d(!1),x(e).then(e=>{e&&S(e),d(l.isPopupOpen())}).catch(e=>console.error(e))}),window.addEventListener("resize",()=>{v()},{passive:!0}),{isOpen:d,wasOpen:g,close:v,closeOutsideClick:w,context:S,isDictionarySupported:m,onOpened:f,isTooltipOnHoverEnabled:h}}),r(76405);var $=r(2239);let K=e=>{let t=window.localStorage.getItem(e);try{var r;return null!==(r=JSON.parse(t))&&void 0!==r?r:{}}catch(e){return{}}},J=(e,t)=>{try{let r=JSON.stringify(t);window.localStorage.setItem(e,r)}catch(t){window.localStorage.setItem(e,{})}};r(12959),v.Z.defineType("/translator/web/manyTranslationsBlock",["/translator/core/textareas","/translator/environment/releaseGroups","/translator/environment/userInfo","/translator/common/openPage"],(e,t,r,a)=>{let{requestProPage:n}=a,o="[manyTranslationsBlock]",i=(0,y.f)(),l=(0,y.f)(),c=t.isActive("DM-1113"),u=(0,s.S3)(!1),{characterVolumeLimit:d,characterVolumeBlockDurationInMs:g}={},p=d||g;p&&console.warn(o,"init");let m=d&&parseInt(d,10)||(c?3e4:6e4),h=g&&parseInt(g,10)||864e5;p&&console.table({CHARACTER_VOLUME_LIMIT:m,CHARACTER_VOLUME_BLOCK_DURATION_IN_MS:h});let S=()=>{let e=localStorage.getItem("LMT_text_translator_usage_free");return e?JSON.parse(e):{}},f=()=>{var e;return null===(e=S())||void 0===e?void 0:e.usageId},T=f(),v=(0,$.WJ)("dapUid");T&&T===v||localStorage.setItem("LMT_text_translator_usage_free",JSON.stringify({characterVolume:0,characterVolumeByDays:{},characterVolumeReset:Date.now(),usageId:v})),l.push(()=>{i({ctaClicked:!0,usageId:f()}),n({cta:"many-translations-block-dialog"}),J("LMT_resumeCheckout",{...K("LMT_resumeCheckout"),pd:2})});let w=e=>{let t=S();localStorage.setItem("LMT_text_translator_usage_free",JSON.stringify({...t,...e}))},C=()=>{let e=r.isProAvailable(),t=()=>{let e=!u();e&&(u(!0),i({dialogShown:!0,usageId:f()}))};e?t():void 0===e&&r.isProAvailable.onValueChanged.push(e=>(p&&console.warn("isProAvailable.onValueChanged()",e),e&&t(),"REMOVE"))},x=()=>{let{characterVolume:e=0}=S();return e},E=e=>{w({characterVolume:e})},_=()=>{let{characterVolumeLimitExceeded:e}=S();return e},b=e=>w({characterVolumeLimitExceeded:e}),A=()=>{let{thresholdReached:e}=S();return e},L=e=>w({thresholdReached:e}),I=()=>{let e=_();return e&&Date.now()<e+h},D=()=>{let e=x();e>=3e4&&!A()&&(L(!0),i({thresholdReached:!0,usageId:f()})),e>=m?(p&&console.warn(o,"> Reached Character Limit",e),E(0),L(!1),b(Date.now()),C()):I()&&(p&&console.warn(o,"> Reached 24H Limit"),E(0),L(!1),C())};return e.isSourceTextEmpty()||D(),e.onSourceTextChanged.push(()=>{p&&console.warn(o,"> onSourceTextChanged()"),D()}),{onDialogEvent:i,onOpenProPage:l,showingBlock:u,getUsageId:f}}),r(60867);var Y=r(1779);let X=function(){function e(e,t){this._audioContext=void 0,this.options={threshold:Y.Nr,interval:100,smoothing:.1,maxSilenceDuration:5e3},this.silenceDurationExceededCallback=void 0,this.silenceDuration=0,this._analyser=void 0,this._fftBins=void 0,this.currentVolume=this.options.threshold,this.isMonitoring=void 0,this.isSpeaking=!1,this.AudioContextType=window.webkitAudioContext||window.AudioContext,this._stream=null,t&&(this.options={...this.options,...t}),this.silenceDurationExceededCallback=null==e?void 0:e.bind(this),this._audioContext=new this.AudioContextType,this._analyser=this._audioContext.createAnalyser(),this._analyser.fftSize=512,this._analyser.smoothingTimeConstant=this.options.smoothing,this._fftBins=new Float32Array(this._analyser.fftSize)}var t=e.prototype;return t.startMonitoring=function(e){this._stream=e,this._audioContext.resume();let t=this._audioContext.createMediaStreamSource(this._stream);t.connect(this._analyser),this.isMonitoring=!0,this.isSpeaking=!1,this.silenceDuration=0,this._monitorVolumeLoopWithTimeout()},t.stopMonitoring=function(){this.isMonitoring=!1,this._stream=null,this.isSpeaking=!1,this.currentVolume=this.options.threshold,this._audioContext.suspend()},t._getMaxVolume=function(){let e=-1/0;this._analyser.getFloatFrequencyData(this._fftBins);for(let t=4;t<this._fftBins.length;t++)this._fftBins[t]>e&&this._fftBins[t]<0&&(e=this._fftBins[t]);return e},t._checkIfSilenceExceedsMaxSilenceDuration=function(){if(this.isSpeaking){this.silenceDuration=0;return}if(this.silenceDuration+=this.options.interval,this.silenceDuration>this.options.maxSilenceDuration){var e;this.stopMonitoring(),null===(e=this.silenceDurationExceededCallback)||void 0===e||e.call(this)}},t._checkIsSpeaking=function(){this.currentVolume=this._getMaxVolume(),this.currentVolume>this.options.threshold&&!this.isSpeaking?this.isSpeaking=!0:this.currentVolume<this.options.threshold&&this.isSpeaking&&(this.isSpeaking=!1),this._checkIfSilenceExceedsMaxSilenceDuration()},t._monitorVolume=function(){this.isMonitoring&&(this._checkIsSpeaking(),this._monitorVolumeLoopWithTimeout())},t._monitorVolumeLoopWithTimeout=function(){setTimeout(this._monitorVolume.bind(this),this.options.interval)},e}();var Q=r(90018);let ee={NO_PERMISSION:"Media recorder access permission denied",NO_BROWSER_SUPPORT:"Voice dictation not supported on browser"},et=function(){function e(e,t,r){void 0===r&&(r={maxByteSize:1e6,maxTimeLimitMs:3e4,monitorAudioVolume:!0}),this._mediaRecorder=null,this._chunks=[],this._audioStreamState=null,this._stream=null,this._recordingDurationMs=0,this.mimeType=void 0,this.options=void 0,this.recordingStoppedSource=Q.F.UNSPECIFIED,this.recordingAvailableCallback=void 0,this.updateCurrentVolumeCallback=void 0,this.recordingAvailableCallback=e,this.updateCurrentVolumeCallback=t,this._setUpMimetype(),this.options=r}var t=e.prototype;return t.startRecording=function(){return this.resetRecorder(),new Promise((e,t)=>{navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||t(Error(ee.NO_BROWSER_SUPPORT)),navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{var r;this._stream=t,this._mediaRecorder=new MediaRecorder(t),this._mediaRecorder.ondataavailable=this._handleMediaRecordingDataAvailable.bind(this),this._mediaRecorder.onstop=this._handleMediaRecordingStopped.bind(this),this.options.monitorAudioVolume&&(this._audioStreamState=new X(this._handleSilenceDetected.bind(this),{maxSilenceDuration:Y.Zj})),null===(r=this._audioStreamState)||void 0===r||r.startMonitoring(t),this._mediaRecorder.start(this.options.maxByteSize?500:void 0),e()}).catch(e=>{this.resetRecorder(),e instanceof DOMException&&("NotAllowedError"===e.name||"NotFoundError"===e.name)&&t(Error(ee.NO_PERMISSION)),t(e)})})},t.stopRecording=function(){this._mediaRecorder&&"recording"===this._mediaRecorder.state&&(this.recordingStoppedSource=Q.F.USER_ACTION,this._mediaRecorder.stop())},t.resetRecorder=function(){var e,t;this._chunks=[],null===(e=this._stream)||void 0===e||e.getAudioTracks().forEach(e=>{e.stop()}),null===(t=this._audioStreamState)||void 0===t||t.stopMonitoring(),this._stream=null,this._mediaRecorder=null,this._recordingDurationMs=0},t._setUpMimetype=function(){let e=["audio/webm","audio/mp4","video/webm","video/mp4"];for(let t=0;t<e.length;t+=1)if(MediaRecorder.isTypeSupported(e[t])){this.mimeType=e[t];return}this.mimeType="audio/webm"},t._checkMaxByteSizeExceeded=function(){if(!this.options.maxByteSize||!this._mediaRecorder||"recording"!==this._mediaRecorder.state)return;let e=this._chunks.reduce((e,t)=>e+t.size,0);if(e>=this.options.maxByteSize){var t;this.recordingStoppedSource=Q.F.MAX_FILE_SIZE_REACHED,null===(t=this._mediaRecorder)||void 0===t||t.stop()}},t._checkMaxTimeLimitExceeded=function(){if(this.options.maxTimeLimitMs&&this._mediaRecorder&&"recording"===this._mediaRecorder.state&&(this._recordingDurationMs+=500,this._recordingDurationMs>=this.options.maxTimeLimitMs)){var e;this.recordingStoppedSource=Q.F.TIME_LIMIT_EXCEEDED,null===(e=this._mediaRecorder)||void 0===e||e.stop()}},t._handleSilenceDetected=function(){var e;this.recordingStoppedSource=Q.F.SILENCE_EXCEEDED,null===(e=this._mediaRecorder)||void 0===e||e.stop()},t._handleMediaRecordingDataAvailable=function(e){var t;this._chunks.push(e.data),this._checkMaxByteSizeExceeded(),this._checkMaxTimeLimitExceeded(),this._audioStreamState&&(null===(t=this.updateCurrentVolumeCallback)||void 0===t||t.call(this,this._audioStreamState.currentVolume))},t._handleMediaRecordingStopped=function(){var e;let t=new Blob(this._chunks,{type:this.mimeType});null===(e=this.recordingAvailableCallback)||void 0===e||e.call(this,t,this._recordingDurationMs,this.recordingStoppedSource)},e}(),er=(e,t,r,a)=>(0,M.D)().then(()=>fetch(`https://voice-free.www.deepl.com/sync/transcribe?${new URLSearchParams({lang:t}).toString()}`,{headers:{accept:"application/json","Content-Type":r},credentials:"include",signal:a,body:e,method:"POST"})).then(e=>e.json());v.Z.defineType("/translator/web/voiceDictation",["/translator/core/languageManagement","/translator/core/textareas","/translator/core/predefinedState"],(e,t,r)=>{let a=(0,s.S3)(Q.A.WAITING_FOR_LANGUAGE_SELECTION),n=(0,s.S3)(),o=(0,s.S3)(0),i=(0,s.S3)(!1),l=()=>i(!1),c=(0,s.S3)(!1),u=()=>c(!1),d=(0,s.S3)(!1),g=()=>d(!1),p=(0,s.S3)(!1),m=()=>p(!1),h=(0,s.S3)(!1),S=()=>h(!1),f=(0,s.S3)(!1),T=()=>f(!1),v=(0,s.S3)(!1),w=()=>v(!1),C=()=>{m(),l(),S(),u(),g(),T()};function x(e){C(),e(!0)}let E=(0,y.f)(),_=(0,y.f)(),b=(0,y.f)(),A=(0,y.f)(),L=(0,y.f)(),I=(0,y.f)(),D=(0,y.f)(),R=null,M=(e,r,o)=>{E(r,o),a()===Q.A.RECORDING&&(o===Q.F.SILENCE_EXCEEDED&&x(c),(o===Q.F.TIME_LIMIT_EXCEEDED||o===Q.F.MAX_FILE_SIZE_REACHED)&&x(d),function(e,r){let o=setTimeout(()=>v(!0),Y.Cm);R=new AbortController,er(e,r,k.mimeType,R.signal).then(e=>{a(Q.A.PROCESSING_TRANSCRIPTION),function(e){var r;let a=n(),o=e.detected_lang_code;if(o!==a){x(p),I(o);return}if(!(r=e.segments)||!r.length||!r[0].text){x(f),_();return}let i=function(e){let r=`${e.map(e=>e.text).join()} `;return t.setSourceTextExplicitly(`${t.getSourceText()}${r}`,"update",!1,!0),r.length}(e.segments);L({numOfTranscriptionCharacters:i,detectedSourceLanguage:o,selectedSourceLanguage:a})}(e)}).catch(e=>{var t;null!==(t=R)&&void 0!==t&&t.signal.aborted||(403===e.status?A():b(),x(h))}).finally(()=>{g(),u(),N(),clearTimeout(o),w()}),k.resetRecorder()}(e,n()),a(Q.A.TRANSCRIBING))},O=e=>o(e),k=new et(M,O);function N(){(0,Y.Ay)(n())?a(Q.A.WAITING_TO_START_RECORDING):"auto"===n()?a(Q.A.WAITING_FOR_LANGUAGE_SELECTION):a(Q.A.UNSUPPORTED_LANGUAGE)}function P(){var e;null===(e=R)||void 0===e||e.abort()}return e.onSelectedSourceLangChanged.push(()=>{n(e.getSelectedSourceLang()),a()===Q.A.RECORDING&&(a(Q.A.WAITING_FOR_LANGUAGE_SELECTION),k.resetRecorder()),a()===Q.A.TRANSCRIBING&&(a(Q.A.WAITING_FOR_LANGUAGE_SELECTION),P()),N()}),e.onSourceLangDetected.push(e=>{n(e),N()}),(0,s.S1)(r.isInPredefinedState,t=>{t&&(n(e.getSelectedSourceLang()),N())}),t.onSourceTextBecomesEmpty.push(()=>{n(e.getSelectedSourceLang()),N()}),{currentSourceLanguage:n,voiceDictationState:a,voiceRecordingVolume:o,startVoiceRecording:function(){a()===Q.A.WAITING_TO_START_RECORDING&&(C(),k.startRecording().then(()=>a(Q.A.RECORDING)).catch(e=>{e.message===ee.NO_PERMISSION?(x(i),D()):console.error("Voice_Dictation_Feature",e)}))},stopVoiceRecording:function(){k.stopRecording()},cancelTranscription:P,showMicrophoneAccessBlocked:i,hideMicrophoneAccessBlocked:l,showSilenceDetected:c,hideSilenceDetected:u,showTimeLimitExceeded:d,hideTimeLimitExceeded:g,showLanguageNotRecognized:p,hideLanguageNotRecognized:m,showTechnicalError:h,hideTechnicalError:S,showNoSpeechDetected:f,hideNoSpeechDetected:T,showRequestTooSlow:v,hideRequestTooSlow:w,onTrackStopVoiceRecording:E,onTrackNoSpeechDetectedError:_,onTrackTechnicalError:b,onTrackClearanceError:A,onTrackLanguageNotRecognizedError:I,onTrackMicrophoneAccessBlocked:D,onTrackSuccessfulTranscription:L}});var ea=r(68085),en=r(84627);let eo=e=>{var t,r;if(e.sourceText&&e.sourceText.length>0)return e.sourceText.substring(0,40);let a=null===(t=e.sourceChains)||void 0===t?void 0:null===(r=t[0])||void 0===r?void 0:r[0];if(a&&a.length>0)return a.substring(0,40)};v.Z.defineType("/translator/web/translationSaving",["webTranslatorCore","/translator/core/predefinedState"],(e,t)=>{let r;let a=(0,en.S3)(!1),n=(0,en.S3)(!1);async function o(){return await t.serializeActiveState("full")}e.features.with(["/translator/glossary"],e=>{r=e});let i=e=>{let t=!e.sourceChains||0===e.sourceChains.length,r=!e.sourceText||""===e.sourceText.trim();return!!t&&!!r};return{loadTranslatorState:o,applyTranslatorState:function(e){var n;null===(n=r)||void 0===n||n.setGlossaryEnabledState(!1),t.applyPredefinedState(e),a(!0)},createInitialSavedTranslation:async function(){let e=await o();if(i(e))throw Error("no source text");let t={title:eo(e)||"Untitled",creationDate:new Date().toISOString(),id:(0,ea.a)(),sourceLang:e.sourceLangcode,targetLang:e.targetLangcode,serializedTranslatorState:e,numberOfEdits:0};return t},updateSavedTranslation:async function(e){let t=await o();if(i(t))throw{message:"no source text"};if(!n()&&(e.sourceLang!==t.sourceLangcode||e.targetLang!==t.targetLangcode))throw{message:"change of languages"};return{...e,serializedTranslatorState:t}},isSavedTranslationApplied:a,isSelectingTranslation:n}}),r(56439);let ei=(e,t,r)=>{(0,S.Z)(e),(0,f.M)(e);let{features:a}=e;a.apply("/translator/core/basicConfiguration"),a.apply("/translator/core/config"),a.apply("/translator/core/domElements"),a.apply("/translator/core/textareas"),a.apply("/translator/core/richTextHandling"),a.apply("/translator/core/langPreference"),a.apply("/translator/core/requestHandling"),a.apply("/translator/core/languageManagement"),a.apply("/translator/core/selectedLanguages"),a.apply("/translator/core/networkStatus"),a.apply("/translator/core/translationBackend"),a.apply("/translator/core/triggerSourceTranslation"),a.apply("/translator/core/updateSourceSentences"),a.with(["/translator/core/updateSourceSentences"],e=>{e.addReasonToDelayUpdates("waitingForGlossary")}),a.apply("/translator/common/translatorStats"),a.apply("/translator/core/translateSourceSentences"),a.apply("/translator/core/retranslationServices"),a.apply("/translator/core/predefinedState"),a.apply("/translator/core/sourceLanguageLabel"),a.apply("/translator/core/targetLanguageLabel"),a.apply("/translator/core/sourceLanguages"),a.apply("/translator/core/targetLanguages"),a.apply("/translator/core/loadingTranslation"),a.apply("/translator/core/observeSentenceSelection"),a.apply("/translator/core/paragraphHandling"),a.apply("/translator/core/highlightManagement"),a.apply("/translator/core/observeSourceTextAndLanguage"),a.apply("/translator/core/observeDTextareaPerformance"),a.apply("/translator/core/observeDTextareaShortcuts"),a.apply("/translator/core/readonlySourceSide"),a.apply("/translator/common/charCount"),a.apply("/translator/common/clearText"),a.apply("/translator/common/copyTextFromTextarea"),a.apply("/translator/common/spellcheckHandling"),a.apply("/translator/common/copyTargetText"),a.apply("/translator/common/shareUrl"),a.apply("/translator/common/share"),a.apply("/translator/common/shareTargetText"),a.apply("/translator/common/observeTextSession"),a.apply("/translator/common/observeTranslationBackend"),a.apply("/translator/common/interceptClipboard"),a.apply("/translator/common/analytics"),a.apply("/translator/common/errorHandling"),a.apply("/translator/common/confirmFreeTranslator"),a.apply("/translator/common/speakSourceText"),a.apply("/translator/common/speakTargetText"),a.apply("/translator/common/alternativeTranslations"),a.apply("/translator/common/reloadHelper"),a.apply("/translator/common/batchTranslation"),a.apply("/translator/common/newTextareaHint"),a.apply("/translator/common/switchLang"),a.apply("/translator/common/openPage"),a.apply("/translator/common/popups"),a.apply("/translator/common/computedTextLength"),a.apply("/translator/common/writeAdvertisementBanner"),a.apply("/translator/common/continueInWrite"),a.apply("/translator/common/llmServices"),(0,G.k)(e),a.with(["/translator/core/config"],e=>{let r=e.get("CONFIG__IS_PRO"),n=(0,T.z)(t.getState());r||n||a.apply("/translator/common/sendTranslationState")}),a.with(["/translator/environment/releaseGroups"],e=>{e.isActive("DF-3361")&&(a.apply("/translator/common/translatorSideFocus"),a.apply("/translator/common/lastFocusedSideUndoRedo"),a.apply("/translator/common/sourceUndoRedo"),a.apply("/translator/common/targetUndoRedo"))}),a.with(["/translator/core/config"],e=>{e.get("isRtfEnabled")&&a.apply("/translator/common/removeFormatting")}),a.apply("formality/persist"),a.apply("formality/core"),a.apply("formality"),a.apply("formality/ad"),a.apply("/translator/dictionary"),a.apply("/translator/smartEditing/updateTargetSentencesFromText"),a.apply("/translator/common/detectTargetTextModifications"),a.apply("/translator/smartEditing/detectTargetSentenceClicks"),a.apply("/translator/smartEditing/smartTargetEditingDetector"),a.apply("/translator/smartEditing/smartTargetEditing"),a.apply("/translator/smartEditing/smartTargetEditingUpdateTarget"),a.apply("/translator/smartEditing/smartTargetEditingCommunication"),a.apply("/translator/smartEditing/smartTargetEditingAutocompletion"),a.apply("/translator/smartEditing/smartTargetEditingAlternatives"),a.apply("/translator/web/focusedWordHighlight"),a.apply("/translator/web/alternativeAtPositionHighlight"),a.require(["/translator/environment/releaseGroups"],e=>{let t=e.isActive("B2B-444")&&!1;t?a.apply("/translator/glossary/new"):a.apply("/translator/glossary")}),a.require(["/translator/environment/releaseGroups","/translator/core/config"],(n,o)=>{let i=n.isActive("B2B-596")||n.isActive("B2B-679"),s=o.get("CONFIG__IS_PRO");!s&&i&&(a.apply("/translator/web/translationSaving"),h(e,t,r))}),a.with(["/translator/core/updateSourceSentences","/translator/glossary"],e=>{e.removeReasonToDelayUpdates("waitingForGlossary")}),a.with(["/translator/core/updateSourceSentences","/translator/glossary/new"],e=>{e.removeReasonToDelayUpdates("waitingForGlossary")}),a.with(["/translator/core/config","/translator/environment/userInfo"],(e,t)=>{(0,s.S1)(t.isProAvailable,t=>{t&&!e.get("CONFIG__IS_PRO")&&(a.apply("/translator/web/manyTranslationsBlock"),a.apply("/translator/common/manyTranslationsNag"))})}),a.apply("/translator/web/translationRating"),a.apply("/translator/web/addTranslatedByFooter"),a.with(["/translator/core/config"],e=>{e.get("CONFIG__IS_PRO")||a.apply("/translator/web/translationRatingSendText")}),a.apply("/translator/web/analytics"),a.apply("/translator/web/targetContextEditing"),a.apply("/translator/web/alignedSentenceHighlight"),a.apply("/translator/web/textarea/state"),a.with(["/translator/core/config","/translator/environment/releaseGroups"],(e,t)=>{let r=e.get("CONFIG__IS_PRO"),n=t.isActive("DF-3552")&&!r;n&&a.apply("/translator/web/voiceDictation")}),a.require(["/translator/core/config"],e=>{let t=e.get("CONFIG__IS_ANONYMOUS")&&!navigator.userAgent.includes("Googlebot");t&&a.apply("/translator/web/usageBlock")}),a.require(["/translator/environment/releaseGroups","/translator/core/config"],(e,t)=>{let r=t.get("isWriteMode");!r&&e.isActive("DPAY-2860")&&a.apply("/translator/web/southKoreaProDialog")}),a.require(["/translator/core/config","/translator/environment/releaseGroups"],(e,t)=>{let r=e.get("CONFIG__IS_PRO");!r&&t.isActive("DF-3505")&&a.apply("/translator/common/summarize")}),a.apply("/translator/smartEditing/detectSourceSentenceClicks"),a.apply("/translator/smartEditing/smartSourceEditingDetector"),a.apply("/translator/smartEditing/smartSourceEditing"),a.apply("/translator/web/sourceContextEditing"),a.apply("/translator/web/sourceFocusedWordHighlight")};var es=ei},29667:function(e,t,r){"use strict";var a=r(61606);let n={DE:"\xdcbersetzt mit www.DeepL.com/Translator (kostenlose Version)",EN:"Translated with www.DeepL.com/Translator (free version)",ES:"Traducci\xf3n realizada con la versi\xf3n gratuita del traductor www.DeepL.com/Translator",FR:"Traduit avec www.DeepL.com/Translator (version gratuite)",IT:"Tradotto con www.DeepL.com/Translator (versione gratuita)",JA:"www.DeepL.com/Translator（無料版）で翻訳しました。",NL:"Vertaald met www.DeepL.com/Translator (gratis versie)",PL:"Przetłumaczono z www.DeepL.com/Translator (wersja darmowa)",RU:"Переведено с помощью www.DeepL.com/Translator (бесплатная версия)",PT:"Traduzido com a vers\xe3o gratuita do tradutor - www.DeepL.com/Translator",ZH:"通过www.DeepL.com/Translator（免费版）翻译"};a.Z.defineType("/translator/web/addTranslatedByFooter",["/translator/core/config","/translator/core/languageManagement","/translator/common/interceptClipboard","/translator/common/copyTextFromTextarea"],(e,t,r,a)=>{let o="LMT_copyEvents";function i(){try{let e=window.localStorage.getItem(o);if(!e)return[];{let t=JSON.parse(e);return Array.isArray(t)?t:[]}}catch(e){return[]}}let s=t=>{let r;if(e.get("isWriteMode")||t.length<400)return!1;for(let[e,r]of Object.entries(n))if(t.search(r)>=0)return!1;return r=0,Date.now(),i().forEach(e=>{r+=1}),!(r>=3)},l=e=>{let r=e;if(s(e)){let a=t.getActiveLangContext().getTargetLang(),o=n[a]||n.EN,i=`${e}

${o}`;r=i}return!function(){let e=i();e.push(Date.now()),e.splice(0,e.length-3),window.localStorage.setItem(o,JSON.stringify(e))}(),r};e.get("CONFIG__ADD_TRANSLATION_FOOTER")&&(r.doUpdateCopiedTranslation.push(e=>{let t=e(),r=l(t.plain);t.plain=r,e(t)}),a.doUpdateTextToCopy.push(e=>{let t=e(),r=l(t);e(r)})),r.doUpdateTextBeforePasting.push((e,t)=>{let r=t();for(let[e,a]of Object.entries(n))if(r.endsWith(a)&&r.length>=400+a.length){t(r.substr(0,r.length-a.length));break}})})},60867:function(e,t,r){"use strict";var a=r(61606),n=r(98808),o=r(30171),i=r(75671),s=r(6463);a.Z.defineType("/translator/web/southKoreaProDialog",["/translator/environment/releaseGroups","/translator/common/openPage",s.q],(e,t,r)=>{let{requestProPage:a}=t,{openUrl:s}=r,l=(0,n.f)(),c=window?(0,i.O)("southKoreaProDialog.visible",!0):(0,o.S3)(!1),u=(0,n.f)(),d=(0,n.f)(),g=(0,n.f)();return u.push(()=>{c(!1),l({dialogClosed:!0,ctaClicked:!0}),a({cta:"south-korea-pro-dialog"})}),d.push(()=>{l({readMoreClicked:!0}),s({url:"/why-deepl-pro",cta:"south-korea-pro-dialog"})}),g.push(()=>{c(!1),l({dialogClosed:!0})}),{onDialogEvent:l,showingDialog:c,onTryPro:u,onReadMore:d,onClose:g}})},76405:function(e,t,r){"use strict";var a=r(30171),n=r(75671),o=r(61606),i=r(12959),s=r(76045);o.Z.defineType("/translator/web/usageBlock",["/translator/environment/releaseGroups",s.K,"/translator/environment/analyticsSession","/translator/core/domElements","/translator/common/interceptClipboard"],(e,t,r,o,s)=>{var l,c;let u=["TACO-19"],d=(0,a.S3)(null),g=Number(null!==(l=i.Z.uBDailySessions)&&void 0!==l?l:3),p=Number(null!==(c=i.Z.uBDailyTimeSpanInDays)&&void 0!==c?c:1),m={"TACO-19":{sessions:g,timeSpanInDays:p,eventId:377,mode:"daily"}},h={countOfDailyTranslations:0,timeStamp:Date.now(),updatedInCurrentSession:{updated:!1,visitCountAtUpdate:0}},S=(0,n.O)("LMT_freeUserUsageBlock.data",h);Object.prototype.hasOwnProperty.call(S(),"updatedInCurrentSession")&&v(h.timeStamp,S().timeStamp)||S(h);let f={...S()};return i.Z.visitNumber&&(f.countOfDailyTranslations=Number(i.Z.visitNumber)),o.sourceEdit.addEventListener("beforeinput",()=>{T()}),s.onBeforePaste.push(()=>{T()}),{show:d.asReadOnly(),close:()=>{d(null)}};function T(){if(!S().updatedInCurrentSession.updated||f.updatedInCurrentSession.visitCountAtUpdate!==w()||!(f.countOfDailyTranslations<3)){if(f.countOfDailyTranslations>=2){y(),function(){for(let a=0;a<u.length;a++){var r;let n=m[u[a]],i=(r=n.sessions,v(f.timeStamp,Date.now())?f.countOfDailyTranslations>=r:(S(h),!1));if(i&&(t.send({id:n.eventId}),e.isActive(u[a]))){d(n.mode),o.sourceEdit.addEventListener("beforeinput",e=>{e.preventDefault(),d(n.mode)}),s.onBeforePaste.push((e,t,r)=>{r(!1),d(n.mode)});break}}}();return}f.updatedInCurrentSession.updated&&f.updatedInCurrentSession.visitCountAtUpdate!==w()&&(f.updatedInCurrentSession.updated=!1),f.updatedInCurrentSession.updated||y()}}function y(){let e={...S()};e.countOfDailyTranslations+=1,e.updatedInCurrentSession.updated=!0,e.updatedInCurrentSession.visitCountAtUpdate=w(),S(e),f={...S()}}function v(e,t){let r=new Date(e),a=new Date(t);return r.getDay()===a.getDay()&&r.getMonth()===a.getMonth()&&r.getFullYear()===a.getFullYear()}function w(){var e;return Number(null!==(e=r.getVisitNumber())&&void 0!==e?e:1)}})},50521:function(e,t,r){"use strict";var a;r.d(t,{S:function(){return n},r:function(){return o}});let n=((a={}).UNKNOWN="",a.EN="EN",a.DE="DE",a),o={lang:n.EN,variant:"en-GB"}},19323:function(e,t,r){"use strict";r.d(t,{W$:function(){return c},gB:function(){return i},E9:function(){return l},OV:function(){return s}}),r(56141);var a,n=r(75671);let o="LMT_write.entryPoint",i=()=>(0,n.K)(o),s=e=>(0,n.K)(o)(e),l=e=>{var t;return(null===(t=(0,n.K)(o)())||void 0===t?void 0:t.textTransportChannel)===e},c=((a={}).translatorContinueInWrite="translator.continueInWrite",a.translatorWriteAdvertisementBanner="translator.writeAdvertisementBanner",a)},56141:function(e,t,r){var a=r(32866);e.exports=function(e,t){return a(e,t)}}}]);