(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1495:function(e,t,n){var content=n(1496);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("3ec89294",content,!0,{sourceMap:!1,manualInject:!0})},1496:function(e,t,n){(t=n(15)(!1)).push([e.i,".flex-1{flex:1}.up-has-error .up-btn.up-dropdown-toggle{border-color:var(--brand-danger)!important}.up-has-error .up-btn.up-dropdown-toggle:focus,.up-has-error .up-btn.up-dropdown-toggle:hover{border-color:var(--brand-danger)!important;box-shadow:none}.up-btn.up-dropdown-toggle:not(.up-btn-circle){--btn-padding-horizontal:15px;width:100%;margin:0;font-size:14px;font-weight:var(--font-weight-normal);border-radius:var(--radius-md);border:var(--border-base-alt);text-align:left}@media (min-width:768px){.up-btn.up-dropdown-toggle:not(.up-btn-circle){min-width:var(--width-sm)}}.up-btn.up-dropdown-toggle:not(.up-btn-circle):not([disabled]){background-color:var(--bg-inverse)}.up-btn.up-dropdown-toggle:not(.up-btn-circle):not([disabled]),.up-btn.up-dropdown-toggle:not(.up-btn-circle):not([disabled]):hover{color:inherit}.up-btn.up-dropdown-toggle:not(.up-btn-circle).up-btn-sm{font-size:var(--font-size-base)}.up-dropdown-icon{display:inline-flex;margin:auto 0 auto 15px}.up-dropdown-icon:not(.disabled){color:var(--primary-color-icon)}.up-dropdown-toggle-title{display:flex}",""]),e.exports=t},1497:function(e,t,n){var content=n(1498);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("353dc457",content,!0,{sourceMap:!1,manualInject:!0})},1498:function(e,t,n){(t=n(15)(!1)).push([e.i,"@media (min-width:768px){.width-xs{width:135px!important;min-width:135px!important;max-width:none}}@media (min-width:768px){.width-md{width:300px!important;min-width:300px!important;max-width:none}}.up-dropdown{position:relative}@media (min-width:768px){.up-dropdown{display:inline-block;max-width:100%}}.up-dropdown.up-dropdown-menu-natural-width{position:static;max-width:100%}.up-dropdown.up-dropdown-menu-natural-width .up-dropdown-menu{top:auto;width:auto;max-width:100%}.up-dropdown.up-dropdown-menu-natural-width .up-menu-item-text{white-space:normal}.up-dropdown-menu-container.up-transition-intro-enter-active,.up-dropdown-menu-container.up-transition-intro-leave-active{--animation-duration:0.2s;--animation-timing-function:cubic-bezier(0.9,-0.1,0.1,1.1);--translate-x-start:0;--translate-y-start:0;--scale-y-start:0.15;position:relative;z-index:1000}.up-dropdown-menu-natural-width .up-transition-intro-enter-active,.up-dropdown-menu-natural-width .up-transition-intro-leave-active{--animation-duration:0s}.full-width{width:100%!important}",""]),e.exports=t},375:function(e,t,n){var content=n(376);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("760fe87c",content,!0,{sourceMap:!1,manualInject:!0})},376:function(e,t,n){(t=n(15)(!1)).push([e.i,".up-btn{--btn-padding-vertical:12px;--btn-padding-horizontal:29px;--btn-padding-vertical-sm:8px;--btn-padding-horizontal-sm:15px;--btn-circle-size:40px;--btn-link-padding-horizontal:20px;--btn-primary-bg:var(--brand-primary);padding:var(--btn-padding-vertical) var(--btn-padding-horizontal);box-shadow:var(--drop-shadow);border:var(--btn-border);border-radius:var(--btn-radius);font-weight:var(--btn-weight);display:inline-block;margin:0 20px 30px 0;font-size:var(--btn-font-size);line-height:1;max-height:40px;text-align:center;vertical-align:middle;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:all .15s;cursor:pointer}.up-btn:hover{text-decoration:none}@media (hover:hover){.up-btn:active,.up-btn:hover{transition:all .3s;box-shadow:var(--drop-shadow-active)}.up-btn.active{box-shadow:var(--drop-shadow)}.up-btn.active:active,.up-btn.active:hover{box-shadow:var(--drop-shadow-active)}}.up-btn>.up-icon{vertical-align:top}.up-btn>.up-icon:not(:last-child){margin-right:10px}.up-btn-primary{color:var(--text-inverse);background-color:var(--btn-primary-bg);border-color:transparent}@media (hover:hover){.up-btn-primary.active,.up-btn-primary:active,.up-btn-primary:focus,.up-btn-primary:hover{color:var(--text-inverse);background-color:var(--brand-success)}}.up-btn-default{color:var(--brand-primary);background-color:transparent}@media (hover:hover){.up-btn-default.active,.up-btn-default:active,.up-btn-default:hover{color:var(--brand-success);background-color:var(--btn-bg-hover)}}.up-btn-default>.caret{color:var(--brand-success)}.up-btn-default.up-btn-circle{border:var(--border-base-alt)}.up-btn-circle.disabled,.up-btn-circle[disabled],.up-btn-default.disabled,.up-btn-default[disabled],.up-btn-primary.disabled,.up-btn-primary[disabled],.up-btn.active.disabled,.up-btn.active[disabled]{cursor:not-allowed;text-decoration:none;box-shadow:none;text-shadow:none;outline:0;border-color:var(--border-4);--disabled-color:var(--text-3);color:var(--disabled-color);--disabled-bg:var(--bg-4);background-color:var(--disabled-bg)}@media (forced-colors:active){.up-btn-circle.disabled,.up-btn-circle[disabled],.up-btn-default.disabled,.up-btn-default[disabled],.up-btn-primary.disabled,.up-btn-primary[disabled],.up-btn.active.disabled,.up-btn.active[disabled]{border-color:var(--border-hc-disabled);color:var(--text-hc-disabled)}}.up-btn-circle.disabled:active,.up-btn-circle[disabled]:active,.up-btn-default.disabled:active,.up-btn-default[disabled]:active,.up-btn-primary.disabled:active,.up-btn-primary[disabled]:active,.up-btn.active.disabled:active,.up-btn.active[disabled]:active{pointer-events:none}@media (forced-colors:active){.up-btn-circle.disabled,.up-btn-circle[disabled],.up-btn-default.disabled,.up-btn-default[disabled],.up-btn-primary.disabled,.up-btn-primary[disabled],.up-btn.active.disabled,.up-btn.active[disabled]{background:var(--bg-hc-button)}}.up-btn-link{padding-left:var(--btn-link-padding-horizontal);padding-right:var(--btn-link-padding-horizontal);background-color:transparent;color:var(--link-color);text-transform:none;font-weight:var(--btn-weight);line-height:var(--font-size-base);box-shadow:none!important;border-color:transparent;box-sizing:content-box}@media (hover:hover){.up-btn-link.active,.up-btn-link:active,.up-btn-link:focus,.up-btn-link:hover{color:var(--link-hover-color);text-decoration:underline}}.up-btn-link:not(.up-btn){display:inline-flex;align-items:center;padding:0;margin:0;border:0;background:transparent;cursor:pointer}.up-btn-link:not(.up-btn) .up-icon{margin-right:10px}.up-btn-link[disabled]{cursor:not-allowed;text-decoration:none;box-shadow:none;text-shadow:none;outline:0;--disabled-color:var(--text-3);color:var(--disabled-color);background-color:transparent;opacity:.65}@media (forced-colors:active){.up-btn-link[disabled]{border-color:var(--border-hc-disabled);color:var(--text-hc-disabled)}}.up-btn-link[disabled]:active{pointer-events:none}.up-btn-sm{margin:0 20px 20px 0;padding:var(--btn-padding-vertical-sm) var(--btn-padding-horizontal-sm) calc(var(--btn-padding-vertical-sm) - 1px);font-size:var(--font-size-base);font-size:var(--btn-sm-font-size,var(--font-size-base));line-height:1;max-height:30px}.up-btn-block{display:block;width:100%;margin-left:auto;margin-right:auto;padding-left:0;padding-right:0}.up-btn-block+.up-btn-block{margin-top:5px}@media (max-width:767px){.up-btn-block-sm{width:100%;margin-left:0!important;margin-right:0!important}}@media (max-width:479px){.up-btn-block-xs{width:100%;margin-left:0!important;margin-right:0!important}}.up-btn-circle{width:var(--btn-circle-size);height:var(--btn-circle-size);line-height:0;margin:0;padding:0;border-radius:50%}.up-btn-circle.up-btn-sm{--btn-circle-size:30px}.up-btn-circle:not(.up-btn-primary):not([disabled]) .up-icon{color:var(--primary-color-icon)}input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:none}",""]),e.exports=t},378:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=0;function o(){return r+=1}},736:function(e,t,n){"use strict";n.d(t,"c",(function(){return menu})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return dialog}));n(4),n(10),n(41);var r=n(20),o=(n(21),n(96),n(46),n(54),n(730)),l={inited:!1,listeners:{},featuresDetected:{},featureDetectionCallbacks:{},failbackAvailableFeatures:["transition-meta","page-meta","navigation-meta","sso-meta"],init:function(){var e=this;if(!this.inited){this.inited=!0,this.iosBridge=window.webkit&&window.webkit.messageHandlers.__IOS_BRIDGE__,this.androidBridge=window.__ANDROID_BRIDGE__;var t=window.__NATIVE_BRIDGE__&&window.__NATIVE_BRIDGE__.onMessage;window.__NATIVE_BRIDGE__||(window.__NATIVE_BRIDGE__=this.iosBridge||this.androidBridge),window.__NATIVE_BRIDGE__&&(window.__NATIVE_BRIDGE__.onMessage=function(data){t&&t(data),e.onMessage(data)})}},on:function(e,t,n){this.init(),this.listeners[t]||(this.listeners[t]={}),this.listeners[t][e]=n},off:function(e,t){delete this.listeners[t][e]},postMessage:function(e){this.init(),this.iosBridge?this.iosBridge.postMessage(e):this.androidBridge&&this.androidBridge.postMessage(JSON.stringify(e))},onMessage:function(data){var e=data.payload.id;this.listeners[e]&&this.listeners[e][data.type]&&this.listeners[e][data.type](data.payload)},isNewerVersion:function(e,t){var n=e.split("."),r=t.split(".");if(!r.length||!n.length)return!1;for(var o=0;o<r.length;++o){var a=parseInt(r[o])||0,b=parseInt(n[o])||0;if(a!==b)return a>b}return!0},isFeatureDetectionFailback:function(){var e=/(Freelancer)/gi.test(navigator.userAgent),t=navigator.userAgent.match(/[^/]+$/)[0].replace(/\([^()]*\)/,"").trim();return Object(o.b)(navigator.userAgent)?e?!this.isNewerVersion("1.12.2",t):!this.isNewerVersion("1.9.2",t):Object(o.a)(navigator.userAgent)?e?!this.isNewerVersion("1.10.0",t):!this.isNewerVersion("1.8.0",t):void 0},onFeatureDetected:function(e,t){var n=e.id,r=e.features,o=r&&r.length?r:t;this.featuresDetected[n]=o,this.featureDetectionCallbacks[n]&&(this.featureDetectionCallbacks[n].forEach((function(e){e(o)})),delete this.featureDetectionCallbacks[n])},isNativeFeatureAvailable:function(e,t){var n=this,r="".concat(e,"-meta");return new Promise((function(o){if(n.isFeatureDetectionFailback()){var l=n.failbackAvailableFeatures.indexOf(r)>=0;o(l)}else if(void 0!==n.featuresDetected[r])t&&Array.isArray(n.featuresDetected[r])?o(!(n.featuresDetected[r].indexOf(t)<0)):o(Boolean(n.featuresDetected[r]));else{n.listeners[r]||(n.postMessage({type:"up/".concat(e,"/META"),payload:{id:r}}),n.on("up/".concat(e,"/META/events/SUCCESS"),r,(function(e){return n.onFeatureDetected(e,!0)})),n.on("up/".concat(e,"/v1/UNKNOWN"),r,(function(e){return n.onFeatureDetected(e,!1)})),n.on("up/".concat(e,"/META/events/ERROR"),r,(function(e){return n.onFeatureDetected(e,!1)})));n.featureDetectionCallbacks[r]||(n.featureDetectionCallbacks[r]=[]),n.featureDetectionCallbacks[r].push((function(l){n.listeners[r]&&(n.off("up/".concat(e,"/META/events/SUCCESS"),r),n.off("up/".concat(e,"/v1/UNKNOWN"),r),n.off("up/".concat(e,"/META/events/ERROR"),r)),t&&Array.isArray(l)?o(!(l.indexOf(t)<0)):o(Boolean(l))}))}}))}},c=0,d={},h={};function m(e){var t=e.id;d[t]&&(d[t](),delete d[t],delete h[t])}function f(e){return function(e){var t=JSON.parse(JSON.stringify(e)),n=[];for(;t.length;){var o=t.pop();o.items&&o.items.length&&(o.items.forEach((function(e){e.groups&&t.push.apply(t,Object(r.a)(e.groups))})),n.push.apply(n,Object(r.a)(o.items)))}return n}(e.groups).map((function(e){var t={};return t.id=e.id,t.isChecked=e.isChecked,t}))}function y(e,t,n,o){for(var l=[],c=[],d=Object(r.a)(h[t]);d.length;){var m=d.pop();Array.isArray(m[o])&&d.push.apply(d,Object(r.a)(m[o])),c.push(m)}return e.forEach((function(e){var t=c.find((function(t){return t[n]===e.id}));t&&(t.isChecked=Boolean(e.isChecked),l.push(t))})),l}function v(e,t){return t?e.filter((function(e){var label=e.label.toLowerCase();return e.subLabel&&(label+=e.subLabel.toLowerCase()),label.indexOf(t.toLowerCase())>=0})):e}var k={bottomSheet:"BOTTOM_SHEET",dialog:"DIALOG",modal:"MODAL"};function w(e,t,n){var r=t.items&&t.items.length?t.items:[];return[{checkableBehavior:r.some((function(e){return Array.isArray(e[t.nestedKey])}))?"none":n,id:e,items:r.map((function(e){var option={id:e[t.itemKey],label:e[t.itemText],icon:e.icon,isChecked:e.isChecked};if(t.itemSublabel&&(option.subLabel=e[t.itemSublabel]),Array.isArray(e[t.nestedKey])){var r={items:e[t.nestedKey],itemText:t.itemText,itemKey:t.itemKey,nestedKey:t.nestedKey};t.itemSublabel&&(r.itemSublabel=t.itemSublabel),option.groups=w(e[t.itemKey],r,n)}return option}))}]}function x(e){return e.groups.map((function(t){var n={id:t[e.groupKey],label:t[e.groupText],checkableBehavior:t.checkableBehavior||"none",items:t[e.groupItemsKey].map((function(t){var n={id:t[e.itemKey],label:t[e.itemText],icon:t.icon,isChecked:t.isChecked};return e.itemSublabel&&(n.subLabel=t[e.itemSublabel]),n}))};return t.checkableBehaviorParentId&&(n.checkableBehaviorParentId=t.checkableBehaviorParentId),n}))}var menu={open:function(data){c+=1;var e=data.id||"sheet-id-".concat(c),t=!!data.hasFiltering&&data.hasFiltering,n=data.query?data.query:"",r=k[data.type],o=[];if(o=Array.isArray(data.menuData.groups)?x(data.menuData):w("group-id",data.menuData,data.checkableBehavior?data.checkableBehavior:"none"),t&&l.on("up/menus/v1/".concat(r,"/EVENTS/QUERY_CHANGED"),e,(function(e){return function(e,t,n,r){var o=e.query,l=e.id;r&&r(l,o,y(f(e),l,t,n))}(e,data.menuData.itemKey,data.menuData.nestedKey,data.filteringCallback)})),l.on("up/menus/v1/".concat(r,"/EVENTS/QUERY_SUBMITTED"),e,(function(e){return function(e,t){var n=e.query,r=e.id;t&&t(r,n)}(e,data.submitCallback)})),l.on("up/menus/v1/".concat(r,"/EVENTS/DONE"),e,(function(e){return function(e,t,n){var r=e.id;d[r]&&(d[r](y(f(e),r,t,n)),delete d[r],delete h[r])}(e,data.menuData.itemKey,data.menuData.nestedKey)})),l.on("up/menus/v1/".concat(r,"/EVENTS/DISMISSED"),e,m),Array.isArray(data.menuData.groups)){var S=[];data.menuData.groups.forEach((function(e){Array.isArray(e[data.menuData.groupItemsKey])&&(S=S.concat(e[data.menuData.groupItemsKey]))})),h[e]=S}else h[e]=data.menuData.items;return n&&o.forEach((function(e,t){var r=data.enableFiltering?v(e.items,n):e.items;e.items=r})),l.postMessage({type:"up/menus/v1/".concat(r,"/PUSH"),payload:{id:e,title:data.title?data.title:"",isTokenizer:!!data.isTokenizer,hasFiltering:t,query:n,queryPlaceholder:data.queryPlaceholder?data.queryPlaceholder:"",groups:o}}),new Promise((function(n){d[e]=function(r){!function(e,t,n){var r=k[e];n&&l.off("up/menus/v1/".concat(r,"/EVENTS/QUERY_CHANGED"),t),l.off("up/menus/v1/".concat(r,"/EVENTS/DONE"),t),l.off("up/menus/v1/".concat(r,"/EVENTS/DISMISSED"),t)}(data.type,e,t),Array.isArray(r)?n(r):n(null)}}))},update:function(data){var e=k[data.type],t=[];t=Array.isArray(data.menuData.groups)?x(data.menuData):w("group-id",data.menuData,data.checkableBehavior?data.checkableBehavior:"none");var n={id:data.id,title:data.title?data.title:"",isTokenizer:!!data.isTokenizer,hasFiltering:!!data.hasFiltering&&data.hasFiltering,query:data.query,queryPlaceholder:data.queryPlaceholder?data.queryPlaceholder:"",groups:t};if(Array.isArray(data.menuData.groups)){var r=[];data.menuData.groups.forEach((function(e){Array.isArray(e[data.menuData.groupItemsKey])&&(r=r.concat(e[data.menuData.groupItemsKey]))})),h[data.id]=r}else h[data.id]=data.menuData.items;data.isTokenizer||n.groups.forEach((function(e,t){var n=data.enableFiltering?v(e.items,data.query):e.items;e.items=n})),l.postMessage({payload:n,type:"up/menus/v1/".concat(e,"/UPDATE")})},close:function(data){var e=k[data.type],t=void 0===data.isAnimated||!!data.isAnimated,n={id:data.id,isAnimated:t};l.postMessage({payload:n,type:"up/menus/v1/".concat(e,"/DISMISS")})}},S=0,I={};function K(e){var t=e.id;I[t]&&(I[t](e.actionId),delete I[t])}var dialog={open:function(e){var t="dialog-id".concat(S+=1);if(l.on("up/dialogs/v1/ALERT/EVENTS/ACTION_SELECTED",t,K),!e.message)throw new Error('required parameter "message" is missing');return l.postMessage({type:"up/dialogs/v1/ALERT",payload:{id:t,title:e.title,message:e.message,isDismissible:!1,actions:e.actions.map((function(e){return{id:e.id,label:e.label}})).reverse()}}),new Promise((function(n){I[t]=function(r){l.off("up/dialogs/v1/ALERT/EVENTS/ACTION_SELECTED",t);var data=null;r&&(data=e.actions.find((function(e){return e.id===r}))),n(data)}}))}}},850:function(e,t,n){"use strict";n.r(t);n(17),n(14),n(11),n(244),n(7),n(719);var r=n(1),o=(n(21),n(41),n(20)),l=(n(154),n(6),n(0)),c=(n(34),n(35),n(4),n(10),n(24),n(27),n(375)),d=n.n(c),h=n(1495),m=n.n(h),f=n(51),y={injectStyles:[d.a,m.a],name:"UpCDropdownToggle",components:{UpCIconV2:f.default},props:{size:{default:"md",type:String},disabled:{default:!1,type:Boolean},open:{default:!1,type:Boolean}},data:function(){return{dropdownCaretIcon:function(){return n.e(33).then(n.bind(null,500))}}}},v=n(2),k=Object(v.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",e._g({staticClass:"up-btn up-btn-default up-dropdown-toggle",class:{"up-dropdown-toggle-open":e.open,"up-btn-sm":"sm"===e.size},attrs:{"aria-expanded":e.open?"true":"false",disabled:e.disabled,type:"button"}},e.$listeners),[n("div",{staticClass:"up-dropdown-toggle-title"},[n("span",{staticClass:"flex-1 ellipsis"},[e._t("default")],2),e._v(" "),n("up-c-icon-v2",{staticClass:"up-dropdown-icon",class:{disabled:e.disabled},attrs:{icon:e.dropdownCaretIcon,size:"sm"}})],1)])}),[],!1,null,null,null).exports,w=n(1497),x=n.n(w),S=n(160),I=n(736),K=n(378);function A(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?A(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):A(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function E(e,t){return Array.isArray(e)?e.map((function(e){var n=O({},e);return n._origin=e,Array.isArray(e[t])&&(n[t]=E(e[t],t)),n})):[]}function D(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var B={injectStyles:[x.a],name:"UpCDropdown",components:{upCDropdownToggle:k,upCDropdownMenu:function(){return Promise.all([n.e(8),n.e(20),n.e(128)]).then(n.bind(null,1709)).then((function(e){return e.default||e}))}},model:{prop:"selected",event:"change"},props:{items:{type:Array,default:function(){return[]}},groups:{type:Array,default:function(){return[]}},checkableBehavior:{type:String,validator:function(e){return["single","multiple","none"].includes(e)},default:"single"},multi:{type:Boolean,default:!1},title:{type:String,default:null},size:{type:String,default:"md"},width:{type:String,default:null,validator:function(e){return["xs","sm","md","lg","xlg"].indexOf(e)>-1}},naturalWidthMenu:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},search:{type:Boolean,default:!1},searchPlaceholder:{type:String,default:""},searchLabel:{type:String,default:"Search"},loading:{type:Boolean,default:!1},selected:{type:[Array,Object],default:null},itemLink:{type:String,default:""},itemKey:{type:String,default:"id"},itemText:{type:String,default:"label"},itemSublabel:{type:String,default:""},groupKey:{type:String,default:"id"},groupText:{type:String,default:"label"},groupItemsKey:{type:String,default:"items"},nestedKey:{type:String,default:"items"},disableCheckMark:{type:Boolean,default:!1},ariaLabelledby:{type:String,default:null},htmlAsText:{type:Boolean,default:!0},menuClass:{type:String,default:null}},data:function(){return{isOpen:!1,isNativeApp:Object(S.a)(),openNativeMenu:null,internalSelected:[],lastSelected:[],isNativeAppOpen:!1,nativeQueryString:"",nativeAppId:"",menuItems:[],groupItems:[],isOpenedWithKeyboard:!1,id:null}},computed:{isNested:function(){var e=this;return this.menuItems.some((function(t){return Array.isArray(t[e.nestedKey])}))},classes:function(){return this.width?"width-".concat(this.width):""},checkableBehaviorType:function(){return this.multi?"multiple":this.checkableBehavior},dropdownToggleAriaLabelledby:function(){return[this.ariaLabelledby,"dropdown-label-".concat(this.id)].filter(Boolean).join(" ")}},watch:{items:{immediate:!0,handler:function(e,t){var n,r;(t||e&&e.length)&&(this.menuItems=E(this.items,this.nestedKey),this.isNested&&e.length&&(n=this.menuItems,r=this.nestedKey,function e(t){for(var n=!0,o=0;o<t.length;o+=1){var l=t[o];!t[0][r]&&l[r]&&(n=!1),t[0][r]&&!l[r]&&(n=!1),Array.isArray(l[r])&&(n=n&&e(l[r]))}return n}(n)||console.error("All selectable items must be at the same depth within the menus")),e.length&&function(data){if(Array.isArray(data.items)&&data.items.length){var e=data.items.every((function(e){return e[data.itemText]&&"string"==typeof e[data.itemText]}));data.items.every((function(e){return e[data.itemKey]&&"string"==typeof e[data.itemKey]}))?e?data.itemLink&&"multiple"===data.checkableBehavior&&console.error("Dropdown with link should not be checkable behavior multiple"):console.error("Each menu items should have ".concat(data.itemText," property and type should be string")):console.error("Each menu items should have ".concat(data.itemKey," property and type should be string"))}}({items:this.menuItems,itemKey:this.itemKey,itemText:this.itemText,itemLink:this.itemLink,checkableBehavior:this.checkableBehavior}),this.mergeNewItemsWithSelectedItemState(this.menuItems,this.internalSelected),this.isNativeAppOpen&&this.updateNativePayload())}},groups:{immediate:!0,handler:function(e,t){var n,r,o;(t||e&&e.length)&&(this.groupItems=(n=this.groups,r=this.groupItemsKey,o=this.nestedKey,n.map((function(e){var t=O({},e);return t[r]=E(e[r],o),t}))),e.length&&function(data){if(Array.isArray(data.groups)&&data.groups.length)if(data.groups.every((function(e,i,t){return e.checkableBehavior===t[0].checkableBehavior}))){var e=!data.itemLink||data.groups.every((function(e){return"multiple"!==e.checkableBehavior})),t=data.groups.every((function(e){return e[data.groupKey]&&"string"==typeof e[data.groupKey]})),n=data.groups.every((function(e){return!Array.isArray(e[data.groupItems])||e[data.groupItems].every((function(e){return e[data.itemKey]&&"string"==typeof e[data.itemKey]}))})),r=data.groups.every((function(e){return!Array.isArray(e[data.groupItems])||e[data.groupItems].every((function(e){return e[data.itemText]&&"string"==typeof e[data.itemText]}))}));t?n?r?e||console.error("Group dropdown with link should not be checkable behavior multiple"):console.error("Each menu items should have ".concat(data.itemText," property and type should be string")):console.error("Each menu items should have ".concat(data.itemKey," property and type should be string")):console.error("Each group items should have ".concat(data.groupKey," property and type should be string"))}else console.error("Checkable behavior of each group should be same")}({groups:this.groupItems,groupKey:this.groupKey,groupItems:this.groupItemsKey,itemKey:this.itemKey,itemText:this.itemText,itemLink:this.itemLink}))}},selected:{immediate:!0,handler:function(e,t){var n=Array.isArray(e)&&e.length,r=!t&&(e||n);this.setDefaultSelectedValues({shouldNotEmitChange:r})}},internalSelected:{immediate:!0,handler:function(e){this.groupItems.length?this.setGroupSelectedProp(this.groupItems,e):this.setSelectedProp(this.menuItems,e)}}},mounted:function(){this.id=Object(K.a)().toString()},methods:{open:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n,r,l,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isNativeApp||null!==e.openNativeMenu){t.next=6;break}return n="",e.search?n="search":e.isNested?n="nested":e.menuItems&&!e.groupItems.length?"single"===e.checkableBehaviorType?n="single-select":"multiple"===e.checkableBehaviorType&&(n="multi-select"):e.groupItems&&e.groupItems.length&&("single"===e.groupItems[0].checkableBehavior?n="single-select":"multiple"===e.groupItems[0].checkableBehavior&&(n="multi-select")),t.next=5,I.a.isNativeFeatureAvailable("menus",n);case 5:e.openNativeMenu=t.sent;case 6:if(e.isOpen=!0,e.lastSelected=Object(o.a)(e.internalSelected),!e.openNativeMenu){t.next=23;break}return r="modal",!e.isNested&&!e.search&&e.menuItems.length<6&&e.groupItems.length<=0&&(r="dialog"),e.isNativeAppOpen=!0,l={itemKey:e.itemKey,itemText:e.itemText,nestedKey:e.nestedKey},e.itemSublabel&&(l.itemSublabel=e.itemSublabel),e.menuItems&&!e.groupItems.length?l.items=e.menuItems:e.groupItems&&e.groupItems.length&&(l.groups=e.groupItems,l.groupKey=e.groupKey,l.groupText=e.groupText,l.groupItemsKey=e.groupItemsKey),t.next=17,I.c.open({type:r,menuData:l,title:e.title,checkableBehavior:e.checkableBehaviorType,hasFiltering:e.search,query:"",queryPlaceholder:e.searchPlaceholder,filteringCallback:e.onNativeQueryChange,enableFiltering:!0});case 17:c=t.sent,e.isNativeAppOpen=!1,e.nativeAppId="",e.nativeQueryString="",e.syncNativeSelection(c),e.close();case 23:case"end":return t.stop()}}),t)})))()},onNativeQueryChange:function(e,t,n){var r=this;this.nativeAppId=e,this.nativeQueryString=t;var o=this.groupItems.length&&this.groupItems.some((function(e){return"multiple"===e.checkableBehavior}));("multiple"===this.checkableBehaviorType||o)&&this.syncNativeSelection(n),this.$nextTick((function(){r.updateNativePayload()})),this.$emit("search",t)},updateNativePayload:function(){var e="modal";!this.isNested&&!this.search&&this.menuItems.length<6&&this.groupItems.length<=0&&(e="dialog");var t={itemKey:this.itemKey,itemText:this.itemText,nestedKey:this.nestedKey};this.itemSublabel&&(t.itemSublabel=this.itemSublabel),this.menuItems&&!this.groupItems.length?t.items=this.menuItems:this.groupItems&&this.groupItems.length&&(t.groups=this.groupItems,t.groupKey=this.groupKey,t.groupText=this.groupText,t.groupItemsKey=this.groupItemsKey),I.c.update({type:e,id:this.nativeAppId,query:this.nativeQueryString,queryPlaceholder:this.searchPlaceholder,menuData:t,title:this.title,checkableBehavior:this.checkableBehaviorType,hasFiltering:this.search,enableFiltering:!0})},syncNativeSelection:function(e){var t=this;if(e&&e.length)if(this.menuItems&&!this.groupItems.length)if("multiple"===this.checkableBehaviorType){var n=[];e.forEach((function(e){var r=t.internalSelected.find((function(option){return option[t.itemKey]===e[t.itemKey]}));(!r&&e.isChecked||r&&!e.isChecked)&&(e.isChecked=!e.isChecked,n.push(e))})),n.forEach((function(e){t.onSelect(e)}))}else{var r=e.find((function(e){return e.isChecked}));r.isChecked=!r.isChecked,this.onSelect(r)}else if(this.groupItems&&this.groupItems.length){var o=[],l=this.internalSelected.map((function(e){return e[t.itemKey]}));e.forEach((function(e){var n=null;t.groupItems.every((function(r){return Array.isArray(r[t.groupItemsKey])&&(n=r[t.groupItemsKey].find((function(n){return n[t.itemKey]===e[t.itemKey]})))&&("multiple"!==r.checkableBehavior&&e.isChecked&&l.indexOf(e[t.itemKey])<0||"multiple"===r.checkableBehavior&&(e.isChecked&&l.indexOf(e[t.itemKey])<0||!e.isChecked&&l.indexOf(e[t.itemKey])>=0))&&(e.isChecked=!e.isChecked,o.push({groupId:r[t.groupKey],checkableBehavior:r.checkableBehavior,item:e})),!n}))})),o.forEach((function(e){t.groupSelect(e)}))}},close:function(e){this.isOpen=!1,this.isOpenedWithKeyboard=!1,this.lastSelected=[],e&&this.focus(),this.$emit("close")},isSelectedChanged:function(){var e=this,t=[];Array.isArray(this.selected)?t=this.selected.filter((function(t){if(t&&t[e.itemKey])return t})).map((function(t){return t[e.itemKey]})):this.selected&&this.selected[this.itemKey]&&t.push(this.selected[this.itemKey]);var n=this.internalSelected.map((function(t){return t[e.itemKey]}));return!(t.length===n.length&&t.every((function(e){return n.indexOf(e)>=0})))},emitEvent:function(){if("multiple"===this.checkableBehaviorType||this.groupItems.length){var e=this.internalSelected.map((function(e){return e._origin}));this.$emit("change",e)}else this.$emit("change",this.internalSelected.length?this.internalSelected[0]._origin:null)},setDefaultSelectedValues:function(e){var t=this,n=e.shouldNotEmitChange;if(this.isSelectedChanged()){if(this.groupItems.length){var r={},l=function(e){e&&t.groupItems.forEach((function(n){var o=n[t.groupItemsKey].find((function(option){return option[t.itemKey]===e[t.itemKey]}));if(o&&"none"!==n.checkableBehavior){var l=n.checkableBehaviorParentId&&"single"===n.checkableBehavior?n.checkableBehaviorParentId:n[t.groupKey];r[l]||(r[l]=[]),"single"===n.checkableBehavior?r[l][0]=T({isChecked:!0},o):r[l].push(T({isChecked:!0},o))}}))};Array.isArray(this.selected)?this.selected.forEach((function(e){l(e)})):l(this.selected),this.internalSelected=Object(o.a)([].concat.apply([],Object.values(r)))}else if(this.menuItems){for(var c=[],d=Object(o.a)(this.menuItems),h=[],m=function(e){if(e){var n=h.find((function(option){return option[t.itemKey]===e[t.itemKey]}));!n||n[t.nestedKey]&&n[t.nestedKey].length||(delete n[t.nestedKey],c.push(T({isChecked:!0},n)))}};d.length;){var f=d.pop();Array.isArray(f[this.nestedKey])&&d.push.apply(d,Object(o.a)(f[this.nestedKey])),h.push(T({},f))}Array.isArray(this.selected)?this.selected.forEach((function(e){m(e)})):m(this.selected),"multiple"===this.checkableBehaviorType?this.internalSelected=[].concat(c):"single"===this.checkableBehaviorType&&c.length?this.internalSelected=[c[c.length-1]]:this.internalSelected=[]}n||this.emitEvent()}},setSelectedProp:function(e,t){var n=this;e.forEach((function(r,o){r.isChecked=Boolean(t.find((function(option){return option[n.itemKey]===r[n.itemKey]}))),n.$set(e,o,r),Array.isArray(r[n.nestedKey])&&n.setSelectedProp(r[n.nestedKey],t)}))},setGroupSelectedProp:function(e,t){var n=this;e.forEach((function(e){n.setSelectedProp(e[n.groupItemsKey],t)}))},getSelectedLabel:function(){var e=this;return this.internalSelected.map((function(option){return option[e.itemText]})).join(", ")},openDropdownKeyboard:function(){this.isOpenedWithKeyboard=!0,this.open()},onMenuLoaded:function(){this.isOpenedWithKeyboard&&(this.setMenuFocus({keyCode:40}),this.isOpenedWithKeyboard=!1)},onDownPress:function(e){this.isOpen?this.setMenuFocus(e):this.openDropdownKeyboard()},onHomePress:function(e){this.isOpen&&(e.preventDefault(),this.setMenuFocus(e))},onEndPress:function(e){this.isOpen&&(e.preventDefault(),this.setMenuFocus(e))},setTabPress:function(e){e.shiftKey?this.close():this.isOpen&&(e.preventDefault(),this.setMenuFocus(e))},focus:function(){this.$refs.toggle.$el.focus()},setMenuFocus:function(e){var t=e.keyCode;this.search&&35!==t&&36!==t?this.$refs.menu.onFocusInput():this.$refs.menu.setMenuFocus(t)},onSearch:function(e){this.$emit("search",e)},onSelect:function(e,t,n,r){var o=this,l=n||this.checkableBehaviorType,c=r||this.menuItems;if(e){if(this.$emit("select",e._origin),"none"!==l){if("multiple"===l&&e.isChecked){var d=-1;return this.internalSelected.forEach((function(option,t){option[o.itemKey]===e[o.itemKey]&&(d=t)})),d>=0&&this.internalSelected.splice(d,1),void this.emitEvent()}if("multiple"!==l){var h=-1;this.internalSelected.forEach((function(option,e){if(o.menuItems&&!o.groupItems.length)h=0;else if(o.groupItems.length){Boolean(c.find((function(e){return e[o.itemKey]===option[o.itemKey]})))&&(h=e)}})),h>=0&&this.internalSelected.splice(h,1)}this.internalSelected.push(e),this.emitEvent()}e.onSelect&&e.onSelect(),this.isNativeApp&&e[this.itemLink]&&(window.location=e[this.itemLink]),t&&this.focus()}},groupSelect:function(e,t){var n=this,r=this.groupItems.find((function(t){return t[n.groupKey]===e.groupId}));if("single"!==r.checkableBehavior)this.onSelect(e.item,t,r.checkableBehavior,r[this.groupItemsKey]);else{var o=r[this.groupItemsKey];this.groupItems.forEach((function(e){(r.checkableBehaviorParentId&&(r.checkableBehaviorParentId===e[n.groupKey]||r.checkableBehaviorParentId===e.checkableBehaviorParentId)||r[n.groupKey]===e.checkableBehaviorParentId)&&(o=o.concat(e[n.groupItemsKey]))})),this.onSelect(e.item,t,r.checkableBehavior,o)}},onCancel:function(){this.internalSelected=Object(o.a)(this.lastSelected),this.emitEvent(),this.lastSelected=[],this.isOpen=!1},mergeNewItemsWithSelectedItemState:function(e,t,n){var r=this;n=n||t.map((function(e){return e[r.itemKey]})),e.map((function(e){if(Array.isArray(e[r.nestedKey]))r.mergeNewItemsWithSelectedItemState(e[r.nestedKey],t,n);else if(-1!==n.indexOf(e[r.itemKey])){e.isChecked=!0;var o=t.findIndex((function(t){return e[r.itemKey]===t[r.itemKey]}));-1!==o&&t.splice(o,1,e)}}))},filterMessage:function(e){this.$emit("filter-message",e)}}},C=Object(v.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"up-dropdown",class:{open:e.isOpen,"up-dropdown-menu-nested":e.isNested,"up-has-error":e.error,"up-dropdown-menu-natural-width":e.naturalWidthMenu}},[n("up-c-dropdown-toggle",{ref:"toggle",class:e.classes,attrs:{id:"dropdown-label-"+e.id,"aria-labelledby":e.dropdownToggleAriaLabelledby,disabled:e.disabled,open:e.isOpen,size:e.size},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.preventDefault()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.openDropdownKeyboard(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.openDropdownKeyboard(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.onDownPress(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"home",void 0,t.key,void 0)?null:e.onHomePress(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"end",void 0,t.key,void 0)?null:e.onEndPress(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.setTabPress(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.close(!0))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.close(!0))}],click:e.open}},[e._t("label",[e._v("\n      "+e._s(e.internalSelected&&e.internalSelected.length?e.getSelectedLabel():e.title)+"\n    ")],{item:e.internalSelected,title:e.title})],2),e._v(" "),!e.openNativeMenu&&e.isOpen?n("up-c-dropdown-menu",{ref:"menu",attrs:{"aria-labelledby":e.ariaLabelledby,items:e.menuItems,groups:e.groupItems,title:e.title,"checkable-behavior":e.checkableBehaviorType,search:e.search,"search-placeholder":e.searchPlaceholder,"search-label":e.searchLabel,loading:e.loading,"item-key":e.itemKey,"item-link":e.itemLink,"item-text":e.itemText,"item-sublabel":e.isNested?"":e.itemSublabel,"nested-key":e.nestedKey,"group-key":e.groupKey,"group-text":e.groupText,"group-items-key":e.groupItemsKey,"is-nested":e.isNested,"disable-check-mark":e.disableCheckMark,"html-as-text":e.htmlAsText,"menu-class":e.menuClass},on:{"menu-loaded":e.onMenuLoaded,close:e.close,select:e.onSelect,groupSelect:e.groupSelect,cancel:e.onCancel,search:e.onSearch,"filter-message":e.filterMessage}}):e._e()],1)}),[],!1,null,null,null);t.default=C.exports}}]);