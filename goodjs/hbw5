(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1777],{66607:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isBetween=function(e,t,i,r){var o=n(e),l=n(t),s="("===(r=r||"()")[0],c=")"===r[1];return(s?this.isAfter(o,i):!this.isBefore(o,i))&&(c?this.isBefore(l,i):!this.isAfter(l,i))||(s?this.isBefore(o,i):!this.isAfter(o,i))&&(c?this.isAfter(l,i):!this.isBefore(l,i))}}}()},70660:function(e){e.exports=function(){"use strict";return function(e,t,n){n.updateLocale=function(e,t){var i=n.Ls[e];if(i)return(t?Object.keys(t):[]).forEach((function(e){i[e]=t[e]})),i}}}()},18363:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i=n(14924),r=n(85893),o=n(94184),l=n.n(o),s=n(96486),c=n(67294),a=n(38122),u=n(82007),d=n.n(u);function f(e){var t=e.children,n=e.type,o=void 0===n?"none":n,u=e.padding,f=void 0===u?100:u,v=e.className,m=e.iconClassName,p=e.contentClassName,h=e.style,_=(0,c.useState)(!0),g=_[0],x=_[1],b=(0,c.useState)(!0),y=b[0],L=b[1],w=(0,c.useRef)(),j=(0,c.useRef)(),D=(0,c.useState)(!1),M=D[0],E=D[1],N=(0,c.useState)(0),k=N[0],C=N[1],Z=(0,c.useState)([]),A=Z[0],W=Z[1],S=(0,c.useRef)(null),q=(0,c.useCallback)((function(){var e=w.current,t=j.current;if(e&&t){var n=e.offsetWidth,i=t.offsetWidth,r=Math.ceil((i-2*f)/n),o=new Array(r||0).fill("");W(o);var l=e.scrollLeft||0,s=Math.ceil((l-f)/n);C(s),x(l<=f),L(n+l+f>=i)}}),[f]),B=(0,c.useCallback)((function(e){var t=e.distance,n=e.direction,i=void 0===n?1:n,r=e.duration,o=void 0===r?600:r,l=w.current,s=j.current;if(l&&s){var c=s.offsetWidth-l.offsetWidth,a=l.offsetWidth,u=s.offsetWidth;t=null!==t&&void 0!==t?t:Math.ceil(a/2);var d=l.scrollLeft,v=u-a,m=d+i*t,p=(m=Math.max(0,Math.min(v,m)))-d,h=performance.now(),_=null,g=function(){var e=Math.min(1,(performance.now()-h)/o);l.scrollLeft=d+p*Math.sin(Math.PI/2*e),1!==e?_=requestAnimationFrame(g):l.scrollLeft<f?B({distance:f-l.scrollLeft,duration:400}):l.scrollLeft>c-f&&B({distance:c-f-l.scrollLeft,duration:400})};return g(),S.current=function(){cancelAnimationFrame(_)},S.current}}),[f]);return(0,c.useEffect)((function(){var e=w.current,t=j.current,n=0,i=e.scrollLeft,r=null,o=function(o){if(0===o.button){o.preventDefault();var l=!0;n=o.clientX,i=e.scrollLeft;var s=t.offsetWidth-e.offsetWidth,c=o.clientX,a=performance.now(),u=function(t){if(l){var o=t.clientX-n,u=i-o;if(Math.abs(o)>=3){E(!0),S.current&&(S.current(),S.current=null);u<=f?u+=.95*(f-u):u>=s-f&&(u=s-f+(u-s+f)*(1-.95)),e.scrollLeft=u,clearTimeout(r),r=setTimeout((function(){c=t.clientX,a=performance.now()}),80)}}};document.addEventListener("mousemove",u);var d=function(t){l=!1,E(!1),clearTimeout(r);var n=(c-t.clientX)/(performance.now()-a);e.scrollLeft<f?B({distance:f-e.scrollLeft,duration:400}):e.scrollLeft>s-f?B({distance:s-f-e.scrollLeft,duration:400}):Math.abs(n)>=.5&&B({distance:380*n}),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d)};document.addEventListener("mouseup",d)}};e.addEventListener("mousedown",o,!0);var l=function(e){Math.abs(e.clientX-n)>3&&(e.stopPropagation(),e.preventDefault())};return e.addEventListener("click",l,!0),function(){e.removeEventListener("mousedown",o,!0),e.removeEventListener("click",l,!0),clearTimeout(r)}}),[f,B]),(0,c.useEffect)((function(){q()}),[t,q]),(0,c.useEffect)((function(){var e=w.current,t=null;return window.ResizeObserver&&(t=new ResizeObserver((function(){q()}))),e&&(e.addEventListener("scroll",q),null===t||void 0===t||t.observe(e)),function(){e&&(e.removeEventListener("scroll",q),null===t||void 0===t||t.disconnect())}}),[q]),(0,c.useEffect)((function(){var e=w.current,t=j.current,n=null,i=function(){var n=t.offsetWidth-e.offsetWidth;e.scrollLeft<f?B({distance:f-e.scrollLeft,duration:300}):e.scrollLeft>n-f&&B({distance:n-f-e.scrollLeft,duration:300})},r=(0,s.debounce)((function(){M||(clearTimeout(n),n=setTimeout(i,200))}),400);return e.addEventListener("scroll",r,{passive:!0}),function(){e.removeEventListener("scroll",r,{passive:!0})}}),[f,B,M]),(0,c.useEffect)((function(){w.current.scrollLeft=f}),[f]),(0,r.jsxs)("div",{className:l()([d().hb_swiper,v,(0,i.Z)({},d().hb_swiper_page,"page"===o),g?d().start:"",y?d().end:"",M?d().dragging:""]),draggable:!1,style:h,children:[(0,r.jsx)("div",{className:l()([d().swiper_button_prev,m,"left"]),onClick:function(){return B({direction:-1})},children:(0,r.jsx)(a.Z,{type:"ic_chevron_left"})}),(0,r.jsx)("div",{className:l()([d().swiper_button_next,m,"right"]),onClick:function(){return B({direction:1})},children:(0,r.jsx)(a.Z,{type:"ic_chevron_right"})}),(0,r.jsx)("div",{className:d().swiper_view,ref:w,children:(0,r.jsx)("div",{className:l()(d().swiper_content,p),style:{padding:"0 ".concat(f,"px")},ref:j,children:t})}),"page"==o&&(0,r.jsx)("div",{className:d().swiper_point,children:A.map((function(e,t){return(0,r.jsx)("button",{className:l()(d().defaultPoint,(0,i.Z)({},d().selectPoint,k===t)),onClick:function(){return function(e){var t=e.index,n=w.current,i=j.current;if(n&&i){var r=n.offsetWidth,o=Math.min(i.offsetWidth-r-f,r*t+f)-n.scrollLeft;B({distance:o})}}({index:t})}},t)}))})]})}},92446:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var i,r=n(85893),o=n(18363),l=n(78234),s=n(27484),c=n.n(s),a=n(66607),u=n.n(a),d=n(70660),f=n.n(d),v=n(11163),m=n(67294),p=n(34394),h=n(32939),_=n.n(h);function g(e){var t=e.festivalInfo,n=e.festival,o=e.clickCard,s=e.autoScroll,a=((0,v.useRouter)(),(0,m.useRef)(null)),u=(0,m.useMemo)((function(){var e=t.date_type,n=t.festival_time,r=t.festival_end_time;return e===i.singleDay?c()(r).format("MM.DD dddd"):"".concat(c()(n).format("MM.DD")," - ").concat(c()(r).format("MM.DD"))}),[t]);(0,l.Z)((function(){s&&t.code===n&&!function(e,t){var n=e.getBoundingClientRect(),i=n.top,r=n.bottom,o=n.left,l=n.right,s=t.getBoundingClientRect(),c=s.top,a=s.bottom,u=s.left,d=s.right;return i>=c&&r<=a&&o>=u&&l<=d}(a.current,document.querySelector(".wrapper"))&&setTimeout((function(){a.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}),10)}));var d=(0,m.useMemo)((function(){var e=t.festival_time;return c()(e).diff(c()().format("YYYY-MM-DD"),"day")}),[t]);return(0,r.jsxs)("div",{ref:a,onClick:function(){o&&o(t,n)},className:"".concat(_().content," ").concat(n===t.code&&_().active),"data-gd-click":"button_click","data-button-name":"".concat(t.title),children:[(0,r.jsxs)("div",{className:_().left,children:[(0,r.jsx)("div",{className:_().title,id:n===t.code&&_().active?"active-filter-one":null,children:t.title}),(0,r.jsx)("div",{className:_().time,children:u})]}),(0,r.jsx)("div",{className:_().right,children:(0,r.jsxs)(p.If,{condition:0===d||t.date_type===i.manyDays&&c()().isBetween(t.festival_time,t.festival_end_time,"day","[]"),children:[(0,r.jsx)(p.Zf,{children:(0,r.jsx)("div",{className:_().title,children:"\u4eca\u5929"})}),(0,r.jsx)(p.Ot,{children:(0,r.jsx)(p.If,{condition:d>0,children:(0,r.jsx)(p.Zf,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:_().remainingDaysLeft,children:d}),(0,r.jsx)("span",{className:_().remainingDaysRight,children:"\u5929\u540e"})]})})})})]})})]})}!function(e){e[e.singleDay=0]="singleDay",e[e.manyDays=1]="manyDays"}(i||(i={})),c().extend(f()),c().extend(u()),c().updateLocale("en",{weekdays:["\u5468\u5929","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"]});var x=n(20996),b=n.n(x);function y(e){var t=e.calendarsList,n=e.festival,i=e.clickCard,l=e.autoScroll;return(0,r.jsx)("div",{className:b().swiperContent,children:(0,r.jsx)(o.Z,{className:b().swiper,iconClassName:b().icon,children:(0,r.jsx)("div",{className:b().list,children:t.map((function(e){return(0,r.jsx)(g,{festivalInfo:e,festival:n,clickCard:i,autoScroll:l},e.code)}))})})})}},16874:function(e,t,n){"use strict";n.d(t,{J:function(){return l},Z:function(){return o}});var i=n(29815),r=function(e){return e.children&&e.children.length>0?e.children:e.agg_filter_result_responses&&e.agg_filter_result_responses.length>0?e.agg_filter_result_responses:[]},o=function(e){var t;return(0,i.Z)(null===e||void 0===e||null===(t=e.children)||void 0===t?void 0:t.map((function(e){var t=r(e).every((function(e){var t,n;return null===e||void 0===e||null===(t=e.preview)||void 0===t||null===(n=t.icon)||void 0===n?void 0:n.url}));return{isFilter:!0,iconType:t?"img":"iconfont",optionType:t?"img":"text",name:null===e||void 0===e?void 0:e.name,key:(null===e||void 0===e?void 0:e.seo_id)||"",value:null===e||void 0===e?void 0:e.filter_id,options:r(e).map((function(t){var n,i,r,o,l,s;return"resolution"===(null===e||void 0===e?void 0:e.seo_id)?{label:null===(i=null===t||void 0===t||null===(n=t.name)||void 0===n?void 0:n.split(" "))||void 0===i?void 0:i.shift(),optionLabel:null===t||void 0===t?void 0:t.name,value:null===t||void 0===t?void 0:t.filter_id,icon:(null===t||void 0===t||null===(r=t.preview)||void 0===r||null===(o=r.icon)||void 0===o?void 0:o.url)||null}:{label:null===t||void 0===t?void 0:t.name,value:null===t||void 0===t?void 0:t.filter_id,icon:(null===t||void 0===t||null===(l=t.preview)||void 0===l||null===(s=l.icon)||void 0===s?void 0:s.url)||null}}))||[]}})))},l=function(e){if(!(null===e||void 0===e?void 0:e.length))return[];var t=[];return e.forEach((function(e){t=(0,i.Z)(t).concat((0,i.Z)(e.children))})),t}},82007:function(e){e.exports={"color-primary":"vczrTpCQ","color-text-1":"__1S0f4lB0","color-text-2":"wMGc6bJ2","color-text-3":"Qvo8sEaz","font-sm":"__5k7AIj69","font-md":"GY3_6g_Z","font-lg":"KMlyXGHs","font-bg":"ctFGJREU","single-line-ellipsis":"o8jtXlqk","vertical-center":"beLsVzVa","justify-center":"PiB0Nx3S","drop-list-wrap":"mo_QXaDC","list-item":"PLWUOCGy",separate:"SY5Qrkb9","grid-bg":"tZiw9IZ6","line-bg":"egSJmJ7F",tip:"__3sEcq4Ix","primary-btn":"yLU9bVVA","primary-text-btn":"EL7y_6Mp","thin-scroll-bar":"FZ3SA3hj",hb_swiper:"_sYqr9Hl",dragging:"_F38iM6Q",swiper_button_prev:"cOJPzP_W",swiper_button_next:"GkFSsVrV",start:"Hb4T0gfL",end:"gc9LvrL_",swiper_view:"qLAm5FZa",swiper_content:"sC2mic1K",hb_swiper_page:"pQwXasPj",swiper_point:"Heq7JqAz",defaultPoint:"qend_sDA",selectPoint:"pqpV_jYB"}},32939:function(e){e.exports={"color-primary":"evD2Re5g","color-text-1":"_Z5LxLre","color-text-2":"__29WhxlLD","color-text-3":"_eh24LtB","font-sm":"Py1Z0H8t","font-md":"oFyJvlLa","font-lg":"__9_zz4AE3","font-bg":"sozL4ORO","single-line-ellipsis":"aUWCAHAX","vertical-center":"_F4zJicJ","justify-center":"BZ05p4jh","drop-list-wrap":"DCV6aIG8","list-item":"dWg52AuE",separate:"__0u1eRzOS","grid-bg":"YiKjpsYr","line-bg":"n9rPgr1S",tip:"OA_JkmlA","primary-btn":"qQ6eKxcd","primary-text-btn":"RL0GgYe_","thin-scroll-bar":"JVsWZUWb",content:"XzNN0AHF",title:"MaqUhnAE",time:"i_5WTaAX",right:"__18BCB_RC",remainingDaysLeft:"xuxDsefd",remainingDaysRight:"rzl2qCqq",active:"m35De9B3"}},20996:function(e){e.exports={"color-primary":"nV8BHzoe","color-text-1":"aTnsMYhc","color-text-2":"TFrWysXQ","color-text-3":"ggR2JiGt","font-sm":"xX8bJQyG","font-md":"BdTOKae7","font-lg":"ND2ACmPp","font-bg":"OBmkSZ2M","single-line-ellipsis":"oYUoHDqy","vertical-center":"ySwJcxU1","justify-center":"nS4YSd48","drop-list-wrap":"HFnQE58y","list-item":"_stkWnMF",separate:"_uJMtpsV","grid-bg":"WylaQT2H","line-bg":"qDEcni_I",tip:"Dv0vu_pL","primary-btn":"f0rXNUKb","primary-text-btn":"ebeNk66U","thin-scroll-bar":"dD2YQK2c",swiperContent:"mOI3Mbd_",swiper:"qKDxEwxP",list:"FDqgrDwq"}}}]);
//# sourceMappingURL=1777-b592b6d70fd6b843.js.map