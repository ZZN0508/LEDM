"use strict";!function(e,i){var t=function(){if(/Android|iP[hone|ad|od]/i.test(navigator.userAgent)){var e=function(){console.warn("Sitebar is not available for mobile platforms.")};return{create:e,destroy:e}}var o,d=0,c=(t.prototype.parseData=function(e){var t=e.portal_url,a=e.ad,r=a.thumb_url,i=a.banner_url,s=a.url,n=e.platform,o=n.text,d=n.pc,c=n.mobile,l=e.game,u=l.text,g=l.pc,v=l.mobile;function _(e){return e.reduce(function(e,t){return e+'<a href="'+t.url+'" class="gsitebar__game-link"><div class="gsitebar__game-name">'+t.text+"</div></a>"},"")}return'<div class="gsitebar-wrap" id="'+this.id+'"><div class="gsitebar"><a class="gsitebar__logo" href="'+t+'">Garena</a><div class="gsitebar__ad"><img src="'+r+'" alt="" class="gsitebar__ad-thumb" /><a class="gsitebar__ad-link" href="'+s+'" target="_blank" rel="noreferrer noopener" ><img src="'+i+'" alt="" class="gsitebar__ad-banner" /></a></div><div class="gsitebar__menus"><div class="gsitebar__menu"><div class="gsitebar__menu-name">'+u+'</div><div class="gsitebar__submenu"><div class="gsitebar__games"><div class="gsitebar__game"><div class="gsitebar__game-hd"><div class="gsitebar__game-hdicon gsitebar__game-hdicon--pc"></div><div class="gsitebar__game-hdtxt">'+g.text+"</div></div><div> "+_(g.links)+'</div></div><div class="gsitebar__game"><div class="gsitebar__game-hd"><div class="gsitebar__game-hdicon gsitebar__game-hdicon--m"></div><div class="gsitebar__game-hdtxt">'+v.text+"</div></div><div> "+_(v.links)+'</div></div></div></div></div><div class="gsitebar__menu"><div class="gsitebar__menu-name">'+o+'</div><div class="gsitebar__submenu"><div class="gsitebar__platforms"><a class="gsitebar__platform" href="'+d.url+'" target="_blank" rel="noreferrer noopener"><div class="gsitebar__platform-icon gsitebar__platform-icon--pc" ></div>'+d.text+'</a><a class="gsitebar__platform" href="'+c.url+'" target="_blank" rel="noreferrer noopener"><div class="gsitebar__platform-icon gsitebar__platform-icon--m" ></div>'+c.text+"</a></div></div></div></div></div></div>"},t.addResources=function(){i.head.insertAdjacentHTML("beforeend","<link rel=\"stylesheet\" href=\"https://topbar.garena.tw/css/app-f17c2a560a.css\" /><script async src=\"https://www.googletagmanager.com/gtag/js?id=UA-98198237-12\"><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date()); gtag('config','UA-98198237-12');<\/script>")},t.prototype.getParentNode=function(e){if(void 0===e)return this.parentNode;if(this.parentNode&&(t=this.parentNode,a=e,(t.matches||t.msMatchesSelector).call(t,a)))return this.parentNode;var t,a,r=i.querySelector(e);return r=r||i.body,this.parentNode=r},t.prototype.insert=function(e){var t=e.parentSelector,a=e.callback;this.isMounted||(this.getParentNode(t).insertAdjacentHTML("afterbegin",this.storedData),a&&a(),this.isMounted=!0)},t.prototype.remove=function(){this.isMounted&&(this.getParentNode().removeChild(i.getElementById(this.id)),this.isMounted=!1)},t);function t(e){var t=e.data,a=e.parentSelector,r=e.callback;this.parentNode=null,this.isMounted=!1,this.id="J-sitebar",this.storedData=this.parseData(t),this.insert({parentSelector:a,callback:r})}return{create:function(e){var t=void 0===e?{parentSelector:"body"}:e,a=t.onSuccess,r=t.onFailure,i=t.parentSelector,s=void 0===i?"body":i;if(d||c.addResources(),o)o.insert({parentSelector:s,callback:a});else{var n=d+=1;!function(e){var t=e.url,a=e.onSuccess,r=e.onFailure,i=new XMLHttpRequest;i.open("GET",t,!0);var s=["onerror","ontimeout"];function n(){s.forEach(function(e){i[e]=null}),i.onload=null}function o(){n(),r()}i.onload=function(){if(200<=this.status&&this.status<400){var e=JSON.parse(this.response);return Object.prototype.hasOwnProperty.call(e,"error")?void o():(a(e),void n())}o()},s.forEach(function(e){i[e]=o}),i.send()}({url:"https://topbar.garena.tw/api/info",onSuccess:function(e){n===d&&(o=new c({data:e,parentSelector:s,callback:a}))},onFailure:function(){n===d&&r&&r()}})}},destroy:function(){d&&(o?o.remove():d+=1)}}}();e.sitebar=t}(window,document);