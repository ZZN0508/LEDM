"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([[9672],{88942:function(e,n,o){o.d(n,{y:function(){return l}});var t=o(53864),i=o(60443);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}!function(e,n){void 0===n&&(n={});var o=n.insertAt;if(e&&"undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===o&&t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".wallet_recharge{left:0;position:fixed;top:0}.wallet_recharge,.wallet_recharge_not_fixed{height:100%;width:100%;z-index:9999}.wallet_recharge_hidden{opacity:0;pointer-events:none;visibility:hidden}.webcast_recharge_iframe{border-radius:12px}");var c=function(e){var n,o,i,c=e.onCombosItemClick,a=e.onSuccess,s=e.onShow,l=e.onClose,u=e.visible,d=void 0===u||u,h=e.type,m=e.balance,w=e.amount,v=e.extra,f=void 0===v?{}:v,g=e.isFullScreen,p=e.scene,y=e.additionalLogParams,C=e.onCloseButtonClick,E=(0,t.useRef)((new Date).getTime()),k=(0,t.useRef)(!1);return(0,t.useEffect)((function(){var e=function(e){var n,o,t=e||window.event||{};switch(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.command){case"close":null==C||C();break;case"success":k.current=!0,null==a||a();break;case"combos-item-click":null==c||c(null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.item)}};return null==s||s(),window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[]),(0,t.useEffect)((function(){return function(){var e=(new Date).getTime()-E.current;null==l||l({duration:e,isSuccess:k.current})}}),[]),t.createElement(t.Fragment,null,d&&t.createElement("div",{className:g?"wallet_recharge_not_fixed":"wallet_recharge"},t.createElement("iframe",{className:"webcast_recharge_iframe",marginWidth:0,marginHeight:0,frameBorder:"0",width:"100%",height:"100%",src:(n="/falcon/webcast_douyin/page/live_recharge/index.html",o=Object.assign({type:h,balance:m,amount:w,isFullScreen:g,scene:p,additionalLogParams:y},f),i=[],Object.keys(o).forEach((function(e){var n=o[e];return n&&i.push("".concat(e,"=").concat("object"===r(n)?encodeURIComponent(JSON.stringify(n)):n))})),-1===n.search(/\?/)?n+="?".concat(i.join("&")):n+="&".concat(i.join("&")),n)})))},a=null,s=null,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.el,o=void 0===n?"wallet-recharge-container":n,r=e.container,l=function(){return"string"==typeof r?document.getElementsByClassName(r)[0]||document.body:s||document.body},u=function(){a&&(i.unmountComponentAtNode(a),a.remove(),a=null),s&&(s=null)};return{showRecharge:function(e){var n=e.onClose,r=e.onShow,d=e.scene,h=e.amount,m=e.extra,w=e.onSuccess,v=e.type,f=e.balance,g=e.isFullScreen,p=e.onCombosItemClick,y=e.additionalLogParams;s=l(),a||((a=document.createElement("div")).className=o,g&&(a.style.height="100%",a.style.width="100%"),s.appendChild(a)),i.render(t.createElement(c,{additionalLogParams:y,onCombosItemClick:p,onCloseButtonClick:function(){u()},onSuccess:w,type:v,balance:f,amount:h,onShow:r,onClose:n,extra:m,isFullScreen:g,scene:d}),a)},hideRecharge:u}}},16749:function(e,n,o){o.r(n),o.d(n,{MoreBtn:function(){return M}});var t,i=o(53864),r=o(79705),c=o.n(r),a=o(59676);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},s.apply(this,arguments)}var l=function(e){return i.createElement("svg",s({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t||(t=i.createElement("path",{d:"M.778 12.185c0-.572.418-1.037.933-1.037H12.29c.515 0 .933.465.933 1.037 0 .573-.418 1.037-.933 1.037H1.71c-.515 0-.933-.464-.933-1.037zM.778 7c0-.573.418-1.037.933-1.037H12.29c.515 0 .933.464.933 1.037s-.418 1.037-.933 1.037H1.71C1.196 8.037.778 7.573.778 7zM.778 1.815c0-.573.418-1.037.933-1.037H12.29c.515 0 .933.464.933 1.037s-.418 1.037-.933 1.037H1.71c-.515 0-.933-.464-.933-1.037z",fill:"#2F3035",fillOpacity:.9})))},u=o(43530),d=o(57768),h=o(29416),m=o(1694),w=o(55283),v=o(30906),f=o(8e3),g=o.n(f),p=o(88942),y=o(6067),C=o(92267),E=o(72603),k=o(71116),S=o(25902),b=o(56003),L=o(51357),_=o(26613),D=o(20764),A=(0,a.default)((function(){return o.e(5913).then(o.bind(o,33794))}),{resolveComponent:function(e){return e.RechargePanel}}),M=function(e){var n=e.isDownloadGuideShow,o=e.abTestData,t=e.isLogin,r=e.osInfo,a=e.clientDownloadAttr,s=e.clientDownloadHref,f=e.downloadPWA,M=e.withClose,N=e.withEffect,x=e.showType,I=e.showDownloadGuide,Z=e.shouldShowGuideType,P=e.hideDownloadGuide,R=e.activityName,G=e.transparent,T=e.cooperationDropdownItems,Q=e.onDownloadGuideEntryEnter,H=e.onDownloadGuideEntryLeave,B=e.onRechargeEntryEnter,j=e.onRechargeEntryLeave,W=e.isRechargeShow,F=e.installPWA,O=e.onLoginSuccessByRecharge,q=e.onRechargeSuccess,z=e.showBrowserPluginGuide,U=e.onMouseEnter,J=e.onMouseLeave,K=e.showQuickAccessNav,Y=e.showQuickAccessHover,V=e.onQuickAccessEnter,X=e.onQuickAccessLeave,$=e.showQuickAccessPWA,ee=e.showQuickAccessCollect,ne=e.withQuickAccessClose,oe=function(e){var n=e.isShowCooperation,o=e.cooperationDropdownItems,t=e.isLogin,r=e.shouldShowGuideType,c=e.clientDownloadHref,a=e.onDownloadGuideEntryEnter,s=e.onDownloadGuideEntryLeave,l=e.clientDownloadAttr,d=e.downloadClientChildren,h=e.rechargeChildren,m=e.onRechargeEntryEnter,w=e.onRechargeEntryLeave,f=e.onRechargeSuccess,A=e.showQuickAccessNav,M=e.quickAccessChildren,N=e.onQuickAccessEnter,x=e.onQuickAccessLeave,I=(0,p.y)().showRecharge,Z=(0,y.wu)().searchParams,P=(0,D.K)().rechargeConfig;return{miniScreenDropdownItems:(0,i.useMemo)((function(){var e,i=g()(e=[n?(0,v.Z)((0,v.Z)({},b.j.cooperation),{},{type:"textLink",items:o,trigger:"hover",itemsContainerClassName:u.Z.miniScreenCooperationDropdownContainer,onMouseEnter:function(){L.Z.sendLog("cooperatePanelShow",{enter_from:(0,E.mo)()})}}):undefined,(0,v.Z)((0,v.Z)({},b.j.downloadClient),{},{text:"\u5ba2\u6237\u7aef",type:"textLink",onMouseEnter:a,onMouseLeave:s,url:c,downloadAttr:l,target:"_self",onClick:function(){k.Le.setConfig(k.gI.UserClick2DownloadClient,!0),L.Z.sendLog("addToDesktopClick",{enter_from:(0,L.v)(),is_full_screen:(0,S.r)()?"1":"0",type:"icon",platform:r===_.xj.PWA?"pwa":"client"})},children:d}),(0,v.Z)((0,v.Z)({},b.j.recharge),{},{text:P.headerName||"\u5145\u6296\u5e01",type:"textLink",target:"_self",onMouseEnter:function(){var e;t||(C.i.sendLog("livesdkRechargeNavigationBarShow",{enter_from_merge:(0,E.yW)(),if_live_play:"live"===(null==Z?void 0:Z.tab)||k.Le.getConfig(k.gI.HasLiveContent)||"live.douyin.com"===(null===(e=window)||void 0===e?void 0:e.location.host)?1:0}),null==m||m())},onMouseLeave:function(){t||null==w||w()},onClick:function(e){var n,o,i,r;if(null==e||null===(n=e.preventDefault)||void 0===n||n.call(e),t){var c={enter_from_merge:(0,E.yW)(),show_reason:"navigation_bar",live_window_type:null!==(o=null===(i=k.Le.getConfig(k.gI.LiveWindowStatus))||void 0===i?void 0:i.type)&&void 0!==o?o:"no_live_window",if_live_play:"live"===(null==Z?void 0:Z.tab)||k.Le.getConfig(k.gI.HasLiveContent)||"live.douyin.com"===(null===(r=window)||void 0===r?void 0:r.location.host)?1:0};I({type:"recharge",balance:0,amount:0,isFullScreen:!1,scene:"pc_topbanner",onSuccess:function(){null==f||f()},onClose:function(e){C.i.sendLog("livesdkRechargeShowDuration",(0,v.Z)((0,v.Z)({},c),{},{duration:(null==e?void 0:e.duration)||0,if_recharge_success:null!=e&&e.isSuccess?1:0}))},additionalLogParams:c})}},children:h})]).call(e,(function(e){return Boolean(e)}));return A&&i.unshift((0,v.Z)((0,v.Z)({},b.j.quickAccess),{},{type:"textLink",onMouseEnter:N,onMouseLeave:x,children:M})),i}),[o,t,r,c,a,s,l,h,d,m,w,Z,A,N,x,M,f,I,P,n])}}({isShowCooperation:!1,cooperationDropdownItems:T,isLogin:t,shouldShowGuideType:Z,clientDownloadHref:s,onDownloadGuideEntryEnter:Q,onDownloadGuideEntryLeave:H,clientDownloadAttr:a,onRechargeEntryEnter:B,onRechargeEntryLeave:j,onRechargeSuccess:q,showQuickAccessNav:K,onQuickAccessEnter:V,onQuickAccessLeave:X,downloadClientChildren:[i.createElement("div",{className:u.Z.hoverToShowMiniDownloadGuideContainer,key:"downloadMenuInMiniscreen"},i.createElement("div",{className:u.Z.hoverToShowMiniDownloadGuide,key:"downloadMenuInMiniscreen"},n&&i.createElement(d.E6,{isLogin:t,abTestData:o,osInfo:r,downloadPWA:f,withClose:M,withEffect:N,clientDownloadAttr:a,showType:x,shouldShowGuideType:Z,clientDownloadHref:s,showDownloadGuide:I,onClose:P})))],rechargeChildren:[i.createElement("div",{className:u.Z.rechageContainer,key:"rechangeInMiniscreen"},i.createElement("div",{className:u.Z.rechageInnerContainer,key:"rechangeInMiniscreen"},W&&!t&&i.createElement(A,{onRechargeSuccess:q,className:u.Z.rechagePanel,onLoginSuccess:O})))],quickAccessChildren:[i.createElement("div",{className:u.Z.hoverToShowMiniDownloadGuideContainer,key:"quickAccessInMiniscreen"},i.createElement("div",{className:u.Z.hoverToShowMiniDownloadGuide,key:"quickAccessInMiniscreen"},Y&&i.createElement(h.ep,{installPWA:F,showBrowserPluginGuide:z,showQuickAccessPWA:$,showQuickAccessCollect:ee,withQuickAccessClose:ne})))]}),te=oe.miniScreenDropdownItems;return i.createElement("div",{className:u.Z.menuItem},i.createElement(m.p,{headerPopupName:"more"},i.createElement(w.Y,{text:"\u66f4\u591a",type:"circleButtonWithText",icon:l,activityName:R,iconWidth:12.44,iconHeight:12.44,viewBox:"0.5 0.5 13 13",trigger:"hover",items:te,itemsContainerClassName:c()(u.Z.miniScreenCooperationDropdownContainerFirstLevel),headerPopupName:"more",transparent:G,onMouseEnter:U,onMouseLeave:J})))}}}]);