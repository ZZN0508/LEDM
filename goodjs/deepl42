"use strict";(self.webpackChunk_deepl_gatsby=self.webpackChunk_deepl_gatsby||[]).push([[4899],{5016:function(e,t,n){n.d(t,{h:function(){return q}});var r,l=n(27378),o=n(31542),i=n(23092);let a=function(){function e(){this.audio=new Audio,this.isPlaying=!1;let e=null!=this.audio&&"function"==typeof this.audio.canPlayType;this.audio.preload="none",e&&(this.audio.addEventListener("play",()=>{this.isPlaying=!0}),this.audio.addEventListener("ended",()=>{this.isPlaying=!1}))}var t=e.prototype;return t.setSourceUrl=function(e){this.audio.src=e},t.setSourceUrlByLingueeHash=function(e){this.audio.src=`https://static.deepl.com/mp3/${e}.mp3`},t.play=function(){this.audio.play(),this.isPlaying=!0},t.stop=function(){this.audio.pause(),this.audio.currentTime=0,this.isPlaying=!1},t.togglePlayStop=function(){this.isPlaying?this.stop():this.play()},e}();var s=n(61606),u=n(30171),d=n(98808),c=n(97306),g=n(34681),p=n(20024),h=n(94272),v=n(43967);let f=e=>{let{onClick:t,respectDarkMode:n=!0,state:r="stopped"}=e,{t:o}=(0,g.$)("translator"),i="w-full h-full";return l.createElement("span",{className:"relative"},l.createElement("button",{type:"button",onClick:t,className:`
          text-deepl-blue hover:text-blue-chill leading-0 relative inline-block h-7 w-7 cursor-pointer border-none
          p-1 active:outline-none ${n?"dark:text-dark-5 dark:hover:text-dark-link":""}
          translate-y-1
        `},l.createElement("span",{className:"sr-only"},o("toolbar.listen")),"speaking"===r&&l.createElement(p.q,{"aria-hidden":!0,className:i}),"stopped"===r&&l.createElement(h.y,{"aria-hidden":!0,className:i}),"loading"===r&&l.createElement(v.T,{"aria-hidden":!0,className:i})))},m=[[5,3],[60,30],[3600,900]],y=function(){function e(e){void 0===e&&(e=()=>Date.now()),this.now=e,this.requestTimestamps=[],this.lastErrorTimestamp=void 0}var t=e.prototype;return t.isDictRequestAllowed=function(){let e=this.nowInSeconds(),t=m.every(t=>{let[n,r]=t,l=0;for(let t=this.requestTimestamps.length-1;t>=0&&!(this.requestTimestamps[t]+n<e);--t,++l);return l<=r});if(!t)return!1;if(!this.lastErrorTimestamp)return!0;let n=this.lastErrorTimestamp+10<e;return n},t.registerRequest=function(){this.requestTimestamps.push(this.nowInSeconds())},t.registerError=function(){this.lastErrorTimestamp=this.nowInSeconds()},t.nowInSeconds=function(){return this.now()/1e3},e}();var E=n(79743),S=n(95565),L=n(12959);let T={EN:"english",DE:"german",FR:"french",ES:"spanish",IT:"italian",NL:"dutch",PL:"polish",RU:"russian",PT:"portuguese",JA:"japanese",ZH:"chinese"};function C(e,t){if(!e)return;let n=e.trim().replace(/^playSound\(this,/gm,"").replace(/\);$/gm,""),r=n.replace(/"/g,"").split(",").filter((e,t)=>(t+1)%2!=0);if(r.length<=1)return r[0];let l=t.replace(/-/,"_").toUpperCase();return"EN_GB"===l&&(l="EN_UK"),r.find(e=>e.startsWith(l))}let w=e=>{let t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;return t.top+250<=n||t.bottom<=n};var k=n(9320);let q=((r={})[r.Section=1]="Section",r[r.SourceContextMenu=2]="SourceContextMenu",r[r.TargetContextMenu=3]="TargetContextMenu",r);s.Z.defineType("/translator/dictionary",["/translator/environment/localizedTexts","/translator/core/config","/translator/core/domElements","/translator/core/languageManagement","/translator/core/textareas","/translator/core/translateSourceSentences","/translator/environment/releaseGroups"],(e,t,n,r,s,g,p)=>{var h;let v;let m="[dictionary]",A={AUTO:["EN","DE","FR","ES","IT","PT","NL","PL","RU","JA","ZH"],EN:["DE","FR","ES","PT","IT","NL","PL","RU","JA","ZH"],DE:["EN","FR","ES","PT"],FR:["EN","DE","ES","PT"],ES:["EN","DE","PT"],PT:["EN","DE","ES"],IT:["EN"],NL:["EN"],PL:["EN"],RU:["EN"],JA:["EN"],ZH:["EN"]},_=p.isActive("DF-2942");_&&document.documentElement.classList.add("df2942");let x=new y,N=new Map,P=new Set,b=(0,u.S3)(null),R=(0,u.S3)(0),U=(0,u.G7)(R,e=>e>0),D=(0,u.S3)(j()),H=(0,u.S3)(null),M=(0,d.f)(),W=(0,d.f)(),O=(0,u.S3)(!1),V=null;i.Ou.onSpeak.push(()=>{V&&Object.values(V).forEach(e=>e.stop())});let $=()=>{var e,t;return{sourceLang:null===(e=b())||void 0===e?void 0:e.sourceLang,targetLang:null===(t=b())||void 0===t?void 0:t.targetLang}},I=()=>{var e;return null===(e=b())||void 0===e?void 0:e.eventSource};b.onValueChanged.push(n=>{if(V=null,!n){H(null);return}let{cacheKey:r}=n;if(N.has(r)){let[e,t]=N.get(r);H(t)}else P.has(r)?H(null):x.isDictRequestAllowed()?(R(R()+1),x.registerRequest(),(function(e,t){let n=L.Z.dictbackend||(window.location.href.match(/local\.deepl\.com/)?"/_dict":"https://dict.deepl.com"),r=T[e.sourceLang.toUpperCase()],l=T[e.targetLang.toUpperCase()];if(!r)throw Error("Unsupported source language!");if(!l)throw Error("Unsupported target language!");let o=(0,S.oR)(`${n}/${r}-${l}/search`,{ajax:"1",source:r,onlyDictEntries:"1",translator:"dnsof7h3k2lgh3gda",kind:e.kind,eventkind:function(e){switch(e){case E.n.Click:return"click";case E.n.Change:return"change";case E.n.KeyUp:return"keyup";case E.n.Paste:return"paste";case E.n.LangChange:return"langChange";default:return"unknown"}}(e.eventSource),forleftside:e.forleftside.toString(),il:function(e){var t;let n=null!==(t=null==e?void 0:e.toLowerCase())&&void 0!==t?t:"";return"pt-pt"===n?"PT_PT":"pt-br"===n?"PT_BR":e}(t)}),i={query:e.queryString.trim()},a=Object.keys(i).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(i[e])}`).join("&");return new Promise((e,t)=>{let n=new XMLHttpRequest;n.onreadystatechange=()=>{n.readyState===XMLHttpRequest.DONE&&(n.status<400?e(n.responseText):t(Error(`Could not fetch dictionary: ${n.statusText}`)))},n.addEventListener("error",()=>{t(Error("Could not fetch dictionary: network error"))}),n.open("POST",o,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.setRequestHeader("Accept","text/html"),n.send(a)})})(n,t.get("il")).then(r=>{var s;let d=s=>{let d=null!=s?s:q.Section,g=function(e,t,n){var r,l,o,i,a,s,u,d,c,g,p,h,v,f,m,y,E,S,L,T,w,k,q,A,_,x,N,P,b,R,U,D,H,M,W,O,V,$,I;let{showListMarkers:F,onAddSpeaker:K}=n,j=function(e){let t=document.createElement("template");if("content"in t)return t.innerHTML=e,t.content;let n=document.createElement("div");return n.innerHTML=e.trim(),n.firstElementChild}(t);if(!j)return null;let Z=j.lastElementChild,B=e.sourceLangWithVariant.indexOf("-")>-1?e.sourceLangWithVariant:e.sourceLangWithVariant.toLowerCase(),G=e.targetLangWithVariant.indexOf("-")>-1?e.targetLangWithVariant:e.targetLangWithVariant.toLowerCase();for(let t of null!==(g=null===(p=Z=null===(r=Z)||void 0===r?void 0:r.querySelector(`
    .isMainTerm:not(.spell_suggestion)[data-source-lang='${e.sourceLang}'],
    .isForeignTerm:not(.spell_suggestion)[data-source-lang='${e.sourceLang}']
  `))||void 0===p?void 0:p.querySelectorAll(`
      .inexact, .line.inflectioninfo, 
      .copyrightLineOuter, .copyright_wrapper,
      .spell_suggestion, .alternative_translation
    `))&&void 0!==g?g:[])t.remove();for(let e of null!==(h=null===(v=Z)||void 0===v?void 0:v.querySelectorAll("a"))&&void 0!==h?h:[])e.removeAttribute("href");let J=document.createElement("div");J.classList.add("sourceHint"),J.innerText="Linguee Dictionary",null===(l=Z)||void 0===l||null===(o=l.querySelector("h2"))||void 0===o||o.appendChild(J);let X=null!==(i=null===(a=Z)||void 0===a?void 0:a.querySelectorAll("h2.lemma_desc"))&&void 0!==i?i:[];for(let e of X)e.classList.add("source"),e.setAttribute("lang",B);if("EN"===e.sourceLang&&e.fulltext.startsWith("to "))for(let e of null!==(f=null===(m=Z)||void 0===m?void 0:m.querySelectorAll(".lemma"))&&void 0!==f?f:[]){let t=null!==(y=e.getAttribute("wt"))&&void 0!==y?y:"";t.startsWith("1")&&3===t.length&&e.remove()}if(F){let e=".meaninggroup > .translation_lines > .translation",t=null!==(E=null===(S=Z)||void 0===S?void 0:S.querySelectorAll(e))&&void 0!==E?E:[];for(let n of t)(null===(L=n.parentNode)||void 0===L?void 0:L.querySelectorAll(e).length)===1?n.classList.add("df2942__unordered-list-item"):n.classList.add("df2942__ordered-list-item")}let z=null!==(s=null===(u=Z)||void 0===u?void 0:u.querySelectorAll(".example_lines"))&&void 0!==s?s:[];for(let e of z){for(let t of null!==(T=e.querySelectorAll(".tag_s"))&&void 0!==T?T:[])t.setAttribute("lang",B);for(let t of null!==(w=e.querySelectorAll(".tag_t"))&&void 0!==w?w:[])t.setAttribute("lang",G)}for(let e of null!==(k=null===(q=Z)||void 0===q?void 0:q.querySelectorAll(".lemma_content .translation_desc"))&&void 0!==k?k:[])e.setAttribute("lang",G);for(let e of null!==(A=null===(_=Z)||void 0===_?void 0:_.querySelectorAll("h2.lemma_desc, h3.translation_desc"))&&void 0!==A?A:[])(function(e,t){let n=document.createElement("DIV");for(let t of e.attributes)n.setAttribute(t.name,t.value);n.innerHTML=e.innerHTML,e.replaceWith(n)})(e,0);if(window.speechSynthesis&&window.SpeechSynthesisUtterance){for(let t of null!==(x=null===(N=Z)||void 0===N?void 0:N.querySelectorAll(".tag_lemma"))&&void 0!==x?x:[]){let n=document.createElement("span");t.appendChild(n);let r=C(null!==(P=null===(b=t.querySelector(".audio"))||void 0===b?void 0:b.getAttribute("onClick"))&&void 0!==P?P:"",e.sourceLangWithVariant),l=null!==(R=null===(U=t.querySelector(".dictLink"))||void 0===U?void 0:U.textContent)&&void 0!==R?R:"";K(n,{query:e,audioHash:r,text:l,lang:e.sourceLangWithVariant})}for(let t of null!==(D=null===(H=Z)||void 0===H?void 0:H.querySelectorAll(".tag_trans"))&&void 0!==D?D:[]){let n=document.createElement("span");t.appendChild(n);let r=C(null!==(M=null===(W=t.querySelector(".audio"))||void 0===W?void 0:W.getAttribute("onClick"))&&void 0!==M?M:"",e.targetLangWithVariant),l=null!==(O=null===(V=t.querySelector(".dictLink"))||void 0===V?void 0:V.textContent)&&void 0!==O?O:"";K(n,{query:e,audioHash:r,text:l,lang:e.targetLangWithVariant})}}for(let e of null!==($=null===(I=Z)||void 0===I?void 0:I.querySelectorAll(".audio"))&&void 0!==$?$:[])e.remove();let Q=[];return null===(d=Z)||void 0===d||d.querySelectorAll(".lemma.featured:first-child .lemma_desc .dictLink").forEach(e=>{Q.push(e.innerHTML)}),0===X.length?null:{content:null!==(c=Z)&&void 0!==c?c:null,mainTerm:Q.length>0?Q.join(" "):null}}(n,r,{showListMarkers:_,onAddSpeaker:(n,r)=>{let{query:s,text:g,lang:p,audioHash:h}=r;if("string"==typeof h&&h.length){let r=()=>{i.Ou.stop(),(V=V||{})[h]||(V[h]=new a,V[h].setSourceUrlByLingueeHash(h)),V[h].togglePlayStop()};o.render(l.createElement(c.L,{value:e},l.createElement(f,{onClick:()=>B(d,s,r),respectDarkMode:t.get("isApp")})),n)}else if((0,i.T6)(p)&&"string"==typeof g&&g.length){let r=new i.Ou,a=()=>{r.speakOrStopSpeaking(g,p)};(0,u.S1)([r.state],r=>{o.render(l.createElement(c.L,{value:e},l.createElement(f,{state:r,onClick:e=>{e.stopPropagation(),B(d,s,a)},respectDarkMode:t.get("isApp")})),n)})}}});return g?{...g,sendOnDictionaryRendered:()=>{null!=g&&g.content&&W(w(null==g?void 0:g.content),$(),I(),d)}}:null},g=d(),p=g&&g.content?{mainTerm:g.mainTerm,buildDict:d}:null;p?N.set(n.cacheKey,[n,p]):P.add(n.cacheKey),(null===(s=b())||void 0===s?void 0:s.cacheKey)===n.cacheKey&&H(p)}).catch(e=>{x.registerError(),console.warn(m,"Could not load dictionary",n.sourceLang,n.targetLang,n.queryString,e)}).finally(()=>{R(R()-1)})):(H(null),console.warn(m,"Too many requests, try again later!"))}),s.onTargetTextChanged.push((e,t)=>{let n=b();O(!!n&&!n.forleftside&&("internal"===t||"replace"===t))}),(0,u.S1)(O,e=>{e&&H(null)});let F=(h=function(e,t,l){var o;void 0===l&&(l=!1);let i=(0,E.w)(e,t,t===n.sourceEdit,r);if(!Z(i.sourceLang,i.targetLang)){b(null);return}if(O()&&!i.forleftside&&e===E.n.Change){O(!1),b(null);return}let a=(null==i?void 0:i.id)===(null===(o=b())||void 0===o?void 0:o.id);if(a&&!l)return;let s=(0,k.a)(i.sourceLang),u=i.queryString.length<2&&!s.segmentation||i.queryString.length<1&&s.segmentation;if(u){b(null);return}b(i)},v=0,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];clearTimeout(v),v=window.setTimeout(()=>h.apply(void 0,t),300)});for(let e of[n.sourceEdit,n.targetEdit])e.addEventListener("click",()=>F(E.n.Click,e,!0)),e.addEventListener("change",()=>F(E.n.Change,e)),e.addEventListener("keyup",()=>F(E.n.KeyUp,e)),e.addEventListener("paste",()=>F(E.n.Paste,e)),e.addEventListener("pointerup",()=>F(E.n.Click,e,!0));function K(){D(j())}function j(){let e=r.getSelectedSourceLang(),t=r.getSourceLang(),n=r.getSelectedTargetLang(),l=s.isSourceTextEmpty();return Z(""===t||l?e:t,n)}function Z(e,t){let n=e.toUpperCase(),r=t.toUpperCase(),l=A[n];return!!(l&&l.includes(r))}function B(e,t,n){let r=t.forleftside?s.getSourceText():s.getTargetText();M(e,r),n()}return r.onLangChanged.push(()=>{F(E.n.Change,n.sourceEdit,!0)}),s.isSourceTextEmpty.onValueChanged.push(K),r.onActiveLangContextChanged.push(K),r.onLangChanged.push(K),r.onSelectedSourceLangChanged.push(K),r.onSelectedTargetLangSettingsChanged.push(K),g.onTargetSentencesHaveChanged.push(()=>{var e;(n.sourceEdit===document.activeElement||n.sourceEdit===(null===(e=document.activeElement)||void 0===e?void 0:e.parentElement))&&F(E.n.Change,n.sourceEdit)}),{isRequestPending:U,isDictSupported:D,isDictionaryAvailable:(0,u.G7)(H,e=>!!e),activeDictQuery:b,activeDictionaryContent:H,onSpeakerButtonClicked:M,onDictionaryRendered:W}})}}]);