(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[452],{1302:function(e,i,n){"use strict";n.r(i);var t,c=n(5),a=n.n(c),_=n(187),d=(n(29),$("#wrap-recomImg"));$.when((t=new $.Deferred,$.ajax({url:"//g.huya.com/cache1min.php?m=Api&do=getPositionBatchContent&position_ids=7,8,9,10",type:"GET",dataType:"jsonp",jsonpCallback:"getPositionBatchContentCallback",cache:!0}).done((function(e){200==e.status?0===e.data.length?t.reject(e):t.resolve(e.data):t.reject(e)})),t.promise())).done((function(e){d.html(function(e){return n(475)({obj:e})}(e)),$(".index-recommend-img img").lazyload({threshold:200})})).done((function(e){var i=e[7];if(i){var n=i.length,t=0,c=null,a=d.find(".slide-list");d.on("mouseenter",".btn-item",(function(){clearTimeout(c);var e=$(this);t=e.index(),l()})).on("mouseleave",".btn-item",(function(){r()})).on("click",".slide-ctrl-l",(function(){clearTimeout(c),0==t?t=n-1:t--,l(),c=setTimeout((function(){r()}),3e3)})).on("click",".slide-ctrl-r",(function(){clearTimeout(c),t==n-1?t=0:t++,l(),c=setTimeout((function(){r()}),3e3)})),r(),_.a.on("resize",(function(){r()}))}function l(){var e=a.find(".pic-box").outerWidth(!0),i=-1*t*e;a.stop().animate({left:i+"px"},500),d.find(".btn-item").removeClass("current").eq(t).addClass("current")}function r(){clearTimeout(c),l(),c=setTimeout((function(){t<n-1?t++:t=0,r()}),3e3)}})).done((function(e){$.each(e,(function(e,i){$.each(i,(function(e,i){i&&TT_RSC_EXPS({pos:"index/news/pic/"+e,rsc:i.id})}))})),a.a.exposure(document.getElementById("J_recImg"),(function(){var e="https://ad.doubleclick.net/ddm/trackimp/N5751.3159.GOOGLE/B20134077.202497381;dc_trk_aid=402342708;dc_trk_cid=91171470;ord="+Math.floor((new Date).getTime()/1e3)+"?https://v.admaster.com.cn/i/a89327,b1851435,c3043,i0,m202,8a2,8b2,0k10038,h";a.a.loadImg(e,(function(){null}))}))})).done((function(){var e=d.find(".recomLink");$.each(e,(function(e,i){a.a.exposure(i,(function(e){if(e.data("thirdview")&&"undefined"!=e.data("thirdview")){var i=e.data("thirdview");a.a.loadImg(i,(function(){null}))}var n;!function i(){"undefined"!=typeof ya?(clearTimeout(n),ya.reportProductEvent({eid:e.attr("eid").replace("click","preview"),eid_desc:e.attr("eid_desc").replace("点击","曝光"),ref:YA.cookie.get("ya_eid")})):n=setTimeout((function(){i()}),1e3)}()}))}))}))},475:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,i,n,t,c){var a=i.split("\n"),_=Math.max(t-3,0),d=Math.min(a.length,t+3),l=c(n),r=a.slice(_,d).map((function(e,i){var n=i+_+1;return(n==t?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+t+"\n"+r+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="index-recommend-img" id="J_recImg">\n    <div class="wrap">\n        <div class="slide-box">\n            <% if(obj[\'7\']){ %>\n            <div class="slide-list">\n                <% for(var i=0; i<obj[\'7\'].length; i++){ var item = obj[\'7\'][i];%>\n                <a class="recomLink pic-box clickstat<%=item[\'click_check_code\'] ? \' third-clickstat\' : \'\'%>" href="<%= item.jump_url %>" target="_blank" eid="click/push/indexnews/lunbo/picture<%=i+1%>" eid_desc="点击/活动/首页新闻/轮播/图片<%=i+1%>" <%=item[\'click_check_code\'] ? \' data-thirdstat="\' + item[\'click_check_code\'] + \'"\' : \'\'%> <%=item[\'view_check_code\'] ? \'data-thirdview="\' + item[\'view_check_code\'] + \'"\' : \'\'%>>\n                    <img src="<%= TT.trimUrl(item.img_url) %>" title="<%= item.title %>" alt="<%= item.title %>" data-default-img="330x210">\n                </a>\n                <% } %>\n            </div>\n            <div class="slide-btn">\n                <% for(var i=0; i<obj[\'7\'].length; i++){ %>\n                <i class="btn-item"></i>\n                <% } %>\n            </div>\n            <% } %>\n            <% if(obj[\'7\'] && obj[\'7\'].length > 1){%>\n            <span class="slide-ctrl-l"><i class="ctrl-arrow"></i></span>\n            <span class="slide-ctrl-r"><i class="ctrl-arrow"></i></span>\n            <% } %>\n        </div>\n        <% for(var i=8; i<=10; i++){ var item = obj[i]; if(item){%>\n        <a class="recomLink link clickstat<%=item[0][\'click_check_code\'] ? \' third-clickstat\' : \'\'%>" href="<%= item[0].jump_url %>" target="_blank" eid="click/push/indexnews/picture<%=i-7%>" eid_desc="点击/活动/首页新闻/图片<%=i-7%>" <%=item[0][\'click_check_code\'] ? \' data-thirdstat="\' + item[0][\'click_check_code\'] + \'"\' : \'\'%> <%=item[0][\'view_check_code\'] ? \'data-thirdview="\' + item[0][\'view_check_code\'] + \'"\' : \'\'%>>\n            <img src="<%= TT.trimUrl(item[0].img_url) %>" title="<%= item[0].title %>" alt="<%= item[0].title %>" data-default-img="160x100"></a>\n        <% }} %>\n    </div>\n</div>',__filename="widget/index-recomImg/index-recomImg.tmpl";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{}){if(__append('<div class="index-recommend-img" id="J_recImg">\n    <div class="wrap">\n        <div class="slide-box">\n            '),__line=4,obj[7]){__append('\n            <div class="slide-list">\n                '),__line=6;for(var i=0;i<obj[7].length;i++){var item=obj[7][i];__append('\n                <a class="recomLink pic-box clickstat'),__line=7,__append(escapeFn(item.click_check_code?" third-clickstat":"")),__append('" href="'),__append(escapeFn(item.jump_url)),__append('" target="_blank" eid="click/push/indexnews/lunbo/picture'),__append(escapeFn(i+1)),__append('" eid_desc="点击/活动/首页新闻/轮播/图片'),__append(escapeFn(i+1)),__append('" '),__append(escapeFn(item.click_check_code?' data-thirdstat="'+item.click_check_code+'"':"")),__append(" "),__append(escapeFn(item.view_check_code?'data-thirdview="'+item.view_check_code+'"':"")),__append('>\n                    <img src="'),__line=8,__append(escapeFn(TT.trimUrl(item.img_url))),__append('" title="'),__append(escapeFn(item.title)),__append('" alt="'),__append(escapeFn(item.title)),__append('" data-default-img="330x210">\n                </a>\n                '),__line=10}__append('\n            </div>\n            <div class="slide-btn">\n                '),__line=13;for(var i=0;i<obj[7].length;i++)__append('\n                <i class="btn-item"></i>\n                '),__line=15;__append("\n            </div>\n            "),__line=17}__append("\n            "),__line=18,obj[7]&&obj[7].length>1&&(__append('\n            <span class="slide-ctrl-l"><i class="ctrl-arrow"></i></span>\n            <span class="slide-ctrl-r"><i class="ctrl-arrow"></i></span>\n            '),__line=21),__append("\n        </div>\n        "),__line=23;for(var i=8;i<=10;i++){var item=obj[i];item&&(__append('\n        <a class="recomLink link clickstat'),__line=24,__append(escapeFn(item[0].click_check_code?" third-clickstat":"")),__append('" href="'),__append(escapeFn(item[0].jump_url)),__append('" target="_blank" eid="click/push/indexnews/picture'),__append(escapeFn(i-7)),__append('" eid_desc="点击/活动/首页新闻/图片'),__append(escapeFn(i-7)),__append('" '),__append(escapeFn(item[0].click_check_code?' data-thirdstat="'+item[0].click_check_code+'"':"")),__append(" "),__append(escapeFn(item[0].view_check_code?'data-thirdview="'+item[0].view_check_code+'"':"")),__append('>\n            <img src="'),__line=25,__append(escapeFn(TT.trimUrl(item[0].img_url))),__append('" title="'),__append(escapeFn(item[0].title)),__append('" alt="'),__append(escapeFn(item[0].title)),__append('" data-default-img="160x100"></a>\n        '),__line=26)}__append("\n    </div>\n</div>"),__line=28}return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}}}]);