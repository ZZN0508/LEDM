/*! For license information please see chat.43f1c058c0f4c72dc62f.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React"),require("ReactDOM"),require("linkchatDesign")):"function"==typeof define&&define.amd?define(["React","ReactDOM","linkchatDesign"],e):"object"==typeof exports?exports["Linkchat-chat"]=e(require("React"),require("ReactDOM"),require("linkchatDesign")):t["Linkchat-chat"]=e(t.React,t.ReactDOM,t.linkchatDesign)}(self,((t,e,n)=>(()=>{var r={7097:(t,e,n)=>{"use strict";e.Z=void 0;var r,o=(r=n(1024))&&r.__esModule?r:{default:r};var i=(0,n(946).IconWrapper)("close",(function(t){return o.default.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("g",{stroke:"none",strokeWidth:t.strokeWidth,fill:"none",fillRule:"evenodd"},o.default.createElement("g",null,o.default.createElement("g",{transform:"translate(8.000000, 8.000000)",stroke:t.outStrokeColor,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin,strokeWidth:t.strokeWidth},o.default.createElement("path",{d:"M1.13686838e-13,0 L32,32"}),o.default.createElement("path",{d:"M6.92779167e-14,32 L32,0"})))))}));e.Z=i},466:(t,e,n)=>{"use strict";e.Z=void 0;var r,o=(r=n(1024))&&r.__esModule?r:{default:r};var i=(0,n(946).IconWrapper)("column-mute",(function(t){return o.default.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M40.735 20.2856L32.2497 28.7709",stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),o.default.createElement("path",{d:"M32.2498 20.2857L40.735 28.771",stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),o.default.createElement("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:t.outFillColor,stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}))}));e.Z=i},1158:(t,e,n)=>{"use strict";e.Z=void 0;var r,o=(r=n(1024))&&r.__esModule?r:{default:r};var i=(0,n(946).IconWrapper)("column-notice",(function(t){return o.default.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("g",null,o.default.createElement("g",null,o.default.createElement("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:t.outFillColor,stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),o.default.createElement("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),o.default.createElement("path",{d:"M34.2359 41.1857C40.0836 37.6953 44 31.305 44 24C44 16.8084 40.2043 10.5034 34.507 6.979",stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap}))))}));e.Z=i},8788:(t,e,n)=>{"use strict";e.Z=void 0;var r,o=(r=n(1024))&&r.__esModule?r:{default:r};var i=(0,n(946).IconWrapper)("left",(function(t){return o.default.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("g",{stroke:"none",strokeWidth:t.strokeWidth,fill:"none",fillRule:"evenodd"},o.default.createElement("g",null,o.default.createElement("polyline",{stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin,transform:"translate(25.000000, 24.000000) rotate(180.000000) translate(-25.000000, -24.000000) ",points:"19 12 31 24 19 36"}))))}));e.Z=i},5343:(t,e,n)=>{"use strict";e.Z=void 0;var r,o=(r=n(1024))&&r.__esModule?r:{default:r};var i=(0,n(946).IconWrapper)("refresh",(function(t){return o.default.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("g",{stroke:"none",strokeWidth:t.strokeWidth,fill:"none",fillRule:"evenodd"},o.default.createElement("g",{transform:"translate(-0.500000, 0.000000)"},o.default.createElement("path",{d:"M42,24 C42,14.0588745 33.9411255,6 24,6 C21.559467,6 19.2323766,6.48570507 17.1101186,7.36572524 C16.0143739,7.82008913 14.9732329,8.37956827 13.999274,9.03158409 C13.0176762,9.68871375 12.1043185,10.4398373 11.2720779,11.2720779 C10.4398373,12.1043185 9.68871375,13.0176762 9.03158409,13.999274 M6,24 C6,33.9411255 14.0588745,42 24,42 L24,42 C26.440533,42 28.7676234,41.5142949 30.8898814,40.6342748 C31.9856261,40.1799109 33.0267671,39.6204317 34.000726,38.9684159 C34.9823238,38.3112862 35.8956815,37.5601627 36.7279221,36.7279221 C37.5601627,35.8956815 38.3112862,34.9823238 38.9684159,34.000726",stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),o.default.createElement("path",{d:"M34,16 L50,16",stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin,transform:"translate(42.000000, 16.000000) rotate(90.000000) translate(-42.000000, -16.000000) "}),o.default.createElement("path",{d:"M-2,32 L14,32",stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin,transform:"translate(6.000000, 32.000000) rotate(90.000000) translate(-6.000000, -32.000000) "}))))}));e.Z=i},5995:(t,e,n)=>{"use strict";e.Z=void 0;var r,o=(r=n(1024))&&r.__esModule?r:{default:r};var i=(0,n(946).IconWrapper)("right",(function(t){return o.default.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("g",{stroke:"none",strokeWidth:t.strokeWidth,fill:"none",fillRule:"evenodd"},o.default.createElement("g",null,o.default.createElement("polyline",{stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin,points:"19 12 31 24 19 36"}))))}));e.Z=i},4125:(t,e,n)=>{"use strict";e.Z=void 0;var r,o=(r=n(1024))&&r.__esModule?r:{default:r};var i=(0,n(946).IconWrapper)("thumbs-down",(function(t){return o.default.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("g",{stroke:"none",strokeWidth:t.strokeWidth,fill:"none",fillRule:"evenodd"},o.default.createElement("g",null,o.default.createElement("path",{d:"M20.3796043,29.4 L20.3796043,36.6 C20.3796043,39.5823376 22.7972666,42 25.7796043,42 L32.9796043,25.8 L32.9796043,5.99976661 L12.0636043,5.99976661 C10.2684881,5.97970615 8.7327742,7.285063 8.46360428,9.06 L5.97960428,25.26 C5.82110344,26.3042604 6.12918937,27.3654442 6.82225896,28.1624742 C7.51532856,28.9595042 8.52345122,29.4119604 9.57960428,29.4 L20.3796043,29.4 Z",stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,fill:t.outFillColor,fillRule:"nonzero",strokeLinejoin:t.strokeLinejoin}),o.default.createElement("path",{d:"M32.9796043,6 L37.7856043,6 C39.8942856,5.96270749 41.6969066,7.51002165 41.9796043,9.6 L41.9796043,22.2 C41.6969066,24.2899783 39.8942856,26.0372925 37.7856043,26 L32.9796043,26 L32.9796043,6 Z",stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,fill:t.outFillColor,fillRule:"nonzero",strokeLinejoin:t.strokeLinejoin}))))}));e.Z=i},6435:(t,e,n)=>{"use strict";e.Z=void 0;var r,o=(r=n(1024))&&r.__esModule?r:{default:r};var i=(0,n(946).IconWrapper)("thumbs-up",(function(t){return o.default.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("g",{stroke:"none",strokeWidth:t.strokeWidth,fill:"none",fillRule:"evenodd"},o.default.createElement("g",null,o.default.createElement("path",{d:"M29.4407914,29.4002334 L29.4407914,36.6002334 C29.4407914,39.582571 31.8584538,42.0002334 34.8407914,42.0002334 L42.0407914,25.8002334 L42.0407914,6 L21.1247914,6 C19.3296753,5.97993954 17.7939614,7.28529639 17.5247914,9.06023339 L15.0407914,25.2602334 C14.8822906,26.3044938 15.1903765,27.3656775 15.8834461,28.1627076 C16.5765157,28.9597376 17.5846384,29.4121938 18.6407914,29.4002334 L29.4407914,29.4002334 Z",stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,fill:t.outFillColor,fillRule:"nonzero",strokeLinejoin:t.strokeLinejoin,transform:"translate(28.520396, 24.000117) scale(-1, -1) translate(-28.520396, -24.000117) "}),o.default.createElement("path",{d:"M6,22.0002334 L10.806,22.0002334 C12.9146813,21.9629409 14.7173023,23.7095951 15,25.7995734 L15,38.3995734 C14.7173023,40.4895518 12.9146813,42.036866 10.806,41.9995734 L6,41.9995734 L6,22.0002334 Z",stroke:t.outStrokeColor,strokeWidth:t.strokeWidth,fill:t.outFillColor,fillRule:"nonzero",strokeLinejoin:t.strokeLinejoin,transform:"translate(10.500000, 31.999940) scale(-1, 1) translate(-10.500000, -31.999940) "}))))}));e.Z=i},9878:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconWrapper=function(t,e){return function(n){var r,c,u=(0,i.getConfig)(),l=n.theme,f=void 0===l?u.theme:l,h=n.size,p=void 0===h?u.size:h,d=n.fill,v=void 0===d?"currentColor":d,g=n.strokeLinecap,m=void 0===g?u.strokeLinecap:g,y=n.strokeLinejoin,b=void 0===y?u.strokeLinejoin:y,_=n.strokeWidth,w=void 0===_?u.strokeWidth:_,E=n.className,x=n.spin,S=void 0!==x&&x,k=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(n,["theme","size","fill","strokeLinecap","strokeLinejoin","strokeWidth","className","spin"]),O=Array.isArray(v)?v:[v];switch(f){case"outline":c={size:p,strokeLinecap:m,strokeLinejoin:b,strokeWidth:w,outStrokeColor:O[0],outFillColor:"transparent",innerStrokeColor:O[0],innerFillColor:"transparent"};break;case"filled":c={size:p,strokeLinecap:m,strokeLinejoin:b,strokeWidth:w,outStrokeColor:O[0],outFillColor:O[0],innerStrokeColor:"#FFF",innerFillColor:"#FFF"};break;case"two-tone":c={size:p,strokeLinecap:m,strokeLinejoin:b,strokeWidth:w,outStrokeColor:O[0],outFillColor:O[1]||u.outFillColor,innerStrokeColor:O[0],innerFillColor:O[1]||u.outFillColor};break;default:c={size:p,strokeLinecap:m,strokeLinejoin:b,strokeWidth:w,outStrokeColor:O[0],outFillColor:O[1]||u.outFillColor,innerStrokeColor:O[2]||u.innerStrokeColor,innerFillColor:O[3]||u.innerFillColor}}var T=u.prefix,j=(0,a.classnames)((s(r={},"".concat(T,"-icon"),!0),s(r,"".concat(T,"-icon-").concat(t),!0),s(r,"".concat(T,"-icon-spin"),S&&"loading"!==t),r),u.extraClassName,E);return o.default.createElement("span",Object.assign({},k,{className:j}),o.default.createElement(e,Object.assign({},c)))}};var r,o=(r=n(1024))&&r.__esModule?r:{default:r},i=n(7796),a=n(5086);function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},7796:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setConfig=function(t){r=t},e.getConfig=function(){return r},e.DEFAULT_ICON_CONFIGS=void 0;var n={prefix:"byted",theme:"outline",size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",outStrokeColor:"#000",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"};e.DEFAULT_ICON_CONFIGS=n;var r=n},946:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9878);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var o=n(7796);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}))},5086:(t,e)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.classnames=function(){for(var t=[],e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];for(var i=function(){var e=s[a];if(!e)return"continue";"string"==typeof e?t.push(e):Array.isArray(e)?e.forEach((function(e){e&&t.push(e)})):"object"===n(e)&&e&&Object.keys(e).forEach((function(n){e[n]&&t.push(n)}))},a=0,s=r;a<s.length;a++)i();return t.join(" ")}},3695:(t,e,n)=>{"use strict";n.d(e,{VG:()=>c,rp:()=>l,Ii:()=>m,O4:()=>s,uf:()=>u,Wh:()=>g,Jo:()=>p,yx:()=>d,Wi:()=>h,HI:()=>v,pe:()=>f,Qc:()=>rt});var r,o,i,a=n(655);function s(t){return t.type===o.literal}function c(t){return t.type===o.argument}function u(t){return t.type===o.number}function l(t){return t.type===o.date}function f(t){return t.type===o.time}function h(t){return t.type===o.select}function p(t){return t.type===o.plural}function d(t){return t.type===o.pound}function v(t){return t.type===o.tag}function g(t){return!(!t||"object"!=typeof t||t.type!==i.number)}function m(t){return!(!t||"object"!=typeof t||t.type!==i.dateTime)}!function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(r||(r={})),function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"}(o||(o={})),function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"}(i||(i={}));var y=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,b=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function _(t){var e={};return t.replace(b,(function(t){var n=t.length;switch(t[0]){case"G":e.era=4===n?"long":5===n?"narrow":"short";break;case"y":e.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][n-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][n-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][n-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][n-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][n-1];break;case"s":e.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),e}var w=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var E,x=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,S=/^(@+)?(\+|#+)?$/g,k=/(\*)(0+)|(#+)(0+)|(0+)/g,O=/^(0+)$/;function T(t){var e={};return t.replace(S,(function(t,n,r){return"string"!=typeof r?(e.minimumSignificantDigits=n.length,e.maximumSignificantDigits=n.length):"+"===r?e.minimumSignificantDigits=n.length:"#"===n[0]?e.maximumSignificantDigits=n.length:(e.minimumSignificantDigits=n.length,e.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),e}function j(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function C(t){var e;if("E"===t[0]&&"E"===t[1]?(e={notation:"engineering"},t=t.slice(2)):"E"===t[0]&&(e={notation:"scientific"},t=t.slice(1)),e){var n=t.slice(0,2);if("+!"===n?(e.signDisplay="always",t=t.slice(2)):"+?"===n&&(e.signDisplay="exceptZero",t=t.slice(2)),!O.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function L(t){var e=j(t);return e||{}}function A(t){for(var e={},n=0,r=t;n<r.length;n++){var o=r[n];switch(o.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=o.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=(0,a.pi)((0,a.pi)((0,a.pi)({},e),{notation:"scientific"}),o.options.reduce((function(t,e){return(0,a.pi)((0,a.pi)({},t),L(e))}),{}));continue;case"engineering":e=(0,a.pi)((0,a.pi)((0,a.pi)({},e),{notation:"engineering"}),o.options.reduce((function(t,e){return(0,a.pi)((0,a.pi)({},t),L(e))}),{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(o.options[0]);continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(k,(function(t,n,r,o,i,a){if(n)e.minimumIntegerDigits=r.length;else{if(o&&i)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(O.test(o.stem))e.minimumIntegerDigits=o.stem.length;else if(x.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(x,(function(t,n,r,o,i,a){return"*"===r?e.minimumFractionDigits=n.length:o&&"#"===o[0]?e.maximumFractionDigits=o.length:i&&a?(e.minimumFractionDigits=i.length,e.maximumFractionDigits=i.length+a.length):(e.minimumFractionDigits=n.length,e.maximumFractionDigits=n.length),""})),o.options.length&&(e=(0,a.pi)((0,a.pi)({},e),T(o.options[0])))}else if(S.test(o.stem))e=(0,a.pi)((0,a.pi)({},e),T(o.stem));else{var i=j(o.stem);i&&(e=(0,a.pi)((0,a.pi)({},e),i));var s=C(o.stem);s&&(e=(0,a.pi)((0,a.pi)({},e),s))}}return e}var I=new RegExp("^"+y.source+"*"),P=new RegExp(y.source+"*$");function N(t,e){return{start:t,end:e}}var R=!!String.prototype.startsWith,D=!!String.fromCodePoint,M=!!Object.fromEntries,F=!!String.prototype.codePointAt,U=!!String.prototype.trimStart,z=!!String.prototype.trimEnd,G=!!Number.isSafeInteger?Number.isSafeInteger:function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},B=!0;try{B="a"===(null===(E=Z("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===E?void 0:E[0])}catch(t){B=!1}var q,W=R?function(t,e,n){return t.startsWith(e,n)}:function(t,e,n){return t.slice(n,n+e.length)===e},V=D?String.fromCodePoint:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n,r="",o=t.length,i=0;o>i;){if((n=t[i++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},H=M?Object.fromEntries:function(t){for(var e={},n=0,r=t;n<r.length;n++){var o=r[n],i=o[0],a=o[1];e[i]=a}return e},Y=F?function(t,e){return t.codePointAt(e)}:function(t,e){var n=t.length;if(!(e<0||e>=n)){var r,o=t.charCodeAt(e);return o<55296||o>56319||e+1===n||(r=t.charCodeAt(e+1))<56320||r>57343?o:r-56320+(o-55296<<10)+65536}},K=U?function(t){return t.trimStart()}:function(t){return t.replace(I,"")},J=z?function(t){return t.trimEnd()}:function(t){return t.replace(P,"")};function Z(t,e){return new RegExp(t,e)}if(B){var $=Z("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");q=function(t,e){var n;return $.lastIndex=e,null!==(n=$.exec(t)[1])&&void 0!==n?n:""}}else q=function(t,e){for(var n=[];;){var r=Y(t,e);if(void 0===r||tt(r)||et(r))break;n.push(r),e+=r>=65536?2:1}return V.apply(void 0,n)};var X=function(){function t(t,e){void 0===e&&(e={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!e.ignoreTag,this.requiresOtherClause=!!e.requiresOtherClause,this.shouldParseSkeletons=!!e.shouldParseSkeletons}return t.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(t,e,n){for(var i=[];!this.isEOF();){var a=this.char();if(123===a){if((s=this.parseArgument(t,n)).err)return s;i.push(s.val)}else{if(125===a&&t>0)break;if(35!==a||"plural"!==e&&"selectordinal"!==e){if(60===a&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(r.UNMATCHED_CLOSING_TAG,N(this.clonePosition(),this.clonePosition()))}if(60===a&&!this.ignoreTag&&Q(this.peek()||0)){if((s=this.parseTag(t,e)).err)return s;i.push(s.val)}else{var s;if((s=this.parseLiteral(t,e)).err)return s;i.push(s.val)}}else{var c=this.clonePosition();this.bump(),i.push({type:o.pound,location:N(c,this.clonePosition())})}}}return{val:i,err:null}},t.prototype.parseTag=function(t,e){var n=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:o.literal,value:"<"+i+"/>",location:N(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var a=this.parseMessage(t+1,e,!0);if(a.err)return a;var s=a.val,c=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Q(this.char()))return this.error(r.INVALID_TAG,N(c,this.clonePosition()));var u=this.clonePosition();return i!==this.parseTagName()?this.error(r.UNMATCHED_CLOSING_TAG,N(u,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:o.tag,value:i,children:s,location:N(n,this.clonePosition())},err:null}:this.error(r.INVALID_TAG,N(c,this.clonePosition())))}return this.error(r.UNCLOSED_TAG,N(n,this.clonePosition()))}return this.error(r.INVALID_TAG,N(n,this.clonePosition()))},t.prototype.parseTagName=function(){var t,e=this.offset();for(this.bump();!this.isEOF()&&(45===(t=this.char())||46===t||t>=48&&t<=57||95===t||t>=97&&t<=122||t>=65&&t<=90||183==t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039);)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(t,e){for(var n=this.clonePosition(),r="";;){var i=this.tryParseQuote(e);if(i)r+=i;else{var a=this.tryParseUnquoted(t,e);if(a)r+=a;else{var s=this.tryParseLeftAngleBracket();if(!s)break;r+=s}}}var c=N(n,this.clonePosition());return{val:{type:o.literal,value:r,location:c},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(Q(t=this.peek()||0)||47===t)?null:(this.bump(),"<");var t},t.prototype.tryParseQuote=function(t){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===t||"selectordinal"===t)break;return null;default:return null}this.bump();var e=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}e.push(39),this.bump()}else e.push(n);this.bump()}return V.apply(void 0,e)},t.prototype.tryParseUnquoted=function(t,e){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===e||"selectordinal"===e)||125===n&&t>0?null:(this.bump(),V(n))},t.prototype.parseArgument=function(t,e){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(r.EXPECT_ARGUMENT_CLOSING_BRACE,N(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(r.EMPTY_ARGUMENT,N(n,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(r.MALFORMED_ARGUMENT,N(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(r.EXPECT_ARGUMENT_CLOSING_BRACE,N(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:o.argument,value:i,location:N(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(r.EXPECT_ARGUMENT_CLOSING_BRACE,N(n,this.clonePosition())):this.parseArgumentOptions(t,e,i,n);default:return this.error(r.MALFORMED_ARGUMENT,N(n,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),e=this.offset(),n=q(this.message,e),r=e+n.length;return this.bumpTo(r),{value:n,location:N(t,this.clonePosition())}},t.prototype.parseArgumentOptions=function(t,e,n,s){var c,u=this.clonePosition(),l=this.parseIdentifierIfPossible().value,f=this.clonePosition();switch(l){case"":return this.error(r.EXPECT_ARGUMENT_TYPE,N(u,f));case"number":case"date":case"time":this.bumpSpace();var h=null;if(this.bumpIf(",")){this.bumpSpace();var p=this.clonePosition();if((w=this.parseSimpleArgStyleIfPossible()).err)return w;if(0===(g=J(w.val)).length)return this.error(r.EXPECT_ARGUMENT_STYLE,N(this.clonePosition(),this.clonePosition()));h={style:g,styleLocation:N(p,this.clonePosition())}}if((E=this.tryParseArgumentClose(s)).err)return E;var d=N(s,this.clonePosition());if(h&&W(null==h?void 0:h.style,"::",0)){var v=K(h.style.slice(2));if("number"===l)return(w=this.parseNumberSkeletonFromString(v,h.styleLocation)).err?w:{val:{type:o.number,value:n,location:d,style:w.val},err:null};if(0===v.length)return this.error(r.EXPECT_DATE_TIME_SKELETON,d);var g={type:i.dateTime,pattern:v,location:h.styleLocation,parsedOptions:this.shouldParseSkeletons?_(v):{}};return{val:{type:"date"===l?o.date:o.time,value:n,location:d,style:g},err:null}}return{val:{type:"number"===l?o.number:"date"===l?o.date:o.time,value:n,location:d,style:null!==(c=null==h?void 0:h.style)&&void 0!==c?c:null},err:null};case"plural":case"selectordinal":case"select":var m=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(r.EXPECT_SELECT_ARGUMENT_OPTIONS,N(m,(0,a.pi)({},m)));this.bumpSpace();var y=this.parseIdentifierIfPossible(),b=0;if("select"!==l&&"offset"===y.value){if(!this.bumpIf(":"))return this.error(r.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,N(this.clonePosition(),this.clonePosition()));var w;if(this.bumpSpace(),(w=this.tryParseDecimalInteger(r.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,r.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return w;this.bumpSpace(),y=this.parseIdentifierIfPossible(),b=w.val}var E,x=this.tryParsePluralOrSelectOptions(t,l,e,y);if(x.err)return x;if((E=this.tryParseArgumentClose(s)).err)return E;var S=N(s,this.clonePosition());return"select"===l?{val:{type:o.select,value:n,options:H(x.val),location:S},err:null}:{val:{type:o.plural,value:n,options:H(x.val),offset:b,pluralType:"plural"===l?"cardinal":"ordinal",location:S},err:null};default:return this.error(r.INVALID_ARGUMENT_TYPE,N(u,f))}},t.prototype.tryParseArgumentClose=function(t){return this.isEOF()||125!==this.char()?this.error(r.EXPECT_ARGUMENT_CLOSING_BRACE,N(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,e=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(r.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,N(n,this.clonePosition()));this.bump();break;case 123:t+=1,this.bump();break;case 125:if(!(t>0))return{val:this.message.slice(e.offset,this.offset()),err:null};t-=1;break;default:this.bump()}}return{val:this.message.slice(e.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(t,e){var n=[];try{n=function(t){if(0===t.length)throw new Error("Number skeleton cannot be empty");for(var e=[],n=0,r=t.split(w).filter((function(t){return t.length>0}));n<r.length;n++){var o=r[n].split("/");if(0===o.length)throw new Error("Invalid number skeleton");for(var i=o[0],a=o.slice(1),s=0,c=a;s<c.length;s++)if(0===c[s].length)throw new Error("Invalid number skeleton");e.push({stem:i,options:a})}return e}(t)}catch(t){return this.error(r.INVALID_NUMBER_SKELETON,e)}return{val:{type:i.number,tokens:n,location:e,parsedOptions:this.shouldParseSkeletons?A(n):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(t,e,n,o){for(var i,a=!1,s=[],c=new Set,u=o.value,l=o.location;;){if(0===u.length){var f=this.clonePosition();if("select"===e||!this.bumpIf("="))break;var h=this.tryParseDecimalInteger(r.EXPECT_PLURAL_ARGUMENT_SELECTOR,r.INVALID_PLURAL_ARGUMENT_SELECTOR);if(h.err)return h;l=N(f,this.clonePosition()),u=this.message.slice(f.offset,this.offset())}if(c.has(u))return this.error("select"===e?r.DUPLICATE_SELECT_ARGUMENT_SELECTOR:r.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===u&&(a=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===e?r.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:r.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,N(this.clonePosition(),this.clonePosition()));var d=this.parseMessage(t+1,e,n);if(d.err)return d;var v=this.tryParseArgumentClose(p);if(v.err)return v;s.push([u,{value:d.val,location:N(p,this.clonePosition())}]),c.add(u),this.bumpSpace(),u=(i=this.parseIdentifierIfPossible()).value,l=i.location}return 0===s.length?this.error("select"===e?r.EXPECT_SELECT_ARGUMENT_SELECTOR:r.EXPECT_PLURAL_ARGUMENT_SELECTOR,N(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(r.MISSING_OTHER_CLAUSE,N(this.clonePosition(),this.clonePosition())):{val:s,err:null}},t.prototype.tryParseDecimalInteger=function(t,e){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,i=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;o=!0,i=10*i+(a-48),this.bump()}var s=N(r,this.clonePosition());return o?G(i*=n)?{val:i,err:null}:this.error(e,s):this.error(t,s)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var e=Y(this.message,t);if(void 0===e)throw Error("Offset "+t+" is at invalid UTF-16 code unit boundary");return e},t.prototype.error=function(t,e){return{val:null,err:{kind:t,message:this.message,location:e}}},t.prototype.bump=function(){if(!this.isEOF()){var t=this.char();10===t?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},t.prototype.bumpIf=function(t){if(W(this.message,t,this.offset())){for(var e=0;e<t.length;e++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(t){var e=this.offset(),n=this.message.indexOf(t,e);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset "+t+" must be greater than or equal to the current offset "+this.offset());for(t=Math.min(t,this.message.length);;){var e=this.offset();if(e===t)break;if(e>t)throw Error("targetOffset "+t+" is at invalid UTF-16 code unit boundary");if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&tt(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),e=this.offset(),n=this.message.charCodeAt(e+(t>=65536?2:1));return null!=n?n:null},t}();function Q(t){return t>=97&&t<=122||t>=65&&t<=90}function tt(t){return t>=9&&t<=13||32===t||133===t||t>=8206&&t<=8207||8232===t||8233===t}function et(t){return t>=33&&t<=35||36===t||t>=37&&t<=39||40===t||41===t||42===t||43===t||44===t||45===t||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||91===t||92===t||93===t||94===t||96===t||123===t||124===t||125===t||126===t||161===t||t>=162&&t<=165||166===t||167===t||169===t||171===t||172===t||174===t||176===t||177===t||182===t||187===t||191===t||215===t||247===t||t>=8208&&t<=8213||t>=8214&&t<=8215||8216===t||8217===t||8218===t||t>=8219&&t<=8220||8221===t||8222===t||8223===t||t>=8224&&t<=8231||t>=8240&&t<=8248||8249===t||8250===t||t>=8251&&t<=8254||t>=8257&&t<=8259||8260===t||8261===t||8262===t||t>=8263&&t<=8273||8274===t||8275===t||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||8608===t||t>=8609&&t<=8610||8611===t||t>=8612&&t<=8613||8614===t||t>=8615&&t<=8621||8622===t||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||8658===t||8659===t||8660===t||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||8968===t||8969===t||8970===t||8971===t||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||9001===t||9002===t||t>=9003&&t<=9083||9084===t||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||9655===t||t>=9656&&t<=9664||9665===t||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||9839===t||t>=9840&&t<=10087||10088===t||10089===t||10090===t||10091===t||10092===t||10093===t||10094===t||10095===t||10096===t||10097===t||10098===t||10099===t||10100===t||10101===t||t>=10132&&t<=10175||t>=10176&&t<=10180||10181===t||10182===t||t>=10183&&t<=10213||10214===t||10215===t||10216===t||10217===t||10218===t||10219===t||10220===t||10221===t||10222===t||10223===t||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||10627===t||10628===t||10629===t||10630===t||10631===t||10632===t||10633===t||10634===t||10635===t||10636===t||10637===t||10638===t||10639===t||10640===t||10641===t||10642===t||10643===t||10644===t||10645===t||10646===t||10647===t||10648===t||t>=10649&&t<=10711||10712===t||10713===t||10714===t||10715===t||t>=10716&&t<=10747||10748===t||10749===t||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||11158===t||t>=11159&&t<=11263||t>=11776&&t<=11777||11778===t||11779===t||11780===t||11781===t||t>=11782&&t<=11784||11785===t||11786===t||11787===t||11788===t||11789===t||t>=11790&&t<=11798||11799===t||t>=11800&&t<=11801||11802===t||11803===t||11804===t||11805===t||t>=11806&&t<=11807||11808===t||11809===t||11810===t||11811===t||11812===t||11813===t||11814===t||11815===t||11816===t||11817===t||t>=11818&&t<=11822||11823===t||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||11840===t||11841===t||11842===t||t>=11843&&t<=11855||t>=11856&&t<=11857||11858===t||t>=11859&&t<=11903||t>=12289&&t<=12291||12296===t||12297===t||12298===t||12299===t||12300===t||12301===t||12302===t||12303===t||12304===t||12305===t||t>=12306&&t<=12307||12308===t||12309===t||12310===t||12311===t||12312===t||12313===t||12314===t||12315===t||12316===t||12317===t||t>=12318&&t<=12319||12320===t||12336===t||64830===t||64831===t||t>=65093&&t<=65094}function nt(t){t.forEach((function(t){if(delete t.location,h(t)||p(t))for(var e in t.options)delete t.options[e].location,nt(t.options[e].value);else u(t)&&g(t.style)||(l(t)||f(t))&&m(t.style)?delete t.style.location:v(t)&&nt(t.children)}))}function rt(t,e){void 0===e&&(e={}),e=(0,a.pi)({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var n=new X(t,e).parse();if(n.err){var o=SyntaxError(r[n.err.kind]);throw o.location=n.err.location,o.originalMessage=n.err.message,o}return(null==e?void 0:e.captureLocation)||nt(n.val),n.val}},2017:(t,e,n)=>{"use strict";n.d(e,{Z:()=>Rt});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)};var a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var u=function(t){function e(e,n,r){var o=t.call(this,n)||this;return o.code=e,o.message=n,o.originError=r,o.name="StarlingError",o.code=e,o.message=n,o.originError=r,Error.captureStackTrace&&Error.captureStackTrace(o,o.constructor),o}return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),l={ERROR_CODE:103,ERROR_MESSAGE:"Request failed, confirm your apiKey and namespace is correct"},f={ERROR_CODE:110,ERROR_MESSAGE:"Check your params, parameter apiKey, namespace and zoneHost is required!"},h={ERROR_CODE:111,ERROR_MESSAGE:"Check your params, parameter request and store is required!"},p={ERROR_CODE:112,ERROR_MESSAGE:"Cache error!"},d={ERROR_CODE:120,ERROR_MESSAGE:"Version is not found, please check your param [version]!"},v={zone:"CN",locale:"zh",timeout:15e3,test:!1,mode:"normal",format:"merged",lazyUpdate:!1,fallbackLang:["zh"],tracker:function(){},cache:!0};var g=function(){function t(t){this.options=t,this.options=t}return t.prototype.getText=function(t,e){return s(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return[4,this._request(t,e)];case 1:return[2,n.sent()]}}))}))},t.prototype.getTexts=function(t){var e=this;return Promise.all(t.map((function(t){var n=t[0],r=t[1];return e.getText(n,r)})))},t.prototype._request=function(t,e){return s(this,void 0,void 0,(function(){var n,r,o,i,a,s,f,h,p,v,g,m,y,b,_,w;return c(this,(function(c){switch(c.label){case 0:return n=this.options.getReleaseVersion,r=n(t),t&&r&&e?[2,{}]:(o=this.getUrl(t,e),i=this.options,a=i.request,s=i.timeout,[4,a(o,{timeout:s})]);case 1:if(f=c.sent(),h=f.data,p=h.status,v=h.message,200==+p)return[2,this._mapResponse(v)];if(1001==+p)throw m=(g=d).ERROR_CODE,y=g.ERROR_MESSAGE,new u(m,y);throw _=(b=l).ERROR_CODE,w=b.ERROR_MESSAGE,new u(_,w)}}))}))},t.prototype.getUrl=function(t,e){var n=this.options,r=n.apiKey,o=n.locale,i=n.fallbackLang,a=n.zoneHost,s=n.mode,c=n.getReleaseVersion,u=[o].concat(i),l=a+"/check_and_get_text/"+r+"/"+s+"/"+t+"?lang="+u,f=c(t);return f&&(l=a+"/text_by_release_version/"+r+"/"+s+"/"+t+"/"+f+"?lang="+u),"string"==typeof e&&(l+="&version="+e),l},t.prototype._mapResponse=function(t){return t?Object.keys(t).reduce((function(e,n){return e[n.toLowerCase()]=t[n],e}),{}):{}},t}(),m=function(){function t(t){this.options=t,this.options=t}return t.prototype._setCache=function(t,e){try{return this.options.store.set(t,e)}catch(t){var n=p.ERROR_CODE;return void this.options.tracker("cache_error",{code:n,message:t.message,stack:t.stack})}},t.prototype._getCache=function(t){var e=this.options,n=e.store,r=e.cache;try{return r&&n.get(t)}catch(t){var o=p.ERROR_CODE;return void this.options.tracker("cache_error",{code:o,message:t.message,stack:t.stack})}},t.prototype.getVersion=function(t){var e=this.options,n="version."+e.apiKey+"."+t+"."+e.locale,r=(0,e.getReleaseVersion)(t);return r&&(n+="."+r),this.getText(t)?this._getCache(n):null},t.prototype.getVersions=function(t){var e=this;return Promise.all(t.map((function(t){return e.getVersion(t)})))},t.prototype.getText=function(t){var e=this.options,n="text."+e.apiKey+"."+t+"."+e.locale,r=(0,e.getReleaseVersion)(t);return r&&(n+="."+r),this._getCache(n)},t.prototype.getTexts=function(t){var e=this;return Promise.all(t.map((function(t){return e.getText(t)})))},t.prototype.refresh=function(t,e,n,r){return s(this,void 0,void 0,(function(){var o,i,a,s,u,l=this;return c(this,(function(c){switch(c.label){case 0:return o=this.options,i=o.apiKey,a=o.getReleaseVersion,s=o.cache,u=[],e.forEach((function(o,c){var f="text."+i+"."+t[c]+"."+r[c],h="version."+i+"."+t[c]+"."+r[c],p=a(t[c]);p&&(f+="."+p,h+="."+p),s&&(u.push(l._setCache(f,e[c])),u.push(l._setCache(h,n[c])))})),[4,Promise.all(u)];case 1:return c.sent(),[2,e.reduce((function(t,e){return Object.assign(t,e)}),{})]}}))}))},t}();var y=function(){function t(t){void 0===t&&(t=[]),this._list=[],this._list=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),t.prototype.getList=function(){return this._list},t.prototype.getNamespaces=function(){return this._list.map((function(t){return t.namespace}))},t.prototype.addNamespace=function(t){this._list.push(t)},t.prototype.insertTexts=function(t){this._list.forEach((function(e,n){e.texts=t[n]}))},t.prototype.sortByPrior=function(){return this._list.sort((function(t,e){return t.prior-e.prior})),this._list},t.prototype.concat=function(e){return new t(this._list.concat(e.getList()))},t}(),b=function(){function t(t,e,n){this._promiseRefresh=Promise.resolve(null),this.remote=t,this.local=e,this.options=n}return t.prototype._checkVersions=function(t){return s(this,void 0,void 0,(function(){var e,n,r,o,i,a;return c(this,(function(s){switch(s.label){case 0:return e=this.options.locale,[4,this.local.getVersions(t)];case 1:return n=s.sent(),r=t.map((function(t,e){return[t,n[e]]})),[4,this.remote.getTexts(r)];case 2:return o=s.sent(),i=new y,a=new y,t.forEach((function(t,r){var s=o[r],c=s.updated,u=s.version,l=s.data,f=s.lang;c?a.addNamespace({namespace:t,prior:r,version:u,texts:l,lang:f}):i.addNamespace({namespace:t,prior:r,version:n[r],lang:e})})),[2,{equalNs:i,diffNs:a}]}}))}))},t.prototype.waitForRefresh=function(){return this._promiseRefresh},t.prototype._refresh=function(t){var e=t.getList(),n=[],r=[],o=[],i=[];return e.forEach((function(t){n.push(t.namespace),r.push(t.version),o.push(t.texts),i.push(t.lang)})),this.local.refresh(n,o,r,i)},t.prototype._getLocalTexts=function(t){return s(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,this.local.getTexts(t.getNamespaces())];case 1:return e=n.sent(),t.insertTexts(e),[2,e]}}))}))},t.prototype.load=function(t){return s(this,void 0,void 0,(function(){var e,n,r,o,i;return c(this,(function(a){switch(a.label){case 0:return e=this.options.format,[4,this._checkVersions(t)];case 1:return n=a.sent(),r=n.equalNs,o=n.diffNs,r.length?[4,this._getLocalTexts(r)]:[3,3];case 2:return a.sent(),[3,4];case 3:a.label=4;case 4:return i=this._formatTexts(e,o.concat(r)),o.length?[4,this._refresh(o)]:[3,6];case 5:a.sent(),a.label=6;case 6:return[2,{texts:i,diffNs:o.getNamespaces(),equalNs:r.getNamespaces()}]}}))}))},t.prototype._getCacheText=function(t){return s(this,void 0,void 0,(function(){var e,n,r,o,i,a,s;return c(this,(function(c){switch(c.label){case 0:return e=this.options,n=e.locale,r=e.format,[4,this.local.getTexts(t)];case 1:return o=c.sent(),[4,this.local.getVersions(t)];case 2:return i=c.sent(),a=o.map((function(e,r){if(e)return{namespace:t[r],version:i[r],lang:n,texts:e}})).filter((function(t){return!!t})),s=new y(a),[2,this._formatTexts(r,s)]}}))}))},t.prototype.lazyLoad=function(t){return s(this,void 0,void 0,(function(){var e,n,r;return c(this,(function(o){switch(o.label){case 0:return[4,this._getCacheText(t)];case 1:return e=o.sent(),n=0===Object.keys(e).length,this._promiseRefresh=this.load(t),n?[4,this._promiseRefresh]:[3,3];case 2:r=o.sent(),e=r.texts,o.label=3;case 3:return[2,{texts:e,diffNs:n?r&&r.diffNs:[],equalNs:n?r&&r.equalNs:t}]}}))}))},t.prototype._formatTexts=function(t,e){if("splitted"===t)return e.getList().reduce((function(t,e){var n=e.namespace,r=e.lang,o=e.texts,i=e.version;return t[n]={lang:r,texts:o,version:i},t}),{});var n,r,o=e.sortByPrior().map((function(t){return t.texts}));return n=o,(r?n.concat(r):n).reduce((function(t,e){return Object.assign(t,e)}),{})},t}();"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},writable:!0,configurable:!0});var _,w="client_exception",E="client_load",x="client_cache",S="client_load_time";!function(t){t.AfterLoad="afterLoad"}(_||(_={}));var k=function(){function t(t){this.afterLoadPlugins=[],this.setConfig(t)}return t.prototype._init=function(t){var e=this;this.options=function(t){var e=(t=Object.assign({},v,t)).namespace,n=t.apiKey,r=t.request,o=t.store,i=t.zoneHost;if(t.test&&(t.mode="test"),t.namespace=e=e?Array.isArray(e)?e:[e]:[],t.apiKey=n=n||t.api_key,!r||!o){var a=h,s=a.ERROR_CODE,c=a.ERROR_MESSAGE;throw new u(s,c,null)}if(!n||!e.length||!i){var l=f;throw s=l.ERROR_CODE,c=l.ERROR_MESSAGE,new u(s,c,null)}return t}(t);var n=this.options,r=n.apiKey,o=n.locale,i=n.zoneHost,s=n.request,c=n.timeout,l=n.fallbackLang,p=n.store,d=n.lazyUpdate,y=n.test,_=n.mode,w=n.format,E=n.cache,x={mode:d?"lazy":y?"test":"prod",zone:i,locale:o,apiKey:r};this._tracker=function(t,n){try{e.options.tracker(t,a(a({},x),n))}catch(t){}};var S=this._getReleaseVersionByNamespace.bind(this),k=new g({request:s,timeout:c,apiKey:r,locale:o,zoneHost:i,fallbackLang:l,mode:_,getReleaseVersion:S}),O=new m({apiKey:r,locale:o,store:p,tracker:this._tracker,getReleaseVersion:S,cache:E});this._textManager=new b(k,O,{locale:o,format:w}),this.initPlugin()},t.prototype.initPlugin=function(){var t=this,e=this.options.plugins||[];Array.isArray(e)&&e.every((function(t){return"object"==typeof t}))&&e.forEach((function(e){e.type===_.AfterLoad&&t.afterLoadPlugins.push(e)}))},t.prototype._getReleaseVersionByNamespace=function(t){var e=this.options.namespace,n=this.options.version,r=null;if(Array.isArray(n)){var o=e.findIndex((function(e){return e===t}));r=n[o]}else n&&"object"==typeof n?r=n[t]:"string"==typeof n&&(r=n);return r},t.prototype.setConfig=function(t){var e=Object.assign({},this.options,t);this._init(e)},t.prototype.waitForRefresh=function(){return s(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return[4,this._textManager.waitForRefresh()];case 1:return[2,(t=e.sent())?t.texts:null]}}))}))},t.prototype._load=function(){return s(this,void 0,void 0,(function(){var t,e,n,r,o;return c(this,(function(i){switch(i.label){case 0:return t=this.options,e=t.namespace,n=t.lazyUpdate,r=e,n?[4,this._textManager.lazyLoad(r)]:[3,2];case 1:return o=i.sent(),[3,4];case 2:return[4,this._textManager.load(r)];case 3:o=i.sent(),i.label=4;case 4:return[2,o]}}))}))},t.prototype.load=function(t,e){return s(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,l,f,h,p,d,v,g,m=this;return c(this,(function(c){switch(c.label){case 0:n=Date.now(),r=this.options.namespace,c.label=1;case 1:return c.trys.push([1,5,,10]),this._tracker(E,{state:"start",version:"0.5.9"}),[4,this._load()];case 2:return o=c.sent(),i=o.diffNs,a=o.equalNs,s=o.texts,u=this.afterLoadPlugins,Array.isArray(u)&&u.length?[4,u.reduce((function(t,e){return t.then((function(t){return"function"==typeof e.process?e.process(t||s,m.options):t}))}),Promise.resolve(s))]:[3,4];case 3:l=c.sent(),s=l||s,c.label=4;case 4:return t&&t(s),this._tracker(S,{time:Date.now()-n}),this._tracker(E,{state:"success",version:"0.5.9"}),f=i.length,h=a.length,p=r.length,d=(h/p).toFixed(2),this._tracker(x,{diffLen:f,diff:i.join(","),equalLen:h,equal:a.join(","),namespaces:a.join(","),namespacesLen:p,ratio:d}),[2,s];case 5:if(v=c.sent(),this._tracker(E,{state:"fail"}),this._tracker(w,{code:v.code,message:v.message,stack:v.stack}),!(v||{}).useWebCache)return[3,9];c.label=6;case 6:return c.trys.push([6,8,,9]),[4,this._textManager._getCacheText(r)];case 7:return g=c.sent(),v.response.data=g&&"object"==typeof g?g:{},[3,9];case 8:return c.sent(),[3,9];case 9:return e?(e(v),[3,10]):[2,Promise.reject(v)];case 10:return[2]}}))}))},t}();var O=new(function(){function t(){}return t.prototype.get=function(t){if(localStorage&&localStorage.getItem)return function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}}(localStorage.getItem(t))},t.prototype.set=function(t,e){localStorage&&localStorage.setItem&&localStorage.setItem(t,function(t){return JSON.stringify(t)}(e))},t}()),T=function(t){function e(e,n,r,o,i,a){var s=t.call(this,e)||this;return s.url=n,s.code=r,s.request=o,s.response=i,s.useWebCache=a,s.url=n,s.code=r,s.request=o,s.response=i,s.useWebCache=!!a,s}return o(e,t),e}(Error);function j(t,e){var n=e.timeout;return new Promise((function(e,r){var o=new XMLHttpRequest;o.open("GET",t),o.overrideMimeType("application/json; charset=utf-8"),o.withCredentials=!1,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var n=function(t){try{return JSON.parse(t)}catch(t){return{}}}(o.responseText),i=function(t){return t.message&&"object"==typeof t.message?t:null}(n);if(o.status<200||o.status>=300||!i)return function(t,e,n,r){var o=(r||{}).message||"";o=o?", reason is: ".concat(o):"",e(new T("Request failed with status code "+t.status+o,n,null,t,{data:{}},!0))}(o,r,t,n),void(o=null);var a={data:i,status:o.status,statusText:o.statusText,request:o};e(a),o=null}},o.onerror=function(){r(new T("Network Error",t,null,o,{data:{}},!0)),o=null},o.timeout=n,o.ontimeout=function(){r(new T("timeout of "+n+"ms exceeded",t,"ECONNABORTED",o,{data:{}},!0)),o=null},o.send()}))}var C=function(t){function e(e){return e.store||(e.store=O),e.request||(e.request=j),t.call(this,e)||this}return o(e,t),e}(k),L=function(){return(L=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function A(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function I(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(A(arguments[e]));return t}var P,N,R,D,M=function(){function t(){this._hooks={},this._cache=[],this._hooksCache={}}return t.prototype.on=function(t,e){t&&e&&"function"==typeof e&&(this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(e))},t.prototype.once=function(t,e){var n=this;t&&e&&"function"==typeof e&&this.on(t,(function r(o){e(o),n.off(t,r)}))},t.prototype.off=function(t,e){if(t&&this._hooks[t]&&this._hooks[t].length)if(e){var n=this._hooks[t].indexOf(e);-1!==n&&this._hooks[t].splice(n,1)}else this._hooks[t]=[]},t.prototype.emit=function(t,e,n){if(n){if(!t)return;-1!==this._cache.indexOf(n)?this._emit(t,e):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(t)||(this._hooksCache[n][t]=[]),this._hooksCache[n][t].push(e))}else this._emit(t,e)},t.prototype._emit=function(t,e){t&&this._hooks[t]&&this._hooks[t].length&&I(this._hooks[t]).forEach((function(t){try{t(e)}catch(t){}}))},t.prototype.set=function(t){t&&-1===this._cache.indexOf(t)&&this._cache.push(t)},t}(),F=function(t){return null!=t&&"[object Object]"==Object.prototype.toString.call(t)},U=(P=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return P+=1}),z=function(t){return function(t,e,n){if("string"==typeof t&&"number"==typeof n){var r,o=[];n=n<=25?n:n%25;var i=String.fromCharCode(n+97);r=t.split(i);for(var a=0;a<r.length;a++){var s=parseInt(r[a],n);s=1*s^64;var c=String.fromCharCode(s);o.push(c)}return o.join("")}}(t,0,25)},G=function(t){var e=document.createElement("a");return e.href=t,e},B=function(t){var e={};try{var n=G(t).search;(n=n.slice(1)).split("&").forEach((function(t){var n,r,o=t.split("=");o.length&&(n=o[0],r=o[1]);try{e[n]=decodeURIComponent(void 0===r?"":r)}catch(t){e[n]=r}}))}catch(t){}return e},q=function(t){for(var e=0,n=0,r=(t+="").length,o=0;o<r;o++)((e=31*e+t.charCodeAt(n++))>0x7fffffffffff||e<-0x800000000000)&&(e&=0xffffffffffff);return e<0&&(e+=0x7ffffffffffff),e},W=(function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=e+"="+n+s}}function a(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=e(s[0]);if(c=(r.read||r)(c,u)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(o[u]=c,t===u)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return a(t,!1)},o.getJSON=function(t){return a(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},t.exports=n()}(N={exports:{}}),N.exports),V=function(t,e){try{return W.get(t,{domain:e||document.domain})}catch(t){return""}},H=function(t,e,n,r){try{var o=r||document.domain,i=+new Date+(n||6048e5);W.set(t,e,{expires:new Date(i),path:"/",domain:o})}catch(t){}},Y=function(){function t(){this.cache={}}return t.prototype.setItem=function(t,e){this.cache[t]=e},t.prototype.getItem=function(t){return this.cache[t]},t.prototype.removeItem=function(t){this.cache[t]=void 0},t.prototype.getCookie=function(t,e){return V(t,e)},t.prototype.setCookie=function(t,e,n,r){H(t,e,n,r)},t}(),K={getItem:function(t){try{var e=localStorage.getItem(t),n=e;try{e&&"string"==typeof e&&(n=JSON.parse(e))}catch(t){}return n||{}}catch(t){}return{}},setItem:function(t,e){try{var n="string"==typeof e?e:JSON.stringify(e);localStorage.setItem(t,n)}catch(t){}},removeItem:function(t){try{localStorage.removeItem(t)}catch(t){}},getCookie:function(t,e){return V(t,e)},setCookie:function(t,e,n,r){H(t,e,n,r)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(t){return!1}}()},J={getItem:function(t){try{var e=sessionStorage.getItem(t),n=e;try{e&&"string"==typeof e&&(n=JSON.parse(e))}catch(t){}return n||{}}catch(t){}return{}},setItem:function(t,e){try{var n="string"==typeof e?e:JSON.stringify(e);sessionStorage.setItem(t,n)}catch(t){}},removeItem:function(t){try{sessionStorage.removeItem(t)}catch(t){}},getCookie:function(t,e){return V(t,e)},setCookie:function(t,e,n,r){H(t,e,n,r)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(t){return!1}}()},Z=function(){function t(t,e){this._storage=e&&"session"===e?J:!t&&K.isSupportLS?K:new Y}return t.prototype.getItem=function(t){return this._storage.getItem(t)},t.prototype.setItem=function(t,e){this._storage.setItem(t,e)},t.prototype.getCookie=function(t,e){return this._storage.getCookie(t,e)},t.prototype.setCookie=function(t,e,n,r){this._storage.setCookie(t,e,n,r)},t.prototype.removeItem=function(t){this._storage.removeItem(t)},t}(),$=function(){function t(t,e,n){this.appid=t,this.domain=e,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return t.prototype.init=function(){var t=window.navigator.userAgent,e=window.navigator.language,n=document.referrer,r=n?G(n).hostname:"",o=B(window.location.href),i=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(t,e,n,r){var o=new Z(!1),i=new Z(!1,"session"),a=t?"_tea_utm_cache_"+t:"_tea_utm_cache",s=t?"_$utm_from_url_"+t:"_$utm_from_url",c={},u=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],l={ad_id:Number(e.ad_id)||void 0,campaign_id:Number(e.campaign_id)||void 0,creative_id:Number(e.creative_id)||void 0,utm_source:e.utm_source,utm_medium:e.utm_medium,utm_campaign:e.utm_campaign,utm_term:e.utm_term,utm_content:e.utm_content,tr_shareuser:e.tr_shareuser,tr_admaster:e.tr_admaster,tr_param1:e.tr_param1,tr_param2:e.tr_param2,tr_param3:e.tr_param3,tr_param4:e.tr_param4};try{var f=!1;for(var h in l)l[h]&&(-1!==u.indexOf(h)?(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data[h]=l[h]):c[h]=l[h],f=!0);if(f)i.setItem(s,"1"),o.setCookie(a,JSON.stringify(c),r,n);else{var p=o.getCookie(a,n);p&&(c=JSON.parse(p))}i.getItem(s)&&(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data.$utm_from_url=1)}catch(t){return l}return c}(this.appid,o,this.domain,this.cookie_expire);var a=this.browser(),s=this.os();return{browser:a.browser,browser_version:a.browser_version,platform:i,os_name:s.os_name,os_version:s.os_version,userAgent:t,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(s.os_name),language:e,referrer:n,referrer_host:r,utm:this.utm,latest_data:this.last(n,r)}},t.prototype.last=function(t,e){var n="",r="",o="",i=location.hostname,a=!1;if(t&&e&&i!==e){n=t,r=e,a=!0;var s=B(t);s.keyword&&(o=s.keyword)}return{$latest_referrer:n,$latest_referrer_host:r,$latest_search_keyword:o,isLast:a}},t.prototype.browser=function(){var t,e,n="",r=""+parseFloat(this.appVersion),o=this.userAgent;return-1!==o.indexOf("Edge")||-1!==o.indexOf("Edg")?(n="Microsoft Edge",-1!==o.indexOf("Edge")?(t=o.indexOf("Edge"),r=o.substring(t+5)):(t=o.indexOf("Edg"),r=o.substring(t+4))):-1!==(t=o.indexOf("MSIE"))?(n="Microsoft Internet Explorer",r=o.substring(t+5)):-1!==(t=o.indexOf("Lark"))?(n="Lark",r=o.substring(t+5,t+11)):-1!==o.indexOf("Chrome")?-1!==(t=o.indexOf("TTWebView"))?(n="TTWebView",r=o.substring(t+10,t+23)):(-1!==(t=o.indexOf("Chrome"))||-1!==(t=o.indexOf("Chrome")))&&(n="Chrome",r=o.substring(t+7)):-1!==o.indexOf("Safari")?-1!==(t=o.indexOf("Safari"))&&(n="Safari",r=o.substring(t+7),-1!==(t=o.indexOf("Version"))&&(r=o.substring(t+8))):-1!==(t=o.indexOf("Firefox"))&&(n="Firefox",r=o.substring(t+8)),-1!==(e=r.indexOf(";"))&&(r=r.substring(0,e)),-1!==(e=r.indexOf(" "))&&(r=r.substring(0,e)),-1!==(e=r.indexOf(")"))&&(r=r.substring(0,e)),{browser:n,browser_version:r}},t.prototype.os=function(){for(var t="",e="",n=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],r=0;r<n.length;r++){var o=n[r];if(o.r.test(this.userAgent)){"Mac OS X"===(t=o.s)&&this.isNewIpad()&&(t="iOS");break}}var i,a,s=function(t,e){var n=t.exec(e);return n&&n[1]?n[1]:""},c=function(t,e){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+t+")","i").exec(e);return n?n.slice(1)[0]:""};switch(/Windows/.test(t)&&(e=s(/Windows (.*)/,t),t="windows"),t){case"Mac OS X":e=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),t="mac";break;case"Android":(a=s(/Android ([\.\_\d]+)/,i=this.userAgent))||(a=s(/Android\/([\.\_\d]+)/,i)),e=a,t="android";break;case"iOS":e=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(e=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?e[1]+"."+e[2]+"."+(0|e[3]):"",t="ios"}return{os_name:t,os_version:e}},t.prototype.getDeviceModel=function(t){var e="";try{if("android"===t)navigator.userAgent.split(";").forEach((function(t){t.indexOf("Build/")>-1&&(e=t.slice(0,t.indexOf("Build/")))}));else if("ios"===t||"mac"===t||"windows"===t)if(this.isNewIpad())e="iPad";else{var n=navigator.userAgent.replace("Mozilla/5.0 (",""),r=n.indexOf(";");e=n.slice(0,r)}}catch(t){return e.trim()}return e.trim()},t.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},t}(),X={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},Q={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},tt={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k"},et={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz4az1az1mz1k"},nt="5.0.39_oversea",rt=function(){function t(t,e){this.collector=t,this.config=e,this.eventNameWhiteList=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure"],this.paramsNameWhiteList=["$inactive","$inline","$target_uuid_list","$source_uuid","$is_spider","$source_id","$is_first_time","_staging_flag"],this.regStr=new RegExp("^[a-zA-Z0-9][a-z0-9A-Z_.-]{1,255}$")}return t.prototype.checkVerify=function(t){var e=this;if(!t||!t.length)return!1;var n=t[0];if(!n)return!1;var r=n.events,o=n.header;if(!r||!r.length)return!1;var i=!0;return r.forEach((function(t){if(!t)return i=!1,void(t.checkEvent="事件异常");e.checkEventName(t.event)||(i=!1,t.checkEvent="事件名不能以 $ or __开头"),e.checkEventParams(t.params)||(i=!1,t.checkParams="属性名不能以 $ or __开头")})),this.checkEventParams(o)||(i=!1),i},t.prototype.checkEventName=function(t){return!!t&&this.calculate(t,"event")},t.prototype.checkEventParams=function(t){var e=t;if("string"==typeof t&&(e=JSON.parse(e)),!Object.keys(e).length)return!0;for(var n in e)return!(!this.calculate(n,"params")||"string"==typeof e[n]&&e[n].length>1024&&(console.warn("params: "+n+" can not over 1024 byte, please check;"),1));return!0},t.prototype.calculate=function(t,e){return-1!==("event"===e?this.eventNameWhiteList:this.paramsNameWhiteList).indexOf(t)||!new RegExp("^\\$").test(t)&&!new RegExp("^__").test(t)||(console.warn(("event"===e?"event":"params")+" name: "+t+" can not start with $ or __, pleace check;"),!1)},t}();!function(t){t.Init="init",t.Config="config",t.Start="start",t.Ready="ready",t.TokenComplete="token-complete",t.TokenStorage="token-storage",t.TokenFetch="token-fetch",t.TokenError="token-error",t.ConfigUuid="config-uuid",t.ConfigWebId="config-webid",t.ConfigDomain="config-domain",t.CustomWebId="custom-webid",t.TokenChange="token-change",t.TokenReset="token-reset",t.ConfigTransform="config-transform",t.EnvTransform="env-transform",t.SessionReset="session-reset",t.SessionResetTime="session-reset-time",t.Event="event",t.Events="events",t.EventNow="event-now",t.CleanEvents="clean-events",t.BeconEvent="becon-event",t.SubmitBefore="submit-before",t.SubmitScuess="submit-scuess",t.SubmitAfter="submit-after",t.SubmitError="submit-error",t.SubmitVerify="submit-verify",t.Stay="stay",t.ResetStay="reset-stay",t.StayReady="stay-ready",t.SetStay="set-stay",t.RouteChange="route-change",t.RouteReady="route-ready",t.Ab="ab",t.AbVar="ab-var",t.AbAllVars="ab-all-vars",t.AbConfig="ab-config",t.AbExternalVersion="ab-external-version",t.AbVersionChangeOn="ab-version-change-on",t.AbVersionChangeOff="ab-version-change-off",t.AbOpenLayer="ab-open-layer",t.AbCloseLayer="ab-close-layer",t.AbReady="ab-ready",t.AbComplete="ab-complete",t.AbTimeout="ab-timeout",t.Profile="profile",t.ProfileSet="profile-set",t.ProfileSetOnce="profile-set-once",t.ProfileUnset="profile-unset",t.ProfileIncrement="profile-increment",t.ProfileAppend="profile-append",t.ProfileClear="profile-clear",t.Autotrack="autotrack",t.AutotrackReady="autotrack-ready",t.CepReady="cep-ready",t.TracerReady="tracer-ready",t.sessionRecord="session-record",t.SessionRecordStart="session-record-start",t.SessionRecordPause="session-record-pause",t.SessionRecordEnd="session-record-end",t.SessionRecordReport="session-record-report"}(R||(R={})),function(t){t.DEBUGGER_MESSAGE="debugger-message",t.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",t.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",t.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",t.DEBUGGER_MESSAGE_EVENT="debugger-message-event",t.DEVTOOL_WEB_READY="devtool-web-ready"}(D||(D={}));var ot=R,it=void 0,at=(new Date).getTimezoneOffset(),st=parseInt(""+-at/60,10),ct=60*at,ut=function(){function t(t,e){this.is_first_time=!0,this.configPersist=!1,this.initConfig=e,this.collect=t;var n=new $(e.app_id,e.cookie_domain||"",e.cookie_expire||6048e5).init();this.eventCheck=new rt(t,e);var r="__tea_cache_first_"+e.app_id;this.configKey="__tea_cache_config_"+e.app_id,this.sessionStorage=new Z(!1,"session"),this.localStorage=new Z(!1,"local"),this.channelUrl="tcpy"===e.channel_type||"ttp"===e.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},e.configPersist&&(this.configPersist=!0,this.storage=1===e.configPersist?this.sessionStorage:this.localStorage);var o=this.localStorage.getItem(r);o&&1==o?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(r,"1")),this.envInfo={user:{user_unique_id:it,user_type:it,user_id:it,user_is_auth:it,user_is_login:it,device_id:it,web_id:it,ip_addr_id:it,user_unique_id_type:it},header:{app_id:it,app_name:it,app_install_id:it,install_id:it,app_package:it,app_channel:it,app_version:it,ab_version:it,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:it,traffic_type:it,client_ip:it,device_brand:it,os_api:it,access:it,language:n.language,region:it,app_language:it,app_region:it,creative_id:n.utm.creative_id,ad_id:n.utm.ad_id,campaign_id:n.utm.campaign_id,log_type:it,rnd:it,platform:n.platform,sdk_version:nt,sdk_lib:"js",province:it,city:it,timezone:st,tz_offset:ct,tz_name:it,sim_region:it,carrier:it,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm.utm_term,utm_content:n.utm.utm_content,utm_source:n.utm.utm_source,utm_medium:n.utm.utm_medium,utm_campaign:n.utm.utm_campaign,tracer_data:JSON.stringify(n.utm.tracer_data),custom:{},wechat_unionid:it,wechat_openid:it}},this.ab_version="",this.ab_uuid_cache={},this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(n),this.initDomain(),this.initABData()}return t.prototype.initDomain=function(t){var e=this.initConfig.channel_domain;if(e)this.domain=e;else{var n=t||this.initConfig.channel,r=this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?tt[n]:et[n]:X[n];this.domain=z(r)}},t.prototype.setDomain=function(t){this.customDomain=!0,this.domain=t},t.prototype.getDomain=function(t){return this.customDomain||t&&this.initDomain(t),this.domain},t.prototype.initABData=function(){var t="__tea_sdk_ab_version_"+this.initConfig.app_id,e=null;if(this.initConfig.ab_cross){var n=this.localStorage.getCookie(t,this.initConfig.ab_cookie_domain);e=n?JSON.parse(n):null}else e=this.localStorage.getItem(t);this.setAbCache(e)},t.prototype.setAbCache=function(t){this.ab_cache=t},t.prototype.getAbCache=function(){return this.ab_cache},t.prototype.clearAbCache=function(){this.ab_cache={},this.ab_version=""},t.prototype.setAbVersion=function(t){this.ab_version=t},t.prototype.getAbVersion=function(){return this.ab_version},t.prototype.setAbUuidCache=function(t,e){var n=e||this.envInfo.user.user_unique_id;this.ab_uuid_cache[""+n]||(this.ab_uuid_cache[""+n]=[]),-1===this.ab_uuid_cache[""+n].indexOf(t)&&this.ab_uuid_cache[""+n].push(t)},t.prototype.getAbUuidCache=function(t){return this.ab_uuid_cache[""+t]},t.prototype.getUrl=function(t){var e="";switch(t){case"event":e=this.initConfig.report_url||this.channelUrl.REPORT_URL;break;case"webid":e=this.channelUrl.WEBID_URL;break;case"tobid":e=this.channelUrl.TOB_URL}var n="";return this.initConfig.caller&&(n="?sdk_version="+nt+"&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+e+n},t.prototype.setCustom=function(t){if(t&&t.latest_data&&t.latest_data.isLast)for(var e in delete t.latest_data.isLast,this.isLast=!0,t.latest_data)this.envInfo.header.custom[e]=t.latest_data[e]},t.prototype.setAppid=function(t){this.envInfo.header.app_id=t},t.prototype.set=function(t){var e=this;Object.keys(t).forEach((function(n){void 0!==t[n]&&null!==t[n]||e.delete(n);try{e.eventCheck.calculate(n,"config")}catch(t){}if("traffic_type"===n&&e.isLast&&(e.envInfo.header.custom.$latest_traffic_source_type=t[n]),"evtParams"===n)e.evtParams=L({},e.evtParams||{},t.evtParams||{});else if("_staging_flag"===n)e.evtParams=L({},e.evtParams||{},{_staging_flag:t._staging_flag});else if("reportErrorCallback"===n&&"function"==typeof t[n])e.reportErrorCallback=t[n];else{var r="",o="";if(n.indexOf(".")>-1){var i=n.split(".");r=i[0],o=i[1]}r?"user"===r||"header"===r?e.envInfo[r][o]=t[n]:e.envInfo.header.custom[o]=t[n]:Object.hasOwnProperty.call(e.envInfo.user,n)?["user_type","ip_addr_id"].indexOf(n)>-1?e.envInfo.user[n]=t[n]?Number(t[n]):t[n]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(n)>-1?e.envInfo.user[n]=t[n]?String(t[n]):t[n]:["user_is_auth","user_is_login"].indexOf(n)>-1?e.envInfo.user[n]=Boolean(t[n]):"device_id"===n&&(e.envInfo.user[n]=t[n]):Object.hasOwnProperty.call(e.envInfo.header,n)?e.envInfo.header[n]=t[n]:e.envInfo.header.custom[n]=t[n]}}))},t.prototype.get=function(t){try{return t?"evtParams"===t?this.evtParams:"reportErrorCallback"===t?this[t]:Object.hasOwnProperty.call(this.envInfo.user,t)?this.envInfo.user[t]:Object.hasOwnProperty.call(this.envInfo.header,t)?this.envInfo.header[t]:JSON.parse(JSON.stringify(this.envInfo[t])):JSON.parse(JSON.stringify(this.envInfo))}catch(t){this.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message})}},t.prototype.setStore=function(t){try{if(!this.configPersist)return;var e=this.storage.getItem(this.configKey)||{};if(e&&Object.keys(t).length){var n=Object.assign(t,e);this.storage.setItem(this.configKey,n)}}catch(t){this.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message})}},t.prototype.getStore=function(){try{if(!this.configPersist)return null;var t=this.storage.getItem(this.configKey)||{};return t&&Object.keys(t).length?t:null}catch(t){return this.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message}),null}},t.prototype.delete=function(t){try{if(!this.configPersist)return;var e=this.storage.getItem(this.configKey)||{};e&&Object.hasOwnProperty.call(e,t)&&(delete e[t],this.storage.setItem(this.configKey,e))}catch(t){this.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message})}},t}(),lt=function(){function t(t,e){this.isLog=e||!1,this.name=t||""}return t.prototype.info=function(t){this.isLog&&this.name},t.prototype.warn=function(t){this.isLog&&console.warn("[instance: "+this.name+"] "+t)},t.prototype.error=function(t){this.isLog&&console.error("[instance: "+this.name+"] "+t)},t.prototype.throw=function(t){throw this.error(this.name),new Error(t)},t}(),ft=function(){function t(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Sogou News Spider","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return t.prototype.checkSpider=function(t){if(!t.enable_spider)return!1;var e=window.navigator.userAgent;if(!e)return!0;var n=!1;return this.spiderBot.forEach((function(t){-1!==e.indexOf(t)&&(n=!0)})),n},t}(),ht=function(){function t(t,e){this.collect=t,this.native=e}var e=t.prototype;return e.bridgeInject=function(){try{return!!this.native&&!!AppLogBridge}catch(t){return!1}},e.bridgeReady=function(){var t=this;return new Promise((function(e,n){try{t.bridgeInject()?AppLogBridge.hasStarted((function(t){t?e(!0):n(!1)})):n(!1)}catch(t){JSON.stringify(t.stack),n(!1)}}))},e.setNativeAppId=function(t){try{AppLogBridge.setNativeAppId(JSON.stringify(t))}catch(t){console.error("setNativeAppId error")}},e.setConfig=function(t){var e=this;try{Object.keys(t).forEach((function(n){"user_unique_id"===n?e.setUserUniqueId(t[n]):t[n]?e.addHeaderInfo(n,t[n]):e.removeHeaderInfo(n)}))}catch(t){console.error("setConfig error")}},e.setUserUniqueId=function(t){try{AppLogBridge.setUserUniqueId(t)}catch(t){console.error("setUserUniqueId error")}},e.addHeaderInfo=function(t,e){try{AppLogBridge.addHeaderInfo(t,e)}catch(t){console.error("addHeaderInfo error")}},e.setHeaderInfo=function(t){try{AppLogBridge.setHeaderInfo(JSON.stringify(t))}catch(t){console.error("setHeaderInfo error")}},e.removeHeaderInfo=function(t){try{AppLogBridge.removeHeaderInfo(t)}catch(t){console.error("removeHeaderInfo error")}},e.reportPv=function(t){this.onEventV3("predefine_pageview",t)},e.onEventV3=function(t,e){try{AppLogBridge.onEventV3(t,e),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge埋点上报",time:Date.now(),data:[{events:[{event:t,params:e}]}],code:200,status:"success"})}catch(t){console.error("onEventV3 error")}},e.profileSet=function(t){try{AppLogBridge.profileSet(t)}catch(t){console.error("profileSet error")}},e.profileSetOnce=function(t){try{AppLogBridge.profileSetOnce(t)}catch(t){console.error("profileSetOnce error")}},e.profileIncrement=function(t){try{AppLogBridge.profileIncrement(t)}catch(t){console.error("profileIncrement error")}},e.profileUnset=function(t){try{AppLogBridge.profileUnset(t)}catch(t){console.error("profileUnset error")}},e.profileAppend=function(t){try{AppLogBridge.profileAppend(t)}catch(t){console.error("profileAppend error")}},t}(),pt=500,dt=5005;function vt(t,e,n,r,o,i,a,s,c){try{var u=new XMLHttpRequest,l=s||"POST";u.open(l,""+t,!0),u.setRequestHeader("Content-Type","application/json; charset=utf-8"),a&&u.setRequestHeader("X-MCS-AppKey",""+a),r&&(u.withCredentials=!0),u.onload=function(){if(o){var t=null;if(u.responseText){try{t=JSON.parse(u.responseText)}catch(e){t={}}o(t,e)}}},n&&(u.timeout=n,u.ontimeout=function(){i&&i(e,dt)}),u.onerror=function(){u.abort(),i&&i(e,pt)},c?u.send(e):u.send(JSON.stringify(e))}catch(t){}}var gt=function(t,e,n,r){try{var o,i=t.match(/\/v\d\//);o=i?i[0]:-1!==t.indexOf("/v1/")?"/v1/":"/v2/";var a=t.split(o)[0];if(!a)return void r(t,e,4001);e.forEach((function(o){var i=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(e+="&"+n+"="+encodeURIComponent(JSON.stringify(t[n])));return"&"===e[0]?e.slice(1):e}(o),s=new Image(1,1);s.onload=function(){s=null,n&&n()},s.onerror=function(){s=null,r&&r(t,e,4e3)},s.src=a+"/gif?"+i}))}catch(n){r&&r(t,e,4002,n.message)}},mt=function(t,e,n,r,o,i,a,s){var c=window.navigator.userAgent;if(-1===window.navigator.appName.indexOf("Microsoft Internet Explorer")||-1===c.indexOf("MSIE 8.0")&&-1===c.indexOf("MSIE 9.0")){if(a)return window.navigator&&window.navigator.sendBeacon?void(window.navigator.sendBeacon(t,JSON.stringify(e))?o():i(t,e,4003)):void gt(t,e,o,i)}else gt(t,e,o,i);vt(t,e,n,r,o,i,"","",s)},yt=function(){function t(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return t.prototype.apply=function(t,e){var n=this;this.collect=t,this.config=e,this.configManager=t.configManager,this.eventCheck=new rt(t,e),this.cacheStorgae=new Z(!0),this.localStorage=new Z(!1),this.maxReport=e.max_report||10,this.reportTime=e.reportTime||30,this.timeout=e.timeout||1e5,this.enable_ttwebid=e.enable_ttwebid,this.reportUrl=this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.collect.on(ot.Ready,(function(){n.reportAll(!1)})),this.collect.on(ot.ConfigDomain,(function(){n.reportUrl=n.configManager.getUrl("event")})),this.collect.on(ot.Event,(function(t){n.event(t)})),this.collect.on(ot.BeconEvent,(function(t){n.beconEvent(t)})),this.collect.on(ot.CleanEvents,(function(){n.reportAll(!1)})),this.linster()},t.prototype.linster=function(){var t=this;window.addEventListener("unload",(function(){t.reportAll(!0)}),!1),function(t){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",t,!1):window.addEventListener("beforeunload",t,!1)}((function(){t.reportAll(!0)})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&t.reportAll(!0)}),!1)},t.prototype.reportAll=function(t){this.report(t),this.reportBecon()},t.prototype.event=function(t){var e=this;try{var n=I(t,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport)this.report(!1);else{var r=this.reportTime;this.reportTimeout=setTimeout((function(){e.report(!1),e.reportTimeout=null}),r)}}catch(t){this.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message})}},t.prototype.beconEvent=function(t){var e=I(t,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,e),this.collect.destroyInstance||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))},t.prototype.reportBecon=function(){if(!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.beconKey)||[];t&&t.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))}},t.prototype.report=function(t){if(!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.eventKey)||[];e.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(e,t))}},t.prototype.sliceEvent=function(t,e){if(t.length>this.eventLimit)for(var n=0;n<t.length;n+=this.eventLimit){var r;r=t.slice(n,n+this.eventLimit);var o=this.split(this.merge(r));this.send(o,e)}else o=this.split(this.merge(t)),this.send(o,e)},t.prototype.handleRefer=function(){var t="";try{if(this.config.spa||this.config.autotrack){var e=this.localStorage.getItem(this.refer_key)||{};t=e.routeChange?e.refer_key:this.configManager.get("referrer")}else t=this.configManager.get("referrer")}catch(e){t=document.referrer}return t},t.prototype.merge=function(t,e){var n=this,r=this.configManager.get(),o=r.header,i=r.user;o.custom=JSON.stringify(o.custom),o.referrer=this.handleRefer();var a=this.configManager.get("evtParams"),s=this.configManager.get("user_unique_id_type"),c=t.map((function(t){try{Object.keys(a).length&&!e&&(t.params=L({},a,t.params)),s&&(t.params.$user_unique_id_type=s);var r=n.configManager.getAbCache(),o=n.configManager.getAbUuidCache(i.user_unique_id);if(r&&r.uuid&&r.uuid===i.user_unique_id){var c=n.configManager.getAbVersion();if(n.config.enable_ab_uuid){if(o&&o.length){var u=o.join(",");c&&c.includes(u)&&(t.ab_sdk_version=c)}}else c&&(t.ab_sdk_version=c)}return t.session_id=n.collect.sessionManager.getSessionId(),t.params=JSON.stringify(t.params),t}catch(e){return n.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message}),t}})),u=JSON.parse(JSON.stringify({events:c,user:i,header:o}));u.local_time=Math.floor(Date.now()/1e3),u.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,u.verbose=1;var l=[];return l.push(u),l},t.prototype.split=function(t){return t.map((function(t){var e=[];return e.push(t),e}))},t.prototype.send=function(t,e){var n=this;t.length&&(this.config.disable_track_event||t.forEach((function(t){try{var r=JSON.parse(JSON.stringify(t));n.config.filter&&((r=n.config.filter(r))||console.warn("filter must return data !!")),n.collect.eventFilter&&r&&((r=n.collect.eventFilter(r))||console.warn("filterEvent api must return data !!"));var o=r||t,i=JSON.parse(JSON.stringify(o));if(n.eventCheck.checkVerify(i),!o.length)return;n.collect.emit(ot.SubmitBefore,o),n.collect.emit(ot.SubmitVerify,o),mt(n.reportUrl,o,n.timeout,n.enable_ttwebid,(function(t,e){t&&0!==t.e?(n.collect.emit(ot.SubmitError,{type:"f_data",eventData:e,errorCode:t.e,response:t}),n.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_EVENT,info:"埋点上报失败",time:Date.now(),data:i,code:t.e,failType:"数据异常",status:"fail"})):(n.collect.emit(ot.SubmitScuess,{eventData:e,res:t}),n.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_EVENT,info:"埋点上报成功",time:Date.now(),data:i,code:200,status:"success"}))}),(function(t,e){n.configManager.get("reportErrorCallback")(t,e),n.collect.emit(ot.SubmitError,{type:"f_net",eventData:t,errorCode:e}),n.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_EVENT,info:"埋点上报网络异常",time:Date.now(),data:i,code:e,failType:"网络异常",status:"fail"})}),e,!1),n.collect.emit(ot.SubmitAfter,o)}catch(t){console.warn("something error, "+JSON.stringify(t.stack)),n.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message})}})))},t}(),bt=function(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}().replace(/-/g,"").slice(0,19)},_t=function(){function t(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return t.prototype.apply=function(t,e){var n=this;this.collect=t,this.config=e,this.configManager=this.collect.configManager,this.storage=new Z(!1),this.tokenKey="__tea_cache_tokens_"+e.app_id,this.enable_ttwebid=e.enable_ttwebid,this.enableCustomWebid=e.enable_custom_webid,this.collect.on(ot.ConfigUuid,(function(t){n.setUuid(t)})),this.collect.on(ot.ConfigWebId,(function(t){n.setWebId(t)})),this.enableCookie=e.cross_subdomain,this.expiresTime=e.cookie_expire||6048e5,this.cookieDomain=e.cookie_domain||"",this.checkStorage()},t.prototype.checkStorage=function(){var t=this;if(this.enableCookie){var e=this.storage.getCookie(this.tokenKey,this.cookieDomain);this.cacheToken=e&&"string"==typeof e?JSON.parse(e):{}}else this.cacheToken=this.storage.getItem(this.tokenKey)||{};this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(ot.CustomWebId,(function(){t.tokenReady=!0,t.collect.emit(ot.TokenComplete)})):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},t.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:bt(),user_unique_id:this.configManager.get("user_unique_id")||bt()}):this.remoteWebid()},t.prototype.checkEnv=function(){var t=window.navigator.userAgent;if(-1!==t.indexOf("miniProgram")||-1!==t.indexOf("MiniProgram")){var e=B(window.location.href);return!(!e||!e.Web_ID||(this.complete({web_id:""+e.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+e.Web_ID}),0))}return!1},t.prototype.remoteWebid=function(){var t=this,e=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"SDK 发起WEBID请求",logType:"fetch",level:"info",time:Date.now(),data:n});var r=bt();vt(e,n,3e5,!1,(function(e){var n;e&&0===e.e?(n=e.web_id,t.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"WEBID请求成功",logType:"fetch",level:"info",time:Date.now(),data:e})):(n=r,t.collect.configManager.set({localWebId:r}),t.collect.emit(ot.TokenError),t.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"WEBID请求返回值异常",logType:"fetch",level:"warn",time:Date.now(),data:e}),t.collect.logger.warn("appid: "+t.config.app_id+" get webid error, use local webid~")),t.complete({web_id:t.configManager.get("web_id")||n,user_unique_id:t.configManager.get("user_unique_id")||n})}),(function(){t.complete({web_id:t.configManager.get("web_id")||r,user_unique_id:t.configManager.get("user_unique_id")||r}),t.collect.configManager.set({localWebId:r}),t.collect.emit(ot.TokenError),t.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"WEBID请求网络异常",logType:"fetch",level:"error",time:Date.now(),data:null}),t.collect.logger.warn("appid: "+t.config.app_id+", get webid error, use local webid~")}))},t.prototype.complete=function(t){var e=t.web_id,n=t.user_unique_id;t.timestamp=Date.now(),this.collect.configManager.set({web_id:e,user_unique_id:n}),this.setStorage(t),this.tokenReady=!0,this.collect.emit(ot.TokenComplete)},t.prototype.completeTtWid=function(t){var e=t.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||e)&&this.configManager.set({user_unique_id:n||e}),this.setStorage(t),this.tokenReady=!0,this.collect.emit(ot.TokenComplete)},t.prototype.setUuid=function(t){if(t&&-1===["null","undefined","Null","None"].indexOf(t)){var e=String(t),n=this.configManager.get("user_unique_id"),r=this.cacheToken&&this.cacheToken.user_unique_id;if(e===n&&e===r)return;this.configManager.set({user_unique_id:e}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=e,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(ot.TokenChange,"uuid"),this.collect.emit(ot.SessionReset)}else this.clearUuid()},t.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(ot.TokenReset))},t.prototype.setWebId=function(t){if(t&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==t&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?t:this.cacheToken.user_unique_id,this.cacheToken.web_id=t):(this.cacheToken={},this.cacheToken.web_id=t,this.cacheToken.user_unique_id=t),this.cacheToken.timestamp=Date.now();var e=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==e||(this.configManager.set({user_unique_id:t}),this.collect.emit(ot.TokenChange,"uuid")),e!==t&&(this.configManager.set({web_id:t}),this.collect.emit(ot.TokenChange,"webid")),this.setStorage(this.cacheToken)}},t.prototype.setStorage=function(t){t._type_=this.enableCustomWebid?"custom":"default",delete t["diss".split("").reverse().join("")],this.enableCookie||this.enable_ttwebid?(this.storage.setCookie(this.tokenKey,t,this.expiresTime,this.cookieDomain),this.enable_ttwebid&&(delete t.web_id,this.storage.setItem(this.tokenKey,t))):this.storage.setItem(this.tokenKey,t),this.cacheToken=t},t.prototype.getReady=function(){return this.tokenReady},t.prototype.getTobId=function(){var t=this,e=this.configManager.getUrl("tobid");return new Promise((function(n){vt(e,{app_id:t.config.app_id,user_unique_id:t.configManager.get("user_unique_id"),web_id:t.configManager.get("web_id"),user_unique_id_type:t.configManager.get("user_unique_id_type")},3e4,t.enable_ttwebid,(function(t){t&&0===t.e?n(t.tobid):n("")}),(function(){n("")}))}))},t}(),wt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},Et=function(){function t(){}return t.prototype.apply=function(t,e){var n=this;this.collect=t,this.storage=new Z(!1,"session"),this.sessionKey="__tea_session_id_"+e.app_id,this.expireTime=e.expireTime||18e5,this.disableSession=e.disable_session,this.disableSession||(this.setSessionId(),this.collect.on(ot.SessionReset,(function(){n.resetSessionId()})),this.collect.on(ot.SessionResetTime,(function(){n.updateSessionIdTime()})))},t.prototype.updateSessionIdTime=function(){var t=this.storage.getItem(this.sessionKey);if(t&&t.sessionId){var e=t.timestamp;Date.now()-e>this.expireTime?t={sessionId:wt(),timestamp:Date.now()}:t.timestamp=Date.now(),this.storage.setItem(this.sessionKey,t),this.resetExpTime()}},t.prototype.setSessionId=function(){var t=this,e=this.storage.getItem(this.sessionKey);e&&e.sessionId?e.timestamp=Date.now():e={sessionId:wt(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e),this.sessionExp=setInterval((function(){t.checkEXp()}),this.expireTime)},t.prototype.getSessionId=function(){var t=this.storage.getItem(this.sessionKey);return this.disableSession?"":t&&t.sessionId?t.sessionId:""},t.prototype.resetExpTime=function(){var t=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval((function(){t.checkEXp()}),this.expireTime))},t.prototype.resetSessionId=function(){var t={sessionId:wt(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,t)},t.prototype.checkEXp=function(){var t=this.storage.getItem(this.sessionKey);t&&t.sessionId&&Date.now()-t.timestamp+30>=this.expireTime&&(t={sessionId:wt(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t))},t}(),xt=function(){function t(t,e){this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,this.collect=t,this.config=e,this.app_id=e.app_id,this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"],e.enable_debug&&this.load()}return t.prototype.loadScript=function(t){try{var e=document.createElement("script");e.src=t,e.onerror=function(){},e.onload=function(){},document.getElementsByTagName("body")[0].appendChild(e)}catch(t){t.message}},t.prototype.load=function(){try{this.loadBaseInfo(),this.loadHook();var t=B(window.location.href);if(!t.open_devtool_web||parseInt(t.app_id)!==this.app_id)return;this.addLintener(),this.loadDebuggerModule(),this.loadDevTool()}catch(t){t.message}},t.prototype.loadDevTool=function(){this.loadScript("https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.js")},t.prototype.loadBaseInfo=function(){var t=this;this.info=[{title:"基本信息",type:1,infoName:{app_id:this.config.app_id,channel:this.config.channel,上报域名:this.collect.configManager.getDomain(),SDK版本:nt,SDK引入方式:"npm"}},{title:"用户信息",type:2,infoName:{uuid:this.collect.configManager.get("user").user_unique_id||"",web_id:this.collect.configManager.get("user").web_id||"",ssid:"点击获取SSID"}},{title:"公共参数信息",type:2,infoName:{浏览器:this.collect.configManager.get("browser"),浏览器版本:this.collect.configManager.get("browser_version"),平台:this.collect.configManager.get("platform"),设备型号:this.collect.configManager.get("device_model"),操作系统:this.collect.configManager.get("os_name"),操作系统版本:this.collect.configManager.get("os_version"),屏幕分辨率:this.collect.configManager.get("os_version"),来源:this.collect.configManager.get("referrer"),自定义信息:""}},{title:"配置信息",type:3,infoName:{全埋点:!!this.config.autotrack,停留时长:!!this.config.enable_stay_duration}},{title:"A/B配置信息",type:4,infoName:{"A/B实验":!!this.config.enable_ab_test}},{title:"客户端信息",type:3,infoName:{打通开关:!!this.config.Native}}],this.log=[],this.event=[],this.collect.on(ot.Ready,(function(){t.info[1].infoName.uuid=t.collect.configManager.get("user").user_unique_id,t.info[1].infoName.web_id=t.collect.configManager.get("user").web_id,t.info[2].infoName["自定义信息"]=JSON.stringify(t.collect.configManager.get("custom")),t.config.enable_ab_test&&(t.info[4].infoName["已曝光VID"]=t.collect.configManager.getAbVersion(),t.info[4].infoName["A/B域名"]=t.config.ab_channel_domain||z(Q[t.config.channel]),t.info[4].infoName["全部配置"]=t.collect.configManager.getAbData()),t.config.Native&&(t.info[5].infoName["是否打通"]=!!t.collect.bridgeReport)}))},t.prototype.loadHook=function(){var t=this;this.collect.on(D.DEBUGGER_MESSAGE,(function(e){switch(e.type){case D.DEBUGGER_MESSAGE_SDK:var n={time:e.time,type:e.logType||"sdk",level:e.level,name:e.info,show:!0,levelShow:!0,needDesc:!!e.data};return e.data&&(n.desc={content:JSON.stringify(e.data)}),t.updateLog(n),e.secType&&"AB"===e.secType?(t.info[4].infoName["已曝光VID"]=t.collect.configManager.getAbVersion(),t.info[4].infoName["全部配置"]=t.collect.configManager.getAbData()):"USER"===e.secType&&(t.info[1].infoName.uuid=t.collect.configManager.get("user").user_unique_id,t.info[1].infoName.web_id=t.collect.configManager.get("user").web_id),void t.updateInfo();case D.DEBUGGER_MESSAGE_EVENT:if(e.data&&e.data.length){var r=e.data[0],o=r.events;if(!o.length)return;o.forEach((function(n){n.checkShow=!0,n.searchShow=!0,n.success=e.status,n.type=-1!==t.filterEvent.indexOf(n.event)?"sdk":"cus",n.type=t.collect.bridgeReport?"bridge":n.type,n.info="","fail"===e.status&&(n.info={message:"code: "+e.code+"， msg: "+e.failType})})),t.updateEvent(r)}return}}))},t.prototype.addLintener=function(){var t=this;window.addEventListener("message",(function(e){if(e.origin===location.origin){if(e&&e.data&&"devtool:web:ready"===e.data.type){if(t.devToolOrigin=e.origin,t.devToolReady=!0,t.sendAlready)return;t.sendData("devtool:web:init",{info:t.info,log:t.log,event:t.event}),t.sendAlready=!0}e&&e.data&&"devtool:web:ssid"===e.data.type&&t.collect.getToken((function(e){t.info[1].infoName.ssid=e.tobid,t.updateInfo()}))}}))},t.prototype.sendData=function(t,e){try{var n={type:t,payload:e};(window.opener||window.parent).postMessage(n,this.devToolOrigin)}catch(t){}},t.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},t.prototype.updateLog=function(t){this.devToolReady?this.sendData("devtool:web:log",t):this.log.push(t)},t.prototype.updateEvent=function(t){this.devToolReady?this.sendData("devtool:web:event",t):this.event.push(t)},t.prototype.loadDebuggerModule=function(){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.appendChild(document.createTextNode("#debugger-applog-web {\n      position: absolute;\n      width: 90px;\n      height: 30px;\n      background: #23c243;\n      border-radius: 6px;\n      color: #fff;\n      font-size: 12px;\n      bottom: 5%;\n      right: 10%;\n      text-align: center;\n      line-height: 30px;\n      cursor: pointer;\n      z-index:100;\n    }")),t.appendChild(e);var n=document.createElement("div");n.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web">AppLog调试</div>';var r=document.createElement("div");r.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(n),document.getElementsByTagName("body")[0].appendChild(r),document.getElementById("debugger-applog-web").addEventListener("click",(function(){(window.opener||window.parent).postMessage({type:"devtool:web:open-draw"},location.origin)}))},t}(),St=function(){function t(t){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroyInstance=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.name=t,this.hook=new M,this.remotePlugin=new Map,this.Types=ot,this.adapters.fetch=vt,this.adapters.storage=Z}return t.usePlugin=function(e,n,r){if(n){for(var o=!1,i=0,a=t.plugins.length;i<a;i++)if(t.plugins[i].name===n){t.plugins[i].plugin=e,t.plugins[i].options=r||{},o=!0;break}o||t.plugins.push({name:n,plugin:e,options:r})}else t.plugins.push({plugin:e})},t.prototype.usePlugin=function(t,e,n){t&&("full"===this.loadType&&this.remotePlugin.get(t)?console.info("your sdk version has "+t+" already ~"):e?"string"==typeof e?this.remotePlugin.get(t)||this.remotePlugin.set(t,{src:e,call:n}):this.remotePlugin.get(t)||this.remotePlugin.set(t,{instance:e}):this.remotePlugin.get(t)||this.remotePlugin.set(t,"sdk"))},t.prototype.init=function(e){var n,r,o=this;try{n=JSON.parse(JSON.stringify(e))}catch(t){n=e}if(this.logger=new lt(this.name,n.log),this.inited)this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!");else if(n&&F(n))if(n.app_id&&"number"==typeof(r=n.app_id)&&!isNaN(r))if(!n.app_key||function(t){return"string"==typeof t}(n.app_key)){var i=n.channel_type&&"tcpy"===n.channel_type?["sg","va","in"]:["sg","va"];n.channel_domain||-1!==i.indexOf(n.channel)||(this.logger.warn("channel must "+i.join(" ,")+"!!!"),n.channel="sg"),this.spider=new ft,this.spider.checkSpider(n)?this.logger.warn("The current environment may be a spider, can not report!"):(this.logger=new lt(this.name,n.log),this.appBridge=new ht(this,n.enable_native),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new ut(this,n),this.debugger=new xt(this,n),this.initConfig=n,this.emit(ot.Init),this.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"SDK 执行INIT",data:n,level:"info",time:Date.now()}),n.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.setAppid(n.app_id),this.eventManager=new yt,this.tokenManager=new _t,this.sessionManager=new Et,Promise.all([new Promise((function(t){o.once(ot.TokenComplete,(function(){t(!0)}))})),new Promise((function(t){o.once(ot.Start,(function(){t(!0)}))}))]).then((function(){try{t.plugins.reduce((function(t,e){var n=e.plugin,r=e.options,i=Object.assign(o.initConfig,r),a=new n;return a.apply(o,i),t.push(a),t}),o.pluginInstances)}catch(t){console.warn("load plugin error, "+t.message),o.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message})}o.sdkReady=!0,o.emit(ot.Ready),o.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"SDK 初始化完成",time:Date.now(),level:"info",data:o.configManager.get("user")}),o.logger.info("appid: "+n.app_id+", userInfo:"+JSON.stringify(o.configManager.get("user"))),o.logger.info("appid: "+n.app_id+", sdk is ready, version is "+nt+", you can report now !!!"),n.disable_auto_pv&&(o.disableAutoPageView=!0);try{("full"===o.loadType&&n.enable_ab_test||n.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(t){o.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message})}o.pageView(),o.on(ot.TokenChange,(function(t){"webid"===t&&o.pageView(),o.logger.info("appid: "+n.app_id+" token change, new userInfo:"+JSON.stringify(o.configManager.get("user"))),o.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"SDK 设置了用户信息",time:Date.now(),secType:"USER",level:"info",data:o.configManager.get("user")})})),o.on(ot.TokenReset,(function(){o.logger.info("appid: "+n.app_id+" token reset, new userInfo:"+JSON.stringify(o.configManager.get("user"))),o.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"SDK 重置了用户信息",time:Date.now(),secType:"USER",level:"info",data:o.configManager.get("user")})})),o.on(ot.RouteChange,(function(t){t.init||n.disable_route_report||o.pageView()}))})),this.tokenManager.apply(this,n),this.eventManager.apply(this,n),this.sessionManager.apply(this,n)),this.inited=!0)}else this.logger.warn("app_key param is error, must be string, please check!");else this.logger.warn("app_id param is error, must be number, please check!");else this.logger.warn("init params error,please check")},t.prototype.config=function(t){if(this.inited)if(t&&F(t)){var e;try{e=JSON.parse(JSON.stringify(e))}catch(n){e=t}if(this.bridgeReport)this.appBridge.setConfig(e);else{e._staging_flag&&1===e._staging_flag&&(this.staging=!0),e.disable_auto_pv&&(this.disableAutoPageView=!0,delete e.disable_auto_pv);var n=L({},e);if(this.initConfig&&this.initConfig.configPersist){var r=this.configManager.getStore();r&&(n=Object.assign(r,e)),this.configManager.setStore(e)}n.web_id,n.user_unique_id;var o=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n}(n,["web_id","user_unique_id"]);n.hasOwnProperty("web_id")&&this.emit(ot.ConfigWebId,n.web_id),n.hasOwnProperty("user_unique_id")&&this.emit(ot.ConfigUuid,n.user_unique_id),this.configManager.set(o),this.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"SDK 执行CONFIG",level:"info",time:Date.now(),data:n})}}else this.logger.warn("config params is error, please check");else this.logger.warn("config must be use after function init")},t.prototype.setDomain=function(t){this.configManager&&this.configManager.setDomain(t),this.emit(ot.ConfigDomain)},t.prototype.getConfig=function(t){return this.configManager.get(t)},t.prototype.send=function(){this.start()},t.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(ot.Start),this.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"SDK 执行START",level:"info",time:Date.now()}),this.bridgeReport&&(this.pageView(),this.emit(ot.Ready)))},t.prototype.event=function(t,e){var n=this;try{var r=[];if(Array.isArray(t))t.forEach((function(t){var e=n.processEvent(t[0],t[1]||{});e&&r.push(e)}));else{var o=this.processEvent(t,e);if(!o)return;r.push(o)}this.bridgeReport?r.forEach((function(t){var e=t.event,r=t.params;n.appBridge.onEventV3(e,JSON.stringify(r))})):r.length&&(this.emit(ot.Event,r),this.emit(ot.SessionResetTime))}catch(t){this.logger.warn("something error, please check"),this.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message})}},t.prototype.beconEvent=function(t,e){if(Array.isArray(t))this.logger.warn("beconEvent not support batch report, please check");else{var n=[],r=this.processEvent(t,e||{});r&&(n.push(r),n.length&&(this.emit(ot.BeconEvent,n),this.emit(ot.SessionResetTime)))}},t.prototype.processEvent=function(t,e){void 0===e&&(e={});try{if(!t)return this.logger.warn("eventName is null， please check"),null;var n=t;/^event\./.test(t)&&(n=t.slice(6));var r=e;"object"!=typeof r&&(r={}),r.profile?delete r.profile:r.event_index=U();var o=void 0;return r.local_ms?(o=r.local_ms,delete r.local_ms):o=+new Date,{event:n,params:r,local_time_ms:o,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return this.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:n.message}),{event:t,params:e}}},t.prototype.filterEvent=function(t){this.eventFilter=t},t.prototype.on=function(t,e){this.hook.on(t,e)},t.prototype.once=function(t,e){this.hook.once(t,e)},t.prototype.off=function(t,e){this.hook.off(t,e)},t.prototype.emit=function(t,e,n){this.hook.emit(t,e,n)},t.prototype.set=function(t){this.hook.set(t)},t.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},t.prototype.predefinePageView=function(t){if(void 0===t&&(t={}),this.inited){var e={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=L({},e,t);this.event("predefine_pageview",n)}else this.logger.warn("predefinePageView should call after init")},t.prototype.clearEventCache=function(){this.emit(ot.CleanEvents)},t.prototype.setWebIDviaUnionID=function(t){if(t){var e=q(t);this.config({web_id:""+e,wechat_unionid:t}),this.emit(ot.CustomWebId)}},t.prototype.setWebId=function(t){this.config({web_id:""+t})},t.prototype.setWebIDviaOpenID=function(t){if(t){var e=q(t);this.config({web_id:""+e,wechat_openid:t}),this.emit(ot.CustomWebId)}},t.prototype.setNativeAppId=function(t){this.bridgeReport&&this.appBridge.setNativeAppId(t)},t.prototype.resetStayDuration=function(t,e,n){this.emit(ot.ResetStay,{url_path:t,title:e,url:n},ot.Stay)},t.prototype.resetStayParams=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n=""),this.emit(ot.SetStay,{url_path:t,title:e,url:n},ot.Stay)},t.prototype.getToken=function(t,e){var n=this;if(this.inited){var r=!1,o=function(e){if(!r){r=!0;var o=n.configManager.get().user;return e&&(o.tobid=e,o["diss".split("").reverse().join("")]=e),t(L({},o))}},i=function(){n.tokenManager.getTobId().then((function(t){o(t)}))};this.sdkReady?i():(e&&setTimeout((function(){o()}),e),this.on(ot.Ready,(function(){i()})))}else this.logger.warn("predefinePageView should call after init")},t.prototype.profileSet=function(t){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(t)):this.emit(ot.ProfileSet,t,ot.Profile),this.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileSet",level:"info",time:Date.now(),data:t})},t.prototype.profileSetOnce=function(t){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(t)):this.emit(ot.ProfileSetOnce,t,ot.Profile),this.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileSetOnce",level:"info",time:Date.now(),data:t})},t.prototype.profileIncrement=function(t){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(t)):this.emit(ot.ProfileIncrement,t,ot.Profile),this.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileIncrement",level:"info",time:Date.now(),data:t})},t.prototype.profileUnset=function(t){this.bridgeReport?this.appBridge.profileUnset(t):this.emit(ot.ProfileUnset,t,ot.Profile),this.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileUnset",level:"info",time:Date.now(),data:t})},t.prototype.profileAppend=function(t){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(t)):this.emit(ot.ProfileAppend,t,ot.Profile),this.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileAppend",level:"info",time:Date.now(),data:t})},t.prototype.setExternalAbVersion=function(t){this.emit(ot.AbExternalVersion,"string"==typeof t&&t?(""+t).trim():null,ot.Ab)},t.prototype.getVar=function(t,e,n,r){this.emit(ot.AbVar,{name:t,defaultValue:e,callback:n,uuid:r},ot.Ab)},t.prototype.getABconfig=function(t,e){this.emit(ot.AbConfig,{params:t,callback:e},ot.Ab)},t.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},t.prototype.onAbSdkVersionChange=function(t){var e=this;return this.emit(ot.AbVersionChangeOn,t,ot.Ab),function(){e.emit(ot.AbVersionChangeOff,t,ot.Ab)}},t.prototype.offAbSdkVersionChange=function(t){this.emit(ot.AbVersionChangeOff,t,ot.Ab)},t.prototype.openOverlayer=function(){this.emit(ot.AbOpenLayer,"",ot.Ab)},t.prototype.closeOverlayer=function(){this.emit(ot.AbCloseLayer,"",ot.Ab)},t.prototype.getAllVars=function(t){this.emit(ot.AbAllVars,t,ot.Ab)},t.prototype.autoInitializationRangers=function(t){var e,n,r,o,i,a,s,c;n=(e=t).app_id,r=e.channel,o=e.onTokenReady,i=X[r]+"/webid",a=new Z(!1),s="__tea_cache_tokens_"+n,(c=a.getItem(s))&&c.web_id?o(c.web_id):mt(i,{app_key:"",app_id:n,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer},3e3,!1,(function(t){if(t&&0===t.e){o(t.web_id);var e={web_id:t.web_id,user_unique_id:t.web_id,timestamp:Date.now()};a.setItem(s,e)}else o("")}),(function(){o("")}),!0)},t.prototype.destoryInstace=function(){this.destroyInstance||(this.destroyInstance=!0,this.off(ot.TokenComplete))},t.plugins=[],t}(),kt=function(){function t(){}return t.prototype.apply=function(t,e){var n=this,r=t.adapters.fetch;if(e.event_verify_url&&"string"==typeof e.event_verify_url&&(this.url=e.event_verify_url+"/v1/list_test",this.url)){var o=t.Types;t.on(o.SubmitBefore,(function(t){r(n.url,t,3e4)}))}},t}(),Ot=function(){function t(){}return t.prototype.apply=function(t,e){var n=this;this.collect=t,this.config=e,this.duration=6e4,this.reportUrl=t.configManager.getDomain()+"/profile/list";var r=t.Types,o=t.adapters.fetch;this.eventCheck=new rt(t,e),this.fetch=o,this.cache={},this.collect.on(r.ProfileSet,(function(t){n.setProfile(t)})),this.collect.on(r.ProfileSetOnce,(function(t){n.setOnceProfile(t)})),this.collect.on(r.ProfileUnset,(function(t){n.unsetProfile(t)})),this.collect.on(r.ProfileIncrement,(function(t){n.incrementProfile(t)})),this.collect.on(r.ProfileAppend,(function(t){n.appendProfile(t)})),this.collect.on(r.ProfileClear,(function(){n.cache={}})),this.ready(r.Profile)},t.prototype.ready=function(t){var e=this;if(this.collect.set(t),this.collect.hook._hooksCache.hasOwnProperty(t)){var n=this.collect.hook._hooksCache[t];if(!Object.keys(n).length)return;var r=function(t){n[t].length&&n[t].forEach((function(n){e.collect.hook.emit(t,n)}))};for(var o in n)r(o)}},t.prototype.report=function(t,e){void 0===e&&(e={});try{if(this.config.disable_track_event)return;var n=[];n.push(this.collect.processEvent(t,e));var r=this.collect.eventManager.merge(n);this.fetch(this.reportUrl,r),this.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_EVENT,info:"埋点上报成功",time:Date.now(),data:r,code:200,status:"success"})}catch(t){this.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message})}},t.prototype.setProfile=function(t){var e=this.formatParams(t);e&&Object.keys(e).length&&(this.pushCache(e),this.report("__profile_set",L({},e,{profile:!0})))},t.prototype.setOnceProfile=function(t){var e=this.formatParams(t,!0);e&&Object.keys(e).length&&(this.pushCache(e),this.report("__profile_set_once",L({},e,{profile:!0})))},t.prototype.incrementProfile=function(t){t?this.report("__profile_increment",L({},t,{profile:!0})):console.warn("please check the params, must be object!!!")},t.prototype.unsetProfile=function(t){if(t){var e={};e[t]="1",this.report("__profile_unset",L({},e,{profile:!0}))}else console.warn("please check the key, must be string!!!")},t.prototype.appendProfile=function(t){if(t){var e={};for(var n in t)"string"==typeof t[n]||"Array"===Object.prototype.toString.call(t[n]).slice(8,-1)?e[n]=t[n]:console.warn("please check the value of param: "+n+", must be string or array !!!");Object.keys(e).length&&this.report("__profile_append",L({},e,{profile:!0}))}else console.warn("please check the params, must be object!!!")},t.prototype.pushCache=function(t){var e=this;Object.keys(t).forEach((function(n){e.cache[n]={val:e.clone(t[n]),timestamp:Date.now()}}))},t.prototype.formatParams=function(t,e){var n=this;void 0===e&&(e=!1);try{if(!t||"[object Object]"!==Object.prototype.toString.call(t))return void console.warn("please check the params type, must be object !!!");var r={};for(var o in t)"string"==typeof t[o]||"number"==typeof t[o]||"Array"===Object.prototype.toString.call(t[o]).slice(8,-1)?r[o]=t[o]:console.warn("please check the value of params:"+o+", must be string,number,Array !!!");var i=Object.keys(r);if(!i.length)return;if(!this.eventCheck.checkEventParams(r))return;var a=Date.now();return i.filter((function(r){var o=n.cache[r];return e?!o:!(o&&n.compare(o.val,t[r])&&a-o.timestamp<n.duration)})).reduce((function(t,e){return t[e]=r[e],t}),{})}catch(t){this.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message})}},t.prototype.compare=function(t,e){try{return JSON.stringify(t)===JSON.stringify(e)}catch(t){return this.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message}),!1}},t.prototype.clone=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return this.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message}),t}},t.prototype.unReady=function(){console.warn("sdk is not ready, please use this api after start")},t}(),Tt=function(){function t(){var t=this;this.setInterval=function(){t.clearIntervalFunc=function(t,e){void 0===t&&(t=function(){}),void 0===e&&(e=1e3);var n,r=Date.now()+e;return n=window.setTimeout((function o(){var i=Date.now()-r;t(),r+=e,n=window.setTimeout(o,Math.max(0,e-i))}),e),function(){window.clearTimeout(n)}}((function(){t.isSessionhasEvent&&t.endCurrentSession()}),t.sessionInterval)},this.clearInterval=function(){t.clearIntervalFunc&&t.clearIntervalFunc()}}return t.prototype.apply=function(t,e){var n=this;if(this.collect=t,!e.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var r=this.collect.Types;this.collect.on(r.SessionReset,(function(){n.process()}))}},t.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},t.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var t=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-t>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},t}(),jt=function(){function t(){}return t.prototype.apply=function(t,e){var n=this;if(this.collect=t,this.config=e,!this.config.channel_domain&&!e.disable_track_event&&!e.disable_sdk_monitor){var r=t.adapters.fetch;this.fetch=r,this.url=t.configManager.getUrl("event");var o=this.collect.Types;this.collect.on(o.Ready,(function(){n.sdkOnload()})),this.collect.on(o.SubmitError,(function(t){var e=t.type,r=t.eventData,o=t.errorCode;"f_data"===e&&n.sdkError(r,o)}))}},t.prototype.sdkOnload=function(){var t=this;try{var e=this.collect.configManager.get(),n=e.header,r=e.user,o=n.app_id,i=n.app_name,a=n.sdk_version,s=r.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:o,app_name:i||"",sdk_version:a,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Date.now()}],user:{user_unique_id:s},header:{}};setTimeout((function(){t.fetch(t.url,[c],3e4,!1,(function(){}),(function(){}),"566f58151b0ed37e")}),16)}catch(t){}},t.prototype.sdkError=function(t,e){var n=this;try{var r=t[0],o=r.user,i=r.header,a=[];t.forEach((function(t){t.events.forEach((function(t){a.push(t)}))}));var s={events:a.map((function(t){return{event:"on_error",params:JSON.stringify({error_code:e,app_id:i.app_id,app_name:i.app_name||"",error_event:t.event,sdk_version:i.sdk_version,local_time_ms:t.local_time_ms,tea_event_index:Date.now(),params:t.params,header:JSON.stringify(i),user:JSON.stringify(o)}),local_time_ms:Date.now()}})),user:{user_unique_id:o.user_unique_id},header:{}};setTimeout((function(){n.fetch(n.url,[s],3e4,!1,(function(){}),(function(){}),"566f58151b0ed37e")}),16)}catch(t){}},t}(),Ct={autotrack:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},cep:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/cep.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/cep.js"},object:"LogCep"},tracer:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},visual:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},Lt="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,At=function(){function t(){}return t.prototype.apply=function(t,e){this._plugin={},this.config=e,this.collect=t,this.channel=e.channel||"cn",this.loadExtend()},t.prototype.loadExtend=function(){var t=this;try{this.collect.remotePlugin.forEach((function(e,n){if("sdk"===e)if(Ct.hasOwnProperty(n)){var r=Ct[n].object,o=""+Ct[n].src[t.channel];t.exist(n,r,o)}else console.warn("your "+n+" is not exist，please check plugin name");else"object"==typeof e&&(e.src?t.exist(n,e.call,e.src):t.process(n,e.instance,"INSTANCE"))}))}catch(t){this.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message})}},t.prototype.exist=function(t,e,n){var r=this;Lt[e]?this.process(t,Lt[e]):this.loadPlugin(t,n,(function(){r.process(t,Lt[e])}),(function(){}))},t.prototype.process=function(t,e,n){try{if(n){var r=new e;r.apply&&r.apply(this.collect,this.config)}else e&&e(this.collect,this.config)}catch(e){this.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message}),e.message}},t.prototype.loadPlugin=function(t,e,n,r){var o=this;try{var i=document.createElement("script");i.src=e,this._plugin[t]||(this._plugin[t]=[]),this._plugin[t].push(n),i.onerror=function(){r(e)},i.onload=function(){o._plugin[t].forEach((function(t){t()}))},document.getElementsByTagName("head")[0].appendChild(i)}catch(t){this.collect.emit(D.DEBUGGER_MESSAGE,{type:D.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message})}},t}();St.usePlugin(At,"extend"),St.usePlugin(kt,"et"),St.usePlugin(Ot,"profile"),St.usePlugin(Tt,"heartbeat"),St.usePlugin(jt,"monitor");var It=new St("default"),Pt=3053,Nt=3297;var Rt=function(t){function e(e){var n=e.test,r=e.TEAChannelDomain,o=void 0===r?"":r,i=e.mode,a=e.TEAChannel,s=e.TEAChannelType;return e.tracker=o||s||a?function(t){var e=t.isTest,n=t.channel_domain,r=t.channel_type,o=t.channel,i=/snssdk|zijieapi/g.test(n)&&/ttp|tcpy/g.test(r)&&/va|sg|in/g.test(o)?Pt:Nt;return It.init({app_id:i,channel_type:r,channel:o,channel_domain:n}),It.config({_staging_flag:e?1:0,enable_et_test:e}),It.start(),It.event.bind(It)}({isTest:n||"test"===i,channel_domain:o,channel_type:s,channel:a}):function(){},t.call(this,e)||this}return o(e,t),e}(C)},5980:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var r=n(5977),o=n(3279),i=n.n(o),a=n(1024),s=n(3930),c=n(5210),u=n(2770),l=n(2281);const f=function(t,e){var n;l.Z&&((0,u.mf)(t)||console.error("useDebounceFn expected parameter is a function, got ".concat(typeof t)));var o=(0,s.Z)(t),f=null!==(n=null==e?void 0:e.wait)&&void 0!==n?n:1e3,h=(0,a.useMemo)((function(){return i()((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.current.apply(o,(0,r.ev)([],(0,r.CR)(t),!1))}),f,e)}),[]);return(0,c.Z)((function(){h.cancel()})),{run:h,cancel:h.cancel,flush:h.flush}}},3930:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(1024);const o=function(t){var e=(0,r.useRef)(t);return e.current=t,e}},1455:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var r=n(5977),o=n(3493),i=n.n(o),a=n(1024),s=n(3930),c=n(5210),u=n(2770),l=n(2281);const f=function(t,e){var n;l.Z&&((0,u.mf)(t)||console.error("useThrottleFn expected parameter is a function, got ".concat(typeof t)));var o=(0,s.Z)(t),f=null!==(n=null==e?void 0:e.wait)&&void 0!==n?n:1e3,h=(0,a.useMemo)((function(){return i()((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.current.apply(o,(0,r.ev)([],(0,r.CR)(t),!1))}),f,e)}),[]);return(0,c.Z)((function(){h.cancel()})),{run:h,cancel:h.cancel,flush:h.flush}}},5210:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(1024),o=n(3930),i=n(2770),a=n(2281);const s=function(t){a.Z&&((0,i.mf)(t)||console.error("useUnmount expected parameter is a function, got ".concat(typeof t)));var e=(0,o.Z)(t);(0,r.useEffect)((function(){return function(){e.current()}}),[])}},2770:(t,e,n)=>{"use strict";n.d(e,{mf:()=>r});var r=function(t){return"function"==typeof t}},2281:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=!1},9669:(t,e,n)=>{t.exports=n(1609)},5448:(t,e,n)=>{"use strict";var r=n(4867),o=n(6026),i=n(4372),a=n(5327),s=n(4097),c=n(4109),u=n(7985),l=n(5061);t.exports=function(t){return new Promise((function(e,n){var f=t.data,h=t.headers,p=t.responseType;r.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var v=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";h.Authorization="Basic "+btoa(v+":"+g)}var m=s(t.baseURL,t.url);function y(){if(d){var r="getAllResponseHeaders"in d?c(d.getAllResponseHeaders()):null,i={data:p&&"text"!==p&&"json"!==p?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:t,request:d};o(e,n,i),d=null}}if(d.open(t.method.toUpperCase(),a(m,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,"onloadend"in d?d.onloadend=y:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(y)},d.onabort=function(){d&&(n(l("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(l("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(l(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var b=(t.withCredentials||u(m))&&t.xsrfCookieName?i.read(t.xsrfCookieName):void 0;b&&(h[t.xsrfHeaderName]=b)}"setRequestHeader"in d&&r.forEach(h,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),p&&"json"!==p&&(d.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),n(t),d=null)})),f||(f=null),d.send(f)}))}},1609:(t,e,n)=>{"use strict";var r=n(4867),o=n(1849),i=n(321),a=n(7185);function s(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var c=s(n(5655));c.Axios=i,c.create=function(t){return s(a(c.defaults,t))},c.Cancel=n(5263),c.CancelToken=n(4972),c.isCancel=n(6502),c.all=function(t){return Promise.all(t)},c.spread=n(8713),c.isAxiosError=n(6268),t.exports=c,t.exports.default=c},5263:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},4972:(t,e,n)=>{"use strict";var r=n(5263);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},6502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,n)=>{"use strict";var r=n(4867),o=n(5327),i=n(782),a=n(3572),s=n(7185),c=n(4875),u=c.validators;function l(t){this.defaults=t,this.interceptors={request:new i,response:new i}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&c.assertOptions(e,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(t){i.push(t.fulfilled,t.rejected)})),!r){var l=[a,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(i),o=Promise.resolve(t);l.length;)o=o.then(l.shift(),l.shift());return o}for(var f=t;n.length;){var h=n.shift(),p=n.shift();try{f=h(f)}catch(t){p(t);break}}try{o=a(f)}catch(t){return Promise.reject(t)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},l.prototype.getUri=function(t){return t=s(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,r){return this.request(s(r||{},{method:t,url:e,data:n}))}})),t.exports=l},782:(t,e,n)=>{"use strict";var r=n(4867);function o(){this.handlers=[]}o.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},4097:(t,e,n)=>{"use strict";var r=n(1793),o=n(7303);t.exports=function(t,e){return t&&!r(e)?o(t,e):e}},5061:(t,e,n)=>{"use strict";var r=n(481);t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},3572:(t,e,n)=>{"use strict";var r=n(4867),o=n(8527),i=n(6502),a=n(5655);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=o.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=o.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(s(t),e&&e.response&&(e.response.data=o.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:t=>{"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},7185:(t,e,n)=>{"use strict";var r=n(4867);t.exports=function(t,e){e=e||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function u(o){r.isUndefined(e[o])?r.isUndefined(t[o])||(n[o]=c(void 0,t[o])):n[o]=c(t[o],e[o])}r.forEach(o,(function(t){r.isUndefined(e[t])||(n[t]=c(void 0,e[t]))})),r.forEach(i,u),r.forEach(a,(function(o){r.isUndefined(e[o])?r.isUndefined(t[o])||(n[o]=c(void 0,t[o])):n[o]=c(void 0,e[o])})),r.forEach(s,(function(r){r in e?n[r]=c(t[r],e[r]):r in t&&(n[r]=c(void 0,t[r]))}));var l=o.concat(i).concat(a).concat(s),f=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===l.indexOf(t)}));return r.forEach(f,u),n}},6026:(t,e,n)=>{"use strict";var r=n(5061);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},8527:(t,e,n)=>{"use strict";var r=n(4867),o=n(5655);t.exports=function(t,e,n){var i=this||o;return r.forEach(n,(function(n){t=n.call(i,t,e)})),t}},5655:(t,e,n)=>{"use strict";var r=n(4867),o=n(6016),i=n(481),a={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(5448)),c),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)||e&&"application/json"===e["Content-Type"]?(s(e,"application/json"),function(t,e,n){if(r.isString(t))try{return(e||JSON.parse)(t),r.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional,n=e&&e.silentJSONParsing,o=e&&e.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(a){if("SyntaxError"===t.name)throw i(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(a)})),t.exports=u},1849:t=>{"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},5327:(t,e,n)=>{"use strict";var r=n(4867);function o(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))})))})),i=a.join("&")}if(i){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},7303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:(t,e,n)=>{"use strict";var r=n(4867);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},6268:t=>{"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},7985:(t,e,n)=>{"use strict";var r=n(4867);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},6016:(t,e,n)=>{"use strict";var r=n(4867);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},4109:(t,e,n)=>{"use strict";var r=n(4867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},8713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},4875:(t,e,n)=>{"use strict";var r=n(8593),o={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){o[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var i={},a=r.version.split(".");function s(t,e){for(var n=e?e.split("."):a,r=t.split("."),o=0;o<3;o++){if(n[o]>r[o])return!0;if(n[o]<r[o])return!1}return!1}o.transitional=function(t,e,n){var o=e&&s(e);function a(t,e){return"[Axios v"+r.version+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,s){if(!1===t)throw new Error(a(r," has been removed in "+e));return o&&!i[r]&&(i[r]=!0,console.warn(a(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,s)}},t.exports={isOlderVersion:s,assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var r=Object.keys(t),o=r.length;o-- >0;){var i=r[o],a=e[i];if(a){var s=t[i],c=void 0===s||a(s,i,t);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},4867:(t,e,n)=>{"use strict";var r=n(1849),o=Object.prototype.toString;function i(t){return"[object Array]"===o.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==o.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function u(t){return"[object Function]"===o.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function t(){var e={};function n(n,r){c(e[r])&&c(n)?e[r]=t(e[r],n):c(n)?e[r]=t({},n):i(n)?e[r]=n.slice():e[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return e},extend:function(t,e,n){return l(e,(function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},9305:(t,e,n)=>{"use strict";n.r(e);n(5142);var r=n(4754),o=n(6624),i=n(1024),a=n.n(i),s=n(7417),c=n(1836);const u=n.p+"expiration.png?746e7880dfb3d90d17ed55096a15ee6f",l="expiration_ep43k",f="tips_QkknS",h="light_kTnuf";const p=function(){return a().createElement("div",{className:l},a().createElement(c.Empty,{image:u,imageStyle:{width:"100%"}}),a().createElement("div",{className:f},r.oc.t("the_current_consultation_link_is_invalid_",{},"当前咨询链接已失效")),a().createElement("div",{className:h},r.oc.t("please_exit_the_current_page_and_click_the_latest_consultation_link_to_enter~",{},"请退出当前页面点击最新咨询链接进入～")))};var d=n(4367),v=function(){return location.origin.indexOf("localhost")>-1?r.Vi.LOCAL:window.$isPPE&&"{{ isPPE }}"!==window.$isPPE?r.Vi.PPE:"boe"===d.OB||window.location.origin.indexOf("boe")>-1?r.Vi.BOE:window.$busType&&"{{ BUS_TYPE }}"!==window.$busType?r.Vi.Tob:r.Vi.PROD},g=function(){return v()===r.Vi.Tob||v()===r.Vi.PROD||v()===r.Vi.PPE};function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===m(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w,E=window.Slardar;g()&&E&&(window.page_version="1.0.0.2661",window.Slardar("init",{bid:"ocic_linkchat",pid:location.pathname,release:(null===(w=window.gfdatav1)||void 0===w?void 0:w.ver)||"1.0.0.2661",env:"prod",plugins:{pageview:{routeMode:"history"},ajax:{ignoreUrls:[/i\.snssdk\.com/,/mcs\.snssdk\.com/],collectBodyOnError:!0},fetch:{ignoreUrls:[/i\.snssdk\.com/,/mcs\.snssdk\.com/],collectBodyOnError:!0},jsError:{ignoreErrors:[],onerror:!0,onunhandledrejection:!1,dedupe:!0},resource:{ignoreUrls:[],slowSessionThreshold:4e3},resourceError:{ignoreUrls:[]},blankScreen:{rootSelector:"#root",autoDetect:!0,threshold:1.5,screenshot:!1}}}),window.Slardar("start"));var x="error",S="info",k="TRANSFER_DIALOG_ERROR",O="THUMB_ACTION_ERROR",T=window.location.href,j=function(t){var e=t.level,n=void 0===e?S:e,r=t.title,o=void 0===r?"":r,i=t.info,a=void 0===i?"":i,s=t.extra,c=void 0===s?{}:s;try{E&&E("sendLog",{level:n,content:a,extra:b({title:o,url:T,userId:d.Dr,businessLineId:d.lb},c)})}catch(t){}};function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R(r.key),r)}}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=N(t);if(e){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return P(t)}(this,n)}}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},N(t)}function R(t){var e=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===C(e)?e:String(e)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(i,t);var e,n,r,o=I(i);function i(){var t,e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return t=o.call.apply(o,[this].concat(s)),e=P(t),r={hasError:!1},(n=R(n="state"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,t}return e=i,r=[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0}}}],(n=[{key:"componentDidCatch",value:function(t,e){null==E||E("captureException",t),null==E||E("report",{ev_type:"blank_screen",payload:{timestamp:Date.now(),score:0,error:{type:"js_error",message:t.message,info:e}}})}},{key:"render",value:function(){var t=this.props.children;return this.state.hasError?a().createElement(c.ErrorBlock,{fullPage:!0,status:"default"}):t}}])&&L(e.prototype,n),r&&L(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(a().Component);function M(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,o=0;o<r;o++)e+=String.fromCharCode(n[o]);return $(e)}function F(t){return{base64:M(t)}}function U(t){if(null!=t)return t.base64?function(t){for(var e=X(t),n=e.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=e.charCodeAt(o);return r.buffer}(t.base64):void 0}function z(t){return function(e){return Object.prototype.toString.call(e).toLowerCase()===("[object "+t+"]").toLowerCase()}}function G(t,e,n){if(it&&ct.needCache.find((function(e){return e===t})))ot.push([t,e,n]);else if(Y)!function(t,e){if(void 0!==t&&"function"==typeof tt[e]&&""!==t&&null!==t){try{t=JSON.parse(t),t=Q.unpack(t)}catch(e){t={}}tt[e](t),delete tt[e]}}(Y.invoke(t,e,n),n);else{var r={event:t,paramsString:e,callbackId:n};K.messageHandlers.invoke.postMessage(r)}}function B(t,e){"string"==typeof e&&(e=JSON.parse(e)),e=Q.unpack(e);var n=tt[t];"function"==typeof n&&n(e),-1===at.indexOf(t)&&delete tt[t]}function q(t,e,n,r){if(t===st.onAppEnterBackground)it=!0;else if(t===st.onAppEnterForeground)for(it=!1;ot.length;)G.apply(null,ot.shift());if(!it||!ct.needDisabled.find((function(e){return e===t}))){"string"==typeof e&&(e=JSON.parse(e)),e=Q.unpack(e);var o=t.indexOf("custom_event_")>-1?rt[t]:nt[t];"function"==typeof o&&o(e,n,r)}}function W(t){t()}function V(t){var e=t.name,n=void 0===t.type?"sdk":t.type,r=void 0===t.args?{}:t.args,o=void 0===t.ext?{}:t.ext;ft[lt]={success:r.success||pt,fail:r.fail||pt,complete:r.complete||pt},ht[lt]={beforeAll:o.beforeAll||pt,beforeSuccess:o.beforeSuccess||pt,afterSuccess:o.afterSuccess||pt,beforeFail:o.beforeFail||pt,afterFail:o.afterFail||pt,afterAll:o.afterAll||pt},function(){var t=Array.prototype.slice.call(arguments);t[1]={data:t[1],options:{timestamp:Date.now()}},W((function(){ut.publish.apply(ut,t)}))}("invokeAppServiceMethod",{name:e,type:n,args:r,callbackId:lt}),lt+=1}var H=new Function("return this;")(),Y=H.ttJSCore,K=H.webkit;H.ttJSCore&&(H.ttJSCore={onDocumentReady:function(){return Y.onDocumentReady()}});var J=navigator.userAgent.toLocaleLowerCase().includes(["touti","aomicroapp"].join(""));H.webkit&&J&&(H.webkit={messageHandlers:{onDocumentReady:{postMessage:function(){return K.messageHandlers.onDocumentReady.postMessage("")}}}});var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",$=$||function(t){for(var e,n,r=String(t),o="",i=0,a=Z;r.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&e>>8-i%1*8)){if((n=r.charCodeAt(i+=.75))>255)throw new Error('"btoa" failed');e=e<<8|n}return o},X=X||function(t){var e=String(t).replace(/=+$/,""),n="";if(e.length%4==1)throw new Error('"atob" failed');for(var r,o,i=0,a=0;o=e.charAt(a++);~o&&(r=i%4?64*r+o:o,i++%4)?n+=String.fromCharCode(255&r>>(-2*i&6)):0)o=Z.indexOf(o);return n},Q={new:F,get:U,pack:function(t){if(!1===z("Object")(t))return t;var e=[];for(var n in t){var r=t[n];if(void 0!==r&&r instanceof ArrayBuffer&&void 0!==r.byteLength){var o=F(r);o.key=n,e.push(o)}}if(e.length>0){for(var i=0;i<e.length;i++)delete t[e[i].key];t.__nativeBuffers__=e}return t},unpack:function(t){if(!1===z("Object")(t)||null==t.__nativeBuffers__)return t;var e=t.__nativeBuffers__;delete t.__nativeBuffers__;for(var n=0;n<e.length;n++){var r=e[n];if(null!=r){var o=U(r);void 0!==o&&o instanceof ArrayBuffer&&(t[r.key]=o)}}return t}},tt={},et=0,nt={},rt={},ot=[],it=!1,at=[],st={onAppEnterBackground:"onAppEnterBackground",onAppEnterForeground:"onAppEnterForeground"},ct={needCache:["showModal","showToast","showActionSheet","hideToast"],needDisabled:["onAccelerometerChange","onCompassChange"]},ut={on:function(t,e){nt[t]=e},publish:function(t,e,n){n=n||[],n=JSON.stringify(n),function(t,e,n){Y?Y.publish(t,e,n):K.messageHandlers.publish.postMessage({event:t,paramsString:e,webviewIds:n})}("custom_event_"+t,JSON.stringify(e),n)},invoke:function(t,e,n){e=Q.pack(e);var r=JSON.stringify(e||{}),o=++et;tt[o]=n,"openSchema"===t&&at.push(o),G(t,r,o)},subscribe:function(t,e){rt["custom_event_"+t]=e}};H.ttJSBridge={get invokeHandler(){return B},get subscribeHandler(){return q}};var lt=0,ft=[],ht=[],pt=function(){},dt=(function(){var t=Array.prototype.slice.call(arguments),e=t[1];t[1]=function(t,n){"string"==typeof t&&(t=JSON.parse(t));var r=t.data;"function"==typeof e&&e(r,n)},W((function(){ut.subscribe.apply(ut,t)}))}("callbackAppServiceMethod",(function(t){var e=t.res,n=t.isSuccess,r=t.callbackId,o=ft[r],i=ht[r];i.beforeAll(e),n?(i.beforeSuccess(e),o.success(e),i.afterSuccess(e)):(i.beforeFail(e),o.fail(e),i.afterFail(e)),o.complete(e),i.afterAll(e)})),{miniProgram:{redirectTo:function(t){V({name:"redirectTo",args:t,type:"jssdk"})},navigateTo:function(t){V({name:"navigateTo",args:t,type:"jssdk"})},switchTab:function(t){V({name:"switchTab",args:t,type:"jssdk"})},reLaunch:function(t){V({name:"reLaunch",args:t,type:"jssdk"})},navigateBack:function(t){V({name:"navigateBack",args:t,type:"jssdk"})},postMessage:function(t){t&&V({name:"postMessage",args:t,type:"jssdk"})},setSwipeBackModeSync:function(){V({name:"setSwipeBackMode",args:{mode:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0},type:"jssdk"})}}});function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){yt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==vt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===vt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bt=navigator.userAgent,_t=(/iPad|iPhone|iPod/i.test(bt),/aweme.lite/i.test(bt));var wt=navigator.userAgent.toLowerCase().includes("toutiaomicroapp");var Et=n(8031),xt=n(9669),St=n.n(xt),kt=n(9364),Ot=n(7856),Tt=n.n(Ot),jt=n(6758),Ct=function(t){return/^\d+$/.test(t)},Lt=function(t){return""===t||null==t||Array.isArray(t)&&!t.length},At=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];return Object.keys(t).forEach((function(e){var r=t[e];Lt(r)||n.push("".concat(e,"=").concat(r))})),n.length?e?"?".concat(n.join("&")):n.join("&"):""},It=[7226883,7227614,7010284,7010440];function Pt(t){var e=document.createElement("div");e.innerHTML=Tt().sanitize(t,{ADD_ATTR:["target"],ALLOW_UNKNOWN_PROTOCOLS:!0});var n=e.getElementsByClassName("knowledge_dynamic-variable");return Array.prototype.forEach.call(n,(function(t){t.className="knowledge_dynamic-variable",t.parentElement&&(t.parentElement.style.display="inline")})),e.innerHTML}function Nt(t){return 0==t.length?"":t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&#39;/g,"'").replace(/&quot;/g,'"')}function Rt(){return Number(d.CE)===jt.$W.PC||Number(d.qz)===jt.$W.PC||1==+d.Ue}function Dt(t){for(var e in t){var n=t[e];t[e]=/^http(s)?:\/\/.+/.test(n)?n:"".concat(location.protocol,"//").concat(n)}return t}var Mt=new Set,Ft=4,Ut=function(t){return t[t.UNKNOW=-1]="UNKNOW",t[t.WELCOME=1]="WELCOME",t[t.KNOWLEDGE=2]="KNOWLEDGE",t[t.CARD=3]="CARD",t[t.LAST=4]="LAST",t[t.ACTION5=5]="ACTION5",t[t.KEYWORD_TRANSFER=6]="KEYWORD_TRANSFER",t[t.HELP_CENTER=7]="HELP_CENTER",t[t.CATEGORY_CARD=8]="CATEGORY_CARD",t[t.FAST_REPLY=9]="FAST_REPLY",t[t.KNOWLEDGE_ASSOCIATE=14]="KNOWLEDGE_ASSOCIATE",t}({}),zt=function(t){return t[t.Faq=0]="Faq",t[t.Multi=1]="Multi",t[t.GuideCard=2]="GuideCard",t[t.Link=3]="Link",t}({}),Gt=function(t){return t[t.Robot=1]="Robot",t[t.Human=2]="Human",t}({}),Bt=function(t){return t[t.ERROR=-1]="ERROR",t[t.COMMON=0]="COMMON",t[t.GREET=1]="GREET",t[t.AGENT=2]="AGENT",t[t.AGENT_AND_COMMON=3]="AGENT_AND_COMMON",t[t.LITTLE_SMART_FAQ=4]="LITTLE_SMART_FAQ",t[t.LITTLE_SMART_COMMON=5]="LITTLE_SMART_COMMON",t[t.FLOW=6]="FLOW",t[t.FILE=7]="FILE",t[t.SLOT=8]="SLOT",t}({}),qt=function(t){return t.AanswerByPreInquiryForm="1",t}({});function Wt(t){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(t)}function Vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(n),!0).forEach((function(e){Kt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jt(r.key),r)}}function Kt(t,e,n){return(e=Jt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jt(t){var e=function(t,e){if("object"!==Wt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Wt(e)?e:String(e)}function Zt(){Zt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Wt(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Wt(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function $t(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Xt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){$t(i,r,o,a,s,"next",t)}function s(t){$t(i,r,o,a,s,"throw",t)}a(void 0)}))}}var Qt=Date.now(),te=function(){var t=Xt(Zt().mark((function t(e,n){var r;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(null===(r=e.message)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.answerByPreInquiryForm)===qt.AanswerByPreInquiryForm&&(e.message.bottomComponent={code:"transfer-tips",isRemote:!1,version:"",meta:{},config:{}}),t.next=3,n();case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),ee=function(){var t=Xt(Zt().mark((function t(e,n){var o,i,a,s,c,u,l,f,h,p,d,v,g,m,y,b,_,w,E,x,S;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.appContext,s=e.message,(Mt.has(null===(o=e.message)||void 0===o?void 0:o.serverId)||(null===(i=s.createdAt)||void 0===i||null===(a=i.getTime)||void 0===a?void 0:a.call(i))>=Qt)&&(s.isNew=!0),![r.V$.MESSAGE_TYPE_IMAGE,r.V$.MESSAGE_TYPE_VIDEO,r.V$.MESSAGE_TYPE_FILE].includes(Number(s.type))||s.content||s.fileInfo||(e.message.hide=!0);try{if(Number(s.type)===r.V$.JARVIS_TYPE&&s.content){if(f=JSON.parse(s.content),h=f.componentMeta,p=void 0===h?"{}":h,d=f.componentConfig,v=void 0===d?"{}":d,g=JSON.parse(v)||{},m=JSON.parse(p)||{},y=m.name,b=m.version,_=null==y||null===(c=y.replace)||void 0===c?void 0:c.call(y,/@/g,""),w="//sf1-cdn-tos.toutiaostatic.com/obj/unpkg",e.message.component={code:m.componentCode,version:b,isRemote:!0,meta:m,config:g,component:{js:"".concat(w,"/").concat(_,"/").concat(b,"/lib/index.js"),css:"".concat(w,"/").concat(_,"/").concat(b,"/lib/index.css")}},"fixed-card"===m.componentType&&(e.message.user.avatar=null,e.message.position="fixed"),"none"===m.avatar&&(e.message.user.avatar=null,e.message.position="auto"),"fixed-message-list-card"===m.componentType&&(e.message.user.avatar=null,e.message.position="to-messagelist"),"single-fixed-message-list-card"===m.componentType&&(e.message.user.avatar=null,e.message.position="single-to-messagelist"),"jarvis-component-sorting-cards"===m.componentCode&&(e.message.user.avatar=null),null!==(u=e.message)&&void 0!==u&&null!==(u=u.ext)&&void 0!==u&&u.jarvis_data)try{e.message.jarvisData=JSON.parse(null===(E=e.message)||void 0===E||null===(E=E.ext)||void 0===E?void 0:E.jarvis_data)}catch(t){e.message.jarvisData={}}"jarvis-component-auto-answer-react"===m.componentCode&&(e.message.component.code="jarvis-component-auto-answer-react",e.message.component.version="",e.message.component.isRemote=!1,e.message.expansion=(e.message.expansion||[]).filter((function(t){return"thumbs-up-down"!==t.code})),e.message.expansion.push({code:"thumbs-up-down",version:"",meta:{},config:{transferAfterHate:g.transferAfterHate}})),"jarvis-components-feedback"===m.componentCode&&(e.message.hide=!0),"2"===(null===(l=e.message)||void 0===l||null===(l=l.ext)||void 0===l?void 0:l.mixedType)&&(e.message.hide=!0);try{x=JSON.parse(f.cdn),e.message.component.component=window.$isOversea?{js:"//".concat(x.sg.js),css:"//".concat(x.sg.css)}:{js:"//".concat(x.cn.js),css:"//".concat(x.cn.css)}}catch(t){e.message.hide=!0}}}catch(t){e.message.hide=!0,null===(S=e.logger)||void 0===S||S.error("LINKCHAT_JARVIS_MESSAGE_ERROR",{title:"LINKCHAT_JARVIS_MESSAGE_ERROR",info:t}),console.warn(t)}return e.message.handledByJarvis=!0,t.next=7,n();case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),ne=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Kt(this,"name","jarvisPlugin"),Kt(this,"config",void 0),Kt(this,"dialogUniqueId",""),Kt(this,"quickConfig",void 0),Kt(this,"dmcQuickConfig",void 0),Kt(this,"messageClientId",""),Kt(this,"unReadCount",0),Kt(this,"getSceneData",(function(t){var n=t.sceneCodes,r=t.appCode,o=t.env,i=t.sameOrigin,a=t.channelTerminal,s=void 0===a?-1:a,c=t.channelEntry,u=void 0===c?-1:c;o||(o=e.getEnv());var l="".concat({prod:"//jarvis.bytedance.net",pre:"//jarvis-test.bytedance.net",boe:"//jarvis-boe.bytedance.net"}[o]);i&&(l=window.location.origin.includes("lf-linkchat.feishu.cn")?"https://ngcc.bytedance.com/jarvis":"/jarvis");var f=l+"/service/api/config/appScene/getScenes";return St()({url:f+"?"+new URLSearchParams({sceneCodes:n,appCode:r,channelTerminal:s,channelEntry:u}),timeout:6e3})})),Kt(this,"getSceneConfigData",(function(t){var n=t.sceneCodes,r=t.env,o=t.sameOrigin,i=t.bid,a=e.getSceneData;return new Promise((function(t){var s=e.config,c=s.appCode,u=s.channel,l=void 0===u?-1:u,f=s.channelId,h=void 0===f?-1:f;a({sceneCodes:n,appCode:c||"ngcc_".concat(i),env:r,sameOrigin:o,channelTerminal:l,channelEntry:h}).then((function(t){return t.data})).then((function(e){t(e.data)})).catch((function(){t({})}))}))})),this.config=n,this.quickConfig=[],this.dmcQuickConfig=[]}var e,n,o;return e=t,n=[{key:"apply",value:function(t,e){t.addSingleton(this.name,this)}},{key:"lifecycle",get:function(){var t,e,n,o=this;return Kt(t={},kt.Fw.APP_WILL_MOUNT,(n=Xt(Zt().mark((function t(e){var n,r,i;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=JSON.parse(decodeURIComponent(window.$jarvisConfig))}catch(t){n=null}r=function(t){var n,r;try{r=t["ui-pro"].appScene?JSON.parse(t["ui-pro"].appScene):t["ui-pro"].defaultConfig?JSON.parse(t["ui-pro"].defaultConfig):{}}catch(t){r={}}var i,a,s=e.query.isPc?r.pc:r.h5;o.quickConfig=((null==s?void 0:s.quickReplies)||[]).map((function(t){var n=t.fixedCard,r=t.component;switch(t.display){case"default":switch(t.action){case"card":return{key:t.name,type:"cmd",label:t.name,data:{code:"render",display:t.display,agentActive:t.agentActive,robotActive:t.robotActive,data:{code:n.componentCode,version:n.version,config:n.configData,isRemote:!0,meta:{},component:{js:"//".concat(n.cdn[window.$isOversea?"sg":"cn"].js),css:"//".concat(n.cdn[window.$isOversea?"sg":"cn"].css)}}}};case"api":return{key:t.name,type:"cmd",label:t.name,data:{code:"exec",display:t.display,agentActive:t.agentActive,robotActive:t.robotActive,data:function(){e.utils.handleQuickBtn(e,t)}}}}case"custom":return"card"===t.customAction?r&&{key:t.name,type:"cmd",label:{code:null==r?void 0:r.componentCode,version:r.version,config:r.configData,isRemote:!0,meta:{},component:{js:"//".concat(r.cdn[window.$isOversea?"sg":"cn"].js),css:"//".concat(r.cdn[window.$isOversea?"sg":"cn"].css)}},data:{code:"render",data:{code:n.componentCode,version:n.version,config:n.configData,isRemote:!0,meta:{},component:{js:"//".concat(n.cdn[window.$isOversea?"sg":"cn"].js),css:"//".concat(n.cdn[window.$isOversea?"sg":"cn"].css)}}}}:r&&{key:t.name,label:{code:null==r?void 0:r.componentCode,version:r.version,config:r.configData,isRemote:!0,meta:{},component:{js:"//".concat(r.cdn[window.$isOversea?"sg":"cn"].js),css:"//".concat(r.cdn[window.$isOversea?"sg":"cn"].css)}},data:t}}})),o.dmcQuickConfig=((null===(n=r)||void 0===n||null===(n=n.h5)||void 0===n?void 0:n.quickReplies)||[]).map((function(t){var n=t.fixedCard,r=t.component;switch(t.display){case"default":switch(t.action){case"card":return{key:t.name,type:"cmd",label:t.name,data:{code:"render",display:t.display,agentActive:t.agentActive,robotActive:t.robotActive,data:{code:n.componentCode,version:n.version,config:n.configData,isRemote:!0,meta:{},component:{js:"//".concat(n.cdn[window.$isOversea?"sg":"cn"].js),css:"//".concat(n.cdn[window.$isOversea?"sg":"cn"].css)}}}};case"api":return{key:t.name,type:"cmd",label:t.name,data:{code:"exec",display:t.display,agentActive:t.agentActive,robotActive:t.robotActive,data:function(){e.utils.handleQuickBtn(e,t)}}}}case"custom":return"card"===t.customAction?r&&{key:t.name,type:"cmd",label:{code:null==r?void 0:r.componentCode,version:r.version,config:r.configData,isRemote:!0,meta:{},component:{js:"//".concat(r.cdn[window.$isOversea?"sg":"cn"].js),css:"//".concat(r.cdn[window.$isOversea?"sg":"cn"].css)}},data:{code:"render",data:{code:n.componentCode,version:n.version,config:n.configData,isRemote:!0,meta:{},component:{js:"//".concat(n.cdn[window.$isOversea?"sg":"cn"].js),css:"//".concat(n.cdn[window.$isOversea?"sg":"cn"].css)}}}}:r&&{key:t.name,label:{code:null==r?void 0:r.componentCode,version:r.version,config:r.configData,isRemote:!0,meta:{},component:{js:"//".concat(r.cdn[window.$isOversea?"sg":"cn"].js),css:"//".concat(r.cdn[window.$isOversea?"sg":"cn"].css)}},data:t}}}));try{var c,u,l;i=JSON.parse(t.themeConfig.appScene),e.renderConfig.avatars={sender:i.userAvatar,revicer:i.robotAvatar},e.themes={"primary-color":i.primaryColor,"bubble-left-bg":i.leftMsgBg,"bubble-left-font-color":i.leftMsgColor,"bubble-right-bg":i.rightMsgBg,"bubble-right-font-color":i.rightMsgColor,"container-bg":i.dialogBg,"nav-bg":i.primaryColor,"quick-button-bg":i.quickBtnBg||i.leftMsgBg,"quick-button-font-color":i.quickBtnColor||i.leftMsgColor,"linkchat-ui-card-border-radius":null===(c=i.leftMsgRadius)||void 0===c?void 0:c.split(",").map((function(t){return"".concat(Ct(t)?t:Ft,"px")})).join(" "),"bubble-left-border-radius":null===(u=i.leftMsgRadius)||void 0===u?void 0:u.split(",").map((function(t){return"".concat(Ct(t)?t:Ft,"px")})).join(" "),"bubble-right-border-radius":null===(l=i.rightMsgRadius)||void 0===l?void 0:l.split(",").map((function(t){return"".concat(Ct(t)?t:Ft,"px")})).join(" ")}}catch(t){}((null==s?void 0:s.input)||[]).forEach((function(t){switch(t.name){case"recommend":if(!t.active)return;e.autoComplete.labelKey="question",e.autoComplete.getData=function(){var n=Xt(Zt().mark((function n(r,i){var s,c,u,l,f;return Zt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e.dialog,c=s.ext||{},u=Number(c.type),l=Number(c.dialogId),n.next=6,new Promise((function(n){clearTimeout(a),a=setTimeout((function(){var i,a,s=r&&r.trim().replace(/\n/g,"").replace(/\r/g,"");if(!t.active||!s||String(s).length<2||2!==Number(u))n({list:[]});else{var c,f=t.editAPI?t.api:{uniqueUrl:"/api/im-robot/knowledge/associate",requestType:"post",parameter:'{"businessLineId": "${businessLineId}", "question":"${question}", "pageIndex": 1, "pageNum": 5, "isUsed": 1, "entryId": "${entryId}", "channel": "${channel}", "sort": "_score", "sortType": "desc", "types": ${types}, "fromType": 2,  "dialogId": ${dialogId} }'},h=f.parameter.replace("${businessLineId}",o.config.bid).replace("${question}",s).replace("${entryId}",o.config.channelId).replace("${channel}",o.config.channel).replace("${types}","[0,3,6]").replace("${dialogId}",Number(l));try{c=JSON.parse(h)}catch(t){"解析按钮入参出错：".concat(h),c={}}null===(i=e.utils)||void 0===i||null===(a=i.fetch)||void 0===a||a.call(i,f.uniqueUrl,{method:f.requestType,data:c}).then((function(t){var e=t.info||[];n({list:e})})).catch((function(t){n({list:[]})}))}}),300)}));case 6:return f=n.sent,n.abrupt("return",f);case 8:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}();break;case"messageDelete":t.active&&(e.renderConfig.messageDelete=!0);case"openAudio":t.active&&"openAudio"===t.name&&(e.renderConfig.openAudio=!0);case"hideAvatar":t.active&&"hideAvatar"===t.name&&(e.renderConfig.hideAvatar=!0);case"hideReply":t.active&&"hideReply"===t.name&&(e.renderConfig.hideReply=!0)}})),j({title:"javaisConfig",info:s}),e.renderConfig.toolPanel=((null==s?void 0:s.toolbox)||[]).filter((function(t){return t.active})).map((function(t){var e=t.component;return e&&{label:t.desc,data:{},icon:{code:null==e?void 0:e.componentCode,version:e.version,config:e.configData,isRemote:!0,meta:{},component:{js:"//".concat(e.cdn[window.$isOversea?"sg":"cn"].js),css:"//".concat(e.cdn[window.$isOversea?"sg":"cn"].css)}}}}))},n&&n.themeConfig&&n["ui-pro"]?r(n):null===(i=e.jarvisPlugin)||void 0===i||i.getSceneConfigData({bid:e.userInfo.businessLineId,sceneCodes:"ui-pro,themeConfig",env:"",sameOrigin:!0}).then((function(t){r(t)})).catch((function(t){var n;throw null===(n=e.logger)||void 0===n||n.error("JARVIS获取配置失败",{info:t}),t}));case 3:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})),Kt(t,kt.Fw.APP_DID_MOUNT,(function(t){try{var e;d.UH&&(null===(e=t.logger)||void 0===e||e.info("linkchat_preload",{isInIframe:self!==top,isPc:t.query.isPc}))}catch(t){}})),Kt(t,kt.Fw.MESSAGE_CHANGE,(e=Xt(Zt().mark((function t(e,n){return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.isNew=!0,Mt.add(n.serverId),window.parent&&window.parent.postMessage({action:"LINKCHAT_NEW_MESSAGE",message:JSON.stringify(n)},"*");case 3:case"end":return t.stop()}}),t)}))),function(t,n){return e.apply(this,arguments)})),Kt(t,kt.Fw.DIALOG_CHANGE,(function(t,e){var n,i;try{var a;null!=t&&null!==(a=t.query)&&void 0!==a&&a.isPc&&e.unreadCount!==o.unReadCount&&(o.unReadCount=e.unreadCount,window.parent&&window.parent.postMessage({action:"LINKCHAT_MESSAGE_COUNT",unReadCount:e.unreadCount},"*"))}catch(t){}var s=t.dialogInfo||{},c=s.uniqueId,u=s.useDmc;if(((null==t||null===(n=t.dialog)||void 0===n?void 0:n.ext)||{}).status===r.Mc.ENDING&&null!=t&&null!==(i=t.ext)&&void 0!==i&&i.showRobotEvaBtn&&(t.ext.showRobotEvaBtn=!1,window.sessionStorage.removeItem("queryRobotEvaBtnNums")),c&&o.dialogUniqueId!==c)if(u){o.dialogUniqueId=c;var l=[];t.utils.services.apis.getFastButtonConfig(c).then((function(e){if(e&&e.data){var n=e.data;try{var r=JSON.parse(n)||{},i=r.fastFunctionButtonList,a=r.displayFastFunctionButton,s=r.fastQuestionButtonList,c=r.displayFastQuestionButton;if(null!=i&&i.length&&a&&(l=l.concat(i.map((function(t){var e,n,r=o.dmcQuickConfig.find((function(e){return(null==t?void 0:t.name)===(null==e?void 0:e.key)})),i=(null==t||null===(e=t.jarvisConfig)||void 0===e||null===(e=e.split("_"))||void 0===e?void 0:e[1])||"";return r&&null!=t&&null!==(n=t.showTimes)&&void 0!==n&&n.length?Ht(Ht({},r),{},{data:Ht(Ht({},r.data),{},{agentActive:t.showTimes.indexOf(Gt.Human)>-1,robotActive:t.showTimes.indexOf(Gt.Robot)>-1,robotEvaTempId:i})}):null})).filter((function(t){return t})))),c&&null!=s&&s.length&&(l=l.concat(s.map((function(e){var n;return Ht(Ht({label:e.name},e),{},{source:jt.ak.FastButton,func:null===(n=t.utils)||void 0===n?void 0:n.shortCutFunc,data:{agentActive:!1,robotActive:!0,display:"default"}})})))).some((function(t){return"结束会话"===t.key}))){var u=l.findIndex((function(t){return"结束会话"===t.key})),f=l.splice(u,1)[0];l.push(f)}t.renderConfig.quickButtons=l}catch(t){}}}))}else{var f;null!==(f=t.renderConfig.quickButtons)&&void 0!==f&&f.length||(t.renderConfig.quickButtons=o.quickConfig)}})),t}},{key:"layout",get:function(){return{}}},{key:"utils",get:function(){return{}}},{key:"jsBridge",get:function(){return{}}},{key:"theme",get:function(){return{}}},{key:"middleware",get:function(){return{receive:[ee,te],send:[]}}},{key:"customFunction",value:function(){}},{key:"getEnv",value:function(){var t=window.location.host;return t.indexOf("-boe")>-1||t.indexOf("localhost")>-1?"boe":"prod"}}],n&&Yt(e.prototype,n),o&&Yt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function re(t){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(t)}function oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(n),!0).forEach((function(e){ae(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ae(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==re(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===re(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const se=function(t,e){var n,r,o,i,a,s,c,u,l,f=e.parentMessageId,h=void 0===f?"":f,p=e.rootMessageId,d=void 0===p?"":p,v=null==t||null===(n=t.utils)||void 0===n?void 0:n.$track,g=null!=e&&e.source&&Number(null==e?void 0:e.source)===jt.ak.Classify?{botDialogID:null===(r=t.dialog)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.dialogId,cardName:e.name,cardType:e.answerType,userId:null===(o=t.ext)||void 0===o?void 0:o.userId}:{botDialogID:null===(i=t.dialog)||void 0===i||null===(i=i.ext)||void 0===i?void 0:i.dialogId,buttonName:e.name,buttonType:jt.c9.Question,QuestionButtonType:e.answerType,userId:null===(a=t.ext)||void 0===a?void 0:a.userId};v&&v({event:(null==e?void 0:e.source)===jt.ak.Classify?"CategoryCard_click":"QuickButton_click",params:g});var m=(null==e?void 0:e.source)===jt.ak.Classify?String(Ut.CATEGORY_CARD):String(Ut.FAST_REPLY),y={};switch(d&&(y.rootMessageId=d),h&&(y.parentMessageId=h),null==e?void 0:e.answerType){case zt.Faq:null===(s=t.sendMessage)||void 0===s||s.call(t,{content:e.name},ie(ie({robotMessageType:m},y),{},{knowledgeType:String(Bt.COMMON),knowledgeId:String(e.questionId),knowledgeExt:JSON.stringify({knowledgeType:String(Bt.COMMON),knowledgeId:String(e.questionId)})}));break;case zt.Multi:null===(c=t.sendMessage)||void 0===c||c.call(t,{content:e.name},ie(ie({robotMessageType:m},y),{},{knowledgeType:String(Bt.FLOW),knowledgeId:String(e.questionId),knowledgeExt:JSON.stringify({knowledgeType:String(Bt.FLOW),knowledgeId:String(e.questionId)})}));break;case zt.GuideCard:null===(u=t.sendMessage)||void 0===u||u.call(t,{content:e.name},ie(ie({robotMessageType:m},y),{},{faqId:String(e.questionId),clickSourceType:String(null==e?void 0:e.source)}));break;case zt.Link:(null==e?void 0:e.value)&&(null==t||null===(l=t.jsBrige)||void 0===l||l.openWindow(null==e?void 0:e.value));break;default:throw new Error("quickDetail error"+JSON.stringify(e))}};function ce(t){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(t)}function ue(){ue=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ce(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(ce(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function le(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var fe=["jarvis-feiyu-feedback","jarvis-components-imFormCompany","jarvis-component-imFormCall","jarvis-components-imFormPersonal"],he=function(){var t,e=(t=ue().mark((function t(e,n){var r,o,i,a,s,c,u,l,f,h,p,v,g,m,y,b,_,w,E,x,S,k,O,T,j,C,L,A,I;return ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e||null===(r=e.watchOfflineForm)||void 0===r||!r.renderReactForm){t.next=2;break}return t.abrupt("return");case 2:if(h=n.jarvisId,p=n.useDmc,v=n.from_robot_dialog,g=n.dialogId,m=n.uniqId,!h){t.next=14;break}return t.next=6,null==e||null===(y=e.utils)||void 0===y?void 0:y.fetch("/jarvis/service/api/config/component/common/get/".concat(+h));case 6:b=t.sent,_=b.componentMetaVo,w=void 0===_?{}:_,E=b.componentConfig,c=JSON.parse(E),u=null==w?void 0:w.componentCode,f=JSON.parse(w.cdn),l=w.version,t.next=25;break;case 14:return t.next=16,null==e||null===(x=e.jarvisPlugin)||void 0===x?void 0:x.getSceneConfigData({sceneCodes:"imForm",env:"boe"===d.OB?"boe":"prod",appCode:"ngcc_".concat(d.lb),sameOrigin:!0,lang:d.KQ});case 16:k=t.sent,O=k.imForm,T=O.appScene;try{T=JSON.parse(T)}catch(t){T={}}j=(null===(S=T)||void 0===S?void 0:S.form_type)||{},u=j.componentCode,c=j.configData,l=j.version,f=j.cdn||{};case 25:if(window.$isOversea?Dt(null===(o=f)||void 0===o?void 0:o.sg):Dt(null===(i=f)||void 0===i?void 0:i.cn),!fe.some((function(t){return t===u}))){t.next=34;break}return L="".concat(v?"&from_robot_dialog=".concat(v):"").concat(g?"&dialogId=".concat(g):"").concat(m?"&uniqId=".concat(m):""),!(A="".concat(location.origin,"/im-linkchat/jarvis_form.html?").concat(location.href.split("?")[1]).concat(L)).includes("jarvisId=")&&(A+="&jarvisId=".concat(h)),!A.includes("useDmc=")&&(A+="&useDmc=".concat(p||h?"1":"0")),!h&&null!==(C=e.watchOfflineForm)&&void 0!==C&&C.jumpUrl&&(P=null===(I=e.watchOfflineForm)||void 0===I?void 0:I.jumpUrl,A=0==P.length?"":P.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&#39;/g,"'").replace(/&quot;/g,'"')),1===v?location.href=A:location.replace(A),t.abrupt("return");case 34:e.watchOfflineForm={useDmc:p,jarvisId:h,renderReactForm:!0,formRenderData:{config:c,code:u,isRemote:!0,version:l,component:window.$isOversea?Dt(null===(a=f)||void 0===a?void 0:a.sg):Dt(null===(s=f)||void 0===s?void 0:s.cn)},extraData:{from_robot_dialog:v,uniqId:m,dialogId:g}};case 35:case"end":return t.stop()}var P}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){le(i,r,o,a,s,"next",t)}function s(t){le(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(t,n){return e.apply(this,arguments)}}();const pe=he;function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function ve(){ve=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==de(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(de(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function ge(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function me(t,e,n,r){return ye.apply(this,arguments)}function ye(){var t;return t=ve().mark((function t(e,n,r){var o,i,a,s,c,u,l,f,h,p,d;return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,null===(o=this.appContext)||void 0===o||null===(o=o.utils)||void 0===o?void 0:o.fetch("/jarvis/service/api/config/component/common/get/".concat(+e));case 4:u=t.sent,l=u.componentMetaVo,f=void 0===l?{}:l,h=u.componentConfig,i=JSON.parse(h),a=null==f?void 0:f.componentCode,c=JSON.parse(f.cdn),s=f.version,this.appContext&&(this.appContext.renderConfig.popConfig={visible:!0,componentConfig:{config:i,code:a,isRemote:!0,version:s,component:window.$isOversea?Dt(null===(p=c)||void 0===p?void 0:p.sg):Dt(null===(d=c)||void 0===d?void 0:d.cn)},componentData:r||{},message:n});case 11:case"end":return t.stop()}}),t,this)})),ye=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ge(i,r,o,a,s,"next",t)}function s(t){ge(i,r,o,a,s,"throw",t)}a(void 0)}))},ye.apply(this,arguments)}var be=n(4936);function _e(t){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(t)}function we(){we=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==_e(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(_e(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function Ee(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var xe=!1,Se=function(t){return t[t.Success=1]="Success",t[t.Form=2]="Form",t[t.InquiryForm=4]="InquiryForm",t}({}),ke=function(t){return function(){var e,n=(e=we().mark((function e(n,o){var i,a,s,u,l,f,h,p,v,g,m,y,b,_,w,E,S,O,T,C,L,A,I,P,N,R,D,M,F;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.id,u=n.rootMessageId,l=n.messageId,f=n.messageExt,h=n.skillId,p=n.secretUser,v=n.transferType,g=n.source,m=n.preInquiryForm,!xe){e.next=3;break}return e.abrupt("return");case 3:if(xe=!0,y={dialogId:s||(null===(i=t.dialog)||void 0===i||null===(i=i.ext)||void 0===i?void 0:i.dialogId),rootMessageId:u||(null==f?void 0:f.rootMessageId)||(null==o||null===(a=o.ext)||void 0===a?void 0:a.rootMessageId)||(null==o?void 0:o.serverId),messageId:l||(null==o?void 0:o.serverId),ext:f||(null==o?void 0:o.ext)},e.prev=5,null===(b=y.ext)||void 0===b||!b.transferRuleId){e.next=17;break}return O={id:y.dialogId,source:g,queueId:h,transferRuleId:null===(_=y.ext)||void 0===_?void 0:_.transferRuleId,jarvisEventCode:d.$n,rootMessageId:y.rootMessageId,messageId:y.messageId,preInquiryForm:m},null!==(w=y.ext)&&void 0!==w&&w.dmcNodeId&&"null"!==(null===(E=y.ext)||void 0===E?void 0:E.dmcNodeId)&&(O.dmcNodeId=Number(y.ext.dmcNodeId)),e.next=11,null==t||null===(S=t.utils)||void 0===S||null===(S=S.services)||void 0===S?void 0:S.transferAgentWithDmc(O);case 11:T=e.sent,C=T.data,xe=!1,C&&C.transferResultType&&(L=C.offlineFormInfo,A=C.preInquiryFormInfo,+(null==C?void 0:C.transferResultType)===Se.Form?null==t||null===(I=t.utils)||void 0===I||I.jumpToOfflineForm(t,{useDmc:1,jarvisId:null==L?void 0:L.jarvisComponentId,from_robot_dialog:1,dialogId:y.dialogId,uniqId:null==L||null===(P=L.fromDialogInfo)||void 0===P?void 0:P.uniqId}):+(null==C?void 0:C.transferResultType)===Se.InquiryForm&&(null==t||null===(N=t.utils)||void 0===N||N.openLinkchatPopup(null==A?void 0:A.jarvisComponentId,o))),e.next=23;break;case 17:return e.next=19,null==t||null===(R=t.utils)||void 0===R||null===(R=R.services)||void 0===R?void 0:R.transferAgent({id:y.dialogId,transferType:void 0!==v?v:be.tP.ROBOT_TO_AGENT,referenceId:d.CS,secretFromUserId:decodeURIComponent(p||""),skillId:h,openId:d.GG,source:g,jarvisEventCode:d.$n,rootMessageId:y.rootMessageId,messageId:y.messageId});case 19:D=e.sent,M=D.data,xe=!1,1==+(null==M?void 0:M.transferJumpType)&&(null==t||null===(F=t.utils)||void 0===F||F.jumpToOfflineForm(t,{dialogId:y.dialogId,from_robot_dialog:1,uniqId:null==M?void 0:M.uniqId}));case 23:e.next=31;break;case 25:throw e.prev=25,e.t0=e.catch(5),xe=!1,c.Toast.show(e.t0.message||r.oc.t("transfer_failed",{},"转接失败")),j({level:x,title:k,info:JSON.stringify(e.t0)}),e.t0;case 31:case"end":return e.stop()}}),e,null,[[5,25]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){Ee(i,r,o,a,s,"next",t)}function s(t){Ee(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(t,e){return n.apply(this,arguments)}}()},Oe=function(t){return function(e,n){var o,i,a,s=e.secretUser,c=e.userId,u=null==t||null===(o=t.utils)||void 0===o?void 0:o.$track,l=(null===(i=t.dialog)||void 0===i?void 0:i.ext)||{},f=l.type,h=l.status,p=l.dialogId,d=n.ext,v=n.type;Number(v)!==be.V$.ROBOT_THUMBS_TYPE&&Number(v)!==be.V$.JARVIS_TYPE||!(null!=d&&d.skillId||null!=d&&d.directTransfer)||Number(f)!==r.My.ROBOT||Number(h)!==r.Mc.PENDING||Number(p)!==Number(d.dialogId)||(u({event:"yindaowenti_zhuanrengongshu",params:{userId:c,botDialogID:p,questionID:d&&d.faqId,questionName:d&&d.faqName}}),null===(a=t.utils)||void 0===a||a.transferPeople({id:Number(p),skillId:d.skillId,secretUser:s,transferType:be.tP.ROBOT_TO_SKILL,messageExt:d},n))}};function Te(t){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Te(t)}var je=["base","params","data","headers"];function Ce(){Ce=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Te(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Te(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function Le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(n),!0).forEach((function(e){Ie(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ie(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Te(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Te(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pe(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Ne(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Re(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ne(i,r,o,a,s,"next",t)}function s(t){Ne(i,r,o,a,s,"throw",t)}a(void 0)}))}}var De=["english.ggl.cn","boe-www.guagualong.bytedance.net","saletools-test.yangyi07.com","saletools.yangyi07.com","linkchat.feishu-boe.cn","linkchat.feishu.cn","math.npy.cn","boe-npy.bytedance.net","h5.daliapp.net","parent-pre.fclassroom.cn","parent.fclassroom.com","parent-pre-fclassroom.bytedance.net","aweme.snssdk.com","aweme.snssdk.com.boe-gateway.byted.org","boe-pangle-ssr.bytedance.net","www.csjplatform.com","www.ifyooou.com","support.ifyooou.com","mall-pico-boe.bytedance.net","mall.picoxr.com","bess.bytedance.net","moss.jijixiangshangabc.com"];try{window.$domainConfig&&(De=JSON.parse(Nt(window.$domainConfig)))}catch(t){}function Me(){return De.includes(location.host)?"/ocic":window.location.origin.includes("lf-linkchat.feishu.cn")?"https://ngcc.bytedance.com":""}var Fe={"im-client-mark":"im_client","secret-str":encodeURIComponent(d.MM||""),businessLineId:d.lb,timestamp:d.AB,sign:d.Xx,lang:d.KQ},Ue=function(t){for(var e in t)Fe[e]=t[e]},ze=function(t){if(t.status>=200&&t.status<300)return t;var e=new Error("".concat(t.statusText," (").concat(t.status,")"));throw e.response=t,r.jH.next({type:r.QS.NET_ERROR,error:e}),e};var Ge=function(t){return t.data},Be=function(t){var e=t.result,n=t.description,r=t.data;if(e){var o=new Error(n);throw o.response=t,o}return r},qe=function(){var t=Re(Ce().mark((function t(e){var n,r,o,i,a,s,c,u,l,f,h,p=arguments;return Ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(n=p.length>1&&void 0!==p[1]?p[1]:{}).base,o=void 0===r?"":r,i=n.params,a=n.data,s=n.headers,c=void 0===s?{}:s,u=Pe(n,je),l=Ae({headers:Ae(Ae({},Fe),c),credentials:"include"},u),f=At(i),De.includes(location.host)&&(o="/ocic".concat(o)),h="".concat(o).concat(e).concat(f),t.abrupt("return",St()(Ae({url:h,data:a},l)));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),We=function(t){throw 401===t.response.status&&r.jH.next({type:r.QS.NET_ERROR,error:t}),t},Ve=function(){var t=Re(Ce().mark((function t(e){var n,r,o=arguments;return Ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=o.length>2&&void 0!==o[2]&&o[2],t.abrupt("return",r?He(e,n):qe(e,n).then(ze).then(Ge).then(Be).catch(We));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),He=function(){var t=Re(Ce().mark((function t(e){var n,r=arguments;return Ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",qe(e,n).then(ze).then(Ge));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function Ye(t){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ye(t)}function Ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ke(Object(n),!0).forEach((function(e){Ze(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ze(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Ye(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ye(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $e(){$e=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Ye(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ye(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function Xe(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Qe(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Xe(i,r,o,a,s,"next",t)}function s(t){Xe(i,r,o,a,s,"throw",t)}a(void 0)}))}}var tn=function(){var t=Qe($e().mark((function t(e,n){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ve("/api/im-session/user/token/client",{method:"POST",data:e,headers:n}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),en="linkchat_local_base_config";function nn(t){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(t)}function rn(){rn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==nn(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(nn(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function on(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function an(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){on(i,r,o,a,s,"next",t)}function s(t){on(i,r,o,a,s,"throw",t)}a(void 0)}))}}var sn=function(){var t=an(rn().mark((function t(e){var n,r;return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("1"===(null===(n=e.dialog)||void 0===n?void 0:n.ext.status)){t.next=4;break}return t.next=3,o={jarvisEventCode:d.VJ,dialogId:null===(r=e.dialog)||void 0===r?void 0:r.ext.dialogId},Ve("/api/im-session/dialog",{method:"DELETE",data:Je(Je({},o),{},{endType:4})});case 3:t.sent;case 4:case"end":return t.stop()}var o}),t)})));return function(e){return t.apply(this,arguments)}}();const cn="content_O-l3v";var un=!1;const ln=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!un){un=!0;c.Dialog.show({showCloseButton:!1,closeOnMaskClick:!1,content:a().createElement("div",{className:cn},t||r.oc.t("request_failed__please_try_again!_2",{},"请求失败，请再次尝试！")),actions:[{key:"once",text:r.oc.t("try_again",{},"再次尝试"),onClick:function(){e?window.location.replace(function(t){for(var e=window.location.href.split("?")[0]+"?",n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var o=n[r].split("=");t.includes(o[0])||(e+="".concat(o[0],"=").concat(o[1],"&"))}return e.substring(0,e.length-1)}(["token","imUserId"])):window.location.reload()}}]})}};var fn=n(6896);function hn(t){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(t)}function pn(){pn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==hn(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(hn(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function dn(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function vn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){dn(i,r,o,a,s,"next",t)}function s(t){dn(i,r,o,a,s,"throw",t)}a(void 0)}))}}function gn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gn(Object(n),!0).forEach((function(e){yn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yn(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==hn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==hn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===hn(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bn=r.me.MessageType,_n=function(t){var e={width:"",height:""},n=mn({},t.knowledgeExt);return t.faqId&&(n.faqId=String(t.faqId)),t.type===bn.MESSAGE_TYPE_IMAGE&&(e=t.fileArr&&t.fileArr.map((function(t){return t.imageSize}))[0]),{ext:n,imageSize:e}},wn=!1;const En=function(){var t=vn(pn().mark((function t(e,n,o){var i,a,s,u,l,f,h,p,d,v,g;return pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!wn||n.isPasteFile){t.next=3;break}return c.Toast.show(r.oc.t("too_fast__slow_down",{},"太快了！慢一点吧~")),t.abrupt("return");case 3:if(wn=!0,setTimeout((function(){return wn=!1}),1e3),t.prev=5,i=n.type,a=n.fileArr,s=_n(n),u=s.ext,l=s.imageSize,f=mn(mn({},u),o),h=null,i!==bn.MESSAGE_TYPE_IMAGE&&i!==bn.MESSAGE_TYPE_VIDEO&&i!==bn.MESSAGE_TYPE_FILE){t.next=18;break}return d=[],Array.isArray(a)&&a.forEach((function(t){var n;p={displayType:i===bn.MESSAGE_TYPE_IMAGE?r.Tv.Image:i===bn.MESSAGE_TYPE_VIDEO?r.Tv.Video:r.Tv.CommonFile,type:i===bn.MESSAGE_TYPE_IMAGE?r.Tv.Image:i===bn.MESSAGE_TYPE_VIDEO?r.Tv.Video:r.Tv.CommonFile,fileHandler:t},i===bn.MESSAGE_TYPE_IMAGE&&(p.imagePreviewWidth=+l.width,p.imagePreviewHeight=+l.height,f.originImageWidth=l.width||"",f.originImageHeight=l.height||"",f.originWidth=l.width||"",f.originHeight=l.height||""),i===bn.MESSAGE_TYPE_VIDEO&&t&&(f.originWidth="".concat(t.originWidth||""),f.originHeight="".concat(t.originHeight||"")),d.push(null===(n=e.utils)||void 0===n?void 0:n.sendFile({type:i,content:p,ext:f}))})),t.next=15,Promise.all(d);case 15:h=t.sent,t.next=22;break;case 18:return g=i||bn.MESSAGE_TYPE_TEXT,t.next=21,null===(v=e.utils)||void 0===v?void 0:v.sendMessage({type:g,content:g===bn.MESSAGE_TYPE_TEXT?(m=n.content,m.replace(/\[(\s|\S)+?\]/g,(function(t){return"[".concat((0,fn.$P)()[t],"]")}))):n.content,ext:f});case 21:h=t.sent;case 22:return setTimeout((function(){var t,n;null===(t=e.$refs)||void 0===t||null===(t=t.$scroller)||void 0===t||null===(t=t.current)||void 0===t||null===(n=t.scrollToBottom)||void 0===n||n.call(t,!1)}),0),t.abrupt("return",h);case 26:throw t.prev=26,t.t0=t.catch(5),t.t0;case 29:case"end":return t.stop()}var m}),t,null,[[5,26]])})));return function(e,n,r){return t.apply(this,arguments)}}();function xn(t){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(t)}function Sn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sn(Object(n),!0).forEach((function(e){On(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function On(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==xn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===xn(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tn(){Tn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==xn(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(xn(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function jn(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Cn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){jn(i,r,o,a,s,"next",t)}function s(t){jn(i,r,o,a,s,"throw",t)}a(void 0)}))}}var Ln=null,An=function(){var t=Cn(Tn().mark((function t(e){var n,r,o,i,a,s,c,u,l,f;return Tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e||null===(n=e.dialog)||void 0===n||!n.id||null===(r=e.channel)||void 0===r||!r.instance){t.next=19;break}if(o=e.messages.map((function(t){return t})).reverse(),!(i=o.find((function(t){return t.isFromMe})))){t.next=19;break}if(u=(null==i||null===(a=i.indexInConversation)||void 0===a||null===(s=a.toString)||void 0===s?void 0:s.call(a))||0,null===(c=e.dialog)||void 0===c||!c.lastMessage||e.dialog.lastMessage.isFromMe){t.next=8;break}return e.ext.dialogReadIndex=u,t.abrupt("return");case 8:if(e.ext.dialogReadIndex&&!(e.ext.dialogReadIndex<u)||!i){t.next=19;break}return t.prev=9,t.next=12,null===(l=e.channel)||void 0===l||null===(l=l.instance)||void 0===l?void 0:l.getMessageReadReceipt({message:i,syncFromServer:!0});case 12:f=t.sent,f.finishedParticipantIds.length>0&&(e.ext.dialogReadIndex=u),t.next=19;break;case 17:t.prev=17,t.t0=t.catch(9);case 19:case"end":return t.stop()}}),t,null,[[9,17]])})));return function(e){return t.apply(this,arguments)}}(),In=function(){var t=Cn(Tn().mark((function t(e){var n,o,i,a,s,c,u,l,f,h,p,v,m,y;return Tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(n=e.utils)||void 0===n||null===(o=n.$track)||void 0===o||o.call(n,{event:"im_medicine_page_show",params:kn({im_session_id:null===(i=e.dialog)||void 0===i||null===(i=i.ext)||void 0===i?void 0:i.dialogId},d.te)}),e.sendMessage=function(t,n){return En(e,t,n)},e.sendFile=function(t,n){return En(e,t,n)},e.utils.transferPeople=ke(e),e.utils.autoTransferPeople=Oe(e),g()&&(null===(l=(f=window).Slardar)||void 0===l||l.call(f,"config",{userId:d.Dr||e.userInfo.userId}),window.Slardar("context.merge",{"im-user-id":d.Dr||e.userInfo.userId,"start-dialog-id":null===(h=e.dialogInfo)||void 0===h?void 0:h.id,"dialog-type":null===(p=e.dialogInfo)||void 0===p?void 0:p.type,"dialog-status":null===(v=e.dialogInfo)||void 0===v?void 0:v.status})),d.eg&&0==+(null===(a=e.dialogInfo)||void 0===a?void 0:a.type)&&(null===(m=e.utils.services)||void 0===m||null===(m=m.apis)||void 0===m||m.triggerJarvisEvent({dialogId:null===(y=e.dialogInfo)||void 0===y?void 0:y.id,dialogScene:1,jarvisEventInfo:{eventCode:d.eg,data:"{}"},sendType:r.i4.SYSTEM,sender:r.P0.SYS})),null===(s=e.utils)||void 0===s||null===(s=s.services)||void 0===s||null===(s=s.apis)||void 0===s||null===(c=s.getImConfig)||void 0===c||c.call(s,null===(u=e.userInfo)||void 0===u?void 0:u.businessLineId).then((function(t){var n,r;(Ln&&clearInterval(Ln),null!=t&&t.data)&&(e.ext.readStatus=null==t||null===(n=t.data)||void 0===n?void 0:n.userShowMsgRead,null!=t&&null!==(r=t.data)&&void 0!==r&&r.userShowMsgRead&&(Ln=setInterval((function(){An(e)}),2e3)))})).catch((function(){}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();const Pn=In;window.ToutiaoJSBridge;window.ToutiaoJSBridge;window.ToutiaoJSBridge;var Nn=window.ToutiaoJSBridge,Rn=function(t){Nn&&Nn.on("linkchatUploadVideo",(function(e){if(1==+e.state&&c.Toast.show(r.oc.t("uploading_",{},"正在上传...")),2===e.state){if(!e.success)return void c.Toast.show(r.oc.t("upload_failed__please_try_again",{},"上传失败，请重试"));En(t,{type:be.V$.CUSTOM_VIDEO_TYPE,content:JSON.stringify(e.data)})}}))},Dn=n(2238);function Mn(t){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(t)}function Fn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fn(Object(n),!0).forEach((function(e){Gn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bn(r.key),r)}}function Gn(t,e,n){return(e=Bn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bn(t){var e=function(t,e){if("object"!==Mn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Mn(e)?e:String(e)}var qn=new(n.n(Dn)()),Wn=qn&&qn.getResult(),Vn=Wn.browser,Hn=void 0===Vn?{}:Vn,Yn=Wn.os,Kn=void 0===Yn?{}:Yn,Jn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Gn(this,"teaTrack",(function(t){var e=t.event,n=t.params,r=void 0===n?{}:n;window.collectEvent&&window.collectEvent(e,Un({createTime:String(Date.now()),businessLineId:d.lb,channelID:d.CE,channelDetailID:d.EY},r))}))}var e,n,r;return e=t,n=[{key:"setMonitor",value:function(t){var e;window.collectEvent("init",{app_id:null==t?void 0:t.appId,app_name:null==t?void 0:t.appName,channel:window.$isOversea?"sg":"cn",debug:!1,autoPv:!0}),window.collectEvent("config",{user_unique_id:d.Ok||d.Dr||t.userId,evtParams:{user_os_name:Kn.name||"",user_os_version:Kn.version||"",user_browser_name:Hn.name||"",user_browser_major:Hn.major||"",online_env:v(),ver:(null===(e=window)||void 0===e||null===(e=e.gfdatav1)||void 0===e?void 0:e.ver)||""},common_params:{}}),window.collectEvent("start")}},{key:"setConfig",value:function(t){var e;window.collectEvent("config",Un(Un({user_unique_id:d.Ok||d.Dr},t),{},{evtParams:{user_os_name:Kn.name||"",user_os_version:Kn.version||"",user_browser_name:Hn.name||"",user_browser_major:Hn.major||"",online_env:v(),ver:(null===(e=window)||void 0===e||null===(e=e.gfdatav1)||void 0===e?void 0:e.ver)||""},common_params:{}}))}}],n&&zn(e.prototype,n),r&&zn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Zn=new Jn;function $n(t){return $n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(t)}var Xn=["ids"];function Qn(){Qn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==$n(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError($n(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function tr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tr(Object(n),!0).forEach((function(e){nr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nr(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==$n(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==$n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$n(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rr(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function or(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var ir=function(){var t,e=(t=Qn().mark((function t(e){var n,o,i,a,c,u,l,f,h,p,v,g,m,y,b,_,w,E,x,S,k;return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Rn(e),o=(null===(n=e.ext)||void 0===n?void 0:n.authed)||d.ZP,i=o.imUserId,a=o.token,Ue({"im-user-id":i,"im-user-token":a}),t.prev=3,y=null===(c=window.localStorage)||void 0===c?void 0:c.getItem(en)){t.next=12;break}return t.next=8,null===(b=e.utils.services)||void 0===b||null===(b=b.apis)||void 0===b?void 0:b.getBaseConfig();case 8:_=t.sent,y=null==_?void 0:_.data,t.next=13;break;case 12:null===(w=e.utils.services)||void 0===w||null===(w=w.apis)||void 0===w||w.getBaseConfig(Me()).then((function(t){var e;null===(e=window.localStorage)||void 0===e||e.setItem(en,t.data)}));case 13:E=JSON.parse(y),x=E.imCloudConfig,S=E.user,k={},null!=S&&S.lineChoiceBid&&Array.isArray(S.lineChoiceBid)&&S.lineChoiceBid.forEach((function(t){var e=t.ids,n=rr(t,Xn);(null==e?void 0:e.indexOf(Number(d.ZP.bid)))>-1&&(k=er({},n))})),Zn.setMonitor({appId:null==S||null===(u=S.teaConfig)||void 0===u?void 0:u.appId,appName:null==S||null===(l=S.teaConfig)||void 0===l?void 0:l.appName,userId:null===(f=e.userInfo)||void 0===f?void 0:f.userId}),d.b9&&(k.apiUrl="https://imapi-oth.zijieapi.com/",k.frontierUrl="wss://im-ws.zijieapi.com/ws/v2"),e.ext.imCloudConfig=er(er({},x),k),e.ext.teaTrack=Zn.teaTrack,e.ext.userDefaultConfig=S,e.ext.I18n=r.oc,e.ext.teaParam=d.te,e.ext.bid=d.ZP.bid,e.utils.$track=Zn.teaTrack||console.log,null===(h=e.eventBus)||void 0===h||h.subscribe(s.nD.toolsOnOpen,(function(){var t,n,r;null==e||null===(t=e.utils)||void 0===t||null===(n=t.$track)||void 0===n||n.call(t,{event:"im_toolbox_button_module_click",params:er({im_session_id:null===(r=e.dialog)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.dialogId,click_target:"展开"},d.te)})})),null===(p=e.eventBus)||void 0===p||p.subscribe(s.nD.toolsOnClose,(function(){var t,n,r;null==e||null===(t=e.utils)||void 0===t||null===(n=t.$track)||void 0===n||n.call(t,{event:"im_toolbox_button_module_click",params:er({im_session_id:null===(r=e.dialog)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.dialogId,click_target:"折叠"},d.te)})})),null===(v=e.eventBus)||void 0===v||v.subscribe(s.nD.emojiOnOpen,(function(){var t,n,r;null==e||null===(t=e.utils)||void 0===t||null===(n=t.$track)||void 0===n||n.call(t,{event:"im_toolbox_module_click",params:er({im_session_id:null===(r=e.dialog)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.dialogId,click_target:"表情"},d.te)})})),null===(g=e.eventBus)||void 0===g||g.subscribe(s.nD.emojiOnClose,(function(){var t,n,r;null==e||null===(t=e.utils)||void 0===t||null===(n=t.$track)||void 0===n||n.call(t,{event:"im_toolbox_module_click",params:er({im_session_id:null===(r=e.dialog)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.dialogId,click_target:"表情"},d.te)})})),null===(m=e.eventBus)||void 0===m||m.subscribe(s.nD.toolPanelClick,(function(t){var n,r,o;null==e||null===(n=e.utils)||void 0===n||null===(r=n.$track)||void 0===r||r.call(n,{event:"im_toolbox_module_click",params:er({im_session_id:null===(o=e.dialog)||void 0===o||null===(o=o.ext)||void 0===o?void 0:o.dialogId,click_target:null==t?void 0:t.label},d.te)})})),t.next=34;break;case 32:t.prev=32,t.t0=t.catch(3);case 34:case"end":return t.stop()}}),t,null,[[3,32]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){or(i,r,o,a,s,"next",t)}function s(t){or(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();const ar=ir;function sr(t){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(t)}function cr(){cr=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==sr(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(sr(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function ur(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function lr(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ur(i,r,o,a,s,"next",t)}function s(t){ur(i,r,o,a,s,"throw",t)}a(void 0)}))}}function fr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pr(r.key),r)}}function hr(t,e,n){return(e=pr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pr(t){var e=function(t,e){if("object"!==sr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===sr(e)?e:String(e)}var dr=function(t){return function(e){var n,o,i,a,s,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2?arguments[2]:void 0,l=t.dialog.ext.dialogId,f={sender:(null===(n=t.userInfo)||void 0===n?void 0:n.imUserId)||(null===(o=t.userInfo)||void 0===o?void 0:o.userId),dialogId:l,dialogScene:1,jarvisEventInfo:{eventCode:e,data:JSON.stringify(c),params:u},sendType:null!==(i=Object.values(r.i4))&&void 0!==i&&i.includes(null==c?void 0:c.sendType)?null==c?void 0:c.sendType:r.i4.USER};return null===(a=(s=t.utils).fetch)||void 0===a?void 0:a.call(s,"/api/im-session/message/jarvisEvent",{method:"POST",data:f})}},vr=function(t){return function(e,n){var o,i,a=t.dialog.ext.dialogId,s=n||{},c=s.rootMessageId,u=s.serverId,l=t.userInfo,f=l.userId,h={sender:+l.imUserId||f,dialogId:+a,appComponentId:+e,sendType:+r.i4.ROBOT_AGENT,rootMessageId:c||u,messageId:u};return null===(o=(i=t.utils).fetch)||void 0===o?void 0:o.call(i,"/api/im-session/message/jarvis/component",{method:"POST",data:h})}},gr=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),hr(this,"name","transAgentPlugin"),hr(this,"appContext",void 0)}var e,n,o,i;return e=t,n=[{key:"apply",value:function(t){t.addSingleton(this.name,this)}},{key:"lifecycle",get:function(){var t;return hr(t={},kt.Fw.APP_WILL_MOUNT,function(){var t=lr(cr().mark((function t(e){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.triggerEvent=dr(e),e.triggerComEvent=vr(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),hr(t,kt.Fw.CHANNEL_WILL_MOUNT,ar),hr(t,kt.Fw.CREATE_DIALOG_SUCCESS,Pn),hr(t,kt.Fw.MESSAGE_CHANGE,(function(t,e){var n,r,o,i;null===(n=t.utils)||void 0===n||null===(r=n.autoTransferPeople)||void 0===r||r.call(n,{secretUser:null===(o=t.ext)||void 0===o?void 0:o.secretUserId,userId:null===(i=t.ext)||void 0===i?void 0:i.userId},e)})),hr(t,kt.Fw.DIALOG_CHANGE,(function(t){t.ext.dialogCreatedInfo=t.dialogInfo})),hr(t,kt.Fw.MESSAGES_CHANGE,(function(t,e){(d.R6||d.OB===r.Vi.BOE)&&console.debug(e,t.dialog)})),t}},{key:"layout",get:function(){return{}}},{key:"utils",get:function(){return{handleQuickBtn:function(t,e){!function(t,e){var n,o,i,a,s,u=null===(n=t.dialog)||void 0===n?void 0:n.dialogId,l=(null===(o=t.userInfo)||void 0===o?void 0:o.imUserId)||(null===(i=t.userInfo)||void 0===i?void 0:i.userId);if(u&&l){var f,h=e.api,p="/api".concat(h.uniqueUrl);try{f=JSON.parse(h.parameter)}catch(t){f={}}for(var v in f)"${dialogId}"===f[v]&&(delete f[v],f[v]=u),"${maxId}"===f[v]&&delete f[v],"${businessLineId}"===f[v]&&(delete f[v],f[v]=d.lb),"${fromUserId}"===f[v]&&(delete f[v],f[v]=l),"queryString"===h.paramType&&(p+="/".concat(f[v]));null===(a=(s=t.utils).fetch)||void 0===a||a.call(s,p,{method:h.requestType,data:"body"===h.paramType?f:null}).catch((function(t){c.Toast.show(t.message||r.oc.t("button_request_failed!",{},"按钮请求失败！"))}))}}(t,e)},shortCutFunc:se,jumpToOfflineForm:pe,openLinkchatPopup:me.bind(this),closeInquiryForm:function(){this.appContext&&(this.appContext.renderConfig.popConfig={visible:!1,componentConfig:{},componentData:{}})}.bind(this),closeLinkchatPopup:function(){this.appContext&&(this.appContext.renderConfig.popConfig={visible:!1,componentConfig:{},componentData:{}})}.bind(this)}}},{key:"jsBridge",get:function(){return{}}},{key:"theme",get:function(){return{}}},{key:"middleware",get:function(){return{receive:[],send:[]}}},{key:"setUI",value:(i=lr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})}],n&&fr(e.prototype,n),o&&fr(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),mr=n(3726);const yr="messageWrap_gG54U",br="btnActive_gJbSH",_r="btnDisabled_55qfB";function wr(t){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wr(t)}function Er(){Er=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==wr(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(wr(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function xr(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var Sr=n(4971);const kr="messageExtraInfo_M7nSK",Or="extraLink_pF2j1";const Tr=function(t){var e,n=t.appContext,o=t.message,s=(null==o?void 0:o.ext)||{},c=(null==n||null===(e=n.dialog)||void 0===e?void 0:e.ext)||{},u=(null==c?void 0:c.type)==r.My.ROBOT&&(null==c?void 0:c.status)==r.Mc.PENDING&&(null==c?void 0:c.dialogId)===(null==s?void 0:s.dialogId)&&"true"!==(null==s?void 0:s.isGenerateLoading),l=(0,i.useCallback)((function(){var t,e,r;null==n||null===(t=n.utils)||void 0===t||null===(e=t.transferPeople)||void 0===e||e.call(t,{skillId:null==s?void 0:s.skillId,secretUser:null===(r=n.ext)||void 0===r?void 0:r.secretUserId,source:"zhijiezhuanrengongshu"},o)}),[]);return u?a().createElement("div",{className:kr},null!=s&&s.matchKnowledgeList?r.oc.t("none_of_the_above_",{},"以上都不是，请点击"):r.oc.t("if_you_can_t_solve_it__please_click",{},"问题未解决？请点击"),a().createElement("span",{className:Or,onClick:l},r.oc.t("keep_queuing",{},"继续排队"))):null};function jr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Cr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const Lr="headerWrap_5bbQh",Ar="headerLeft_9m3sv",Ir="headerIcon_nX8ai",Pr="headerTitle_q4Y6I",Nr="headerRight_a2COt",Rr="headerMin_aAMgn",Dr="headerClose_JLgWf";function Mr(t){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(t)}function Fr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ur(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ur(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zr(){zr=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Mr(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Mr(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function Gr(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Br(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Gr(i,r,o,a,s,"next",t)}function s(t){Gr(i,r,o,a,s,"throw",t)}a(void 0)}))}}var qr=["7227297","7010577"];const Wr=function(t){var e,n=t.appContext,o=function(){var t=jr((0,i.useState)(),2),e=t[0],n=t[1];return(0,i.useEffect)((function(){var t="hidden",e="visibilitychange";void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.msHidden?(t="msHidden",e="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),void 0===document.addEventListener||void 0===document[t]?console.warn("This demo requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API."):document.addEventListener(e,(function(){n(document[t])}),!1)})),{visibility:e}}(),u=o.visibility,l=(0,i.useRef)(be.mx.Show),f=(0,i.useCallback)((function(){window.parent.postMessage({action:"close"},"*")}),[]),h=function(){var t=Br(zr().mark((function t(){var e,r,o,i,a;return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,qr.includes(d.lb)||null===(e=n.dialog)||void 0===e||null===(e=e.ext)||void 0===e||!e.dialogId||0!=+(null===(r=n.dialog)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.type)||0!=+(null===(o=n.dialog)||void 0===o||null===(o=o.ext)||void 0===o?void 0:o.status)){t.next=7;break}return t.next=4,s={dialogId:null===(i=n.dialog)||void 0===i||null===(i=i.ext)||void 0===i?void 0:i.dialogId,eventCode:"userFinish-web"},c=void 0,u=void 0,c=s.dialogId,u=s.eventCode,Ve("/api/im-session/jarvis/getJarvisComponentList?dialogId=".concat(c,"&eventCode=").concat(u),{method:"GET"});case 4:if(a=t.sent,!(Array.isArray(a)&&a.length>0)){t.next=7;break}return t.abrupt("return",!1);case 7:return t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",!0);case 13:case"end":return t.stop()}var s,c,u}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),p=(0,i.useCallback)((function(){window.parent.postMessage({action:"close"},"*"),window.parent.postMessage({action:"destroy"},"*")}),[]),v=function(){var t=Br(zr().mark((function t(){var e,o,i,a,s,u,l,f;return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([h(),Number(null===(e=n.dialog)||void 0===e||null===(e=e.ext)||void 0===e?void 0:e.status)===be.Mc.TRANSFER?null===(o=n.utils)||void 0===o||null===(o=o.services)||void 0===o?void 0:o.apis.cancelDialogQueue({secretUserId:decodeURIComponent(null==n||null===(i=n.ext)||void 0===i?void 0:i.secretUserId)}):sn(n)]);case 3:u=t.sent,l=Fr(u,1),f=l[0],null===(a=n.utils)||void 0===a||a.$track({event:"remove_dialog_btn_count",params:{businessLineId:d.lb,channelID:d.CE,userId:n.ext.userId,dialogId:null===(s=n.dialog)||void 0===s||null===(s=s.ext)||void 0===s?void 0:s.dialogId,channelDetailID:d.EY,createTime:String(Date.now())}}),f&&p(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0,c.Toast.show(r.oc.t("fail_to_end_session",{},"结束会话失败"));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),g=function(){c.Dialog.confirm({title:r.oc.t("close_session",{},"关闭会话窗口"),content:r.oc.t("close_session_tip",{},"关闭后将结束本次会话，是否确认关闭？"),confirmText:r.oc.t("close_dialog_confirm_text",{},"确认"),cancelText:r.oc.t("close_dialog_cancel_text",{},"取消"),onConfirm:v})};return(0,i.useEffect)((function(){window.addEventListener("message",(function(t){var e,o,i,a,s,c=t.data,u=void 0===c?{}:c;switch(u.linkchatStatus){case be.mx.Hide:l.current=be.mx.Hide,n.ext.userStatus=r.iy.Leave,null===(e=n.channel)||void 0===e||null===(o=e.emitDialogRefresh)||void 0===o||o.call(e);break;case be.mx.Show:l.current=be.mx.Show,n.ext.userStatus=r.iy.Online,null===(i=n.channel)||void 0===i||null===(a=i.emitDialogRefresh)||void 0===a||a.call(i);break;case be.mx.SendMessage:null==n||n.sendMessage(u.message,u.extMap)}switch(u.windowAction){case be.Um.Hide:f();break;case be.Um.Close:u.closeWithoutConfirm&&(null==n||null===(s=n.dialogInfo)||void 0===s?void 0:s.type)===r.My.ROBOT?v():g()}}),!1)}),[]),(0,i.useEffect)((function(){var t,e,o,i;u?(n.ext.userStatus=r.iy.Leave,null===(t=n.channel)||void 0===t||null===(e=t.emitDialogRefresh)||void 0===e||e.call(t)):l.current===be.mx.Show&&(n.ext.userStatus=r.iy.Online,null===(o=n.channel)||void 0===o||null===(i=o.emitDialogRefresh)||void 0===i||i.call(o))}),[u]),null!==(e=n.query)&&void 0!==e&&e.isPc&&!d.xK?a().createElement(a().Fragment,null,a().createElement("div",{className:Lr},a().createElement("div",{className:Ar},a().createElement(s.JO,{className:Ir,type:"Robot"}),a().createElement("span",{className:Pr},r.oc.t("pc_title",{},"在线客服"))),a().createElement("div",{className:Nr},a().createElement(s.JO,{className:Rr,type:"Minus",onClick:f}),a().createElement(s.JO,{className:Dr,type:"Close",onClick:g})))):null};var Vr=n(8890);const Hr=function(t){var e,n,o,s=t.message,c=t.appContext,u=c.dialog,l=(0,i.useRef)(!1),f=(0,i.useMemo)((function(){var t;return l.current||s.indexInConversation<=(null==c||null===(t=c.ext)||void 0===t?void 0:t.dialogReadIndex)||Number(u.ext.type)===be.My.ROBOT}),[null==c||null===(e=c.ext)||void 0===e?void 0:e.dialogReadIndex,null===(n=u.ext)||void 0===n?void 0:n.type]);return(0,i.useEffect)((function(){f&&(l.current=!0)}),[f]),s.isFromMe&&-1!==s.flightStatus&&c.ext.readStatus&&null!=c&&null!==(o=c.ext)&&void 0!==o&&o.dialogReadIndex?f?a().createElement("div",{className:Vr.Z.readText},r.oc.t("message_read",{},"已读")):a().createElement("div",{className:Vr.Z.unReadText},r.oc.t("message_unread",{},"未读")):null};var Yr={revicer:"https://sf3-dycdn-tos.yangyi08.com/obj/eden-cn/bzbzhsweh7upivhog/zhaobin/Lark20200820-105611.png",sender:"https://sf3-dycdn-tos.yangyi08.com/obj/eden-cn/bzbzhsweh7upivhog/zhaobin/Lark20200819-163245.png"},Kr={revicer:"https://sf3-dycdn-tos.yangyi08.com/obj/eden-cn/bzbzhsweh7upivhog/linkchat/dev/feishu_avatar.png",sender:"https://sf3-dycdn-tos.yangyi08.com/obj/eden-cn/bzbzhsweh7upivhog/linkchat/dev/feishu_user.png"},Jr={revicer:"https://sf3-dycdn-tos.yangyi08.com/obj/eden-cn/bzbzhsweh7upivhog/linkchat/img/xingfuli_kefu.png",sender:"https://sf3-dycdn-tos.yangyi08.com/obj/eden-cn/bzbzhsweh7upivhog/linkchat/img/xingfuli_b_user.png"},Zr={revicer:"https://sf3-dycdn-tos.yangyi08.com/obj/eden-cn/bzbzhsweh7upivhog/linkchat/img/huoshan_avatar_npc.png",sender:"https://sf3-dycdn-tos.yangyi08.com/obj/eden-cn/bzbzhsweh7upivhog/linkchat/img/huoshan_avatar_custom.png"},$r={revicer:"https://p1-gocafe-cn.byteimg.com/tos-cn-i-dyboxj1bgz/dc7972e88de544fb99c9e680459d49fb~tplv-dyboxj1bgz-70_g:0:0:0:0:0:0.png"},Xr={revicer:"https://p1-gocafe-cn.byteimg.com/tos-cn-i-dyboxj1bgz/a1e9e9bf611849bcaa2c3b4efd9e3910~tplv-dyboxj1bgz-70_g:0:0:0:0:0:0.png"},Qr={revicer:"https://p1-gocafe-cn.byteimg.com/tos-cn-i-dyboxj1bgz/8d1aaa761f2b41ef8b35815edc2be038~tplv-dyboxj1bgz-70_g:0:0:0:0:0:0.png"},to={revicer:"https://p1-gocafe-cn.byteimg.com/tos-cn-i-dyboxj1bgz/0378d17448fb4d9c91461e0a9b0f7ade~tplv-dyboxj1bgz-70_g:0:0:0:0:0:0.png"},eo={revicer:"https://p1-gocafe-cn.byteimg.com/tos-cn-i-dyboxj1bgz/cde0d51ee6844bd3b8f4480c2a272382~tplv-dyboxj1bgz-70_g:0:0:0:0:0:0.png"},no={revicer:"https://p1-gocafe-cn.byteimg.com/tos-cn-i-dyboxj1bgz/7d199a3a66034bed8eb3366b6329b685~tplv-dyboxj1bgz-70_g:0:0:0:0:0:0.png"},ro={revicer:"https://p1-gocafe-cn.byteimg.com/tos-cn-i-dyboxj1bgz/f57ac38db7564d63969bf131981bfdca~tplv-dyboxj1bgz-70_g:0:0:0:0:0:0.png",sender:"https://p1-gocafe-cn.byteimg.com/tos-cn-i-dyboxj1bgz/a39db4985c664f7e8e1d23b6f00abb72~tplv-dyboxj1bgz-70_g:0:0:0:0:0:0.png"},oo={revicer:"https://p1-gocafe-cn.byteimg.com/tos-cn-i-dyboxj1bgz/e540afef423e430885d0ecf82238d0fe~tplv-dyboxj1bgz-70_g:0:0:0:0:0:0.png",sender:"https://p1-gocafe-cn.byteimg.com/tos-cn-i-dyboxj1bgz/87e86c010d0f44f483234e43277f7f23~tplv-dyboxj1bgz-70_g:0:0:0:0:0:0.png"},io={revicer:"https://p1-gocafe-cn.byteimg.com/tos-cn-i-dyboxj1bgz/a46312b627c3432eba2a87bd079e68a9~tplv-dyboxj1bgz-70_g:0:0:0:0:0:0.png"},ao={revicer:"https://p1-gocafe-cn.byteimg.com/tos-cn-i-dyboxj1bgz/9c0fee9e074c4746bc3dba45f0909924~tplv-dyboxj1bgz-70_g:0:0:0:0:0:0.png"},so={revicer:"https://sf1-cdn-tos.douyinstatic.com/obj/eden-cn/yllupnuleh7nupunuvonuhog/npy/pic_teacher.png",sender:"https://sf1-cdn-tos.douyinstatic.com/obj/eden-cn/yllupnuleh7nupunuvonuhog/npy/tiger.png"},co=function(){return[7010301,7226884,7010569,7227278].includes(Number(d.lb))?{"primary-color":"rgb(255, 107, 0)","bubble-right-bg":"rgb(255, 211, 0)","bubble-left-font-color":"rgb(33, 27, 0)","bubble-right-font-color":"rgb(115, 54, 0)","nav-bg":"rgb(255, 211, 0)","nav-font-color":"rgb(115, 54, 0)"}:[7226915,7226916,7010330,7010339].includes(Number(d.lb))?{"primary-color":"#fe5500","bubble-right-bg":"#ff9629","bubble-right-font-color":"#fff"}:[7226919,7010335].includes(Number(d.lb))?{"primary-color":"rgb(0, 198, 216)","bubble-right-bg":"rgba(0, 198, 216, 0.09)","bubble-right-font-color":"rgb(0, 198, 216)","bubble-left-font-color":"rgb(119, 124, 150)","nav-bg":"#fff","nav-font-color":"rgb(51, 51, 51)"}:[7227266,7227396,7010659,7227397,7010660,7227398,7010661,7227400,7010663,7227399,7010662,7227718,7010804].includes(Number(d.lb))?{"primary-color":"#1FCDB6","bubble-right-bg":"#B7EFE8"}:[7227041,7010664].includes(Number(d.lb))?{"primary-color":"#4B81E9","bubble-right-bg":"#C9D8F6"}:[7227483,7010242].includes(Number(d.lb))?{"primary-color":"#0CCC8C","bubble-right-bg":"#0CCC8C","bubble-left-bg":"#F8F8FA",resendBtnBg:"#FFA900"}:[7227494,7010408].includes(Number(d.lb))?{"primary-color":"#FE346E",resendBtnBg:"#FE346E","bubble-right-border-radius":"2px","bubble-left-border-radius":"2px","nav-bg":"#FE346E","tool-icon-border-radius":"4px"}:[7010567,7226736].includes(Number(d.lb))?{"primary-color":"#00CC78","bubble-right-bg":"#00DF83","bubble-right-font-color":"#fff"}:void 0};const uo=function(t){var e=t.message,n=t.appContext,o=(n.dialog,co()||{});return e.isFromMe&&[r.b3.Failed,r.b3.Rejected].includes(e.flightStatus)?a().createElement("div",{className:Vr.Z.resendBtn,onClick:function(){var t;null===(t=n.channel)||void 0===t||t.resendMessage(e.clientId).catch((function(){}))}},a().createElement(s.JO,{className:Vr.Z.resendBtnIcon,type:"Warn",fill:o.resendBtnBg||"#f65656"})):null};var lo=n(4125),fo=n(6435);const ho="groupWrap_uz1Ho",po="btnWrap_rDYWa";function vo(t){return vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(t)}function go(){go=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==vo(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(vo(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function mo(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function yo(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==vo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===vo(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return _o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wo=function(t){return t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t}(wo||{});const Eo=function(t){var e,n,o,s=t.appContext,u=t.message,l=t.defaultConfig,f=((null==l?void 0:l.config)||{}).transferAfterHate,h=null==u||null===(e=u.ext)||void 0===e?void 0:e.action,p=null==s||null===(n=s.utils)||void 0===n?void 0:n.$track,d=bo((0,i.useState)((yo(o={},wo.UP,Number(h)===wo.UP||!1),yo(o,wo.DOWN,Number(h)===wo.DOWN||!1),o)),2),v=d[0],g=d[1],m=function(){var t,e=(t=go().mark((function t(e){var n,o,i,a,l,h,d,m,y,b,_,w,E,S,k;return go().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v[e]){t.next=2;break}return t.abrupt("return");case 2:return g((yo(n={},wo.UP,wo.UP===e),yo(n,wo.DOWN,wo.DOWN===e),n)),p({event:wo.UP===e?"good_click":"bad_click"}),i=u.ext||{},a=i.faqId,l=i.knowledgeId,h=i.knowledgeType,d=i.channel,m=i.robotMessageType,y=i.question,b=i.businessLineId,_=i.userQuestion,w=i.rootMessageId,E=null===(o=s.dialog)||void 0===o||null===(o=o.ext)||void 0===o?void 0:o.dialogId,S=Object.assign({messageExtInfo:u.ext,dialogId:E,faqId:a||l,praise:e===wo.UP?1:0,hate:e===wo.DOWN?1:0,businessLineId:b,messageId:u.serverId},l?{channel:d,question:y,businessLineId:b,knowledgeId:l,knowledgeType:h,answer:u.content,userQuestion:_}:{},e===wo.DOWN?{transferAfterHate:f}:{}),m&&(S.robotMessageType=m),w&&(S.rootMessageId=w),t.prev=9,t.next=12,null===(k=s.utils.services)||void 0===k||null===(k=k.apis)||void 0===k?void 0:k.postThumbAction(S);case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(9),c.Toast.show(t.t0.message||r.oc.t("operation_failed",{},"操作失败！")),j({level:x,title:O,info:t.t0});case 18:case"end":return t.stop()}}),t,null,[[9,14]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){mo(i,r,o,a,s,"next",t)}function s(t){mo(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();return a().createElement("div",{className:ho},!v[wo.DOWN]&&a().createElement("div",{className:po},a().createElement(fo.Z,{fill:v[wo.UP]?"#338AFF":"#333",size:14,onClick:function(){return m(wo.UP)}})),!v[wo.UP]&&a().createElement("div",{className:po},a().createElement(lo.Z,{fill:v[wo.DOWN]?"#F65656":"#333",size:14,onClick:function(){return m(wo.DOWN)}})))},xo="waiting-tips_XUB5J",So="waiting-tips--content_E9dY2",ko="waiting-tips--icon_rwf1C",Oo="waiting-tips--btn_YqoKB";var To=n(5700);function jo(t){return jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(t)}function Co(){Co=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==jo(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(jo(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function Lo(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Ao(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Lo(i,r,o,a,s,"next",t)}function s(t){Lo(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Io(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Po(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Po(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Po(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const No=function(t){var e,n,o,i,u,l=t.appContext,f=Io((0,To.Z)(Ao(Co().mark((function t(){var e,n;return Co().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===(e=l.utils)||void 0===e||null===(e=e.services)||void 0===e?void 0:e.apis.cancelDialogQueue({secretUserId:decodeURIComponent(null==l||null===(n=l.ext)||void 0===n?void 0:n.secretUserId)});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),c.Toast.show(r.oc.t("cancel_queue",{},"取消排队失败, 请刷新页面重试~"));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))),1)[0];return null!=l&&null!==(e=l.ext)&&void 0!==e&&e.inWaiting&&null!=l&&null!==(n=l.ext)&&void 0!==n&&n.showWaitingNumber&&(null==l||null===(o=l.ext)||void 0===o?void 0:o.waitingNumber)>=0?a().createElement("div",{className:xo},a().createElement(c.NoticeBar,{icon:a().createElement(s.JO,{type:"Warn",fill:"#338AFF",size:12}),className:So,content:(null==l||null===(i=l.ext)||void 0===i?void 0:i.waitingNumber)>0?"".concat(r.oc.t("queue_number",{t:l.ext.waitingNumber},"排队中，您前面还有{t, number}人在排队，请稍候!")):r.oc.t("queue_header",{},"您已排在队列最前面，即将为您接入～")}),(null==l||null===(u=l.ext)||void 0===u?void 0:u.waitingNumber)>3?a().createElement("div",{className:Oo,onClick:f},a().createElement(s.JO,{type:"Logout",className:ko,fill:"#338AFF",size:12}),r.oc.t("queue_close",{},"退出排队")):null):null};var Ro,Do;function Mo(t){return Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(t)}function Fo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Uo(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Mo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Mo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Mo(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zo=function(t){return t.PROD="PROD",t.BOE="BOE",t}({}),Go=window.$isOversea?r.yp.sg:r.yp.cn;!function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fo(Object(n),!0).forEach((function(e){Uo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}}({pullInterval:1e4,authType:2,enableMakeUp:!0,deviceId:"10"},(window.$isOversea?(Uo(Ro={},zo.PROD,{frontierOption:{aid:4946,appKey:"e0f82475ab9dbf5717d18b4a9c0d7fd0",fpid:89,url:"wss://frontier.byteoversea.com/ws/v2",service:2,method:1},transportOption:{apiUrl:"https://imapi2.isnssdk.com",service:2,inboxType:0,timeout:1e4}}),Uo(Ro,zo.BOE,{frontierOption:{aid:4946,appKey:"e0f82475ab9dbf5717d18b4a9c0d7fd0",fpid:89,url:"wss://frontier-boei18n.bytedance.net/ws/v2",service:2,method:1},transportOption:{apiUrl:"http://imapi-va-oth.isnssdk.com.boe-gateway.byted.org",service:2,inboxType:0,timeout:1e4}}),Ro):(Uo(Do={},zo.PROD,{frontierOption:{aid:1402,fpid:89,appKey:"e0f82475ab9dbf5717d18b4a9c0d7fd0",url:"wss://frontier.snssdk.com/ws/v2",service:2},transportOption:{apiUrl:"https://imapi2.snssdk.com",service:2,inboxType:0,timeout:1e4}}),Uo(Do,zo.BOE,{frontierOption:{aid:1402,appKey:"e0f82475ab9dbf5717d18b4a9c0d7fd0",fpid:89,url:"wss://frontier-boe.bytedance.net/ws/v2",service:2},transportOption:{apiUrl:"https://imapi-boe.bytedance.net",service:2,inboxType:0,timeout:1e4}}),Do))["boe"===d.OB?zo.BOE:zo.PROD]);function Bo(t){return Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(t)}var qo,Wo=["id","type","status"];function Vo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ho(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vo(Object(n),!0).forEach((function(e){Yo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yo(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Bo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Bo(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ko(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Jo(t){return Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(t)}function Zo(){Zo=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Jo(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Jo(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function $o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$o(Object(n),!0).forEach((function(e){Qo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qo(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Jo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Jo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Jo(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ti(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function ei(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ti(i,r,o,a,s,"next",t)}function s(t){ti(i,r,o,a,s,"throw",t)}a(void 0)}))}}function ni(){return(ni=ei(Zo().mark((function t(e,n){var r,o,i,a,s;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.message._id=e.message.clientId,o=[],e.message.type!==be.V$.AGENT_FEED_BACK&&e.message.type!==be.V$.SATISFACTION_SEND_TYPE&&e.message.type!==be.V$.SATISFACTION_SEND_CARD&&e.message.type!==be.V$.SATISFACTION_WITHOUT_RESULT||(e.message.hide=!0),Object.values(be.rv).includes(e.message.type)?e.message.position="center":null!==(r=e.message)&&void 0!==r&&r.isFromMe?(e.message.position="right",e.message.user={avatarType:"key",avatar:"sender"},o=[{code:"ReadStatusComponent",version:"0.0.1",component:Hr},{code:"ResendBtnComponent",version:"0.0.1",component:uo}]):(e.message.position="left",null!==(i=e.message)&&void 0!==i&&null!==(i=i.ext)&&void 0!==i&&i.agentAvatar?e.message.user={avatarType:"url",avatar:null===(a=e.message)||void 0===a||null===(a=a.ext)||void 0===a?void 0:a.agentAvatar}:e.message.user={avatarType:"key",avatar:"revicer"}),e.message.recall=!0,40008!==Number(e.message.type)&&(e.message.component={code:"jarvis-component-localtest",version:"",meta:{},config:{}}),e.message.type===be.V$.ROBOT_THUMBS_TYPE&&(e.message.component.code="jarvis-component-auto-answer-react",e.message.component.version="",e.message.component.isRemote=!1,e.message.ext.jarvis_data=Pt(e.message.content),o=o.filter((function(t){return"thumbs-up-down"!==t.code})),"1"!==(null===(s=e.message.ext)||void 0===s?void 0:s.senderType)&&o.push({code:"thumbs-up-down",version:"",meta:{},config:{transferAfterHate:!0}})),e.message.expansion=o,t.next=10,n();case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ri={layout:{quickButtons:[],navbar:{code:"navbar",component:Wr},avatars:Xo({sender:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAc0SURBVHgB1ZvfUxNXFMe/u/khOECJ7WC1tSzScVqng6L1rTON4x+g/4HwoD6ib7YvwkvhrfjUaX1Q/oDOtJ3pm055aW1HEXTUWn9AwB9UFIkVJeTHbs+5m8Qk7GY3uTeQfGYgm+zu3XvOPefcc3+shhozOW8ZZgpR3cIeU4OhWTAsoJ1OGSWXxjQgbmmIwcJ1XcMUMpjq7dJiqCEaasDkQysKE4dN4AjWClopMarlOClkrHeHNg7FKFPA5IzVjiAGTBMnYbdwLWBlDOkZjKuyDGkFrJPgpcTJIi6Qi5yVVYSUAsjUWfBBrJ/gpQiL2P+RdgFVUpUCqNUNK4DzloUo6oOYbuJgNdago0JEq+uYrCPhGYPrNDFrnazwvsosYHLO+ta0UPFD1hNdxyD1FkN+r/etgIk56zz1z31oBChAUlzo93epD67NWpOUvOxFA0GCTe3r1Hq9rvOMAdzyjSY8w3UWVutBWQVQwDtTK7MPB4HmMNDSZB/XBKo7x61yl7i6QLaPH4UiWNDWTZQwNNuCO7GSBF4lgIVlIJmGSk7t79QcZXFUAPfz3K1AQYLDgm9vsz8rYZkU8TBuK0UBccoTep3yBEcXIOF/g6TwASr5wwiwq6Ny4Rm+59P3qYx2uyxJ2jlxczqxpuiJGasPkiM49mmufEcrpOlos8uSjROcuDklSkUukDV9bn0DVcIV5VZXHdg4JtxdkI4N7Apd5Arx3A/FFhDAACSEZ1OthfAMl7nzPWl3aKcGLrKCvAWoCHzs8yrMvhwL/wGP4pChyAry+qTZmygkhOcWqrXwTEdbdUG1gCIreGtQOs5AAmML1o1tbZBlIHcgFCDm8CQDn2SrVERrk3sy5ZP2KzNCZlsBlPEdhQSc3a03ss+kYfMR8Zn9HoUEG6GAlk2Q5TD/0zn6QzLxkTTHqtgs/0yD1yz0TEBuqMv9soJUtarnyuYbYsGGVmqkFdCwkOw6pUJ7UEOmn6Rx9Z8kje5M3/csJyxxz8MFtWPiUmjSxAjSIMGQWRzIeMj1xy17PBsOaujp9mcu04/TuDOXJuVp2NERrPrZXlBtOmmBRW7Yy5UoV5FwyFbva2pVvyTT3td6PdcPvEjLTWJAkjdlJi0iLbYCni5l4JdHz+xrI63utqloosRQEsJerrif2xoJiM/lFcuXT3PM4GuZ7u3u5h9fgRKUKGDxtfu5TzqDeTe4fCuFpVfudvuCzl29mxLHLc0aOiLu1asrBbAv8mSmExz8Pt8VEsfs27/+mcCNB6miXoF/598uTqwimbJbv2dniJTgXD1WuKpJU42miWagIA5wUvLZdvfzN6ZTQsiie8gyQoG1AbKnOyQU4MbNJ8oUEAvSo+MqdklwheZf0lD1HefzLNBWMunL1C3mfJxbO1mgEz7f0x0Wn27wM5S1Pske1Ow9OUpWfrhyPEhpdRkac0A88kUz9Qgmnr7I5Fs+0qqLv3KCMxz5+RmqICecDZLws1DI9HPvWVwW1EvYUnKToirh9UOd1DAFhfz7PI0ff0+I7kwVXNYvf61iMe4/l/AD70TTspOhM5AgRVH83uwqnjxNIf7qbSUP7WvCof1yU0WXJhK4dO1tF7OZeobd3U3o2BIUxzLw5KiIf9X2BDnB+S+Vck5f2bdZEft2VTaAv3Y3iYskeLxM3mB8EBbKqFIRMVovzCuAFw4H/N7pR/BSWBFd24LY3RnCTsrwmsLFfQ8nSPOLGczMpzFxL4nEqv+xw+6Pm4QiKiK7iULUgicIdXtFyJNnL9K4cvMN3qxIjkSI9la75cq1sl/YCqIHWnxbA82DHjzQpY3nm4GsYAkeI0Nu8et3FOWgNcKnNQjz54NCdZ0td8ftB4m6F565fT8h6loWDflNVHkF6PZmCMdFJy6QC24UuK5lGivOW21zX/IKyK6VrbGCRhM+B7urkyVYJsYKN0oURYxSK+CA14jC5+C6swwFxGjsVbRVpkgBbAUUHfP+wdG+0WEZUrkpNvL90m0ya/oM6hpGaYA0HnucVNLVbTQsw73YKh/GnDZVO3aaWgb9fz9IyK3C1xH351Z5T8BBp3OOCmAzeZ0wfe+3rXeSSWvIbSe5a9o0fCwyannkBo0ArXsMDZ+IuO539JwM+ur7xQvQdKnl842ChB8bORHpK3eNr9mwr88t8fsBjbZfeGr4eER+szTzzTEqyDLH0CBwy/sRnvE9kB4+8W4f+xPqHI5bXmZfSEUzCVTwIDnNKc1lzLCRiDpZODVyPFLRGy1VzYif/m7J0AJyO0qVQombFUT/SH8khgqRWhI4/cNSHxXA2+sMbADiVVuPbs5HGXKwNSCAk+RLR611en+QBTctnG0KY3SwPyLljioWhQRZRURraREqBS8oUz2nzy1FNRN9VPqXUPDyNFnWz1TWTyPHIuNQTE0UUIgImCHspQHWXkvDHhppGuS3zq/Pa8KnWWBerZpCCOPVBLZK+B86Q+YnKO1q6AAAAABJRU5ErkJggg==",revicer:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABBnSURBVHgBzVsJjJXVFf7O/wA3rIP70srDpbWKghWVrozapNIaAWtq1TZCTBttGgGraVrTMJg01dYIYzU2sSnStGI3hdBF2xRGq4IbiyvWAjOoFZRl1IqU5d2e89/t3Pv+NzAsSY88/3vvf/97z37OXYawj2H0j0x96yC01xoYYQzqINQNoY0aXPZAMNzWw229XOvm+rKCsLyoYdniqdSNfQiEfQCjf2LadwDjePTxMIrQdGbD/1FT2b/mGjNM3glDupiBsxffSF3Yy7DXGNA+w7RtbmAy4zyFDNr84Fxn4YJMnNFwJdRdnwQRkyEY+jIzuD4dBbr2lmbsMQOE8C1gwhtMOJhwRY1RtAjRqr1yYpE4qW8DowjuYUvM0U1cnU0FOveUEXvEgE/ebiYzQtO4OMQ4yVapcybmUPJEKlUxilHG/d/2pVKT4mi2vZt9Rcfj19Ns7CbsFgNGzzB1RnQWf9yejZYgjVTYJWlkHK1cNqYZGUdo+s4ztbXf6B5EOK9rN7ShQD/hM51m8gBgKXN+jMwuKluQfcq/QopOWkTZD83lIutTOCsodD9X1+/8PK5ffTth6adnmCnoJ/RLAz4308xoGEzRkvbeOtiucYPaPmS8DsQ+tj06x9y+DWmjcZqQmEfmZ0gZF//reGwqTcfeZsCYmWYWzzSxyUV7ktK2Uj2N8vitJgqE7aSt0rfod7pKmP3IdTQJuwC7xID2TrOUZxjZFKpSpAKdpZByp1dlx31xRiNotSz2tmMgGbf5u2Vdk+lM7AR26gPa7zCzuNeIfAay+qvtkApn0+X7ItgueZstnJ/w3xRFky8wwReoujef8N6OYesm+pzkG8KIEvedQJ/8b/+pmVYYdDgJ2CTG2XWiDVplm31BSAhKf1GdGxjj6zlmJkmEjFFalKuenyPMJy8LzFzwbZqK/jLggrs4xjcwE32AdkDGBb+MCOsL0GKiPnKGSj8AhBTZh8yWfkHjSZjKTJhZjUIFXHi3qW/fjqX8tq0JWS+OovXk2sPrDFDghMOAk44ABu8Hc9Cg+GblemDtu8CqDflQVuIyTkN7fI+W1079DUHnIlLordVw5kPXNucJA1ABO3ZgIdtTWwhJ0eFE/a3K+kjl/So0jjgOGH8Ge1F+HrSf6l0B7/+XvdcbwKJumL+tCOZWjlmoCKMJLlxSRZSYS2QM07KDEzcunZfP14TEhXeZiczpWZp9IS933jdI13FaqyJFb48rzwIuGZEQ3S9Y9x7wq6eBv66IKk8qNXbohaBT1k0wyeAPAtQw5eFrqBOtGCCqzx8s5GLdt5WcLbIUtKHUusIOTz8W+A7z+qgPYa+AMOL2BcBzbzY5yzw0tvQHzi++c8ABGDZ3EvX69sQEmGOT4YlX0g7qbkci5qRmAqmFCq4YBfraKLQkZFE3sHo9jNj8+9vseEcNtlpyxnEwo+tcPzj9Tuq3jmNteAZ03zPIQhC8llrtUwEh2kPQlEO2bClpnI74ysJ4lv5WYAk3DAmhDCrhiF/EUKhUTB7f+JS19Rye/zfwa0b8hTdjVAsm5cuIYfLEQ0EX8zif/1jzWPOeA+5ZlBCeEovqCKFCcO+g/XCC14KQCDHx7exMhlB0s8YlL6QXLH5BUpoFYuLyzQrixaN/f779vbDWJSsIC6aQ0EhEcUlS6ehWbwQ6u4Cr7wPeei8dcxzPMaUdQaT6O48nKNbLtiImSjz3kO1bERZNgQE1wrTK1RtiZpYzQpgj5ctHWcQ0zH8B5qb5pdTL4BmI1mNQwhDjtcvP+9Z/YK6eAzPn2XRs0YwrR4UoI3gkGaRnSiI0xXD+NzlhwPh7TLssKZPlp3QuHPfI/eygYakrCJ/Icf2Ks1IEBeGfLwJt3gqfIuslsiU0IunHh2coOTWrkS3OWQJz/5LEn+Pys6yzLRDmQDKuY2rTPLbcxibfHjWAcJWThuVYkahNkJzL3cm/q3H5e19okjx+s0RJAAlCUCZllKb5YiI9KAne/yxo/vPpXJPHcEK1vzNZSs2IonYlc/i5GzXesA0MaKC9yRajukRbtTZvfQP3Pf+jwJGDI0KsspZ4pY5JuYh+QDEmaFmiukU5T/LtL55k/6AyxSM5Olx8erpAyjdYAk1FWCSV89cK3rWW1+L9mZh6Yis5J+VnSqLjwAyXZap/56PA5m1upReRN0VuixYpv3qkcmxyw9r+pjBqxYe4mpy1OJ3zotNAklYXiJpQofJwc+idpvpXZzHtA/bjpa7viCbVTGyUFKLnnwzS0u96FXhpbSTWL4eD2iESE5awhWtz0pG65zG0547LZvPyOuDFN+O8vJ7A8GOc9BEds196F0ijmPYT2wzGSDAbSWgKdYkdUaYZ8jx3aCoJYUDohxR5eDU3ah6PT1o23v9ozw1EgqT8u2WZFgyPKp7YfIazvKs5ATptHjmAnyN1ZlX2p7hxh6gdoZckFKcdE+tvs+2/tC5O7NLC0msfMRj0rc8Cpx1t+wujfr/MhjhC3PeXleENF4C4X9nyVA/wy6fs2HFb0I7/EmuARJgDB9kX9UOtoBQdyTrB0R+SsHLxZOkbVsDZv7dXbf9FkahVMAUh3k8uwKqPxO4Rv+sYWxIfoP1kQBjiTcmr6LSs3zlDbRvbt47tZUouDvjpNbGvmMGpR0cVLyhYYBkiFU06CZO5hxay7NXOInmm5bJ46UhG7EIk0LMR3psnCcjZx5ca0ASCbP0wlkZh/QDXSaSYg3wr7cGXeNPgn8ypQZj1xVMjvqXwqujwwrYm0yZ9hmp7U04sOkP3O2h/GGFADms2VUxAVjKtQCTr7NEU1LrfEQcrXJRdi2nkILgNHqTCd2tajBurLhpAPnf24Y1U6qpz6voQVKKq+3nzkUk3bE6zNw3r37P2KV2Fga1gTW8Ma0U0L2zZ1txXzFJWjsqhm2RDVplSeA83YLB7QvTKSFSotL1WiGquw21crFgLemB5c19p2/B+zArFoT1Y0e+hl4HXNrhQpr16CPrVTPChLpxSURohPBOlPIDi1rNf83tFCK7TV1uRz2rnkxD/JP/F3OdLYumUo+xY/1gFrFinJ7HMffA50NvMlI8faZtXvMV9V6p+HgMnoMEtzMs5NwoV5zihd2bdUwQwgKXaA7mt4QbW51K2V9wToBZcZ2dVHnb6sVUMKvcNHltlfx4JN44+SCHWRfP4KhD/whiiHXqHQ8Phg6txoSiEco5y7IiPHkfo6hnAjb2iUiFGQu37R6aISrfSOhw/JJpMmCgeZoRdYkBRo6J22VdtuZHXNr/T5BIoE/cdSxOqZABsBHCbOeQzWL9BUrhOjim9RU1uXVDc/PADJIsRJ/2NLSb9xEdCZhWQ8AsfUAhdsU298146y9OTvYLcuUq5FQPE8bq+pDdIXOjLM8MeUfBucnbiXwAhCljJuwHWfwAjtpmDOJ5TjoyxV6CGmJ9TRDxZsYXjbnm6UFXT/fWTUmG8zhtar2S4iPkIY9xcxqXfydG6ZjiXl9bO/HLHMVwY78Ohm8h3jh85c1j2OvDuFpiBNdDhB8XJxSafWB2QjWM5wj3i3kQI2SaGtxG1iKJ49ufbdHijpYwL44FtvI//BBM//0WY7Q3XhQLaIe7rdQhsn066Zg6fAhms9qErHtxFGwo7j0663kfMvJSlPzAy4bYFpVTSS1CkRKSOvPR5vz53CE+4uwPZAYxDRztbg2zXunyXf0PN55ecSgwrfnY5dbPqdjclPl5CqQZE++bC319BApPO5ZA4UI0TEnK1LhdUXUrrfUGu3to0skTGaBMKq8YiJjxqVWjLLt3O9zr4132v0F7i18A8otTWkE1WKIflkV7wKmd7yhkdxiZx1eiMYWQ3I0KbiXVNoJ6b1CaKxivr5zdN/GaIZZrXWsecxPaRzNHlLK6szCVKHJQplP2HzQX39GtqSUdlyapBzv+uOieZMGx4BK1QDFIapleiQXUpStXojZESP9vubT7Zy6wh819eeEXY3JmtrAG49rdmE9tMuTI0yqbKvioHMJmvkPYvDYfhlRhpRix/w677JXTqAxDk4+T2rpgSkhNdr/AH/n3uS0r/EhGNORAnQHdfRsOCBgjUDDr9rq+OwU4iSGzLcjuo6Z9fBC3uRgJyIiwHGKOHAU25fG7DSExNb8UHn+Q9X7B5pVXaLJ1fCWG9iDlGWFPwr8PjGRgwYFB5GWJTk8OL9SSGB6k47srR18J/pkwQn/D1s3n7up3P/Y5NiVe2WRILy4R4iGKSMGkcIWW5hqD2JvExjiDlV4zq588jegc28EjQNI3wdX8w00yjvBKjQwsp1amGkLgCY0+1vyrYuNkmMK++DbzRG9sPGGiZ9eE2Prc6EJDtsCd7UHVhUul8qCahknK1z2+gsabf+RUKR2PJ6TBzuVPuAZLc+SW3CYeUGQoHfUhtSyylh1aUtz2IT4lx6IFIQOryE23oC04+ojxQJXGyZfKuVzBFRZ7h1D3sHRbwB6762q2Uu/k8ILkqU+jKzAnUy+ozXZtAFqq0XSbrdO03/sXH3zc/DCNH2SL13QHZTQqRwkUSbx7Q/kIREfByyOe5A/ebzjR263moavKpD5iF/BjTZAbp6TsSAwlGACSZGbfK3uBwlvpJh1t17ws+YKk/zBshj65UjakhQh+xZ/PbUnYvyb3tmXGJ9fwaKu8IsT5N4sGXMtcPSezKD1pUTGLL1kQKJHcInlnDv9csGse1wQw5AHRcW0r0B7wrtHIDDIdNgpJ8OU92Ics75CwV1njkwninUXE/SHdvgusfNFNYZWYopiSxPPgBHaLtZSW9/6CVRe88JTG9yq/kV2xbKl3m6IwfQ60JeKDrb5vQj2tyHm6YZ2bwQJMJ6QSldNWGQxXoC9R9vQ8Xr8hteLT4zhNrTHxt4nfhHlMwD5cLcFS7mYnvaIVHnwwQuHGumcWdJlZ94TMv1946ZEbRZdbc1JrWDdJwF7UqvzmeXs72mSCnuz+eQBPRB+yUAQLfnWfk0uSIcvJMQkEbIkmaITpYVsbloP75u3w5Tk1+QH+nbdH3WXbruL1wWVpABuJRZyfLU/eTmf36Jryn6KiIKo7HSWWU9kO9YWH7m+RUGfq9jv1uTL9A8+PfuyvE7zIDBG65mCQyTA97fz59LeJAIWZTkkPEc35Sub3/xi1rfdrrx8/378pn3F0KTIRKpZ19dAqu2EXYJRPQcNMfzRTYP5TS94hh50Zyk7PqsnPiynOP4CFbwfmQivyTdN53uD79hxdRnxe8q9DpN3T8xdR3NLCQJx7q7/J6hKXM6bQPeXChUc/Y7BtU6Ap9cubpNspZhK7tNUy6ZWz//2hqtxjg4Qd/MhP5IdpQd4OVAsouLsdFiq2FWUuaIylNygFkISNzwFzdxMy+ub9S17BHDBAQbWDE5N7dRBb/IS78eILKuJ1fcqaKeX04D3+YkSVCGXd6udhZbMXMjgnUiz2APWaAB2EE5O8ITdQI76mN27uDK4fJ/e5TM0Zea6yFRYZu4sTmDuwFwtPp9jIwM4QRE0n+tpAwVNo8E/TTtZcbITqpQ+rrurk2jzk5t2Ps//EfT7cC0QzebhvZIIwk+eMrgzpT18YTD4Uyd/5fD1dEtbthiV7OC5iujrH79s/n/wfPqH/yR2ix9gAAAABJRU5ErkJggg=="},[7226934,7010289].includes(Number(d.lb))?Kr:[7010301,7226884,7010569,7227278].includes(Number(d.lb))?Yr:[7226915,7010330,7226916,7010339].includes(Number(d.lb))?Jr:[7226919,7010335].includes(Number(d.lb))?Zr:[7227396,7010659].includes(Number(d.lb))?$r:[7227397,7010660].includes(Number(d.lb))?Xr:[7227398,7010661].includes(Number(d.lb))?Qr:[7227400,7010663].includes(Number(d.lb))?to:[7227399,7010662].includes(Number(d.lb))?eo:[7227401,7010664].includes(Number(d.lb))?no:[7227483,7010242].includes(Number(d.lb))?ro:[7227494,7010408].includes(Number(d.lb))?oo:[7227537].includes(Number(d.lb))?io:[7227718,7010804].includes(Number(d.lb))?ao:[7010567,7226736].includes(Number(d.lb))?so:void 0),headerFix:{code:"headerFix",component:No}},components:{"jarvis-component-localtest":Sr.Z,"thumbs-up-down":Eo,"jarvis-component-auto-answer-react":function(t){var e,n=t.appContext,o=t.message,s=t.defaultConfig,u=n.dialog,l=null==n||null===(e=n.utils)||void 0===e?void 0:e.$track,f=null==u?void 0:u.ext,h=o.ext,p=(0,i.useMemo)((function(){var t=null==h?void 0:h.jarvis_data;return t=t.replace(/<a[^>]+>/g,(function(t){return/\starget\s*=/.test(t)?t:t.replace(/^<a\s/,'<a target="_blank" ')})),(0,fn.qm)(t||"",18)}),[]),d=h&&h.transferDisabled===be.Ll.Disabled,v=!((null==s?void 0:s.config)||{}).showTransferBtn||+h.dialogType!==be.My.ROBOT||d,g=(0,i.useRef)(null),m=Number(null==f?void 0:f.type)===be.My.ROBOT&&Number(null==f?void 0:f.status)===be.Mc.NORMAL&&Number(f.dialogId)===Number(h.dialogId),y=m?br:_r,b=h.robotMessage||r.oc.t("customer_service2",{},"我要转人工"),_=function(){var t,e=(t=Er().mark((function t(e){var r,i,a,s,c;return Er().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.stopPropagation(),m){t.next=3;break}return t.abrupt("return");case 3:"0"===h.transferSourceType&&l({event:"dianjidaanzhuanrengonganniu_zhuanrengong",params:{userId:null===(s=n.ext)||void 0===s?void 0:s.userId,botDialogID:null===(c=n.dialog)||void 0===c||null===(c=c.ext)||void 0===c?void 0:c.dialogId}}),null===(r=n.utils)||void 0===r||null===(i=r.transferPeople)||void 0===i||i.call(r,{skillId:h.skillId,secretUser:null===(a=n.ext)||void 0===a?void 0:a.secretUserId,source:"dianjidaanzhuanrengonganniu_zhuanrengong"},o);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){xr(i,r,o,a,s,"next",t)}function s(t){xr(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),w=function(t){var e,n,r,o;null!=t&&t.target&&null!=t&&null!==(e=t.target)&&void 0!==e&&e.tagName&&"IMG"===(null==t||null===(n=t.target)||void 0===n||null===(n=n.tagName)||void 0===n?void 0:n.toUpperCase())&&(null===(r=window)||void 0===r||null===(r=r.parent)||void 0===r||r.postMessage({action:"previewImg",imgUrl:null==t||null===(o=t.target)||void 0===o?void 0:o.getAttribute("src")},"*"))};(0,i.useEffect)((function(){var t,e;g.current&&(null!=n&&null!==(t=n.query)&&void 0!==t&&t.isPc&&!o.isLark?null==g||null===(e=g.current)||void 0===e||e.addEventListener("click",w):new mr.Z(g.current,{inline:!1,toolbar:!1,navbar:!1,title:!1}));return function(){var t,e;null==g||null===(t=g.current)||void 0===t||null===(e=t.removeEventListener)||void 0===e||e.call(t,"click",w)}}),[g.current,null==o?void 0:o.content]);var E=(0,i.useMemo)((function(){return a().createElement(c.RichText,{className:yr,content:p,options:{ADD_ATTR:["target"],ALLOW_UNKNOWN_PROTOCOLS:!0},ref:g})}),[p]);return a().createElement(c.Bubble,{position:o.isFromMe?"right":"left",content:E,footer:v?null:a().createElement("div",{className:y,onClick:_},b)})},"transfer-tips":Tr},autoComplete:{onClick:function(t,e){var n,r,o,i=null==t||null===(n=t.utils)||void 0===n?void 0:n.$track,a=e.type,s=void 0===a?"":a,c=e.knowledgeId,u=void 0===c?"":c,l=e.question,f=e.robotMessageType;return t.sendMessage&&t.sendMessage({type:be.V$.MESSAGE_TYPE_TEXT,content:l},{knowledgeType:String(s),knowledgeId:String(u),robotMessageType:String(f)}),i({event:"zhinenglianxiang_dianjishu",params:{userId:null===(r=t.ext)||void 0===r?void 0:r.userId,botDialogID:null===(o=t.dialog)||void 0===o||null===(o=o.ext)||void 0===o?void 0:o.dialogId,questionID:e.knowledgeId,questionName:e.question}}),!0}},themes:co(),plugins:[new ne({appCode:"ngcc_"+d.lb,bid:d.lb,channelId:d.EY,channel:d.CE}),new gr],query:{isPc:Rt()},lang:d.KQ,utils:{$toast:c.Toast.show},jsBrige:Xo(Xo({openWindow:function(t){window.open(t)}},window.toutiao),{},{aweme:window.aweme}),middleware:{send:[],receive:[function(t,e){return ni.apply(this,arguments)}]},lifecycle:{}};console.info("当前".concat(0===Number(d.CE)||0===Number(d.qz)||1==+d.Ue?"是":"不是","PC页面"),"当前地区".concat(Go),"当前环境Tag---".concat(window.$headerEnv));var oi,ii,ai={apiOrigin:Me(),region:Go,debug:!(null===(qo=window)||void 0===qo||null===(qo=qo.localStorage)||void 0===qo||!qo.getItem("ocic_linkchat_debug")),linkchatInfo:{initWithCreateDialog:"true"!==window.$offlineFormDto,breakInitChannel:"true"===window.$offlineFormDto||d.ct,userId:d.Ok,entryId:d.EY,channel:void 0===d.CE?r.oI.H5:d.CE,filterAgentMessage:!1,source:d.qz,mobile:d.ai,businessLineId:d.lb,businessLineName:d.y8,channelGroupId:d.Zg,initDialogInfo:function(){try{if(window.$dialogInfo&&"{{ dialogCreateInfo }}"!==window.$dialogInfo){var t=JSON.parse(Nt(window.$dialogInfo));window.$dialogCreatedInfo=t;var e=t.id,n=t.type,r=t.status;return Ho(Ho({},Ko(t,Wo)),{},{id:e,dialogId:e,ext:{dialogId:e,type:n,status:r}})}return{}}catch(t){return j({title:"getWindowDialogInfo error",info:t,level:x}),{}}}(),initOfflineForm:{useDmc:1==d.jO||window.$inDmc&&"1"===window.$inDmc,useOfflineForm:"true"===window.$offlineFormDto||d.ct,jarvisId:d.oM||window.$offlineFormDtoJarvisId,jumpUrl:window.$offlineFormDtoUrl},query:{isPc:Rt(),conversationTitle:d.o$||"",openId:d.GG,referenceUserType:d.TS,uid:d.hQ,uname:d.tt,appId:d.Jf,contactType:d.$z,useDmc:be.sv,secretImcUserId:d.PM,featureKey:d.UN},ext:d.GK?JSON.parse(d.GK):void 0},env:g()?r.Vi.PROD:r.Vi.BOE,lang:d.KQ,timeZone:d.EQ,chatProps:ri,getUserInfo:(ii=ei(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{userId:d.Ok,businessLineId:d.lb,businessLineName:d.y8});case 1:case"end":return t.stop()}}),t)}))),function(){return ii.apply(this,arguments)}),getSign:(oi=ei(Zo().mark((function t(){var e;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.r&&d.Dr&&d.Zs){t.next=5;break}return t.next=3,tn({businessLineId:d.lb,secretReferenceUserId:d.Ok,secretStr:d.MM,sign:d.Xx,timestamp:d.AB,appId:d.Jf,contactType:d.$z,channelId:d.CE,entryId:d.EY,secretUserId:d.Zs},{timestamp:d.AB,"secret-str":encodeURIComponent(d.MM),businessLineId:d.lb});case 3:return e=t.sent,t.abrupt("return",Xo({token:d.r,secretStr:d.MM&&encodeURIComponent(d.MM),sign:d.Xx,timestamp:d.AB,secretUserId:d.Zs&&encodeURIComponent(d.Zs),referenceUserId:d.Ok,imUserId:e.userId},e));case 5:return t.abrupt("return",{imUserId:d.Dr,token:d.r,secretStr:d.MM&&encodeURIComponent(d.MM),sign:d.Xx,timestamp:d.AB,secretUserId:d.Zs&&encodeURIComponent(d.Zs),referenceUserId:d.Ok});case 6:case"end":return t.stop()}}),t)}))),function(){return oi.apply(this,arguments)}),i18n:r.oc,metrics:window.Slardar};function si(t){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(t)}"boe"===d.OB&&(ai.imCloudConfig=Go===r.yp.sg?Et.XY.sg:Et.XY.cn,ai.debug=!0),window.$headerEnv&&"{{ headerEnv }}"!==window.$headerEnv&&(ai.envTag=window.$headerEnv),window.$isPPE&&"{{ isPPE }}"!==window.$isPPE&&(ai.env=r.Vi.PPE),r.jH.subscribe((function(t){switch(t.type){case r.QS.NET_ERROR_401:ln(r.oc.t("login_failed__please_refresh_the_page_and_try_again",{},"登录失效，请刷新页面重试"),!0);break;case r.QS.AUTH_ERROR:case r.QS.GET_TOKEN_ERROR:case r.QS.CREATE_DIALOG_ERROR:ln(r.oc.t("failed_to_create_session__please_try_again_later",{},"创建会话失败，请稍后重试"))}}));var ci,ui,li=function(){return!!navigator.userAgent.match(/(Lark)\/([\d.]+)/)},fi=function(){return"7010577"==d.lb},hi=function(){var t=navigator.userAgent.indexOf("Vulcan")>-1;return t},pi=function(){var t=navigator.userAgent.indexOf("NewsArticle")>-1;return t};function di(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return vi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vi(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}null!==(ci=window)&&void 0!==ci&&null!==(ci=ci.Promise)&&void 0!==ci&&ci.finally||(window.Promise=o.Promise),(window.location.search.indexOf("__debug=1")>0||null!==(ui=window)&&void 0!==ui&&null!==(ui=ui.localStorage)&&void 0!==ui&&ui.getItem("ocic_linkchat_debug"))&&n.e(415).then(n.t.bind(n,1415,23)).then((function(t){new t.default}));var gi=[7010339,7010330,7226915,7226916];!function(){function t(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0}),WeixinJSBridge.on("menu:setfont",(function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0})}))}"object"==("undefined"==typeof WeixinJSBridge?"undefined":si(WeixinJSBridge))&&"function"==typeof WeixinJSBridge.invoke?t():document.addEventListener("WeixinJSBridgeReady",t,!1)}();var mi=Rt(),yi=d.UH;const bi=function(){var t=di((0,i.useState)(!1),2),e=t[0],n=t[1],o=(0,i.useRef)();o.current=function(t){switch(t.linkchatStatus){case"show":case"reShow":!e&&n(!0)}};var u=(0,i.useMemo)((function(){if(!e)return null;var t,n=It.includes(+d.lb)&&Date.now()-+d.AB>1728e5?null:new r.ZP(ai);return t=n?n.appContext:null,document.body.addEventListener("click",(function(e){var n,o=e.target||e.srcElement;if(o&&o.getAttribute&&"a"===(null===(n=o.nodeName)||void 0===n?void 0:n.toLocaleLowerCase())){var i,a,s,u=o.getAttribute("href"),l=o.getAttribute("download"),f=o.getAttribute("data-rich-text-extension-type")||"",h=o.getAttribute("data-app-component-id")||"";if("jarvisCard"===f&&h){var p,v,g=(null===(p=o.offsetParent)||void 0===p?void 0:p.getAttribute("data-rootMessageId"))||"",m=(null===(v=o.offsetParent)||void 0===v?void 0:v.getAttribute("data-serverId"))||"";return e.preventDefault&&e.preventDefault(),void(t&&t.triggerComEvent&&t.triggerComEvent(h,{rootMessageId:g,serverId:m}))}if(!u||l)return;if(e.preventDefault&&e.preventDefault(),/^(aweme|sslocal):\/\//.test(u))return null===(i=window)||void 0===i||null===(i=i.JSBridge)||void 0===i||i.setAppID(82),null===(a=window.aweme)||void 0===a||null===(a=a.app)||void 0===a||null===(s=a.openSchema)||void 0===s?void 0:s.call(a,{schema:u}).catch((function(){c.Toast.show(r.oc.t("failed_to_open_link",{},"打开链接失败"))}));if(wt){if(/^sslocal:\/\/microapp\?/.test(u)){var y="?"+u.split("?")[1],b=(0,d.vl)(y).start_page;if(dt&&dt.miniProgram&&dt.miniProgram.navigateTo)return void dt.miniProgram.navigateTo({url:"/".concat(b),success:function(t){},fail:function(t){}})}if(/^sslocal:\/\/aweme/.test(u)){var _=u.split("sslocal://");return void(window.location.href=_t?"snssdk2329://"+_[1]:"snssdk1128://"+_[1])}}if(d.kB){for(var w={},E=0;E<o.attributes.length;E++){var x=o.attributes[E];w[x.name]=x.value}return void(window.parent&&window.parent.postMessage({action:"LINKCHAT_PREVENT_A",attrs:mt({},w)},"*"))}var S=o.getAttribute("target");S&&S.indexOf("blank")>-1?window.open(u):window.location.href=u}})),window._OCIC_LINKCHAT=n,n}),[e]);return(0,i.useEffect)((function(){var t,e,i;(document.title=d.tj||r.oc.t("linkchat_page_title",{},"欢迎咨询"),pi()||li()||hi()||fi())||(null===(e=(i=window)._jarvis_loader_)||void 0===e||e.call(i,"https://unpkg.byted-static.com/bridge/aweme/1.4.0/lib/aweme.umd.js","aweme").then((function(){var t;null===(t=window)||void 0===t||null===(t=t.JSBridge)||void 0===t||t.setAppID(82)})));mi&&(null===(t=window)||void 0===t||null===(t=t.parent)||void 0===t||t.postMessage({action:"register"},"*")),mi&&yi?window.addEventListener("message",(function(t){var e=t.data,n=void 0===e?{}:e;o.current&&o.current(n)}),!1):n(!0)}),[]),(0,i.useEffect)((function(){var t;mi&&yi&&(!e&&(null===(t=window)||void 0===t||null===(t=t.parent)||void 0===t||t.postMessage({action:"jsLoadEnd"},"*")))}),[e]),a().createElement(D,null,e?u?a().createElement("div",{id:"__IM__render",style:{height:"100%",paddingTop:gi.includes(Number(d.lb))?"20px":"0"}},a().createElement(s.ZP,{className:"classs_bid_".concat(d.lb),appContext:null==u?void 0:u.appContext})):a().createElement(p,null):a().createElement(s.q5,null))};var _i=n(314),wi=d.KQ||"zh";r.oc.setLang(wi),(0,r.YU)(d.KQ,window.$isOversea).then((function(){return(0,_i.render)(a().createElement(bi,null),document.getElementById("root"))}))},7219:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(1024),o=n.n(r),i=n(1836),a=n(4754);const s="wrap_U1l1j";var c=n(2692);const u=function(t){var e=t.appContext,n=t.message;return o().createElement(i.Bubble,{position:n.isFromMe?"right":"left",className:s},n.ext.referencedMessage?o().createElement(c.Z,{appContext:e,message:n}):null,a.oc.t("message_recalled",{},"此消息已撤回"))}},4971:(t,e,n)=>{"use strict";n.d(e,{Z:()=>re});var r=n(1024),o=n.n(r),i=n(4754),a=n(1836),s=n(4936),c=n(3726),u=n(8890),l=n(7258),f=n(6896),h=n(7856),p=n.n(h),d=/((?:http:\/\/|https:\/\/|sslocal:\/\/)(?:(?:\w|=|\?|\.|\/|&|-|%|@|#)+))/;function v(t){var e=document.createElement("div");e.innerHTML=p().sanitize(t,{ADD_ATTR:["target"],ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|xxx|lark|sslocal|aweme):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i});return function t(e){[].forEach.call(e,(function(e){if(e.hasChildNodes())t(e.childNodes);else if(e.nodeType===Node.TEXT_NODE&&e.textContent){var n;if(d.test(e.textContent)&&"a"!==(null===(n=e.parentNode)||void 0===n||null===(n=n.nodeName)||void 0===n?void 0:n.toLocaleLowerCase())){var r=e.textContent.split(d),o=document.createDocumentFragment();r.filter(Boolean).forEach((function(t){var e;d.test(t)?((e=document.createElement("a")).setAttribute("href",t),e.setAttribute("target","__blank"),e.innerHTML=t):e=document.createTextNode(t),o.appendChild(e)})),e.replaceWith(o)}}}))}(e.childNodes),e.innerHTML}const g={wrap:"wrap_0NWLt",bubble:"bubble_2SYYR",btnActive:"btnActive_xSdR7",btnDisabled:"btnDisabled_1wnVP"};var m=n(5700);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}var b=["conversationId","id","type","conversationShortId","conversationTitle","createdTime","status","fromUserId"];function _(){_=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(r||[]);return o(a,"_invoke",{value:j(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function b(){}function w(){}var E={};u(E,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(P([])));S&&S!==n&&r.call(S,a)&&(E=S);var k=w.prototype=m.prototype=Object.create(E);function O(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==y(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function C(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(y(e)+" is not iterable")}return b.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},O(T.prototype),u(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===y(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function k(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function O(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){k(i,r,o,a,s,"next",t)}function s(t){k(i,r,o,a,s,"throw",t)}a(void 0)}))}}function T(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const C=function(t){var e=t.appContext,n=t.message,r=n.ext.robotMessage,s=T((0,m.Z)(O(_().mark((function t(){var n,r,o,s,c,u,l,f,h,p,d;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===(n=e.utils)||void 0===n||null===(n=n.services)||void 0===n||null===(r=n.createDialog)||void 0===r?void 0:r.call(n);case 3:null!=(o=t.sent)&&o.dialog&&(s=o.dialog,c=s.conversationId,u=s.id,l=s.type,s.conversationShortId,f=s.conversationTitle,s.createdTime,h=s.status,p=s.fromUserId,d=S(s,b),e.senderName=f,e.conversationTitle=f,e.conversationId=c,e.fromUserId=p,e.dialogId=u,e.dialogType=l,e.dialog.id=c,e.dialog.ext=E({dialogId:String(u),type:String(l),status:String(h)},d)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a.Toast.show(t.t0.message||i.oc.t("operation_failed",{},"操作失败"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),1)[0];return o().createElement("div",{className:g.wrap},o().createElement(a.Bubble,{className:g.bubble,content:n.content,footer:o().createElement("div",{className:g.btnActive,onClick:s},r)}))},L="fileLoading_yYQlC",A="rotateSpin_jaXLq",I="loadingText_cyigQ";function P(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var R=function(t){var e=t.name||t.fileName;if(!e)return"Folder";var n,r=e.split(".")[1]||"";return n=r,["doc","docx"].some((function(t){return n.indexOf(t)>-1}))?"doc":function(t){return["pdf"].some((function(e){return t.indexOf(e)>-1}))}(r)?"pdf":function(t){return["xls","xlsx","csv"].some((function(e){return t.indexOf(e)>-1}))}(r)?"xls":function(t){return["png","jpg","apng","gif","webp"].some((function(e){return t.indexOf(e)>-1}))}(r)?"img":function(t){return["ppt","pptx"].some((function(e){return t.indexOf(e)>-1}))}(r)?"ppt":function(t){return["txt"].some((function(e){return t.indexOf(e)>-1}))}(r)?"txt":function(t){return["mp4","mp3","mov","avi","webm","mkv","wav"].some((function(e){return t.indexOf(e)>-1}))}(r)?"audio":void 0};const D=function(t){var e=t.message,n=t.appContext,s=e.flightStatus,c=P((0,r.useState)((function(){try{var t,n,r;return!e.content&&e.fileInfo?{fileName:null===(t=e.fileInfo)||void 0===t?void 0:t.fileName,length:null===(n=e.fileInfo)||void 0===n?void 0:n.length,remoteURL:URL.createObjectURL(null===(r=e.fileInfo)||void 0===r?void 0:r.fileHandler)}:JSON.parse(e.content).__files.object||{}}catch(t){return{}}})),2),u=c[0],l=c[1];(0,r.useEffect)((function(){try{e.content&&l(JSON.parse(e.content).__files.object||{})}catch(t){}}),[e.content]),(0,r.useEffect)((function(){var t,r;e.serverId&&(null===(t=n.channel)||void 0===t||t.refreshFileUrl(e.serverId,null==e||null===(r=e.createdAt)||void 0===r?void 0:r.getTime()))}),[]);var f=(0,r.useMemo)((function(){return{name:u.fileName,size:u.length,downloadUrl:u.remoteURL,extension:R(u)}}),[u]);return o().createElement(a.Bubble,{style:{padding:0},onClick:function(){if(e.isLark)window.open(f.downloadUrl);else{var t=f.downloadUrl;t&&window.fetch(t).then((function(t){return t.blob()})).then((function(t){var e=window.URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download=f.name,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(e)})).catch((function(){}))}},contentStyles:{background:"transparent",padding:0}},o().createElement(a.FileCard,{file:f,extension:f.extension,position:"left",style:{cursor:"pointer"}}),(+s<=i.b3.Inflight||!e.content)&&o().createElement("div",{className:L},o().createElement("img",{className:A,src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/nulojubqbk/cg-fe-djc/im_pic_loading_spin.png"}),o().createElement("span",{className:I},i.oc.t("uploading",{},"上传中"),"...")))};var M=n(1949),F=n.n(M),U=n(7417);const z="imageWrap_Mx1FR",G="imgLoading_Migcs";var B=n(1564);function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function W(){W=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==q(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(q(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function V(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function H(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){V(i,r,o,a,s,"next",t)}function s(t){V(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J=function(t){if(!t)return"";try{var e=JSON.parse(t);return null!=e&&e.resourceUrl?e.resourceUrl:e&&e.__files&&e.__files.image&&e.__files.image.remoteURL?e.__files.image.remoteURL:{}}catch(t){return""}};const Z=function(t){var e=t.appContext,n=t.message,c=n.flightStatus,u=n.ext,l=void 0===u?{}:u,f=n.isLark,h=Y((0,r.useState)((function(){return function(t){if(!t)return"";try{return null==t?void 0:t.fileHandler.tempUrl}catch(t){}}(null==n?void 0:n.fileInfo)||J(n.content)||""})),2),p=h[0],d=h[1],v=Y((0,r.useState)(!1),2),g=v[0],m=v[1],y=Y((0,r.useState)(!1),2),b=y[0],_=y[1],w=(0,r.useRef)(null),E=(0,r.useCallback)(H(W().mark((function t(){var r,o,i;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!b||!n.serverId||n.type!==s.V$.MESSAGE_TYPE_IMAGE){t.next=11;break}return t.prev=1,t.next=4,null===(r=e.channel)||void 0===r?void 0:r.refreshFileUrl(n.serverId,0);case 4:o=t.sent,(i=J(o.content))&&d(i+"&temp=".concat((new Date).getTime())),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])}))),[b]);return(0,r.useEffect)((function(){var t;!w.current||null!==(t=e.query)&&void 0!==t&&t.isPc&&!f||new(F())(w.current,{inline:!1,toolbar:!1,navbar:!1,title:!1})}),[]),(0,r.useEffect)((function(){var t;n.serverId&&n.type===s.V$.MESSAGE_TYPE_IMAGE&&(null===(t=e.channel)||void 0===t||t.refreshFileUrl(n.serverId,0))}),[]),(0,r.useEffect)((function(){var t=J(n.content);t&&t!==p&&d(t)}),[n.content]),(0,r.useMemo)((function(){var t=function(t,e){return isNaN(t)||isNaN(e)?{width:200,height:200}:t<200&&e<200?{width:t,height:e}:t>e?{width:200,height:e/t*200}:{height:200,width:t/e*200}}(Number(l.originImageWidth),Number(l.originImageHeight)),r=t.width,s=t.height;if(!p)return o().createElement(a.Bubble,{position:n.isFromMe?"right":"left"},"[",i.oc.t("message_wrong",{},"消息有误"),"]");return o().createElement("div",{ref:w,style:{borderRadius:4,overflow:"hidden"}},o().createElement("img",{onLoad:function(){m(!0),_(!1)},onError:function(t){m(!0),_(!0)},onProgress:function(){return m(!1)},onClick:function(){var t;null!==(t=e.query)&&void 0!==t&&t.isPc&&window.parent.postMessage({action:"previewImg",imgUrl:p},"*")},src:p,style:{width:r,height:s}}),(!g||b||!n.content||c&&c<=i.b3.Inflight)&&o().createElement("div",{onClick:E,className:z,style:{width:r,height:s}},b?o().createElement(o().Fragment,null,o().createElement(B.Refresh,{theme:"outline",size:"10",fill:"#969AA0",strokeWidth:3}),o().createElement("div",{style:{paddingLeft:"6px"}},i.oc.t("reload",{},"重新加载"))):o().createElement(o().Fragment,null,o().createElement(U.JO,{fill:"#fff",size:16,type:"Loading",spin:!0,className:G}),i.oc.t("loading",{},"加载中"),"...")))}),[p,c,g,b])};var $=n(5343),X=n(5995);const Q="title_F+nuK",tt="btnActive_XHJie",et="btnDisabled_O1Nxp",nt="questionItem_Pg6uB",rt="questionItemPc_OPBP5",ot="questionItemRight_CpSce",it="exChange_MRlim",at="exChangeDesc_GYPT8";var st=n(6758),ct=n(4367);function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function lt(){lt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ut(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(ut(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function ft(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(n),!0).forEach((function(e){dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ut(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ut(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vt=a.Swiper.Item;const gt=function(t){var e,n=t.appContext,c=t.message,u=n.dialog.ext||{},l=null==n||null===(e=n.utils)||void 0===e?void 0:e.$track,f=c.ext;try{var h,p,d=Number(u.type),v=Number(u.status),g=Number(d)===s.My.ROBOT&&Number(v)===s.Mc.NORMAL&&Number(u.dialogId)===Number(f.dialogId),m=g?tt:et,y=JSON.parse(c.content),b=f.knowledgeGuide||i.oc.t("guess_you_want_to_ask",{},"猜您还想了解以下问题"),_=y,w=!1;c.type===s.Cs.QUESTION_CARD_TYPE&&(b=y.faqGuide,_=y.faqList,w=1===Number(y.transferButtonValid));for(var E=[];_&&_.length;)E.push(_.splice(0,5));var x=function(t,e){return t.map((function(t,r){var a,u;return o().createElement("div",{key:t.question,className:null!==(a=n.query)&&void 0!==a&&a.isPc?rt:nt,onClick:function(o){o.stopPropagation(),function(t){var e,r,o,a,u,h={};0===Number(f.multiAnswerType)?(a="guanlianwenti_dianjishu",u=t.knowledgeId):1===Number(f.multiAnswerType)?(a="duogewenti_dianjishu",u=t.knowledgeId):(a="yindao_dianjishu",u=t.id,h={quetionLevel:String(t.level),questionTotalLevel:t.totalLevel,isLast:t.isLast,questionPage:t.page,questionScene:f.clickSourceType||st.ak.Common,questionType:t.insertType}),null==l||l({event:a,params:pt({userId:null===(e=n.ext)||void 0===e?void 0:e.userId,botDialogID:null===(r=n.dialog)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.dialogId,questionID:String(u),questionName:t.question},h)}),null==l||l({event:"im_suggest_card_module_click",params:pt({im_session_id:null===(o=n.dialog)||void 0===o||null===(o=o.ext)||void 0===o?void 0:o.dialogId,question_text:t.question,click_target:"问题模板"},ct.te)});var p={type:i.me.MessageType.MESSAGE_TYPE_TEXT,content:t.question},d=pt(pt({},t.knowledgeExt),{},{robotMessageType:f.robotMessageType,rootMessageId:f.rootMessageId||c.serverId,parentMessageId:c.serverId});c.type===s.Cs.QUESTION_CARD_TYPE&&(p.faqId=t.id),c.type!==s.Cs.QUESTION_CARD_TYPE&&c.type!==s.Cs.ROBOT_KNOWDGE_CARD&&c.type!==s.Cs.ROBOT_INTERCEPT_CARD||(d.knowledgeId="".concat(t.knowledgeId),d.knowledgeType="".concat(t.knowledgeType)),p.knowledgeExt=t.knowledgeExt||{},n.sendMessage(p,d)}(pt(pt({},t),{},{page:e,idx:r}))}},t.question,(null==n||null===(u=n.ext)||void 0===u||null===(u=u.userDefaultConfig)||void 0===u?void 0:u.guideCardNewStyles)&&o().createElement(X.Z,{className:ot,size:16,fill:"#C4C4C4"}))}))},S=(0,r.useRef)(null),k=E.map((function(t,e){return o().createElement(vt,{key:e},o().createElement("div",{style:{paddingBottom:8},key:e},x(t,e)))})),O=(0,r.useCallback)((function(){return o().createElement("div",{className:it,onClick:function(){var t;return null===(t=S.current)||void 0===t?void 0:t.swipeNext()}},o().createElement($.Z,{theme:"outline",size:"16"}),o().createElement("p",{className:at},i.oc.t("change_a_batch",{},"换一批")))}),[]),T=function(){var t,e=(t=lt().mark((function t(e){var r,o,i,a,s,u;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.stopPropagation(),g){t.next=3;break}return t.abrupt("return");case 3:"0"===f.transferSourceType&&(null==l||l({event:"zhijiezhuanrengongshu",params:{userId:null===(s=n.ext)||void 0===s?void 0:s.userId,botDialogID:null===(u=n.dialog)||void 0===u||null===(u=u.ext)||void 0===u?void 0:u.dialogId}})),null==l||l({event:"im_suggest_card_module_click",params:pt({im_session_id:null===(r=n.dialog)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.dialogId,click_target:"转人工"},ct.te)}),null===(o=n.utils)||void 0===o||null===(i=o.transferPeople)||void 0===i||i.call(o,{skillId:f.skillId,secretUser:null===(a=n.ext)||void 0===a?void 0:a.secretUserId,source:"zhijiezhuanrengongshu"},c);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ft(i,r,o,a,s,"next",t)}function s(t){ft(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),j=w?o().createElement("div",{className:m,onClick:T},i.oc.t("customer_service",{},"转人工")):null;return o().createElement(a.Card,{title:o().createElement("div",{className:Q},b),extra:j,align:"left"},null!=n&&null!==(h=n.ext)&&void 0!==h&&null!==(h=h.userDefaultConfig)&&void 0!==h&&h.guideCardNewStyles?o().createElement(a.Swiper,{ref:S,loop:!0,allowTouchMove:!1,indicator:function(t,e){return t>1?O():null}},k):o().createElement(a.QuestionSwiper,{isPc:!(null===(p=n.query)||void 0===p||!p.isPc)},k))}catch(t){return o().createElement(a.Bubble,{position:c.isFromMe?"right":"left"},"[",i.oc.t("message_wrong",{},"消息有误"),"]")}},mt="wrap_Dj9T+",yt="content_33byV";const bt=function(t){var e,n,r,a,c,u,l,f,h,p,d=t.message;return o().createElement("div",{className:mt},o().createElement("div",{className:yt},d.type===s.V$.SYSTEM_TIME_TYPE?(e=Number(d.content),n=864e5,r=Date.now(),a=new Date(e),c=a.getFullYear(),u=a.getMonth(),l=a.getDate(),f=a.getHours(),h=a.getMinutes(),p=function(t){return t>9?t:"0".concat(t)},r-e<n?"".concat(p(f),":").concat(p(h)):"".concat(r-e<1728e5?i.oc.t("yesterday_{placeholder1}__{placeholder3}",{placeholder1:p(f),placeholder3:p(h)},"昨天 {placeholder1}:{placeholder3}"):i.oc.t("{placeholder0}年{placeholder2}月{placeholder4}_{placeholder6}_{placeholder8}",{placeholder0:p(c),placeholder2:p(u+1),placeholder4:p(l),placeholder6:p(f),placeholder8:p(h)},"{placeholder0}年{placeholder2}月{placeholder4} {placeholder6}:{placeholder8}"))):d.content))},_t="videoWrap_hdRoV",wt="videoLoading_NOb5K";function Et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return xt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const St=function(t){var e,n,a=t.message,c=t.appContext,u=170,l=230,f=a.type,h=a.content,p=Et((0,r.useState)((function(){try{var t,e;return!a.content&&null!=a&&null!==(t=a.fileInfo)&&void 0!==t&&t.fileHandler?{remoteURL:URL.createObjectURL(null==a||null===(e=a.fileInfo)||void 0===e?void 0:e.fileHandler)}:JSON.parse(h).__files.video||{}}catch(t){return{}}})),2),d=p[0],v=p[1];(0,r.useEffect)((function(){try{h&&v(JSON.parse(h).__files.video||{})}catch(t){}}),[h]),(0,r.useEffect)((function(){var t,e;a.serverId&&f===s.V$.MESSAGE_TYPE_VIDEO&&(null===(t=c.channel)||void 0===t||t.refreshFileUrl(a.serverId,null==a||null===(e=a.createdAt)||void 0===e?void 0:e.getTime()))}),[]);try{if(f===s.V$.CUSTOM_VIDEO_TYPE){var g=JSON.parse(h);n=g.videoSrc,e=g.videoCoverImg,g.width&&g.height&&(l=g.width/g.height*u)}else if(f===s.V$.SPECIAL_MESSAGE){n=JSON.parse(h).resourceUrl}else e=d.ext&&d.ext["s:file_ext_key_video_cover_url"],n=d.remoteURL}catch(t){}try{var m=a.ext,y=m.originHeight,b=m.originWidth;if(b=+b,(y=+y)&&b){var _=b/y;_>1?u=l/_:l=u*_}}catch(t){}return o().createElement("div",{className:_t},o().createElement("video",{style:{width:l,height:u},src:n,poster:e,controls:!0,"webkit-playsinline":!0,playsInline:!0}),(!a.content||[i.b3.Created,i.b3.Preparing,i.b3.Inflight].includes(a.flightStatus))&&o().createElement("div",{className:wt,style:{width:l,height:u}},o().createElement(U.JO,{fill:"#fff",size:16,type:"Loading",spin:!0})))};function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function Ot(){Ot=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==kt(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(kt(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function Tt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}const jt=function(t){var e,n=t.appContext,r=t.message,c=null==n||null===(e=n.utils)||void 0===e?void 0:e.$track,u=r.ext,l=u.robotMessage,f=!1,h=n.dialog.ext||{},p=Number(h.type),d=Number(h.status),v=Number(p)===s.My.ROBOT&&Number(d)===s.Mc.NORMAL&&Number(h.dialogId)===Number(u.dialogId),m=v?g.btnActive:g.btnDisabled,y=function(){var t,e=(t=Ot().mark((function t(){var e,r;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!f&&v){t.next=3;break}return t.abrupt("return");case 3:return f=!0,c({event:"good_zixun"}),t.next=7,null===(e=n.utils.services)||void 0===e?void 0:e.keepGuide({businessLineId:u.businessLineId,dialogId:Number(null===(r=n.dialog)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.dialogId)});case 7:f=!1,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a.Toast.show(t.t0.message||i.oc.t("operation_failed",{},"操作失败"));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Tt(i,r,o,a,s,"next",t)}function s(t){Tt(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();return o().createElement("div",{className:g.wrap},o().createElement(a.Bubble,{className:g.bubble,content:r.content,footer:o().createElement("div",{className:m,onClick:y},l)}))};function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function Lt(){Lt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(_=E);var x=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Ct(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ct(e)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function At(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var It={4:"weishibie_zhuanrengongshu",5:"diancaihou_zhuanrengongshu",6:"guanjianci_dianfenlei_zhuanrengong"};const Pt=function(t){var e,n=t.appContext,r=t.message,i=t.dialog,c=null==n||null===(e=n.utils)||void 0===e?void 0:e.$track,u=r.ext,l=i.ext,f=Number(l.type)===s.My.ROBOT&&Number(l.status)===s.Mc.NORMAL&&Number(l.dialogId)===Number(u.dialogId),h=f?g.btnActive:g.btnDisabled,p=u.robotMessage,d=u&&u.transferDisabled===s.Ll.Disabled,m=Number(null==u?void 0:u.robotMessageType),y=function(){var t,e=(t=Lt().mark((function t(e){var o,i,a,s,l,h,p,d;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.stopPropagation(),f){t.next=3;break}return t.abrupt("return");case 3:o=It[m],6!==m&&"0"!==u.transferSourceType||!o||c({event:o,params:{userId:null===(i=n.ext)||void 0===i?void 0:i.userId,botDialogID:null===(a=n.dialog)||void 0===a||null===(a=a.ext)||void 0===a?void 0:a.dialogId}}),5===m&&(null===(s=n.utils.services)||void 0===s||null===(s=s.apis)||void 0===s||s.faqTransfer({messageExtInfo:u})),null!=u&&u.preInquiryFormJarvisComponentId?null==n||null===(l=n.utils)||void 0===l||l.openLinkchatPopup(u.preInquiryFormJarvisComponentId,r):null===(h=n.utils)||void 0===h||null===(p=h.transferPeople)||void 0===p||p.call(h,{skillId:u.skillId,secretUser:null===(d=n.ext)||void 0===d?void 0:d.secretUserId,source:o},r);case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){At(i,r,o,a,s,"next",t)}function s(t){At(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();return o().createElement("div",{className:g.wrap},o().createElement(a.Bubble,{className:g.bubble,footer:p&&p.length&&!d?o().createElement("div",{className:h,onClick:y},p):null},o().createElement(a.RichText,{className:g.messageWrap,content:v(null==r?void 0:r.content),options:{ADD_ATTR:["target"],ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|xxx|lark|sslocal|aweme):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i}})))},Nt="itemWrap_IX8vg",Rt="itemTop_o3Qyg",Dt="itemTime_o1+MK",Mt="itemCenter_s9HD+",Ft="itemCenterLeft_1lA9-",Ut="itemCenterRight_pG+WB",zt="itemCenterInfo_H59vX",Gt="itemCenterName_gmJ6-",Bt="itemCenterDesc_dq7LG",qt="itemBottom_4GcKz",Wt="itemBottomLi_FA-Gj",Vt="itemStatusDefault_YCxqj",Ht="itemStatusFail_Xxz2G",Yt="itemStatusSuccess_crpPS";var Kt=1;const Jt=function(t){var e,n,r,a,s,c,u=t.item;return o().createElement("div",{className:Nt},o().createElement("div",{className:Rt},o().createElement("span",{className:Dt},function(t){if(!t)return"";var e=new Date(1e3*t),n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),i=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),c=String(n);return c+=(r<10?"-0":"-")+r,c+=(o<10?"-0":"-")+o,c+=(i<10?" 0":" ")+i,c+=(a<10?":0":":")+a,c+(s<10?":0":":")+s}(u.createTime)),o().createElement("span",{className:(s=u,c=s.orderStatus,[3,5,10].includes(c)?Ht:[4,8].includes(c)?Yt:Vt)},u.orderStatusDescription)),o().createElement("div",{className:Mt},o().createElement("img",{className:Ft,src:u.avatarUrlList&&u.avatarUrlList[0]}),o().createElement("div",{className:zt},o().createElement("p",{className:Gt},u.orderType===Kt?u.videoName:u.roomName),o().createElement("p",{className:Bt},u.orderType===Kt?u.videoSecondName:u.roomSecondName)),o().createElement("img",{className:Ut,src:u.orderImageList&&u.orderImageList[0]})),o().createElement("div",{className:qt},u.orderType===Kt?o().createElement(o().Fragment,null,o().createElement("div",{className:Wt},i.oc.t("amount_+_{placeholder1}",{placeholder1:u.play},"播放量：+{placeholder1}")),o().createElement("div",{className:Wt},i.oc.t("like_comments__+_{placeholder1}",{placeholder1:(e=u.like,n=u.comment,r=isNaN(Number(e)),a=isNaN(Number(n)),r&&a?"-":r&&!a?n:!r&&a?e:Number(e)+Number(n))},"点赞评论量：+{placeholder1}"))):o().createElement(o().Fragment,null,o().createElement("div",{className:Wt},i.oc.t("audience_{placeholder1}",{placeholder1:isNaN(Number(u.liveClick))?"-":"+".concat(u.liveClick)},"观众：{placeholder1}")),o().createElement("div",{className:Wt},i.oc.t("fan_{placeholder1}",{placeholder1:isNaN(Number(u.liveFollow))?"-":"+".concat(u.liveFollow)},"粉丝：{placeholder1}")),o().createElement("div",{className:Wt},i.oc.t("comments_{placeholder1}",{placeholder1:isNaN(Number(u.liveComment))?"-":"+".concat(u.liveComment)},"评论：{placeholder1}")))))};var Zt=n(2692),$t=n(6486);const Xt="title_5etRY",Qt="item_E24rl";var te=a.Swiper.Item;const ee=function(t){var e=t.appContext,n=t.message;try{var r,c,u,l=null==e||null===(r=e.utils)||void 0===r?void 0:r.$track,f=n.content,h=n.ext,p=null===(c=e.dialog)||void 0===c||null===(c=c.ext)||void 0===c?void 0:c.dialogId,d=JSON.parse(f),v=d.transferGuide,g=d.skillList,m=(void 0===g?[]:g).reduce((function(t,e){return 0===t.length||t[t.length-1].length>=5?t[t.length]=[e]:t[t.length-1].push(e),t}),[]),y=(0,$t.debounce)((function(t){var r,o,i,a;+p==+(null==h?void 0:h.dialogId)&&(l({event:"guanjianci_dianfenlei_zhuanrengong",params:{userId:null===(r=e.ext)||void 0===r?void 0:r.userId,botDialogID:p,classficationName:t.categoryName}}),null===(o=e.utils)||void 0===o||null===(i=o.transferPeople)||void 0===i||i.call(o,{skillId:t.skillId,secretUser:null===(a=e.ext)||void 0===a?void 0:a.secretUserId,transferType:s.tP.KEY_WORD_TRANSFER},n))}),2e3,{leading:!0,trailing:!1});return o().createElement(a.Card,{title:o().createElement("div",{className:Xt},v),align:"left"},o().createElement(a.QuestionSwiper,{isPc:!(null===(u=e.query)||void 0===u||!u.isPc)},m.map((function(t,e){return o().createElement(te,{key:"".concat(e)},o().createElement("div",{style:{paddingBottom:8}},t.map((function(t,n){return o().createElement("div",{key:"".concat(e,"-").concat(n),className:Qt,style:+p!=+(null==h?void 0:h.dialogId)?{color:"#999"}:{},onClick:function(){return y(t)}},t.categoryName)}))))}))))}catch(t){return o().createElement(a.Bubble,{position:n.isFromMe?"right":"left"},"[",i.oc.t("message_wrong",{},"消息有误"),"]")}};var ne=i.me.MessageType;const re=function(t){var e,n=t.appContext,h=t.message,p=n.dialog,d=h.type,g=h.ext,m=(0,r.useRef)();if((0,r.useEffect)((function(){var t,e=function(t){t.target&&t.target.tagName&&"IMG"===t.target.tagName.toUpperCase()&&window.parent.postMessage({action:"previewImg",imgUrl:t.target.getAttribute("src")},"*")};m.current&&(null!==(t=n.query)&&void 0!==t&&t.isPc&&!h.isLark?m.current.addEventListener("click",e):new c.Z(m.current,{inline:!1,toolbar:!1,navbar:!1,title:!1}));return function(){var t,n;null==m||null===(t=m.current)||void 0===t||null===(n=t.removeEventListener)||void 0===n||n.call(t,"click",e)}}),[h.content]),Object.values(s.rv).includes(d))e=o().createElement(bt,{message:h});else if(d===s.V$.SPECIAL_MESSAGE){var y,b,_={};try{_=JSON.parse(h.content)}catch(t){}var w=null===(y=_)||void 0===y?void 0:y.type,E=null===(b=_)||void 0===b?void 0:b.resourceUrl;w===s.Xp.IMAGE&&E&&(e=o().createElement(Z,{appContext:n,message:h})),w===s.Xp.VIDEO&&E&&(e=o().createElement(St,{appContext:n,message:h}))}else if(d===ne.MESSAGE_TYPE_IMAGE)e=o().createElement(Z,{appContext:n,message:h});else if(Object.values(s.Cs).includes(d))e=o().createElement(gt,{appContext:n,message:h});else if(d===s.V$.ROBOT_TRANSFER_PEOPLE_BY_KEYWORD)e=o().createElement(ee,{appContext:n,message:h});else if(d===s.V$.ROBOT_KEEP_GUIDE)e=o().createElement(jt,{appContext:n,message:h});else if(d===s.V$.KEEP_GUIDE_AFTER_CANCEL_DIALOG_QUEUE)e=o().createElement(C,{appContext:n,message:h});else if(d===s.V$.ROBOT_TRANSFER_PEOPLE)e=o().createElement(Pt,{appContext:n,dialog:p,message:h});else if(d===ne.MESSAGE_TYPE_FILE)e=n.query.isPc||h.isLark?o().createElement(D,{message:h,appContext:n}):o().createElement(a.Bubble,{position:h.isFromMe?"right":"left"},"[",i.oc.t("not_support_message",{},"当前客户端不支持该类型消息"),"]");else if(d===ne.MESSAGE_TYPE_VIDEO||d===s.V$.CUSTOM_VIDEO_TYPE)e=o().createElement(St,{message:h,appContext:n});else if(d===s.V$.ORDER_CARD_TYPE)try{var x=JSON.parse(h.content);e=o().createElement(Jt,{item:x})}catch(t){e=o().createElement(a.Bubble,{position:h.isFromMe?"right":"left"},o().createElement(a.RichText,{content:"[".concat(i.oc.t("order_card_error",{},"订单卡片解析出错"),"]")}))}else e=d===s.V$.MESSAGE_TYPE_TEXT?o().createElement(a.Bubble,{position:h.isFromMe?"right":"left"},h.ext.referencedMessage?o().createElement(Zt.Z,{appContext:n,message:h}):null,h.senderType===i.i4.USER?o().createElement("div",{className:u.Z.messageWrap},(0,l.Z)((null==g?void 0:g.originMessage)||h.content,{emoji:{size:18},email:{disable:!0}})):o().createElement(a.RichText,{className:u.Z.messageWrap,content:v((0,f.qm)(h.content,18)),options:{ADD_ATTR:["target"],ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|xxx|lark|sslocal|aweme):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i},ref:m})):o().createElement(a.Bubble,{position:h.isFromMe?"right":"left"},o().createElement(a.RichText,{className:u.Z.messageWrap,content:v((0,f.qm)(h.content,18)),options:{ADD_ATTR:["target"],ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|xxx|lark|sslocal|aweme):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i},ref:m}));var S=[ne.MESSAGE_TYPE_IMAGE,ne.MESSAGE_TYPE_VIDEO,ne.MESSAGE_TYPE_FILE,s.V$.CUSTOM_VIDEO_TYPE];return h.ext.referencedMessage&&S.includes(d)&&(e=o().createElement(o().Fragment,null,o().createElement(a.Bubble,{position:h.isFromMe?"right":"left"},h.ext.referencedMessage?o().createElement(Zt.Z,{appContext:n,message:h}):null,e))),e}},2692:(t,e,n)=>{"use strict";n.d(e,{Z:()=>g});var r=n(4754),o=n(1024),i=n.n(o),a=n(7099),s=n(7258),c=n(4936);const u={referenceInfo:"referenceInfo_rlaKh",reply:"reply_HPd4l",replyContent:"replyContent_ZwdH2",popupContainer:"popupContainer_M8eMt",popupHeader:"popupHeader_DkS1d",popupHeaderTitle:"popupHeaderTitle_s2kgH"};var l=n(1836),f=n(6486),h=n(721),p=n(7417);function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const g=function(t){var e=t.appContext,n=t.message,v=n.referenceInfo,g=n.ext.referencedMessage,m=d((0,o.useState)([]),2),y=m[0],b=m[1],_=(0,o.useMemo)((function(){if(g)try{return JSON.parse(g)}catch(t){}return{}}),[g]),w=(_.senderName,_.content),E=_.type,x=_.serverId,S=_.senderType,k=(0,o.useMemo)((function(){if((null==v?void 0:v.referenced_message_status)===r.me.MessageStatus.RECALLED)return r.oc.t("message_recalled",{},"此消息已撤回");if((null==v?void 0:v.referenced_message_status)===r.me.MessageStatus.INVISIBLE||(null==v?void 0:v.referenced_message_status)===r.me.MessageStatus.DELETED)return r.oc.t("you_deleted_a_message",{},"你删除了一条消息");switch(Number(E)){case c.V$.MESSAGE_TYPE_IMAGE:return r.oc.t("[picture]",{},"[图片]");case c.V$.MESSAGE_TYPE_FILE:return r.oc.t("[file]",{},"[文件]");case c.V$.ROBOT_THUMBS_TYPE:return r.oc.t("[rich_text]",{},"[富文本]");case c.V$.CUSTOM_VIDEO_TYPE:case c.V$.MESSAGE_TYPE_VIDEO:return r.oc.t("[video]",{},"[视频]");case c.V$.MESSAGE_TYPE_TEXT:return(0,s.Z)(S===r.i4.USER?w:(0,a.Z)(w),{email:{disable:!0},url:{disable:!0},emoji:{size:14}});default:return r.oc.t("[card]",{},"[卡片]")}}),[null==v?void 0:v.referenced_message_status,E,x,w,S,n.isLark]),O=(0,o.useCallback)((function(t){var r,o;t.stopPropagation(),null!=e&&null!==(r=e.ext)&&void 0!==r&&null!==(r=r.userDefaultConfig)&&void 0!==r&&r.showReplyDetail&&(null==e||null===(o=e.channel)||void 0===o||null===(o=o.instance)||void 0===o||o.getMessageReferenceList({message:n}).then((function(t){var e=(0,f.cloneDeep)(t);e.forEach((function(t){t.ext&&t.ext.referencedMessage&&(t.ext.referencedMessage=null)})),b(e)})).catch((function(t){})))}),[]),T=function(){b([])};return g&&k?i().createElement("div",{className:u.referenceInfo,onClick:O},i().createElement("span",{className:u.reply},r.oc.t("reply",{},"回复")),i().createElement("div",{className:u.replyContent},k),i().createElement(l.Popup,{visible:Boolean(y.length),onMaskClick:T,position:"right",bodyStyle:{width:"80vw"}},i().createElement("div",{className:u.popupContainer},i().createElement("div",{className:u.popupHeader},i().createElement("span",{className:u.popupHeaderTitle},r.oc.t("details_page",{},"详情页")),i().createElement(p.JO,{onClick:T,className:u.popupHeaderCloseIcon,fill:"#333333",size:20,type:"Close"})),i().createElement("div",{className:u.listContainer},y&&y.map((function(t,n){return t.hide?null:i().createElement(h.Z,{appContext:e,message:t,index:n})})))))):null}},6758:(t,e,n)=>{"use strict";n.d(e,{$W:()=>i,ak:()=>r,c9:()=>o});var r=function(t){return t[t.Common=0]="Common",t[t.FastButton=1]="FastButton",t[t.Classify=2]="Classify",t}({}),o=function(t){return t[t.Func=1]="Func",t[t.Question=2]="Question",t}({}),i=function(t){return t[t.PC=0]="PC",t[t.H5=1]="H5",t}({})},4936:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Cs:()=>c,Ll:()=>m,Mc:()=>h,My:()=>f,Um:()=>v,V$:()=>u,Xp:()=>l,mx:()=>d,rv:()=>s,sv:()=>g,tP:()=>p});var s={MESSAGE_TYPE_WELCOME:40001,MESSAGE_TYPE_END:40002,MESSAGE_TYPE_TRANSFERING:40004,MESSAGE_TYPE_TRANSFERED:40003,CREATE_CONVERSATION_TYPE:40005,SYSTEM_TIME_TYPE:40007,VIRTUAL_AGENT_ID:40009},c={QUESTION_CARD_TYPE:41001,ROBOT_KNOWDGE_CARD:41005,ROBOT_INTERCEPT_CARD:41017},u=i(i(i({MESSAGE_TYPE_TEXT:10001,MESSAGE_ONLY_USER_CAN_SEE:40006,MESSAGE_TYPE_IMAGE:10003,MESSAGE_TYPE_VIDEO:10004,MESSAGE_TYPE_FILE:10005},s),c),{},{ROBOT_KEEP_GUIDE:41003,ROBOT_TRANSFER_PEOPLE:41004,ROBOT_TRANSFER_PEOPLE_BY_KEYWORD:41006,ROBOT_THUMBS_TYPE:41002,ORDER_CARD_TYPE:42001,JARVIS_TYPE:40008,CUSTOM_VIDEO_TYPE:43001,AGENT_FEED_BACK:41010,KEEP_GUIDE_AFTER_CANCEL_DIALOG_QUEUE:41011,SATISFACTION_SEND_TYPE:41012,SATISFACTION_SEND_CARD:41013,SATISFACTION_WITHOUT_RESULT:41014,SPECIAL_MESSAGE:44001}),l=function(t){return t[t.VOICE=1001]="VOICE",t[t.IMAGE=1002]="IMAGE",t[t.FILE=1003]="FILE",t[t.VIDEO=1004]="VIDEO",t}({}),f=function(t){return t[t.PEOPLE=0]="PEOPLE",t[t.ROBOT_TO_PEOPLE=1]="ROBOT_TO_PEOPLE",t[t.ROBOT=2]="ROBOT",t[t.OFFLINE=3]="OFFLINE",t}({}),h=function(t){return t[t.NORMAL=0]="NORMAL",t[t.OVER=1]="OVER",t[t.TRANSFER=2]="TRANSFER",t}({}),p={AGENT_TO_SKILL:0,ROBOT_TO_AGENT:1,ROBOT_TO_OFFLINE:2,OFFLINE_TO_AGENT:3,TRANSFER_SPECIFY_AGENT:4,CLASSIFICATION_TRANSFER:5,ROBOT_TO_SKILL:6,KEY_WORD_TRANSFER:7},d=function(t){return t.Show="show",t.Hide="hide",t.SendMessage="sendMessage",t}({}),v=function(t){return t.Close="close",t.Hide="hide",t}({}),g=window.$inDmc&&"1"===window.$inDmc,m=function(t){return t.Disabled="1",t}({})},3726:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(1949);const o=n.n(r)()},7099:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(7856),o=n.n(r);const i=function(t){var e=document.createElement("div");e.innerHTML=o().sanitize(t,{ADD_ATTR:["target"]});var n=[];return function t(e){[].forEach.call(e,(function(e){e.hasChildNodes()?t(e.childNodes):e.nodeType===Node.TEXT_NODE&&e.textContent&&n.push(e.textContent)}))}(e.childNodes),n.join("")}},7258:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(1024),o=n.n(r),i=n(6896),a=function(t){return t.email="email",t.url="url",t.emoji="emoji",t}(a||{}),s=/(<ocic-regexp(?:[^>]*)>[^<]*<\/ocic-regexp>)/,c=function(t,e){return'<ocic-regexp data-ocic="'.concat(t,'" data-ocic-data="').concat(e,'">').concat(e,"</ocic-regexp>")};const u=function(t,e){var n,r,u,l,f,h;if("string"!=typeof t)return t;null!=e&&null!==(n=e.email)&&void 0!==n&&n.disable||(t=t.replace((null==e||null===(l=e.email)||void 0===l?void 0:l.regexp)||/([a-zA-Z0-9_-]+(?:\.[a-zA-Z0-9_-]+)*@(?:[a-zA-Z0-9_-]+\.)+[a-zA-Z]{2,})/g,(function(t){return c(a.email,t)})));null!=e&&null!==(r=e.url)&&void 0!==r&&r.disable||(t=t.replace((null==e||null===(f=e.url)||void 0===f?void 0:f.regexp)||/((?:http:\/\/|https:\/\/)(?:(?:\w|=|\?|\.|\/|&|-|%|@|#)+))/g,(function(t){return c(a.url,t)})));null!=e&&null!==(u=e.emoji)&&void 0!==u&&u.disable||(t=t.replace((null==e||null===(h=e.emoji)||void 0===h?void 0:h.regexp)||/(\[(?:[a-zA-Z0-9\u4e00-\u9fa5]+)\])/g,(function(t){return c(a.emoji,t)})));return t.split(s).map((function(t){if(s.test(t)){var n=function(t){var e,n;return{type:null===(e=t.match(/data-ocic=\"(\S*)\"/))||void 0===e?void 0:e[1],data:null===(n=t.match(/data-ocic-data=\"(\S*)\"/))||void 0===n?void 0:n[1]}}(t),r=n.type,c=n.data;if(c)switch(r){case a.email:return o().createElement("span",{"data-ocic":a.email,"data-ocic-email":c},c);case a.url:var u,l=(null==e||null===(u=e.url)||void 0===u?void 0:u.color)||"#338AFF";return o().createElement("a",{target:"__blank",style:{color:l},href:c},c);case a.emoji:var f,h=(null==e||null===(f=e.emoji)||void 0===f?void 0:f.size)||22,p=(0,i.mn)(i.tn[c]);return p?o().createElement("img",{src:p,style:{height:"".concat(h,"px"),width:"".concat(h,"px"),margin:"0 2px",verticalAlign:"text-top"}}):c}}return t}))}},6896:(t,e,n)=>{"use strict";n.d(e,{$P:()=>s,mn:()=>i,qm:()=>f,tn:()=>c});var r,o=n(4754),i=function(t){return window.$isOversea?"https://lf16-oversea.goofy-cdn.com/obj/goofy-sg/cg/ngcc/linkchat_static/emoji/im_mobile_emoji_icon_".concat(t,".png"):"https://lf3-cdn-tos.bytegoofy.com/obj/goofy/cg/ngcc/linkchat_static/emoji/im_mobile_emoji_icon_".concat(t,".png")},a={微笑:1,爱慕:2,惊呆:3,酷拽:4,抠鼻:5,流泪:6,发怒:7,呲牙:8,鼾睡:9,害羞:10,可爱:11,晕:12,衰:13,闭嘴:14,机智:15,来看我:16,灵光一闪:17,耶:18,捂脸:19,打脸:20,大笑:21,哈欠:22,震惊:23,送心:24,困:25,what:26,泣不成声:27,小鼓掌:28,大金牙:29,偷笑:30,石化:31,思考:32,吐血:33,可怜:34,嘘:35,撇嘴:36,黑线:37,笑哭:38,雾霾:39,奸笑:40,得意:41,憨笑:42,抓狂:43,泪奔:44,钱:45,吻:46,恐惧:47,笑:48,快哭了:49,翻白眼:50,互粉:51,赞:52,鼓掌:53,祈祷:54,kiss:55,去污粉:56,666:57,玫瑰:58,胡瓜:59,啤酒:60,我想静静:61,委屈:62,舔屏:63,鄙视:64,飞吻:65,再见:66,紫薇别走:67,听歌:68,求抱抱:69,周冬雨的凝视:70,马思纯的微笑:71,吐舌:72,呆无辜:73,看:74,白眼:75,熊吉:76,骷髅:77,黑脸:78,吃瓜群众:79,绿帽子:80,汗:81,摸头:82,皱眉:83,擦汗:84,红脸:85,尬笑:86,做鬼脸:87,强:88,如花:89,吐:90,惊喜:91,敲打:92,奋斗:93,吐彩虹:94,大哭:95,比心:96,加油:97,碰拳:98,ok:99,击掌:100,左上:101,握手:102,"18禁":103,刀:104,V5:105,给力:106,心:107,伤心:108,屎:109,礼物:110,蛋糕:111,撒花:112,不看:113,炸弹:114},s=(r=null,function(){return r||(r=Object.keys(a).reduce((function(t,e){return t["[".concat(o.oc.t(e,{},e),"]")]=e,t}),{}))}),c=Object.keys(a).reduce((function(t,e){return t["[".concat(e,"]")]=a[e],t}),{}),u=(Object.keys(a).reduce((function(t,e){return t[a[e]]="[".concat(e,"]"),t}),{}),function(t,e){var n=t.indexOf(e);return{firstWord:t.substring(0,n),lastWord:t.substring(n+e.length,t.length)}}),l=function(t,e){return'<img src="'.concat(e,'" style="height: ').concat(t,"px; width: ").concat(t,'px; margin: 0 2px; vertical-align: text-top;"/>')},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:28;if(!t)return"";var n=t.match(/\[\S+?\]/g);if(!n)return t;for(var r=[],o=0;o<n.length;o++){var a=n[o];if(c[a]){var s=u(t,a);s.firstWord&&r.push(s.firstWord);var f=i(c[a]);r.push(l(e,f)),t=s.lastWord}}return t&&r.push(t),r.join("")}},5142:()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}var r=function(){function t(){var e,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r="_storage",o=new Map,(r=n(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}var r,o,i;return r=t,(o=[{key:"length",get:function(){return this._storage.size}},{key:"clear",value:function(){this._storage.clear()}},{key:"getItem",value:function(t){var e;return null!==(e=this._storage.get(t))&&void 0!==e?e:null}},{key:"key",value:function(t){return null}},{key:"removeItem",value:function(t){this._storage.delete(t)}},{key:"setItem",value:function(t,e){this._storage.set(t,e.toString())}}])&&e(r.prototype,o),i&&e(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}();function o(t){var e="_storage_support_test_",n=!1;try{t.setItem(e,"1");var r=t.getItem(e);t.removeItem(e),n="1"===r}catch(t){n=!1}return n}(function(){try{return o(window.localStorage)}catch(t){}return!1})()||Object.defineProperty(window,"localStorage",{value:new r,writable:!0}),function(){try{return o(window.sessionStorage)}catch(t){}return!1}()||Object.defineProperty(window,"sessionStorage",{value:new r,writable:!0})},4367:(t,e,n)=>{"use strict";n.d(e,{$n:()=>D,$z:()=>B,AB:()=>d,CE:()=>k,CS:()=>I,Dr:()=>j,EQ:()=>W,EY:()=>O,GG:()=>A,GK:()=>b,Jf:()=>G,KQ:()=>q,MM:()=>L,OB:()=>g,Ok:()=>m,PM:()=>H,R6:()=>z,TS:()=>y,UH:()=>$,UN:()=>Z,Ue:()=>U,VJ:()=>M,Xx:()=>p,ZP:()=>nt,Zg:()=>Q,Zs:()=>P,ai:()=>x,b9:()=>X,ct:()=>Y,eg:()=>R,hQ:()=>w,jO:()=>J,kB:()=>tt,lb:()=>v,o$:()=>F,oM:()=>K,qz:()=>S,r:()=>C,te:()=>et,tj:()=>N,tt:()=>E,vl:()=>f,xK:()=>V,y8:()=>T});var r=n(6486),o=n(7563);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={},l=function(t){return t.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()}))};function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,e=o.parse(t);Object.keys(e).forEach((function(t){e[l(t)]=e[t]}));try{var n,r=null===(n=t.split("?"))||void 0===n||null===(n=n[1])||void 0===n||null===(n=n.split("&"))||void 0===n?void 0:n.reduce((function(t,e){var n=e.split("=");return Array.isArray(n)?s(s({},t),{},c({},l(n[0]),decodeURIComponent(n.slice(1).join("=")))):t}),{}),i=r.referenceUserId,a=r.secretStr;e=s(s({},e),{},{referenceUserId:i,secretStr:a})}catch(t){}return window.$query=e,e}window.location.search&&(u=f(window.location.search));var h=u,p=h.sign,d=h.timestamp,v=h.bid,g=h.env,m=h.referenceUserId,y=h.referenceUserType,b=h.referenceExtraMap,_=h.uid,w=void 0===_?"0":_,E=h.uname,x=h.mobile,S=h.source,k=h.channel,O=h.channelId,T=h.bname,j=h.imUserId,C=h.token,L=h.secretStr,A=h.openId,I=h.referenceId,P=h.secretUserId,N=h.pageTitle,R=(h.triggerJarvisEventCode,h.createDialogEventCode),D=h.transferEventCode,M=h.endDialogEventCode,F=h.conversationTitle,U=h.backGround,z=h.__debug,G=h.appId,B=h.contactType,q=h.lang,W=h.timeZone,V=h.hideHeader,H=h.secretImcUserId,Y=(h.inIframe,h.jumpToOfflineForm),K=h.jarvisId,J=h.useDmc,Z=h.featureKey,$=h.linkchatPreload,X=h.sns,Q=h.channelGroupId,tt=(h.messageId,h.linkchatPreventATag),et=(h.fb,(0,r.omit)(u,["sign","timestamp","bid","env","referenceUserId","referenceUserType","referenceExtraMap","uid","uname","mobile","source","channel","channelId","bname","imUserId","token","secretStr","openId","referenceId","secretUserId","pageTitle","triggerJarvisEventCode","createDialogEventCode","transferEventCode","endDialogEventCode","conversationTitle","backGround","__debug","appId","contactType","lang","timeZone","apiType","secret-str","hideHeader","secretImcUserId","jumpToOfflineForm","jarvisId","useDmc","featureKey","sns","channelGroupId","messageId"]));const nt=u},5700:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=n(1024),o=n(6486);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new I(r||[]);return o(a,"_invoke",{value:j(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function b(){}function _(){}function w(){}var E={};f(E,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(P([])));S&&S!==n&&r.call(S,a)&&(E=S);var k=w.prototype=b.prototype=Object.create(E);function O(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,n,r){var o=d;return function(i,a){if(o===g)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?m:v,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function C(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return _.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=f(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},O(T.prototype),f(T.prototype,u,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}const l=function(t){var e,n,a=(0,r.useRef)(!1),s=((e=i((0,r.useState)(""),2))[0],n=e[1],function(){n("".concat(Date.now(),"--").concat((0,o.random)(0,1e4)))});return[function(){var e,n=(e=c().mark((function e(){var n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.current){e.next=2;break}return e.abrupt("return");case 2:return a.current=!0,s(),e.prev=4,e.next=7,t.apply(void 0,r);case 7:n=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:return a.current=!1,s(),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,null,[[4,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(){return n.apply(this,arguments)}}(),a.current]}},6624:(t,e,n)=>{var r;r=function(){var t,e,r;return function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof _dereq_&&_dereq_;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};e[a][0].call(l.exports,(function(t){var n=e[a][1][t];return o(n||t)}),l,l.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";e.exports=function(t){var e=t._SomePromiseArray;function n(t){var n=new e(t),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}t.any=function(t){return n(t)},t.prototype.any=function(){return n(this)}}},{}],2:[function(t,e,n){"use strict";var r;try{throw new Error}catch(t){r=t}var o=t("./schedule"),i=t("./queue");function a(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new i(16),this._normalQueue=new i(16),this._haveDrainedQueues=!1;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=o}function s(t){for(;t.length()>0;)c(t)}function c(t){var e=t.shift();if("function"!=typeof e)e._settlePromises();else{var n=t.shift(),r=t.shift();e.call(n,r)}}a.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},a.prototype.hasCustomScheduler=function(){return this._customScheduler},a.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},a.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},a.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout((function(){t(e)}),0);else try{this._schedule((function(){t(e)}))}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},a.prototype.invokeLater=function(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()},a.prototype.invoke=function(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()},a.prototype.settlePromises=function(t){this._normalQueue._pushOne(t),this._queueTick()},a.prototype._drainQueues=function(){s(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,s(this._lateQueue)},a.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},a.prototype._reset=function(){this._isTickUsed=!1},e.exports=a,e.exports.firstLineError=r},{"./queue":26,"./schedule":29}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var o=!1,i=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(i,i,null,this,t)},s=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},c=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(i){o||(o=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var u=n(i),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(u),u instanceof t){var h={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:u};f._then(e,a,void 0,l,h),u._then(s,c,void 0,l,h),l._setOnCancel(u)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var o=t("./promise")();o.noConflict=function(){try{Promise===o&&(Promise=r)}catch(t){}return o},e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var o=r(null),i=r(null);o[" size"]=i[" size"]=0}e.exports=function(e){var n=t("./util"),r=n.canEvaluate;function o(t){var r=function(t,r){var o;if(null!=t&&(o=t[r]),"function"!=typeof o){var i="Object "+n.classString(t)+" has no method '"+n.toString(r)+"'";throw new e.TypeError(i)}return o}(t,this.pop());return r.apply(t,this)}function i(t){return t[this]}function a(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}n.isIdentifier,e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(o,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e;if("number"==typeof t)e=a;else if(r){var n=(void 0)(t);e=null!==n?n:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,o){var i=t("./util"),a=i.tryCatch,s=i.errorObj,c=e._async;e.prototype.break=e.prototype.cancel=function(){if(!o.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(i.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=a(t).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=t("./es5").keys,o=n.tryCatch,i=n.errorObj;return function(t,a,s){return function(c){var u=s._boundValue();t:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(c instanceof f)return o(a).call(u,c)}else if("function"==typeof f){var h=o(f).call(u,c);if(h===i)return h;if(h)return o(a).call(u,c)}else if(n.isObject(c)){for(var p=r(f),d=0;d<p.length;++d){var v=p[d];if(f[v]!=c[v])continue t}return o(a).call(u,c)}}return e}}}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){var e=!1,n=[];function r(){this._trace=new r.CapturedTrace(o())}function o(){var t=n.length-1;if(t>=0)return n[t]}return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},r.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(void 0!==this._trace){var t=n.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},r.CapturedTrace=null,r.create=function(){if(e)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var n=t.prototype._pushContext,i=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,c=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=i,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=c,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=o,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},r}},{}],9:[function(t,e,n){"use strict";e.exports=function(e,n,r,o){var i,a,s,c,u=e._async,l=t("./errors").Warning,f=t("./util"),h=t("./es5"),p=f.canAttachTrace,d=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,v=/\((?:timers\.js):\d+:\d+\)/,g=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,m=null,y=null,b=!1,_=!(0==f.env("BLUEBIRD_DEBUG")),w=!(0==f.env("BLUEBIRD_WARNINGS")||!_&&!f.env("BLUEBIRD_WARNINGS")),E=!(0==f.env("BLUEBIRD_LONG_STACK_TRACES")||!_&&!f.env("BLUEBIRD_LONG_STACK_TRACES")),x=0!=f.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(w||!!f.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!function(){var t=[];function n(){for(var e=0;e<t.length;++e)t[e]._notifyUnhandledRejection();r()}function r(){t.length=0}c=function(e){t.push(e),setTimeout(n,1)},h.defineProperty(e,"_unhandledRejectionCheck",{value:n}),h.defineProperty(e,"_unhandledRejectionClear",{value:r})}(),e.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),c(this))},e.prototype._notifyUnhandledRejectionIsHandled=function(){Y("rejectionHandled",i,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),Y("unhandledRejection",a,t,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(t,e,n){return q(t,e,n||this)},e.onPossiblyUnhandledRejection=function(t){var n=e._getContext();a=f.contextBind(n,t)},e.onUnhandledRejectionHandled=function(t){var n=e._getContext();i=f.contextBind(n,t)};var S=function(){};e.longStackTraces=function(){if(u.haveItemsQueued()&&!et.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&J()){var t=e.prototype._captureStackTrace,r=e.prototype._attachExtraTrace,o=e.prototype._dereferenceTrace;et.longStackTraces=!0,S=function(){if(u.haveItemsQueued()&&!et.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=t,e.prototype._attachExtraTrace=r,e.prototype._dereferenceTrace=o,n.deactivateLongStackTraces(),et.longStackTraces=!1},e.prototype._captureStackTrace=z,e.prototype._attachExtraTrace=G,e.prototype._dereferenceTrace=B,n.activateLongStackTraces()}},e.hasLongStackTraces=function(){return et.longStackTraces&&J()};var k={unhandledrejection:{before:function(){var t=f.global.onunhandledrejection;return f.global.onunhandledrejection=null,t},after:function(t){f.global.onunhandledrejection=t}},rejectionhandled:{before:function(){var t=f.global.onrejectionhandled;return f.global.onrejectionhandled=null,t},after:function(t){f.global.onrejectionhandled=t}}},O=function(){var t=function(t,e){if(!t)return!f.global.dispatchEvent(e);var n;try{return n=t.before(),!f.global.dispatchEvent(e)}finally{t.after(n)}};try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return f.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=new CustomEvent(e,{detail:n,cancelable:!0});return h.defineProperty(r,"promise",{value:n.promise}),h.defineProperty(r,"reason",{value:n.reason}),t(k[e],r)}}return"function"==typeof Event?(e=new Event("CustomEvent"),f.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=new Event(e,{cancelable:!0});return r.detail=n,h.defineProperty(r,"promise",{value:n.promise}),h.defineProperty(r,"reason",{value:n.reason}),t(k[e],r)}):((e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),f.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!1,!0,n),t(k[e],r)})}catch(t){}return function(){return!1}}(),T=f.isNode?function(){return process.emit.apply(process,arguments)}:f.global?function(t){var e="on"+t.toLowerCase(),n=f.global[e];return!!n&&(n.apply(f.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function j(t,e){return{promise:e}}var C={promiseCreated:j,promiseFulfilled:j,promiseRejected:j,promiseResolved:j,promiseCancelled:j,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:j},L=function(t){var e=!1;try{e=T.apply(null,arguments)}catch(t){u.throwLater(t),e=!0}var n=!1;try{n=O(t,C[t].apply(null,arguments))}catch(t){u.throwLater(t),n=!0}return n||e};function A(){return!1}function I(t,e,n){var r=this;try{t(e,n,(function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+f.toString(t));r._attachCancellationCallback(t)}))}catch(t){return t}}function P(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?f.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function N(){return this._onCancelField}function R(t){this._onCancelField=t}function D(){this._cancellationParent=void 0,this._onCancelField=void 0}function M(t,e){if(0!=(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}e.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&S()),"warnings"in t){var n=t.warnings;et.warnings=!!n,x=et.warnings,f.isObject(n)&&"wForgottenReturn"in n&&(x=!!n.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(u.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=D,e.prototype._propagateFrom=M,e.prototype._onCancel=N,e.prototype._setOnCancel=R,e.prototype._attachCancellationCallback=P,e.prototype._execute=I,F=M,et.cancellation=!0}if("monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,e.prototype._fireEvent=L):!t.monitoring&&et.monitoring&&(et.monitoring=!1,e.prototype._fireEvent=A)),"asyncHooks"in t&&f.nodeSupportsAsyncResource){var i=et.asyncHooks,a=!!t.asyncHooks;i!==a&&(et.asyncHooks=a,a?r():o())}return e},e.prototype._fireEvent=A,e.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(t){},e.prototype._attachCancellationCallback=function(t){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._dereferenceTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(t,e){};var F=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)};function U(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function z(){this._trace=new Q(this._peekContext())}function G(t,e){if(p(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=V(t);f.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),f.notEnumerableProp(t,"__stackCleaned__",!0)}}}function B(){this._trace=void 0}function q(t,n,r){if(et.warnings){var o,i=new l(t);if(n)r._attachExtraTrace(i);else if(et.longStackTraces&&(o=e._peekContext()))o.attachExtraTrace(i);else{var a=V(i);i.stack=a.message+"\n"+a.stack.join("\n")}L("warning",i)||H(i,"",!0)}}function W(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],o="    (No stack trace)"===r||m.test(r),i=o&&Z(r);o&&!i&&(b&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function V(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||m.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:W(e)}}function H(t,e,n){if("undefined"!=typeof console){var r;if(f.isObject(t)){var o=t.stack;r=e+y(o,t)}else r=e+String(t);"function"==typeof s?s(r,n):"function"==typeof console.log||console.log}}function Y(t,e,n,r){var o=!1;try{"function"==typeof e&&(o=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){u.throwLater(t)}"unhandledRejection"===t?L(t,n,r)||o||H(n,"Unhandled rejection "):L(t,r)}function K(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t&&"function"==typeof t.toString?t.toString():f.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+function(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}(e)+">, no stack trace)"}function J(){return"function"==typeof tt}var Z=function(){return!1},$=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function X(t){var e=t.match($);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function Q(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);tt(this,Q),e>32&&this.uncycle()}f.inherits(Q,Error),n.CapturedTrace=Q,Q.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,o=this;void 0!==o;++r)e.push(o),o=o._parent;for(r=(t=this._length=r)-1;r>=0;--r){var i=e[r].stack;void 0===n[i]&&(n[i]=r)}for(r=0;r<t;++r){var a=n[e[r].stack];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var s=r>0?e[r-1]:this;a<t-1?(s._parent=e[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var c=s._length+1,u=r-2;u>=0;--u)e[u]._length=c,c++;return}}}},Q.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=V(t),n=e.message,r=[e.stack],o=this;void 0!==o;)r.push(W(o.stack.split("\n"))),o=o._parent;!function(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],o=e.length-1,i=e[o],a=-1,s=r.length-1;s>=0;--s)if(r[s]===i){a=s;break}for(s=a;s>=0;--s){var c=r[s];if(e[o]!==c)break;e.pop(),o--}e=r}}(r),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(r),f.notEnumerableProp(t,"stack",function(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}(n,r)),f.notEnumerableProp(t,"__stackCleaned__",!0)}};var tt=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():K(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,m=t,y=e;var n=Error.captureStackTrace;return Z=function(t){return d.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r,o=new Error;if("string"==typeof o.stack&&o.stack.split("\n")[0].indexOf("stackDetection@")>=0)return m=/@/,y=e,b=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){r="stack"in t}return!("stack"in o)&&r&&"number"==typeof Error.stackTraceLimit?(m=t,y=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6}):(y=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?K(e):e.toString()},null)}();"undefined"!=typeof console&&void 0!==console.warn&&(s=function(t){console.warn(t)},f.isNode&&process.stderr.isTTY?s=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:f.isNode||"string"!=typeof(new Error).stack||(s=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var et={warnings:w,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return E&&e.longStackTraces(),{asyncHooks:function(){return et.asyncHooks},longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return F},boundValueFunction:function(){return U},checkForgottenReturns:function(t,e,n,r,o){if(void 0===t&&null!==e&&x){if(void 0!==o&&o._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var i="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),c=W(s),u=c.length-1;u>=0;--u){var l=c[u];if(!v.test(l)){var f=l.match(g);f&&(i="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(c.length>0){var h=c[0];for(u=0;u<s.length;++u)if(s[u]===h){u>0&&(a="\n"+s[u-1]);break}}}var p="a promise was created in a "+n+"handler "+i+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(p,!0,e)}},setBounds:function(t,e){if(J()){for(var n,r,o=(t.stack||"").split("\n"),i=(e.stack||"").split("\n"),a=-1,s=-1,c=0;c<o.length;++c)if(u=X(o[c])){n=u.fileName,a=u.line;break}for(c=0;c<i.length;++c){var u;if(u=X(i[c])){r=u.fileName,s=u.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(Z=function(t){if(d.test(t))return!0;var e=X(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}},warn:q,deprecated:function(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),q(n)},CapturedTrace:Q,fireDomEvent:O,fireGlobalEvent:T}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1];return this.caught(t,(function(){throw e}))},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(n,(function(){return r}))}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.reduce,r=t.all;function o(){return r(this)}t.prototype.each=function(t){return n(this,t,e,0)._then(o,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return n(this,t,e,e)},t.each=function(t,r){return n(t,r,e,0)._then(o,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return n(t,r,e,e)}}},{}],12:[function(t,e,n){"use strict";var r,o,i=t("./es5"),a=i.freeze,s=t("./util"),c=s.inherits,u=s.notEnumerableProp;function l(t,e){function n(r){if(!(this instanceof n))return new n(r);u(this,"message","string"==typeof r?r:e),u(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return c(n,Error),n}var f=l("Warning","warning"),h=l("CancellationError","cancellation error"),p=l("TimeoutError","timeout error"),d=l("AggregateError","aggregate error");try{r=TypeError,o=RangeError}catch(t){r=l("TypeError","type error"),o=l("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<v.length;++g)"function"==typeof Array.prototype[v[g]]&&(d.prototype[v[g]]=Array.prototype[v[g]]);i.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var m=0;function y(t){if(!(this instanceof y))return new y(t);u(this,"name","OperationalError"),u(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(u(this,"message",t.message),u(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}d.prototype.toString=function(){var t=Array(4*m+1).join(" "),e="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",o=r.split("\n"),i=0;i<o.length;++i)o[i]=t+o[i];e+=(r=o.join("\n"))+"\n"}return m--,e},c(y,Error);var b=Error.__BluebirdErrorTypes__;b||(b=a({CancellationError:h,TimeoutError:p,OperationalError:y,RejectionError:y,AggregateError:d}),i.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error,TypeError:r,RangeError:o,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var o={}.hasOwnProperty,i={}.toString,a={}.constructor.prototype,s=function(t){var e=[];for(var n in t)o.call(t,n)&&e.push(n);return e};e.exports={isArray:function(t){try{return"[object Array]"===i.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,e,n){return t[e]=n.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return a}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,o){return n(t,r,o,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n,r){var o=t("./util"),i=e.CancellationError,a=o.errorObj,s=t("./catch_filter")(r);function c(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function u(t){this.finallyHandler=t}function l(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function f(){return p.call(this,this.promise._target()._settledValue())}function h(t){if(!l(this,t))return a.e=t,a}function p(t){var o=this.promise,s=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?s.call(o._boundValue()):s.call(o._boundValue(),t);if(c===r)return c;if(void 0!==c){o._setReturnedNonUndefined();var p=n(c,o);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var d=new i("late cancellation observer");return o._attachExtraTrace(d),a.e=d,a}p.isPending()&&p._attachCancellationCallback(new u(this))}return p._then(f,h,void 0,this,void 0)}}}return o.isRejected()?(l(this),a.e=t,a):(l(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},u.prototype._resultCancelled=function(){l(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,r){return"function"!=typeof t?this.then():this._then(n,r,void 0,new c(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,p,p)},e.prototype.tap=function(t){return this._passThrough(t,1,p)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,p);var r,i=new Array(n-1),a=0;for(r=0;r<n-1;++r){var c=arguments[r];if(!o.isObject(c))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+o.classString(c)));i[a++]=c}i.length=a;var u=arguments[r];return this._passThrough(s(i,u,this),1,void 0,p)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,o,i,a){var s=t("./errors").TypeError,c=t("./util"),u=c.errorObj,l=c.tryCatch,f=[];function h(t,n,o,i){if(a.cancellation()){var s=new e(r),c=this._finallyPromise=new e(r);this._promise=s.lastly((function(){return c})),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new e(r))._captureStackTrace();this._stack=i,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof o?[o].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(h,i),h.prototype._isResolved=function(){return null===this._promise},h.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=l(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),t=l(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},h.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=l(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},h.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=l(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(t){var n=this._promise;if(t===u)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var i=o(r,this._promise);if(i instanceof e||(i=function(t,n,r){for(var i=0;i<n.length;++i){r._pushContext();var a=l(n[i])(t);if(r._popContext(),a===u){r._pushContext();var s=e.reject(u.e);return r._popContext(),s}var c=o(a,r);if(c instanceof e)return c}return null}(i,this._yieldHandlers,this._promise),null!==i)){var a=(i=i._target())._bitField;0==(50397184&a)?(this._yieldedPromise=i,i._proxy(this,null)):0!=(33554432&a)?e._async.invoke(this._promiseFulfilled,this,i._value()):0!=(16777216&a)?e._async.invoke(this._promiseRejected,this,i._reason()):this._promiseCancelled()}else this._promiseRejected(new s("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(t,e){if("function"!=typeof t)throw new s("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=h,o=(new Error).stack;return function(){var e=t.apply(this,arguments),i=new r(void 0,void 0,n,o),a=i.promise();return i._generator=e,i._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new s("expecting a function but got "+c.classString(t));f.push(t)},e.spawn=function(t){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new h(t,this),o=r.promise();return r._run(e.spawn),o}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,o,i){var a=t("./util");a.canEvaluate,a.tryCatch,a.errorObj,e.join=function(){var t,e=arguments.length-1;e>0&&"function"==typeof arguments[e]&&(t=arguments[e]);var r=[].slice.call(arguments);t&&r.pop();var o=new n(r).promise();return void 0!==t?o.spread(t):o}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,o,i,a){var s=t("./util"),c=s.tryCatch,u=s.errorObj,l=e._async;function f(t,n,r,o){this.constructor$(t),this._promise._captureStackTrace();var a=e._getContext();if(this._callback=s.contextBind(a,n),this._preservedValues=o===i?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],l.invoke(this._asyncInit,this,void 0),s.isArray(t))for(var c=0;c<t.length;++c){var u=t[c];u instanceof e&&u.suppressUnhandledRejections()}}function h(t,n,o,i){if("function"!=typeof n)return r("expecting a function but got "+s.classString(n));var a=0;if(void 0!==o){if("object"!=typeof o||null===o)return e.reject(new TypeError("options argument must be an object but it is "+s.classString(o)));if("number"!=typeof o.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+s.classString(o.concurrency)));a=o.concurrency}return new f(t,n,a="number"==typeof a&&isFinite(a)&&a>=1?a:0,i).promise()}s.inherits(f,n),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(t,n){var r=this._values,i=this.length(),s=this._preservedValues,l=this._limit;if(n<0){if(r[n=-1*n-1]=t,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return r[n]=t,this._queue.push(n),!1;null!==s&&(s[n]=t);var f=this._promise,h=this._callback,p=f._boundValue();f._pushContext();var d=c(h).call(p,t,n,i),v=f._popContext();if(a.checkForgottenReturns(d,v,null!==s?"Promise.filter":"Promise.map",f),d===u)return this._reject(d.e),!0;var g=o(d,this._promise);if(g instanceof e){var m=(g=g._target())._bitField;if(0==(50397184&m))return l>=1&&this._inFlight++,r[n]=g,g._proxy(this,-1*(n+1)),!1;if(0==(33554432&m))return 0!=(16777216&m)?(this._reject(g._reason()),!0):(this._cancel(),!0);d=g._value()}r[n]=d}return++this._totalResolved>=i&&(null!==s?this._filter(r,s):this._resolve(r),!0)},f.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},f.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),o=0,i=0;i<n;++i)t[i]&&(r[o++]=e[i]);r.length=o,this._resolve(r)},f.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return h(this,t,e,null)},e.map=function(t,e,n,r){return h(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,o,i){var a=t("./util"),s=a.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var o=s(t).apply(this,arguments),a=r._popContext();return i.checkForgottenReturns(o,a,"Promise.method",r),r._resolveFromSyncValue(o),r}},e.attempt=e.try=function(t){if("function"!=typeof t)return o("expecting a function but got "+a.classString(t));var r,c=new e(n);if(c._captureStackTrace(),c._pushContext(),arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],l=arguments[2];r=a.isArray(u)?s(t).apply(l,u):s(t).call(l,u)}else r=s(t)();var f=c._popContext();return i.checkForgottenReturns(r,f,"Promise.try",c),c._resolveFromSyncValue(r),c},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";var r=t("./util"),o=r.maybeWrapAsError,i=t("./errors").OperationalError,a=t("./es5"),s=/^(?:name|message|stack|cause)$/;function c(t){var e;if(function(t){return t instanceof Error&&a.getPrototypeOf(t)===Error.prototype}(t)){(e=new i(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var n=a.keys(t),o=0;o<n.length;++o){var c=n[o];s.test(c)||(e[c]=t[c])}return e}return r.markAsOriginatingFromRejection(t),t}e.exports=function(t,e){return function(n,r){if(null!==t){if(n){var i=c(o(n));t._attachExtraTrace(i),t._reject(i)}else if(e){var a=[].slice.call(arguments,1);t._fulfill(a)}else t._fulfill(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=e._async,o=n.tryCatch,i=n.errorObj;function a(t,e){if(!n.isArray(t))return s.call(this,t,e);var a=o(e).apply(this._boundValue(),[null].concat(t));a===i&&r.throwLater(a.e)}function s(t,e){var n=this._boundValue(),a=void 0===t?o(e).call(n,null):o(e).call(n,null,t);a===i&&r.throwLater(a.e)}function c(t,e){if(!t){var n=new Error(t+"");n.cause=t,t=n}var a=o(e).call(this._boundValue(),t);a===i&&r.throwLater(a.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var n=s;void 0!==e&&Object(e).spread&&(n=a),this._then(n,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,e,n){"use strict";e.exports=function(){var n=function(){return new m("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new I.PromiseInspection(this._target())},o=function(t){return I.reject(new m(t))};function i(){}var a={},s=t("./util");s.setReflectHandler(r);var c=function(){var t=process.domain;return void 0===t?null:t},u=function(){return{domain:c(),async:null}},l=s.isNode&&s.nodeSupportsAsyncResource?t("async_hooks").AsyncResource:null,f=function(){return{domain:c(),async:new l("Bluebird::Promise")}},h=s.isNode?u:function(){return null};s.notEnumerableProp(I,"_getContext",h);var p=t("./es5"),d=t("./async"),v=new d;p.defineProperty(I,"_async",{value:v});var g=t("./errors"),m=I.TypeError=g.TypeError;I.RangeError=g.RangeError;var y=I.CancellationError=g.CancellationError;I.TimeoutError=g.TimeoutError,I.OperationalError=g.OperationalError,I.RejectionError=g.OperationalError,I.AggregateError=g.AggregateError;var b=function(){},_={},w={},E=t("./thenables")(I,b),x=t("./promise_array")(I,b,E,o,i),S=t("./context")(I),k=S.create,O=t("./debuggability")(I,S,(function(){h=f,s.notEnumerableProp(I,"_getContext",f)}),(function(){h=u,s.notEnumerableProp(I,"_getContext",u)})),T=(O.CapturedTrace,t("./finally")(I,E,w)),j=t("./catch_filter")(w),C=t("./nodeback"),L=s.errorObj,A=s.tryCatch;function I(t){t!==b&&function(t,e){if(null==t||t.constructor!==I)throw new m("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new m("expecting a function but got "+s.classString(e))}(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function P(t){this.promise._resolveCallback(t)}function N(t){this.promise._rejectCallback(t,!1)}function R(t){var e=new I(b);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}return I.prototype.toString=function(){return"[object Promise]"},I.prototype.caught=I.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var a=arguments[n];if(!s.isObject(a))return o("Catch statement predicate: expecting an object but got "+s.classString(a));r[i++]=a}if(r.length=i,"function"!=typeof(t=arguments[n]))throw new m("The last argument to .catch() must be a function, got "+s.toString(t));return this.then(void 0,j(r,t,this))}return this.then(void 0,t)},I.prototype.reflect=function(){return this._then(r,r,void 0,this,void 0)},I.prototype.then=function(t,e){if(O.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+s.classString(t);arguments.length>1&&(n+=", "+s.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},I.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},I.prototype.spread=function(t){return"function"!=typeof t?o("expecting a function but got "+s.classString(t)):this.all()._then(t,void 0,void 0,_,void 0)},I.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},I.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},I.prototype.error=function(t){return this.caught(s.originatesFromRejection,t)},I.getNewLibraryCopy=e.exports,I.is=function(t){return t instanceof I},I.fromNode=I.fromCallback=function(t){var e=new I(b);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=A(t)(C(e,n));return r===L&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},I.all=function(t){return new x(t).promise()},I.cast=function(t){var e=E(t);return e instanceof I||((e=new I(b))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},I.resolve=I.fulfilled=I.cast,I.reject=I.rejected=function(t){var e=new I(b);return e._captureStackTrace(),e._rejectCallback(t,!0),e},I.setScheduler=function(t){if("function"!=typeof t)throw new m("expecting a function but got "+s.classString(t));return v.setScheduler(t)},I.prototype._then=function(t,e,n,r,o){var i=void 0!==o,a=i?o:new I(b),c=this._target(),u=c._bitField;i||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&u)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var l=h();if(0!=(50397184&u)){var f,p,d=c._settlePromiseCtx;0!=(33554432&u)?(p=c._rejectionHandler0,f=t):0!=(16777216&u)?(p=c._fulfillmentHandler0,f=e,c._unsetRejectionIsUnhandled()):(d=c._settlePromiseLateCancellationObserver,p=new y("late cancellation observer"),c._attachExtraTrace(p),f=e),v.invoke(d,c,{handler:s.contextBind(l,f),promise:a,receiver:r,value:p})}else c._addCallbacks(t,e,a,r,l);return a},I.prototype._length=function(){return 65535&this._bitField},I.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},I.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},I.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},I.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},I.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},I.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},I.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},I.prototype._isFinal=function(){return(4194304&this._bitField)>0},I.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},I.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},I.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},I.prototype._setAsyncGuaranteed=function(){if(!v.hasCustomScheduler()){var t=this._bitField;this._bitField=t|(536870912&t)>>2^134217728}},I.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},I.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==a)return void 0===e&&this._isBound()?this._boundValue():e},I.prototype._promiseAt=function(t){return this[4*t-4+2]},I.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},I.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},I.prototype._boundValue=function(){},I.prototype._migrateCallback0=function(t){t._bitField;var e=t._fulfillmentHandler0,n=t._rejectionHandler0,r=t._promise0,o=t._receiverAt(0);void 0===o&&(o=a),this._addCallbacks(e,n,r,o,null)},I.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),o=t._promiseAt(e),i=t._receiverAt(e);void 0===i&&(i=a),this._addCallbacks(n,r,o,i,null)},I.prototype._addCallbacks=function(t,e,n,r,o){var i=this._length();if(i>=65531&&(i=0,this._setLength(0)),0===i)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=s.contextBind(o,t)),"function"==typeof e&&(this._rejectionHandler0=s.contextBind(o,e));else{var a=4*i-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=s.contextBind(o,t)),"function"==typeof e&&(this[a+1]=s.contextBind(o,e))}return this._setLength(i+1),i},I.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},I.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(n(),!1);var r=E(t,this);if(!(r instanceof I))return this._fulfill(t);e&&this._propagateFrom(r,2);var o=r._target();if(o!==this){var i=o._bitField;if(0==(50397184&i)){var a=this._length();a>0&&o._migrateCallback0(this);for(var s=1;s<a;++s)o._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!=(33554432&i))this._fulfill(o._value());else if(0!=(16777216&i))this._reject(o._reason());else{var c=new y("late cancellation observer");o._attachExtraTrace(c),this._reject(c)}}else this._reject(n())}},I.prototype._rejectCallback=function(t,e,n){var r=s.ensureErrorObject(t),o=r===t;if(!o&&!n&&O.warnings()){var i="a promise was rejected with a non-error: "+s.classString(t);this._warn(i,!0)}this._attachExtraTrace(r,!!e&&o),this._reject(t)},I.prototype._resolveFromExecutor=function(t){if(t!==b){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,(function(t){e._resolveCallback(t)}),(function(t){e._rejectCallback(t,n)}));n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},I.prototype._settlePromiseFromHandler=function(t,e,n,r){var o=r._bitField;if(0==(65536&o)){var i;r._pushContext(),e===_?n&&"number"==typeof n.length?i=A(t).apply(this._boundValue(),n):(i=L).e=new m("cannot .spread() a non-array: "+s.classString(n)):i=A(t).call(e,n);var a=r._popContext();0==(65536&(o=r._bitField))&&(i===w?r._reject(n):i===L?r._rejectCallback(i.e,!1):(O.checkForgottenReturns(i,a,"",r,this),r._resolveCallback(i)))}},I.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},I.prototype._followee=function(){return this._rejectionHandler0},I.prototype._setFollowee=function(t){this._rejectionHandler0=t},I.prototype._settlePromise=function(t,e,n,o){var a=t instanceof I,s=this._bitField,c=0!=(134217728&s);0!=(65536&s)?(a&&t._invokeInternalOnCancel(),n instanceof T&&n.isFinallyHandler()?(n.cancelPromise=t,A(e).call(n,o)===L&&t._reject(L.e)):e===r?t._fulfill(r.call(n)):n instanceof i?n._promiseCancelled(t):a||t instanceof x?t._cancel():n.cancel()):"function"==typeof e?a?(c&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,o,t)):e.call(n,o,t):n instanceof i?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(o,t):n._promiseRejected(o,t)):a&&(c&&t._setAsyncGuaranteed(),0!=(33554432&s)?t._fulfill(o):t._reject(o))},I.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,o=t.value;"function"==typeof e?n instanceof I?this._settlePromiseFromHandler(e,r,o,n):e.call(r,o,n):n instanceof I&&n._reject(o)},I.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},I.prototype._settlePromise0=function(t,e,n){var r=this._promise0,o=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,o,e)},I.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},I.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var r=n();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():v.settlePromises(this),this._dereferenceTrace())}},I.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return v.fatalError(t,s.isNode);(65535&e)>0?v.settlePromises(this):this._ensurePossibleRejectionHandled()}},I.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),o=this._promiseAt(n),i=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(o,r,i,e)}},I.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),o=this._promiseAt(n),i=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(o,r,i,e)}},I.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},I.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&p.defineProperty(I.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),I.defer=I.pending=function(){return O.deprecated("Promise.defer","new Promise"),{promise:new I(b),resolve:P,reject:N}},s.notEnumerableProp(I,"_makeSelfResolutionError",n),t("./method")(I,b,E,o,O),t("./bind")(I,b,E,O),t("./cancel")(I,x,o,O),t("./direct_resolve")(I),t("./synchronous_inspection")(I),t("./join")(I,x,E,b,v),I.Promise=I,I.version="3.7.2",t("./call_get.js")(I),t("./generators.js")(I,o,b,E,i,O),t("./map.js")(I,x,o,E,b,O),t("./nodeify.js")(I),t("./promisify.js")(I,b),t("./props.js")(I,x,E,o),t("./race.js")(I,b,E,o),t("./reduce.js")(I,x,o,E,b,O),t("./settle.js")(I,x,O),t("./some.js")(I,x,o),t("./timers.js")(I,b,O),t("./using.js")(I,o,E,k,b,O),t("./any.js")(I),t("./each.js")(I,b),t("./filter.js")(I,b),s.toFastProperties(I),s.toFastProperties(I.prototype),R({a:1}),R({b:2}),R({c:3}),R(1),R((function(){})),R(void 0),R(!1),R(new I(b)),O.setBounds(d.firstLineError,s.lastLineError),I}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,o,i){var a=t("./util");function s(t){var r=this._promise=new e(n);t instanceof e&&(r._propagateFrom(t,3),t.suppressUnhandledRejections()),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.isArray,a.inherits(s,i),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function t(n,i){var s=r(this._values,this._promise);if(s instanceof e){var c=(s=s._target())._bitField;if(this._values=s,0==(50397184&c))return this._promise._setAsyncGuaranteed(),s._then(t,this._reject,void 0,this,i);if(0==(33554432&c))return 0!=(16777216&c)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=a.asArray(s)))0!==s.length?this._iterate(s):-5===i?this._resolveEmptyArray():this._resolve(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(i));else{var u=o("expecting an array or an iterable object but got "+a.classString(s)).reason();this._promise._rejectCallback(u,!1)}},s.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var o=this._promise,i=!1,a=null,s=0;s<n;++s){var c=r(t[s],o);a=c instanceof e?(c=c._target())._bitField:null,i?null!==a&&c.suppressUnhandledRejections():null!==a?0==(50397184&a)?(c._proxy(this,s),this._values[s]=c):i=0!=(33554432&a)?this._promiseFulfilled(c._value(),s):0!=(16777216&a)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):i=this._promiseFulfilled(c,s)}i||o._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},s.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){var r={},o=t("./util"),i=t("./nodeback"),a=o.withAppended,s=o.maybeWrapAsError,c=o.canEvaluate,u=t("./errors").TypeError,l={__isPromisified__:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),h=function(t){return o.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function p(t){return!f.test(t)}function d(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function v(t,e,n){var r=o.getDataPropertyOrDefault(t,e+n,l);return!!r&&d(r)}function g(t,e,n,r){for(var i=o.inheritedDataKeys(t),a=[],s=0;s<i.length;++s){var c=i[s],l=t[c],f=r===h||h(c,l,t);"function"!=typeof l||d(l)||v(t,c,e)||!r(c,l,t,f)||a.push(c,l)}return function(t,e,n){for(var r=0;r<t.length;r+=2){var o=t[r];if(n.test(o))for(var i=o.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===i)throw new u("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(a,e,n),a}var m=c?void 0:function(t,c,u,l,f,h){var p=function(){return this}(),d=t;function v(){var o=c;c===r&&(o=this);var u=new e(n);u._captureStackTrace();var l="string"==typeof d&&this!==p?this[d]:t,f=i(u,h);try{l.apply(o,a(arguments,f))}catch(t){u._rejectCallback(s(t),!0,!0)}return u._isFateSealed()||u._setAsyncGuaranteed(),u}return"string"==typeof d&&(t=l),o.notEnumerableProp(v,"__isPromisified__",!0),v};function y(t,e,n,i,a){for(var s=new RegExp(e.replace(/([$])/,"\\$")+"$"),c=g(t,e,s,n),u=0,l=c.length;u<l;u+=2){var f=c[u],h=c[u+1],p=f+e;if(i===m)t[p]=m(f,r,f,h,e,a);else{var d=i(h,(function(){return m(f,r,f,h,e,a)}));o.notEnumerableProp(d,"__isPromisified__",!0),t[p]=d}}return o.toFastProperties(t),t}e.promisify=function(t,e){if("function"!=typeof t)throw new u("expecting a function but got "+o.classString(t));if(d(t))return t;var n=function(t,e,n){return m(t,e,void 0,t,null,n)}(t,void 0===(e=Object(e)).context?r:e.context,!!e.multiArgs);return o.copyDescriptors(t,n,p),n},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new u("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(e=Object(e)).multiArgs,r=e.suffix;"string"!=typeof r&&(r="Async");var i=e.filter;"function"!=typeof i&&(i=h);var a=e.promisifier;if("function"!=typeof a&&(a=m),!o.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=o.inheritedDataKeys(t),c=0;c<s.length;++c){var l=t[s[c]];"constructor"!==s[c]&&o.isClass(l)&&(y(l.prototype,r,i,a,n),y(l,r,i,a,n))}return y(t,r,i,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,o){var i,a=t("./util"),s=a.isObject,c=t("./es5");"function"==typeof Map&&(i=Map);var u=function(){var t=0,e=0;function n(n,r){this[t]=n,this[t+e]=r,t++}return function(r){e=r.size,t=0;var o=new Array(2*r.size);return r.forEach(n,o),o}}();function l(t){var e,n=!1;if(void 0!==i&&t instanceof i)e=u(t),n=!0;else{var r=c.keys(t),o=r.length;e=new Array(2*o);for(var a=0;a<o;++a){var s=r[a];e[a]=t[s],e[a+o]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function f(t){var n,i=r(t);return s(i)?(n=i instanceof e?i._then(e.props,void 0,void 0,void 0,void 0):new l(i).promise(),i instanceof e&&n._propagateFrom(i,2),n):o("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}a.inherits(l,n),l.prototype._init=function(){},l.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(t){for(var e=new i,n=t.length/2|0,r=0;r<n;++r){var o=t[n+r],a=t[r];e.set(o,a)}return e}(this._values);else{n={};for(var r=this.length(),o=0,a=this.length();o<a;++o)n[this._values[o+r]]=this._values[o]}return this._resolve(n),!0}return!1},l.prototype.shouldCopyValues=function(){return!1},l.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return f(this)},e.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t){this._capacity=t,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},r.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var o=this._front+r-3;this._checkCapacity(r);var i=this._capacity-1;this[o+0&i]=t,this[o+1&i]=e,this[o+2&i]=n,this._length=r},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,n,r,o){for(var i=0;i<o;++i)n[i+r]=t[i+e],t[i+e]=void 0}(this,0,this,e,this._front+this._length&e-1)},e.exports=r},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,o){var i=t("./util");function a(t,s){var c,u=r(t);if(u instanceof e)return(c=u).then((function(t){return a(t,c)}));if(null===(t=i.asArray(t)))return o("expecting an array or an iterable object but got "+i.classString(t));var l=new e(n);void 0!==s&&l._propagateFrom(s,3);for(var f=l._fulfill,h=l._reject,p=0,d=t.length;p<d;++p){var v=t[p];(void 0!==v||p in t)&&e.cast(v)._then(f,h,void 0,l,null)}return l}e.race=function(t){return a(t,void 0)},e.prototype.race=function(){return a(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,o,i,a){var s=t("./util"),c=s.tryCatch;function u(t,n,r,o){this.constructor$(t);var a=e._getContext();this._fn=s.contextBind(a,n),void 0!==r&&(r=e.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=o===i?Array(this._length):0===o?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function f(t,e,n,o){return"function"!=typeof e?r("expecting a function but got "+s.classString(e)):new u(t,e,n,o).promise()}function h(t){this.accum=t,this.array._gotAccum(t);var n=o(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(p,void 0,void 0,this,void 0)):p.call(this,n)}function p(t){var n,r=this.array,o=r._promise,i=c(r._fn);o._pushContext(),(n=void 0!==r._eachValues?i.call(o._boundValue(),t,this.index,this.length):i.call(o._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(r._currentCancellable=n);var s=o._popContext();return a.checkForgottenReturns(n,s,void 0!==r._eachValues?"Promise.each":"Promise.reduce",o),n}s.inherits(u,n),u.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==i&&this._eachValues.push(t)},u.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},u.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},u.prototype._iterate=function(t){var n,r;this._values=t;var o=t.length;void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n;for(var i=r;i<o;++i){var a=t[i];a instanceof e&&a.suppressUnhandledRejections()}if(!n.isRejected())for(;r<o;++r){var s={accum:null,value:t[r],index:r,length:o,array:this};n=n._then(h,void 0,void 0,s,void 0),0==(127&r)&&n._setNoAsyncGuarantee()}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(l,l,void 0,n,this)},e.prototype.reduce=function(t,e){return f(this,t,e,null)},e.reduce=function(t,e,n,r){return f(t,e,n,r)}}},{"./util":36}],29:[function(t,e,r){"use strict";var o,i,a,s,c,u=t("./util"),l=u.getNativePromise();if(u.isNode&&"undefined"==typeof MutationObserver){var f=n.g.setImmediate,h=process.nextTick;o=u.isRecentNode?function(t){f.call(n.g,t)}:function(t){h.call(process,t)}}else if("function"==typeof l&&"function"==typeof l.resolve){var p=l.resolve();o=function(t){p.then(t)}}else o="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)||!("classList"in document.documentElement)?"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(i=document.createElement("div"),a={attributes:!0},s=!1,c=document.createElement("div"),new MutationObserver((function(){i.classList.toggle("foo"),s=!1})).observe(c,a),function(t){var e=new MutationObserver((function(){e.disconnect(),t()}));e.observe(i,a),s||(s=!0,c.classList.toggle("foo"))});e.exports=o},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){var o=e.PromiseInspection;function i(t){this.constructor$(t)}t("./util").inherits(i,n),i.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.allSettled=function(t){return new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){var o=t("./util"),i=t("./errors").RangeError,a=t("./errors").AggregateError,s=o.isArray,c={};function u(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function l(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new u(t),o=n.promise();return n.setHowMany(e),n.init(),o}o.inherits(u,n),u.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=s(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},u.prototype.init=function(){this._initialized=!0,this._init()},u.prototype.setUnwrap=function(){this._unwrap=!0},u.prototype.howMany=function(){return this._howMany},u.prototype.setHowMany=function(t){this._howMany=t},u.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},u.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},u.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(c),this._checkOutcome())},u.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new a,e=this.length();e<this._values.length;++e)this._values[e]!==c&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},u.prototype._fulfilled=function(){return this._totalResolved},u.prototype._rejected=function(){return this._values.length-this.length()},u.prototype._addRejected=function(t){this._values.push(t)},u.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},u.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new i(e)},u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return l(t,e)},e.prototype.some=function(t){return l(this,t)},e._SomePromiseArray=u}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},o=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},i=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return i.call(this._target())},t.prototype.isFulfilled=function(){return o.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){var r=t("./util"),o=r.errorObj,i=r.isObject,a={}.hasOwnProperty;return function(t,s){if(i(t)){if(t instanceof e)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return o.e=t,o}}(t);if(c===o){s&&s._pushContext();var u=e.reject(c.e);return s&&s._popContext(),u}if("function"==typeof c)return function(t){try{return a.call(t,"_promise0")}catch(t){return!1}}(t)?(u=new e(n),t._then(u._fulfill,u._reject,void 0,u,null),u):function(t,i,a){var s=new e(n),c=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var u=!0,l=r.tryCatch(i).call(t,f,h);function f(t){s&&(s._resolveCallback(t),s=null)}function h(t){s&&(s._rejectCallback(t,u,!0),s=null)}return u=!1,s&&l===o&&(s._rejectCallback(l.e,!0,!0),s=null),c}(t,c,s)}return t}}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){var o=t("./util"),i=e.TimeoutError;function a(t){this.handle=t}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(t){return c(+this).thenReturn(t)},c=e.delay=function(t,o){var i,c;return void 0!==o?(i=e.resolve(o)._then(s,null,null,t,void 0),r.cancellation()&&o instanceof e&&i._setOnCancel(o)):(i=new e(n),c=setTimeout((function(){i._fulfill()}),+t),r.cancellation()&&i._setOnCancel(new a(c)),i._captureStackTrace()),i._setAsyncGuaranteed(),i};function u(t){return clearTimeout(this.handle),t}function l(t){throw clearTimeout(this.handle),t}e.prototype.delay=function(t){return c(t,this)},e.prototype.timeout=function(t,e){var n,s;t=+t;var c=new a(setTimeout((function(){n.isPending()&&function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new i("operation timed out"):new i(e),o.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()}(n,e,s)}),t));return r.cancellation()?(s=this.then(),(n=s._then(u,l,void 0,c,void 0))._setOnCancel(c)):n=this._then(u,l,void 0,c,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,o,i,a){var s=t("./util"),c=t("./errors").TypeError,u=t("./util").inherits,l=s.errorObj,f=s.tryCatch,h={};function p(t){setTimeout((function(){throw t}),0)}function d(t,n){var o=0,a=t.length,s=new e(i);return function i(){if(o>=a)return s._fulfill();var c=function(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(t[o++]);if(c instanceof e&&c._isDisposable()){try{c=r(c._getDisposer().tryDispose(n),t.promise)}catch(t){return p(t)}if(c instanceof e)return c._then(i,p,null,null,null)}i()}(),s}function v(t,e,n){this._data=t,this._promise=e,this._context=n}function g(t,e,n){this.constructor$(t,e,n)}function m(t){return v.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function y(t){this.length=t,this.promise=null,this[t-1]=null}v.prototype.data=function(){return this._data},v.prototype.promise=function(){return this._promise},v.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},v.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==h?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},v.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},u(g,v),g.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},y.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var o,i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+s.classString(i));var c=!0;2===t&&Array.isArray(arguments[0])?(t=(o=arguments[0]).length,c=!1):(o=arguments,t--);for(var u=new y(t),h=0;h<t;++h){var p=o[h];if(v.isDisposer(p)){var g=p;(p=p.promise())._setDisposable(g)}else{var b=r(p);b instanceof e&&(p=b._then(m,null,null,{resources:u,index:h},void 0))}u[h]=p}var _=new Array(u.length);for(h=0;h<_.length;++h)_[h]=e.resolve(u[h]).reflect();var w=e.all(_).then((function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return l.e=n.error(),l;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}E._pushContext(),i=f(i);var r=c?i.apply(void 0,t):i(t),o=E._popContext();return a.checkForgottenReturns(r,o,"Promise.using",E),r})),E=w.lastly((function(){var t=new e.PromiseInspection(w);return d(u,t)}));return u.promise=E,E._setOnCancel(u),E},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,o());throw new c}}},{"./errors":12,"./util":36}],36:[function(t,e,r){"use strict";var o=t("./es5"),i="undefined"==typeof navigator,a={e:{}},s,c="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void 0!==this?this:null;function u(){try{var t=s;return s=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function l(t){return s=t,u}var f=function(t,e){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=e,e.prototype)n.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}return r.prototype=e.prototype,t.prototype=new r,t.prototype};function h(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function p(t){return"function"==typeof t||"object"==typeof t&&null!==t}function d(t){return h(t)?new Error(O(t)):t}function v(t,e){var n,r=t.length,o=new Array(r+1);for(n=0;n<r;++n)o[n]=t[n];return o[n]=e,o}function g(t,e,n){if(!o.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function m(t,e,n){if(h(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,e,r),t}function y(t){throw t}var b=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(o.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var a;try{a=n(t)}catch(t){return r}for(var s=0;s<a.length;++s){var c=a[s];if(!i[c]){i[c]=!0;var u=Object.getOwnPropertyDescriptor(t,c);null!=u&&null==u.get&&null==u.set&&r.push(c)}}t=o.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var o=[];t:for(var i in n)if(r.call(n,i))o.push(i);else{for(var a=0;a<t.length;++a)if(r.call(t[a],i))continue t;o.push(i)}return o}}(),_=/this\s*\.\s*\S+\s*=/;function w(t){try{if("function"==typeof t){var e=o.names(t.prototype),n=o.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=_.test(t+"")&&o.names(t).length>0;if(n||r||i)return!0}return!1}catch(t){return!1}}function E(t){function e(){}e.prototype=t;var n=new e;function r(){return typeof n.foo}return r(),r(),t}var x=/^[a-z$_][a-z$_0-9]*$/i;function S(t){return x.test(t)}function k(t,e,n){for(var r=new Array(t),o=0;o<t;++o)r[o]=e+o+n;return r}function O(t){try{return t+""}catch(t){return"[no string representation]"}}function T(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function j(t){try{m(t,"isOperational",!0)}catch(t){}}function C(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)}function L(t){return T(t)&&o.propertyIsWritable(t,"stack")}var A="stack"in new Error?function(t){return L(t)?t:new Error(O(t))}:function(t){if(L(t))return t;try{throw new Error(O(t))}catch(t){return t}};function I(t){return{}.toString.call(t)}function P(t,e,n){for(var r=o.names(t),i=0;i<r.length;++i){var a=r[i];if(n(a))try{o.defineProperty(e,a,o.getDescriptor(t,a))}catch(t){}}}var N=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};N=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var D="undefined"!=typeof process&&"[object process]"===I(process).toLowerCase(),M="undefined"!=typeof process&&void 0!==process.env,F;function U(t){return M?process.env[t]:void 0}function z(){if("function"==typeof Promise)try{if("[object Promise]"===I(new Promise((function(){}))))return Promise}catch(t){}}function G(t,e){if(null===t||"function"!=typeof e||e===F)return e;null!==t.domain&&(e=t.domain.bind(e));var n=t.async;if(null!==n){var r=e;e=function(){var t=new Array(2).concat([].slice.call(arguments));return t[0]=r,t[1]=this,n.runInAsyncScope.apply(n,t)}}return e}var B={setReflectHandler:function(t){F=t},isClass:w,isIdentifier:S,inheritedDataKeys:b,getDataPropertyOrDefault:g,thrower:y,isArray:o.isArray,asArray:N,notEnumerableProp:m,isPrimitive:h,isObject:p,isError:T,canEvaluate:i,errorObj:a,tryCatch:l,inherits:f,withAppended:v,maybeWrapAsError:d,toFastProperties:E,filledRange:k,toString:O,canAttachTrace:L,ensureErrorObject:A,originatesFromRejection:C,markAsOriginatingFromRejection:j,classString:I,copyDescriptors:P,isNode:D,hasEnvVariables:M,env:U,global:c,getNativePromise:z,contextBind:G},q;B.isRecentNode=B.isNode&&(process.versions&&process.versions.node?q=process.versions.node.split(".").map(Number):process.version&&(q=process.version.split(".").map(Number)),0===q[0]&&q[1]>10||q[0]>0),B.nodeSupportsAsyncResource=B.isNode&&function(){var e=!1;try{e="function"==typeof t("async_hooks").AsyncResource.prototype.runInAsyncScope}catch(t){e=!1}return e}(),B.isNode&&B.toFastProperties(process);try{throw new Error}catch(t){B.lastLineError=t}e.exports=B},{"./es5":13,async_hooks:void 0}]},{},[4])(4)},t.exports=r(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)},4020:t=>{"use strict";var e="%[a-f0-9]{2}",n=new RegExp("("+e+")|([^%]+?)","gi"),r=new RegExp("("+e+")+","gi");function o(t,e){try{return[decodeURIComponent(t.join(""))]}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],o(n),o(r))}function i(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(n)||[],r=1;r<e.length;r++)e=(t=o(e,r).join("")).match(n)||[];return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=r.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var o=i(n[0]);o!==n[0]&&(e[n[0]]=o)}n=r.exec(t)}e["%C2"]="�";for(var a=Object.keys(e),s=0;s<a.length;s++){var c=a[s];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},7856:function(t){t.exports=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,n){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function r(t,o,i){return r=n()?Reflect.construct:function(t,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(t,o));return r&&e(i,r.prototype),i},r.apply(null,arguments)}function o(t){return i(t)||a(t)||s(t)||u()}function i(t){if(Array.isArray(t))return c(t)}function a(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function s(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=Object.hasOwnProperty,f=Object.setPrototypeOf,h=Object.isFrozen,p=Object.getPrototypeOf,d=Object.getOwnPropertyDescriptor,v=Object.freeze,g=Object.seal,m=Object.create,y="undefined"!=typeof Reflect&&Reflect,b=y.apply,_=y.construct;b||(b=function(t,e,n){return t.apply(e,n)}),v||(v=function(t){return t}),g||(g=function(t){return t}),_||(_=function(t,e){return r(t,o(e))});var w=I(Array.prototype.forEach),E=I(Array.prototype.pop),x=I(Array.prototype.push),S=I(String.prototype.toLowerCase),k=I(String.prototype.toString),O=I(String.prototype.match),T=I(String.prototype.replace),j=I(String.prototype.indexOf),C=I(String.prototype.trim),L=I(RegExp.prototype.test),A=P(TypeError);function I(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return b(t,e,r)}}function P(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return _(t,n)}}function N(t,e,n){var r;n=null!==(r=n)&&void 0!==r?r:S,f&&f(t,null);for(var o=e.length;o--;){var i=e[o];if("string"==typeof i){var a=n(i);a!==i&&(h(e)||(e[o]=a),i=a)}t[i]=!0}return t}function R(t){var e,n=m(null);for(e in t)!0===b(l,t,[e])&&(n[e]=t[e]);return n}function D(t,e){for(;null!==t;){var n=d(t,e);if(n){if(n.get)return I(n.get);if("function"==typeof n.value)return I(n.value)}t=p(t)}function r(t){return console.warn("fallback value for",t),null}return r}var M=v(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F=v(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),U=v(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),z=v(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),G=v(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),B=v(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),q=v(["#text"]),W=v(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),V=v(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),H=v(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Y=v(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),K=g(/\{\{[\w\W]*|[\w\W]*\}\}/gm),J=g(/<%[\w\W]*|[\w\W]*%>/gm),Z=g(/\${[\w\W]*}/gm),$=g(/^data-[\-\w.\u00B7-\uFFFF]/),X=g(/^aria-[\-\w]+$/),Q=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tt=g(/^(?:\w+script|data):/i),et=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),nt=g(/^html$/i),rt=function(){return"undefined"==typeof window?null:window},ot=function(e,n){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var r=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(r=n.currentScript.getAttribute(o));var i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt(),n=function(t){return it(t)};if(n.version="2.4.7",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;var r=e.document,i=e.document,a=e.DocumentFragment,s=e.HTMLTemplateElement,c=e.Node,u=e.Element,l=e.NodeFilter,f=e.NamedNodeMap,h=void 0===f?e.NamedNodeMap||e.MozNamedAttrMap:f,p=e.HTMLFormElement,d=e.DOMParser,g=e.trustedTypes,m=u.prototype,y=D(m,"cloneNode"),b=D(m,"nextSibling"),_=D(m,"childNodes"),I=D(m,"parentNode");if("function"==typeof s){var P=i.createElement("template");P.content&&P.content.ownerDocument&&(i=P.content.ownerDocument)}var at=ot(g,r),st=at?at.createHTML(""):"",ct=i,ut=ct.implementation,lt=ct.createNodeIterator,ft=ct.createDocumentFragment,ht=ct.getElementsByTagName,pt=r.importNode,dt={};try{dt=R(i).documentMode?i.documentMode:{}}catch(t){}var vt={};n.isSupported="function"==typeof I&&ut&&void 0!==ut.createHTMLDocument&&9!==dt;var gt,mt,yt=K,bt=J,_t=Z,wt=$,Et=X,xt=tt,St=et,kt=Q,Ot=null,Tt=N({},[].concat(o(M),o(F),o(U),o(G),o(q))),jt=null,Ct=N({},[].concat(o(W),o(V),o(H),o(Y))),Lt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),At=null,It=null,Pt=!0,Nt=!0,Rt=!1,Dt=!0,Mt=!1,Ft=!1,Ut=!1,zt=!1,Gt=!1,Bt=!1,qt=!1,Wt=!0,Vt=!1,Ht="user-content-",Yt=!0,Kt=!1,Jt={},Zt=null,$t=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Xt=null,Qt=N({},["audio","video","img","source","image","track"]),te=null,ee=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ne="http://www.w3.org/1998/Math/MathML",re="http://www.w3.org/2000/svg",oe="http://www.w3.org/1999/xhtml",ie=oe,ae=!1,se=null,ce=N({},[ne,re,oe],k),ue=["application/xhtml+xml","text/html"],le="text/html",fe=null,he=i.createElement("form"),pe=function(t){return t instanceof RegExp||t instanceof Function},de=function(e){fe&&fe===e||(e&&"object"===t(e)||(e={}),e=R(e),gt=gt=-1===ue.indexOf(e.PARSER_MEDIA_TYPE)?le:e.PARSER_MEDIA_TYPE,mt="application/xhtml+xml"===gt?k:S,Ot="ALLOWED_TAGS"in e?N({},e.ALLOWED_TAGS,mt):Tt,jt="ALLOWED_ATTR"in e?N({},e.ALLOWED_ATTR,mt):Ct,se="ALLOWED_NAMESPACES"in e?N({},e.ALLOWED_NAMESPACES,k):ce,te="ADD_URI_SAFE_ATTR"in e?N(R(ee),e.ADD_URI_SAFE_ATTR,mt):ee,Xt="ADD_DATA_URI_TAGS"in e?N(R(Qt),e.ADD_DATA_URI_TAGS,mt):Qt,Zt="FORBID_CONTENTS"in e?N({},e.FORBID_CONTENTS,mt):$t,At="FORBID_TAGS"in e?N({},e.FORBID_TAGS,mt):{},It="FORBID_ATTR"in e?N({},e.FORBID_ATTR,mt):{},Jt="USE_PROFILES"in e&&e.USE_PROFILES,Pt=!1!==e.ALLOW_ARIA_ATTR,Nt=!1!==e.ALLOW_DATA_ATTR,Rt=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Dt=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Mt=e.SAFE_FOR_TEMPLATES||!1,Ft=e.WHOLE_DOCUMENT||!1,Gt=e.RETURN_DOM||!1,Bt=e.RETURN_DOM_FRAGMENT||!1,qt=e.RETURN_TRUSTED_TYPE||!1,zt=e.FORCE_BODY||!1,Wt=!1!==e.SANITIZE_DOM,Vt=e.SANITIZE_NAMED_PROPS||!1,Yt=!1!==e.KEEP_CONTENT,Kt=e.IN_PLACE||!1,kt=e.ALLOWED_URI_REGEXP||kt,ie=e.NAMESPACE||oe,Lt=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&pe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Lt.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&pe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Lt.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Lt.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Mt&&(Nt=!1),Bt&&(Gt=!0),Jt&&(Ot=N({},o(q)),jt=[],!0===Jt.html&&(N(Ot,M),N(jt,W)),!0===Jt.svg&&(N(Ot,F),N(jt,V),N(jt,Y)),!0===Jt.svgFilters&&(N(Ot,U),N(jt,V),N(jt,Y)),!0===Jt.mathMl&&(N(Ot,G),N(jt,H),N(jt,Y))),e.ADD_TAGS&&(Ot===Tt&&(Ot=R(Ot)),N(Ot,e.ADD_TAGS,mt)),e.ADD_ATTR&&(jt===Ct&&(jt=R(jt)),N(jt,e.ADD_ATTR,mt)),e.ADD_URI_SAFE_ATTR&&N(te,e.ADD_URI_SAFE_ATTR,mt),e.FORBID_CONTENTS&&(Zt===$t&&(Zt=R(Zt)),N(Zt,e.FORBID_CONTENTS,mt)),Yt&&(Ot["#text"]=!0),Ft&&N(Ot,["html","head","body"]),Ot.table&&(N(Ot,["tbody"]),delete At.tbody),v&&v(e),fe=e)},ve=N({},["mi","mo","mn","ms","mtext"]),ge=N({},["foreignobject","desc","title","annotation-xml"]),me=N({},["title","style","font","a","script"]),ye=N({},F);N(ye,U),N(ye,z);var be=N({},G);N(be,B);var _e=function(t){var e=I(t);e&&e.tagName||(e={namespaceURI:ie,tagName:"template"});var n=S(t.tagName),r=S(e.tagName);return!!se[t.namespaceURI]&&(t.namespaceURI===re?e.namespaceURI===oe?"svg"===n:e.namespaceURI===ne?"svg"===n&&("annotation-xml"===r||ve[r]):Boolean(ye[n]):t.namespaceURI===ne?e.namespaceURI===oe?"math"===n:e.namespaceURI===re?"math"===n&&ge[r]:Boolean(be[n]):t.namespaceURI===oe?!(e.namespaceURI===re&&!ge[r])&&!(e.namespaceURI===ne&&!ve[r])&&!be[n]&&(me[n]||!ye[n]):!("application/xhtml+xml"!==gt||!se[t.namespaceURI]))},we=function(t){x(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=st}catch(e){t.remove()}}},Ee=function(t,e){try{x(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){x(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!jt[t])if(Gt||Bt)try{we(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},xe=function(t){var e,n;if(zt)t="<remove></remove>"+t;else{var r=O(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===gt&&ie===oe&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=at?at.createHTML(t):t;if(ie===oe)try{e=(new d).parseFromString(o,gt)}catch(t){}if(!e||!e.documentElement){e=ut.createDocument(ie,"template",null);try{e.documentElement.innerHTML=ae?st:o}catch(t){}}var a=e.body||e.documentElement;return t&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),ie===oe?ht.call(e,Ft?"html":"body")[0]:Ft?e.documentElement:a},Se=function(t){return lt.call(t.ownerDocument||t,t,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},ke=function(t){return t instanceof p&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof h)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},Oe=function(e){return"object"===t(c)?e instanceof c:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Te=function(t,e,r){vt[t]&&w(vt[t],(function(t){t.call(n,e,r,fe)}))},je=function(t){var e;if(Te("beforeSanitizeElements",t,null),ke(t))return we(t),!0;if(L(/[\u0080-\uFFFF]/,t.nodeName))return we(t),!0;var r=mt(t.nodeName);if(Te("uponSanitizeElement",t,{tagName:r,allowedTags:Ot}),t.hasChildNodes()&&!Oe(t.firstElementChild)&&(!Oe(t.content)||!Oe(t.content.firstElementChild))&&L(/<[/\w]/g,t.innerHTML)&&L(/<[/\w]/g,t.textContent))return we(t),!0;if("select"===r&&L(/<template/i,t.innerHTML))return we(t),!0;if(!Ot[r]||At[r]){if(!At[r]&&Le(r)){if(Lt.tagNameCheck instanceof RegExp&&L(Lt.tagNameCheck,r))return!1;if(Lt.tagNameCheck instanceof Function&&Lt.tagNameCheck(r))return!1}if(Yt&&!Zt[r]){var o=I(t)||t.parentNode,i=_(t)||t.childNodes;if(i&&o)for(var a=i.length-1;a>=0;--a)o.insertBefore(y(i[a],!0),b(t))}return we(t),!0}return t instanceof u&&!_e(t)?(we(t),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!L(/<\/no(script|embed|frames)/i,t.innerHTML)?(Mt&&3===t.nodeType&&(e=t.textContent,e=T(e,yt," "),e=T(e,bt," "),e=T(e,_t," "),t.textContent!==e&&(x(n.removed,{element:t.cloneNode()}),t.textContent=e)),Te("afterSanitizeElements",t,null),!1):(we(t),!0)},Ce=function(t,e,n){if(Wt&&("id"===e||"name"===e)&&(n in i||n in he))return!1;if(Nt&&!It[e]&&L(wt,e));else if(Pt&&L(Et,e));else if(!jt[e]||It[e]){if(!(Le(t)&&(Lt.tagNameCheck instanceof RegExp&&L(Lt.tagNameCheck,t)||Lt.tagNameCheck instanceof Function&&Lt.tagNameCheck(t))&&(Lt.attributeNameCheck instanceof RegExp&&L(Lt.attributeNameCheck,e)||Lt.attributeNameCheck instanceof Function&&Lt.attributeNameCheck(e))||"is"===e&&Lt.allowCustomizedBuiltInElements&&(Lt.tagNameCheck instanceof RegExp&&L(Lt.tagNameCheck,n)||Lt.tagNameCheck instanceof Function&&Lt.tagNameCheck(n))))return!1}else if(te[e]);else if(L(kt,T(n,St,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==j(n,"data:")||!Xt[t])if(Rt&&!L(xt,T(n,St,"")));else if(n)return!1;return!0},Le=function(t){return t.indexOf("-")>0},Ae=function(e){var r,o,i,a;Te("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:jt};for(a=s.length;a--;){var u=r=s[a],l=u.name,f=u.namespaceURI;if(o="value"===l?r.value:C(r.value),i=mt(l),c.attrName=i,c.attrValue=o,c.keepAttr=!0,c.forceKeepAttr=void 0,Te("uponSanitizeAttribute",e,c),o=c.attrValue,!c.forceKeepAttr&&(Ee(l,e),c.keepAttr))if(Dt||!L(/\/>/i,o)){Mt&&(o=T(o,yt," "),o=T(o,bt," "),o=T(o,_t," "));var h=mt(e.nodeName);if(Ce(h,i,o)){if(!Vt||"id"!==i&&"name"!==i||(Ee(l,e),o=Ht+o),at&&"object"===t(g)&&"function"==typeof g.getAttributeType)if(f);else switch(g.getAttributeType(h,i)){case"TrustedHTML":o=at.createHTML(o);break;case"TrustedScriptURL":o=at.createScriptURL(o)}try{f?e.setAttributeNS(f,l,o):e.setAttribute(l,o),E(n.removed)}catch(t){}}}else Ee(l,e)}Te("afterSanitizeAttributes",e,null)}},Ie=function t(e){var n,r=Se(e);for(Te("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)Te("uponSanitizeShadowNode",n,null),je(n)||(n.content instanceof a&&t(n.content),Ae(n));Te("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(o){var i,s,u,l,f,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ae=!o)&&(o="\x3c!--\x3e"),"string"!=typeof o&&!Oe(o)){if("function"!=typeof o.toString)throw A("toString is not a function");if("string"!=typeof(o=o.toString()))throw A("dirty is not a string, aborting")}if(!n.isSupported){if("object"===t(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof o)return e.toStaticHTML(o);if(Oe(o))return e.toStaticHTML(o.outerHTML)}return o}if(Ut||de(h),n.removed=[],"string"==typeof o&&(Kt=!1),Kt){if(o.nodeName){var p=mt(o.nodeName);if(!Ot[p]||At[p])throw A("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof c)1===(s=(i=xe("\x3c!----\x3e")).ownerDocument.importNode(o,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?i=s:i.appendChild(s);else{if(!Gt&&!Mt&&!Ft&&-1===o.indexOf("<"))return at&&qt?at.createHTML(o):o;if(!(i=xe(o)))return Gt?null:qt?st:""}i&&zt&&we(i.firstChild);for(var d=Se(Kt?o:i);u=d.nextNode();)3===u.nodeType&&u===l||je(u)||(u.content instanceof a&&Ie(u.content),Ae(u),l=u);if(l=null,Kt)return o;if(Gt){if(Bt)for(f=ft.call(i.ownerDocument);i.firstChild;)f.appendChild(i.firstChild);else f=i;return(jt.shadowroot||jt.shadowrootmod)&&(f=pt.call(r,f,!0)),f}var v=Ft?i.outerHTML:i.innerHTML;return Ft&&Ot["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&L(nt,i.ownerDocument.doctype.name)&&(v="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+v),Mt&&(v=T(v,yt," "),v=T(v,bt," "),v=T(v,_t," ")),at&&qt?at.createHTML(v):v},n.setConfig=function(t){de(t),Ut=!0},n.clearConfig=function(){fe=null,Ut=!1},n.isValidAttribute=function(t,e,n){fe||de({});var r=mt(t),o=mt(e);return Ce(r,o,n)},n.addHook=function(t,e){"function"==typeof e&&(vt[t]=vt[t]||[],x(vt[t],e))},n.removeHook=function(t){if(vt[t])return E(vt[t])},n.removeHooks=function(t){vt[t]&&(vt[t]=[])},n.removeAllHooks=function(){vt={}},n}return it()}()},4783:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n.p+"close.png?0cfa06686cabd505825172de6098c80f"},7977:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n.p+"keyboard.png?e2bdcb9766891b4bd71320d1509a1b83"},388:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n.p+"open.png?54f930ac91541865cbcc96cdc3d2cefe"},416:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n.p+"pause.png?f6ee112883f63fa67db2931179020b0a"},6810:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n.p+"play.png?f75550645a9bea3bce1ceddc1cda6b5f"},1855:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n.p+"video.png?eee65dfe4934ff6a296e13b98b6de216"},2806:t=>{"use strict";t.exports=function(t,e){for(var n={},r=Object.keys(t),o=Array.isArray(e),i=0;i<r.length;i++){var a=r[i],s=t[a];(o?-1!==e.indexOf(a):e(a,s,t))&&(n[a]=s)}return n}},8665:(t,e,n)=>{"use strict";n.d(e,{Z:()=>z});var r=n(1002),o=n(4942);function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach((function(e){(0,o.Z)(t,e,n[e])}))}return t}var a=n(5671),s=n(3144);function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){if(e&&("object"===(0,r.Z)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}var p={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]&&console[t].apply(console,e)}},d=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,t),this.init(e,n)}return(0,s.Z)(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||p,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,i({},{prefix:"".concat(this.prefix,":").concat(e,":")},this.options))}}]),t}()),v=function(){function t(){(0,a.Z)(this,t),this.observers={}}return(0,s.Z)(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.observers[t]&&[].concat(this.observers[t]).forEach((function(t){t.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(e){e.apply(e,[t].concat(n))}))}}]),t}();function g(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function m(t){return null==t?"":""+t}function y(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function o(){return!t||"string"==typeof t}for(var i="string"!=typeof e?[].concat(e):e.split(".");i.length>1;){if(o())return{};var a=r(i.shift());!t[a]&&n&&(t[a]=new n),t=Object.prototype.hasOwnProperty.call(t,a)?t[a]:{}}return o()?{}:{obj:t,k:r(i.shift())}}function b(t,e,n){var r=y(t,e,Object);r.obj[r.k]=n}function _(t,e){var n=y(t,e),r=n.obj,o=n.k;if(r)return r[o]}function w(t,e,n){var r=_(t,n);return void 0!==r?r:_(e,n)}function E(t,e,n){for(var r in e)"__proto__"!==r&&"constructor"!==r&&(r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof e[r]||e[r]instanceof String?n&&(t[r]=e[r]):E(t[r],e[r],n):t[r]=e[r]);return t}function x(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function k(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return S[t]})):t}var O="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,T=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,a.Z)(this,e),n=u(this,l(e).call(this)),O&&v.call(c(n)),n.data=t||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return h(e,t),(0,s.Z)(e,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=[t,e];return n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(i=t.split(".")),_(this.data,i)}},{key:"addResource",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var a=[t,e];n&&(a=a.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(r=e,e=(a=t.split("."))[1]),this.addNamespaces(e),b(this.data,a,r),o.silent||this.emit("added",t,e,n,r)}},{key:"addResources",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(t,e,o,n[o],{silent:!0});r.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[t,e];t.indexOf(".")>-1&&(r=n,n=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var c=_(this.data,s)||{};r?E(c,n,o):c=i({},c,n),b(this.data,s,c),a.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?i({},{},this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),e}(v),j={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,o){var i=this;return t.forEach((function(t){i.processors[t]&&(e=i.processors[t].process(e,n,r,o))})),e}},C={},L=function(t){function e(t){var n,r,o,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.Z)(this,e),n=u(this,l(e).call(this)),O&&v.call(c(n)),r=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],o=t,i=c(n),r.forEach((function(t){o[t]&&(i[t]=o[t])})),n.options=s,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=d.create("translator"),n}return h(e,t),(0,s.Z)(e,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,o=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var i=t.match(this.interpolator.nestingRegexp);if(i&&i.length>0)return{key:t,namespaces:o};var a=t.split(n);(n!==r||n===r&&this.options.ns.indexOf(a[0])>-1)&&(o=a.shift()),t=a.join(r)}return"string"==typeof o&&(o=[o]),{key:t,namespaces:o}}},{key:"translate",value:function(t,n,o){var a=this;if("object"!==(0,r.Z)(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var s=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,c=this.extractFromKey(t[t.length-1],n),u=c.key,l=c.namespaces,f=l[l.length-1],h=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(p){var d=n.nsSeparator||this.options.nsSeparator;return f+d+u}return u}var v=this.resolve(t,n),g=v&&v.res,m=v&&v.usedKey||u,y=v&&v.exactUsedKey||u,b=Object.prototype.toString.apply(g),_=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&g&&("string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(b)<0&&("string"!=typeof _||"[object Array]"!==b)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,g,n):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");if(s){var E="[object Array]"===b,x=E?[]:{},S=E?y:m;for(var k in g)if(Object.prototype.hasOwnProperty.call(g,k)){var O="".concat(S).concat(s).concat(k);x[k]=this.translate(O,i({},n,{joinArrays:!1,ns:l})),x[k]===O&&(x[k]=g[k])}g=x}}else if(w&&"string"==typeof _&&"[object Array]"===b)(g=g.join(_))&&(g=this.extendTranslation(g,t,n,o));else{var T=!1,j=!1,C=void 0!==n.count&&"string"!=typeof n.count,L=e.hasDefaultValue(n),A=C?this.pluralResolver.getSuffix(h,n.count):"",I=n["defaultValue".concat(A)]||n.defaultValue;!this.isValidLookup(g)&&L&&(T=!0,g=I),this.isValidLookup(g)||(j=!0,g=u);var P=L&&I!==g&&this.options.updateMissing;if(j||T||P){if(this.logger.log(P?"updateKey":"missingKey",h,f,u,P?I:g),s){var N=this.resolve(u,i({},n,{keySeparator:!1}));N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var R=[],D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&D&&D[0])for(var M=0;M<D.length;M++)R.push(D[M]);else"all"===this.options.saveMissingTo?R=this.languageUtils.toResolveHierarchy(n.lng||this.language):R.push(n.lng||this.language);var F=function(t,e,r){a.options.missingKeyHandler?a.options.missingKeyHandler(t,f,e,P?r:g,P,n):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(t,f,e,P?r:g,P,n),a.emit("missingKey",t,f,e,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?R.forEach((function(t){a.pluralResolver.getSuffixes(t).forEach((function(e){F([t],u+e,n["defaultValue".concat(e)]||I)}))})):F(R,u,I))}g=this.extendTranslation(g,t,n,v,o),j&&g===u&&this.options.appendNamespaceToMissingKey&&(g="".concat(f,":").concat(u)),j&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(g))}return g}},{key:"extendTranslation",value:function(t,e,n,r,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(i({},n,{interpolation:i({},this.options.interpolation,n.interpolation)}));var s,c=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(c){var u=t.match(this.interpolator.nestingRegexp);s=u&&u.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=i({},this.options.interpolation.defaultVariables,l)),t=this.interpolator.interpolate(t,l,n.lng||this.language,n),c){var f=t.match(this.interpolator.nestingRegexp);s<(f&&f.length)&&(n.nest=!1)}!1!==n.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return o&&o[0]===r[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(e[0])),null):a.translate.apply(a,r.concat([e]))}),n)),n.interpolation&&this.interpolator.reset()}var h=n.postProcess||this.options.postProcess,p="string"==typeof h?[h]:h;return null!=t&&p&&p.length&&!1!==n.applyPostProcessor&&(t=j.handle(p,t,e,this.options&&this.options.postProcessPassResolved?i({i18nResolved:r},n):n,this)),t}},{key:"resolve",value:function(t){var e,n,r,o,i,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!a.isValidLookup(e)){var c=a.extractFromKey(t,s),u=c.key;n=u;var l=c.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,h=void 0!==s.context&&"string"==typeof s.context&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(t){a.isValidLookup(e)||(i=t,!C["".concat(p[0],"-").concat(t)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(C["".concat(p[0],"-").concat(t)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(e)){o=n;var i,c,l=u,p=[l];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(p,u,n,t,s);else f&&(i=a.pluralResolver.getSuffix(n,s.count)),f&&h&&p.push(l+i),h&&p.push(l+="".concat(a.options.contextSeparator).concat(s.context)),f&&p.push(l+=i);for(;c=p.pop();)a.isValidLookup(e)||(r=c,e=a.getResource(n,t,c,s))}})))}))}})),{res:e,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,r):this.resourceStore.getResource(t,e,n,r)}}],[{key:"hasDefaultValue",value:function(t){var e="defaultValue";for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,12)&&void 0!==t[n])return!0;return!1}}]),e}(v);function A(t){return t.charAt(0).toUpperCase()+t.slice(1)}var I=function(){function t(e){(0,a.Z)(this,t),this.options=e,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=d.create("languageUtils")}return(0,s.Z)(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=A(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=A(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=A(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(t)}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,n=this;return t?(t.forEach((function(t){if(!e){var r=n.formatLanguageCode(t);n.options.supportedLngs&&!n.isSupportedCode(r)||(e=r)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var r=n.getLanguagePartFromCode(t);if(n.isSupportedCode(r))return e=r;e=n.options.supportedLngs.find((function(t){if(0===t.indexOf(r))return t}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),o=[],i=function(t){t&&(n.isSupportedCode(t)?o.push(t):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(t))):"string"==typeof t&&i(this.formatLanguageCode(t)),r.forEach((function(t){o.indexOf(t)<0&&i(n.formatLanguageCode(t))})),o}}]),t}(),P=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],N={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}};var R=function(){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,t),this.languageUtils=e,this.options=r,this.logger=d.create("pluralResolver"),this.rules=(n={},P.forEach((function(t){t.lngs.forEach((function(e){n[e]={numbers:t.nr,plurals:N[t.fc]}}))})),n)}return(0,s.Z)(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=this.getRule(t);return e&&e.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){return this.getSuffixes(t).map((function(t){return e+t}))}},{key:"getSuffixes",value:function(t){var e=this,n=this.getRule(t);return n?n.numbers.map((function(n){return e.getSuffix(t,n)})):[]}},{key:"getSuffix",value:function(t,e){var n=this,r=this.getRule(t);if(r){var o=r.noAbs?r.plurals(e):r.plurals(Math.abs(e)),i=r.numbers[o];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var a=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),t}(),D=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.Z)(this,t),this.logger=d.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return(0,s.Z)(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:k,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?x(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?x(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?x(e.nestingPrefix):e.nestingPrefixEscaped||x("$t("),this.nestingSuffix=e.nestingSuffix?x(e.nestingSuffix):e.nestingSuffixEscaped||x(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,r){var o,i,a,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(t){return t.replace(/\$/g,"$$$$")}var l=function(t){if(t.indexOf(s.formatSeparator)<0){var o=w(e,c,t);return s.alwaysFormat?s.format(o,void 0,n):o}var i=t.split(s.formatSeparator),a=i.shift().trim(),u=i.join(s.formatSeparator).trim();return s.format(w(e,c,a),u,n,r)};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return u(t)}},{regex:this.regexp,safeValue:function(t){return s.escapeValue?u(s.escape(t)):u(t)}}].forEach((function(e){for(a=0;o=e.regex.exec(t);){if(void 0===(i=l(o[1].trim())))if("function"==typeof f){var n=f(t,o,r);i="string"==typeof n?n:""}else{if(h){i=o[0];continue}s.logger.warn("missed to pass in variable ".concat(o[1]," for interpolating ").concat(t)),i=""}else"string"==typeof i||s.useRawValueToEscape||(i=m(i));if(t=t.replace(o[0],e.safeValue(i)),e.regex.lastIndex=0,++a>=s.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var n,r,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i({},a);function c(t,e){var n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;var r=t.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(r[1]);t=r[0],o=(o=this.interpolate(o,s)).replace(/'/g,'"');try{s=JSON.parse(o),e&&(s=i({},e,s))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(o)}return delete s.defaultValue,t}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(t);){var u=[],l=!1;if(n[0].includes(this.formatSeparator)&&!/{.*}/.test(n[1])){var f=n[1].split(this.formatSeparator).map((function(t){return t.trim()}));n[1]=f.shift(),u=f,l=!0}if((r=e(c.call(this,n[1].trim(),s),s))&&n[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=m(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),r=""),l&&(r=u.reduce((function(t,e){return o.format(t,e,a.lng,a)}),r.trim())),t=t.replace(n[0],r),this.regexp.lastIndex=0}return t}}]),t}();var M=function(t){function e(t,n,r){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,a.Z)(this,e),o=u(this,l(e).call(this)),O&&v.call(c(o)),o.backend=t,o.store=n,o.services=r,o.languageUtils=r.languageUtils,o.options=i,o.logger=d.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(r,i.backend,i),o}return h(e,t),(0,s.Z)(e,[{key:"queueLoad",value:function(t,e,n,r){var o=this,i=[],a=[],s=[],c=[];return t.forEach((function(t){var r=!0;e.forEach((function(e){var s="".concat(t,"|").concat(e);!n.reload&&o.store.hasResourceBundle(t,e)?o.state[s]=2:o.state[s]<0||(1===o.state[s]?a.indexOf(s)<0&&a.push(s):(o.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),i.indexOf(s)<0&&i.push(s),c.indexOf(e)<0&&c.push(e)))})),r||s.push(t)})),(i.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:i,pending:a,toLoadLanguages:s,toLoadNamespaces:c}}},{key:"loaded",value:function(t,e,n){var r=t.split("|"),o=r[0],i=r[1];e&&this.emit("failedLoading",o,i,e),n&&this.store.addResourceBundle(o,i,n),this.state[t]=e?-1:2;var a={};this.queue.forEach((function(n){var r,s,c,u,l,f;r=n.loaded,s=i,u=y(r,[o],Object),l=u.obj,f=u.k,l[f]=l[f]||[],c&&(l[f]=l[f].concat(s)),c||l[f].push(s),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(t){a[t]||(a[t]=[]),n.loaded[t].length&&n.loaded[t].forEach((function(e){a[t].indexOf(e)<0&&a[t].push(e)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return t.length?this.backend[n](t,e,(function(s,c){s&&c&&o<5?setTimeout((function(){r.read.call(r,t,e,n,o+1,2*i,a)}),i):a(s,c)})):a(null,{})}},{key:"prepareLoading",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var i=this.queueLoad(t,e,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(function(r,a){r&&e.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(o," failed"),r),!r&&a&&e.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(o),a),e.loaded(t,r,a)}))}},{key:"saveMissing",value:function(t,e,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(t,e,n,r,null,i({},a,{isUpdate:o})),t&&t[0]&&this.store.addResource(t[0],e,n,r))}}]),e}(v);function F(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&(t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t.supportedLngs=t.whitelist),t.nonExplicitWhitelist&&(t.nonExplicitSupportedLngs=t.nonExplicitWhitelist),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function U(){}const z=new(function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if((0,a.Z)(this,e),t=u(this,l(e).call(this)),O&&v.call(c(t)),t.options=F(n),t.services={},t.logger=d,t.modules={external:[]},r&&!t.isInitialized&&!n.isClone){if(!t.options.initImmediate)return t.init(n,r),u(t,c(t));setTimeout((function(){t.init(n,r)}),0)}return t}return h(e,t),(0,s.Z)(e,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function o(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof e&&(n=e,e={}),e.whitelist&&!e.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),e.nonExplicitWhitelist&&!e.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=i({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===(0,r.Z)(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===(0,r.Z)(t[2])||"object"===(0,r.Z)(t[3])){var n=t[3]||t[2];Object.keys(n).forEach((function(t){e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,n,r){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}},this.options,F(e)),this.format=this.options.interpolation.format,n||(n=U),!this.options.isClone){this.modules.logger?d.init(o(this.modules.logger),this.options):d.init(null,this.options);var a=new I(this.options);this.store=new T(this.options.resources,this.options);var s=this.services;s.logger=d,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new R(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),s.interpolator=new D(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new M(o(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(s.languageDetector=o(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=o(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new L(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments),t}}));var u=g(),l=function(){var e=function(e,r){t.isInitialized&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),u.resolve(r),n(e,r)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}},{key:"loadResources",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U,r="string"==typeof t?t:this.language;if("function"==typeof t&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var o=[],i=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){o.indexOf(t)<0&&o.push(t)}))};if(r)i(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(t){return i(t)}));this.options.preload&&this.options.preload.forEach((function(t){return i(t)})),this.services.backendConnector.load(o,this.options.ns,n)}else n(null)}},{key:"reloadResources",value:function(t,e,n){var r=g();return t||(t=this.languages),e||(e=this.options.ns),n||(n=U),this.services.backendConnector.reload(t,e,(function(t){r.resolve(),n(t)})),r}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&j.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,e){var n=this;this.isLanguageChangingTo=t;var r=g();this.emit("languageChanging",t);var o=function(t){var o="string"==typeof t?t:n.services.languageUtils.getBestMatchFromCodes(t);o&&(n.language||(n.language=o,n.languages=n.services.languageUtils.toResolveHierarchy(o)),n.translator.language||n.translator.changeLanguage(o),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(o)),n.loadResources(o,(function(t){!function(t,o){o?(n.language=o,n.languages=n.services.languageUtils.toResolveHierarchy(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(t,o)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(t):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(t,e){var n=this,o=function t(e,o){var a;if("object"!==(0,r.Z)(o)){for(var s=arguments.length,c=new Array(s>2?s-2:0),u=2;u<s;u++)c[u-2]=arguments[u];a=n.options.overloadTranslationOptionHandler([e,o].concat(c))}else a=i({},o);return a.lng=a.lng||t.lng,a.lngs=a.lngs||t.lngs,a.ns=a.ns||t.ns,n.t(e,a)};return"string"==typeof t?o.lng=t:o.lngs=t,o.ns=e,o}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,t)||(!this.services.backendConnector.backend||!(!a(r,t)||o&&!a(i,t)))}},{key:"loadNamespaces",value:function(t,e){var n=this,r=g();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){r.resolve(),e&&e(t)})),r):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=g();"string"==typeof t&&(t=[t]);var r=this.options.preload||[],o=t.filter((function(t){return r.indexOf(t)<0}));return o.length?(this.options.preload=r.concat(o),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){if(t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),!t)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U,o=i({},this.options,n,{isClone:!0}),a=new e(o);return["store","services","language"].forEach((function(e){a[e]=t[e]})),a.services=i({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new L(a.services,a.options),a.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];a.emit.apply(a,[t].concat(n))})),a.init(o,r),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}}]),e}(v))},2705:(t,e,n)=>{var r=n(5639).Symbol;t.exports=r},4239:(t,e,n)=>{var r=n(2705),o=n(9607),i=n(2333),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},7561:(t,e,n)=>{var r=n(7990),o=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(o,""):t}},1957:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},9607:(t,e,n)=>{var r=n(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5639:(t,e,n)=>{var r=n(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},7990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},3279:(t,e,n)=>{var r=n(3218),o=n(7771),i=n(4841),a=Math.max,s=Math.min;t.exports=function(t,e,n){var c,u,l,f,h,p,d=0,v=!1,g=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=c,r=u;return c=u=void 0,d=e,f=t.apply(r,n)}function b(t){var n=t-p;return void 0===p||n>=e||n<0||g&&t-d>=l}function _(){var t=o();if(b(t))return w(t);h=setTimeout(_,function(t){var n=e-(t-p);return g?s(n,l-(t-d)):n}(t))}function w(t){return h=void 0,m&&c?y(t):(c=u=void 0,f)}function E(){var t=o(),n=b(t);if(c=arguments,u=this,p=t,n){if(void 0===h)return function(t){return d=t,h=setTimeout(_,e),v?y(t):f}(p);if(g)return clearTimeout(h),h=setTimeout(_,e),y(p)}return void 0===h&&(h=setTimeout(_,e)),f}return e=i(e)||0,r(n)&&(v=!!n.leading,l=(g="maxWait"in n)?a(i(n.maxWait)||0,e):l,m="trailing"in n?!!n.trailing:m),E.cancel=function(){void 0!==h&&clearTimeout(h),d=0,c=p=u=h=void 0},E.flush=function(){return void 0===h?f:w(o())},E}},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},3448:(t,e,n)=>{var r=n(4239),o=n(7005);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},6486:function(t,e,n){var r;t=n.nmd(t),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,u=32,l=64,f=128,h=256,p=1/0,d=9007199254740991,v=NaN,g=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",u],["partialRight",l],["rearg",h]],y="[object Arguments]",b="[object Array]",_="[object Boolean]",w="[object Date]",E="[object Error]",x="[object Function]",S="[object GeneratorFunction]",k="[object Map]",O="[object Number]",T="[object Object]",j="[object Promise]",C="[object RegExp]",L="[object Set]",A="[object String]",I="[object Symbol]",P="[object WeakMap]",N="[object ArrayBuffer]",R="[object DataView]",D="[object Float32Array]",M="[object Float64Array]",F="[object Int8Array]",U="[object Int16Array]",z="[object Int32Array]",G="[object Uint8Array]",B="[object Uint8ClampedArray]",q="[object Uint16Array]",W="[object Uint32Array]",V=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,Z=RegExp(K.source),$=RegExp(J.source),X=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,it=RegExp(ot.source),at=/^\s+/,st=/\s/,ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,xt=/['\n\r\u2028\u2029\\]/g,St="\\ud800-\\udfff",kt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ot="\\u2700-\\u27bf",Tt="a-z\\xdf-\\xf6\\xf8-\\xff",jt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\ufe0e\\ufe0f",Lt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",At="['’]",It="["+St+"]",Pt="["+Lt+"]",Nt="["+kt+"]",Rt="\\d+",Dt="["+Ot+"]",Mt="["+Tt+"]",Ft="[^"+St+Lt+Rt+Ot+Tt+jt+"]",Ut="\\ud83c[\\udffb-\\udfff]",zt="[^"+St+"]",Gt="(?:\\ud83c[\\udde6-\\uddff]){2}",Bt="[\\ud800-\\udbff][\\udc00-\\udfff]",qt="["+jt+"]",Wt="\\u200d",Vt="(?:"+Mt+"|"+Ft+")",Ht="(?:"+qt+"|"+Ft+")",Yt="(?:['’](?:d|ll|m|re|s|t|ve))?",Kt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Jt="(?:"+Nt+"|"+Ut+")"+"?",Zt="["+Ct+"]?",$t=Zt+Jt+("(?:"+Wt+"(?:"+[zt,Gt,Bt].join("|")+")"+Zt+Jt+")*"),Xt="(?:"+[Dt,Gt,Bt].join("|")+")"+$t,Qt="(?:"+[zt+Nt+"?",Nt,Gt,Bt,It].join("|")+")",te=RegExp(At,"g"),ee=RegExp(Nt,"g"),ne=RegExp(Ut+"(?="+Ut+")|"+Qt+$t,"g"),re=RegExp([qt+"?"+Mt+"+"+Yt+"(?="+[Pt,qt,"$"].join("|")+")",Ht+"+"+Kt+"(?="+[Pt,qt+Vt,"$"].join("|")+")",qt+"?"+Vt+"+"+Yt,qt+"+"+Kt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rt,Xt].join("|"),"g"),oe=RegExp("["+Wt+St+kt+Ct+"]"),ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],se=-1,ce={};ce[D]=ce[M]=ce[F]=ce[U]=ce[z]=ce[G]=ce[B]=ce[q]=ce[W]=!0,ce[y]=ce[b]=ce[N]=ce[_]=ce[R]=ce[w]=ce[E]=ce[x]=ce[k]=ce[O]=ce[T]=ce[C]=ce[L]=ce[A]=ce[P]=!1;var ue={};ue[y]=ue[b]=ue[N]=ue[R]=ue[_]=ue[w]=ue[D]=ue[M]=ue[F]=ue[U]=ue[z]=ue[k]=ue[O]=ue[T]=ue[C]=ue[L]=ue[A]=ue[I]=ue[G]=ue[B]=ue[q]=ue[W]=!0,ue[E]=ue[x]=ue[P]=!1;var le={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fe=parseFloat,he=parseInt,pe="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,de="object"==typeof self&&self&&self.Object===Object&&self,ve=pe||de||Function("return this")(),ge=e&&!e.nodeType&&e,me=ge&&t&&!t.nodeType&&t,ye=me&&me.exports===ge,be=ye&&pe.process,_e=function(){try{var t=me&&me.require&&me.require("util").types;return t||be&&be.binding&&be.binding("util")}catch(t){}}(),we=_e&&_e.isArrayBuffer,Ee=_e&&_e.isDate,xe=_e&&_e.isMap,Se=_e&&_e.isRegExp,ke=_e&&_e.isSet,Oe=_e&&_e.isTypedArray;function Te(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function je(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function Ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Le(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ie(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function Pe(t,e){return!!(null==t?0:t.length)&&qe(t,e,0)>-1}function Ne(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function Re(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function De(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function Me(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function Fe(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function Ue(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ze=Ye("length");function Ge(t,e,n){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=n,!1})),r}function Be(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function qe(t,e,n){return e==e?function(t,e,n){var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):Be(t,Ve,n)}function We(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function Ve(t){return t!=t}function He(t,e){var n=null==t?0:t.length;return n?Ze(t,e)/n:v}function Ye(t){return function(e){return null==e?o:e[t]}}function Ke(t){return function(e){return null==t?o:t[e]}}function Je(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}function Ze(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function $e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Xe(t){return t?t.slice(0,gn(t)+1).replace(at,""):t}function Qe(t){return function(e){return t(e)}}function tn(t,e){return Re(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,r=t.length;++n<r&&qe(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&qe(e,t[n],0)>-1;);return n}var on=Ke({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),an=Ke({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+le[t]}function cn(t){return oe.test(t)}function un(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function ln(t,e){return function(n){return t(e(n))}}function fn(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];a!==e&&a!==s||(t[n]=s,i[o++]=n)}return i}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function pn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function dn(t){return cn(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):ze(t)}function vn(t){return cn(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function gn(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var mn=Ke({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function t(e){var n=(e=null==e?ve:yn.defaults(ve.Object(),e,yn.pick(ve,ae))).Array,r=e.Date,st=e.Error,St=e.Function,kt=e.Math,Ot=e.Object,Tt=e.RegExp,jt=e.String,Ct=e.TypeError,Lt=n.prototype,At=St.prototype,It=Ot.prototype,Pt=e["__core-js_shared__"],Nt=At.toString,Rt=It.hasOwnProperty,Dt=0,Mt=function(){var t=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ft=It.toString,Ut=Nt.call(Ot),zt=ve._,Gt=Tt("^"+Nt.call(Rt).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=ye?e.Buffer:o,qt=e.Symbol,Wt=e.Uint8Array,Vt=Bt?Bt.allocUnsafe:o,Ht=ln(Ot.getPrototypeOf,Ot),Yt=Ot.create,Kt=It.propertyIsEnumerable,Jt=Lt.splice,Zt=qt?qt.isConcatSpreadable:o,$t=qt?qt.iterator:o,Xt=qt?qt.toStringTag:o,Qt=function(){try{var t=hi(Ot,"defineProperty");return t({},"",{}),t}catch(t){}}(),ne=e.clearTimeout!==ve.clearTimeout&&e.clearTimeout,oe=r&&r.now!==ve.Date.now&&r.now,le=e.setTimeout!==ve.setTimeout&&e.setTimeout,pe=kt.ceil,de=kt.floor,ge=Ot.getOwnPropertySymbols,me=Bt?Bt.isBuffer:o,be=e.isFinite,_e=Lt.join,ze=ln(Ot.keys,Ot),Ke=kt.max,bn=kt.min,_n=r.now,wn=e.parseInt,En=kt.random,xn=Lt.reverse,Sn=hi(e,"DataView"),kn=hi(e,"Map"),On=hi(e,"Promise"),Tn=hi(e,"Set"),jn=hi(e,"WeakMap"),Cn=hi(Ot,"create"),Ln=jn&&new jn,An={},In=Fi(Sn),Pn=Fi(kn),Nn=Fi(On),Rn=Fi(Tn),Dn=Fi(jn),Mn=qt?qt.prototype:o,Fn=Mn?Mn.valueOf:o,Un=Mn?Mn.toString:o;function zn(t){if(es(t)&&!Wa(t)&&!(t instanceof Wn)){if(t instanceof qn)return t;if(Rt.call(t,"__wrapped__"))return Ui(t)}return new qn(t)}var Gn=function(){function t(){}return function(e){if(!ts(e))return{};if(Yt)return Yt(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function Bn(){}function qn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function Wn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Yn;++e<n;)this.add(t[e])}function Jn(t){var e=this.__data__=new Hn(t);this.size=e.size}function Zn(t,e){var n=Wa(t),r=!n&&qa(t),o=!n&&!r&&Ka(t),i=!n&&!r&&!o&&us(t),a=n||r||o||i,s=a?$e(t.length,jt):[],c=s.length;for(var u in t)!e&&!Rt.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||bi(u,c))||s.push(u);return s}function $n(t){var e=t.length;return e?t[Kr(0,e-1)]:o}function Xn(t,e){return Ri(Lo(t),sr(e,0,t.length))}function Qn(t){return Ri(Lo(t))}function tr(t,e,n){(n!==o&&!za(t[e],n)||n===o&&!(e in t))&&ir(t,e,n)}function er(t,e,n){var r=t[e];Rt.call(t,e)&&za(r,n)&&(n!==o||e in t)||ir(t,e,n)}function nr(t,e){for(var n=t.length;n--;)if(za(t[n][0],e))return n;return-1}function rr(t,e,n,r){return hr(t,(function(t,o,i){e(r,t,n(t),i)})),r}function or(t,e){return t&&Ao(e,As(e),t)}function ir(t,e,n){"__proto__"==e&&Qt?Qt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ar(t,e){for(var r=-1,i=e.length,a=n(i),s=null==t;++r<i;)a[r]=s?o:Os(t,e[r]);return a}function sr(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function cr(t,e,n,r,i,a){var s,c=1&e,u=2&e,l=4&e;if(n&&(s=i?n(t,r,i,a):n(t)),s!==o)return s;if(!ts(t))return t;var f=Wa(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Rt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!c)return Lo(t,s)}else{var h=vi(t),p=h==x||h==S;if(Ka(t))return So(t,c);if(h==T||h==y||p&&!i){if(s=u||p?{}:mi(t),!c)return u?function(t,e){return Ao(t,di(t),e)}(t,function(t,e){return t&&Ao(e,Is(e),t)}(s,t)):function(t,e){return Ao(t,pi(t),e)}(t,or(s,t))}else{if(!ue[h])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case N:return ko(t);case _:case w:return new r(+t);case R:return function(t,e){var n=e?ko(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case D:case M:case F:case U:case z:case G:case B:case q:case W:return Oo(t,n);case k:return new r;case O:case A:return new r(t);case C:return function(t){var e=new t.constructor(t.source,vt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case L:return new r;case I:return o=t,Fn?Ot(Fn.call(o)):{}}var o}(t,h,c)}}a||(a=new Jn);var d=a.get(t);if(d)return d;a.set(t,s),as(t)?t.forEach((function(r){s.add(cr(r,e,n,r,t,a))})):ns(t)&&t.forEach((function(r,o){s.set(o,cr(r,e,n,o,t,a))}));var v=f?o:(l?u?ii:oi:u?Is:As)(t);return Ce(v||t,(function(r,o){v&&(r=t[o=r]),er(s,o,cr(r,e,n,o,t,a))})),s}function ur(t,e,n){var r=n.length;if(null==t)return!r;for(t=Ot(t);r--;){var i=n[r],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s))return!1}return!0}function lr(t,e,n){if("function"!=typeof t)throw new Ct(i);return Ai((function(){t.apply(o,n)}),e)}function fr(t,e,n,r){var o=-1,i=Pe,a=!0,s=t.length,c=[],u=e.length;if(!s)return c;n&&(e=Re(e,Qe(n))),r?(i=Ne,a=!1):e.length>=200&&(i=en,a=!1,e=new Kn(e));t:for(;++o<s;){var l=t[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=u;h--;)if(e[h]===f)continue t;c.push(l)}else i(e,f,r)||c.push(l)}return c}zn.templateSettings={escape:X,evaluate:Q,interpolate:tt,variable:"",imports:{_:zn}},zn.prototype=Bn.prototype,zn.prototype.constructor=zn,qn.prototype=Gn(Bn.prototype),qn.prototype.constructor=qn,Wn.prototype=Gn(Bn.prototype),Wn.prototype.constructor=Wn,Vn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Vn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vn.prototype.get=function(t){var e=this.__data__;if(Cn){var n=e[t];return n===a?o:n}return Rt.call(e,t)?e[t]:o},Vn.prototype.has=function(t){var e=this.__data__;return Cn?e[t]!==o:Rt.call(e,t)},Vn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Cn&&e===o?a:e,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(t){var e=this.__data__,n=nr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Jt.call(e,n,1),--this.size,!0)},Hn.prototype.get=function(t){var e=this.__data__,n=nr(e,t);return n<0?o:e[n][1]},Hn.prototype.has=function(t){return nr(this.__data__,t)>-1},Hn.prototype.set=function(t,e){var n=this.__data__,r=nr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(kn||Hn),string:new Vn}},Yn.prototype.delete=function(t){var e=li(this,t).delete(t);return this.size-=e?1:0,e},Yn.prototype.get=function(t){return li(this,t).get(t)},Yn.prototype.has=function(t){return li(this,t).has(t)},Yn.prototype.set=function(t,e){var n=li(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(t){return this.__data__.set(t,a),this},Kn.prototype.has=function(t){return this.__data__.has(t)},Jn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Jn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Jn.prototype.get=function(t){return this.__data__.get(t)},Jn.prototype.has=function(t){return this.__data__.has(t)},Jn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!kn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(t,e),this.size=n.size,this};var hr=No(_r),pr=No(wr,!0);function dr(t,e){var n=!0;return hr(t,(function(t,r,o){return n=!!e(t,r,o)})),n}function vr(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(c===o?s==s&&!cs(s):n(s,c)))var c=s,u=a}return u}function gr(t,e){var n=[];return hr(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function mr(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=yi),o||(o=[]);++i<a;){var s=t[i];e>0&&n(s)?e>1?mr(s,e-1,n,r,o):De(o,s):r||(o[o.length]=s)}return o}var yr=Ro(),br=Ro(!0);function _r(t,e){return t&&yr(t,e,As)}function wr(t,e){return t&&br(t,e,As)}function Er(t,e){return Ie(e,(function(e){return $a(t[e])}))}function xr(t,e){for(var n=0,r=(e=_o(e,t)).length;null!=t&&n<r;)t=t[Mi(e[n++])];return n&&n==r?t:o}function Sr(t,e,n){var r=e(t);return Wa(t)?r:De(r,n(t))}function kr(t){return null==t?t===o?"[object Undefined]":"[object Null]":Xt&&Xt in Ot(t)?function(t){var e=Rt.call(t,Xt),n=t[Xt];try{t[Xt]=o;var r=!0}catch(t){}var i=Ft.call(t);r&&(e?t[Xt]=n:delete t[Xt]);return i}(t):function(t){return Ft.call(t)}(t)}function Or(t,e){return t>e}function Tr(t,e){return null!=t&&Rt.call(t,e)}function jr(t,e){return null!=t&&e in Ot(t)}function Cr(t,e,r){for(var i=r?Ne:Pe,a=t[0].length,s=t.length,c=s,u=n(s),l=1/0,f=[];c--;){var h=t[c];c&&e&&(h=Re(h,Qe(e))),l=bn(h.length,l),u[c]=!r&&(e||a>=120&&h.length>=120)?new Kn(c&&h):o}h=t[0];var p=-1,d=u[0];t:for(;++p<a&&f.length<l;){var v=h[p],g=e?e(v):v;if(v=r||0!==v?v:0,!(d?en(d,g):i(f,g,r))){for(c=s;--c;){var m=u[c];if(!(m?en(m,g):i(t[c],g,r)))continue t}d&&d.push(g),f.push(v)}}return f}function Lr(t,e,n){var r=null==(t=ji(t,e=_o(e,t)))?t:t[Mi(Zi(e))];return null==r?o:Te(r,t,n)}function Ar(t){return es(t)&&kr(t)==y}function Ir(t,e,n,r,i){return t===e||(null==t||null==e||!es(t)&&!es(e)?t!=t&&e!=e:function(t,e,n,r,i,a){var s=Wa(t),c=Wa(e),u=s?b:vi(t),l=c?b:vi(e),f=(u=u==y?T:u)==T,h=(l=l==y?T:l)==T,p=u==l;if(p&&Ka(t)){if(!Ka(e))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new Jn),s||us(t)?ni(t,e,n,r,i,a):function(t,e,n,r,o,i,a){switch(n){case R:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case N:return!(t.byteLength!=e.byteLength||!i(new Wt(t),new Wt(e)));case _:case w:case O:return za(+t,+e);case E:return t.name==e.name&&t.message==e.message;case C:case A:return t==e+"";case k:var s=un;case L:var c=1&r;if(s||(s=hn),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;r|=2,a.set(t,e);var l=ni(s(t),s(e),r,o,i,a);return a.delete(t),l;case I:if(Fn)return Fn.call(t)==Fn.call(e)}return!1}(t,e,u,n,r,i,a);if(!(1&n)){var d=f&&Rt.call(t,"__wrapped__"),v=h&&Rt.call(e,"__wrapped__");if(d||v){var g=d?t.value():t,m=v?e.value():e;return a||(a=new Jn),i(g,m,n,r,a)}}if(!p)return!1;return a||(a=new Jn),function(t,e,n,r,i,a){var s=1&n,c=oi(t),u=c.length,l=oi(e),f=l.length;if(u!=f&&!s)return!1;var h=u;for(;h--;){var p=c[h];if(!(s?p in e:Rt.call(e,p)))return!1}var d=a.get(t),v=a.get(e);if(d&&v)return d==e&&v==t;var g=!0;a.set(t,e),a.set(e,t);var m=s;for(;++h<u;){var y=t[p=c[h]],b=e[p];if(r)var _=s?r(b,y,p,e,t,a):r(y,b,p,t,e,a);if(!(_===o?y===b||i(y,b,n,r,a):_)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var w=t.constructor,E=e.constructor;w==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E||(g=!1)}return a.delete(t),a.delete(e),g}(t,e,n,r,i,a)}(t,e,n,r,Ir,i))}function Pr(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=Ot(t);i--;){var c=n[i];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<a;){var u=(c=n[i])[0],l=t[u],f=c[1];if(s&&c[2]){if(l===o&&!(u in t))return!1}else{var h=new Jn;if(r)var p=r(l,f,u,t,e,h);if(!(p===o?Ir(f,l,3,r,h):p))return!1}}return!0}function Nr(t){return!(!ts(t)||(e=t,Mt&&Mt in e))&&($a(t)?Gt:yt).test(Fi(t));var e}function Rr(t){return"function"==typeof t?t:null==t?rc:"object"==typeof t?Wa(t)?Gr(t[0],t[1]):zr(t):hc(t)}function Dr(t){if(!Si(t))return ze(t);var e=[];for(var n in Ot(t))Rt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Mr(t){if(!ts(t))return function(t){var e=[];if(null!=t)for(var n in Ot(t))e.push(n);return e}(t);var e=Si(t),n=[];for(var r in t)("constructor"!=r||!e&&Rt.call(t,r))&&n.push(r);return n}function Fr(t,e){return t<e}function Ur(t,e){var r=-1,o=Ha(t)?n(t.length):[];return hr(t,(function(t,n,i){o[++r]=e(t,n,i)})),o}function zr(t){var e=fi(t);return 1==e.length&&e[0][2]?Oi(e[0][0],e[0][1]):function(n){return n===t||Pr(n,t,e)}}function Gr(t,e){return wi(t)&&ki(e)?Oi(Mi(t),e):function(n){var r=Os(n,t);return r===o&&r===e?Ts(n,t):Ir(e,r,3)}}function Br(t,e,n,r,i){t!==e&&yr(e,(function(a,s){if(i||(i=new Jn),ts(a))!function(t,e,n,r,i,a,s){var c=Ci(t,n),u=Ci(e,n),l=s.get(u);if(l)return void tr(t,n,l);var f=a?a(c,u,n+"",t,e,s):o,h=f===o;if(h){var p=Wa(u),d=!p&&Ka(u),v=!p&&!d&&us(u);f=u,p||d||v?Wa(c)?f=c:Ya(c)?f=Lo(c):d?(h=!1,f=So(u,!0)):v?(h=!1,f=Oo(u,!0)):f=[]:os(u)||qa(u)?(f=c,qa(c)?f=ms(c):ts(c)&&!$a(c)||(f=mi(u))):h=!1}h&&(s.set(u,f),i(f,u,r,a,s),s.delete(u));tr(t,n,f)}(t,e,s,n,Br,r,i);else{var c=r?r(Ci(t,s),a,s+"",t,e,i):o;c===o&&(c=a),tr(t,s,c)}}),Is)}function qr(t,e){var n=t.length;if(n)return bi(e+=e<0?n:0,n)?t[e]:o}function Wr(t,e,n){e=e.length?Re(e,(function(t){return Wa(t)?function(e){return xr(e,1===t.length?t[0]:t)}:t})):[rc];var r=-1;e=Re(e,Qe(ui()));var o=Ur(t,(function(t,n,o){var i=Re(e,(function(e){return e(t)}));return{criteria:i,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(o,(function(t,e){return function(t,e,n){var r=-1,o=t.criteria,i=e.criteria,a=o.length,s=n.length;for(;++r<a;){var c=To(o[r],i[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Vr(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],s=xr(t,a);n(s,a)&&Qr(i,_o(a,t),s)}return i}function Hr(t,e,n,r){var o=r?We:qe,i=-1,a=e.length,s=t;for(t===e&&(e=Lo(e)),n&&(s=Re(t,Qe(n)));++i<a;)for(var c=0,u=e[i],l=n?n(u):u;(c=o(s,l,c,r))>-1;)s!==t&&Jt.call(s,c,1),Jt.call(t,c,1);return t}function Yr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;bi(o)?Jt.call(t,o,1):fo(t,o)}}return t}function Kr(t,e){return t+de(En()*(e-t+1))}function Jr(t,e){var n="";if(!t||e<1||e>d)return n;do{e%2&&(n+=t),(e=de(e/2))&&(t+=t)}while(e);return n}function Zr(t,e){return Ii(Ti(t,e,rc),t+"")}function $r(t){return $n(zs(t))}function Xr(t,e){var n=zs(t);return Ri(n,sr(e,0,n.length))}function Qr(t,e,n,r){if(!ts(t))return t;for(var i=-1,a=(e=_o(e,t)).length,s=a-1,c=t;null!=c&&++i<a;){var u=Mi(e[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=s){var f=c[u];(l=r?r(f,u,c):o)===o&&(l=ts(f)?f:bi(e[i+1])?[]:{})}er(c,u,l),c=c[u]}return t}var to=Ln?function(t,e){return Ln.set(t,e),t}:rc,eo=Qt?function(t,e){return Qt(t,"toString",{configurable:!0,enumerable:!1,value:tc(e),writable:!0})}:rc;function no(t){return Ri(zs(t))}function ro(t,e,r){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=n(i);++o<i;)a[o]=t[o+e];return a}function oo(t,e){var n;return hr(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n}function io(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=t[i];null!==a&&!cs(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return ao(t,e,rc,n)}function ao(t,e,n,r){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,c=null===e,u=cs(e),l=e===o;i<a;){var f=de((i+a)/2),h=n(t[f]),p=h!==o,d=null===h,v=h==h,g=cs(h);if(s)var m=r||v;else m=l?v&&(r||p):c?v&&p&&(r||!d):u?v&&p&&!d&&(r||!g):!d&&!g&&(r?h<=e:h<e);m?i=f+1:a=f}return bn(a,4294967294)}function so(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!za(s,c)){var c=s;i[o++]=0===a?0:a}}return i}function co(t){return"number"==typeof t?t:cs(t)?v:+t}function uo(t){if("string"==typeof t)return t;if(Wa(t))return Re(t,uo)+"";if(cs(t))return Un?Un.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function lo(t,e,n){var r=-1,o=Pe,i=t.length,a=!0,s=[],c=s;if(n)a=!1,o=Ne;else if(i>=200){var u=e?null:Zo(t);if(u)return hn(u);a=!1,o=en,c=new Kn}else c=e?[]:s;t:for(;++r<i;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue t;e&&c.push(f),s.push(l)}else o(c,f,n)||(c!==s&&c.push(f),s.push(l))}return s}function fo(t,e){return null==(t=ji(t,e=_o(e,t)))||delete t[Mi(Zi(e))]}function ho(t,e,n,r){return Qr(t,e,n(xr(t,e)),r)}function po(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?ro(t,r?0:i,r?i+1:o):ro(t,r?i+1:0,r?o:i)}function vo(t,e){var n=t;return n instanceof Wn&&(n=n.value()),Me(e,(function(t,e){return e.func.apply(e.thisArg,De([t],e.args))}),n)}function go(t,e,r){var o=t.length;if(o<2)return o?lo(t[0]):[];for(var i=-1,a=n(o);++i<o;)for(var s=t[i],c=-1;++c<o;)c!=i&&(a[i]=fr(a[i]||s,t[c],e,r));return lo(mr(a,1),e,r)}function mo(t,e,n){for(var r=-1,i=t.length,a=e.length,s={};++r<i;){var c=r<a?e[r]:o;n(s,t[r],c)}return s}function yo(t){return Ya(t)?t:[]}function bo(t){return"function"==typeof t?t:rc}function _o(t,e){return Wa(t)?t:wi(t,e)?[t]:Di(ys(t))}var wo=Zr;function Eo(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:ro(t,e,n)}var xo=ne||function(t){return ve.clearTimeout(t)};function So(t,e){if(e)return t.slice();var n=t.length,r=Vt?Vt(n):new t.constructor(n);return t.copy(r),r}function ko(t){var e=new t.constructor(t.byteLength);return new Wt(e).set(new Wt(t)),e}function Oo(t,e){var n=e?ko(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function To(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,a=cs(t),s=e!==o,c=null===e,u=e==e,l=cs(e);if(!c&&!l&&!a&&t>e||a&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&t<e||l&&n&&i&&!r&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}function jo(t,e,r,o){for(var i=-1,a=t.length,s=r.length,c=-1,u=e.length,l=Ke(a-s,0),f=n(u+l),h=!o;++c<u;)f[c]=e[c];for(;++i<s;)(h||i<a)&&(f[r[i]]=t[i]);for(;l--;)f[c++]=t[i++];return f}function Co(t,e,r,o){for(var i=-1,a=t.length,s=-1,c=r.length,u=-1,l=e.length,f=Ke(a-c,0),h=n(f+l),p=!o;++i<f;)h[i]=t[i];for(var d=i;++u<l;)h[d+u]=e[u];for(;++s<c;)(p||i<a)&&(h[d+r[s]]=t[i++]);return h}function Lo(t,e){var r=-1,o=t.length;for(e||(e=n(o));++r<o;)e[r]=t[r];return e}function Ao(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var c=e[a],u=r?r(n[c],t[c],c,n,t):o;u===o&&(u=t[c]),i?ir(n,c,u):er(n,c,u)}return n}function Io(t,e){return function(n,r){var o=Wa(n)?je:rr,i=e?e():{};return o(n,t,ui(r,2),i)}}function Po(t){return Zr((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,s&&_i(n[0],n[1],s)&&(a=i<3?o:a,i=1),e=Ot(e);++r<i;){var c=n[r];c&&t(e,c,r,a)}return e}))}function No(t,e){return function(n,r){if(null==n)return n;if(!Ha(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Ot(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Ro(t){return function(e,n,r){for(var o=-1,i=Ot(e),a=r(e),s=a.length;s--;){var c=a[t?s:++o];if(!1===n(i[c],c,i))break}return e}}function Do(t){return function(e){var n=cn(e=ys(e))?vn(e):o,r=n?n[0]:e.charAt(0),i=n?Eo(n,1).join(""):e.slice(1);return r[t]()+i}}function Mo(t){return function(e){return Me($s(qs(e).replace(te,"")),t,"")}}function Fo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Gn(t.prototype),r=t.apply(n,e);return ts(r)?r:n}}function Uo(t){return function(e,n,r){var i=Ot(e);if(!Ha(e)){var a=ui(n,3);e=As(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:o}}function zo(t){return ri((function(e){var n=e.length,r=n,a=qn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new Ct(i);if(a&&!c&&"wrapper"==si(s))var c=new qn([],!0)}for(r=c?r:n;++r<n;){var u=si(s=e[r]),l="wrapper"==u?ai(s):o;c=l&&Ei(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[si(l[0])].apply(c,l[3]):1==s.length&&Ei(s)?c[u]():c.thru(s)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&Wa(r))return c.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}}))}function Go(t,e,r,i,a,s,c,u,l,h){var p=e&f,d=1&e,v=2&e,g=24&e,m=512&e,y=v?o:Fo(t);return function f(){for(var b=arguments.length,_=n(b),w=b;w--;)_[w]=arguments[w];if(g)var E=ci(f),x=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(_,E);if(i&&(_=jo(_,i,a,g)),s&&(_=Co(_,s,c,g)),b-=x,g&&b<h){var S=fn(_,E);return Ko(t,e,Go,f.placeholder,r,_,S,u,l,h-b)}var k=d?r:this,O=v?k[t]:t;return b=_.length,u?_=function(t,e){var n=t.length,r=bn(e.length,n),i=Lo(t);for(;r--;){var a=e[r];t[r]=bi(a,n)?i[a]:o}return t}(_,u):m&&b>1&&_.reverse(),p&&l<b&&(_.length=l),this&&this!==ve&&this instanceof f&&(O=y||Fo(O)),O.apply(k,_)}}function Bo(t,e){return function(n,r){return function(t,e,n,r){return _r(t,(function(t,o,i){e(r,n(t),o,i)})),r}(n,t,e(r),{})}}function qo(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=uo(n),r=uo(r)):(n=co(n),r=co(r)),i=t(n,r)}return i}}function Wo(t){return ri((function(e){return e=Re(e,Qe(ui())),Zr((function(n){var r=this;return t(e,(function(t){return Te(t,r,n)}))}))}))}function Vo(t,e){var n=(e=e===o?" ":uo(e)).length;if(n<2)return n?Jr(e,t):e;var r=Jr(e,pe(t/dn(e)));return cn(e)?Eo(vn(r),0,t).join(""):r.slice(0,t)}function Ho(t){return function(e,r,i){return i&&"number"!=typeof i&&_i(e,r,i)&&(r=i=o),e=ps(e),r===o?(r=e,e=0):r=ps(r),function(t,e,r,o){for(var i=-1,a=Ke(pe((e-t)/(r||1)),0),s=n(a);a--;)s[o?a:++i]=t,t+=r;return s}(e,r,i=i===o?e<r?1:-1:ps(i),t)}}function Yo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=gs(e),n=gs(n)),t(e,n)}}function Ko(t,e,n,r,i,a,s,c,f,h){var p=8&e;e|=p?u:l,4&(e&=~(p?l:u))||(e&=-4);var d=[t,e,i,p?a:o,p?s:o,p?o:a,p?o:s,c,f,h],v=n.apply(o,d);return Ei(t)&&Li(v,d),v.placeholder=r,Pi(v,t,e)}function Jo(t){var e=kt[t];return function(t,n){if(t=gs(t),(n=null==n?0:bn(ds(n),292))&&be(t)){var r=(ys(t)+"e").split("e");return+((r=(ys(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Zo=Tn&&1/hn(new Tn([,-0]))[1]==p?function(t){return new Tn(t)}:cc;function $o(t){return function(e){var n=vi(e);return n==k?un(e):n==L?pn(e):function(t,e){return Re(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Xo(t,e,r,a,p,d,v,g){var m=2&e;if(!m&&"function"!=typeof t)throw new Ct(i);var y=a?a.length:0;if(y||(e&=-97,a=p=o),v=v===o?v:Ke(ds(v),0),g=g===o?g:ds(g),y-=p?p.length:0,e&l){var b=a,_=p;a=p=o}var w=m?o:ai(t),E=[t,e,r,a,p,b,_,d,v,g];if(w&&function(t,e){var n=t[1],r=e[1],o=n|r,i=o<131,a=r==f&&8==n||r==f&&n==h&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!i&&!a)return t;1&r&&(t[2]=e[2],o|=1&n?0:4);var c=e[3];if(c){var u=t[3];t[3]=u?jo(u,c,e[4]):c,t[4]=u?fn(t[3],s):e[4]}(c=e[5])&&(u=t[5],t[5]=u?Co(u,c,e[6]):c,t[6]=u?fn(t[5],s):e[6]);(c=e[7])&&(t[7]=c);r&f&&(t[8]=null==t[8]?e[8]:bn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=o}(E,w),t=E[0],e=E[1],r=E[2],a=E[3],p=E[4],!(g=E[9]=E[9]===o?m?0:t.length:Ke(E[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)x=8==e||e==c?function(t,e,r){var i=Fo(t);return function a(){for(var s=arguments.length,c=n(s),u=s,l=ci(a);u--;)c[u]=arguments[u];var f=s<3&&c[0]!==l&&c[s-1]!==l?[]:fn(c,l);return(s-=f.length)<r?Ko(t,e,Go,a.placeholder,o,c,f,o,o,r-s):Te(this&&this!==ve&&this instanceof a?i:t,this,c)}}(t,e,g):e!=u&&33!=e||p.length?Go.apply(o,E):function(t,e,r,o){var i=1&e,a=Fo(t);return function e(){for(var s=-1,c=arguments.length,u=-1,l=o.length,f=n(l+c),h=this&&this!==ve&&this instanceof e?a:t;++u<l;)f[u]=o[u];for(;c--;)f[u++]=arguments[++s];return Te(h,i?r:this,f)}}(t,e,r,a);else var x=function(t,e,n){var r=1&e,o=Fo(t);return function e(){return(this&&this!==ve&&this instanceof e?o:t).apply(r?n:this,arguments)}}(t,e,r);return Pi((w?to:Li)(x,E),t,e)}function Qo(t,e,n,r){return t===o||za(t,It[n])&&!Rt.call(r,n)?e:t}function ti(t,e,n,r,i,a){return ts(t)&&ts(e)&&(a.set(e,t),Br(t,e,o,ti,a),a.delete(e)),t}function ei(t){return os(t)?o:t}function ni(t,e,n,r,i,a){var s=1&n,c=t.length,u=e.length;if(c!=u&&!(s&&u>c))return!1;var l=a.get(t),f=a.get(e);if(l&&f)return l==e&&f==t;var h=-1,p=!0,d=2&n?new Kn:o;for(a.set(t,e),a.set(e,t);++h<c;){var v=t[h],g=e[h];if(r)var m=s?r(g,v,h,e,t,a):r(v,g,h,t,e,a);if(m!==o){if(m)continue;p=!1;break}if(d){if(!Ue(e,(function(t,e){if(!en(d,e)&&(v===t||i(v,t,n,r,a)))return d.push(e)}))){p=!1;break}}else if(v!==g&&!i(v,g,n,r,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function ri(t){return Ii(Ti(t,o,Vi),t+"")}function oi(t){return Sr(t,As,pi)}function ii(t){return Sr(t,Is,di)}var ai=Ln?function(t){return Ln.get(t)}:cc;function si(t){for(var e=t.name+"",n=An[e],r=Rt.call(An,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function ci(t){return(Rt.call(zn,"placeholder")?zn:t).placeholder}function ui(){var t=zn.iteratee||oc;return t=t===oc?Rr:t,arguments.length?t(arguments[0],arguments[1]):t}function li(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function fi(t){for(var e=As(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,ki(o)]}return e}function hi(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return Nr(n)?n:o}var pi=ge?function(t){return null==t?[]:(t=Ot(t),Ie(ge(t),(function(e){return Kt.call(t,e)})))}:vc,di=ge?function(t){for(var e=[];t;)De(e,pi(t)),t=Ht(t);return e}:vc,vi=kr;function gi(t,e,n){for(var r=-1,o=(e=_o(e,t)).length,i=!1;++r<o;){var a=Mi(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Qa(o)&&bi(a,o)&&(Wa(t)||qa(t))}function mi(t){return"function"!=typeof t.constructor||Si(t)?{}:Gn(Ht(t))}function yi(t){return Wa(t)||qa(t)||!!(Zt&&t&&t[Zt])}function bi(t,e){var n=typeof t;return!!(e=null==e?d:e)&&("number"==n||"symbol"!=n&&_t.test(t))&&t>-1&&t%1==0&&t<e}function _i(t,e,n){if(!ts(n))return!1;var r=typeof e;return!!("number"==r?Ha(n)&&bi(e,n.length):"string"==r&&e in n)&&za(n[e],t)}function wi(t,e){if(Wa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!cs(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Ot(e))}function Ei(t){var e=si(t),n=zn[e];if("function"!=typeof n||!(e in Wn.prototype))return!1;if(t===n)return!0;var r=ai(n);return!!r&&t===r[0]}(Sn&&vi(new Sn(new ArrayBuffer(1)))!=R||kn&&vi(new kn)!=k||On&&vi(On.resolve())!=j||Tn&&vi(new Tn)!=L||jn&&vi(new jn)!=P)&&(vi=function(t){var e=kr(t),n=e==T?t.constructor:o,r=n?Fi(n):"";if(r)switch(r){case In:return R;case Pn:return k;case Nn:return j;case Rn:return L;case Dn:return P}return e});var xi=Pt?$a:gc;function Si(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||It)}function ki(t){return t==t&&!ts(t)}function Oi(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==o||t in Ot(n)))}}function Ti(t,e,r){return e=Ke(e===o?t.length-1:e,0),function(){for(var o=arguments,i=-1,a=Ke(o.length-e,0),s=n(a);++i<a;)s[i]=o[e+i];i=-1;for(var c=n(e+1);++i<e;)c[i]=o[i];return c[e]=r(s),Te(t,this,c)}}function ji(t,e){return e.length<2?t:xr(t,ro(e,0,-1))}function Ci(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Li=Ni(to),Ai=le||function(t,e){return ve.setTimeout(t,e)},Ii=Ni(eo);function Pi(t,e,n){var r=e+"";return Ii(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ct,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ce(m,(function(n){var r="_."+n[0];e&n[1]&&!Pe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ut);return e?e[1].split(lt):[]}(r),n)))}function Ni(t){var e=0,n=0;return function(){var r=_n(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(o,arguments)}}function Ri(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=Kr(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var Di=function(t){var e=Na(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,o){e.push(r?o.replace(pt,"$1"):n||t)})),e}));function Mi(t){if("string"==typeof t||cs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Fi(t){if(null!=t){try{return Nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ui(t){if(t instanceof Wn)return t.clone();var e=new qn(t.__wrapped__,t.__chain__);return e.__actions__=Lo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var zi=Zr((function(t,e){return Ya(t)?fr(t,mr(e,1,Ya,!0)):[]})),Gi=Zr((function(t,e){var n=Zi(e);return Ya(n)&&(n=o),Ya(t)?fr(t,mr(e,1,Ya,!0),ui(n,2)):[]})),Bi=Zr((function(t,e){var n=Zi(e);return Ya(n)&&(n=o),Ya(t)?fr(t,mr(e,1,Ya,!0),o,n):[]}));function qi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:ds(n);return o<0&&(o=Ke(r+o,0)),Be(t,ui(e,3),o)}function Wi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=ds(n),i=n<0?Ke(r+i,0):bn(i,r-1)),Be(t,ui(e,3),i,!0)}function Vi(t){return(null==t?0:t.length)?mr(t,1):[]}function Hi(t){return t&&t.length?t[0]:o}var Yi=Zr((function(t){var e=Re(t,yo);return e.length&&e[0]===t[0]?Cr(e):[]})),Ki=Zr((function(t){var e=Zi(t),n=Re(t,yo);return e===Zi(n)?e=o:n.pop(),n.length&&n[0]===t[0]?Cr(n,ui(e,2)):[]})),Ji=Zr((function(t){var e=Zi(t),n=Re(t,yo);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?Cr(n,o,e):[]}));function Zi(t){var e=null==t?0:t.length;return e?t[e-1]:o}var $i=Zr(Xi);function Xi(t,e){return t&&t.length&&e&&e.length?Hr(t,e):t}var Qi=ri((function(t,e){var n=null==t?0:t.length,r=ar(t,e);return Yr(t,Re(e,(function(t){return bi(t,n)?+t:t})).sort(To)),r}));function ta(t){return null==t?t:xn.call(t)}var ea=Zr((function(t){return lo(mr(t,1,Ya,!0))})),na=Zr((function(t){var e=Zi(t);return Ya(e)&&(e=o),lo(mr(t,1,Ya,!0),ui(e,2))})),ra=Zr((function(t){var e=Zi(t);return e="function"==typeof e?e:o,lo(mr(t,1,Ya,!0),o,e)}));function oa(t){if(!t||!t.length)return[];var e=0;return t=Ie(t,(function(t){if(Ya(t))return e=Ke(t.length,e),!0})),$e(e,(function(e){return Re(t,Ye(e))}))}function ia(t,e){if(!t||!t.length)return[];var n=oa(t);return null==e?n:Re(n,(function(t){return Te(e,o,t)}))}var aa=Zr((function(t,e){return Ya(t)?fr(t,e):[]})),sa=Zr((function(t){return go(Ie(t,Ya))})),ca=Zr((function(t){var e=Zi(t);return Ya(e)&&(e=o),go(Ie(t,Ya),ui(e,2))})),ua=Zr((function(t){var e=Zi(t);return e="function"==typeof e?e:o,go(Ie(t,Ya),o,e)})),la=Zr(oa);var fa=Zr((function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,ia(t,n)}));function ha(t){var e=zn(t);return e.__chain__=!0,e}function pa(t,e){return e(t)}var da=ri((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return ar(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Wn&&bi(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:pa,args:[i],thisArg:o}),new qn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(i)}));var va=Io((function(t,e,n){Rt.call(t,n)?++t[n]:ir(t,n,1)}));var ga=Uo(qi),ma=Uo(Wi);function ya(t,e){return(Wa(t)?Ce:hr)(t,ui(e,3))}function ba(t,e){return(Wa(t)?Le:pr)(t,ui(e,3))}var _a=Io((function(t,e,n){Rt.call(t,n)?t[n].push(e):ir(t,n,[e])}));var wa=Zr((function(t,e,r){var o=-1,i="function"==typeof e,a=Ha(t)?n(t.length):[];return hr(t,(function(t){a[++o]=i?Te(e,t,r):Lr(t,e,r)})),a})),Ea=Io((function(t,e,n){ir(t,n,e)}));function xa(t,e){return(Wa(t)?Re:Ur)(t,ui(e,3))}var Sa=Io((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var ka=Zr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&_i(t,e[0],e[1])?e=[]:n>2&&_i(e[0],e[1],e[2])&&(e=[e[0]]),Wr(t,mr(e,1),[])})),Oa=oe||function(){return ve.Date.now()};function Ta(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Xo(t,f,o,o,o,o,e)}function ja(t,e){var n;if("function"!=typeof e)throw new Ct(i);return t=ds(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Ca=Zr((function(t,e,n){var r=1;if(n.length){var o=fn(n,ci(Ca));r|=u}return Xo(t,r,e,n,o)})),La=Zr((function(t,e,n){var r=3;if(n.length){var o=fn(n,ci(La));r|=u}return Xo(e,r,t,n,o)}));function Aa(t,e,n){var r,a,s,c,u,l,f=0,h=!1,p=!1,d=!0;if("function"!=typeof t)throw new Ct(i);function v(e){var n=r,i=a;return r=a=o,f=e,c=t.apply(i,n)}function g(t){var n=t-l;return l===o||n>=e||n<0||p&&t-f>=s}function m(){var t=Oa();if(g(t))return y(t);u=Ai(m,function(t){var n=e-(t-l);return p?bn(n,s-(t-f)):n}(t))}function y(t){return u=o,d&&r?v(t):(r=a=o,c)}function b(){var t=Oa(),n=g(t);if(r=arguments,a=this,l=t,n){if(u===o)return function(t){return f=t,u=Ai(m,e),h?v(t):c}(l);if(p)return xo(u),u=Ai(m,e),v(l)}return u===o&&(u=Ai(m,e)),c}return e=gs(e)||0,ts(n)&&(h=!!n.leading,s=(p="maxWait"in n)?Ke(gs(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){u!==o&&xo(u),f=0,r=l=a=u=o},b.flush=function(){return u===o?c:y(Oa())},b}var Ia=Zr((function(t,e){return lr(t,1,e)})),Pa=Zr((function(t,e,n){return lr(t,gs(e)||0,n)}));function Na(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ct(i);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Na.Cache||Yn),n}function Ra(t){if("function"!=typeof t)throw new Ct(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Na.Cache=Yn;var Da=wo((function(t,e){var n=(e=1==e.length&&Wa(e[0])?Re(e[0],Qe(ui())):Re(mr(e,1),Qe(ui()))).length;return Zr((function(r){for(var o=-1,i=bn(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return Te(t,this,r)}))})),Ma=Zr((function(t,e){var n=fn(e,ci(Ma));return Xo(t,u,o,e,n)})),Fa=Zr((function(t,e){var n=fn(e,ci(Fa));return Xo(t,l,o,e,n)})),Ua=ri((function(t,e){return Xo(t,h,o,o,o,e)}));function za(t,e){return t===e||t!=t&&e!=e}var Ga=Yo(Or),Ba=Yo((function(t,e){return t>=e})),qa=Ar(function(){return arguments}())?Ar:function(t){return es(t)&&Rt.call(t,"callee")&&!Kt.call(t,"callee")},Wa=n.isArray,Va=we?Qe(we):function(t){return es(t)&&kr(t)==N};function Ha(t){return null!=t&&Qa(t.length)&&!$a(t)}function Ya(t){return es(t)&&Ha(t)}var Ka=me||gc,Ja=Ee?Qe(Ee):function(t){return es(t)&&kr(t)==w};function Za(t){if(!es(t))return!1;var e=kr(t);return e==E||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!os(t)}function $a(t){if(!ts(t))return!1;var e=kr(t);return e==x||e==S||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xa(t){return"number"==typeof t&&t==ds(t)}function Qa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=d}function ts(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function es(t){return null!=t&&"object"==typeof t}var ns=xe?Qe(xe):function(t){return es(t)&&vi(t)==k};function rs(t){return"number"==typeof t||es(t)&&kr(t)==O}function os(t){if(!es(t)||kr(t)!=T)return!1;var e=Ht(t);if(null===e)return!0;var n=Rt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Nt.call(n)==Ut}var is=Se?Qe(Se):function(t){return es(t)&&kr(t)==C};var as=ke?Qe(ke):function(t){return es(t)&&vi(t)==L};function ss(t){return"string"==typeof t||!Wa(t)&&es(t)&&kr(t)==A}function cs(t){return"symbol"==typeof t||es(t)&&kr(t)==I}var us=Oe?Qe(Oe):function(t){return es(t)&&Qa(t.length)&&!!ce[kr(t)]};var ls=Yo(Fr),fs=Yo((function(t,e){return t<=e}));function hs(t){if(!t)return[];if(Ha(t))return ss(t)?vn(t):Lo(t);if($t&&t[$t])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[$t]());var e=vi(t);return(e==k?un:e==L?hn:zs)(t)}function ps(t){return t?(t=gs(t))===p||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ds(t){var e=ps(t),n=e%1;return e==e?n?e-n:e:0}function vs(t){return t?sr(ds(t),0,g):0}function gs(t){if("number"==typeof t)return t;if(cs(t))return v;if(ts(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ts(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Xe(t);var n=mt.test(t);return n||bt.test(t)?he(t.slice(2),n?2:8):gt.test(t)?v:+t}function ms(t){return Ao(t,Is(t))}function ys(t){return null==t?"":uo(t)}var bs=Po((function(t,e){if(Si(e)||Ha(e))Ao(e,As(e),t);else for(var n in e)Rt.call(e,n)&&er(t,n,e[n])})),_s=Po((function(t,e){Ao(e,Is(e),t)})),ws=Po((function(t,e,n,r){Ao(e,Is(e),t,r)})),Es=Po((function(t,e,n,r){Ao(e,As(e),t,r)})),xs=ri(ar);var Ss=Zr((function(t,e){t=Ot(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&_i(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=Is(a),c=-1,u=s.length;++c<u;){var l=s[c],f=t[l];(f===o||za(f,It[l])&&!Rt.call(t,l))&&(t[l]=a[l])}return t})),ks=Zr((function(t){return t.push(o,ti),Te(Ns,o,t)}));function Os(t,e,n){var r=null==t?o:xr(t,e);return r===o?n:r}function Ts(t,e){return null!=t&&gi(t,e,jr)}var js=Bo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),t[e]=n}),tc(rc)),Cs=Bo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),Rt.call(t,e)?t[e].push(n):t[e]=[n]}),ui),Ls=Zr(Lr);function As(t){return Ha(t)?Zn(t):Dr(t)}function Is(t){return Ha(t)?Zn(t,!0):Mr(t)}var Ps=Po((function(t,e,n){Br(t,e,n)})),Ns=Po((function(t,e,n,r){Br(t,e,n,r)})),Rs=ri((function(t,e){var n={};if(null==t)return n;var r=!1;e=Re(e,(function(e){return e=_o(e,t),r||(r=e.length>1),e})),Ao(t,ii(t),n),r&&(n=cr(n,7,ei));for(var o=e.length;o--;)fo(n,e[o]);return n}));var Ds=ri((function(t,e){return null==t?{}:function(t,e){return Vr(t,e,(function(e,n){return Ts(t,n)}))}(t,e)}));function Ms(t,e){if(null==t)return{};var n=Re(ii(t),(function(t){return[t]}));return e=ui(e),Vr(t,n,(function(t,n){return e(t,n[0])}))}var Fs=$o(As),Us=$o(Is);function zs(t){return null==t?[]:tn(t,As(t))}var Gs=Mo((function(t,e,n){return e=e.toLowerCase(),t+(n?Bs(e):e)}));function Bs(t){return Zs(ys(t).toLowerCase())}function qs(t){return(t=ys(t))&&t.replace(wt,on).replace(ee,"")}var Ws=Mo((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Vs=Mo((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Hs=Do("toLowerCase");var Ys=Mo((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ks=Mo((function(t,e,n){return t+(n?" ":"")+Zs(e)}));var Js=Mo((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Zs=Do("toUpperCase");function $s(t,e,n){return t=ys(t),(e=n?o:e)===o?function(t){return ie.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var Xs=Zr((function(t,e){try{return Te(t,o,e)}catch(t){return Za(t)?t:new st(t)}})),Qs=ri((function(t,e){return Ce(e,(function(e){e=Mi(e),ir(t,e,Ca(t[e],t))})),t}));function tc(t){return function(){return t}}var ec=zo(),nc=zo(!0);function rc(t){return t}function oc(t){return Rr("function"==typeof t?t:cr(t,1))}var ic=Zr((function(t,e){return function(n){return Lr(n,t,e)}})),ac=Zr((function(t,e){return function(n){return Lr(t,n,e)}}));function sc(t,e,n){var r=As(e),o=Er(e,r);null!=n||ts(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=Er(e,As(e)));var i=!(ts(n)&&"chain"in n&&!n.chain),a=$a(t);return Ce(o,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__);return(n.__actions__=Lo(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,De([this.value()],arguments))})})),t}function cc(){}var uc=Wo(Re),lc=Wo(Ae),fc=Wo(Ue);function hc(t){return wi(t)?Ye(Mi(t)):function(t){return function(e){return xr(e,t)}}(t)}var pc=Ho(),dc=Ho(!0);function vc(){return[]}function gc(){return!1}var mc=qo((function(t,e){return t+e}),0),yc=Jo("ceil"),bc=qo((function(t,e){return t/e}),1),_c=Jo("floor");var wc=qo((function(t,e){return t*e}),1),Ec=Jo("round"),xc=qo((function(t,e){return t-e}),0);return zn.after=function(t,e){if("function"!=typeof e)throw new Ct(i);return t=ds(t),function(){if(--t<1)return e.apply(this,arguments)}},zn.ary=Ta,zn.assign=bs,zn.assignIn=_s,zn.assignInWith=ws,zn.assignWith=Es,zn.at=xs,zn.before=ja,zn.bind=Ca,zn.bindAll=Qs,zn.bindKey=La,zn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Wa(t)?t:[t]},zn.chain=ha,zn.chunk=function(t,e,r){e=(r?_i(t,e,r):e===o)?1:Ke(ds(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,s=0,c=n(pe(i/e));a<i;)c[s++]=ro(t,a,a+=e);return c},zn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},zn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],o=t;o--;)e[o-1]=arguments[o];return De(Wa(r)?Lo(r):[r],mr(e,1))},zn.cond=function(t){var e=null==t?0:t.length,n=ui();return t=e?Re(t,(function(t){if("function"!=typeof t[1])throw new Ct(i);return[n(t[0]),t[1]]})):[],Zr((function(n){for(var r=-1;++r<e;){var o=t[r];if(Te(o[0],this,n))return Te(o[1],this,n)}}))},zn.conforms=function(t){return function(t){var e=As(t);return function(n){return ur(n,t,e)}}(cr(t,1))},zn.constant=tc,zn.countBy=va,zn.create=function(t,e){var n=Gn(t);return null==e?n:or(n,e)},zn.curry=function t(e,n,r){var i=Xo(e,8,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},zn.curryRight=function t(e,n,r){var i=Xo(e,c,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},zn.debounce=Aa,zn.defaults=Ss,zn.defaultsDeep=ks,zn.defer=Ia,zn.delay=Pa,zn.difference=zi,zn.differenceBy=Gi,zn.differenceWith=Bi,zn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ro(t,(e=n||e===o?1:ds(e))<0?0:e,r):[]},zn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ro(t,0,(e=r-(e=n||e===o?1:ds(e)))<0?0:e):[]},zn.dropRightWhile=function(t,e){return t&&t.length?po(t,ui(e,3),!0,!0):[]},zn.dropWhile=function(t,e){return t&&t.length?po(t,ui(e,3),!0):[]},zn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&_i(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ds(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:ds(r))<0&&(r+=i),r=n>r?0:vs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},zn.filter=function(t,e){return(Wa(t)?Ie:gr)(t,ui(e,3))},zn.flatMap=function(t,e){return mr(xa(t,e),1)},zn.flatMapDeep=function(t,e){return mr(xa(t,e),p)},zn.flatMapDepth=function(t,e,n){return n=n===o?1:ds(n),mr(xa(t,e),n)},zn.flatten=Vi,zn.flattenDeep=function(t){return(null==t?0:t.length)?mr(t,p):[]},zn.flattenDepth=function(t,e){return(null==t?0:t.length)?mr(t,e=e===o?1:ds(e)):[]},zn.flip=function(t){return Xo(t,512)},zn.flow=ec,zn.flowRight=nc,zn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},zn.functions=function(t){return null==t?[]:Er(t,As(t))},zn.functionsIn=function(t){return null==t?[]:Er(t,Is(t))},zn.groupBy=_a,zn.initial=function(t){return(null==t?0:t.length)?ro(t,0,-1):[]},zn.intersection=Yi,zn.intersectionBy=Ki,zn.intersectionWith=Ji,zn.invert=js,zn.invertBy=Cs,zn.invokeMap=wa,zn.iteratee=oc,zn.keyBy=Ea,zn.keys=As,zn.keysIn=Is,zn.map=xa,zn.mapKeys=function(t,e){var n={};return e=ui(e,3),_r(t,(function(t,r,o){ir(n,e(t,r,o),t)})),n},zn.mapValues=function(t,e){var n={};return e=ui(e,3),_r(t,(function(t,r,o){ir(n,r,e(t,r,o))})),n},zn.matches=function(t){return zr(cr(t,1))},zn.matchesProperty=function(t,e){return Gr(t,cr(e,1))},zn.memoize=Na,zn.merge=Ps,zn.mergeWith=Ns,zn.method=ic,zn.methodOf=ac,zn.mixin=sc,zn.negate=Ra,zn.nthArg=function(t){return t=ds(t),Zr((function(e){return qr(e,t)}))},zn.omit=Rs,zn.omitBy=function(t,e){return Ms(t,Ra(ui(e)))},zn.once=function(t){return ja(2,t)},zn.orderBy=function(t,e,n,r){return null==t?[]:(Wa(e)||(e=null==e?[]:[e]),Wa(n=r?o:n)||(n=null==n?[]:[n]),Wr(t,e,n))},zn.over=uc,zn.overArgs=Da,zn.overEvery=lc,zn.overSome=fc,zn.partial=Ma,zn.partialRight=Fa,zn.partition=Sa,zn.pick=Ds,zn.pickBy=Ms,zn.property=hc,zn.propertyOf=function(t){return function(e){return null==t?o:xr(t,e)}},zn.pull=$i,zn.pullAll=Xi,zn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Hr(t,e,ui(n,2)):t},zn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Hr(t,e,o,n):t},zn.pullAt=Qi,zn.range=pc,zn.rangeRight=dc,zn.rearg=Ua,zn.reject=function(t,e){return(Wa(t)?Ie:gr)(t,Ra(ui(e,3)))},zn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=ui(e,3);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return Yr(t,o),n},zn.rest=function(t,e){if("function"!=typeof t)throw new Ct(i);return Zr(t,e=e===o?e:ds(e))},zn.reverse=ta,zn.sampleSize=function(t,e,n){return e=(n?_i(t,e,n):e===o)?1:ds(e),(Wa(t)?Xn:Xr)(t,e)},zn.set=function(t,e,n){return null==t?t:Qr(t,e,n)},zn.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Qr(t,e,n,r)},zn.shuffle=function(t){return(Wa(t)?Qn:no)(t)},zn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&_i(t,e,n)?(e=0,n=r):(e=null==e?0:ds(e),n=n===o?r:ds(n)),ro(t,e,n)):[]},zn.sortBy=ka,zn.sortedUniq=function(t){return t&&t.length?so(t):[]},zn.sortedUniqBy=function(t,e){return t&&t.length?so(t,ui(e,2)):[]},zn.split=function(t,e,n){return n&&"number"!=typeof n&&_i(t,e,n)&&(e=n=o),(n=n===o?g:n>>>0)?(t=ys(t))&&("string"==typeof e||null!=e&&!is(e))&&!(e=uo(e))&&cn(t)?Eo(vn(t),0,n):t.split(e,n):[]},zn.spread=function(t,e){if("function"!=typeof t)throw new Ct(i);return e=null==e?0:Ke(ds(e),0),Zr((function(n){var r=n[e],o=Eo(n,0,e);return r&&De(o,r),Te(t,this,o)}))},zn.tail=function(t){var e=null==t?0:t.length;return e?ro(t,1,e):[]},zn.take=function(t,e,n){return t&&t.length?ro(t,0,(e=n||e===o?1:ds(e))<0?0:e):[]},zn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ro(t,(e=r-(e=n||e===o?1:ds(e)))<0?0:e,r):[]},zn.takeRightWhile=function(t,e){return t&&t.length?po(t,ui(e,3),!1,!0):[]},zn.takeWhile=function(t,e){return t&&t.length?po(t,ui(e,3)):[]},zn.tap=function(t,e){return e(t),t},zn.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new Ct(i);return ts(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Aa(t,e,{leading:r,maxWait:e,trailing:o})},zn.thru=pa,zn.toArray=hs,zn.toPairs=Fs,zn.toPairsIn=Us,zn.toPath=function(t){return Wa(t)?Re(t,Mi):cs(t)?[t]:Lo(Di(ys(t)))},zn.toPlainObject=ms,zn.transform=function(t,e,n){var r=Wa(t),o=r||Ka(t)||us(t);if(e=ui(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:ts(t)&&$a(i)?Gn(Ht(t)):{}}return(o?Ce:_r)(t,(function(t,r,o){return e(n,t,r,o)})),n},zn.unary=function(t){return Ta(t,1)},zn.union=ea,zn.unionBy=na,zn.unionWith=ra,zn.uniq=function(t){return t&&t.length?lo(t):[]},zn.uniqBy=function(t,e){return t&&t.length?lo(t,ui(e,2)):[]},zn.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?lo(t,o,e):[]},zn.unset=function(t,e){return null==t||fo(t,e)},zn.unzip=oa,zn.unzipWith=ia,zn.update=function(t,e,n){return null==t?t:ho(t,e,bo(n))},zn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:ho(t,e,bo(n),r)},zn.values=zs,zn.valuesIn=function(t){return null==t?[]:tn(t,Is(t))},zn.without=aa,zn.words=$s,zn.wrap=function(t,e){return Ma(bo(e),t)},zn.xor=sa,zn.xorBy=ca,zn.xorWith=ua,zn.zip=la,zn.zipObject=function(t,e){return mo(t||[],e||[],er)},zn.zipObjectDeep=function(t,e){return mo(t||[],e||[],Qr)},zn.zipWith=fa,zn.entries=Fs,zn.entriesIn=Us,zn.extend=_s,zn.extendWith=ws,sc(zn,zn),zn.add=mc,zn.attempt=Xs,zn.camelCase=Gs,zn.capitalize=Bs,zn.ceil=yc,zn.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=gs(n))==n?n:0),e!==o&&(e=(e=gs(e))==e?e:0),sr(gs(t),e,n)},zn.clone=function(t){return cr(t,4)},zn.cloneDeep=function(t){return cr(t,5)},zn.cloneDeepWith=function(t,e){return cr(t,5,e="function"==typeof e?e:o)},zn.cloneWith=function(t,e){return cr(t,4,e="function"==typeof e?e:o)},zn.conformsTo=function(t,e){return null==e||ur(t,e,As(e))},zn.deburr=qs,zn.defaultTo=function(t,e){return null==t||t!=t?e:t},zn.divide=bc,zn.endsWith=function(t,e,n){t=ys(t),e=uo(e);var r=t.length,i=n=n===o?r:sr(ds(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},zn.eq=za,zn.escape=function(t){return(t=ys(t))&&$.test(t)?t.replace(J,an):t},zn.escapeRegExp=function(t){return(t=ys(t))&&it.test(t)?t.replace(ot,"\\$&"):t},zn.every=function(t,e,n){var r=Wa(t)?Ae:dr;return n&&_i(t,e,n)&&(e=o),r(t,ui(e,3))},zn.find=ga,zn.findIndex=qi,zn.findKey=function(t,e){return Ge(t,ui(e,3),_r)},zn.findLast=ma,zn.findLastIndex=Wi,zn.findLastKey=function(t,e){return Ge(t,ui(e,3),wr)},zn.floor=_c,zn.forEach=ya,zn.forEachRight=ba,zn.forIn=function(t,e){return null==t?t:yr(t,ui(e,3),Is)},zn.forInRight=function(t,e){return null==t?t:br(t,ui(e,3),Is)},zn.forOwn=function(t,e){return t&&_r(t,ui(e,3))},zn.forOwnRight=function(t,e){return t&&wr(t,ui(e,3))},zn.get=Os,zn.gt=Ga,zn.gte=Ba,zn.has=function(t,e){return null!=t&&gi(t,e,Tr)},zn.hasIn=Ts,zn.head=Hi,zn.identity=rc,zn.includes=function(t,e,n,r){t=Ha(t)?t:zs(t),n=n&&!r?ds(n):0;var o=t.length;return n<0&&(n=Ke(o+n,0)),ss(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&qe(t,e,n)>-1},zn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:ds(n);return o<0&&(o=Ke(r+o,0)),qe(t,e,o)},zn.inRange=function(t,e,n){return e=ps(e),n===o?(n=e,e=0):n=ps(n),function(t,e,n){return t>=bn(e,n)&&t<Ke(e,n)}(t=gs(t),e,n)},zn.invoke=Ls,zn.isArguments=qa,zn.isArray=Wa,zn.isArrayBuffer=Va,zn.isArrayLike=Ha,zn.isArrayLikeObject=Ya,zn.isBoolean=function(t){return!0===t||!1===t||es(t)&&kr(t)==_},zn.isBuffer=Ka,zn.isDate=Ja,zn.isElement=function(t){return es(t)&&1===t.nodeType&&!os(t)},zn.isEmpty=function(t){if(null==t)return!0;if(Ha(t)&&(Wa(t)||"string"==typeof t||"function"==typeof t.splice||Ka(t)||us(t)||qa(t)))return!t.length;var e=vi(t);if(e==k||e==L)return!t.size;if(Si(t))return!Dr(t).length;for(var n in t)if(Rt.call(t,n))return!1;return!0},zn.isEqual=function(t,e){return Ir(t,e)},zn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?Ir(t,e,o,n):!!r},zn.isError=Za,zn.isFinite=function(t){return"number"==typeof t&&be(t)},zn.isFunction=$a,zn.isInteger=Xa,zn.isLength=Qa,zn.isMap=ns,zn.isMatch=function(t,e){return t===e||Pr(t,e,fi(e))},zn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,Pr(t,e,fi(e),n)},zn.isNaN=function(t){return rs(t)&&t!=+t},zn.isNative=function(t){if(xi(t))throw new st("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(t)},zn.isNil=function(t){return null==t},zn.isNull=function(t){return null===t},zn.isNumber=rs,zn.isObject=ts,zn.isObjectLike=es,zn.isPlainObject=os,zn.isRegExp=is,zn.isSafeInteger=function(t){return Xa(t)&&t>=-9007199254740991&&t<=d},zn.isSet=as,zn.isString=ss,zn.isSymbol=cs,zn.isTypedArray=us,zn.isUndefined=function(t){return t===o},zn.isWeakMap=function(t){return es(t)&&vi(t)==P},zn.isWeakSet=function(t){return es(t)&&"[object WeakSet]"==kr(t)},zn.join=function(t,e){return null==t?"":_e.call(t,e)},zn.kebabCase=Ws,zn.last=Zi,zn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=ds(n))<0?Ke(r+i,0):bn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Be(t,Ve,i,!0)},zn.lowerCase=Vs,zn.lowerFirst=Hs,zn.lt=ls,zn.lte=fs,zn.max=function(t){return t&&t.length?vr(t,rc,Or):o},zn.maxBy=function(t,e){return t&&t.length?vr(t,ui(e,2),Or):o},zn.mean=function(t){return He(t,rc)},zn.meanBy=function(t,e){return He(t,ui(e,2))},zn.min=function(t){return t&&t.length?vr(t,rc,Fr):o},zn.minBy=function(t,e){return t&&t.length?vr(t,ui(e,2),Fr):o},zn.stubArray=vc,zn.stubFalse=gc,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=wc,zn.nth=function(t,e){return t&&t.length?qr(t,ds(e)):o},zn.noConflict=function(){return ve._===this&&(ve._=zt),this},zn.noop=cc,zn.now=Oa,zn.pad=function(t,e,n){t=ys(t);var r=(e=ds(e))?dn(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return Vo(de(o),n)+t+Vo(pe(o),n)},zn.padEnd=function(t,e,n){t=ys(t);var r=(e=ds(e))?dn(t):0;return e&&r<e?t+Vo(e-r,n):t},zn.padStart=function(t,e,n){t=ys(t);var r=(e=ds(e))?dn(t):0;return e&&r<e?Vo(e-r,n)+t:t},zn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),wn(ys(t).replace(at,""),e||0)},zn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&_i(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=ps(t),e===o?(e=t,t=0):e=ps(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=En();return bn(t+i*(e-t+fe("1e-"+((i+"").length-1))),e)}return Kr(t,e)},zn.reduce=function(t,e,n){var r=Wa(t)?Me:Je,o=arguments.length<3;return r(t,ui(e,4),n,o,hr)},zn.reduceRight=function(t,e,n){var r=Wa(t)?Fe:Je,o=arguments.length<3;return r(t,ui(e,4),n,o,pr)},zn.repeat=function(t,e,n){return e=(n?_i(t,e,n):e===o)?1:ds(e),Jr(ys(t),e)},zn.replace=function(){var t=arguments,e=ys(t[0]);return t.length<3?e:e.replace(t[1],t[2])},zn.result=function(t,e,n){var r=-1,i=(e=_o(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[Mi(e[r])];a===o&&(r=i,a=n),t=$a(a)?a.call(t):a}return t},zn.round=Ec,zn.runInContext=t,zn.sample=function(t){return(Wa(t)?$n:$r)(t)},zn.size=function(t){if(null==t)return 0;if(Ha(t))return ss(t)?dn(t):t.length;var e=vi(t);return e==k||e==L?t.size:Dr(t).length},zn.snakeCase=Ys,zn.some=function(t,e,n){var r=Wa(t)?Ue:oo;return n&&_i(t,e,n)&&(e=o),r(t,ui(e,3))},zn.sortedIndex=function(t,e){return io(t,e)},zn.sortedIndexBy=function(t,e,n){return ao(t,e,ui(n,2))},zn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=io(t,e);if(r<n&&za(t[r],e))return r}return-1},zn.sortedLastIndex=function(t,e){return io(t,e,!0)},zn.sortedLastIndexBy=function(t,e,n){return ao(t,e,ui(n,2),!0)},zn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=io(t,e,!0)-1;if(za(t[n],e))return n}return-1},zn.startCase=Ks,zn.startsWith=function(t,e,n){return t=ys(t),n=null==n?0:sr(ds(n),0,t.length),e=uo(e),t.slice(n,n+e.length)==e},zn.subtract=xc,zn.sum=function(t){return t&&t.length?Ze(t,rc):0},zn.sumBy=function(t,e){return t&&t.length?Ze(t,ui(e,2)):0},zn.template=function(t,e,n){var r=zn.templateSettings;n&&_i(t,e,n)&&(e=o),t=ys(t),e=ws({},e,r,Qo);var i,a,s=ws({},e.imports,r.imports,Qo),c=As(s),u=tn(s,c),l=0,f=e.interpolate||Et,h="__p += '",p=Tt((e.escape||Et).source+"|"+f.source+"|"+(f===tt?dt:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),d="//# sourceURL="+(Rt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++se+"]")+"\n";t.replace(p,(function(e,n,r,o,s,c){return r||(r=o),h+=t.slice(l,c).replace(xt,sn),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e})),h+="';\n";var v=Rt.call(e,"variable")&&e.variable;if(v){if(ht.test(v))throw new st("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(V,""):h).replace(H,"$1").replace(Y,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Xs((function(){return St(c,d+"return "+h).apply(o,u)}));if(g.source=h,Za(g))throw g;return g},zn.times=function(t,e){if((t=ds(t))<1||t>d)return[];var n=g,r=bn(t,g);e=ui(e),t-=g;for(var o=$e(r,e);++n<t;)e(n);return o},zn.toFinite=ps,zn.toInteger=ds,zn.toLength=vs,zn.toLower=function(t){return ys(t).toLowerCase()},zn.toNumber=gs,zn.toSafeInteger=function(t){return t?sr(ds(t),-9007199254740991,d):0===t?t:0},zn.toString=ys,zn.toUpper=function(t){return ys(t).toUpperCase()},zn.trim=function(t,e,n){if((t=ys(t))&&(n||e===o))return Xe(t);if(!t||!(e=uo(e)))return t;var r=vn(t),i=vn(e);return Eo(r,nn(r,i),rn(r,i)+1).join("")},zn.trimEnd=function(t,e,n){if((t=ys(t))&&(n||e===o))return t.slice(0,gn(t)+1);if(!t||!(e=uo(e)))return t;var r=vn(t);return Eo(r,0,rn(r,vn(e))+1).join("")},zn.trimStart=function(t,e,n){if((t=ys(t))&&(n||e===o))return t.replace(at,"");if(!t||!(e=uo(e)))return t;var r=vn(t);return Eo(r,nn(r,vn(e))).join("")},zn.truncate=function(t,e){var n=30,r="...";if(ts(e)){var i="separator"in e?e.separator:i;n="length"in e?ds(e.length):n,r="omission"in e?uo(e.omission):r}var a=(t=ys(t)).length;if(cn(t)){var s=vn(t);a=s.length}if(n>=a)return t;var c=n-dn(r);if(c<1)return r;var u=s?Eo(s,0,c).join(""):t.slice(0,c);if(i===o)return u+r;if(s&&(c+=u.length-c),is(i)){if(t.slice(c).search(i)){var l,f=u;for(i.global||(i=Tt(i.source,ys(vt.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;u=u.slice(0,h===o?c:h)}}else if(t.indexOf(uo(i),c)!=c){var p=u.lastIndexOf(i);p>-1&&(u=u.slice(0,p))}return u+r},zn.unescape=function(t){return(t=ys(t))&&Z.test(t)?t.replace(K,mn):t},zn.uniqueId=function(t){var e=++Dt;return ys(t)+e},zn.upperCase=Js,zn.upperFirst=Zs,zn.each=ya,zn.eachRight=ba,zn.first=Hi,sc(zn,function(){var t={};return _r(zn,(function(e,n){Rt.call(zn.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),zn.VERSION="4.17.21",Ce(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){zn[t].placeholder=zn})),Ce(["drop","take"],(function(t,e){Wn.prototype[t]=function(n){n=n===o?1:Ke(ds(n),0);var r=this.__filtered__&&!e?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:t+(r.__dir__<0?"Right":"")}),r},Wn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ce(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Wn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ui(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Ce(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Wn.prototype[t]=function(){return this[n](1).value()[0]}})),Ce(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Wn.prototype[t]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(rc)},Wn.prototype.find=function(t){return this.filter(t).head()},Wn.prototype.findLast=function(t){return this.reverse().find(t)},Wn.prototype.invokeMap=Zr((function(t,e){return"function"==typeof t?new Wn(this):this.map((function(n){return Lr(n,t,e)}))})),Wn.prototype.reject=function(t){return this.filter(Ra(ui(t)))},Wn.prototype.slice=function(t,e){t=ds(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Wn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=ds(e))<0?n.dropRight(-e):n.take(e-t)),n)},Wn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Wn.prototype.toArray=function(){return this.take(g)},_r(Wn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=zn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(zn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,c=e instanceof Wn,u=s[0],l=c||Wa(e),f=function(t){var e=i.apply(zn,De([t],s));return r&&h?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var h=this.__chain__,p=!!this.__actions__.length,d=a&&!h,v=c&&!p;if(!a&&l){e=v?e:new Wn(this);var g=t.apply(e,s);return g.__actions__.push({func:pa,args:[f],thisArg:o}),new qn(g,h)}return d&&v?t.apply(this,s):(g=this.thru(f),d?r?g.value()[0]:g.value():g)})})),Ce(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Lt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);zn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Wa(o)?o:[],t)}return this[n]((function(n){return e.apply(Wa(n)?n:[],t)}))}})),_r(Wn.prototype,(function(t,e){var n=zn[e];if(n){var r=n.name+"";Rt.call(An,r)||(An[r]=[]),An[r].push({name:e,func:n})}})),An[Go(o,2).name]=[{name:"wrapper",func:o}],Wn.prototype.clone=function(){var t=new Wn(this.__wrapped__);return t.__actions__=Lo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Lo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Lo(this.__views__),t},Wn.prototype.reverse=function(){if(this.__filtered__){var t=new Wn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Wn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Wa(t),r=e<0,o=n?t.length:0,i=function(t,e,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=bn(e,t+a);break;case"takeRight":t=Ke(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=i.start,s=i.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,p=bn(c,this.__takeCount__);if(!n||!r&&o==c&&p==c)return vo(t,this.__actions__);var d=[];t:for(;c--&&h<p;){for(var v=-1,g=t[u+=e];++v<f;){var m=l[v],y=m.iteratee,b=m.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue t;break t}}d[h++]=g}return d},zn.prototype.at=da,zn.prototype.chain=function(){return ha(this)},zn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===o&&(this.__values__=hs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},zn.prototype.plant=function(t){for(var e,n=this;n instanceof Bn;){var r=Ui(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},zn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Wn){var e=t;return this.__actions__.length&&(e=new Wn(this)),(e=e.reverse()).__actions__.push({func:pa,args:[ta],thisArg:o}),new qn(e,this.__chain__)}return this.thru(ta)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return vo(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,$t&&(zn.prototype[$t]=function(){return this}),zn}();ve._=yn,(r=function(){return yn}.call(e,n,e,t))===o||(t.exports=r)}.call(this)},7771:(t,e,n)=>{var r=n(5639);t.exports=function(){return r.Date.now()}},3493:(t,e,n)=>{var r=n(3279),o=n(3218);t.exports=function(t,e,n){var i=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(t,e,{leading:i,maxWait:e,trailing:a})}},4841:(t,e,n)=>{var r=n(7561),o=n(3218),i=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||c.test(t)?u(t.slice(2),n?2:8):a.test(t)?NaN:+t}},8890:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={wrap:"wrap_Dcb27",resendBtn:"resendBtn_3aE1c",resendBtnIcon:"resendBtnIcon_VkZGj",readText:"readText_sN72e",unReadText:"unReadText_8HsuP",messageWrap:"messageWrap_AhM5j"}},7563:(t,e,n)=>{"use strict";const r=n(610),o=n(4020),i=n(500),a=n(2806);function s(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function u(t,e){return e.decode?o(t):t}function l(t){return Array.isArray(t)?t.sort():"object"==typeof t?l(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function f(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function h(t){const e=(t=f(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function d(t,e){s((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,r)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return(t,n,r)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"comma":case"separator":return(e,n,r)=>{const o="string"==typeof n&&n.includes(t.arrayFormatSeparator),i="string"==typeof n&&!o&&u(n,t).includes(t.arrayFormatSeparator);n=i?u(n,t):n;const a=o||i?n.split(t.arrayFormatSeparator).map((e=>u(e,t))):null===n?n:u(n,t);r[e]=a};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const o of t.split("&")){if(""===o)continue;let[t,a]=i(e.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:["comma","separator"].includes(e.arrayFormat)?a:u(a,e),n(u(t,e),a,r)}for(const t of Object.keys(r)){const n=r[t];if("object"==typeof n&&null!==n)for(const t of Object.keys(n))n[t]=p(n[t],e);else r[t]=p(n,e)}return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce(((t,e)=>{const n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=l(n):t[e]=n,t}),Object.create(null))}e.extract=h,e.parse=d,e.stringify=(t,e)=>{if(!t)return"";s((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const n=n=>e.skipNull&&null==t[n]||e.skipEmptyString&&""===t[n],r=function(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const o=n.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[c(e,t),"[",o,"]"].join("")]:[...n,[c(e,t),"[",c(o,t),"]=",c(r,t)].join("")]};case"bracket":return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[c(e,t),"[]"].join("")]:[...n,[c(e,t),"[]=",c(r,t)].join("")];case"comma":case"separator":return e=>(n,r)=>null==r||0===r.length?n:0===n.length?[[c(e,t),"=",c(r,t)].join("")]:[[n,c(r,t)].join(t.arrayFormatSeparator)];default:return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,c(e,t)]:[...n,[c(e,t),"=",c(r,t)].join("")]}}(e),o={};for(const e of Object.keys(t))n(e)||(o[e]=t[e]);const i=Object.keys(o);return!1!==e.sort&&i.sort(e.sort),i.map((n=>{const o=t[n];return void 0===o?"":null===o?c(n,e):Array.isArray(o)?o.reduce(r(n),[]).join("&"):c(n,e)+"="+c(o,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[n,r]=i(t,"#");return Object.assign({url:n.split("?")[0]||"",query:d(h(t),e)},e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,e)}:{})},e.stringifyUrl=(t,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=f(t.url).split("?")[0]||"",o=e.extract(t.url),i=e.parse(o,{sort:!1}),a=Object.assign(i,t.query);let s=e.stringify(a,n);s&&(s=`?${s}`);let u=function(t){let e="";const n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url);return t.fragmentIdentifier&&(u=`#${c(t.fragmentIdentifier,n)}`),`${r}${s}${u}`},e.pick=(t,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0},r);const{url:o,query:i,fragmentIdentifier:s}=e.parseUrl(t,r);return e.stringifyUrl({url:o,query:a(i,n),fragmentIdentifier:s},r)},e.exclude=(t,n,r)=>{const o=Array.isArray(n)?t=>!n.includes(t):(t,e)=>!n(t,e);return e.pick(t,o,r)}},7763:(t,e,n)=>{t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(2),i=(r=o)&&r.__esModule?r:{default:r};e.default=i.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function o(t){return t&&t.__esModule?t:{default:t}}e.default=u;var i=n(3),a=o(n(4)),s=n(14),c=o(n(15));function u(t){var e=t.activeClassName,n=void 0===e?"":e,o=t.activeIndex,a=void 0===o?-1:o,u=t.activeStyle,l=t.autoEscape,f=t.caseSensitive,h=void 0!==f&&f,p=t.className,d=t.findChunks,v=t.highlightClassName,g=void 0===v?"":v,m=t.highlightStyle,y=void 0===m?{}:m,b=t.highlightTag,_=void 0===b?"mark":b,w=t.sanitize,E=t.searchWords,x=t.textToHighlight,S=t.unhighlightClassName,k=void 0===S?"":S,O=t.unhighlightStyle,T=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightClassName","unhighlightStyle"]),j=(0,i.findAll)({autoEscape:l,caseSensitive:h,findChunks:d,sanitize:w,searchWords:E,textToHighlight:x}),C=_,L=-1,A="",I=void 0,P=(0,c.default)((function(t){var e={};for(var n in t)e[n.toLowerCase()]=t[n];return e}));return(0,s.createElement)("span",r({className:p},T,{children:j.map((function(t,e){var r=x.substr(t.start,t.end-t.start);if(t.highlight){L++;var o=void 0;o="object"==typeof g?h?g[r]:(g=P(g))[r.toLowerCase()]:g;var i=L===+a;A=o+" "+(i?n:""),I=!0===i&&null!=u?Object.assign({},y,u):y;var c={children:r,className:A,key:e,style:I};return"string"!=typeof C&&(c.highlightIndex=L),(0,s.createElement)(C,c)}return(0,s.createElement)("span",{children:r,className:k,key:e,style:O})}))}))}u.propTypes={activeClassName:a.default.string,activeIndex:a.default.number,activeStyle:a.default.object,autoEscape:a.default.bool,className:a.default.string,findChunks:a.default.func,highlightClassName:a.default.oneOfType([a.default.object,a.default.string]),highlightStyle:a.default.object,highlightTag:a.default.oneOfType([a.default.node,a.default.func,a.default.string]),sanitize:a.default.func,searchWords:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.instanceOf(RegExp)])).isRequired,textToHighlight:a.default.string.isRequired,unhighlightClassName:a.default.string,unhighlightStyle:a.default.object},t.exports=e.default},function(t,e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);Object.defineProperty(e,"combineChunks",{enumerable:!0,get:function(){return r.combineChunks}}),Object.defineProperty(e,"fillInChunks",{enumerable:!0,get:function(){return r.fillInChunks}}),Object.defineProperty(e,"findAll",{enumerable:!0,get:function(){return r.findAll}}),Object.defineProperty(e,"findChunks",{enumerable:!0,get:function(){return r.findChunks}})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.findAll=function(t){var e=t.autoEscape,i=t.caseSensitive,a=void 0!==i&&i,s=t.findChunks,c=void 0===s?r:s,u=t.sanitize,l=t.searchWords,f=t.textToHighlight;return o({chunksToHighlight:n({chunks:c({autoEscape:e,caseSensitive:a,sanitize:u,searchWords:l,textToHighlight:f})}),totalLength:f?f.length:0})};var n=e.combineChunks=function(t){var e=t.chunks;return e=e.sort((function(t,e){return t.start-e.start})).reduce((function(t,e){if(0===t.length)return[e];var n=t.pop();if(e.start<=n.end){var r=Math.max(n.end,e.end);t.push({start:n.start,end:r})}else t.push(n,e);return t}),[])},r=function(t){var e=t.autoEscape,n=t.caseSensitive,r=t.sanitize,o=void 0===r?i:r,a=t.searchWords,s=t.textToHighlight;return s=o(s),a.filter((function(t){return t})).reduce((function(t,r){r=o(r),e&&(r=r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"));for(var i=new RegExp(r,n?"g":"gi"),a=void 0;a=i.exec(s);){var c=a.index,u=i.lastIndex;u>c&&t.push({start:c,end:u}),a.index==i.lastIndex&&i.lastIndex++}return t}),[])};e.findChunks=r;var o=e.fillInChunks=function(t){var e=t.chunksToHighlight,n=t.totalLength,r=[],o=function(t,e,n){e-t>0&&r.push({start:t,end:e,highlight:n})};if(0===e.length)o(0,n,!1);else{var i=0;e.forEach((function(t){o(i,t.start,!1),o(t.start,t.end,!0),i=t.end})),o(i,n,!1)}return r};function i(t){return t}}])},function(t,e,n){(function(e){if("production"!==e.env.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=n(6)((function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r}),!0)}else t.exports=n(13)()}).call(e,n(5))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){(function(e){"use strict";var r=n(7),o=n(8),i=n(9),a=n(10),s=n(11),c=n(12);t.exports=function(t,n){var u="function"==typeof Symbol&&Symbol.iterator,l="@@iterator";var f="<<anonymous>>",h={array:g("array"),bool:g("boolean"),func:g("function"),number:g("number"),object:g("object"),string:g("string"),symbol:g("symbol"),any:v(r.thatReturnsNull),arrayOf:function(t){return v((function(e,n,r,o,i){if("function"!=typeof t)return new d("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=e[n];if(!Array.isArray(a))return new d("Invalid "+o+" `"+i+"` of type `"+y(a)+"` supplied to `"+r+"`, expected an array.");for(var c=0;c<a.length;c++){var u=t(a,c,r,o,i+"["+c+"]",s);if(u instanceof Error)return u}return null}))},element:v((function(e,n,r,o,i){var a=e[n];return t(a)?null:new d("Invalid "+o+" `"+i+"` of type `"+y(a)+"` supplied to `"+r+"`, expected a single ReactElement.")})),instanceOf:function(t){return v((function(e,n,r,o,i){if(!(e[n]instanceof t)){var a=t.name||f;return new d("Invalid "+o+" `"+i+"` of type `"+(((s=e[n]).constructor&&s.constructor.name?s.constructor.name:f)+"` supplied to `")+r+"`, expected instance of `"+a+"`.")}var s;return null}))},node:v((function(t,e,n,r,o){return m(t[e])?null:new d("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(t){return v((function(e,n,r,o,i){if("function"!=typeof t)return new d("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=e[n],c=y(a);if("object"!==c)return new d("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var u in a)if(a.hasOwnProperty(u)){var l=t(a,u,r,o,i+"."+u,s);if(l instanceof Error)return l}return null}))},oneOf:function(t){if(!Array.isArray(t))return"production"!==e.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull;return v((function(e,n,r,o,i){for(var a=e[n],s=0;s<t.length;s++)if(p(a,t[s]))return null;return new d("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(t)+".")}))},oneOfType:function(t){if(!Array.isArray(t))return"production"!==e.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull;for(var n=0;n<t.length;n++){var o=t[n];if("function"!=typeof o)return i(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",_(o),n),r.thatReturnsNull}return v((function(e,n,r,o,i){for(var a=0;a<t.length;a++)if(null==(0,t[a])(e,n,r,o,i,s))return null;return new d("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}))},shape:function(t){return v((function(e,n,r,o,i){var a=e[n],c=y(a);if("object"!==c)return new d("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");for(var u in t){var l=t[u];if(l){var f=l(a,u,r,o,i+"."+u,s);if(f)return f}}return null}))},exact:function(t){return v((function(e,n,r,o,i){var c=e[n],u=y(c);if("object"!==u)return new d("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var l=a({},e[n],t);for(var f in l){var h=t[f];if(!h)return new d("Invalid "+o+" `"+i+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var p=h(c,f,r,o,i+"."+f,s);if(p)return p}return null}))}};function p(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function d(t){this.message=t,this.stack=""}function v(t){if("production"!==e.env.NODE_ENV)var r={},a=0;function c(c,u,l,h,p,v,g){if(h=h||f,v=v||l,g!==s)if(n)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==e.env.NODE_ENV&&"undefined"!=typeof console){var m=h+":"+l;!r[m]&&a<3&&(i(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",v,h),r[m]=!0,a++)}return null==u[l]?c?null===u[l]?new d("The "+p+" `"+v+"` is marked as required in `"+h+"`, but its value is `null`."):new d("The "+p+" `"+v+"` is marked as required in `"+h+"`, but its value is `undefined`."):null:t(u,l,h,p,v)}var u=c.bind(null,!1);return u.isRequired=c.bind(null,!0),u}function g(t){return v((function(e,n,r,o,i,a){var s=e[n];return y(s)!==t?new d("Invalid "+o+" `"+i+"` of type `"+b(s)+"` supplied to `"+r+"`, expected `"+t+"`."):null}))}function m(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(m);if(null===e||t(e))return!0;var n=function(t){var e=t&&(u&&t[u]||t[l]);if("function"==typeof e)return e}(e);if(!n)return!1;var r,o=n.call(e);if(n!==e.entries){for(;!(r=o.next()).done;)if(!m(r.value))return!1}else for(;!(r=o.next()).done;){var i=r.value;if(i&&!m(i[1]))return!1}return!0;default:return!1}}function y(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol}(e,t)?"symbol":e}function b(t){if(null==t)return""+t;var e=y(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function _(t){var e=b(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return d.prototype=Error.prototype,h.checkPropTypes=c,h.PropTypes=h,h}}).call(e,n(5))},function(t,e){"use strict";function n(t){return function(){return t}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){(function(e){"use strict";var n=function(t){};"production"!==e.env.NODE_ENV&&(n=function(t){if(void 0===t)throw new Error("invariant requires an error message argument")}),t.exports=function(t,e,r,o,i,a,s,c){if(n(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,i,a,s,c],f=0;(u=new Error(e.replace(/%s/g,(function(){return l[f++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}}).call(e,n(5))},function(t,e,n){(function(e){"use strict";var r=n(7);if("production"!==e.env.NODE_ENV){var o=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+t.replace(/%s/g,(function(){return n[o++]}));"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(t){}};r=function(t,e){if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==e.indexOf("Failed Composite propType: ")&&!t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];o.apply(void 0,[e].concat(r))}}}t.exports=r}).call(e,n(5))},function(t,e){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,a,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var u in i=Object(arguments[c]))r.call(i,u)&&(s[u]=i[u]);if(n){a=n(i);for(var l=0;l<a.length;l++)o.call(i,a[l])&&(s[a[l]]=i[a[l]])}}return s}},function(t,e){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){(function(e){"use strict";if("production"!==e.env.NODE_ENV)var r=n(8),o=n(9),i=n(11),a={};t.exports=function(t,n,s,c,u){if("production"!==e.env.NODE_ENV)for(var l in t)if(t.hasOwnProperty(l)){var f;try{r("function"==typeof t[l],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",c||"React class",s,l,typeof t[l]),f=t[l](n,l,c,s,null,i)}catch(t){f=t}if(o(!f||f instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",c||"React class",s,l,typeof f),f instanceof Error&&!(f.message in a)){a[f.message]=!0;var h=u?u():"";o(!1,"Failed %s type: %s%s",s,f.message,null!=h?h:"")}}}}).call(e,n(5))},function(t,e,n){"use strict";var r=n(7),o=n(8),i=n(11);t.exports=function(){function t(t,e,n,r,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e){t.exports=n(1024)},function(t,e){"use strict";var n=function(t,e){return t===e};t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=void 0,o=[],i=void 0,a=!1,s=function(t,n){return e(t,o[n])};return function(){for(var e=arguments.length,n=Array(e),c=0;c<e;c++)n[c]=arguments[c];return a&&r===this&&n.length===o.length&&n.every(s)?i:(a=!0,r=this,o=n,i=t.apply(this,n))}}}])},1568:()=>{!function(){"use strict";Recorder.prototype.enc_wav={stable:!0,fast:!0,testmsg:"支持位数8位、16位（填在比特率里面），采样率取值无限制；此编码器仅在pcm数据前加了一个44字节的wav头，编码出来的16位wav文件去掉开头的44字节即可得到pcm（注：其他wav编码器可能不是44字节）"},Recorder.prototype.wav=function(t,e,n){var r=this.set,o=t.length,i=r.sampleRate,a=8==r.bitRate?8:16,s=o*(a/8),c=new ArrayBuffer(44+s),u=new DataView(c),l=0,f=function(t){for(var e=0;e<t.length;e++,l++)u.setUint8(l,t.charCodeAt(e))},h=function(t){u.setUint16(l,t,!0),l+=2},p=function(t){u.setUint32(l,t,!0),l+=4};if(f("RIFF"),p(36+s),f("WAVE"),f("fmt "),p(16),h(1),h(1),p(i),p(i*(a/8)),h(a/8),h(a),f("data"),p(s),8==a)for(var d=0;d<o;d++,l++){var v=128+(t[d]>>8);u.setInt8(l,v,!0)}else for(d=0;d<o;d++,l+=2)u.setInt16(l,t[d],!0);e(new Blob([u.buffer],{type:"audio/wav"}))}}()},185:()=>{!function(){"use strict";var t=function(t){return new n(t)},e="FrequencyHistogramView",n=function(t){var n=this,r={scale:2,fps:20,lineCount:30,widthRatio:.6,spaceWidth:0,minHeight:0,position:-1,mirrorEnable:!1,stripeEnable:!0,stripeHeight:3,stripeMargin:6,fallDuration:1e3,stripeFallDuration:3500,linear:[0,"rgba(0,187,17,1)",.5,"rgba(255,215,0,1)",1,"rgba(255,102,0,1)"],stripeLinear:null,shadowBlur:0,shadowColor:"#bbb",stripeShadowBlur:-1,stripeShadowColor:"",onDraw:function(t,e){}};for(var o in t)r[o]=t[o];n.set=t=r;var i=t.elem;i&&("string"==typeof i?i=document.querySelector(i):i.length&&(i=i[0])),i&&(t.width=i.offsetWidth,t.height=i.offsetHeight);var a=t.scale,s=t.width*a,c=t.height*a;if(!s||!c)throw new Error(e+"无宽高");var u=n.elem=document.createElement("div"),l=["","transform-origin:0 0;","transform:scale("+1/a+");"];u.innerHTML='<div style="width:'+t.width+"px;height:"+t.height+'px;overflow:hidden"><div style="width:'+s+"px;height:"+c+"px;"+l.join("-webkit-")+l.join("-ms-")+l.join("-moz-")+l.join("")+'"><canvas/></div></div>';var f=n.canvas=u.querySelector("canvas");n.ctx=f.getContext("2d");if(f.width=s,f.height=c,i&&(i.innerHTML="",i.appendChild(u)),!Recorder.LibFFT)throw new Error("需要lib.fft.js支持");n.fft=Recorder.LibFFT(1024),n.lastH=[],n.stripesH=[]};n.prototype=t.prototype={genLinear:function(t,e,n,r){for(var o=t.createLinearGradient(0,n,0,r),i=0;i<e.length;)o.addColorStop(e[i++],e[i++]);return o},input:function(t,e,n){var r=this;r.sampleRate=n,r.pcmData=t,r.pcmPos=0,r.inputTime=Date.now(),r.schedule()},schedule:function(){var t=this,e=t.set,n=Math.floor(1e3/e.fps);t.timer||(t.timer=setInterval((function(){t.schedule()}),n));var r=Date.now(),o=t.drawTime||0;if(r-t.inputTime>1.3*e.stripeFallDuration)return clearInterval(t.timer),void(t.timer=0);if(!(r-o<n)){t.drawTime=r;for(var i=t.fft.bufferSize,a=t.pcmData,s=t.pcmPos,c=new Int16Array(i),u=0;u<i&&s<a.length;u++,s++)c[u]=a[s];t.pcmPos=s;var l=t.fft.transform(c);t.draw(l,t.sampleRate)}},draw:function(t,e){var n=this,r=n.set,o=n.ctx,i=r.scale,a=r.width*i,s=r.height*i,c=r.lineCount,u=n.fft.bufferSize,l=r.position,f=Math.abs(r.position),h=1==l?0:s,p=s;f<1&&(h=p/=2,p=Math.floor(p*(1+f)),h=Math.floor(l>0?h*(1-f):h*(1+f)));for(var d=n.lastH,v=n.stripesH,g=Math.ceil(p/(r.fallDuration/(1e3/r.fps))),m=Math.ceil(p/(r.stripeFallDuration/(1e3/r.fps))),y=r.stripeMargin*i,b=1<<(Math.round(Math.log(u)/Math.log(2)+3)<<1),_=Math.log(b)/Math.log(10),w=20*Math.log(32767)/Math.log(10),E=u/2,x=Math.min(E,Math.floor(5e3*E/(e/2))),S=x==E,k=S?c:Math.round(.8*c),O=x/k,T=S?0:(E-x)/(c-k),j=0,C=0;C<c;C++){var L=Math.ceil(j);j+=C<k?O:T;for(var A=Math.min(Math.ceil(j),E),I=0,P=L;P<A;P++)I=Math.max(I,Math.abs(t[P]));var N=I>b?Math.floor(17*(Math.log(I)/Math.log(10)-_)):0,R=p*Math.min(N/w,1);d[C]=(d[C]||0)-g,R<d[C]&&(R=d[C]),R<0&&(R=0),d[C]=R;var D=v[C]||0;if(R&&R+y>D)v[C]=R+y;else{var M=D-m;M<0&&(M=0),v[C]=M}}o.clearRect(0,0,a,s);var F=n.genLinear(o,r.linear,h,h-p),U=r.stripeLinear&&n.genLinear(o,r.stripeLinear,h,h-p)||F,z=n.genLinear(o,r.linear,h,h+p),G=r.stripeLinear&&n.genLinear(o,r.stripeLinear,h,h+p)||z;o.shadowBlur=r.shadowBlur*i,o.shadowColor=r.shadowColor;var B=r.mirrorEnable,q=B?2*c-1:c,W=r.widthRatio,V=r.spaceWidth*i;0!=V&&(W=(a-V*(q+1))/a);for(var H=Math.max(1*i,Math.floor(a*W/q)),Y=(a-q*H)/(q+1),K=r.minHeight*i,J=B?a/2-(Y+H/2):0,Z=(C=0,J);C<c;C++)Z+=Y,X=Math.floor(Z),R=Math.max(d[C],K),0!=h&&(Q=h-R,o.fillStyle=F,o.fillRect(X,Q,H,R)),h!=s&&(o.fillStyle=z,o.fillRect(X,h,H,R)),Z+=H;if(r.stripeEnable){var $=r.stripeShadowBlur;o.shadowBlur=(-1==$?r.shadowBlur:$)*i,o.shadowColor=r.stripeShadowColor||r.shadowColor;var X,Q,tt=r.stripeHeight*i;for(C=0,Z=J;C<c;C++)Z+=Y,X=Math.floor(Z),R=v[C],0!=h&&((Q=h-R-tt)<0&&(Q=0),o.fillStyle=U,o.fillRect(X,Q,H,tt)),h!=s&&((Q=h+R)+tt>s&&(Q=s-tt),o.fillStyle=G,o.fillRect(X,Q,H,tt)),Z+=H}if(B){var et=Math.floor(a/2);o.save(),o.scale(-1,1),o.drawImage(n.canvas,Math.ceil(a/2),0,et,s,-et,0,et,s),o.restore()}r.onDraw(t,e)}},Recorder[e]=t}()},4545:()=>{Recorder.LibFFT=function(t){"use strict";var e,n,r,o,i,a,s,c;return function(t){var u,l,f,h;for(e=Math.round(Math.log(t)/Math.log(2)),r=((n=1<<e)<<2)*Math.sqrt(2),o=[],i=[],a=[0],s=[0],c=[],u=0;u<n;u++){for(f=u,l=0,h=0;l!=e;l++)h<<=1,h|=1&f,f>>>=1;c[u]=h}var p,d=2*Math.PI/n;for(u=(n>>1)-1;u>0;u--)p=u*d,s[u]=Math.cos(p),a[u]=Math.sin(p)}(t),{transform:function(t){var u,l,f,h,p,d,v,g,m=1,y=e-1;for(u=0;u!=n;u++)o[u]=t[c[u]],i[u]=0;for(u=e;0!=u;u--){for(l=0;l!=m;l++)for(p=s[l<<y],d=a[l<<y],f=l;f<n;f+=m<<1)v=p*o[h=f+m]-d*i[h],g=p*i[h]+d*o[h],o[h]=o[f]-v,i[h]=i[f]-g,o[f]+=v,i[f]+=g;m<<=1,y--}l=n>>1;var b=new Float64Array(l);for(d=r,p=-r,u=l;0!=u;u--)v=o[u],g=i[u],b[u-1]=v>p&&v<d&&g>p&&g<d?0:Math.round(v*v+g*g);return b},bufferSize:n}}},7538:()=>{var t,e,n;t=function(t){return new n(t)},e="WaveView",(n=function(t){var n=this,r={scale:2,speed:9,phase:21.8,fps:20,keep:!0,lineWidth:3,linear1:[0,"rgba(150,96,238,1)",.2,"rgba(170,79,249,1)",1,"rgba(53,199,253,1)"],linear2:[0,"rgba(209,130,255,0.6)",1,"rgba(53,199,255,0.6)"],linearBg:[0,"rgba(255,255,255,0.2)",1,"rgba(54,197,252,0.2)"]};for(var o in t)r[o]=t[o];n.set=t=r;var i=t.elem;i&&("string"==typeof i?i=document.querySelector(i):i.length&&(i=i[0])),i&&(t.width=i.offsetWidth,t.height=i.offsetHeight);var a=t.scale,s=t.width*a,c=t.height*a;if(!s||!c)throw new Error(e+"无宽高");var u=n.elem=document.createElement("div"),l=["","transform-origin:0 0;","transform:scale("+1/a+");"];u.innerHTML='<div style="width:'+t.width+"px;height:"+t.height+'px;overflow:hidden"><div style="width:'+s+"px;height:"+c+"px;"+l.join("-webkit-")+l.join("-ms-")+l.join("-moz-")+l.join("")+'"><canvas/></div></div>';var f=n.canvas=u.querySelector("canvas"),h=n.ctx=f.getContext("2d");f.width=s,f.height=c,n.linear1=n.genLinear(h,s,t.linear1),n.linear2=n.genLinear(h,s,t.linear2),n.linearBg=n.genLinear(h,c,t.linearBg,!0),i&&(i.innerHTML="",i.appendChild(u)),n._phase=0}).prototype=t.prototype={genLinear:function(t,e,n,r){for(var o=t.createLinearGradient(0,0,r?0:e,r?e:0),i=0;i<n.length;)o.addColorStop(n[i++],n[i++]);return o},genPath:function(t,e,n){for(var r=[],o=this.set,i=o.scale,a=o.width*i,s=o.height*i/2,c=0;c<a;c+=i){var u=(1+Math.cos(Math.PI+c/a*2*Math.PI))/2*s*e*Math.sin(2*Math.PI*(c/a)*t+n)+s;r.push(u)}return r},input:function(t,e,n){var r=this;r.sampleRate=n,r.pcmData=t,r.pcmPos=0,r.inputTime=Date.now(),r.schedule()},schedule:function(){var t=this,e=t.set,n=Math.floor(1e3/e.fps);t.timer||(t.timer=setInterval((function(){t.schedule()}),n));var r=Date.now();if(!(r-(t.drawTime||0)<n)){t.drawTime=r;for(var o=t.sampleRate/e.fps,i=t.pcmData,a=t.pcmPos,s=Math.max(0,Math.min(o,i.length-a)),c=0,u=0;u<s;u++,a++)c+=Math.abs(i[a]);t.pcmPos=a,!s&&e.keep||t.draw(Recorder.PowerLevel(c,s)),!s&&r-t.inputTime>1300&&(clearInterval(t.timer),t.timer=0)}},draw:function(t){var e=this,n=e.set,r=e.ctx,o=n.scale,i=n.width*o,a=n.height*o,s=n.speed/n.fps,c=e._phase-=s,u=c+s*n.phase,l=t/100,f=e.genPath(2,l,c),h=e.genPath(1.8,l,u);r.clearRect(0,0,i,a),r.beginPath();for(var p=0,d=0;d<i;p++,d+=o)0==d?r.moveTo(d,f[p]):r.lineTo(d,f[p]);for(p--,d=i-1;d>=0;p--,d-=o)r.lineTo(d,h[p]);r.closePath(),r.fillStyle=e.linearBg,r.fill(),e.drawPath(h,e.linear2),e.drawPath(f,e.linear1)},drawPath:function(t,e){var n=this.set,r=this.ctx,o=n.scale,i=n.width*o;r.beginPath();for(var a=0,s=0;s<i;a++,s+=o)0==s?r.moveTo(s,t[a]):r.lineTo(s,t[a]);r.lineWidth=n.lineWidth*o,r.strokeStyle=e,r.stroke()}},Recorder[e]=t},7584:(t,e,n)=>{var r;!function(t){"use strict";var e=function(){},n=function(t){return new w(t)};n.LM="2023-07-01 20:46";var r="Recorder",o="getUserMedia",i="srcSampleRate",a="sampleRate",s="catch";n.IsOpen=function(){var t=n.Stream;if(t){var e=(t.getTracks&&t.getTracks()||t.audioTracks||[])[0];if(e){var r=e.readyState;return"live"==r||r==e.LIVE}}return!1},n.BufferSize=4096,n.Destroy=function(){for(var t in y(r+" Destroy"),g(),c)c[t]()};var c={};n.BindDestroy=function(t,e){c[t]=e},n.Support=function(){var t=navigator.mediaDevices||{};return t[o]||(t=navigator)[o]||(t[o]=t.webkitGetUserMedia||t.mozGetUserMedia||t.msGetUserMedia),!!t[o]&&(n.Scope=t,!!n.GetContext())},n.GetContext=function(e){var r=t.AudioContext;if(r||(r=t.webkitAudioContext),!r)return null;var o=n.Ctx;if(o&&"closed"!=o.state||(o=n.Ctx=new r,n.NewCtxs=n.NewCtxs||[],n.BindDestroy("Ctx",(function(){var t=n.Ctx;t&&t.close&&(t.close(),n.Ctx=0);var e=n.NewCtxs;n.NewCtxs=[];for(var r=0;r<e.length;r++)e[r].close()}))),e&&o.close)try{o=new r,n.NewCtxs.push(o)}catch(t){y("GetContext tryNew异常",1,t)}return o},n.CloseNewCtx=function(t){if(t&&t!=n.Ctx){t.close&&t.close();for(var e=n.NewCtxs||[],r=e.length,o=0;o<e.length;o++)if(e[o]==t){e.splice(o,1);break}y("剩"+r+"-1="+e.length+"个GetContext未close",e.length?3:0)}};var u=function(t){var e=t.state,n="ctx.state="+e;return"suspended"==e&&(n+="（注意：ctx不是running状态，rec.open和start至少要有一个在用户操作(触摸、点击等)时进行调用，否则将在rec.start时尝试进行ctx.resume，可能会产生兼容性问题(仅iOS)，请参阅文档中runningContext配置）"),n},l="ConnectEnableWebM";n[l]=!0;var f="ConnectEnableWorklet";n[f]=!1;var h=function(e,o){var i=e.BufferSize||n.BufferSize,c=e.Stream,u=c._RC||c._c||n.GetContext(!0);c._c=u;var h,p,g,m=function(t){var e=c._m=u.createMediaStreamSource(c),n=u.destination,r="createMediaStreamDestination";u[r]&&(n=c._d=u[r]()),e.connect(t),t.connect(n)},b="",_=c._call,w=function(t){for(var e in _){for(var n=t.length,r=new Int16Array(n),o=0,i=0;i<n;i++){var a=Math.max(-1,Math.min(1,t[i]));a=a<0?32768*a:32767*a,r[i]=a,o+=Math.abs(a)}for(var s in _)_[s](r,o);return}},x="ScriptProcessor",S="audioWorklet",k=r+" "+S,O="RecProc",T="MediaRecorder",j=T+".WebM.PCM",C=u.createScriptProcessor||u.createJavaScriptNode,L="。由于"+S+"内部1秒375次回调，在移动端可能会有性能问题导致回调丢失录音变短，PC端无影响，暂不建议开启"+S+"。",A=function(){p=c.isWorklet=!1,d(c),y("Connect采用老的"+x+"，"+(n[f]?"但已":"可")+"设置"+r+"."+f+"=true尝试启用"+S+b+L,3);var t=c._p=C.call(u,i,1,1);m(t),t.onaudioprocess=function(t){var e=t.inputBuffer.getChannelData(0);w(e)}},I=function(){h=c.isWebM=!1,v(c),p=c.isWorklet=!C||n[f];var e=t.AudioWorkletNode;if(p&&u[S]&&e){var o=function(){var t=function(t){return t.toString().replace(/^function|DEL_/g,"").replace(/\$RA/g,k)},e="class "+O+" extends AudioWorkletProcessor{";return e+="constructor "+t((function(t){DEL_super(t);var e=this,n=t.processorOptions.bufferSize;e.bufferSize=n,e.buffer=new Float32Array(2*n),e.pos=0,e.port.onmessage=function(t){t.data.kill&&(e.kill=!0,$C.log("$RA kill call"))},$C.log("$RA .ctor call",t)})),e+="process "+t((function(t,e,n){var r=this,o=r.bufferSize,i=r.buffer,a=r.pos;if((t=(t[0]||[])[0]||[]).length){i.set(t,a);var s=~~((a+=t.length)/o)*o;if(s){this.port.postMessage({val:i.slice(0,s)});var c=i.subarray(s,a);(i=new Float32Array(2*o)).set(c),a=c.length,r.buffer=i}r.pos=a}return!r.kill})),e=(e+='}try{registerProcessor("'+O+'", '+O+')}catch(e){$C.error("'+k+'注册失败",e)}').replace(/\$C\./g,"console."),"data:text/javascript;base64,"+btoa(unescape(encodeURIComponent(e)))},a=function(){return p&&c._na},l=c._na=function(){""!==g&&(clearTimeout(g),g=setTimeout((function(){g=0,a()&&(y(S+"未返回任何音频，恢复使用"+x,3),C&&A())}),500))},d=function(){if(a()){var t=c._n=new e(u,O,{processorOptions:{bufferSize:i}});m(t),t.port.onmessage=function(t){g&&(clearTimeout(g),g=""),a()?w(t.data.val):p||y(S+"多余回调",3)},y("Connect采用"+S+"，设置"+r+"."+f+"=false可恢复老式"+x+b+L,3)}};u.resume()[_&&"finally"]((function(){if(a())if(u[O])d();else{var t=o();u[S].addModule(t).then((function(t){a()&&(u[O]=1,d(),g&&l())}))[s]((function(t){y(S+".addModule失败",1,t),a()&&A()}))}}))}else A()};!function(){var e=t[T],s="ondataavailable",f="audio/webm; codecs=pcm";h=c.isWebM=n[l];var p=e&&s in e.prototype&&e.isTypeSupported(f);if(b=p?"":"（此浏览器不支持"+j+"）",o&&h&&p){var d=function(){return h&&c._ra},v=(c._ra=function(){""!==g&&(clearTimeout(g),g=setTimeout((function(){d()&&(y(T+"未返回任何音频，降级使用"+S,3),I())}),500))},Object.assign({mimeType:f},n.ConnectWebMOptions)),m=c._r=new e(c,v),_=c._rd={sampleRate:u[a]};m[s]=function(t){var e=new FileReader;e.onloadend=function(){if(d()){var t=E(new Uint8Array(e.result),_);if(!t)return;if(-1==t)return void I();g&&(clearTimeout(g),g=""),w(t)}else h||y(T+"多余回调",3)},e.readAsArrayBuffer(t.data)},m.start(~~(i/48)),y("Connect采用"+j+"，设置"+r+"."+l+"=false可恢复使用"+S+"或老式"+x)}else I()}()},p=function(t){t._na&&t._na(),t._ra&&t._ra()},d=function(t){t._na=null,t._n&&(t._n.port.postMessage({kill:!0}),t._n.disconnect(),t._n=null)},v=function(t){t._ra=null,t._r&&(t._r.stop(),t._r=null)},g=function(t){var e=(t=t||n)==n,r=t.Stream;r&&(r._m&&(r._m.disconnect(),r._m=null),!r._RC&&r._c&&n.CloseNewCtx(r._c),r._RC=null,r._c=null,r._d&&(m(r._d.stream),r._d=null),r._p&&(r._p.disconnect(),r._p.onaudioprocess=r._p=null),d(r),v(r),e&&m(r)),t.Stream=0},m=n.StopS_=function(t){for(var e=t.getTracks&&t.getTracks()||t.audioTracks||[],n=0;n<e.length;n++){var r=e[n];r.stop&&r.stop()}t.stop&&t.stop()};n.SampleData=function(t,e,r,o,i){var a="SampleData";o||(o={});var s=o.index||0,c=o.offset||0,u=o.filter;if(u&&u.fn&&u.sr!=e&&(u=null,y(a+"的filter采样率变了，重设滤波",3)),!u){var l=r>3*e/4?0:r/2*3/4;u={fn:l?n.IIRFilter(!0,e,l):0}}u.sr=e;var f=u.fn,h=o.frameNext||[];i||(i={});var p=i.frameSize||1;i.frameType&&(p="mp3"==i.frameType?1152:1);var d=t.length;s>d+1&&y(a+"似乎传入了未重置chunk "+s+">"+d,3);for(var v=0,g=s;g<d;g++)v+=t[g].length;v=Math.max(0,v-Math.floor(c));var m=e/r;m>1?v=Math.floor(v/m):(m=1,r=e),v+=h.length;var b=new Int16Array(v),_=0;for(g=0;g<h.length;g++)b[_]=h[g],_++;for(;s<d;s++){for(var w=t[s],E=(g=c,w.length),x=f&&f.Embed,S=0,k=0,O=0,T=0,j=0,C=0;j<E;j++,C++)if(C<E&&(x?(O=w[C],T=x.b0*O+x.b1*x.x1+x.b0*x.x2-x.a1*x.y1-x.a2*x.y2,x.x2=x.x1,x.x1=O,x.y2=x.y1,x.y1=T):T=f?f(w[C]):w[C]),S=k,k=T,0!=C){var L=Math.floor(g);if(j==L){var A=g-L,I=S,P=Math.ceil(g)<E?k:I;b[_]=I+(P-I)*A,_++,g+=m}}else j--;c=Math.max(0,g-E)}h=null;var N=b.length%p;if(N>0){var R=2*(b.length-N);h=new Int16Array(b.buffer.slice(R)),b=new Int16Array(b.buffer.slice(0,R))}return{index:s,offset:c,filter:u,frameNext:h,sampleRate:r,data:b}},n.IIRFilter=function(t,e,n){var r=2*Math.PI*n/e,o=Math.sin(r),i=Math.cos(r),a=o/2,s=1+a,c=-2*i/s,u=(1-a)/s;if(t)var l=(1-i)/2/s,f=(1-i)/s;else l=(1+i)/2/s,f=-(1+i)/s;var h=0,p=0,d=0,v=0,g=0,m=function(t){return d=l*t+f*h+l*p-c*v-u*g,p=h,h=t,g=v,v=d,d};return m.Embed={x1:0,x2:0,y1:0,y2:0,b0:l,b1:f,a1:c,a2:u},m},n.PowerLevel=function(t,e){var n=t/e||0;return n<1251?Math.round(n/1250*10):Math.round(Math.min(100,Math.max(0,100*(1+Math.log(n/1e4)/Math.log(10)))))},n.PowerDBFS=function(t){var e=Math.max(.1,t||0),n=32767;return e=Math.min(e,n),e=20*Math.log(e/n)/Math.log(10),Math.max(-100,Math.round(e))},n.CLog=function(e,n){var o=new Date,i=("0"+o.getMinutes()).substr(-2)+":"+("0"+o.getSeconds()).substr(-2)+"."+("00"+o.getMilliseconds()).substr(-3),a=this&&this.envIn&&this.envCheck&&this.id,s=["["+i+" "+r+(a?":"+a:"")+"]"+e],c=arguments,u=t.console||{},l=2,f=u.log;for("number"==typeof n?f=1==n?u.error:3==n?u.warn:f:l=1;l<c.length;l++)s.push(c[l]);b?f&&f("[IsLoser]"+s[0],s.length>1?s:""):f.apply(u,s)};var y=function(){n.CLog.apply(this,arguments)},b=!0;try{b=!console.log.apply}catch(t){}var _=0;function w(t){this.id=++_,T();var n={type:"mp3",bitRate:16,sampleRate:16e3,onProcess:e};for(var r in t)n[r]=t[r];this.set=n,this._S=9,this.Sync={O:9,C:9}}n.Sync={O:9,C:9},n.prototype=w.prototype={CLog:y,_streamStore:function(){return this.set.sourceStream?this:n},_streamCtx:function(){var t=this._streamStore().Stream;return t&&t._c},open:function(r,i){var c=this,l=c.set,f=c._streamStore(),p=0;r=r||e;var d=function(t,e){e=!!e,c.CLog("录音open失败："+t+",isUserNotAllow:"+e,1),p&&n.CloseNewCtx(p),i&&i(t,e)},v=function(){c.CLog("open ok id:"+c.id),r(),c._SO=0},m=f.Sync,y=++m.O,b=m.C;c._O=c._O_=y,c._SO=c._S;var _=function(){if(b!=m.C||!c._O){var t="open被取消";return y==m.O?c.close():t="open被中断",d(t),!0}},w=c.envCheck({envName:"H5",canProcess:!0});if(w)d("不能录音："+w);else if(l.sourceStream){if(!n.GetContext())return void d("不支持此浏览器从流中获取录音");g(f);var E=c.Stream=l.sourceStream;E._RC=l.runningContext,E._call={};try{h(f)}catch(t){return g(f),void d("从流中打开录音失败："+t.message)}v()}else{var x=function(e,n){try{t.top.a}catch(t){return void d('无权录音(跨域，请尝试给iframe添加麦克风访问策略，如allow="camera;microphone")')}/Permission|Allow/i.test(e)?d("用户拒绝了录音权限",!0):!1===t.isSecureContext?d("浏览器禁止不安全页面录音，可开启https解决"):/Found/i.test(e)?d(n+"，无可用麦克风"):d(n)};if(n.IsOpen())v();else if(n.Support()){var S=l.runningContext;S||(S=p=n.GetContext(!0));var k=function(t){setTimeout((function(){t._call={};var e=n.Stream;e&&(g(),t._call=e._call),n.Stream=t,t._c=S,t._RC=l.runningContext,_()||(n.IsOpen()?(e&&c.CLog("发现同时多次调用open",1),h(f,1),v()):d("录音功能无效：无音频流"))}),100)},O=function(t){var e=t.name||t.message||t.code+":"+t;c.CLog("请求录音权限错误",1,t),x(e,"无法录音："+e)},T=l.audioTrackSet||{};T[a]=S[a];var j={audio:T};try{var C=n.Scope[o](j,k,O)}catch(t){c.CLog(o,3,t),j={audio:!0},C=n.Scope[o](j,k,O)}c.CLog(o+"("+JSON.stringify(j)+") "+u(S)+"，一般默认会降噪和回声消除，移动端可能会降低系统播放音量，请参阅文档中audioTrackSet配置"),C&&C.then&&C.then(k)[s](O)}else x("","此浏览器不支持录音")}},close:function(t){t=t||e;var n=this,r=n._streamStore();n._stop();var o=r.Sync;if(n._O=0,n._O_!=o.O)return n.CLog("close被忽略（因为同时open了多个rec，只有最后一个会真正close）",3),void t();o.C++,g(r),n.CLog("close"),t()},mock:function(t,e){var n=this;return n._stop(),n.isMock=1,n.mockEnvInfo=null,n.buffers=[t],n.recSize=t.length,n[i]=e,n},envCheck:function(e){var r,o=this,i=o.set,a="CPU_BE";if(r||n[a]||!t.Int8Array||new Int8Array(new Int32Array([1]).buffer)[0]||(T(a),r="不支持"+a+"架构"),!r){var s=i.type;o[s+"_envCheck"]?r=o[s+"_envCheck"](e,i):i.takeoffEncodeChunk&&(r=s+"类型"+(o[s]?"":"(未加载编码器)")+"不支持设置takeoffEncodeChunk")}return r||""},envStart:function(t,e){var n=this,r=n.set;n.isMock=t?1:0,n.mockEnvInfo=t,n.buffers=[],n.recSize=0,n.envInLast=0,n.envInFirst=0,n.envInFix=0,n.envInFixTs=[];var o=r[a];if(o>e?r[a]=e:o=0,n[i]=e,n.CLog(i+": "+e+" set."+a+": "+r[a]+(o?" 忽略"+o:""),o?3:0),n.engineCtx=0,n[r.type+"_start"]){var s=n.engineCtx=n[r.type+"_start"](r);s&&(s.pcmDatas=[],s.pcmSize=0)}},envResume:function(){this.envInFixTs=[]},envIn:function(t,e){var r=this,o=r.set,s=r.engineCtx,c=r[i],u=t.length,l=n.PowerLevel(e,u),f=r.buffers,h=f.length;f.push(t);var p=f,d=h,v=Date.now(),g=Math.round(u/c*1e3);r.envInLast=v,1==r.buffers.length&&(r.envInFirst=v-g);var m=r.envInFixTs;m.splice(0,0,{t:v,d:g});for(var y=v,b=0,_=0;_<m.length;_++){var w=m[_];if(v-w.t>3e3){m.length=_;break}y=w.t,b+=w.d}var E=m[1],x=v-y;if(x-b>x/3&&(E&&x>1e3||m.length>=6)){var S=v-E.t-g;if(S>g/5){var k=!o.disableEnvInFix;if(r.CLog("["+v+"]"+(k?"":"未")+"补偿"+S+"ms",3),r.envInFix+=S,k){var O=new Int16Array(S*c/1e3);u+=O.length,f.push(O)}}}var T=r.recSize,j=u,C=T+j;if(r.recSize=C,s){var L=n.SampleData(f,c,o[a],s.chunkInfo);s.chunkInfo=L,C=(T=s.pcmSize)+(j=L.data.length),s.pcmSize=C,f=s.pcmDatas,h=f.length,f.push(L.data),c=L[a]}var A=Math.round(C/c*1e3),I=f.length,P=p.length,N=function(){for(var t=R?0:-j,e=null==f[0],n=h;n<I;n++){var i=f[n];null==i?e=1:(t+=i.length,s&&i.length&&r[o.type+"_encode"](s,i))}if(e&&s)for(n=d,p[0]&&(n=0);n<P;n++)p[n]=null;e&&(t=R?j:0,f[0]=null),s?s.pcmSize+=t:r.recSize+=t},R=0,D="rec.set.onProcess";try{R=o.onProcess(f,l,A,c,h,N)}catch(t){console.error(D+"回调出错是不允许的，需保证不会抛异常",t)}var M=Date.now()-v;if(M>10&&r.envInFirst-v>1e3&&r.CLog(D+"低性能，耗时"+M+"ms",3),!0===R){var F=0;for(_=h;_<I;_++)null==f[_]?F=1:f[_]=new Int16Array(0);F?r.CLog("未进入异步前不能清除buffers",3):s?s.pcmSize-=j:r.recSize-=j}else N()},start:function(){var t=this,e=1;if(t.set.sourceStream?t.Stream||(e=0):n.IsOpen()||(e=0),e){var r=t._streamCtx();if(t.CLog("start 开始录音 "+u(r)),t._stop(),t.state=3,t.envStart(null,r[a]),t._SO&&t._SO+1!=t._S)t.CLog("start被中断",3);else{t._SO=0;var o=function(){3==t.state&&(t.state=1,t.resume())};if("suspended"==r.state){var i="AudioContext resume: ";t.CLog(i+"wait..."),r.resume().then((function(){t.CLog(i+r.state),o()}))[s]((function(e){t.CLog(i+r.state+" 可能无法录音："+e.message,1,e),o()}))}else o()}}else t.CLog("未open",1)},pause:function(){var t=this;t.state&&(t.state=2,t.CLog("pause"),delete t._streamStore().Stream._call[t.id])},resume:function(){var t=this;if(t.state){t.state=1,t.CLog("resume"),t.envResume();var e=t._streamStore().Stream;e._call[t.id]=function(e,n){1==t.state&&t.envIn(e,n)},p(e)}},_stop:function(t){var e=this,n=e.set;e.isMock||e._S++,e.state&&(e.pause(),e.state=0),!t&&e[n.type+"_stop"]&&(e[n.type+"_stop"](e.engineCtx),e.engineCtx=0)},stop:function(t,e,r){var o,s=this,c=s.set,u=s.envInLast-s.envInFirst,l=u&&s.buffers.length;s.CLog("stop 和start时差"+(u?u+"ms 补偿"+s.envInFix+"ms envIn:"+l+" fps:"+(l/u*1e3).toFixed(1):"-")+" LM:"+n.LM);var f=function(){s._stop(),r&&s.close()},h=function(t){s.CLog("结束录音失败："+t,1),e&&e(t),f()},p=function(e,n){if(s.CLog("结束录音 编码花"+(Date.now()-o)+"ms 音频时长"+n+"ms 文件大小"+e.size+"b"),c.takeoffEncodeChunk)s.CLog("启用takeoffEncodeChunk后stop返回的blob长度为0不提供音频数据",3);else if(e.size<Math.max(100,n/2))return void h("生成的"+c.type+"无效");t&&t(e,n),f()};if(!s.isMock){var d=3==s.state;if(!s.state||d)return void h("未开始录音"+(d?"，开始录音前无用户交互导致AudioContext未运行":""));s._stop(!0)}var v=s.recSize;if(v)if(s.buffers[0])if(s[c.type]){if(s.isMock){var g=s.envCheck(s.mockEnvInfo||{envName:"mock",canProcess:!1});if(g)return void h("录音错误："+g)}var m=s.engineCtx;if(s[c.type+"_complete"]&&m){var y=Math.round(m.pcmSize/c[a]*1e3);return o=Date.now(),void s[c.type+"_complete"](m,(function(t){p(t,y)}),h)}o=Date.now();var b=n.SampleData(s.buffers,s[i],c[a]);c[a]=b[a];var _=b.data;y=Math.round(_.length/c[a]*1e3),s.CLog("采样"+v+"->"+_.length+" 花:"+(Date.now()-o)+"ms"),setTimeout((function(){o=Date.now(),s[c.type](_,(function(t){p(t,y)}),(function(t){h(t)}))}))}else h("未加载"+c.type+"编码器");else h("音频buffers被释放");else h("未采集到录音")}},t[r]&&(y("重复引入"+r,3),t[r].Destroy()),t[r]=n;var E=function(t,e){e.pos||(e.pos=[0],e.tracks={},e.bytes=[]);var n=e.tracks,r=[e.pos[0]],o=function(){e.pos[0]=r[0]},i=e.bytes.length,s=new Uint8Array(i+t.length);if(s.set(e.bytes),s.set(t,i),e.bytes=s,!e._ht){if(k(s,r),O(s,r),!x(k(s,r),[24,83,128,103]))return;for(k(s,r);r[0]<s.length;){var c=k(s,r),u=O(s,r),l=[0],f=0;if(!u)return;if(x(c,[22,84,174,107])){for(;l[0]<u.length;){var h=k(u,l),p=O(u,l),d=[0],v={channels:0,sampleRate:0};if(x(h,[174]))for(;d[0]<p.length;){var g=k(p,d),m=O(p,d),b=[0];if(x(g,[215])){var _=S(m);v.number=_,n[_]=v}else if(x(g,[131]))1==(_=S(m))?v.type="video":2==_?(v.type="audio",f||(e.track0=v),v.idx=f++):v.type="Type-"+_;else if(x(g,[134])){for(var w="",E=0;E<m.length;E++)w+=String.fromCharCode(m[E]);v.codec=w}else if(x(g,[225]))for(;b[0]<m.length;){var T=k(m,b),j=O(m,b);if(x(T,[181])){_=0;var C=new Uint8Array(j.reverse()).buffer;4==j.length?_=new Float32Array(C)[0]:8==j.length?_=new Float64Array(C)[0]:y("WebM Track !Float",1,j),v[a]=Math.round(_)}else x(T,[98,100])?v.bitDepth=S(j):x(T,[159])&&(v.channels=S(j))}}}e._ht=1,y("WebM Tracks",n),o();break}}}var L=e.track0;if(L){if(16==L.bitDepth&&/FLOAT/i.test(L.codec)&&(L.bitDepth=32,y("WebM 16改32位",3)),L[a]!=e[a]||32!=L.bitDepth||L.channels<1||!/(\b|_)PCM\b/i.test(L.codec))return e.bytes=[],e.bad||y("WebM Track非预期",3,e),e.bad=1,-1;for(var A=[],I=0;r[0]<s.length&&(h=k(s,r),p=O(s,r));){if(x(h,[163])){var P=15&p[0];if(v=n[P]){if(0===v.idx){var N=new Uint8Array(p.length-4);for(E=4;E<p.length;E++)N[E-4]=p[E];A.push(N),I+=N.length}}else y("WebM !Track"+P,1,n)}o()}if(I){var R=new Uint8Array(s.length-e.pos[0]);R.set(s.subarray(e.pos[0])),e.bytes=R,e.pos[0]=0,N=new Uint8Array(I),E=0;for(var D=0;E<A.length;E++)N.set(A[E],D),D+=A[E].length;if(C=new Float32Array(N.buffer),L.channels>1){var M=[];for(E=0;E<C.length;)M.push(C[E]),E+=L.channels;C=new Float32Array(M)}return C}}},x=function(t,e){if(!t||t.length!=e.length)return!1;if(1==t.length)return t[0]==e[0];for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0},S=function(t){for(var e="",n=0;n<t.length;n++){var r=t[n];e+=(r<16?"0":"")+r.toString(16)}return parseInt(e,16)||0},k=function(t,e,n){var r=e[0];if(!(r>=t.length)){var o=("0000000"+t[r].toString(2)).substr(-8),i=/^(0*1)(\d*)$/.exec(o);if(i){var a=i[1].length,s=[];if(!(r+a>t.length)){for(var c=0;c<a;c++)s[c]=t[r],r++;return n&&(s[0]=parseInt(i[2]||"0",2)),e[0]=r,s}}}},O=function(t,e){var n=k(t,e,1);if(n){var r=S(n),o=e[0],i=[];if(r<2147483647){if(o+r>t.length)return;for(var a=0;a<r;a++)i[a]=t[o],o++}return e[0]=o,i}};n.TrafficImgUrl="//ia.51.la/go1?id=20469973&pvFlag=1";var T=n.Traffic=function(t){t=t?"/"+r+"/Report/"+t:"";var e=n.TrafficImgUrl;if(e){var o=n.Traffic,i=/^(https?:..[^\/#]*\/?)[^#]*/i.exec(location.href)||[],a=i[1]||"http://file/",s=(i[0]||a)+t;0==e.indexOf("//")&&(e=/^https:/i.test(s)?"https:"+e:"http:"+e),t&&(e=e+"&cu="+encodeURIComponent(a+t)),o[s]||(o[s]=1,(new Image).src=e,y("Traffic Analysis Image: "+(t||r+".TrafficImgUrl="+n.TrafficImgUrl)))}}}(window),void 0===(r=function(){return Recorder}.call(e,n,e,t))||(t.exports=r),t.exports&&(t.exports=Recorder)},500:t=>{"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const n=t.indexOf(e);return-1===n?[t]:[t.slice(0,n),t.slice(n+e.length)]}},610:t=>{"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},655:(t,e,n)=>{"use strict";n.d(e,{pi:()=>r});var r=function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};Object.create;Object.create},2238:function(t,e,n){var r;!function(o,i){"use strict";var a="function",s="undefined",c="object",u="string",l="major",f="model",h="name",p="type",d="vendor",v="version",g="architecture",m="console",y="mobile",b="tablet",_="smarttv",w="wearable",E="embedded",x="Amazon",S="Apple",k="ASUS",O="BlackBerry",T="Browser",j="Chrome",C="Firefox",L="Google",A="Huawei",I="LG",P="Microsoft",N="Motorola",R="Opera",D="Samsung",M="Sharp",F="Sony",U="Xiaomi",z="Zebra",G="Facebook",B="Chromium OS",q="Mac OS",W=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].toUpperCase()]=t[n];return e},V=function(t,e){return typeof t===u&&-1!==H(e).indexOf(H(t))},H=function(t){return t.toLowerCase()},Y=function(t,e){if(typeof t===u)return t=t.replace(/^\s\s*/,""),typeof e===s?t:t.substring(0,350)},K=function(t,e){for(var n,r,o,s,u,l,f=0;f<e.length&&!u;){var h=e[f],p=e[f+1];for(n=r=0;n<h.length&&!u&&h[n];)if(u=h[n++].exec(t))for(o=0;o<p.length;o++)l=u[++r],typeof(s=p[o])===c&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):i:this[s[0]]=l?s[1].call(this,l,s[2]):i:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):i):this[s]=l||i;f+=2}},J=function(t,e){for(var n in e)if(typeof e[n]===c&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(V(e[n][r],t))return"?"===n?i:n}else if(V(e[n],t))return"?"===n?i:n;return t},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},$={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,v],[/opios[\/ ]+([\w\.]+)/i],[v,[h,R+" Mini"]],[/\bopr\/([\w\.]+)/i],[v,[h,R]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[h,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[v,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[v,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+T],v],[/\bfocus\/([\w\.]+)/i],[v,[h,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[h,R+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[h,R+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[h,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[v,[h,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+T]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+T],v],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,v],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,G],v],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[h,j+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,j+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[h,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[v,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[h,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,v],[/(cobalt)\/([\w\.]+)/i],[h,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,H]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[d,D],[p,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[d,D],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[d,S],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[d,S],[p,b]],[/(macintosh);/i],[f,[d,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[d,M],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[d,A],[p,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[d,A],[p,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[d,U],[p,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[d,U],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[d,"OPPO"],[p,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[d,"Vivo"],[p,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[d,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[d,N],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[d,N],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[d,I],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[d,I],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[d,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[d,"Nokia"],[p,y]],[/(pixel c)\b/i],[f,[d,L],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[d,L],[p,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[d,F],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[d,F],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[d,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[d,x],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[d,x],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[f,d,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[d,O],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[d,k],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[d,k],[p,y]],[/(nexus 9)/i],[f,[d,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[f,/_/g," "],[p,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[d,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[d,"Meizu"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,f,[p,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,f,[p,b]],[/(surface duo)/i],[f,[d,P],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[d,"Fairphone"],[p,y]],[/(u304aa)/i],[f,[d,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[f,[d,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[f,[d,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[f,[d,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[f,[d,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[d,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[f,[d,"NuVision"],[p,b]],[/\b(k88) b/i],[f,[d,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[f,[d,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[f,[d,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[f,[d,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[f,[d,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],f,[p,b]],[/\b(ns-?\w{0,9}) b/i],[f,[d,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[d,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],f,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],f,[p,y]],[/\b(ph-1) /i],[f,[d,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[d,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[f,[d,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[f,[d,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[f,[d,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[d,f,[p,y]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[d,P],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[d,z],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[d,z],[p,y]],[/smart-tv.+(samsung)/i],[d,[p,_]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[d,D],[p,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,I],[p,_]],[/(apple) ?tv/i],[d,[f,S+" TV"],[p,_]],[/crkey/i],[[f,j+"cast"],[d,L],[p,_]],[/droid.+aft(\w+)( bui|\))/i],[f,[d,x],[p,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[d,M],[p,_]],[/(bravia[\w ]+)( bui|\))/i],[f,[d,F],[p,_]],[/(mitv-\w{5}) bui/i],[f,[d,U],[p,_]],[/Hbbtv.*(technisat) (.*);/i],[d,f,[p,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[d,Y],[f,Y],[p,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,f,[p,m]],[/droid.+; (shield) bui/i],[f,[d,"Nvidia"],[p,m]],[/(playstation [345portablevi]+)/i],[f,[d,F],[p,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[d,P],[p,m]],[/((pebble))app/i],[d,f,[p,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[d,S],[p,w]],[/droid.+; (glass) \d/i],[f,[d,L],[p,w]],[/droid.+; (wt63?0{2,3})\)/i],[f,[d,z],[p,w]],[/(quest( 2| pro)?)/i],[f,[d,G],[p,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[p,E]],[/(aeobc)\b/i],[f,[d,x],[p,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,v],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[v,J,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[v,J,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,q],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,v],[/\(bb(10);/i],[v,[h,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[h,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[h,j+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,B],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,v],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,v]]},X=function(t,e){if(typeof t===c&&(e=t,t=i),!(this instanceof X))return new X(t,e).getResult();var n=typeof o!==s&&o.navigator?o.navigator:i,r=t||(n&&n.userAgent?n.userAgent:""),m=n&&n.userAgentData?n.userAgentData:i,_=e?function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2==0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n}($,e):$,w=n&&n.userAgent==r;return this.getBrowser=function(){var t,e={};return e[h]=i,e[v]=i,K.call(e,r,_.browser),e[l]=typeof(t=e[v])===u?t.replace(/[^\d\.]/g,"").split(".")[0]:i,w&&n&&n.brave&&typeof n.brave.isBrave==a&&(e[h]="Brave"),e},this.getCPU=function(){var t={};return t[g]=i,K.call(t,r,_.cpu),t},this.getDevice=function(){var t={};return t[d]=i,t[f]=i,t[p]=i,K.call(t,r,_.device),w&&!t[p]&&m&&m.mobile&&(t[p]=y),w&&"Macintosh"==t[f]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(t[f]="iPad",t[p]=b),t},this.getEngine=function(){var t={};return t[h]=i,t[v]=i,K.call(t,r,_.engine),t},this.getOS=function(){var t={};return t[h]=i,t[v]=i,K.call(t,r,_.os),w&&!t[h]&&m&&"Unknown"!=m.platform&&(t[h]=m.platform.replace(/chrome os/i,B).replace(/macos/i,q)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(t){return r=typeof t===u&&t.length>350?Y(t,350):t,this},this.setUA(r),this};X.VERSION="0.7.36",X.BROWSER=W([h,v,l]),X.CPU=W([g]),X.DEVICE=W([f,d,p,m,y,_,b,w,E]),X.ENGINE=X.OS=W([h,v]),typeof e!==s?(t.exports&&(e=t.exports=X),e.UAParser=X):n.amdO?(r=function(){return X}.call(e,n,e,t))===i||(t.exports=r):typeof o!==s&&(o.UAParser=X);var Q=typeof o!==s&&(o.jQuery||o.Zepto);if(Q&&!Q.ua){var tt=new X;Q.ua=tt.getResult(),Q.ua.get=function(){return tt.getUA()},Q.ua.set=function(t){tt.setUA(t);var e=tt.getResult();for(var n in e)Q.ua[n]=e[n]}}}("object"==typeof window?window:this)},1949:function(t){t.exports=function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,e,n){return(e=c(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function c(t){var e=s(t,"string");return"symbol"==typeof e?e:String(e)}var u={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},l='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',f="undefined"!=typeof window&&void 0!==window.document,h=f?window:{},p=!(!f||!h.document.documentElement)&&"ontouchstart"in h.document.documentElement,d=!!f&&"PointerEvent"in h,v="viewer",g="move",m="switch",y="zoom",b="".concat(v,"-active"),_="".concat(v,"-close"),w="".concat(v,"-fade"),E="".concat(v,"-fixed"),x="".concat(v,"-fullscreen"),S="".concat(v,"-fullscreen-exit"),k="".concat(v,"-hide"),O="".concat(v,"-hide-md-down"),T="".concat(v,"-hide-sm-down"),j="".concat(v,"-hide-xs-down"),C="".concat(v,"-in"),L="".concat(v,"-invisible"),A="".concat(v,"-loading"),I="".concat(v,"-move"),P="".concat(v,"-open"),N="".concat(v,"-show"),R="".concat(v,"-transition"),D="click",M="dblclick",F="dragstart",U="focusin",z="keydown",G="load",B="error",q=p?"touchend touchcancel":"mouseup",W=p?"touchmove":"mousemove",V=p?"touchstart":"mousedown",H=d?"pointerdown":V,Y=d?"pointermove":W,K=d?"pointerup pointercancel":q,J="resize",Z="transitionend",$="wheel",X="ready",Q="show",tt="shown",et="hide",nt="hidden",rt="view",ot="viewed",it="move",at="moved",st="rotate",ct="rotated",ut="scale",lt="scaled",ft="zoom",ht="zoomed",pt="play",dt="stop",vt="".concat(v,"Action"),gt=/\s\s*/,mt=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function yt(t){return"string"==typeof t}var bt=Number.isNaN||h.isNaN;function _t(t){return"number"==typeof t&&!bt(t)}function wt(t){return void 0===t}function Et(t){return"object"===n(t)&&null!==t}var xt=Object.prototype.hasOwnProperty;function St(t){if(!Et(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&xt.call(n,"isPrototypeOf")}catch(t){return!1}}function kt(t){return"function"==typeof t}function Ot(t,e){if(t&&kt(e))if(Array.isArray(t)||_t(t.length)){var n,r=t.length;for(n=0;n<r&&!1!==e.call(t,t[n],n,t);n+=1);}else Et(t)&&Object.keys(t).forEach((function(n){e.call(t,t[n],n,t)}));return t}var Tt=Object.assign||function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Et(t)&&n.length>0&&n.forEach((function(e){Et(e)&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t},jt=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Ct(t,e){var n=t.style;Ot(e,(function(t,e){jt.test(e)&&_t(t)&&(t+="px"),n[e]=t}))}function Lt(t){return yt(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function At(t,e){return!(!t||!e)&&(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)}function It(t,e){if(t&&e)if(_t(t.length))Ot(t,(function(t){It(t,e)}));else if(t.classList)t.classList.add(e);else{var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Pt(t,e){t&&e&&(_t(t.length)?Ot(t,(function(t){Pt(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function Nt(t,e,n){e&&(_t(t.length)?Ot(t,(function(t){Nt(t,e,n)})):n?It(t,e):Pt(t,e))}var Rt=/([a-z\d])([A-Z])/g;function Dt(t){return t.replace(Rt,"$1-$2").toLowerCase()}function Mt(t,e){return Et(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Dt(e)))}function Ft(t,e,n){Et(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(Dt(e)),n)}var Ut=function(){var t=!1;if(f){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});h.addEventListener("test",n,r),h.removeEventListener("test",n,r)}return t}();function zt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;e.trim().split(gt).forEach((function(e){if(!Ut){var i=t.listeners;i&&i[e]&&i[e][n]&&(o=i[e][n],delete i[e][n],0===Object.keys(i[e]).length&&delete i[e],0===Object.keys(i).length&&delete t.listeners)}t.removeEventListener(e,o,r)}))}function Gt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;e.trim().split(gt).forEach((function(e){if(r.once&&!Ut){var i=t.listeners,a=void 0===i?{}:i;o=function(){delete a[e][n],t.removeEventListener(e,o,r);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];n.apply(t,s)},a[e]||(a[e]={}),a[e][n]&&t.removeEventListener(e,a[e][n],r),a[e][n]=o,t.listeners=a}t.addEventListener(e,o,r)}))}function Bt(t,n,r,o){var i;return kt(Event)&&kt(CustomEvent)?i=new CustomEvent(n,e({bubbles:!0,cancelable:!0,detail:r},o)):(i=document.createEvent("CustomEvent")).initCustomEvent(n,!0,!0,r),t.dispatchEvent(i)}function qt(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function Wt(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,o=t.translateX,i=t.translateY,a=[];_t(o)&&0!==o&&a.push("translateX(".concat(o,"px)")),_t(i)&&0!==i&&a.push("translateY(".concat(i,"px)")),_t(e)&&0!==e&&a.push("rotate(".concat(e,"deg)")),_t(n)&&1!==n&&a.push("scaleX(".concat(n,")")),_t(r)&&1!==r&&a.push("scaleY(".concat(r,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Vt(t){return yt(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Ht=h.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(h.navigator.userAgent);function Yt(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!Ht)return n(t.naturalWidth,t.naturalHeight),r;var o=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),Ht||o.removeChild(r)},Ot(e.inheritedAttributes,(function(e){var n=t.getAttribute(e);null!==n&&r.setAttribute(e,n)})),r.src=t.src,Ht||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(r)),r}function Kt(t){switch(t){case 2:return j;case 3:return T;case 4:return O;default:return""}}function Jt(t){var n=e({},t),r=[];return Ot(t,(function(t,e){delete n[e],Ot(n,(function(e){var n=Math.abs(t.startX-e.startX),o=Math.abs(t.startY-e.startY),i=Math.abs(t.endX-e.endX),a=Math.abs(t.endY-e.endY),s=Math.sqrt(n*n+o*o),c=(Math.sqrt(i*i+a*a)-s)/s;r.push(c)}))})),r.sort((function(t,e){return Math.abs(t)<Math.abs(e)})),r[0]}function Zt(t,n){var r=t.pageX,o=t.pageY,i={endX:r,endY:o};return n?i:e({timeStamp:Date.now(),startX:r,startY:o},i)}function $t(t){var e=0,n=0,r=0;return Ot(t,(function(t){var o=t.startX,i=t.startY;e+=o,n+=i,r+=1})),{pageX:e/=r,pageY:n/=r}}var Xt,Qt={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var t=this.element.ownerDocument,e=t.body||t.documentElement;this.body=e,this.scrollbarWidth=window.innerWidth-t.documentElement.clientWidth,this.initialBodyPaddingRight=e.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(e).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var t,e=this.options,n=this.parent;e.inline&&(t={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=t),!this.fulled&&t||(t=this.containerData),this.viewerData=Tt({},t)},renderViewer:function(){this.options.inline&&!this.fulled&&Ct(this.viewer,this.viewerData)},initList:function(){var t=this,e=this.element,n=this.options,r=this.list,o=[];r.innerHTML="",Ot(this.images,(function(e,i){var a=e.src,s=e.alt||Vt(a),c=t.getImageURL(e);if(a||c){var u=document.createElement("li"),l=document.createElement("img");Ot(n.inheritedAttributes,(function(t){var n=e.getAttribute(t);null!==n&&l.setAttribute(t,n)})),n.navbar&&(l.src=a||c),l.alt=s,l.setAttribute("data-original-url",c||a),u.setAttribute("data-index",i),u.setAttribute("data-viewer-action","view"),u.setAttribute("role","button"),n.keyboard&&u.setAttribute("tabindex",0),u.appendChild(l),r.appendChild(u),o.push(u)}})),this.items=o,Ot(o,(function(e){var r,o,i=e.firstElementChild;Ft(i,"filled",!0),n.loading&&It(e,A),Gt(i,G,r=function(r){zt(i,B,o),n.loading&&Pt(e,A),t.loadImage(r)},{once:!0}),Gt(i,B,o=function(){zt(i,G,r),n.loading&&Pt(e,A)},{once:!0})})),n.transition&&Gt(e,ot,(function(){It(r,R)}),{once:!0})},renderList:function(){var t=this.index,e=this.items[t];if(e){var n=e.nextElementSibling,r=parseInt(window.getComputedStyle(n||e).marginLeft,10),o=e.offsetWidth,i=o+r;Ct(this.list,Tt({width:i*this.length-r},Wt({translateX:(this.viewerData.width-o)/2-i*t})))}},resetList:function(){var t=this.list;t.innerHTML="",Pt(t,R),Ct(t,Wt({translateX:0}))},initImage:function(t){var e,n=this,r=this.options,o=this.image,i=this.viewerData,a=this.footer.offsetHeight,s=i.width,c=Math.max(i.height-a,a),u=this.imageData||{};this.imageInitializing={abort:function(){e.onload=null}},e=Yt(o,r,(function(e,o){var i=e/o,a=Math.max(0,Math.min(1,r.initialCoverage)),l=s,f=c;n.imageInitializing=!1,c*i>s?f=s/i:l=c*i,a=_t(a)?a:.9,l=Math.min(l*a,e),f=Math.min(f*a,o);var h=(s-l)/2,p=(c-f)/2,d={left:h,top:p,x:h,y:p,width:l,height:f,oldRatio:1,ratio:l/e,aspectRatio:i,naturalWidth:e,naturalHeight:o},v=Tt({},d);r.rotatable&&(d.rotate=u.rotate||0,v.rotate=0),r.scalable&&(d.scaleX=u.scaleX||1,d.scaleY=u.scaleY||1,v.scaleX=1,v.scaleY=1),n.imageData=d,n.initialImageData=v,t&&t()}))},renderImage:function(t){var e=this,n=this.image,r=this.imageData;if(Ct(n,Tt({width:r.width,height:r.height,marginLeft:r.x,marginTop:r.y},Wt(r))),t)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&At(n,R)){var o=function(){e.imageRendering=!1,t()};this.imageRendering={abort:function(){zt(n,Z,o)}},Gt(n,Z,o,{once:!0})}else t()},resetImage:function(){var t=this.image;t&&(this.viewing&&this.viewing.abort(),t.parentNode.removeChild(t),this.image=null,this.title.innerHTML="")}},te={bind:function(){var t=this.options,e=this.viewer,n=this.canvas,r=this.element.ownerDocument;Gt(e,D,this.onClick=this.click.bind(this)),Gt(e,F,this.onDragStart=this.dragstart.bind(this)),Gt(n,H,this.onPointerDown=this.pointerdown.bind(this)),Gt(r,Y,this.onPointerMove=this.pointermove.bind(this)),Gt(r,K,this.onPointerUp=this.pointerup.bind(this)),Gt(r,z,this.onKeyDown=this.keydown.bind(this)),Gt(window,J,this.onResize=this.resize.bind(this)),t.zoomable&&t.zoomOnWheel&&Gt(e,$,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleOnDblclick&&Gt(n,M,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var t=this.options,e=this.viewer,n=this.canvas,r=this.element.ownerDocument;zt(e,D,this.onClick),zt(e,F,this.onDragStart),zt(n,H,this.onPointerDown),zt(r,Y,this.onPointerMove),zt(r,K,this.onPointerUp),zt(r,z,this.onKeyDown),zt(window,J,this.onResize),t.zoomable&&t.zoomOnWheel&&zt(e,$,this.onWheel,{passive:!1,capture:!0}),t.toggleOnDblclick&&zt(n,M,this.onDblclick)}},ee={click:function(t){var e=this.options,n=this.imageData,r=t.target,o=Mt(r,vt);switch(o||"img"!==r.localName||"li"!==r.parentElement.localName||(o=Mt(r=r.parentElement,vt)),p&&t.isTrusted&&r===this.canvas&&clearTimeout(this.clickCanvasTimeout),o){case"mix":this.played?this.stop():e.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(Mt(r,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(e.loop);break;case"play":this.play(e.fullscreen);break;case"next":this.next(e.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-n.scaleX||-1);break;case"flip-vertical":this.scaleY(-n.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(t){t.preventDefault(),this.viewed&&t.target===this.image&&(p&&t.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(t.isTrusted?t:t.detail&&t.detail.originalEvent))},load:function(){var t=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var e=this.element,n=this.options,r=this.image,o=this.index,i=this.viewerData;Pt(r,L),n.loading&&Pt(this.canvas,A),r.style.cssText="height:0;"+"margin-left:".concat(i.width/2,"px;")+"margin-top:".concat(i.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage((function(){Nt(r,I,n.movable),Nt(r,R,n.transition),t.renderImage((function(){t.viewed=!0,t.viewing=!1,kt(n.viewed)&&Gt(e,ot,n.viewed,{once:!0}),Bt(e,ot,{originalImage:t.images[o],index:o,image:r},{cancelable:!1})}))}))},loadImage:function(t){var e=t.target,n=e.parentNode,r=n.offsetWidth||30,o=n.offsetHeight||50,i=!!Mt(e,"filled");Yt(e,this.options,(function(t,n){var a=t/n,s=r,c=o;o*a>r?i?s=o*a:c=r/a:i?c=r/a:s=o*a,Ct(e,Tt({width:s,height:c},Wt({translateX:(r-s)/2,translateY:(o-c)/2})))}))},keydown:function(t){var e=this.options;if(e.keyboard){var n=t.keyCode||t.which||t.charCode;if(13===n&&this.viewer.contains(t.target)&&this.click(t),this.fulled)switch(n){case 27:this.played?this.stop():e.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(e.loop);break;case 38:t.preventDefault(),this.zoom(e.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(e.loop);break;case 40:t.preventDefault(),this.zoom(-e.zoomRatio,!0);break;case 48:case 49:t.ctrlKey&&(t.preventDefault(),this.toggle())}}},dragstart:function(t){"img"===t.target.localName&&t.preventDefault()},pointerdown:function(t){var e=this.options,n=this.pointers,r=t.buttons,o=t.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(_t(r)&&1!==r||_t(o)&&0!==o||t.ctrlKey))){t.preventDefault(),t.changedTouches?Ot(t.changedTouches,(function(t){n[t.identifier]=Zt(t)})):n[t.pointerId||0]=Zt(t);var i=!!e.movable&&g;e.zoomOnTouch&&e.zoomable&&Object.keys(n).length>1?i=y:e.slideOnTouch&&("touch"===t.pointerType||"touchstart"===t.type)&&this.isSwitchable()&&(i=m),!e.transition||i!==g&&i!==y||Pt(this.image,R),this.action=i}},pointermove:function(t){var e=this.pointers,n=this.action;this.viewed&&n&&(t.preventDefault(),t.changedTouches?Ot(t.changedTouches,(function(t){Tt(e[t.identifier]||{},Zt(t,!0))})):Tt(e[t.pointerId||0]||{},Zt(t,!0)),this.change(t))},pointerup:function(t){var e,n=this,r=this.options,o=this.action,i=this.pointers;t.changedTouches?Ot(t.changedTouches,(function(t){e=i[t.identifier],delete i[t.identifier]})):(e=i[t.pointerId||0],delete i[t.pointerId||0]),o&&(t.preventDefault(),!r.transition||o!==g&&o!==y||It(this.image,R),this.action=!1,p&&o!==y&&e&&Date.now()-e.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&t.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout((function(){Bt(n.image,M,{originalEvent:t})}),50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout((function(){n.imageClicked=!1}),500)):(this.imageClicked=!1,r.backdrop&&"static"!==r.backdrop&&t.target===this.canvas&&(this.clickCanvasTimeout=setTimeout((function(){Bt(n.canvas,D,{originalEvent:t})}),50)))))},resize:function(){var t=this;if(this.isShown&&!this.hiding&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage((function(){t.renderImage()})),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))return void this.stop();Ot(this.player.getElementsByTagName("img"),(function(e){Gt(e,G,t.loadImage.bind(t),{once:!0}),Bt(e,G)}))}},wheel:function(t){var e=this;if(this.viewed&&(t.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50);var n=Number(this.options.zoomRatio)||.1,r=1;t.deltaY?r=t.deltaY>0?1:-1:t.wheelDelta?r=-t.wheelDelta/120:t.detail&&(r=t.detail>0?1:-1),this.zoom(-r*n,!0,null,t)}}},ne={show:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.element,n=this.options;if(n.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(t),this;if(kt(n.show)&&Gt(e,Q,n.show,{once:!0}),!1===Bt(e,Q)||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var r=this.viewer;if(Pt(r,k),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("aria-hidden"),n.transition&&!t){var o=this.shown.bind(this);this.transitioning={abort:function(){zt(r,Z,o),Pt(r,C)}},It(r,R),r.initialOffsetWidth=r.offsetWidth,Gt(r,Z,o,{once:!0}),It(r,C)}else It(r,C),this.shown();return this},hide:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.element,r=this.options;if(r.inline||this.hiding||!this.isShown&&!this.showing)return this;if(kt(r.hide)&&Gt(n,et,r.hide,{once:!0}),!1===Bt(n,et))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var o=this.viewer,i=this.image,a=function(){Pt(o,C),t.hidden()};if(r.transition&&!e){var s=function e(n){n&&n.target===o&&(zt(o,Z,e),t.hidden())},c=function(){At(o,R)?(Gt(o,Z,s),Pt(o,C)):a()};this.transitioning={abort:function(){t.viewed&&At(i,R)?zt(i,Z,c):At(o,R)&&zt(o,Z,s)}},this.viewed&&At(i,R)?(Gt(i,Z,c,{once:!0}),this.zoomTo(0,!1,null,null,!0)):c()}else a();return this},view:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(e=Number(e)||0,this.hiding||this.played||e<0||e>=this.length||this.viewed&&e===this.index)return this;if(!this.isShown)return this.index=e,this.show();this.viewing&&this.viewing.abort();var n=this.element,r=this.options,o=this.title,i=this.canvas,a=this.items[e],s=a.querySelector("img"),c=Mt(s,"originalUrl"),u=s.getAttribute("alt"),l=document.createElement("img");if(Ot(r.inheritedAttributes,(function(t){var e=s.getAttribute(t);null!==e&&l.setAttribute(t,e)})),l.src=c,l.alt=u,kt(r.view)&&Gt(n,rt,r.view,{once:!0}),!1===Bt(n,rt,{originalImage:this.images[e],index:e,image:l})||!this.isShown||this.hiding||this.played)return this;var f=this.items[this.index];f&&(Pt(f,b),f.removeAttribute("aria-selected")),It(a,b),a.setAttribute("aria-selected",!0),r.focus&&a.focus(),this.image=l,this.viewed=!1,this.index=e,this.imageData={},It(l,L),r.loading&&It(i,A),i.innerHTML="",i.appendChild(l),this.renderList(),o.innerHTML="";var h,p,d=function(){var e=t.imageData,n=Array.isArray(r.title)?r.title[1]:r.title;o.innerHTML=Lt(kt(n)?n.call(t,l,e):"".concat(u," (").concat(e.naturalWidth," × ").concat(e.naturalHeight,")"))};return Gt(n,ot,d,{once:!0}),this.viewing={abort:function(){zt(n,ot,d),l.complete?t.imageRendering?t.imageRendering.abort():t.imageInitializing&&t.imageInitializing.abort():(l.src="",zt(l,G,h),t.timeout&&clearTimeout(t.timeout))}},l.complete?this.load():(Gt(l,G,h=function(){zt(l,B,p),t.load()},{once:!0}),Gt(l,B,p=function(){zt(l,G,h),t.timeout&&(clearTimeout(t.timeout),t.timeout=!1),Pt(l,L),r.loading&&Pt(t.canvas,A)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){Pt(l,L),t.timeout=!1}),1e3)),this},prev:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.index-1;return e<0&&(e=t?this.length-1:0),this.view(e),this},next:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.length-1,n=this.index+1;return n>e&&(n=t?0:e),this.view(n),this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.imageData;return this.moveTo(wt(t)?t:n.x+Number(t),wt(e)?e:n.y+Number(e)),this},moveTo:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.element,i=this.options,a=this.imageData;if(t=Number(t),n=Number(n),this.viewed&&!this.played&&i.movable){var s=a.x,c=a.y,u=!1;if(_t(t)?u=!0:t=s,_t(n)?u=!0:n=c,u){if(kt(i.move)&&Gt(o,it,i.move,{once:!0}),!1===Bt(o,it,{x:t,y:n,oldX:s,oldY:c,originalEvent:r}))return this;a.x=t,a.y=n,a.left=t,a.top=n,this.moving=!0,this.renderImage((function(){e.moving=!1,kt(i.moved)&&Gt(o,at,i.moved,{once:!0}),Bt(o,at,{x:t,y:n,oldX:s,oldY:c,originalEvent:r},{cancelable:!1})}))}}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t)),this},rotateTo:function(t){var e=this,n=this.element,r=this.options,o=this.imageData;if(_t(t=Number(t))&&this.viewed&&!this.played&&r.rotatable){var i=o.rotate;if(kt(r.rotate)&&Gt(n,st,r.rotate,{once:!0}),!1===Bt(n,st,{degree:t,oldDegree:i}))return this;o.rotate=t,this.rotating=!0,this.renderImage((function(){e.rotating=!1,kt(r.rotated)&&Gt(n,ct,r.rotated,{once:!0}),Bt(n,ct,{degree:t,oldDegree:i},{cancelable:!1})}))}return this},scaleX:function(t){return this.scale(t,this.imageData.scaleY),this},scaleY:function(t){return this.scale(this.imageData.scaleX,t),this},scale:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=this.element,o=this.options,i=this.imageData;if(t=Number(t),n=Number(n),this.viewed&&!this.played&&o.scalable){var a=i.scaleX,s=i.scaleY,c=!1;if(_t(t)?c=!0:t=a,_t(n)?c=!0:n=s,c){if(kt(o.scale)&&Gt(r,ut,o.scale,{once:!0}),!1===Bt(r,ut,{scaleX:t,scaleY:n,oldScaleX:a,oldScaleY:s}))return this;i.scaleX=t,i.scaleY=n,this.scaling=!0,this.renderImage((function(){e.scaling=!1,kt(o.scaled)&&Gt(r,lt,o.scaled,{once:!0}),Bt(r,lt,{scaleX:t,scaleY:n,oldScaleX:a,oldScaleY:s},{cancelable:!1})}))}}return this},zoom:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=this.imageData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(o.width*t/o.naturalWidth,e,n,r),this},zoomTo:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.element,s=this.options,c=this.pointers,u=this.imageData,l=u.x,f=u.y,h=u.width,p=u.height,d=u.naturalWidth,v=u.naturalHeight;if(_t(t=Math.max(0,t))&&this.viewed&&!this.played&&(i||s.zoomable)){if(!i){var g=Math.max(.01,s.minZoomRatio),m=Math.min(100,s.maxZoomRatio);t=Math.min(Math.max(t,g),m)}if(o)switch(o.type){case"wheel":s.zoomRatio>=.055&&t>.95&&t<1.05&&(t=1);break;case"pointermove":case"touchmove":case"mousemove":t>.99&&t<1.01&&(t=1)}var y=d*t,b=v*t,_=y-h,w=b-p,E=u.ratio;if(kt(s.zoom)&&Gt(a,ft,s.zoom,{once:!0}),!1===Bt(a,ft,{ratio:t,oldRatio:E,originalEvent:o}))return this;if(this.zooming=!0,o){var x=qt(this.viewer),S=c&&Object.keys(c).length>0?$t(c):{pageX:o.pageX,pageY:o.pageY};u.x-=_*((S.pageX-x.left-l)/h),u.y-=w*((S.pageY-x.top-f)/p)}else St(r)&&_t(r.x)&&_t(r.y)?(u.x-=_*((r.x-l)/h),u.y-=w*((r.y-f)/p)):(u.x-=_/2,u.y-=w/2);u.left=u.x,u.top=u.y,u.width=y,u.height=b,u.oldRatio=E,u.ratio=t,this.renderImage((function(){e.zooming=!1,kt(s.zoomed)&&Gt(a,ht,s.zoomed,{once:!0}),Bt(a,ht,{ratio:t,oldRatio:E,originalEvent:o},{cancelable:!1})})),n&&this.tooltip()}return this},play:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var n=this.element,r=this.options;if(kt(r.play)&&Gt(n,pt,r.play,{once:!0}),!1===Bt(n,pt))return this;var o=this.player,i=this.loadImage.bind(this),a=[],s=0,c=0;if(this.played=!0,this.onLoadWhenPlay=i,e&&this.requestFullscreen(e),It(o,N),Ot(this.items,(function(t,e){var n=t.querySelector("img"),u=document.createElement("img");u.src=Mt(n,"originalUrl"),u.alt=n.getAttribute("alt"),u.referrerPolicy=n.referrerPolicy,s+=1,It(u,w),Nt(u,R,r.transition),At(t,b)&&(It(u,C),c=e),a.push(u),Gt(u,G,i,{once:!0}),o.appendChild(u)})),_t(r.interval)&&r.interval>0){var u=function e(){clearTimeout(t.playing.timeout),Pt(a[c],C),It(a[c=(c-=1)>=0?c:s-1],C),t.playing.timeout=setTimeout(e,r.interval)},l=function e(){clearTimeout(t.playing.timeout),Pt(a[c],C),It(a[c=(c+=1)<s?c:0],C),t.playing.timeout=setTimeout(e,r.interval)};s>1&&(this.playing={prev:u,next:l,timeout:setTimeout(l,r.interval)})}return this},stop:function(){var t=this;if(!this.played)return this;var e=this.element,n=this.options;if(kt(n.stop)&&Gt(e,dt,n.stop,{once:!0}),!1===Bt(e,dt))return this;var r=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,Ot(r.getElementsByTagName("img"),(function(e){zt(e,G,t.onLoadWhenPlay)})),Pt(r,N),r.innerHTML="",this.exitFullscreen(),this},full:function(){var t=this,e=this.options,n=this.viewer,r=this.image,o=this.list;return!this.isShown||this.played||this.fulled||!e.inline||(this.fulled=!0,this.open(),It(this.button,S),e.transition&&(Pt(o,R),this.viewed&&Pt(r,R)),It(n,E),n.setAttribute("role","dialog"),n.setAttribute("aria-labelledby",this.title.id),n.setAttribute("aria-modal",!0),n.removeAttribute("style"),Ct(n,{zIndex:e.zIndex}),e.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Tt({},this.containerData),this.renderList(),this.viewed&&this.initImage((function(){t.renderImage((function(){e.transition&&setTimeout((function(){It(r,R),It(o,R)}),0)}))}))),this},exit:function(){var t=this,e=this.options,n=this.viewer,r=this.image,o=this.list;return this.isShown&&!this.played&&this.fulled&&e.inline?(this.fulled=!1,this.close(),Pt(this.button,S),e.transition&&(Pt(o,R),this.viewed&&Pt(r,R)),e.focus&&this.clearEnforceFocus(),n.removeAttribute("role"),n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-modal"),Pt(n,E),Ct(n,{zIndex:e.zIndexInline}),this.viewerData=Tt({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage((function(){t.renderImage((function(){e.transition&&setTimeout((function(){It(r,R),It(o,R)}),0)}))})),this):this},tooltip:function(){var t=this,e=this.options,n=this.tooltipBox,r=this.imageData;return this.viewed&&!this.played&&e.tooltip?(n.textContent="".concat(Math.round(100*r.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):e.transition?(this.fading&&Bt(n,Z),It(n,N),It(n,w),It(n,R),n.removeAttribute("aria-hidden"),n.initialOffsetWidth=n.offsetWidth,It(n,C)):(It(n,N),n.removeAttribute("aria-hidden")),this.tooltipping=setTimeout((function(){e.transition?(Gt(n,Z,(function(){Pt(n,N),Pt(n,w),Pt(n,R),n.setAttribute("aria-hidden",!0),t.fading=!1}),{once:!0}),Pt(n,C),t.fading=!0):(Pt(n,N),n.setAttribute("aria-hidden",!0)),t.tooltipping=!1}),1e3),this):this},toggle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 1===this.imageData.ratio?this.zoomTo(this.imageData.oldRatio,!0,null,t):this.zoomTo(1,!0,null,t),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Tt({},this.initialImageData),this.renderImage()),this},update:function(){var t=this,e=this.element,n=this.options,r=this.isImg;if(r&&!e.parentNode)return this.destroy();var o=[];if(Ot(r?[e]:e.querySelectorAll("img"),(function(e){kt(n.filter)?n.filter.call(t,e)&&o.push(e):t.getImageURL(e)&&o.push(e)})),!o.length)return this;if(this.images=o,this.length=o.length,this.ready){var i=[];if(Ot(this.items,(function(t,e){var n=t.querySelector("img"),r=o[e];r&&n&&r.src===n.src&&r.alt===n.alt||i.push(e)})),Ct(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=i.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var s=this.items[this.index];It(s,b),s.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var t=this.element,e=this.options;return t[v]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),e.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):e.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),e.inline||zt(t,D,this.onStart),t[v]=void 0,this):this}},re={getImageURL:function(t){var e=this.options.url;return e=yt(e)?t.getAttribute(e):kt(e)?e.call(this,t):""},enforceFocus:function(){var t=this;this.clearEnforceFocus(),Gt(document,U,this.onFocusin=function(e){var n=t.viewer,r=e.target;if(r!==document&&r!==n&&!n.contains(r)){for(;r;){if(null!==r.getAttribute("tabindex")||"true"===r.getAttribute("aria-modal"))return;r=r.parentElement}n.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(zt(document,U,this.onFocusin),this.onFocusin=null)},open:function(){var t=this.body;It(t,P),this.scrollbarWidth>0&&(t.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var t=this.body;Pt(t,P),this.scrollbarWidth>0&&(t.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var t=this.element,e=this.options,n=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,e.focus&&(n.focus(),this.enforceFocus()),kt(e.shown)&&Gt(t,tt,e.shown,{once:!0}),!1!==Bt(t,tt)&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var t=this.element,e=this.options,n=this.viewer;e.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),It(n,k),n.removeAttribute("role"),n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-modal"),n.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(kt(e.hidden)&&Gt(t,nt,e.hidden,{once:!0}),Bt(t,nt,null,{cancelable:!1}))},requestFullscreen:function(t){var e=this.element.ownerDocument;if(this.fulled&&!(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)){var n=e.documentElement;n.requestFullscreen?St(t)?n.requestFullscreen(t):n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen&&n.msRequestFullscreen()}},exitFullscreen:function(){var t=this.element.ownerDocument;this.fulled&&(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)&&(t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen())},change:function(t){var e=this.options,n=this.pointers,r=n[Object.keys(n)[0]];if(r){var o=r.endX-r.startX,i=r.endY-r.startY;switch(this.action){case g:0===o&&0===i||(this.pointerMoved=!0,this.move(o,i,t));break;case y:this.zoom(Jt(n),!1,null,t);break;case m:this.action="switched";var a=Math.abs(o);a>1&&a>Math.abs(i)&&(this.pointers={},o>1?this.prev(e.loop):o<-1&&this.next(e.loop))}Ot(n,(function(t){t.startX=t.endX,t.startY=t.endY}))}},isSwitchable:function(){var t=this.imageData,e=this.viewerData;return this.length>1&&t.x>=0&&t.y>=0&&t.width<=e.width&&t.height<=e.height}},oe=h.Viewer,ie=(Xt=-1,function(){return Xt+=1}),ae=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,t),!e||1!==e.nodeType)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Tt({},u,St(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=ie(),this.init()}return i(t,[{key:"init",value:function(){var t=this,e=this.element,n=this.options;if(!e[v]){e[v]=this,n.focus&&!n.keyboard&&(n.focus=!1);var r="img"===e.localName,o=[];if(Ot(r?[e]:e.querySelectorAll("img"),(function(e){kt(n.filter)?n.filter.call(t,e)&&o.push(e):t.getImageURL(e)&&o.push(e)})),this.isImg=r,this.length=o.length,this.images=o,this.initBody(),wt(document.createElement(v).style.transition)&&(n.transition=!1),n.inline){var i=0,a=function(){var e;(i+=1)===t.length&&(t.initializing=!1,t.delaying={abort:function(){clearTimeout(e)}},e=setTimeout((function(){t.delaying=!1,t.build()}),0))};this.initializing={abort:function(){Ot(o,(function(t){t.complete||(zt(t,G,a),zt(t,B,a))}))}},Ot(o,(function(t){var e,n;t.complete?a():(Gt(t,G,e=function(){zt(t,B,n),a()},{once:!0}),Gt(t,B,n=function(){zt(t,G,e),a()},{once:!0}))}))}else Gt(e,D,this.onStart=function(e){var r=e.target;"img"!==r.localName||kt(n.filter)&&!n.filter.call(t,r)||t.view(t.images.indexOf(r))})}}},{key:"build",value:function(){if(!this.ready){var t=this.element,e=this.options,n=t.parentNode,r=document.createElement("div");r.innerHTML=l;var o=r.querySelector(".".concat(v,"-container")),i=o.querySelector(".".concat(v,"-title")),a=o.querySelector(".".concat(v,"-toolbar")),s=o.querySelector(".".concat(v,"-navbar")),c=o.querySelector(".".concat(v,"-button")),u=o.querySelector(".".concat(v,"-canvas"));if(this.parent=n,this.viewer=o,this.title=i,this.toolbar=a,this.navbar=s,this.button=c,this.canvas=u,this.footer=o.querySelector(".".concat(v,"-footer")),this.tooltipBox=o.querySelector(".".concat(v,"-tooltip")),this.player=o.querySelector(".".concat(v,"-player")),this.list=o.querySelector(".".concat(v,"-list")),o.id="".concat(v).concat(this.id),i.id="".concat(v,"Title").concat(this.id),It(i,e.title?Kt(Array.isArray(e.title)?e.title[0]:e.title):k),It(s,e.navbar?Kt(e.navbar):k),Nt(c,k,!e.button),e.keyboard&&c.setAttribute("tabindex",0),e.backdrop&&(It(o,"".concat(v,"-backdrop")),e.inline||"static"===e.backdrop||Ft(u,vt,"hide")),yt(e.className)&&e.className&&e.className.split(gt).forEach((function(t){It(o,t)})),e.toolbar){var f=document.createElement("ul"),h=St(e.toolbar),p=mt.slice(0,3),d=mt.slice(7,9),g=mt.slice(9);h||It(a,Kt(e.toolbar)),Ot(h?e.toolbar:mt,(function(t,n){var r=h&&St(t),o=h?Dt(n):t,i=r&&!wt(t.show)?t.show:t;if(i&&(e.zoomable||-1===p.indexOf(o))&&(e.rotatable||-1===d.indexOf(o))&&(e.scalable||-1===g.indexOf(o))){var a=r&&!wt(t.size)?t.size:t,s=r&&!wt(t.click)?t.click:t,c=document.createElement("li");e.keyboard&&c.setAttribute("tabindex",0),c.setAttribute("role","button"),It(c,"".concat(v,"-").concat(o)),kt(s)||Ft(c,vt,o),_t(i)&&It(c,Kt(i)),-1!==["small","large"].indexOf(a)?It(c,"".concat(v,"-").concat(a)):"play"===o&&It(c,"".concat(v,"-large")),kt(s)&&Gt(c,D,s),f.appendChild(c)}})),a.appendChild(f)}else It(a,k);if(!e.rotatable){var m=a.querySelectorAll('li[class*="rotate"]');It(m,L),Ot(m,(function(t){a.appendChild(t)}))}if(e.inline)It(c,x),Ct(o,{zIndex:e.zIndexInline}),"static"===window.getComputedStyle(n).position&&Ct(n,{position:"relative"}),n.insertBefore(o,t.nextSibling);else{It(c,_),It(o,E),It(o,w),It(o,k),Ct(o,{zIndex:e.zIndex});var y=e.container;yt(y)&&(y=t.ownerDocument.querySelector(y)),y||(y=this.body),y.appendChild(o)}e.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,kt(e.ready)&&Gt(t,X,e.ready,{once:!0}),!1!==Bt(t,X)?this.ready&&e.inline&&this.view(this.index):this.ready=!1}}}],[{key:"noConflict",value:function(){return window.Viewer=oe,t}},{key:"setDefaults",value:function(t){Tt(u,St(t)&&t)}}]),t}();return Tt(ae.prototype,Qt,te,ee,ne,re),ae}()},1024:e=>{"use strict";e.exports=t},314:t=>{"use strict";t.exports=e},1836:t=>{"use strict";t.exports=n},3192:()=>{},281:()=>{},5671:(t,e,n)=>{"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:()=>r})},3144:(t,e,n)=>{"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,{Z:()=>o})},4942:(t,e,n)=>{"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:()=>r})},1002:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,{Z:()=>r})},5977:(t,e,n)=>{"use strict";n.d(e,{CR:()=>r,ev:()=>o});Object.create;function r(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function o(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"==typeof SuppressedError&&SuppressedError},8593:t=>{"use strict";t.exports=JSON.parse('{"_from":"axios@^0.21.1","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.1","name":"axios","escapedName":"axios","rawSpec":"^0.21.1","saveSpec":null,"fetchSpec":"^0.21.1"},"_requiredBy":["/"],"_resolved":"https://bnpm.byted.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@^0.21.1","_where":"/opt/tiger/compile_path/src/code.byted.org/cgfe/linkchat-react","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')}},o={},i,a,s,c,u;function l(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={id:t,loaded:!1,exports:{}};return r[t].call(n.exports,n,n.exports,l),n.loaded=!0,n.exports}l.m=r,l.amdO={},i=[],l.O=(t,e,n,r)=>{if(!e){var o=1/0;for(u=0;u<i.length;u++){for(var[e,n,r]=i[u],a=!0,s=0;s<e.length;s++)(!1&r||o>=r)&&Object.keys(l.O).every((t=>l.O[t](e[s])))?e.splice(s--,1):(a=!1,r<o&&(o=r));if(a){i.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=i.length;u>0&&i[u-1][2]>r;u--)i[u]=i[u-1];i[u]=[e,n,r]},l.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return l.d(e,{a:e}),e},s=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,l.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var n=Object.create(null);l.r(n);var r={};a=a||[null,s({}),s([]),s(s)];for(var o=2&e&&t;"object"==typeof o&&!~a.indexOf(o);o=s(o))Object.getOwnPropertyNames(o).forEach((e=>r[e]=()=>t[e]));return r.default=()=>t,l.d(n,r),n},l.d=(t,e)=>{for(var n in e)l.o(e,n)&&!l.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},l.f={},l.e=t=>Promise.all(Object.keys(l.f).reduce(((e,n)=>(l.f[n](t,e),e)),[])),l.u=t=>t+".756d436d9e9cf48be395.js",l.miniCssF=t=>{},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),l.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),c={},u="Linkchat-:",l.l=(t,e,n,r)=>{if(c[t])c[t].push(e);else{var o,i;if(void 0!==n)for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var f=a[s];if(f.getAttribute("src")==t||f.getAttribute("data-webpack")==u+n){o=f;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,l.nc&&o.setAttribute("nonce",l.nc),o.setAttribute("data-webpack",u+n),o.src=t,0!==o.src.indexOf(window.location.origin+"/")&&(o.crossOrigin="anonymous")),c[t]=[e];var h=(e,n)=>{o.onerror=o.onload=null,clearTimeout(p);var r=c[t];if(delete c[t],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((t=>t(n))),e)return e(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),i&&document.head.appendChild(o)}},l.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),l.j=348,l.p="https://lf3-cdn-tos.bytegoofy.com/goofy/cg/ngcc/linkchat_static/",(()=>{var t={348:0,606:0,949:0,405:0,784:0};l.f.j=(e,n)=>{var r=l.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else if(405!=e){var o=new Promise(((n,o)=>r=t[e]=[n,o]));n.push(r[2]=o);var i=l.p+l.u(e),a=new Error;l.l(i,(n=>{if(l.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+e,e)}else t[e]=0},l.O.j=e=>0===t[e];var e=(e,n)=>{var r,o,[i,a,s]=n,c=0;if(i.some((e=>0!==t[e]))){for(r in a)l.o(a,r)&&(l.m[r]=a[r]);if(s)var u=s(l)}for(e&&e(n);c<i.length;c++)o=i[c],l.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return l.O(u)},n=self.webpackJsonp_linkchat=self.webpackJsonp_linkchat||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var f=l.O(void 0,[405,321],(()=>l(9305)));return f=l.O(f),f})()));
//# sourceMappingURL=chat.43f1c058c0f4c72dc62f.js.map