define("pkg/@alife/vbar-atmo-dacu-handle/1.2.11/index",["preact-compat","jquery"],function(e,t){return function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=a(1),r=n(o),s=a(2),l=(a(7),a(24));a(25),e.exports={height:172,minHeight:70,panel:{name:"dacubar",title:"\u4f1a\u573a\u5bfc\u822a",showHeader:!1,render:function(){return s.createElement("div",{id:"vbar-dacubar-hallpanel","data-spm":"tools-page-list",style:{paddingBottom:30,backgroundColor:"#343434"}})}},resource:{css:"//astyle.alicdn.com/pkg/"+l.name+"/"+l.version+"/index.css"},aop:{"before:bindEvent":function(){},"after:bindEvent":function(){},"before:render":function(){},"after:render":function(){}},bindEvent:function(e){},render:function(e,t){return s.createElement("div",{className:"vbar-atom-dacu-handle","data-spm":"panel-tools",style:{height:"100%"}},s.createElement(r["default"],{state:e,vbar:this}))}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=a(2),i=n(l),c=a(3),u=n(c),d=a(8),f=n(d),p=a(9),m=(n(p),a(23)),h=n(m),g=function(e,t){t&&(this.element.state.panel||window.goldlog&&window.goldlog.record&&goldlog.record("/1688market.tool-panel.list-show","CLK","","H1507354101"),this.showPanel(),setTimeout(function(){document.getElementById("vbar-dacubar-hallpanel")&&(document.getElementById("vbar-dacubar-hallpanel").innerHTML=e,document.getElementById("vbar-dacubar-hallpanel").style.height="100%")}))},b=function(e){function t(){o(this,t);var a=r(this,e.call(this));return a.state={isRun:!1,hasHall:!1,hasMsg:!1,hasGold:!1,hasAction:!1,selfLink:{},hall:[],bubble:[],mainHall:{},topBanner:{}},a}return s(t,e),t.prototype.componentWillMount=function(){var e=this;(0,u["default"])(function(t){e.setState({isRun:t.isRun,hasPreference:t.hasPreference,hasHall:t.hasHall,hasMsg:t.hasMsg,hasGold:t.hasGold,hall:t.hall,bubble:t.bubble,mainHall:t.mainHall,topBanner:t.topBanner,background:t.background,selfLink:t.selfLink})})},t.prototype.render=function(){var e=this.props,t=e.state,a=e.vbar,n=this.state,o=n.isRun,r=n.hasHall,s=n.hasMsg,l=(n.hasGold,n.hasAction,n.hall),c=n.mainHall,u=n.selfLink,d=n.topBanner,p=n.bubble,m=n.background,b=t.panel,v=b?36:103,y="mini"==t.size?"none":"block",w={backgroundImage:"url("+m+")",backgroundPosition:t.panel?"bottom right":"bottom left"},E=(0,h["default"])(l,c,d);return i["default"].createElement("div",{style:{height:"100%"}},i["default"].createElement("div",{className:"atom-dacu-bubble"},i["default"].createElement(f["default"],{show:s,data:p})),i["default"].createElement("div",{className:"atom-dacu-panel",style:{width:v,display:y}},o?i["default"].createElement("div",{className:"panel-show",style:w,onClick:function(){return g.call(a,E,r)}}):null,r||"true"===r?i["default"].createElement("div",{className:"panel-item "+(b?"fold":""),style:{bottom:"40px",backgroundPosition:"0 0"},onClick:function(){return g.call(a,E,r)}},"\u4f1a\u573a\u5bfc\u822a"):null,u.text&&u.url?i["default"].createElement("div",{className:"panel-item "+(b?"fold":""),style:{bottom:0,backgroundPosition:"-1px -69px"}},i["default"].createElement("a",{href:u.url,target:"_blank","data-spm":"tutorial"},u.text)):null))},t}(l.Component);t["default"]=b},function(t,a){t.exports=e},function(e,t,a){"use strict";t.__esModule=!0;var n=a(4),o=a(7),r={mockDate:""};try{r=n(window.location.href,!0).query}catch(s){}var l=function(e){var t,a=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(a))?unescape(t[2]):null},i=function(e){var t=window.localStorage,a="_vbar_dacu_irecom_";if(t[a])e&&e(t.getItem(a));else{var n=l("last_mid")||"";void 0!==n?o.ajax({url:"https://tui.taobao.com/recommend?appid=9026&member_id="+n+"&cnt=1",dataType:"jsonp"}).done(function(n){if(n.error)return e&&e("nofav"),!1;var o=n.result;if(o&&o instanceof Array&&o.length>0&&o[0].hasOwnProperty("cateId1")){var r=o[0].cateId1;t.setItem(a,r),e&&e(r)}else e&&e("nofav")}):e&&e("nofav")}},c=function(e,t){var a=e.func.preference;if(a){for(var n=!1,r=e.preference.split(","),s=0,l=r.length;s<l;s++)if(1*o.trim(r[s])===1*t){n=!0;break}return n}return!0},u=function(e,t){var a=void 0;if("nofav"===t){var n=[];e.forEach(function(e){n.push(e)}),a=n[n.length-1]}else e.forEach(function(e){c(e,t)&&(a=e)});return a},d=function(e,t){o.ajax({url:"//widget.1688.com/front/getJsonComponent.json",data:{namespace:"dacuToolbar",widgetId:"dacuToolbar",methodName:"execute",key:"pcToolBar",mockDate:r.mockDate||""},dataType:"jsonp"}).done(function(a){var n=a.content,o=n.config;if(Array.isArray(o)){var r=u(o,e),s={};s=r?{isRun:!0,hasHall:r.func.map,hasMsg:r.func.pop,hasPreference:r.func.preference||!1,hasGold:r.func.goldbox,hall:r.mapping||[],bubble:r.bubble||[],mainHall:r.mainPage||{},topBanner:r.topBanner||{},background:r.background||"",selfLink:r.selfLink||{}}:{isRun:!1,hasHall:!1,hasMsg:!1,hasGold:!1,hasPreference:!1,hall:[],bubble:[],mainHall:{},topBanner:{},selfLink:{},background:""},t&&t(s)}}).fail(function(){t&&t({isRun:!1,hasHall:!1,hasMsg:!1,hasGold:!1,hasPreference:!1,hall:[],bubble:[],mainHall:{},topBanner:{},selfLink:{},background:""})})},f=function(e){i(function(t){d(t,e)})};t["default"]=f},function(e,t,a){(function(t){"use strict";function n(e){return(e?e:"").toString().replace(h,"")}function o(e){var a;a="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};var n=a.location||{};e=e||n;var o,r={},s=typeof e;if("blob:"===e.protocol)r=new l(unescape(e.pathname),{});else if("string"===s){r=new l(e,{});for(o in b)delete r[o]}else if("object"===s){for(o in e)o in b||(r[o]=e[o]);void 0===r.slashes&&(r.slashes=f.test(e.href))}return r}function r(e){e=n(e);var t=p.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function s(e,t){if(""===e)return t;for(var a=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=a.length,o=a[n-1],r=!1,s=0;n--;)"."===a[n]?a.splice(n,1):".."===a[n]?(a.splice(n,1),s++):s&&(0===n&&(r=!0),a.splice(n,1),s--);return r&&a.unshift(""),"."!==o&&".."!==o||a.push(""),a.join("/")}function l(e,t,a){if(e=n(e),!(this instanceof l))return new l(e,t,a);var i,c,f,p,m,h,b=g.slice(),v=typeof t,y=this,w=0;for("object"!==v&&"string"!==v&&(a=t,t=null),a&&"function"!=typeof a&&(a=d.parse),t=o(t),c=r(e||""),i=!c.protocol&&!c.slashes,y.slashes=c.slashes||i&&t.slashes,y.protocol=c.protocol||t.protocol||"",e=c.rest,c.slashes||(b[3]=[/(.*)/,"pathname"]);w<b.length;w++)p=b[w],"function"!=typeof p?(f=p[0],h=p[1],f!==f?y[h]=e:"string"==typeof f?~(m=e.indexOf(f))&&("number"==typeof p[2]?(y[h]=e.slice(0,m),e=e.slice(m+p[2])):(y[h]=e.slice(m),e=e.slice(0,m))):(m=f.exec(e))&&(y[h]=m[1],e=e.slice(0,m.index)),y[h]=y[h]||(i&&p[3]?t[h]||"":""),p[4]&&(y[h]=y[h].toLowerCase())):e=p(e);a&&(y.query=a(y.query)),i&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=s(y.pathname,t.pathname)),u(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(p=y.auth.split(":"),y.username=p[0]||"",y.password=p[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}function i(e,t,a){var n=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(a||d.parse)(t)),n[e]=t;break;case"port":n[e]=t,u(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,/:\d+$/.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!a;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";n[e]=t.charAt(0)!==o?o+t:t}else n[e]=t;break;default:n[e]=t}for(var r=0;r<g.length;r++){var s=g[r];s[4]&&(n[s[1]]=n[s[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function c(e){e&&"function"==typeof e||(e=d.stringify);var t,a=this,n=a.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(a.slashes?"//":"");return a.username&&(o+=a.username,a.password&&(o+=":"+a.password),o+="@"),o+=a.host+a.pathname,t="object"==typeof a.query?e(a.query):a.query,t&&(o+="?"!==t.charAt(0)?"?"+t:t),a.hash&&(o+=a.hash),o}var u=a(5),d=a(6),f=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,p=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,m="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",h=new RegExp("^"+m+"+"),g=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],b={hash:1,query:1};l.prototype={set:i,toString:c},l.extractProtocol=r,l.location=o,l.trimLeft=n,l.qs=d,e.exports=l}).call(t,function(){return this}())},function(e,t){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t){"use strict";function a(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function n(e){try{return encodeURIComponent(e)}catch(t){return null}}function o(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,o={};t=n.exec(e);){var r=a(t[1]),s=a(t[2]);null===r||null===s||r in o||(o[r]=s)}return o}function r(e,t){t=t||"";var a,o,r=[];"string"!=typeof t&&(t="?");for(o in e)if(l.call(e,o)){if(a=e[o],a||null!==a&&a!==s&&!isNaN(a)||(a=""),o=n(o),a=n(a),null===o||null===a)continue;r.push(o+"="+a)}return r.length?t+r.join("&"):""}var s,l=Object.prototype.hasOwnProperty;t.stringify=r,t.parse=o},function(e,a){e.exports=t},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=a(2),i=n(l),c=a(7),u=(n(c),window.location.href.indexOf("_vbarDebuger_=1")!==-1,"s.1688.com"===window.location.host),d=function(e){function t(a){o(this,t);var n=r(this,e.call(this,a)),s=!u&&a.show;return n.state={show:s},n}return s(t,e),t.prototype.componentWillReceiveProps=function(e){var t=!u&&e.show,a=this.getCurrentBubble(e.data),n=e.show&&a.st;n&&(this.state={show:t,bubbleText:a.res.bubbleText,bubbleTitle:a.res.bubbleTitle,bubbleUrl:a.res.bubbleUrl})},t.prototype.componentWillMount=function(){this.autoClose()},t.prototype.getCurrentBubble=function(e){var t={},a=!1,n=window.localStorage,o=(new Date).getTime(),r="irecmstime";return e.forEach(function(e){var n=new Date(e.bubbleEndtime).getTime();o>=n&&o-n<=9e5&&(t=e,a=!0)}),n&&n.getItem(r)?(a=!1,o-n.getItem(r)>9e5&&n.removeItem(r),o<n.getItem(r)&&n.removeItem(r)):a&&n.setItem(r,o),{st:a,res:t}},t.prototype.autoClose=function(e){var t=this;setTimeout(function(){t.setState({show:!1})},5e3)},t.prototype.popClose=function(){this.setState({show:!1})},t.prototype.render=function(){var e=this,t=this.state,a=t.show,n=t.bubbleTitle,o=t.bubbleText,r=t.bubbleUrl,s=t.bubbleButton;return i["default"].createElement("div",null,a?i["default"].createElement("div",{className:"app-bar-meet-message"},i["default"].createElement("span",{className:"close",onClick:function(){return e.popClose()}}),i["default"].createElement("div",{className:"title"},n),i["default"].createElement("div",{className:"text"},o),i["default"].createElement("div",{className:"link"},i["default"].createElement("a",{href:r},s||"\u7acb\u5373\u9886\u53d6"))):"")},t}(i["default"].Component);t["default"]=d},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=a(2),i=n(l),c=a(10),u=n(c),d=a(7),f=n(d),p=a(11),m=n(p);a(18);var h=a(22),g=n(h),b=window.location.href.indexOf("mockDate=")!==-1,v=document.all?"goldbox-fall-ie":"goldbox-fall",y=window.localStorage,w=(new Date).getTime(),E=function(e){function t(a){o(this,t);var n=r(this,e.call(this,a));return n.state={boxShow:!1,contentCls:"holder",fallClassName:"",tipElement:""},n}return s(t,e),t.prototype.componentWillMount=function(){u["default"].init()},t.prototype.componentDidMount=function(){if("false"!==this.props.run){var e=this;this.getGoldCondition(function(t){e.setState({boxShow:!0,activityId:t})})}},t.prototype.queryCondition=function(e){m["default"].getData("getPersonalRedPacket",{isOpenPush:!0},{type:"get",csrfToken:!0}).then(function(t){t.content.canlottery&&(window.goldlog&&goldlog.record("/1688opmarket.op.920goldbox","EXP","","GET"),t.content.data&&e&&e(b?t.content.data.activityId:8769))})},t.prototype.getGoldCondition=function(e){var t=y.getItem("toolbarboxcachetime");t?(w-t<1e4&&this.queryCondition(e),w-t>18e5&&(this.queryCondition(e),y.setItem("toolbarboxcachetime",w))):(y.setItem("toolbarboxcachetime",w),this.queryCondition(e))},t.prototype.getActivity=function(e){var t=this,a=u["default"].getUA(),n=u["default"].getUmidToken();window.localStorage;window.goldlog&&goldlog.record("/1688opmarket.op.920goldboxaction","CLK","","GET"),f["default"].ajax({url:"//huopin.1688.com/lottery/lot/draw.jsonp",dataType:"jsonp",data:{activityId:t.state.activityId,ua:a,umidtoken:n}}).done(function(a){if(a.content.success){if("again"!==e){var n=t.state.chances;t.setState({chances:n-1})}var o=a.content.data;o.isLucky?o.prizemodel&&o.prizemodel.money?t.result("zfb",o):o.prizemodel&&o.prizemodel.count&&t.result("jhq",o):"noluck"===o.reason?t.result("over"):t.result("fail")}else"notLogin"===a.content.data.reason?window.lofty.define(["sys/logist/1.0","https://astyle.alicdn.com/sys/css/logist/logist.css"],function(e){e.init({source:"bar",tab:"login",onLoginSuccess:function(){window.location.reload()}})}):t.result("fail")})},t.prototype.boxClose=function(){this.setState({boxShow:!1})},t.prototype.lotteryAction=function(){return this.state.chances<=0?(this.result("over"),!1):(this.boxClose(),void this.getTips())},t.prototype.getTips=function(){this.getActivity()},t.prototype.setContentClass=function(e){this.setState({contentCls:e})},t.prototype.result=function(e,t){var a=this,n=void 0;switch(a.setState({contentCls:""}),e){case"zfb":n=a.zfbSuccessResultMsg("box-type-jhq",t);break;case"jhq":n=a.jhqSuccessResultMsg("box-type-jhq",t);break;case"fail":n=a.failResultMsg("box-type-fail",t);break;case"over":n=a.nochanceResultMsg("box-type-nochance",t);break;case"nochance":n=a.nochanceResultMsg("box-type-nochance",t);break;default:n=a.failResultMsg("box-type-fail",t)}a.setState({fallClassName:"",tipElement:n}),setTimeout(function(){a.setState({fallClassName:v})},100)},t.prototype.zfbSuccessResultMsg=function(e,t){return this.setContentClass(e),i["default"].createElement("div",{className:"prize-info"},i["default"].createElement("div",{className:"info-pane"},i["default"].createElement("div",{className:"success"},i["default"].createElement("div",{className:"msg"},i["default"].createElement("span",{className:"prizes"},t.prizemodel.money/100),i["default"].createElement("span",{className:"unit"},"\u5143")),i["default"].createElement("div",{className:"des"},i["default"].createElement("p",{className:"p1"},"\u606d\u559c\u4f60\u83b7\u5f97",i["default"].createElement("span",{className:"col"},t.prizemodel.money/100,"\u5143"),"\u7ea2\u5305"),i["default"].createElement("p",{className:"p2"},"\u4ec5\u96502018\u5e749\u670820\u65e5\u5f53\u5929\u4f7f\u7528")))))},t.prototype.nochanceResultMsg=function(e){return this.setContentClass(e),i["default"].createElement("div",{className:"prize-info"},i["default"].createElement("div",{className:"info-pane"},i["default"].createElement("div",{className:"nochance"},i["default"].createElement("div",{className:"des"},i["default"].createElement("p",{className:"p1"},"\u60a8\u7684\u9886\u5956\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650!")),i["default"].createElement("div",{className:"action"},"\u53bb\u4f1a\u573a\u901b\u901b"))))},t.prototype.failResultMsg=function(e){return this.setContentClass(e),i["default"].createElement("div",{className:"prize-info"},i["default"].createElement("div",{className:"info-pane"},i["default"].createElement("div",{className:"fail"},i["default"].createElement("div",{className:"des"},i["default"].createElement("p",{className:"p1"},"\u5f88\u9057\u61be\uff0c",i["default"].createElement("br",null),"\u5956\u54c1\u4e0e\u60a8\u64e6\u80a9\u800c\u8fc7\uff01")))))},t.prototype.jhqSuccessResultMsg=function(e,t){return this.setContentClass(e),i["default"].createElement("div",{className:"prize-info"},i["default"].createElement("div",{className:"info-pane"},i["default"].createElement("div",{className:"success"},i["default"].createElement("div",{className:"msg"},i["default"].createElement("span",{className:"prizes"},10*t.prizemodel.count),i["default"].createElement("span",{className:"unit"},"\u5143")),i["default"].createElement("div",{className:"des"},i["default"].createElement("p",{className:"p1"},"\u606d\u559c\u4f60\u83b7\u5f97",i["default"].createElement("span",{className:"col"},10*t.prizemodel.count,"\u5143"),"\u8fdb\u8d27\u5238"),i["default"].createElement("p",{className:"p2"},"\u4ec5\u96502018\u5e749\u670820\u65e5\u5f53\u5929\u4f7f\u7528")))))},t.prototype.closeGold=function(){this.setState({fallClassName:""})},t.prototype.lotteryStr=function(){var e,t=this,a=(0,g["default"])((e={goldbox:!0},e[""+this.state.fallClassName]=this.state.fallClassName,e));return this.state.fallClassName?i["default"].createElement("div",null,i["default"].createElement("div",{className:"glodBoxShadow",onClick:function(){return t.closeGold()}}),i["default"].createElement("div",{className:a},i["default"].createElement("span",{className:"close",onClick:function(){return t.closeGold()}}),i["default"].createElement("div",{className:"box-content"},i["default"].createElement("div",{className:this.state.contentCls},i["default"].createElement("div",{className:"light"}),i["default"].createElement("div",{className:"linelight1"}),i["default"].createElement("div",{className:"linelight2"}),i["default"].createElement("div",{className:"linelight3"}),i["default"].createElement("div",{className:"linelight4"}),i["default"].createElement("div",{className:"star-pos star-1"},i["default"].createElement("div",{className:"star"})),i["default"].createElement("div",{className:"star-pos star-2"},i["default"].createElement("div",{className:"star"})),i["default"].createElement("div",{className:"star-pos star-3"},i["default"].createElement("div",{className:"star"})),i["default"].createElement("div",{className:"star-pos star-4"},i["default"].createElement("div",{className:"star"})),i["default"].createElement("div",{className:"dust"},i["default"].createElement("div",{className:"step-1"}),i["default"].createElement("div",{className:"step-2"}),i["default"].createElement("div",{className:"step-3"})),i["default"].createElement("div",{className:"lock"}),i["default"].createElement("div",{className:"box-back"}),i["default"].createElement("div",{className:"aniu"}),i["default"].createElement("div",{className:"aniu-hand"}),i["default"].createElement("div",{className:"box"}),i["default"].createElement("div",{className:"cover"}),i["default"].createElement("div",{className:"lottery-msg"},this.state.tipElement),i["default"].createElement("div",{className:"action-position"},i["default"].createElement("span",{className:"action-lottery",onClick:function(){return t.lotteryAction()}}),i["default"].createElement("a",{href:"//96.1688.com/index.html?tracelog=201796gjtgold",className:"goto-index"})),i["default"].createElement("div",{className:"mobile"},i["default"].createElement("img",{src:"//img.alicdn.com/tfs/TB1bNEFPVXXXXbpapXXXXXXXXXX-135-159.png"})))))):""},t.prototype.render=function(){var e=this;if("false"===this.props.run)return null;var t=this.state.boxShow?i["default"].createElement("div",{className:"app-bar-goldbox"},i["default"].createElement("div",{className:"app-bar-golden-lottery",onClick:function(){return e.lotteryAction()}},i["default"].createElement("img",{src:"//cbu01.alicdn.com/cms/upload/2016/314/248/2842413_495534923.png"})),i["default"].createElement("div",{className:"app-bar-golden-bglight"}),i["default"].createElement("span",{className:"close",onClick:function(){return e.boxClose()}})):"",a=this.lotteryStr();return i["default"].createElement("div",null,t,a)},t}(i["default"].Component);t["default"]=E},function(e,t){"use strict";t.__esModule=!0;var a=(window,{ctl:null,init:function(){var e=location.protocol+"//g.alicdn.com/sd/ctl/ctl.js",t=document.createElement("script");t.src=e,document.getElementsByTagName("head")[0].appendChild(t),t.onload=function(){a.ctl=ctl.noConflict(),a.ctl.config("PC"),a.ctl.ready(function(){})}},getUA:function(){return a.ctl.getUA()},getUmidToken:function(){return a.ctl.getUmidToken()}});t["default"]=a},function(e,t,a){function n(e,t,a,n,i){i=i||{};var c=r.getConfig(),u=i.type||c.type||"get",d=i.dataType||c.dataType||"jsonp",f=o.extend({namespace:e,widgetId:t,methodName:a,params:JSON.stringify(n)},n);return"post"==u&&"json"==d?s(f,i,"post"):"get"==u&&"json"==d?s(f,i,"get"):"get"==u&&"jsonp"==d?l(f,i):l(f,i)}var o=a(7),r=a(12),s=a(13),l=a(17);e.exports={callService:function(e,t,a,o,r){return n(e,t,a,o,r)},getData:function(e,t,a){if(!e)throw new Error("widgetId\u4e3a\u7a7a\uff01");return n(e,e,"execute",t,a)}}},function(e,t,a){var n=a(7);e.exports={addHandler:function(e,t,a){e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent?e.attachEvent("on"+t,a):e["on"+t]=a},removeHandler:function(e,t,a){e.removeEventListener?e.removeEventListener(t,a):e.detachEvent?e.detachEvent("on"+t,a):e["on"+t]=null},isAliDomain:function(e,t){var a=["tmall.com","tmall.hk","taobao.com","taobaocdn.com","tbcdn.cn","1688.com","alibaba.com","aliyun.com","alipay.com","alisoft.com","alimama.com","hitao.com","aliexpress.com","laiwang.com","etao.com","kissyui.com","95095.com","taohua.com","tmall.net","tmall.com.hk","taobao.net","taobao.org","alibaba-inc.com","1688.net","alibaba.net","aliyun.net","alipay.net","alisoft.net","alimama.net","hitao.net","aliexpress.net","laiwang.net","etao.net","alicdn.com","aliimg.com"];"undefined"!=typeof t&&(a=a.concat(t));var n=new RegExp("^http(s)?:\\/\\/[a-z0-9-\\.]*("+a.join("|")+")","i");e+="";var o=e.match(n);return!!o},isAliTestDomain:function(e){if(e||(e=document.location.href),this.isAliDomain(e))return/-test\./.test(e)},parseURL:function(e){var t=document.createElement("a");return t.href=e,{source:e,protocol:t.protocol,host:t.hostname,port:t.port,query:t.search,params:function(){for(var e,a={},n=t.search.replace(/^\?/,"").split("&"),o=n.length,r=0;r<o;r++)n[r]&&(e=n[r].split("="),a[e[0]]=decodeURIComponent(e[1]));return a}(),file:(t.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:t.hash.replace("#",""),path:t.pathname.replace(/^([^\/])/,"/$1"),relative:(t.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:t.pathname.replace(/^\//,"").split("/")}},getConfig:function(){var e={};return window._MboxConfig&&"object"==typeof window._MboxConfig&&(e=n.extend(e,window._MboxConfig)),e}}},function(e,t,a){function n(e){return new s({bridgeUrl:e.bridgeUrl})}var o=a(7),r=(a(14),a(12)),s=a(15),l={urlTpl:"//widget"+(r.isAliTestDomain()?"-test":"")+".1688.com/front/getJsonComponent.json?namespace={namespace}&widgetId={widgetId}&methodName={methodName}",dataType:"jsonp",transType:"direct",type:"get"},i={urlTpl:"//widget"+(r.isAliTestDomain()?"-test":"")+".1688.com/front/ajax/getJsonComponent.json?namespace={namespace}&widgetId={widgetId}&methodName={methodName}",csrfUrlTpl:"//widget"+(r.isAliTestDomain()?"-test":"")+".1688.com/front/ajax/getJsonComponent.json?namespace={namespace}&widgetId={widgetId}&methodName={methodName}",bridgeUrl:"//widget"+(r.isAliTestDomain()?"-test":"")+".1688.com/front/ajax/bridge.html?target={target}",dataType:"json",transType:"transport",type:"post"};e.exports=function(e,t,a){var s=r.getConfig(),c=i,u=t.transType||s.transType||c.transType||"transport";t.transType&&(u=t.transType);var d=t.urlTpl||s.urlTpl||c.urlTpl,f=!!t.csrfToken;f||(d=l.urlTpl);var p=d.replace(/\{([\w]+)\}/g,function(t,a){return e[a]||""}),m=r.parseURL(p),h="//"+m.host+(80===m.port||443===m.port?"":":"+m.port)+m.path;if("proxy"==u)return o.extend(t,{dataType:"json",type:a||"post",data:e}),o.ajax(h,t);var g={urlTpl:d,csrfUrlTpl:"//widget"+(r.isAliTestDomain()?"-test":"")+".1688.com/front/ajax/getJsonComponent.json?namespace={namespace}&widgetId={widgetId}&methodName={methodName}",bridgeUrl:"//widget"+(r.isAliTestDomain()?"-test":"")+".1688.com/front/ajax/bridge.html?target={target}"},b={url:h,data:o.extend({},e,{namespace:e.namespace,widgetId:e.widgetId,methodName:e.methodName}),options:{type:a||"post",crsfToken:f}};return n(g).send(b)}},function(e,t){function a(){if(""===document.cookie)return{};for(var e=document.cookie.split("; "),t={},a=0,n=e.length;a<n;a++){var o=e[a].split("=");t[o[0]]=o[1]}return t}function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}var o={options:{path:"",domain:"",expires:7,secure:!1,raw:!1},set:function(e,t,a){(arguments.length<3||3==arguments.length&&"undefined"==typeof a)&&(a={});var n=void 0!=a.expires?a.expires:this.options.expires||"",o=typeof n;"string"===o&&""!==n?n=new Date(n):"number"===o&&(n=new Date(+new Date+864e5*n)),""!==n&&"toUTCString"in n&&(n="; expires="+n.toUTCString());var r=a.path||this.options.path;r=r?"; path="+r:"";var s=a.domain||this.options.domain;s=s?"; domain="+s:"";var l="undefined"==typeof a.secure?this.options.secure?"; secure":"":a.secure?"; secure":"",i="undefined"!=typeof a.raw?a.raw:this.options.raw,c=i?function(e){return e}:escape;return i===!0?document.cookie=e+"="+t+n+r+s+l:document.cookie=c(e)+"="+c(t)+n+r+s+l,this},get:function(e,t){t=t||{};var o=a(),r=t.raw?function(e){return e}:unescape;if(n(e)){for(var s={},l=0,i=e.length;l<i;l++){var c=r(e[l]),u=o[c];"undefined"!=typeof u&&(u=r(u)),s[c]=u?u:null}return s}e=r(e);var u=o[e];return"undefined"!=typeof u&&(u=r(u)),u=u?u:null},remove:function(e){if(n(e))for(var t=0,a=e.length;t<a;t++)this.set(e[t],"",{expires:-1});else"string"==typeof e&&this.set(e,"",{expires:-1});return this}};e.exports=o},function(e,t,a){function n(){return"brg-"+c++ +(1e4*Math.random()).toFixed(0)}function o(e,t,a){var n=document.createElement("iframe");return t=t.replace("{target}",e),n.name=e,n.src=t,n.style.display="none",n.onload=function(){a.resolve()},n.onerror=function(){a.reject()},document.body.appendChild(n),n}function r(e,t){var a=new i(e,"mbox");return a.addTarget(t.contentWindow,e),a}function s(e){this.name=n(),this.bridgeUrl=e.bridgeUrl||"//astyle.alicdn.com/pkg/@alife/refly-mbox/2.0.5/examples/bridge.html?target={target}",this.defer=l.Deferred(),this.iframe=o(this.name,this.bridgeUrl,this.defer),this.messenger=r(this.name,this.iframe),this.messenger.listen(function(e){try{var t=JSON.parse(e),a=u[t.id];void 0==u[t.id],a&&a.defer&&a.defer.resolve(t.data)}catch(n){console.log(n)}})}var l=a(7),i=a(16),c=0,u={};s.prototype.send=function(e){var t=this,a=n();return e["id"]=a,u[a]={data:e,defer:l.Deferred()},this.defer.then(function(){t.messenger.send(JSON.stringify(e))}),u[a].defer},e.exports=s},function(e,t,a){function n(e,t){this.target=e,this.name=t}function o(e,t){this.targets={},this.name=e,this.listenFunc=[],s=t||s,"string"!=typeof s&&(s=s.toString()),this.initListen()}var r=(a(7),a(12)),s="[PROJECT_NAME]",l="postMessage"in window;l?n.prototype.send=function(e){this.target.postMessage(s+e,"*")}:n.prototype.send=function(e){var t=window.navigator[s+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(s+e,window)},o.prototype.addTarget=function(e,t){var a=new n(e,t);this.targets[t]=a},o.prototype.initListen=function(){var e=this,t=function(t){var a;if("object"==typeof t&&t.data){if(a=t.data,!new RegExp("^"+s).test(a))return!1;if(a=a.slice(s.length),!r.isAliDomain(t.origin))throw new Error("invalid message origin")}else a=t;for(var n=0;n<e.listenFunc.length;n++)e.listenFunc[n](a)};l?r.addHandler(window,"message",t):window.navigator[s+this.name]=t},o.prototype.listen=function(e){this.listenFunc.push(e)},o.prototype.clear=function(){this.listenFunc=[]},o.prototype.send=function(e,t){var a,n=this.targets;if(1==arguments.length){t=e;for(a in n)n.hasOwnProperty(a)&&n[a].send(t)}else{if(2!=arguments.length)throw new Error("params are lost.");if("undefined"==typeof e||""==e)throw new Error("target are invalid.");n[e].send(t)}},e.exports=o},function(e,t,a){var n=a(7),o=a(14),r=a(12),s=(a(15),{urlTpl:"//widget"+(r.isAliTestDomain()?"-test":"")+".1688.com/front/getJsonComponent.json?namespace={namespace}&widgetId={widgetId}&methodName={methodName}",dataType:"jsonp",transType:"direct",type:"get"});e.exports=function(e,t){var a=s,l=a.urlTpl,i=l.replace(/\{([\w]+)\}/g,function(t,a){return e[a]||""});t.csrfToken&&(e["_tb_token_"]=o.get("_tb_token_"));var c=r.parseURL(i),u="//"+c.host+(80!==c.port&&443!==c.port&&c.port?":"+c.port:"")+c.path;return n.extend(t,{dataType:"jsonp",type:"GET",data:e}),n.ajax(u,t)}},function(e,t){},,,,function(e,t,a){var n,o;/*!
   Copyright (c) 2017 Jed Watson.
   Licensed under the MIT License (MIT), see
   http://jedwatson.github.io/classnames
 */
!function(){"use strict";function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var s=a.apply(null,n);s&&e.push(s)}else if("object"===o)for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}var r={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?(a["default"]=a,e.exports=a):(n=[],o=function(){return a}.apply(t,n),!(void 0!==o&&(e.exports=o)))}()},function(e,t){"use strict";t.__esModule=!0;var a=function(e){var t=[];return e.forEach(function(e){t.push(' <a href="'+e.linkUrl+'" class="item" target="_blank">'+e.mainTitle+"</a>")}),t.join(",")},n=function(e){var t="";return e&&""!==e.title&&""!==e.url&&(t=' <div class="tool-panel tool-header-home">       <a href='+e.url+' target="_blank">'+e.title+"</a>  </div>"),t},o=function(e){var t="";return e&&e.img&&""!==e.img&&""!==e.url&&(t='    <div class="tool-header-home">        <a href='+e.url+' target="_blank">          <img src='+e.img+" />        </a>    </div>"),t},r=function(e){var t=[];return e.forEach(function(e){var n='    <div class="tool-panel">        <div class="p-head">'+e.tabTitle+'       </div>       <div class="p-cont">            <ul class="fd-clr list-ctn">                <li class="row row-size-'+e.rowNum+'">'+a(e.mapping)+"                </li>            </ul>        </div>    </div>";t.push(n)}),t.join("")},s=function(e,t,a){var s='<div class="hp-toolbar">'+o(a)+n(t)+r(e)+"</div>";return s};t["default"]=s},function(e,t){e.exports={name:"@alife/vbar-atmo-dacu-handle",version:"1.2.11",description:"\u5927\u4fc3\u63d2\u4ef6\u6c1b\u56f4\u63d2\u4ef6",main:"index.js",author:"liying.ly",repository:{type:"git",url:"git@gitlab.alibaba-inc.com:vbar/vbar-atmo-dacu-handle.git"},keywords:["lofty","package","vbar"],scripts:{server:"sudo ./node_modules/.bin/fdserver -d -cf ./fdserver.config.js",watch:"./node_modules/.bin/webpack --watch",p:"rm -rf dist && mkdir dist && cp package.json ./dist/ && webpack && apm publish"},license:"MIT",readmeFilename:"README.md",dependencies:{"@alife/alpha-class":"~1.3.0","@alife/alpha-jquery":"^1.0.9","@alife/lofty-template":"^2.0.0","@alife/refly-mbox":"3.1.6",classnames:"^2.2.5","extract-text-webpack-plugin":"^1.0.1","json-loader":"^0.5.7","url-parse":"^1.2.0"},publishConfig:{registry:"http://registry.npm.alibaba-inc.com"},devDependencies:{"@ali/eslint-config-plover-app":"*","@ali/fdserver":"~0.12.4","babel-core":"^6.18.0","babel-loader":"^6.2.5","babel-preset-es2015":"^6.18.0","babel-preset-react":"^6.16.0","babel-preset-stage-0":"^6.0.15","babel-register":"^6.18.0","css-loader":"^0.26.1","es3ify-loader":"^0.2.0",eslint:"^2.9.0","eslint-config-airbnb":"^8.0.0","eslint-plugin-babel":"^3.2.0","eslint-plugin-import":"^1.6.1","eslint-plugin-jsx-a11y":"^1.0.4","eslint-plugin-react":"^5.0.1","extract-text-webpack-plugin":"^1.0.1",flux:"^3.1.0",less:"^2.7.1","less-loader":"^2.2.3",mocha:"^3.1.2","react-hot-loader":"^1.3.1",should:"^11.1.1","style-loader":"^0.13.1","unicode-loader":"^1.0.6",webpack:"1.13.2","webpack-dev-server":"~1.16.2"},apm:{build:!1,publishFolder:"dist"}}},function(e,t){}])});;