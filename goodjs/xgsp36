"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5202],{829:function(e,r,n){var t=n(1068),a=n.n(t),o=(n(41539),n(68420)),i=n(27344),s=n(5281),c=n(90306),l=n(3020),u=n(3362),f=n(44845),d=n(81643),p=n.n(d),h=n(67294),g=n(9361),v=n(11482),b=n(73494),y=n.n(b),m=n(94184),Z=n.n(m);function _(e){var r=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,t=(0,u.Z)(e);if(r){var o=(0,u.Z)(this).constructor;n=a()(t,arguments,o)}else n=t.apply(this,arguments);return(0,l.Z)(this,n)}}var I=y()("VIDEOFE:MagicImage:ImageWithInView");var O=function(e){(0,c.Z)(n,e);var r=_(n);function n(e){var t;return(0,o.Z)(this,n),t=r.call(this,e),(0,f.Z)((0,s.Z)(t),"imgRef",h.createRef()),(0,f.Z)((0,s.Z)(t),"defaultMargin","0px 0px 0px 0px"),(0,f.Z)((0,s.Z)(t),"unobserve",void 0),(0,f.Z)((0,s.Z)(t),"loadImgError",(function(){t.props.onError&&t.props.onError()})),t.onObserverChange=t.onObserverChange.bind((0,s.Z)(t)),t.onReady=t.onReady.bind((0,s.Z)(t)),t.handleImageLoaded=t.handleImageLoaded.bind((0,s.Z)(t)),t.state={disabledObserver:!e.inView,isIntersecting:!1,styles:{width:"100%",height:"100%",transition:"transform 0.3s",objectFit:"cover"}},I("开始加载图片:"+e.src),t}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e;e=window.navigator.userAgent,(p()(e).call(e,"MSIE ")>-1||p()(e).call(e,"Trident/")>-1)&&this.setState({styles:{width:"100%",transition:"transform 0.3s"}})}},{key:"onReady",value:function(){var e=this.state.isIntersecting,r=this.props.inView;e&&(r=r||function(){},this.unobserve&&this.unobserve(),this.setState({disabledObserver:!0},r))}},{key:"handleImageLoaded",value:function(){this.props.onLoad&&this.props.onLoad()}},{key:"onObserverChange",value:function(e,r){e.isIntersecting&&(this.unobserve=r,this.setState({isIntersecting:!0},this.onReady))}},{key:"render",value:function(){var e=this;return h.createElement(g.ZP,{rootMargin:this.props.rootMargin||this.defaultMargin,onChange:this.onObserverChange,disabled:this.state.disabledObserver},h.createElement(v.Z,{className:Z()("BU-MagicImage",this.props.className),style:this.state.styles,src:globalThis.xssNamespace.xigua_video_web_pc.filterUrl(this.props.src,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),URIConfig:this.props.URIConfig,fallbackSrc:this.props.fallbackSrc,ref:function(){return e.imgRef},alt:this.props.alt||"",onLoad:this.handleImageLoaded,onError:this.loadImgError}))}}]),n}(h.Component);r.Z=O},36265:function(e,r,n){n.d(r,{Z:function(){return m}});var t=n(1068),a=n.n(t),o=(n(41539),n(68420)),i=n(27344),s=n(90306),c=n(3020),l=n(3362),u=n(67294),f=n(829),d=n(5281),p=n(9361);function h(e){var r=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,t=(0,l.Z)(e);if(r){var o=(0,l.Z)(this).constructor;n=a()(t,arguments,o)}else n=t.apply(this,arguments);return(0,c.Z)(this,n)}}var g=function(e){(0,s.Z)(n,e);var r=h(n);function n(e){var t;return(0,o.Z)(this,n),(t=r.call(this,e)).onObserverChange=t.onObserverChange.bind((0,d.Z)(t)),t.state={isIntersecting:!1,disabledObserver:!1,rootMargin:"0px 0px ".concat(e.distance||0,"px 0px")},t}return(0,i.Z)(n,[{key:"onObserverChange",value:function(e,r){if(e.isIntersecting){var n=this.props.inView||function(){};this.setState({isIntersecting:!0,disabledObserver:!0},n),r()}}},{key:"render",value:function(){var e=this.state,r=e.isIntersecting,n=e.rootMargin,t=this.props.placeholder;return u.createElement(p.ZP,{onChange:this.onObserverChange,disabled:this.state.disabledObserver,rootMargin:n},r?this.props.children||u.createElement("span",null):null!=t?t:u.createElement("span",null))}}]),n}(u.Component),v=n(94184),b=n.n(v);function y(e){var r=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,t=(0,l.Z)(e);if(r){var o=(0,l.Z)(this).constructor;n=a()(t,arguments,o)}else n=t.apply(this,arguments);return(0,c.Z)(this,n)}}var m=function(e){(0,s.Z)(n,e);var r=y(n);function n(e){var t;return(0,o.Z)(this,n),(t=r.call(this,e)).state={shouldLazyLoad:void 0!==e.distance},t}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.state.shouldLazyLoad,r=this.props,n=r.src,t=r.fallbackSrc,a=r.alt,o=r.distance,i=r.rootMargin,s=r.inView,c=r.onLoad,l=r.onError,d=r.URIConfig,p=r.pictureClassname,h=r.className,v=r.withBorderShadow,y=u.createElement(u.Fragment,null,u.createElement(f.Z,{className:h,pictureClassname:p,src:globalThis.xssNamespace.xigua_video_web_pc.filterUrl(n,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),URIConfig:d,fallbackSrc:t,alt:a,rootMargin:i,inView:s,onLoad:c,onError:l}),v&&u.createElement("div",{className:"BU-MagicImage__shadow"})),m=u.createElement("img",{className:b()(h,"BU-MagicImage__placeholder"),alt:""});return e?u.createElement(g,{distance:o,placeholder:m},y):y}}]),n}(u.Component)},27351:function(e,r,n){n.d(r,{HB:function(){return i},VD:function(){return s},V6:function(){return c}});var t=n(86309),a=n(54998),o=n.n(a),i="shortvideoQuery",s="logTag",c=function(){if("undefined"!=typeof window)return(0,t.YQ)({name:i}).getItem(o()().query(!0)[s])||{}};r.ZP={nameSpace:i,storeKey:s,getLogInfo:c}},52366:function(e,r,n){n.d(r,{HB:function(){return i},VD:function(){return s},V6:function(){return c}});var t=n(86309),a=n(54998),o=n.n(a),i="LvideoTeleplayQuery",s="logTag",c=function(){return(0,t.YQ)({name:i}).getItem(o()().query(!0)[s])||{}};r.ZP={nameSpace:i,storeKey:s,getLogInfo:c}},44999:function(e,r,n){n.d(r,{hz:function(){return B},sb:function(){return R},ZF:function(){return T},SM:function(){return U},i5:function(){return q},$x:function(){return j}});var t=n(14310),a=n.n(t),o=n(20116),i=n.n(o),s=n(34074),c=n.n(s),l=n(39649),u=n.n(l),f=n(41266),d=n(44845),p=(n(9653),n(41539),n(39714),n(54747),n(77766)),h=n.n(p),g=n(59340),v=n.n(g),b=n(86902),y=n.n(b),m=n(80129),Z=n.n(m),_=n(54998),I=n.n(_),O=n(91481),P=n(52366),E=n(27351),S=n(51615),w=n(58581),x=n(92744),L=(n(95091),["logPb","sourcepage"]),C=["logPb","sourcepage"],N=["logPb"];function k(e,r){var n=y()(e);if(a()){var t=a()(e);r&&(t=i()(t).call(t,(function(r){return c()(e,r).enumerable}))),n.push.apply(n,t)}return n}function M(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?k(Object(n),!0).forEach((function(r){(0,d.Z)(e,r,n[r])})):u()?Object.defineProperties(e,u()(n)):k(Object(n)).forEach((function(r){Object.defineProperty(e,r,c()(n,r))}))}return e}function B(e,r,n){var t,a=h()(t="".concat((0,x.Sf)("/cinema/filter/",r))).call(t,e,"/");return n&&(a+="?".concat(Z().stringify(n))),a}function R(e){var r=e.albumId,n=e.episodeId,t=e.gid,a=e.query;if(void 0!==a&&a.logPb){var o=a.logPb,i=a.sourcepage,s=(0,f.Z)(a,L);try{var c=JSON.parse(o);s.list_entrance=(0,w.ZP)(),s.sourcepage=i||(0,w.ZP)(),a.logPb=v()(M(M({},s),c)),y()(s).forEach((function(e){c[e]&&void 0!==a&&c[e]!==a[e]&&(a[e]=c[e])}))}catch(e){}}var l=(0,O.h7)({mixId:r,childId:t||n}).path;return{href:globalThis.xssNamespace.xigua_video_web_pc.filterUrl(l,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),query:a,storeNamespace:P.ZP.nameSpace,storeKey:P.ZP.storeKey}}function T(e){var r=e.pSeriresId,n=e.gid,t=void 0===n?"":n,a=e.query,o=e.seriresId,i=e.withSeoHref;if(void 0!==a&&a.logPb){var s=a.logPb,c=a.sourcepage,l=(0,f.Z)(a,C);try{var u=JSON.parse(s);l.list_entrance=(0,w.ZP)(),l.sourcepage=c||(0,w.ZP)(),a.logPb=v()(M(M({},l),u)),y()(l).forEach((function(e){u[e]&&void 0!==a&&u[e]!==a[e]&&(a[e]=u[e])}))}catch(e){}}var d,p=(0,O.h7)({mixId:r||o||t,childId:t,queryObject:{from_page:null==a?void 0:a.from_page,series_flow:r&&"1"===String(null==a?void 0:a.series_flow)?1:void 0}}).path;return i&&r&&t&&(d="/".concat(t)),{seoHref:d,href:globalThis.xssNamespace.xigua_video_web_pc.filterUrl(p,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),query:a,storeNamespace:E.ZP.nameSpace,storeKey:E.ZP.storeKey,target:"_unique"}}function U(e){var r=e.gid,n=void 0===r?"":r,t=e.query;if(null!=t&&t.logPb){var a=t.logPb,o=(0,f.Z)(t,N);try{var i=JSON.parse(a);o.list_entrance=(0,w.ZP)(),o.sourcepage=(0,w.ZP)(),t.logPb=v()(M(M({},o),i)),y()(o).forEach((function(e){i[e]&&void 0!==t&&i[e]!==t[e]&&(t[e]=i[e])}))}catch(e){}}var s="/toplay/"+n;return{href:globalThis.xssNamespace.xigua_video_web_pc.filterUrl(s,null,{logType:"js.href/src",mode:"black",reportOnly:!1}),query:t,storeNamespace:E.ZP.nameSpace,storeKey:E.ZP.storeKey,target:"_unique"}}function q(e,r){var n,t=r?"?".concat(Z().stringify(r)):"";return h()(n="".concat((0,S.Gn)("/user-center/:tab?/",{tab:e}))).call(n,t)}var j=function(e,r,n){if(e&&Number(e))return null!=r&&r.tab&&"home"===r.tab&&delete r.tab,n?n.list_entrance=n.list_entrance||(0,w.ZP)()||void 0:n={list_entrance:(0,w.ZP)()||void 0},new(I())({path:(0,S.Gn)("/home/:to_user_id([1-9]\\d*)/:tab?/:details_id?/",M({to_user_id:e},r)),query:n}).toString()}}}]);
//# sourceMappingURL=https://sourcemap.ixigua.com/obj/xigua-video-web-pc-sourcemap/xgpc/sourcemap/js/5202.5c02a0a70b.chunk.js.map