define("indexnew:component/aging-tools/aging-tools.js",["global","module","exports","require","indexnew:static/js/jquery.js","indexnew:static/js/format.js","indexnew:static/js/log.js"],function(e,t,n,o,i,a,s){var c=i,g=a,d=s,l={init:function(){try{this.showTools(),this.listenKey(),this.openAgain()}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message||e.description,path:"indexnew:component/aging-tools/aging-tools.js",ln:17})}},addEventListener:function(e,t,n){try{e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n)}catch(o){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:o.message||o.description,path:"indexnew:component/aging-tools/aging-tools.js",ln:23})}},bindEvents:function(){try{var e=this;c(".aging-tools").on("click",function(){try{var t=(new Date).getTime();if(window.aria){var n=window.aria,o=n&&n.status()||!1;o?(n.end(),d({page:"index",level:1,type:"auto",monkey:"aging-tools",title:"关闭无障碍"})):(n.start(),d({page:"index",level:1,type:"auto",monkey:"aging-tools",title:"打开无障碍"}))}else e.injectScript(t,function(){try{var e=window.aria,t=e&&e.status()||!1;t&&e?e.end():e&&e.start()}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"indexnew:component/aging-tools/aging-tools.js",ln:66})}})}catch(i){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:i.message||i.description,path:"indexnew:component/aging-tools/aging-tools.js",ln:68})}}),c(window).unload(function(){try{window.aria&&window.aria.end(),c(document).off("keyup")}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message||e.description,path:"indexnew:component/aging-tools/aging-tools.js",ln:72})}}),this.addEventListener(document,"keyup",function(t){try{e.listenKey(t)}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:component/aging-tools/aging-tools.js",ln:75})}})}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:component/aging-tools/aging-tools.js",ln:76})}},showTools:function(){try{var e='<div class="aging-tools" monkey="aging-tools" role="aging-tools"><div class="aging-icon" monkey="aging-tools-icon"></div><div class="aging-tools-word" monkey="aging-tools-word">辅助模式</div></div>',t=c(g(e,{}));t.appendTo("body"),this.bindEvents()}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"indexnew:component/aging-tools/aging-tools.js",ln:87})}},injectScript:function(e,t){try{if(document.querySelector("#ariaScript"))return void(t&&t());var n="https://hao123-static.cdn.bcebos.com/manual-res/wza/_aria.js?appid=c890648bf4dd00d05eb9751dd0548c30",o=document.createElement("script");o.src=n,o.type="text/javascript",o.setAttribute("charset","utf-8"),o.id="ariaScript",document.body.appendChild(o),c("ariaTipText").remove(),this.addEventListener(o,"load",function(){try{var n=(new Date).getTime();d({page:"index",level:1,type:"auto",monkey:"aging-tools",title:"无障碍加载时间",time:n-e}),t&&t()}catch(o){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:o.message||o.description,path:"indexnew:component/aging-tools/aging-tools.js",ln:117})}})}catch(i){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:i.message||i.description,path:"indexnew:component/aging-tools/aging-tools.js",ln:118})}},listenKey:function(e){try{if(e){var t=e.key,n=(new Date).getTime();"Dead"===t&&e.altKey&&e.ctrlKey&&this.injectScript(n,function(){try{var e=window.aria,t=e&&e.status()||!1;t&&e?e.end():e&&e.start()}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"indexnew:component/aging-tools/aging-tools.js",ln:135})}})}}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message||e.description,path:"indexnew:component/aging-tools/aging-tools.js",ln:138})}},openAgain:function(){try{try{var e=window.localStorage.getItem("aria"),t=e?JSON.parse(e):{},n=(new Date).getTime();if(t.status)this.injectScript(n);else if(!document.querySelector("#ariaTipText")){var o='<a id="ariaTipText"role="pagedescription"aria-label="欢迎进入 hao123_上网从这里开始,盲人用户进入智能盲道请按快捷键Ctrl+Alt+R阅读详细操作说明请按快捷键Ctrl+Alt+问号键。"href="javascript:void(0)" setedaria="true" tabindex="0"></a>',i=c(g(o,{}));i.prependTo("body")}}catch(a){}}catch(s){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:s.message||s.description,path:"indexnew:component/aging-tools/aging-tools.js",ln:166})}}};t.exports=l});