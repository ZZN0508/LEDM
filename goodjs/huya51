(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[67],{29:function(e,t){!function(e,t,i,n){var o=function(){var e=!1;try{e=0==i.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(t){e=!1}return e}(),r=e(t);e.fn.lazyload=function(n){var a,l=this,f={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null,error:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function c(){var t=0;l.each((function(){var i=e(this);if(!f.skip_invisible||i.is(":visible"))if(e.abovethetop(this,f)||e.leftofbegin(this,f));else if(e.belowthefold(this,f)||e.rightoffold(this,f)){if(++t>f.failure_limit)return!1}else i.trigger("appear"),t=0}))}n&&(void 0!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),void 0!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),e.extend(f,n)),a=void 0===f.container||f.container===t?r:e(f.container),0===f.event.indexOf("scroll")&&a.bind(f.event,(function(){return c()})),this.each((function(){var t=this,i=e(t);t.loaded=!1,void 0!==i.attr("src")&&!1!==i.attr("src")||i.is("img")&&i.attr("src",f.placeholder),i.one("appear",(function(){if(!this.loaded){if(f.appear){var r=l.length;f.appear.call(t,r,f)}var a=i.attr("data-"+f.data_attribute);o&&a&&(-1!=a.indexOf("x-oss-process=image")?-1==a.indexOf("/format,")&&(a+="/format,webp"):-1==a.indexOf("?imageview/")&&-1==a.indexOf("&imageview/")||-1==a.indexOf("/format/")&&(a+="/format/webp"));var c=new Image;c.onload=function(){i.is("img")?i.attr("src",a):i.css("background-image","url('"+a+"')"),t.loaded=!0;var o=e.grep(l,(function(e){return!e.loaded}));if(l=e(o),f.load){var r=l.length;f.load.call(t,r,f)}t.onerror=null,c.onload=null,c.onerror=null,c=null,n&&n.callback&&n.callback(t)},a&&(c.src=a)}})),0!==f.event.indexOf("scroll")&&i.bind(f.event,(function(){t.loaded||i.trigger("appear")}))})),r.bind("resize",(function(){c()}));try{DUYA_SUB.subscribe("respondedList",(function(){c()}))}catch(e){}return/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&r.bind("pageshow",(function(t){t.originalEvent&&t.originalEvent.persisted&&l.each((function(){e(this).trigger("appear")}))})),e(i).ready((function(){c()})),this},e.belowthefold=function(i,n){return(void 0===n.container||n.container===t?(t.innerHeight?t.innerHeight:r.height())+r.scrollTop():e(n.container).offset().top+e(n.container).height())<=e(i).offset().top-n.threshold},e.rightoffold=function(i,n){return(void 0===n.container||n.container===t?r.width()+r.scrollLeft():e(n.container).offset().left+e(n.container).width())<=e(i).offset().left-n.threshold},e.abovethetop=function(i,n){return(void 0===n.container||n.container===t?r.scrollTop():e(n.container).offset().top)>=e(i).offset().top+n.threshold+e(i).height()},e.leftofbegin=function(i,n){return(void 0===n.container||n.container===t?r.scrollLeft():e(n.container).offset().left)>=e(i).offset().left+n.threshold+e(i).width()},e.inviewport=function(t,i){return!(e.rightoffold(t,i)||e.leftofbegin(t,i)||e.belowthefold(t,i)||e.abovethetop(t,i))}}(jQuery,window,document)}}]);