/*! For license information please see 6467.d8d9776d.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={})}(this,(function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};function r(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}var n={exports:{}},i={},o={exports:{}},a={};function s(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var u=/javascript\s*\:/gim;a.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},a.getDefaultWhiteList=s,a.onAttr=function(e,t,r){},a.onIgnoreAttr=function(e,t,r){},a.safeAttrValue=function(e,t){return u.test(t)?"":t};var c={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},l=c,f=a,d=function(e,t){";"!==(e=l.trimRight(e))[e.length-1]&&(e+=";");var r=e.length,n=!1,i=0,o=0,a="";function s(){if(!n){var r=l.trim(e.slice(i,o)),s=r.indexOf(":");if(-1!==s){var u=l.trim(r.slice(0,s)),c=l.trim(r.slice(s+1));if(u){var f=t(i,a.length,u,c,r);f&&(a+=f+"; ")}}}i=o+1}for(;o<r;o++){var u=e[o];if("/"===u&&"*"===e[o+1]){var c=e.indexOf("*/",o+2);if(-1===c)break;i=(o=c+1)+1,n=!1}else"("===u?n=!0:")"===u?n=!1:";"===u?n||s():"\n"===u&&s()}return l.trim(a)};function h(e){return null==e}function p(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||f.whiteList,e.onAttr=e.onAttr||f.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||f.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||f.safeAttrValue,this.options=e}p.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onAttr,i=t.onIgnoreAttr,o=t.safeAttrValue;return d(e,(function(e,t,a,s,u){var c=r[a],l=!1;if(!0===c?l=c:"function"==typeof c?l=c(s):c instanceof RegExp&&(l=c.test(s)),!0!==l&&(l=!1),s=o(a,s)){var f,d={position:t,sourcePosition:e,source:u,isWhite:l};return l?h(f=n(a,s,d))?a+":"+s:f:h(f=i(a,s,d))?void 0:f}}))};var v=p;!function(e,t){var r=a,n=v;for(var i in(t=e.exports=function(e,t){return new n(t).process(e)}).FilterCSS=n,r)t[i]=r[i];"undefined"!=typeof window&&(window.filterCSS=e.exports)}(o,o.exports);var g={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},m=o.exports.FilterCSS,y=o.exports.getDefaultWhiteList,_=g;var b=new m;function x(e){return e.replace(w,"&lt;").replace(E,"&gt;")}var w=/</g,E=/>/g,k=/"/g,S=/&quot;/g,T=/&#([a-zA-Z0-9]*);?/gim,A=/&colon;?/gim,O=/&newline;?/gim,L=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,R=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,C=/u\s*r\s*l\s*\(.*/gi;function P(e){return e.replace(k,"&quot;")}function I(e){return e.replace(S,'"')}function D(e){return e.replace(T,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function B(e){return e.replace(A,":").replace(O," ")}function j(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return _.trim(t)}function M(e){return j(e=B(e=D(e=I(e))))}function U(e){return x(e=P(e))}i.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},i.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},i.onTag=function(e,t,r){},i.onIgnoreTag=function(e,t,r){},i.onTagAttr=function(e,t,r){},i.onIgnoreTagAttr=function(e,t,r){},i.safeAttrValue=function(e,t,r,n){if(r=M(r),"href"===t||"src"===t){if("#"===(r=_.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(L.lastIndex=0,L.test(r))return""}else if("style"===t){if(R.lastIndex=0,R.test(r))return"";if(C.lastIndex=0,C.test(r)&&(L.lastIndex=0,L.test(r)))return"";!1!==n&&(r=(n=n||b).process(r))}return U(r)},i.escapeHtml=x,i.escapeQuote=P,i.unescapeQuote=I,i.escapeHtmlEntities=D,i.escapeDangerHtml5Entities=B,i.clearNonPrintableCharacter=j,i.friendlyAttrValue=M,i.escapeAttrValue=U,i.onIgnoreTagStripAll=function(){return""},i.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),n=[],i=!1;return{onIgnoreTag:function(o,a,s){if(function(t){return!!r||-1!==_.indexOf(e,t)}(o)){if(s.isClosing){var u="[/removed]",c=s.position+10;return n.push([!1!==i?i:s.position,c]),i=!1,u}return i||(i=s.position),"[removed]"}return t(o,a,s)},remove:function(e){var t="",r=0;return _.forEach(n,(function(n){t+=e.slice(r,n[0]),r=n[1]})),t+=e.slice(r)}}},i.stripCommentTag=function(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("\x3c!--",r);if(-1===n){t+=e.slice(r);break}t+=e.slice(r,n);var i=e.indexOf("--\x3e",n);if(-1===i)break;r=i+3}return t},i.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}))).join("")},i.cssFilter=b,i.getDefaultCSSWhiteList=y;var N={},F=g;function z(e){var t,r=F.spaceIndex(e);return t=-1===r?e.slice(1,-1):e.slice(1,r+1),"/"===(t=F.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function H(e){return"</"===e.slice(0,2)}var V=/[^a-zA-Z0-9\\_:.-]/gim;function q(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function W(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"'"===r||'"'===r?t:-1}}function G(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function Y(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}N.parseTag=function(e,t,r){var n="",i=0,o=!1,a=!1,s=0,u=e.length,c="",l="";e:for(s=0;s<u;s++){var f=e.charAt(s);if(!1===o){if("<"===f){o=s;continue}}else if(!1===a){if("<"===f){n+=r(e.slice(i,s)),o=s,i=s;continue}if(">"===f||s===u-1){n+=r(e.slice(i,o)),c=z(l=e.slice(o,s+1)),n+=t(o,n.length,c,l,H(l)),i=s+1,o=!1;continue}if('"'===f||"'"===f)for(var d=1,h=e.charAt(s-d);""===h.trim()||"="===h;){if("="===h){a=f;continue e}h=e.charAt(s-++d)}}else if(f===a){a=!1;continue}}return i<u&&(n+=r(e.substr(i))),n},N.parseAttr=function(e,t){var r=0,n=0,i=[],o=!1,a=e.length;function s(e,r){if(!((e=(e=F.trim(e)).replace(V,"").toLowerCase()).length<1)){var n=t(e,r||"");n&&i.push(n)}}for(var u=0;u<a;u++){var c,l=e.charAt(u);if(!1!==o||"="!==l)if(!1===o||u!==n){if(/\s|\n|\t/.test(l)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(-1===(c=q(e,u))){s(F.trim(e.slice(r,u))),o=!1,r=u+1;continue}u=c-1;continue}if(-1===(c=G(e,u-1))){s(o,Y(F.trim(e.slice(r,u)))),o=!1,r=u+1;continue}}}else{if(-1===(c=e.indexOf(l,u+1)))break;s(o,F.trim(e.slice(n+1,c))),o=!1,r=(u=c)+1}else o=e.slice(r,u),r=u+1,n='"'===e.charAt(r)||"'"===e.charAt(r)?r:W(e,u+1)}return r<e.length&&(!1===o?s(e.slice(r)):s(o,Y(F.trim(e.slice(r))))),F.trim(i.join(" "))};var K=o.exports.FilterCSS,X=i,Z=N,Q=Z.parseTag,J=Z.parseAttr,$=g;function ee(e){return null==e}function te(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag,e.onIgnoreTag=X.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map((function(e){return e.toLowerCase()})):t[r.toLowerCase()]=e[r];return t}(e.whiteList||e.allowList):e.whiteList=X.whiteList,e.onTag=e.onTag||X.onTag,e.onTagAttr=e.onTagAttr||X.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||X.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||X.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||X.safeAttrValue,e.escapeHtml=e.escapeHtml||X.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new K(e.css))}te.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onTag,i=t.onIgnoreTag,o=t.onTagAttr,a=t.onIgnoreTagAttr,s=t.safeAttrValue,u=t.escapeHtml,c=this.cssFilter;t.stripBlankChar&&(e=X.stripBlankChar(e)),t.allowCommentTag||(e=X.stripCommentTag(e));var l=!1;t.stripIgnoreTagBody&&(l=X.StripTagBody(t.stripIgnoreTagBody,i),i=l.onIgnoreTag);var f=Q(e,(function(e,t,l,f,d){var h={sourcePosition:e,position:t,isClosing:d,isWhite:Object.prototype.hasOwnProperty.call(r,l)},p=n(l,f,h);if(!ee(p))return p;if(h.isWhite){if(h.isClosing)return"</"+l+">";var v=function(e){var t=$.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=$.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=$.trim(e.slice(0,-1))),{html:e,closing:r}}(f),g=r[l],m=J(v.html,(function(e,t){var r=-1!==$.indexOf(g,e),n=o(l,e,t,r);return ee(n)?r?(t=s(l,e,t,c))?e+'="'+t+'"':e:ee(n=a(l,e,t,r))?void 0:n:n}));return f="<"+l,m&&(f+=" "+m),v.closing&&(f+=" /"),f+">"}return ee(p=i(l,f,h))?u(f):p}),u);return l&&(f=l.remove(f)),f};var re=te;function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}!function(e,t){var r=i,n=N,o=re;function a(e,t){return new o(t).process(e)}(t=e.exports=a).filterXSS=a,t.FilterXSS=o,function(){for(var e in r)t[e]=r[e];for(var i in n)t[i]=n[i]}(),"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(n,n.exports);var ie,oe="function"==typeof atob,ae="function"==typeof btoa,se="function"==typeof Buffer,ue="function"==typeof TextDecoder?new TextDecoder:void 0,ce="function"==typeof TextEncoder?new TextEncoder:void 0,le=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),fe=(ie={},le.forEach((function(e,t){return ie[e]=t})),ie),de=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,he=String.fromCharCode.bind(String),pe="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(e){return new Uint8Array(Array.prototype.slice.call(e,0))},ve=function(e){return e.replace(/[^A-Za-z0-9\+\/]/g,"")},ge=ae?function(e){return btoa(e)}:se?function(e){return Buffer.from(e,"binary").toString("base64")}:function(e){for(var t,r,n,i,o="",a=e.length%3,s=0;s<e.length;){if((r=e.charCodeAt(s++))>255||(n=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");o+=le[(t=r<<16|n<<8|i)>>18&63]+le[t>>12&63]+le[t>>6&63]+le[63&t]}return a?o.slice(0,a-3)+"===".substring(a):o},me=se?function(e){return Buffer.from(e).toString("base64")}:function(e){for(var t=[],r=0,n=e.length;r<n;r+=4096)t.push(he.apply(null,e.subarray(r,r+4096)));return ge(t.join(""))},ye=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?he(192|t>>>6)+he(128|63&t):he(224|t>>>12&15)+he(128|t>>>6&63)+he(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return he(240|t>>>18&7)+he(128|t>>>12&63)+he(128|t>>>6&63)+he(128|63&t)},_e=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,be=se?function(e){return Buffer.from(e,"utf8").toString("base64")}:ce?function(e){return me(ce.encode(e))}:function(e){return ge(e.replace(_e,ye))},xe=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?function(e){return e.replace(/=/g,"").replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"}))}(be(e)):be(e)},we=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Ee=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return he(55296+(t>>>10))+he(56320+(1023&t));case 3:return he((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return he((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},ke=oe?function(e){return atob(ve(e))}:se?function(e){return Buffer.from(e,"base64").toString("binary")}:function(e){if(e=e.replace(/\s+/g,""),!de.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));for(var t,r,n,i="",o=0;o<e.length;)t=fe[e.charAt(o++)]<<18|fe[e.charAt(o++)]<<12|(r=fe[e.charAt(o++)])<<6|(n=fe[e.charAt(o++)]),i+=64===r?he(t>>16&255):64===n?he(t>>16&255,t>>8&255):he(t>>16&255,t>>8&255,255&t);return i},Se=se?function(e){return pe(Buffer.from(e,"base64"))}:function(e){return pe(ke(e).split("").map((function(e){return e.charCodeAt(0)})))},Te=se?function(e){return Buffer.from(e,"base64").toString("utf8")}:ue?function(e){return ue.decode(Se(e))}:function(e){return ke(e).replace(we,Ee)},Ae=function(e){return Te(function(e){return ve(e.replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})))}(e))},Oe=function(e){return e&&e.Math==Math&&e},Le=Oe("object"===("undefined"==typeof globalThis?"undefined":ne(globalThis))&&globalThis)||Oe("object"===("undefined"==typeof window?"undefined":ne(window))&&window)||Oe("object"===("undefined"==typeof self?"undefined":ne(self))&&self)||Oe("object"===("undefined"==typeof global?"undefined":ne(global))&&global)||Function("return this")(),Re=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.getSlardarBid=function(){var t,r,n="douyin_web";if(!n.includes("bid"))return n;if(e.config&&e.config.bid)return e.config.bid;var i=Le;if(i&&i._xssBid)return i._xssBid;if(i&&i.slardar&&"function"==typeof i.slardar.config){var o=(i.slardar.config()||{}).bid;if(o)return o}if(i&&i.Slardar&&"function"==typeof i.Slardar.config){var a=(i.Slardar.config()||{}).bid;if(a)return a}return(null===(r=null===(t=null==i?void 0:i.Slardar)||void 0===t?void 0:t._baseParams)||void 0===r?void 0:r.bid)||"argus"},this.getConfigRegion=function(){var t;return"cn".includes("region")?e.config&&e.config.region?e.config.region:((null===(t=null==Le?void 0:Le.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():"cn"},this.gerReportUrl=function(){var t={cn:Ae("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:Ae("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:Ae("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:Ae("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:Ae("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:Ae("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:Ae("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.config=e},e.prototype.upload=function(){var e=this,t=this.gerReportUrl();!this.lock&&t&&0!==this.batchData.length&&(this.lock=!0,setTimeout((function(){var r=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),Le.fetch(t,{method:"post",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).catch((function(e){})),e.lock=!1,e.upload()}),this.timeout))},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t=this.generateKey(e);if(Le.fetch&&e.collectKey){var r="object"===("undefined"==typeof window?"undefined":ne(window))?window.location.href:"SSR";e.documentUrl=r;var n={age:Math.floor(Date.now()),type:"xss",url:r,body:e,"user-agent":""};"enforce"===e.disposition&&"SSR"!==r||(n.url=t),"SSR"===r&&(n.url="SSR___".concat(n.url),n.body.ssr=!0),this.push(n)}},e}()),Ce=function(e){for(var t=0,r=function(r){Array.isArray(e[r])?0===e[r].length?delete e[r]:(e[r]=Array.from(new Set(e[r])),t+=e[r].length):0===Object.keys(e[r]).length?delete e[r]:Object.keys(e[r]).forEach((function(n){e[r][n]=Array.from(new Set(e[r][n])),t+=e[r][n].length}))},n=0,i=Object.keys(e);n<i.length;n++)r(i[n]);return{count:t,ret:e}};function Pe(e,t){return Re.setConfig(t),new n.exports.FilterXSS(t).process(e)}function Ie(e){var t,r=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===r)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=e.slice(r+1,-1).trim())[e.length-1];return n&&(e=e.slice(0,-1).trim()),{html:e,closing:n}}var De=function(e){return-1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,(function(e,t,r,n){return String.fromCharCode(t?parseInt(r,16):parseInt(n))})).toLowerCase()};function Be(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if((e=De(e)).includes("base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!e.includes("data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var r=["expression(","behavior:","view-source:"];if(r.some((function(t){return-1!==e.indexOf(t)})))return r.forEach((function(r){-1!==e.indexOf(r)&&t&&t(r)})),!1;var n=["data:application","data:javascript","data:text/html","data:texthtml"];if(n.some((function(t){return-1!==e.indexOf(t)})))return n.forEach((function(r){-1!==e.indexOf(r)&&t&&t(r)})),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var i=e.slice(11).replace(/\s/g,"").trim();return!!["void","void(0)","void0","false","undefined",";"].some((function(e){return e===i}))||(t&&t("javascript:"),!1)}return!0}var je=function(e,t){return Be(e,t)?e:"#"};function Me(e,t,n){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!Be(e=De(e)))return!1;var i=function(e){var t=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[];return{url:t[0],scheme:t[1],slash:t[2],host:t[3],port:t[4],path:t[5],query:t[6],hash:t[7]}}(e),o=i.scheme,a=i.host;return n?Boolean(n(e)):!["http","https","file"].includes(o)||("object"===("undefined"==typeof window?"undefined":ne(window))&&window&&(t=r(r([],t,!0),[location.host],!1)),t.some((function(e){return!!(e instanceof RegExp&&e.test(a))||e===a})))}var Ue=Me,Ne=Me,Fe={a:["target","title","spellcheck","rel"],canvas:[],abbr:["title"],address:[],area:["shape","coords","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:["dir"],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["alt","title","width","height","decoding"],ins:["datetime"],li:[],mark:[],nav:[],ol:["start"],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],delete:[],form:[],strong:[],mask:["maskunits","x","y","width","height","fill"],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],wbr:[],video:["autoplay","controls","loop","preload","height","width"],svg:["viewBox","version","xmlns","fill","width","height","stroke","stroke-width","style"],path:["d","fill","opacity","stroke","p-id","fill-rule","clip-rule","stroke-width","stroke-linecap","stroke-linejoin","fill-opacity","mask"],rect:["x","y","width","height","fill","stroke","rx"],g:[]},ze={collect:null,initCollect:function(){this.collect={whiteList:{},filterProtocol:[]}},removeCollect:function(){var e=Ce(this.collect),t=e.count,r=e.ret;return this.collect=null,{collectKey:0===t?null:JSON.stringify(r),collectMode:"white"}},onIgnoreTagAttr:function(e,t,n){return e&&["href","src"].indexOf(t)>-1?ze.domainWhiteList&&Array.isArray(ze.domainWhiteList)&&ze.domainWhiteList.length>0&&!Ue(n,r([],ze.domainWhiteList,!0))?"":"".concat(t,'="').concat(je(n,(function(e){var t;null===(t=ze.collect)||void 0===t||t.filterProtocol.push(e)})),'"'):e&&(["style","class","id"].indexOf(t)>-1||t.indexOf("data-")>-1)?"".concat(t,'="').concat(n,'"'):(ze.collect.whiteList[e]=ze.collect.whiteList[e]||[],void ze.collect.whiteList[e].push(t))},onIgnoreTag:function(e,t){if("style"===e)return t;n.exports.parseTag(t,(function(e,t,r,i){var o=Ie(i);n.exports.parseAttr(o.html.replace("/",""),(function(e){ze.collect.whiteList[r]=ze.collect.whiteList[r]||[],ze.collect.whiteList[r].push(e)}))}),n.exports.escapeHtml)},whiteList:Fe,mergeWhiteList:function(e){for(var t={},r=0,n=Object.keys(Fe);r<n.length;r++)t[a=n[r]]=Array.from(Fe[a]);for(var i=0,o=Object.keys(e);i<o.length;i++){var a;t[a=o[i]]=a in Fe?Fe[a].concat(e[a]):Array.from(e[a])}return t},setWhiteList:function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];this.whiteList[n]=n in Fe?Fe[n].concat(e[n]):Array.from(e[n])}}};try{var He=JSON.parse({}.replace(/'/g,'"')),Ve="merge";Ve.includes("override")&&(ze.whiteList=He.whiteList),Ve.includes("merge")&&ze.setWhiteList(He.whiteList)}catch(e){}var qe={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"]};try{var We=JSON.parse({}.replace(/'/g,'"'));We.blackAttrRegExps&&(We.blackAttrRegExps=We.blackAttrRegExps.map((function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))})));var Ge="merge";Ge.includes("override")&&(qe=We),Ge.includes("merge")&&(qe=function e(t,r){for(var n={},i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];Array.isArray(t[a])?n[a]=Array.from(t[a]):n[a]=e({},t[a])}for(var s=0,u=Object.keys(r);s<u.length;s++)(a=u[s])in t?Array.isArray(t[a])?n[a]=t[a].concat(r[a]):n[a]=e(t[a],r[a]):Array.isArray(r[a])?n[a]=Array.from(r[a]):n[a]=e({},r[a]);return n}(qe,We))}catch(e){}var Ye,Ke={whiteList:{},collect:null,initCollect:function(){Ke.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=Ce(Ke.collect),t=e.count,r=e.ret;return Ke.collect=null,{collectKey:0===t?null:JSON.stringify(r),collectMode:"black"}},onIgnoreTag:function(e,t){var r;if(!qe.blackTags.includes(e)){var i=n.exports.parseTag(t,(function(e,t,r,i,o){if(-1!==r.indexOf("/"))return n.exports.escapeHtml(i);if(o)return"</".concat(r,">");var a=Ie(i),s=n.exports.parseAttr(a.html,(function(e,t){var n,i=0;if(qe.blackList[r]&&qe.blackList[r].includes(e)&&(Ke.collect.blackList[r]=Ke.collect.blackList[r]||[],Ke.collect.blackList[r].push(e),i++),qe.blackAttrRegExps.length&&qe.blackAttrRegExps.some((function(t){return t.test(e)}))&&qe.blackAttrRegExps.forEach((function(t){t.test(e)&&(Ke.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),i++)})),qe.blackAttrs.length&&qe.blackAttrs.includes(e)&&(qe.blackAttrs.push(e),i++),!i){if(qe.filterList&&qe.filterList[r]&&qe.filterList[r].includes(e)){var o=je(t,(function(e){var t;null===(t=Ke.collect)||void 0===t||t.filterProtocol.push(e)}));return o!==t&&(Ke.collect.filterList[r]=Ke.collect.filterList[r]||[],Ke.collect.filterList[r].push(e)),t?"".concat(e,"='").concat(o,"'"):e}return qe.filterAttrs&&qe.filterAttrs.includes(e)?(o=je(t,(function(e){var t;null===(t=Ke.collect)||void 0===t||t.filterProtocol.push(e)})),o!==t&&(null===(n=Ke.collect)||void 0===n||n.filterAttrs.push(e)),t?"".concat(e,"='").concat(o,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}}));return i="<".concat(r),s&&(i+=" ".concat(s)),a.closing&&(i+=" /"),i+">"}),n.exports.escapeHtml);return i}null===(r=Ke.collect)||void 0===r||r.blackTags.push(e)}},Xe=function(e){var t=e.reportOnly,r=void 0===t||t,n=e.block;return r&&"all"===r?"report":n?"enforce":r?"report":"enforce"},Ze=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},Qe=function(e){return function(r,n,i){if(!r||"string"!=typeof r)return r;var o=n;e===Pe&&(o=ze,i&&"black"===i.mode&&(o=Ke),ze.enabled?o=n:Ke.enabled&&(o=Ke),o.initCollect());var a=e(r,o);if(Ze(a)===Ze(r))return r;if(!i)return a;var s=i.logType,u=Xe(i),c=o.removeCollect();return Re.report(t(t({type:s,disposition:u},c),{sourceText:xe(r),filterText:xe(a)})),"enforce"===u?a:r}},Je=Qe(n.exports.filterXSS),$e=Qe(Pe),et=(Ye=je,function(e,t,r){var n=[],i=Ye(e,(function(e){n.push(e)}));if(i===e)return e;n=Array.from(new Set(n));var o=t||r||{};if(!o)return i;var a=o.logType,s=Xe(r);return Re.report({type:a,disposition:s,collectKey:n.join("___"),collectData:JSON.stringify(n),collectMode:"black",sourceText:xe(e),filterText:xe(i)}),"enforce"===s?i:e}),tt=Le._xssProject||{},rt=Le.xssNamespace||{},nt="3.0.15",it={FilterXSS:n.exports.FilterXSS,version:nt,filterXSS:Je,_filterXSS:$e,filterUrl:et,Config:ze,BlackConfig:Ke,project:tt,setProjectName:function(e){tt[e]=this,Le._xssProjectName=e}};rt.douyin_web=it,Le.xssNamespace=rt,Le.Math&&!Le.Math.xssNamespace&&(Le.Math.xssNamespace=rt),tt[nt]=it,Le.globalThis=Le,Le.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:it},Le.xss=it,Le.isSafeUrl=Ue,Le.isSafeDomain=Ne,Le.isSafeProtocol=Be,Le._xssProject=tt,Le._xssProjectName&&(tt[Le._xssProjectName]=it);var ot=it.setProjectName.bind(it);e.BlackConfig=Ke,e.Config=ze,e.FilterXSS=n.exports.FilterXSS,e._filterXSS=$e,e.filterUrl=et,e.filterXSS=Je,e.isSafeDomain=Ne,e.isSafeProtocol=Be,e.isSafeUrl=Ue,e.project=tt,e.setProjectName=ot,e.setXssNamespace=function(e){var t=e.appId,r=e.bid,n=e.region,i=e.mode,o=void 0===i?"black":i;rt[t]=it;var a=null;(a="black"===o?Ke:ze).bid=r,a.region=n,a.enabled=!0},e.xssNamespace=rt,Object.defineProperty(e,"__esModule",{value:!0})})),(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([[6467],{91990:function(e,t,r){var n;!function(i,o){"use strict";var a="function",s="undefined",u="object",c="string",l="model",f="name",d="type",h="vendor",p="version",v="architecture",g="console",m="mobile",y="tablet",_="smarttv",b="wearable",x="embedded",w="Amazon",E="Apple",k="ASUS",S="BlackBerry",T="Browser",A="Chrome",O="Firefox",L="Google",R="Huawei",C="LG",P="Microsoft",I="Motorola",D="Opera",B="Samsung",j="Sony",M="Xiaomi",U="Zebra",N="Facebook",F=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},z=function(e,t){return typeof e===c&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,255)},q=function(e,t){for(var r,n,i,s,c,l,f=0;f<t.length&&!c;){var d=t[f],h=t[f+1];for(r=n=0;r<d.length&&!c;)if(c=d[r++].exec(e))for(i=0;i<h.length;i++)l=c[++n],typeof(s=h[i])===u&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;f+=2}},W=function(e,t){for(var r in t)if(typeof t[r]===u&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(z(t[r][n],e))return"?"===r?o:r}else if(z(t[r],e))return"?"===r?o:r;return e},G={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,p],[/opios[\/ ]+([\w\.]+)/i],[p,[f,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[f,D]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[f,"UC"+T]],[/\bqbcore\/([\w\.]+)/i],[p,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+T],p],[/\bfocus\/([\w\.]+)/i],[p,[f,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[f,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[f,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[f,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[p,[f,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+T]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+T],p],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,N],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[f,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,A+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[f,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,p],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[p,[f,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[p,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[p,W,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[f,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,H]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,B],[d,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,B],[d,m]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,E],[d,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,E],[d,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,R],[d,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[l,[h,R],[d,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,M],[d,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,M],[d,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[d,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[d,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[d,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,I],[d,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,I],[d,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,C],[d,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,C],[d,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[d,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[d,m]],[/(pixel c)\b/i],[l,[h,L],[d,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,L],[d,m]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,j],[d,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,j],[d,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[d,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,w],[d,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,w],[d,m]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[d,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,S],[d,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,k],[d,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,k],[d,m]],[/(nexus 9)/i],[l,[h,"HTC"],[d,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[d,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[d,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[d,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,"Sharp"],[d,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[d,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[d,y]],[/(surface duo)/i],[l,[h,P],[d,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[d,m]],[/(u304aa)/i],[l,[h,"AT&T"],[d,m]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[d,m]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[d,y]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[d,y]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[d,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[d,y]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[d,y]],[/\b(k88) b/i],[l,[h,"ZTE"],[d,y]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[d,m]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[d,m]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[d,y]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[d,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[d,y]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[d,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[d,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[d,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[d,m]],[/\b(ph-1) /i],[l,[h,"Essential"],[d,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[d,y]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[d,y]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[d,y]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[d,y]],[/(sprint) (\w+)/i],[h,l,[d,m]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,P],[d,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,U],[d,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,U],[d,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[d,g]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[d,g]],[/(playstation [345portablevi]+)/i],[l,[h,j],[d,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,P],[d,g]],[/smart-tv.+(samsung)/i],[h,[d,_]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,B],[d,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,C],[d,_]],[/(apple) ?tv/i],[h,[l,E+" TV"],[d,_]],[/crkey/i],[[l,A+"cast"],[h,L],[d,_]],[/droid.+aft(\w)( bui|\))/i],[l,[h,w],[d,_]],[/\(dtv[\);].+(aquos)/i],[l,[h,"Sharp"],[d,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,V],[l,V],[d,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,_]],[/((pebble))app/i],[h,l,[d,b]],[/droid.+; (glass) \d/i],[l,[h,L],[d,b]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,U],[d,b]],[/(quest( 2)?)/i],[l,[h,N],[d,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[d,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[d,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,y]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[d,m]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[f,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[p,W,G]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[p,W,G]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[p,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,p],[/\(bb(10);/i],[p,[f,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[f,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[f,A+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[f,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,p],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[f,p]]},K=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof K))return new K(e,t).getResult();var r=e||(typeof i!==s&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),n=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(Y,t):Y;return this.getBrowser=function(){var e,t={};return t[f]=o,t[p]=o,q.call(t,r,n.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e[v]=o,q.call(e,r,n.cpu),e},this.getDevice=function(){var e={};return e[h]=o,e[l]=o,e[d]=o,q.call(e,r,n.device),e},this.getEngine=function(){var e={};return e[f]=o,e[p]=o,q.call(e,r,n.engine),e},this.getOS=function(){var e={};return e[f]=o,e[p]=o,q.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>255?V(e,255):e,this},this.setUA(r),this};K.VERSION="0.7.31",K.BROWSER=F([f,p,"major"]),K.CPU=F([v]),K.DEVICE=F([l,h,d,g,m,_,y,b,x]),K.ENGINE=K.OS=F([f,p]),typeof t!==s?(e.exports&&(t=e.exports=K),t.UAParser=K):r.amdO?(n=function(){return K}.call(t,r,t,e))===o||(e.exports=n):typeof i!==s&&(i.UAParser=K);var X=typeof i!==s&&(i.jQuery||i.Zepto);if(X&&!X.ua){var Z=new K;X.ua=Z.getResult(),X.ua.get=function(){return Z.getUA()},X.ua.set=function(e){Z.setUA(e);var t=Z.getResult();for(var r in t)X.ua[r]=t[r]}}}("object"==typeof window?window:this)},56493:function(e,t,r){"use strict";var n;r.d(t,{Z:function(){return f}});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"==typeof e&&a.test(e)},u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));var l=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!s(r))throw TypeError("Stringified UUID is invalid");return r};var f=function(e,t,r){var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return l(n)}},24075:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(){o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function l(e,t,r,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new T(i||[]);return n(a,"_invoke",{value:w(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=l;var d={};function h(){}function p(){}function v(){}var g={};c(g,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(A([])));y&&y!==t&&r.call(y,a)&&(g=y);var _=v.prototype=h.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(n,o,a,s){var u=f(e[n],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return{value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=f(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=v,n(_,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},b(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new x(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(_),c(_,u,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x(n.key),n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t,r){return(t=x(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(this,r)}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}r.d(t,{b:function(){return B}});var w=r(82249),E=r(44549),k=r(42526),S=r(58566),T=r(35761);var A=l((function e(t,r){u(this,e),this.type="file",this.message=t,this.data=r})),O=function(){function e(){u(this,e),f(this,"_data",Object.create(null))}return l(e,[{key:"set",value:function(e,t){this._data[e]=t}},{key:"get",value:function(e){return this._data[e]}},{key:"clear",value:function(){this._data=Object.create(null)}}]),e}();function L(e,t){var r=e.trak;if(r&&r.length){var n=r.find((function(e){var t,r;return"vide"===(null===(t=e.mdia)||void 0===t||null===(r=t.hdlr)||void 0===r?void 0:r.handlerType)})),i=r.find((function(e){var t,r;return"soun"===(null===(t=e.mdia)||void 0===t||null===(r=t.hdlr)||void 0===r?void 0:r.handlerType)}));if(n||i){var o,a=[],s=[];if(n){var u,c,l,f=null===(u=n.mdia)||void 0===u||null===(c=u.minf)||void 0===c?void 0:c.stbl;if(!f)return;var d=null===(l=n.mdia.mdhd)||void 0===l?void 0:l.timescale,h=f.stts,p=f.stsc,v=f.stsz,g=f.stco,m=f.stss,y=f.ctts;if(!(d&&h&&p&&v&&g&&m))return;o=(a=R(t,d,h,p,v,g,m,y)).map((function(e){return e.duration}))}if(i){var _,b,x,w=null===(_=i.mdia)||void 0===_||null===(b=_.minf)||void 0===b?void 0:b.stbl;if(!w)return;var E=null===(x=i.mdia.mdhd)||void 0===x?void 0:x.timescale,k=w.stts,S=w.stsc,T=w.stsz,A=w.stco;if(!(E&&k&&S&&T&&A))return;s=R(t,E,k,S,T,A,null,null,o)}return{videoSegments:a,audioSegments:s}}}}function R(e,t,r,n,i,o,a,s,u){var c,l,f,d,h=[],p=[],v=[],g=[],m=[],_=n.entries,b=o.entries,x=i.entrySizes,w=null==a?void 0:a.entries,E=null==s?void 0:s.entries;E&&(c=[],E.forEach((function(e){for(var t=e.count,r=e.offset,n=0;n<t;n++)c.push(r)}))),w&&(l={},w.forEach((function(e){l[e-1]=!0})));var k=0,S=0,T=0,A=0,O=_[0].samplesPerChunk,L=_[1]?_[1].firstChunk-1:Infinity,R=0,C=-1;r.entries.forEach((function(e){var t=e.count,r=e.delta;d=r;for(var n=0;n<t;n++){if(f={dts:R,duration:d,size:x[k]||i.sampleSize,offset:b[S]+A,index:k},w&&(f.keyframe=l[k],f.keyframe?(C++,p.push([f]),v.push(f.duration)):(p[p.length-1].push(f),v[p.length-1]+=f.duration),f.gopId=C),c&&k<c.length&&(f.pts=R+c[k]),0===k&&(f.pts=0),void 0===f.pts&&(f.pts=f.dts),f.keyframe?g.push(f.pts):f.pts<g[p.length-1]&&(g[p.length-1]=f.pts),f.keyframe)m.push(f.index);else if(p.length>0&&void 0!==m[p.length-1]){var o,a=null===(o=h[m[p.length-1]])||void 0===o?void 0:o.pts;void 0!==a&&f.pts>a&&(m[p.length-1]=f.index)}h.push(f),R+=r,++k<O?A+=f.size:(S++,A=0,S>=L&&(T++,L=_[T+1]?_[T+1].firstChunk-1:Infinity),O+=_[T].samplesPerChunk)}}));var P=h.length;if(P&&(!a||h[0].keyframe)){var I,D=[],B=[],j=0,M=0,U=0,N=0,F=function(e,r,n){(I=B[B.length-1],U=g[r],N=h[m[n]],0===D.length)&&(e=(N.pts+N.duration-U)/t);D.push({index:D.length,startTime:U/t,endTime:(N.pts+N.duration)/t,duration:e,range:[B[0].offset,I.offset+I.size-1],frames:B}),j=0,B=[]},z=0;if(a)for(var H=e*t,V=0,q=p.length;V<q;V++){var W;j+=v[V],(W=B).push.apply(W,y(p[V])),V+1<q?(0===V||j>H)&&(F(j/t,z,V),z=V+1):(F(j/t,z,V),z=V+1)}else{g=[],m=[];for(var G=(u=u||[])[0]||e,Y=0;Y<P;Y++){B.push(h[Y]);var K=(j+=h[Y].duration)/t;(Y+1>=P||K+M>=G)&&(M+=K-G,g.push(B[0].pts),m.push(B[B.length-1].index),F(K,D.length,D.length),G=u[D.length]||e)}}return D}}function C(e){var t="",r="",n=0,i=0,o=0,a=0,s=0,u=0,c=0;e.mvhd&&(s=e.mvhd.duration/e.mvhd.timescale);var l=e.trak;if(l){var f,d,h,p,v,g,m,y,_,b,x,w,E,k,S,T,A,O=l.find((function(e){var t,r;return"vide"===(null===(t=e.mdia)||void 0===t||null===(r=t.hdlr)||void 0===r?void 0:r.handlerType)})),L=l.find((function(e){var t,r;return"soun"===(null===(t=e.mdia)||void 0===t||null===(r=t.hdlr)||void 0===r?void 0:r.handlerType)})),R=null;if(O)if(R=null===(d=O.mdia)||void 0===d||null===(h=d.minf)||void 0===h||null===(p=h.stbl)||void 0===p?void 0:p.stsd.entries[0])if(n=R.width,i=R.height,u=null===(v=O.mdia)||void 0===v||null===(g=v.mdhd)||void 0===g?void 0:g.timescale,t=null===(m=R.avcC||R.hvcC||R.vvcC)||void 0===m?void 0:m.codec,"encv"===R.type)f=null===(y=R.sinf)||void 0===y||null===(_=y.schi)||void 0===_?void 0:_.tenc.default_KID;if(L)if(R=null===(b=L.mdia)||void 0===b||null===(x=b.minf)||void 0===x||null===(w=x.stbl)||void 0===w?void 0:w.stsd.entries[0])if(o=R.channelCount,a=R.sampleRate,r=null===(E=R.esds)||void 0===E?void 0:E.codec,c=null===(k=L.mdia)||void 0===k||null===(S=k.mdhd)||void 0===S?void 0:S.timescale,"enca"===R.type)f=f||(null===(T=R.sinf)||void 0===T||null===(A=T.schi)||void 0===A?void 0:A.tenc.default_KID);return{kid:f?f.join(""):null,videoCodec:t,audioCodec:r,width:n,height:i,videoTimescale:u,audioChannelCount:o,audioSampleRate:a,duration:s,audioTimescale:c,moov:e}}}function P(e){return"number"==typeof e&&!Number.isNaN(e)}var I=r(3493),D=["vid","cache"],B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(B,e);var t,r,n,a,c,d,y,_,b,x,R,I=g(B);function B(e){var t;u(this,B),f(v(t=I.call(this)),"vid",""),f(v(t),"url",""),f(v(t),"meta",{}),f(v(t),"downloadInfo",[]),f(v(t),"videoSegments",[]),f(v(t),"audioSegments",[]),f(v(t),"cache",null),f(v(t),"_currentSegmentIndex",-1),f(v(t),"_currentLoadingSegmentIndex",-1),f(v(t),"buffer",void 0),f(v(t),"_error",void 0),f(v(t),"_transformError",(function(e){return e})),t._config=i({vid:"",moovEnd:8e4,segmentDuration:2,maxDownloadInfoSize:30,responseType:"arraybuffer",cache:null},e);var r=t._config,n=r.vid,o=r.cache,a=p(r,D);return t.cache=o||new O,t.vid=n||a.url,t.url=a.url,a.transformError=t._transformError,t.logger=new w.Y("MP4Loader_"+t.vid),e.openLog&&w.Y.enable(),a.logger=t.logger,t._loader=new E.mf(a),t._loader.on(k.K.REAL_TIME_SPEED,(function(e){t.emit(k.K.REAL_TIME_SPEED,e)})),t}return l(B,[{key:"isMetaLoaded",get:function(){return this.videoSegments.length||this.audioSegments.length}},{key:"setCurrentSegment",value:function(e){P(e)&&(this._currentSegmentIndex=e)}},{key:"isLastSegment",value:function(e){var t,r;return!!P(e)&&e>=((null===(t=this.videoSegments[this.videoSegments.length-1])||void 0===t?void 0:t.index)||(null===(r=this.audioSegments[this.audioSegments.length-1])||void 0===r?void 0:r.index)||0)}},{key:"isSegmentLoading",value:function(e){return e===this._currentLoadingSegmentIndex}},{key:"changeUrl",value:(R=s(o().mark((function e(t){var r,n,i,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:t,n=a.length>2?a[2]:void 0,i=a.length>3?a[3]:void 0,e.next=5,this.reset(i);case 5:t&&(this.url=t),r&&(this.vid=r),n&&(this._config.moovEnd=n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return R.apply(this,arguments)})},{key:"getOrLoadMeta",value:(x=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isMetaLoaded){e.next=3;break}return e.next=3,this.loadMeta(t);case 3:return e.abrupt("return",this.meta);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)})},{key:"loadMetaProcess",value:(b=s(o().mark((function e(t,r,n,a){var u,c,l,f,d=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=m(r,2),c=u[0],l=u[1],this._error=!1,this.logger.debug("[loadMetaProcess start], range,",[c,l]),f=function(){var e=s(o().mark((function e(r,i,s,u){var f,h,p,v,g,m,y,_;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.meta&&null!=s&&s.range&&s.range.length>0&&s.range[1]>=l&&(i=!0,d.logger.debug("[loadMetaProcess],data done,setstate true,[",c,l,"]")),i&&null!=s&&s.range&&s.range.length>0&&s.range[1]<l&&(i=!1,d.logger.debug("[loadMetaProcess],data not done,setstate false,[",c,l,"]")),d.logger.debug("[loadMetaProcess],task,[",c,l,"], range,",s.range,",dataLen,",r?r.byteLength:void 0,", state,",i,",err,",d._error),!d._error&&r&&r.byteLength>0&&n(r,i,s,null,u),!d.meta.moov&&!d._error){e.next=6;break}return e.abrupt("return");case 6:if(!(r&&r.byteLength>0)){e.next=44;break}if(d.buffer=(0,S.gJ)(d.buffer,r),f=T.I.findBox(d.buffer,["moov"])[0]){e.next=23;break}if(h=T.I.findBox(d.buffer,["mdat"])[0],!i){e.next=23;break}if(h){e.next=18;break}return d._error=!0,n(null,i,s,{err:"cannot find moov or mdat box"},u),e.abrupt("return");case 18:return p=h.start+h.size,e.next=21,d.loadData([p,""],t,a);case 21:(v=e.sent)&&(f=T.I.findBox(v.data,["moov"])[0]);case 23:if(!(f&&i&&f.size>f.data.length)){e.next=27;break}return d.logger.debug("[loadMetaProcess],moov not all, range,",s.range[1],",dataLen,",d.buffer.byteLength,", state,",i),e.next=27,d.loadMetaProcess(t,[s.range[1],f.start+f.size-1],n);case 27:if(!(f&&f.size<=f.data.length)||d.meta.moov){e.next=44;break}if(g=T.I.moov(f)){e.next=33;break}return d._error=!0,n(null,i,s,{err:"cannot parse moov box"},u),e.abrupt("return");case 33:if(m=L(g,d._config.segmentDuration)){e.next=38;break}return d._error=!0,n(null,i,s,{err:"cannot parse segments"},u),e.abrupt("return");case 38:d.meta=C(g),y=m.videoSegments,_=m.audioSegments,d.videoSegments=y,d.audioSegments=_,d.logger.debug("[loadMetaProcess] moov ok"),n(void 0,i,{meta:{meta:d.meta,videoSegments:y,audioSegments:_}},null,u);case 44:case"end":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),e.next=6,this.loadData([c,l||this._config.moovEnd],t,i({onProgress:f},a));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return b.apply(this,arguments)})},{key:"loadMeta",value:(_=s(o().mark((function e(t,r,n){var i,a,s,u,c,l,f,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],this.logger.debug("[loadMeta start]"),e.next=4,this.loadData([0,r||this._config.moovEnd],t,n);case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return");case 7:if(i.push(a),s=T.I.findBox(a.data,["moov"])[0]){e.next=23;break}if(u=T.I.findBox(a.data,["mdat"])[0]){e.next=13;break}throw new A("cannot find moov or mdat box",a.data);case 13:return c=u.start+u.size,e.next=16,this.loadData([c],t,n);case 16:if(a=e.sent){e.next=19;break}return e.abrupt("return");case 19:if(i.push(a),s=T.I.findBox(a.data,["moov"],c)[0]){e.next=23;break}throw new A("cannot find moov box",a.data);case 23:if(!(s.size>s.data.length)){e.next=31;break}return e.next=26,this.loadData([a.data.length,s.start+s.size-1],t,n);case 26:if(a=e.sent){e.next=29;break}return e.abrupt("return");case 29:i.push(a),s.data=(0,S.gJ)(s.data,a.data);case 31:if(l=T.I.moov(s)){e.next=34;break}throw new A("cannot parse moov box",s.data);case 34:if(f=L(l,this._config.segmentDuration)){e.next=37;break}throw new A("cannot parse segments",s.data);case 37:return this.meta=C(l),d=f.videoSegments,h=f.audioSegments,this.videoSegments=d,this.audioSegments=h,this.logger.debug("[load moov end!!!!!]"),e.abrupt("return",{meta:this.meta,videoSegments:d,audioSegments:h,responses:i});case 43:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return _.apply(this,arguments)})},{key:"loadCacheMeta",value:function(e,t){var r=L(e.moov,this._config.segmentDuration),n=r.videoSegments,i=r.audioSegments;this.videoSegments=n,this.audioSegments=i,this._currentSegmentIndex=t,this.meta=e}},{key:"getSegmentByTime",value:function(e){var t,r;return this.videoSegments.length?(t=this.videoSegments.find((function(t){return t.startTime<=e&&t.endTime>e})))&&(r=this.audioSegments[t.index]):r=this.audioSegments.find((function(t){return t.startTime<=e&&t.endTime>e})),{video:t,audio:r}}},{key:"loadSegmentByTime",value:(y=s(o().mark((function e(t,r){var n,i,a,s,u,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(c.length>2&&void 0!==c[2])||c[2],i=c.length>3&&void 0!==c[3]?c[3]:{},this.isMetaLoaded){e.next=5;break}return e.next=5,this.loadMeta(r);case 5:return a=this.getSegmentByTime(t),s=a.video,u=a.audio,e.abrupt("return",this._loadSegment(s,u,r,n,i));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"loadNextSegment",value:(d=s(o().mark((function e(t){var r,n,i,a,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(s.length>1&&void 0!==s[1])||s[1],n=s.length>2&&void 0!==s[2]?s[2]:{},this.isMetaLoaded){e.next=5;break}return e.next=5,this.loadMeta();case 5:return i=this.videoSegments[this._currentSegmentIndex+1],a=this.audioSegments[this._currentSegmentIndex+1],e.abrupt("return",this._loadSegment(i,a,t,r,n));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"preload",value:(c=s(o().mark((function e(t){var r,n,i,a,u,c,l,f=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isMetaLoaded){e.next=3;break}return e.next=3,this.loadMeta(!0);case 3:if(t&&!(t<0)){e.next=5;break}return e.abrupt("return");case 5:if(r=this.getSegmentByTime(t),n=r.video,i=r.audio,a=Math.max((null==n?void 0:n.index)||0,(null==i?void 0:i.index)||0)){e.next=9;break}return e.abrupt("return");case 9:return u=this.videoSegments.slice(0,a),c=this.audioSegments.slice(0,a),l=function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>a)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,f._loadSegment(u[t],c[t],!0,!1);case 4:return e.next=6,l(t+1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=14,l(0);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"cancel",value:function(){return this._loader.cancel()}},{key:"reset",value:(a=s(o().mark((function e(){var t=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length>0&&void 0!==t[0]&&t[0]){e.next=5;break}return this.logger.debug("[MP4loader reset func call loader.cancel]"),e.next=5,this._loader.cancel();case 5:this.vid=this.url="",this.meta={},this.downloadInfo=[],this.videoSegments=[],this.audioSegments=[],this._currentSegmentIndex=-1,this._currentLoadingSegmentIndex=-1;case 12:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"destroy",value:(n=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.reset();case 2:this.cache.clear();case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"_loadSegment",value:(r=s(o().mark((function e(t,r,n,i,a){var s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||r){e.next=2;break}return e.abrupt("return");case 2:return s=(null==t?void 0:t.index)||(null==r?void 0:r.index)||0,this._currentLoadingSegmentIndex=s,e.prev=4,e.next=7,this.loadData([Math.min((null==t?void 0:t.range[0])||Infinity,(null==r?void 0:r.range[0])||Infinity),Math.max((null==t?void 0:t.range[1])||0,(null==r?void 0:r.range[1])||0)],n,a);case 7:u=e.sent;case 8:return e.prev=8,this._currentLoadingSegmentIndex=-1,e.finish(8);case 11:if(u){e.next=13;break}return e.abrupt("return");case 13:return i&&(this._currentSegmentIndex=s),u.video=t,u.audio=r,e.abrupt("return",u);case 17:case"end":return e.stop()}}),e,this,[[4,,8,11]])}))),function(e,t,n,i,o){return r.apply(this,arguments)})},{key:"loadData",value:(t=s(o().mark((function e(t,r,n){var a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._getCacheKey(t),e.next=3,this.cache.get(a);case 3:if(s=e.sent){e.next=11;break}return c=n&&n.url?n.url:this.url,e.next=8,this._loader.load(c,i({range:t,vid:this.vid},n));case 8:u=e.sent,e.next=12;break;case 11:u={data:s,state:!0,options:{fromCache:!0,range:t,vid:this.vid}};case 12:if(u){e.next=14;break}return e.abrupt("return");case 14:return s||(u.data&&this.downloadInfo.push({startTime:u.startTime,endTime:u.endTime,size:u.data.byteLength,range:t}),this.downloadInfo&&this.downloadInfo.length>this._config.maxDownloadInfoSize&&(this.downloadInfo=this.downloadInfo.slice(-this._config.maxDownloadInfoSize))),e.abrupt("return",u);case 17:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"_getCacheKey",value:function(e){return(this.vid||this.url)+":"+e}}]),B}(r.n(I)())},33534:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(){o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function l(e,t,r,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new T(i||[]);return n(a,"_invoke",{value:w(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=l;var d={};function h(){}function p(){}function v(){}var g={};c(g,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(A([])));y&&y!==t&&r.call(y,a)&&(g=y);var _=v.prototype=h.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(n,o,a,s){var u=f(e[n],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return{value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=f(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=v,n(_,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},b(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new x(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(_),c(_,u,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e,t,r){return(m=g()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&v(i,r.prototype),i}).apply(null,arguments)}function y(e){var t="function"==typeof Map?new Map:void 0;return y=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return m(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)},y(e)}function _(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=g();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,r)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},w.apply(this,arguments)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function S(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}r.d(t,{Lc:function(){return b},x:function(){return u},PA:function(){return c},qH:function(){return f},sf:function(){return k},WY:function(){return x},_x:function(){return d},U2:function(){return w},IP:function(){return p},XW:function(){return h},Zj:function(){return i},Kd:function(){return _},l5:function(){return o},Ac:function(){return a},wm:function(){return y}})},32373:function(e,t,r){"use strict";r.d(t,{wb:function(){return o},WE:function(){return a},Fc:function(){return s}});var n,i=r(33534),o={MANIFEST:"manifest",NETWORK:"network",NETWORK_TIMEOUT:"network_timeout",NETWORK_FORBIDDEN:"network_forbidden",NETWROK_RANGE_NOT_SATISFIABLE:"network_range_not_satisfiable",DEMUX:"demux",REMUX:"remux",MEDIA:"media",DRM:"drm",OTHER:"other",RUNTIME:"runtime",SUB_TYPES:{FLV:"FLV",HLS:"HLS",MP4:"MP4",FMP4:"FMP4",MSE_ADD_SB:"MSE_ADD_SB",MSE_APPEND_BUFFER:"MSE_APPEND_BUFFER",MSE_OTHER:"MSE_OTHER",MSE_FULL:"MSE_FULL",OPTION:"OPTION",DASH:"DASH",LICENSE:"LICENSE",CUSTOM_LICENSE:"CUSTOM_LICENSE",MSE_HIJACK:"MSE_HIJACK",EME_HIJACK:"EME_HIJACK",SIDX:"SIDX",NO_CANPLAY_ERROR:"NO_CANPLAY_ERROR",BUFFERBREAK_ERROR:"BUFFERBREAK_ERROR",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_CODEC_NOT_SUPPORTED:"MEDIA_ERR_CODEC_NOT_SUPPORTED",MEDIA_ERR_URL_EMPTY:"MEDIA_ERR_URL_EMPTY"}},a=(n={},(0,i._x)(n,o.MANIFEST,{HLS:1100,DASH:1200}),(0,i._x)(n,o.NETWORK,2100),(0,i._x)(n,o.NETWORK_TIMEOUT,2101),(0,i._x)(n,o.NETWORK_FORBIDDEN,2103),(0,i._x)(n,o.NETWROK_RANGE_NOT_SATISFIABLE,2116),(0,i._x)(n,o.DEMUX,{FLV:3100,HLS:3200,MP4:3300,FMP4:3400,SIDX:3410}),(0,i._x)(n,o.REMUX,{FMP4:4100,MP4:4200}),(0,i._x)(n,o.MEDIA,{MEDIA_ERR_ABORTED:5101,MEDIA_ERR_NETWORK:5102,MEDIA_ERR_DECODE:5103,MEDIA_ERR_SRC_NOT_SUPPORTED:5104,MEDIA_ERR_CODEC_NOT_SUPPORTED:5105,MEDIA_ERR_URL_EMPTY:5106,MSE_ADD_SB:5200,MSE_APPEND_BUFFER:5201,MSE_OTHER:5202,MSE_FULL:5203,MSE_HIJACK:5204,EME_HIJACK:5301}),(0,i._x)(n,o.DRM,{LICENSE:7100,CUSTOM_LICENSE:7200}),(0,i._x)(n,o.OTHER,8e3),(0,i._x)(n,o.RUNTIME,{NO_CANPLAY_ERROR:9001,BUFFERBREAK_ERROR:9002}),n),s=function(e){(0,i.XW)(r,e);var t=(0,i.WY)(r);function r(e,n,s,u,c){var l;return(0,i.PA)(this,r),(l=t.call(this,c||(null==s?void 0:s.message))).errorType=e===o.NETWORK_TIMEOUT?o.NETWORK:e,l.originError=s,l.ext=u,l.errorCode=a[e][n]||a[e],l.errorMessage=l.message,l.errorCode||(l.errorType=o.OTHER,l.errorCode=a[l.errorType]),l}return(0,i.qH)(r,null,[{key:"create",value:function(e,t,n,i,a){return e instanceof r?e:(e instanceof Error&&(n=e,e=""),e||(e=o.OTHER),new r(e,t,n,i,a))}},{key:"network",value:function(e){var t;return new r(null!=e&&e.isTimeout?o.NETWORK_TIMEOUT:o.NETWORK,null,e instanceof Error?e:null,{url:null==e?void 0:e.url,response:null==e?void 0:e.response,httpCode:null==e||null===(t=e.response)||void 0===t?void 0:t.status})}}]),r}((0,i.wm)(Error))},85578:function(e,t,r){"use strict";r.d(t,{K:function(){return n}});var n={ERROR:"error",TTFB:"core.ttfb",LOAD_START:"core.loadstart",LOAD_RESPONSE_HEADERS:"core.loadresponseheaders",LOAD_COMPLETE:"core.loadcomplete",LOAD_RETRY:"core.loadretry",SOURCEBUFFER_CREATED:"core.sourcebuffercreated",ANALYZE_DURATION_EXCEEDED:"core.analyzedurationexceeded",REMOVE_BUFFER:"core.removebuffer",BUFFEREOS:"core.buffereos",KEYFRAME:"core.keyframe",METADATA_PARSED:"core.metadataparsed",SEI:"core.sei",SEI_IN_TIME:"core.seiintime",FLV_SCRIPT_DATA:"core.flvscriptdata",LOWDECODE:"core.lowdecode",SWITCH_URL_SUCCESS:"core.switchurlsuccess",SWITCH_URL_FAILED:"core.switchurlfailed",SPEED:"core.speed",HLS_MANIFEST_LOADED:"core.hlsmanifestloaded",HLS_LEVEL_LOADED:"core.hlslevelloaded",DEMUXED_TRACK:"demuxedtrack",STREAM_EXCEPTION:"core.streamexception",LARGE_AV_FIRST_FRAME_GAP_DETECT:"LARGE_AV_FIRST_FRAME_GAP_DETECT",LARGE_VIDEO_DTS_GAP_DETECT:"LARGE_VIDEO_DTS_GAP_DETECT",LARGE_AUDIO_DTS_GAP_DETECT:"LARGE_AUDIO_DTS_GAP_DETECT",AUDIO_GAP_DETECT:"AUDIO_GAP_DETECT",AUDIO_OVERLAP_DETECT:"AUDIO_OVERLAP_DETECT",MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT:"MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT",REAL_TIME_SPEED:"real_time_speed"}},93261:function(e,t,r){"use strict";r.d(t,{_:function(){return i},Y:function(){return a}});var n=r(33534),i=(r(27181),r(36117),r(67519),r(91728),r(53840),r(44512),r(16279),r(60289),{DEBUG:1,LOG:2,WARN:3,ERROR:4}),o=["Boolean","Number","String","Undefined","Null","Date","Object"],a=function(){function e(t,r){(0,n.PA)(this,e),this.name=t||"",this._prefix="[".concat(this.name,"]"),e.disabled=(null==r?void 0:r.disabled)||!0,this.logCacheLevel=(null==r?void 0:r.logCacheLevel)||3,this.logMaxSize=(null==r?void 0:r.logMaxSize)||204800,this.logSize=0,this.logTextArray=[]}return(0,n.qH)(e,[{key:"debug",value:function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];this.logCache.apply(this,[i.DEBUG].concat(n)),e.disabled||(t=console).debug.apply(t,[this._prefix,s()].concat(n))}},{key:"log",value:function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];this.logCache.apply(this,[i.LOG].concat(n)),e.disabled||(t=console).log.apply(t,[this._prefix,s()].concat(n))}},{key:"warn",value:function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];this.logCache.apply(this,[i.WARN].concat(n)),e.disabled||(t=console).warn.apply(t,[this._prefix,s()].concat(n))}},{key:"error",value:function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];this.logCache.apply(this,[i.ERROR].concat(n)),e.disabled||(t=console).error.apply(t,[this._prefix,s()].concat(n))}},{key:"logCache",value:function(e){if(!(e<this.logCacheLevel)){var t="";try{for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=n.map((function(e){return c(e)}));t=this._prefix+s()+JSON.stringify(o)}catch(u){return}if(e>=this.logCacheLevel&&(this.logSize+=t.length,this.logTextArray.push(t)),this.logSize>this.logMaxSize){var a=this.logTextArray.shift();this.logSize-=a.length}}}},{key:"getLogCache",value:function(){var e=this.logTextArray.join("\n");return this.reset(),e}},{key:"reset",value:function(){this.logTextArray=[],this.logSize=0}},{key:"table",value:function(){var t;e.disabled||(t=console).table.apply(t,arguments)}},{key:"setLogLevel",value:function(e){this.logCacheLevel=e}}],[{key:"enable",value:function(){e.disabled=!1}},{key:"disable",value:function(){e.disabled=!0}}]),e}();function s(){return(new Date).toLocaleString()}function u(e){if("object"!==(0,n.Ac)(e))return e;var t=Object.prototype.toString.call(e).slice(8,-1);switch(t){case"Array":case"Uint8Array":case"ArrayBuffer":return t+"["+e.length+"]";case"Object":return"{}";default:return t}}function c(e,t,r){r||(r=1),t||(t=2);var i={};if(!e||"object"!==(0,n.Ac)(e))return e;var a=Object.prototype.toString.call(e).slice(8,-1);if(!o.includes(a))return a;if(!(r>t)){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r===t?i[s]=u(e[s]):"object"===(0,n.Ac)(e[s])?i[s]=c(e[s],t,r+1):i[s]=e[s]);return i}}(0,n._x)(a,"disabled",!0)},63314:function(e,t,r){"use strict";r.d(t,{d1:function(){return d}});var n=r(33534),i=(r(70440),r(16279),r(41620),r(20493),r(23594),r(74989),r(76044),r(43421),r(49649),r(25134),r(44512),r(49413),r(98538),r(99800)),o=function(){function e(){(0,n.PA)(this,e)}return(0,n.qH)(e,null,[{key:"start",value:function(e){return e&&e.length?1===e.length&&e.end(0)-e.start(0)<1e-6||1===e.length&&e.start(0)<0?0:e.start(0):0}},{key:"end",value:function(e){return e&&e.length?1===e.length&&e.end(0)-e.start(0)<1e-6?0:e.end(e.length-1):0}},{key:"get",value:function(e){if(e)try{return e.buffered}catch(t){}}},{key:"buffers",value:function(e,t){if(!e||!e.length)return[];for(var r=[],n=0,i=e.length;n<i;n++){var o=r.length;if(o&&t){var a=r[o-1],s=a[1];if(e.start(n)-s<=t){var u=e.end(n);u>s&&(a[1]=u)}else r.push([e.start(n),e.end(n)])}else r.push([e.start(n),e.end(n)])}return r}},{key:"totalLength",value:function(e){return e&&e.length?e.reduce((function(e,t){return e+(t[1]-t[0])}),0):0}},{key:"info",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t||!t.length)return{start:0,end:0,buffers:[]};for(var i=0,o=0,a=0,s=0,u=0,c=0,l=0,f=e.buffers(t,n),d=0,h=f.length;d<h;d++){var p=f[d];if(r+n>=p[0]&&r<p[1])i=p[0],o=p[1],a=d;else{if(r+n<p[0]){s=p[0],u=p[1];break}r+n>p[1]&&(c=p[0],l=p[1])}}return{start:i,end:o,index:a,buffers:f,nextStart:s,nextEnd:u,prevStart:c,prevEnd:l,currentTime:r,behind:r-i,remaining:o?o-r:0,length:e.totalLength&&e.totalLength(f)}}}]),e}(),a=r(32373),s="undefined"!=typeof window,u=r(93261);var c=function(){try{return s?window.MediaSource:null}catch(e){}}(),l="appendBuffer",f="removeBuffer",d=(Error,function(){function e(t,r){var o=this;(0,n.PA)(this,e),(0,n._x)(this,"media",null),(0,n._x)(this,"mediaSource",null),(0,n._x)(this,"_openPromise",(0,i.Q)()),(0,n._x)(this,"_queue",Object.create(null)),(0,n._x)(this,"_sourceBuffer",Object.create(null)),(0,n._x)(this,"_mseFullFlag",{}),(0,n._x)(this,"_st",0),(0,n._x)(this,"_opst",0),(0,n._x)(this,"_logger",null),(0,n._x)(this,"_config",null),(0,n._x)(this,"_url",null),(0,n._x)(this,"_onSBUpdateEnd",(function(e){var t=o._queue[e];if(t){var r=t.shift();if(r){var n=(0,i.j)()-o._opst;o._logger.debug("UpdateEnd",r.opName,n,r.context),r.promise.resolve({name:r.opName,context:r.context,costtime:n}),o._startQueue(e)}}})),(0,n._x)(this,"_onSBUpdateError",(function(e,t){var r=o._queue[e];if(r){var n=r[0];n&&(o._logger.error("UpdateError",e,n.opName,n.context),n.promise.reject(new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_APPEND_BUFFER,t)))}})),this._config=Object.assign(e.getDefaultConfig(),r),t&&this.bindMedia(t),this._logger=new u.Y("MSE"),this._config.openLog&&u.Y.enable()}var t,r,s;return(0,n.qH)(e,[{key:"isOpened",get:function(){var e;return"open"===(null===(e=this.mediaSource)||void 0===e?void 0:e.readyState)}},{key:"url",get:function(){return this._url}},{key:"duration",get:function(){var e;return(null===(e=this.mediaSource)||void 0===e?void 0:e.duration)||-1}},{key:"isEnded",get:function(){return!!this.mediaSource&&"ended"===this.mediaSource.readyState}},{key:"isFull",value:function(t){return t?this._mseFullFlag[t]:this._mseFullFlag[e.VIDEO]}},{key:"updateDuration",value:function(e){var t=this;return this.mediaSource&&this.mediaSource.duration>e?Promise.resolve():this._enqueueBlockingOp((function(){t.isEnded?t._logger.debug("[debug mse] setDuration ended"):t.mediaSource&&(t.mediaSource.duration=e,t._logger.debug("[debug mse] setDuration"))}),"updateDuration")}},{key:"open",value:function(){var e=this;if(this._openPromise.used&&!this.isOpened&&this.mediaSource){var t=this.mediaSource;t.addEventListener("sourceopen",(function r(){var n=(0,i.j)()-e._st;e._logger.debug("MSE OPEN",n),t.removeEventListener("sourceopen",r),e._openPromise.resolve({costtime:n})})),this._openPromise=(0,i.Q)()}return this._openPromise}},{key:"bindMedia",value:(s=(0,n.x)((0,n.l5)().mark((function e(t){var r,o,a=this;return(0,n.l5)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mediaSource&&!this.media){e.next=3;break}return e.next=3,this.unbindMedia();case 3:if(t&&c){e.next=5;break}throw new Error("Param media or MediaSource does not exist");case 5:return this.media=t,r=this.mediaSource=new c,this._st=(0,i.j)(),o=function e(){var n=(0,i.j)()-a._st;a._logger.debug("MSE OPEN"),r.removeEventListener("sourceopen",e),URL.revokeObjectURL(t.src),a._openPromise.resolve({costtime:n})},r.addEventListener("sourceopen",o),this._url=URL.createObjectURL(r),t.src=this._url,e.abrupt("return",this._openPromise);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"unbindMedia",value:(r=(0,n.x)((0,n.l5)().mark((function e(){var t,r,o,a=this;return(0,n.l5)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._openPromise.used||this._openPromise.resolve(),t=this.mediaSource){if(Object.keys(this._queue).forEach((function(e){var t=a._queue[e];t&&t.forEach((function(e){return e.promise.resolve}))})),r=!!this.media&&this.media.readyState>=1,o="open"===t.readyState,r&&o)try{t.endOfStream()}catch(n){}Object.keys(this._sourceBuffer).forEach((function(e){try{t.removeSourceBuffer(a._sourceBuffer[e])}catch(n){}}))}if(this.media){this.media.removeAttribute("src");try{this.media.load()}catch(n){}this.media=null}this.mediaSource=null,this._openPromise=(0,i.Q)(),this._queue=Object.create(null),this._sourceBuffer=Object.create(null);case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"createSource",value:function(e,t){if(!this._sourceBuffer[e]&&this.mediaSource){var r;try{r=this._sourceBuffer[e]=this.mediaSource.addSourceBuffer(t)}catch(n){throw new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_ADD_SB,n)}r.mimeType=t,r.addEventListener("updateend",this._onSBUpdateEnd.bind(this,e)),r.addEventListener("error",this._onSBUpdateError.bind(this,e))}}},{key:"changeType",value:function(e,t){var r=this,n=this._sourceBuffer[e];return this.mediaSource&&n&&n.mimeType!==t&&"function"==typeof n.changeType?this._enqueueOp(e,(function(){n.changeType(t),n.mimeType=t,r._onSBUpdateEnd(e)})):Promise.resolve()}},{key:"createOrChangeSource",value:function(e,t){return this.createSource(e,t),this.changeType(e,t)}},{key:"append",value:function(e,t,r){var n=this;return t&&t.byteLength&&this._sourceBuffer[e]?this._enqueueOp(e,(function(){var o;n.mediaSource&&(n._logger.debug("MSE APPEND START",r),n._opst=(0,i.j)(),null===(o=n._sourceBuffer[e])||void 0===o||o.appendBuffer(t))}),l,r):Promise.resolve()}},{key:"remove",value:function(e,t,r,n){var o=this,a=!1;return this._mseFullFlag[e]&&(a=!0),this._enqueueOp(e,(function(){if(o.mediaSource){var a=o._sourceBuffer[e];t>=r||!a?o._onSBUpdateEnd(e):(o._opst=(0,i.j)(),o._logger.debug("MSE REMOVE START",e,t,r,n),a.remove(t,r))}}),f,n,a)}},{key:"clearBuffer",value:function(e,t){var r,n=this;return Object.keys(this._sourceBuffer).forEach((function(i){r=n._enqueueOp(i,(function(){if(n.mediaSource){var r=n._sourceBuffer[i];n._logger.debug("MSE clearBuffer START",i,e,t),r.remove(e,t)}}))})),r}},{key:"clearAllBuffer",value:function(){var e,t=this;return Object.keys(this._sourceBuffer).forEach((function(r){e=t._enqueueOp(r,(function(){if(t.mediaSource){var e=t._sourceBuffer[r];t._logger.debug("MSE clearAllBuffer START",r),e.remove(0,o.end(o.get(e)))}}))})),e}},{key:"clearOpQueues",value:function(e){var t;this._logger.debug("MSE clearOpQueue START");var r=this._queue[e];if(r&&r[e]&&!(r.length<5)){var n=[];r.forEach((function(e){e.context&&e.context.isinit&&n.push(e)})),this._queue[e]=r.slice(0,2),n.length>0&&(t=this._queue[e]).push.apply(t,n)}}},{key:"endOfStream",value:function(e){var t=this;return this.mediaSource&&"open"===this.mediaSource.readyState?this._enqueueBlockingOp((function(){var r=t.mediaSource;r&&"open"===r.readyState&&(t._logger.debug("MSE endOfStream START"),e?r.endOfStream(e):r.endOfStream())}),"endOfStream"):Promise.resolve()}},{key:"setLiveSeekableRange",value:function(e,t){var r=this.mediaSource;e<0||t<e||null==r||!r.setLiveSeekableRange||"open"!==r.readyState||r.setLiveSeekableRange(e,t)}},{key:"getSourceBuffer",value:function(e){return this._sourceBuffer[e]}},{key:"buffered",value:function(e){return o.get(this._sourceBuffer[e])}},{key:"bufferStart",value:function(e){return o.start(this.buffered(e))}},{key:"bufferEnd",value:function(e){return o.end(this.buffered(e))}},{key:"_enqueueOp",value:function(e,t,r,n,o){var a=this;if(!this.mediaSource)return Promise.resolve();var s=this._queue[e]=this._queue[e]||[],u={exec:t,promise:(0,i.Q)(),opName:r,context:n};return o?(s.splice(0,0,u),this._mseFullFlag[e]=!1,this._startQueue(e)):s.push(u),this.isOpened?1===s.length&&this._startQueue(e):this._openPromise.then((function(){1===s.length&&a._startQueue(e)})),u.promise}},{key:"_enqueueBlockingOp",value:(t=(0,n.x)((0,n.l5)().mark((function e(t,r){var o,a,s=this;return(0,n.l5)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mediaSource){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if((o=Object.keys(this._sourceBuffer)).length){e.next=5;break}return e.abrupt("return",t());case 5:return a=[],o.forEach((function(e){var t=s._queue[e],n=(0,i.Q)();a.push(n),t.push({exec:function(){return n.resolve()},promise:n,opName:r}),1===t.length&&s._startQueue(e)})),e.abrupt("return",Promise.all(a).then((function(){try{return t()}finally{o.forEach((function(e){var t=s._queue[e],r=s._sourceBuffer[e];null==t||t.shift(),r&&r.updating||s._startQueue(e)}))}})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"_startQueue",value:function(e){var t=this._queue[e];if(t){var r=t[0];if(r&&!this._mseFullFlag[e])try{r.exec()}catch(n){n&&n.message&&n.message.indexOf("SourceBuffer is full")>=0?(this._mseFullFlag[e]=!0,this._logger.error("[MSE error],  context,",r.context," ,name,",r.opName,",err,SourceBuffer is full"),r.promise.reject(new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_FULL,n))):(this._logger.error(n),r.promise.reject(new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_OTHER,n)),t.shift(),this._startQueue(e))}}}},{key:"setTimeoffset",value:function(e,t,r){var n=this;return this._enqueueOp(e,(function(){t<0&&(t+=.001),n._sourceBuffer[e].timestampOffset=t,n._onSBUpdateEnd(e)}),"setTimeoffset",r)}},{key:"abort",value:function(e,t){var r=this;return this.isOpened?this._enqueueOp(e,(function(){r._sourceBuffer[e].abort(),r._onSBUpdateEnd(e)}),"abort",t):Promise.resolve()}}],[{key:"getDefaultConfig",value:function(){return{openLog:!1}}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if(!c)return!1;try{return c.isTypeSupported(e)}catch(t){return this._logger.error(e,t),!1}}}]),e}());(0,n._x)(d,"VIDEO","video"),(0,n._x)(d,"AUDIO","audio")},7186:function(e,t,r){"use strict";r.d(t,{mf:function(){return k}});var n=r(33534),i=(r(70440),r(36117),r(67519),r(20493),r(16279),r(41620),r(23594),r(74989),r(98538),r(21454),r(1348),r(44537),r(39143),r(51890),r(64084),r(14394),r(85048),r(71486),r(14973),r(92328),r(75125),r(59078),r(52448),r(89898),r(89071),r(25235),r(80226),r(98925),r(66029),r(64782),r(80859),r(26536),r(27529),r(83336),r(21962),r(38262),r(8250),r(29035),r(44512),r(26215)),o=function(e){(0,n.XW)(r,e);var t=(0,n.WY)(r);function r(e,o,a,s){var u;return(0,n.PA)(this,r),u=t.call(this,s),(0,n._x)((0,n.Lc)(u),"retryCount",0),(0,n._x)((0,n.Lc)(u),"isTimeout",!1),(0,n._x)((0,n.Lc)(u),"loaderType",i.t.FETCH),(0,n._x)((0,n.Lc)(u),"startTime",0),(0,n._x)((0,n.Lc)(u),"endTime",0),(0,n._x)((0,n.Lc)(u),"options",{}),u.url=e,u.request=o,u.response=a,u}return(0,n.qH)(r)}((0,n.wm)(Error)),a=(r(64987),r(53840),r(25134),r(91728),r(82615),r(15837),r(46910),Object.prototype.toString);function s(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){if(e&&null!==e[0]&&void 0!==e[0]&&(0!==e[0]||null!==e[1]&&void 0!==e[1])){var t="bytes="+e[0]+"-";return e[1]&&(t+=e[1]),t}}function c(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function l(e,t){if(e){if(!t)return e;var r,i=Object.keys(t).map((function(e){if(null!=(r=t[e]))return Array.isArray(r)?e+="[]":r=[r],r.map((function(t){var r;return r=t,"[object Date]"===a.call(r)?t=t.toISOString():function(e){return null!==e&&"object"===(0,n.Ac)(e)}(t)&&(t=JSON.stringify(t)),"".concat(c(e),"=").concat(c(t))})).join("&")})).filter(Boolean).join("&");if(i){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}}function f(e,t,r,n,i,o,a,s,u,c,l){return i=null!=i?parseFloat(i):null,n=parseInt(n||"0",10),Number.isNaN(n)&&(n=0),{data:e,done:t,option:{range:u,vid:c,index:s,contentLength:n,age:i,startTime:o,firstByteTime:a,endTime:Date.now(),priOptions:l},response:r}}function d(e,t){return Math.round(8*e*1e3/t/1024)}var h=r(85578),p=r(3493),v=r.n(p),g=2097152,m=function(e){(0,n.XW)(a,e);var t,r=(0,n.WY)(a);function a(){var e;return(0,n.PA)(this,a),e=r.call(this),(0,n._x)((0,n.Lc)(e),"_abortController",null),(0,n._x)((0,n.Lc)(e),"_timeoutTimer",null),(0,n._x)((0,n.Lc)(e),"_reader",null),(0,n._x)((0,n.Lc)(e),"_response",null),(0,n._x)((0,n.Lc)(e),"_aborted",!1),(0,n._x)((0,n.Lc)(e),"_index",-1),(0,n._x)((0,n.Lc)(e),"_range",null),(0,n._x)((0,n.Lc)(e),"_receivedLength",0),(0,n._x)((0,n.Lc)(e),"_running",!1),(0,n._x)((0,n.Lc)(e),"_logger",null),(0,n._x)((0,n.Lc)(e),"_vid",""),(0,n._x)((0,n.Lc)(e),"_onProcessMinLen",0),(0,n._x)((0,n.Lc)(e),"_onCancel",null),(0,n._x)((0,n.Lc)(e),"_priOptions",null),e}return(0,n.qH)(a,[{key:"load",value:function(e){var t,r=this,a=e.url,s=e.vid,c=e.timeout,p=e.responseType,v=e.onProgress,g=e.index,m=e.onTimeout,y=e.onCancel,_=e.range,b=e.transformResponse,x=e.request,w=e.params,E=e.logger,k=e.method,S=e.headers,T=e.body,A=e.mode,O=e.credentials,L=e.cache,R=e.redirect,C=e.referrer,P=e.referrerPolicy,I=e.onProcessMinLen,D=e.priOptions;this._logger=E,this._aborted=!1,this._onProcessMinLen=I,this._onCancel=y,this._abortController="undefined"!=typeof AbortController&&new AbortController,this._running=!0,this._index=g,this._range=_||[0,0],this._vid=s||a,this._priOptions=D||{};var B={method:k,headers:S,body:T,mode:A,credentials:O,cache:L,redirect:R,referrer:C,referrerPolicy:P,signal:null===(t=this._abortController)||void 0===t?void 0:t.signal},j=!1;clearTimeout(this._timeoutTimer),a=l(a,w);var M=u(_);M&&(S=x?x.headers:B.headers=B.headers||(Headers?new Headers:{}),Headers&&S instanceof Headers?S.append("Range",M):S.Range=M),c&&(this._timeoutTimer=setTimeout((function(){if(j=!0,r.cancel(),m){var e=new o(a,B,null,"timeout");e.isTimeout=!0,m(e,{index:r._index,range:r._range,vid:r._vid,priOptions:r._priOptions})}}),c));var U=Date.now();return this._logger.debug("[fetch load start], index,",g,",range,",_),new Promise((function(e,t){fetch(x||a,x?void 0:B).then(function(){var s=(0,n.x)((0,n.l5)().mark((function s(u){var c,l,m,y;return(0,n.l5)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(clearTimeout(r._timeoutTimer),r._response=u,!r._aborted&&r._running){n.next=4;break}return n.abrupt("return");case 4:if(b&&(u=b(u,a)||u),u.ok){n.next=7;break}throw new o(a,B,u,"bad network response");case 7:if(c=Date.now(),p!==i.U.TEXT){n.next=15;break}return n.next=11,u.text();case 11:l=n.sent,r._running=!1,n.next=37;break;case 15:if(p!==i.U.JSON){n.next=22;break}return n.next=18,u.json();case 18:l=n.sent,r._running=!1,n.next=37;break;case 22:if(!v){n.next=29;break}return r.resolve=e,r.reject=t,r._loadChunk(u,v,U,c),n.abrupt("return");case 29:return n.next=31,u.arrayBuffer();case 31:l=n.sent,l=new Uint8Array(l),r._running=!1,m=Date.now()-U,y=d(l.byteLength,m),r.emit(h.K.REAL_TIME_SPEED,{speed:y,len:l.byteLength,time:m,vid:r._vid,index:r._index,range:r._range,priOptions:r._priOptions});case 37:r._logger.debug("[fetch load end], index,",g,",range,",_),e(f(l,!0,u,u.headers.get("Content-Length"),u.headers.get("age"),U,c,g,_,r._vid,r._priOptions));case 39:case"end":return n.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()).catch((function(e){var n;clearTimeout(r._timeoutTimer),r._running=!1,r._aborted&&!j||((e=e instanceof o?e:new o(a,B,null,null===(n=e)||void 0===n?void 0:n.message)).startTime=U,e.endTime=Date.now(),e.isTimeout=j,e.options={index:r._index,range:r._range,vid:r._vid,priOptions:r._priOptions},t(e))}))}))}},{key:"cancel",value:(t=(0,n.x)((0,n.l5)().mark((function e(){return(0,n.l5)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._aborted){e.next=2;break}return e.abrupt("return");case 2:if(this._aborted=!0,this._running=!1,!this._response){e.next=14;break}if(e.prev=5,!this._reader){e.next=9;break}return e.next=9,this._reader.cancel();case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:this._response=this._reader=null;case 14:if(this._abortController){try{this._abortController.abort()}catch(t){}this._abortController=null}this._onCancel&&this._onCancel({index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions});case 16:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return t.apply(this,arguments)})},{key:"_loadChunk",value:function(e,t,r,i){var a=this;if(!e.body||!e.body.getReader){this._running=!1;var s=new o(e.url,"",e,"onProgress of bad response.body.getReader");return s.options={index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions},void this.reject(s)}this._onProcessMinLen>0&&(this._cache=new Uint8Array(g),this._writeIdx=0);var u,c,l,p=this._reader=e.body.getReader(),v=function(){var o=(0,n.x)((0,n.l5)().mark((function o(){var s,m,y,_,b,x,w,E;return(0,n.l5)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=Date.now(),n.prev=1,n.next=4,p.read();case 4:u=n.sent,l=Date.now(),n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),l=Date.now(),a._aborted||(a._running=!1,n.t0.options={index:a._index,range:a._range,vid:a._vid,priOptions:a._priOptions},a.reject(n.t0)),n.abrupt("return");case 13:if(m=(null===(s=a._range)||void 0===s?void 0:s.length)>0?a._range[0]:0,y=m+a._receivedLength,!a._aborted){n.next=19;break}return a._running=!1,t(void 0,!1,{range:[y,y],vid:a._vid,index:a._index,startTime:c,endTime:l,st:r,firstByteTime:i,priOptions:a._priOptions},e),n.abrupt("return");case 19:_=u.value?u.value.byteLength:0,a._receivedLength+=_,a._logger.debug("\u3010fetchLoader,onProgress call\u3011,task,",a._range,", start,",y,", end,",m+a._receivedLength,", done,",u.done),a._onProcessMinLen>0?a._writeIdx+_>=a._onProcessMinLen||u.done?((b=new Uint8Array(a._writeIdx+_)).set(a._cache.slice(0,a._writeIdx),0),_>0&&b.set(u.value,a._writeIdx),a._writeIdx=0,a._logger.debug("\u3010fetchLoader,onProgress enough\u3011,done,",u.done,",len,",b.byteLength,", writeIdx,",a._writeIdx)):_>0&&a._writeIdx+_<g?(a._cache.set(u.value,a._writeIdx),a._writeIdx+=_,a._logger.debug("\u3010fetchLoader,onProgress cache\u3011,len,",_,", writeIdx,",a._writeIdx)):_>0&&(x=new Uint8Array(a._writeIdx+_+2048),a._logger.debug("\u3010fetchLoader,onProgress extra start\u3011,size,",a._writeIdx+_+2048,", datalen,",_,", writeIdx,",a._writeIdx),x.set(a._cache.slice(0,a._writeIdx),0),_>0&&x.set(u.value,a._writeIdx),a._writeIdx+=_,delete a._cache,a._cache=x,a._logger.debug("\u3010fetchLoader,onProgress extra end\u3011,len,",_,", writeIdx,",a._writeIdx)):b=u.value,(b&&b.byteLength>0||u.done)&&t(b,u.done,{range:[a._range[0]+a._receivedLength-(b?b.byteLength:0),a._range[0]+a._receivedLength],vid:a._vid,index:a._index,startTime:c,endTime:l,st:r,firstByteTime:i,priOptions:a._priOptions},e),u.done?(w=Date.now()-r,E=d(a._receivedLength,w),a.emit(h.K.REAL_TIME_SPEED,{speed:E,len:a._receivedLength,time:w,vid:a._vid,index:a._index,range:a._range,priOptions:a._priOptions}),a._running=!1,a._logger.debug("[fetchLoader onProgress end],task,",a._range,",done,",u.done),a.resolve(f(u,!0,e,e.headers.get("Content-Length"),e.headers.get("age"),r,i,a._index,a._range,a._vid,a._priOptions))):v();case 25:case"end":return n.stop()}}),o,null,[[1,8]])})));return function(){return o.apply(this,arguments)}}();v()}},{key:"receiveLen",get:function(){return this._receivedLength}},{key:"running",get:function(){return this._running},set:function(e){this._running=e}}],[{key:"isSupported",value:function(){return!("undefined"==typeof fetch)}}]),a}(v());r(49649),r(61098);var y=function(e){(0,n.XW)(r,e);var t=(0,n.WY)(r);function r(){var e;return(0,n.PA)(this,r),e=t.call(this),(0,n._x)((0,n.Lc)(e),"_xhr",null),(0,n._x)((0,n.Lc)(e),"_aborted",!1),(0,n._x)((0,n.Lc)(e),"_timeoutTimer",null),(0,n._x)((0,n.Lc)(e),"_range",null),(0,n._x)((0,n.Lc)(e),"_receivedLength",0),(0,n._x)((0,n.Lc)(e),"_url",null),(0,n._x)((0,n.Lc)(e),"_onProgress",null),(0,n._x)((0,n.Lc)(e),"_index",-1),(0,n._x)((0,n.Lc)(e),"_headers",null),(0,n._x)((0,n.Lc)(e),"_currentChunkSizeKB",384),(0,n._x)((0,n.Lc)(e),"_timeout",null),(0,n._x)((0,n.Lc)(e),"_xhr",null),(0,n._x)((0,n.Lc)(e),"_withCredentials",null),(0,n._x)((0,n.Lc)(e),"_startTime",-1),(0,n._x)((0,n.Lc)(e),"_loadCompleteResolve",null),(0,n._x)((0,n.Lc)(e),"_loadCompleteReject",null),(0,n._x)((0,n.Lc)(e),"_runing",!1),(0,n._x)((0,n.Lc)(e),"_logger",!1),(0,n._x)((0,n.Lc)(e),"_vid",""),(0,n._x)((0,n.Lc)(e),"_responseType",void 0),(0,n._x)((0,n.Lc)(e),"_credentials",void 0),(0,n._x)((0,n.Lc)(e),"_method",void 0),(0,n._x)((0,n.Lc)(e),"_transformResponse",void 0),(0,n._x)((0,n.Lc)(e),"_firstRtt",void 0),(0,n._x)((0,n.Lc)(e),"_onCancel",null),(0,n._x)((0,n.Lc)(e),"_priOptions",null),e}return(0,n.qH)(r,[{key:"load",value:function(e){var t=this;clearTimeout(this._timeoutTimer),this._logger=e.logger,this._range=e.range,this._onProgress=e.onProgress,this._index=e.index,this._headers=e.headers,this._withCredentials="include"===e.credentials||"same-origin"===e.credentials,this._body=e.body||null,e.method&&(this._method=e.method),this._timeout=e.timeout||null,this._runing=!0,this._vid=e.vid||e.url,this._responseType=e.responseType,this._firstRtt=-1,this._onTimeout=e.onTimeout,this._onCancel=e.onCancel,this._request=e.request,this._priOptions=e.priOptions||{},this._logger.debug("\u3010xhrLoader task\u3011, range",this._range),this._url=l(e.url,e.params);var r=Date.now();return new Promise((function(e,r){t._loadCompleteResolve=e,t._loadCompleteReject=r,t._startLoad()})).catch((function(e){if(clearTimeout(t._timeoutTimer),t._runing=!1,!t._aborted)throw(e=e instanceof o?e:new o(t._url,t._request)).startTime=r,e.endTime=Date.now(),e.options={index:t._index,vid:t._vid,priOptions:t._priOptions},e}))}},{key:"_startLoad",value:function(){var e=null;if(this._responseType===i.U.ARRAY_BUFFER&&this._range&&this._range.length>1)if(this._onProgress){this._firstRtt=-1;var t=1024*this._currentChunkSizeKB,r=this._range[0]+this._receivedLength,n=this._range[1];t<this._range[1]-r&&(n=r+t),e=[r,n],this._logger.debug("[xhr_loader->],tast :",this._range,", SubRange, ",e)}else e=this._range,this._logger.debug("[xhr_loader->],tast :",this._range,", allRange, ",e);this._internalOpen(e)}},{key:"_internalOpen",value:function(e){var t=this;try{this._startTime=Date.now();var r=this._xhr=new XMLHttpRequest;r.open(this._method||"GET",this._url,!0),r.responseType=this._responseType,this._timeout&&(r.timeout=this._timeout),r.withCredentials=this._withCredentials,r.onload=this._onLoad.bind(this),r.onreadystatechange=this._onReadyStatechange.bind(this),r.onerror=function(e){var r,n,i;t._running=!1;var a=new o(t._url,t._request,null==e||null===(r=e.currentTarget)||void 0===r?void 0:r.response,"xhr.onerror.status:"+(null==e||null===(n=e.currentTarget)||void 0===n?void 0:n.status)+",statusText,"+(null==e||null===(i=e.currentTarget)||void 0===i?void 0:i.statusText));a.options={index:t._index,range:t._range,vid:t._vid,priOptions:t._priOptions},t._loadCompleteReject(a)},r.ontimeout=function(e){t.cancel();var r=new o(t._url,t._request,{status:408},"timeout");t._onTimeout&&(r.isTimeout=!0,t._onTimeout(r,{index:t._index,range:t._range,vid:t._vid,priOptions:t._priOptions})),r.options={index:t._index,range:t._range,vid:t._vid,priOptions:t._priOptions},t._loadCompleteReject(r)};var n=this._headers||{},i=u(e);i&&(n.Range=i),n&&Object.keys(n).forEach((function(e){r.setRequestHeader(e,n[e])})),this._logger.debug("[xhr.send->] tast,",this._range,",load sub range, ",e),r.send(this._body)}catch(a){a.options={index:this._index,range:e,vid:this._vid,priOptions:this._priOptions},this._loadCompleteReject(a)}}},{key:"_onReadyStatechange",value:function(e){2===e.target.readyState&&this._firstRtt<0&&(this._firstRtt=Date.now())}},{key:"_onLoad",value:function(e){var t,r=e.target.status;if(r<200||r>299){var a=new o(this._url,null,(0,n.Zj)((0,n.Zj)({},e.target.response),{},{status:r}),"bad response,status:"+r);return a.options={index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions},this._loadCompleteReject(a)}var s,u=null,c=!1,l=(null===(t=this._range)||void 0===t?void 0:t.length)>0?this._range[0]:0;if(this._responseType===i.U.ARRAY_BUFFER){var p,v=new Uint8Array(e.target.response);if(s=l+this._receivedLength,v&&v.byteLength>0){this._receivedLength+=v.byteLength;var g=Date.now()-this._startTime,m=d(this._receivedLength,g);this.emit(h.K.REAL_TIME_SPEED,{speed:m,len:this._receivedLength,time:g,vid:this._vid,index:this._index,range:[s,l+this._receivedLength],priOptions:this._priOptions})}u=v,c=!((null===(p=this._range)||void 0===p?void 0:p.length)>1&&this._range[1]&&this._receivedLength<this._range[1]-this._range[0]),this._logger.debug("[xhr load done->], tast :",this._range,", start",s,"end ",l+this._receivedLength,",dataLen,",v?v.byteLength:0,",receivedLength",this._receivedLength,",index,",this._index,", done,",c)}else c=!0,u=e.target.response;var y={ok:r>=200&&r<300,status:r,statusText:this._xhr.statusText,url:this._xhr.responseURL,headers:this._getHeaders(this._xhr),body:this._xhr.response};this._transformResponse&&(y=this._transformResponse(y,this._url)||y),this._onProgress&&this._onProgress(u,c,{index:this._index,vid:this._vid,range:[s,l+this._receivedLength],startTime:this._startTime,endTime:Date.now(),priOptions:this._priOptions},y),c?(this._runing=!1,this._loadCompleteResolve&&this._loadCompleteResolve(f(this._onProgress?null:u,c,y,y.headers["content-length"],y.headers.age,this._startTime,this._firstRtt,this._index,this._range,this._vid,this._priOptions))):this._startLoad()}},{key:"cancel",value:function(){if(!this._aborted)return this._aborted=!0,this._runing=!1,(0,n.U2)((0,n.IP)(r.prototype),"removeAllListeners",this).call(this),this._onCancel&&this._onCancel({index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions}),this._xhr?this._xhr.abort():void 0}},{key:"receiveLen",get:function(){return this._receivedLength}},{key:"running",get:function(){return this._running},set:function(e){this._running=e}},{key:"_getHeaders",value:function(e){var t,r=e.getAllResponseHeaders().trim().split("\r\n"),i={},o=(0,n.sf)(r);try{for(o.s();!(t=o.n()).done;){var a=t.value.split(": ");i[a[0].toLowerCase()]=a.slice(1).join(": ")}}catch(s){o.e(s)}finally{o.f()}return i}}],[{key:"isSupported",value:function(){return"undefined"!=typeof XMLHttpRequest}}]),r}(v()),_=r(99800),b=r(93261),x=["retry","retryDelay","onRetryError","transformError"],w=function(){function e(t,r){(0,n.PA)(this,e),this.promise=(0,_.Q)(),this.alive=!!r.onProgress,!r.logger&&(r.logger=new b.Y("Loader")),this._loaderType=t,this._loader=t===i.t.FETCH&&window.fetch?new m:new y,this._config=r,this._retryCount=0,this._retryTimer=null,this._canceled=!1,this._retryCheckFunc=r.retryCheckFunc,this._logger=r.logger}var t;return(0,n.qH)(e,[{key:"exec",value:function(){var e=this,t=this._config,r=t.retry,i=t.retryDelay,o=t.onRetryError,a=t.transformError,s=(0,n.Kd)(t,x),u=function(){var t=(0,n.x)((0,n.l5)().mark((function t(){var c,l,f;return(0,n.l5)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._loader.load(s);case 3:c=t.sent,e.promise.resolve(c),t.next=27;break;case 7:if(t.prev=7,t.t0=t.catch(0),e._loader.running=!1,e._logger.debug("[task request catch err]",t.t0),!e._canceled){t.next=13;break}return t.abrupt("return");case 13:if(t.t0.loaderType=e._loaderType,t.t0.retryCount=e._retryCount,l=t.t0,a&&(l=a(l)||l),o&&e._retryCount>0&&o(l,e._retryCount,{index:s.index,vid:s.vid,range:s.range,priOptions:s.priOptions}),e._retryCount++,f=!0,e._retryCheckFunc&&(f=e._retryCheckFunc(t.t0)),!(f&&e._retryCount<=r)){t.next=26;break}return clearTimeout(e._retryTimer),e._logger.debug("[task request setTimeout],retry",e._retryCount,",retry range,",s.range),e._retryTimer=setTimeout(u,i),t.abrupt("return");case 26:e.promise.reject(l);case 27:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return u(),this.promise}},{key:"cancel",value:(t=(0,n.x)((0,n.l5)().mark((function e(){return(0,n.l5)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearTimeout(this._retryTimer),this._canceled=!0,this._loader.running=!1,e.abrupt("return",this._loader.cancel());case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"running",get:function(){return this._loader&&this._loader.running}},{key:"loader",get:function(){return this._loader}}]),e}();function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))}var k=function(e){(0,n.XW)(o,e);var t,r=(0,n.WY)(o);function o(e){var t;return(0,n.PA)(this,o),t=r.call(this,e),(0,n._x)((0,n.Lc)(t),"type",i.t.FETCH),(0,n._x)((0,n.Lc)(t),"_queue",[]),(0,n._x)((0,n.Lc)(t),"_alive",[]),(0,n._x)((0,n.Lc)(t),"_currentTask",null),(0,n._x)((0,n.Lc)(t),"_config",void 0),t._config=function(e){return(0,n.Zj)({loaderType:i.t.FETCH,retry:0,retryDelay:0,timeout:0,request:null,onTimeout:void 0,onProgress:void 0,onRetryError:void 0,transformRequest:void 0,transformResponse:void 0,transformError:void 0,responseType:i.U.TEXT,range:void 0,url:"",params:void 0,method:"GET",headers:{},body:void 0,mode:void 0,credentials:void 0,cache:void 0,redirect:void 0,referrer:void 0,referrerPolicy:void 0,integrity:void 0,onProcessMinLen:0},e)}(e),t._config.loaderType!==i.t.XHR&&m.isSupported()||(t.type=i.t.XHR),t.log=e.logger,t}return(0,n.qH)(o,[{key:"isFetch",value:function(){return this.type===i.t.FETCH}},{key:"load",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"!=typeof e&&e?r=e:r.url=e||r.url||this._config.url,(r=Object.assign({},this._config,r)).params&&(r.params=Object.assign({},r.params)),r.headers&&s(r.headers)&&(r.headers=Object.assign({},r.headers)),r.body&&s(r.body)&&(r.body=Object.assign({},r.body)),r.transformRequest&&(r=r.transformRequest(r)||r),r.logger=this.log;var n=new w(this.type,r);return n.loader.on(h.K.REAL_TIME_SPEED,(function(e){t.emit(h.K.REAL_TIME_SPEED,e)})),this._queue.push(n),1!==this._queue.length||this._currentTask&&this._currentTask.running||this._processTask(),n.promise}},{key:"cancel",value:(t=(0,n.x)((0,n.l5)().mark((function e(){var t;return(0,n.l5)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._queue.map((function(e){return e.cancel()})).concat(this._alive.map((function(e){return e.cancel()}))),this._currentTask&&t.push(this._currentTask.cancel()),this._queue=[],this._alive=[],e.next=6,Promise.all(t);case 6:return e.next=8,E();case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_processTask",value:function(){var e=this;if(this._currentTask=this._queue.shift(),this._currentTask){this._currentTask.alive&&this._alive.push(this._currentTask);var t=this._currentTask.exec().catch((function(e){}));t&&"function"==typeof t.finally&&t.finally((function(){var t,r;null!==(t=e._currentTask)&&void 0!==t&&t.alive&&(null===(r=e._alive)||void 0===r?void 0:r.length)>0&&(e._alive=e._alive.filter((function(t){return t&&t!==e._currentTask}))),e._processTask()}))}}}],[{key:"isFetchSupport",value:function(){return m.isSupported()}}]),o}(v())},26215:function(e,t,r){"use strict";r.d(t,{t:function(){return n},U:function(){return i}});var n={FETCH:"fetch",XHR:"xhr"},i={ARRAY_BUFFER:"arraybuffer",TEXT:"text",JSON:"json"}},99800:function(e,t,r){"use strict";r.d(t,{Q:function(){return n},j:function(){return i}});r(16279),r(41620);function n(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return r.used=!1,r.resolve=function(){return r.used=!0,e.apply(void 0,arguments)},r.reject=function(){return r.used=!0,t.apply(void 0,arguments)},r}function i(){try{return parseInt(performance.now(),10)}catch(e){return(new Date).getTime()}}},56882:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(){o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function l(e,t,r,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new T(i||[]);return n(a,"_invoke",{value:w(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=l;var d={};function h(){}function p(){}function v(){}var g={};c(g,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(A([])));y&&y!==t&&r.call(y,a)&&(g=y);var _=v.prototype=h.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(n,o,a,s){var u=f(e[n],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return{value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=f(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=v,n(_,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},b(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new x(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(_),c(_,u,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e,t,r){return(m=g()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&v(i,r.prototype),i}).apply(null,arguments)}function y(e){var t="function"==typeof Map?new Map:void 0;return y=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return m(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)},y(e)}function _(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=g();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,r)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},w.apply(this,arguments)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function S(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}r.d(t,{Lc:function(){return b},x:function(){return u},PA:function(){return c},qH:function(){return f},sf:function(){return k},WY:function(){return x},_x:function(){return d},U2:function(){return w},IP:function(){return p},XW:function(){return h},Zj:function(){return i},Kd:function(){return _},l5:function(){return o},Ac:function(){return a},wm:function(){return y}})},60859:function(e,t,r){"use strict";r.d(t,{wb:function(){return o},WE:function(){return a},Fc:function(){return s}});var n,i=r(56882),o={MANIFEST:"manifest",NETWORK:"network",NETWORK_TIMEOUT:"network_timeout",NETWORK_FORBIDDEN:"network_forbidden",NETWORK_NOTFOUND:"network_notfound",NETWROK_RANGE_NOT_SATISFIABLE:"network_range_not_satisfiable",DEMUX:"demux",REMUX:"remux",MEDIA:"media",DRM:"drm",OTHER:"other",RUNTIME:"runtime",SUB_TYPES:{FLV:"FLV",HLS:"HLS",MP4:"MP4",FMP4:"FMP4",MSE_ADD_SB:"MSE_ADD_SB",MSE_APPEND_BUFFER:"MSE_APPEND_BUFFER",MSE_OTHER:"MSE_OTHER",MSE_FULL:"MSE_FULL",OPTION:"OPTION",DASH:"DASH",LICENSE:"LICENSE",CUSTOM_LICENSE:"CUSTOM_LICENSE",MSE_HIJACK:"MSE_HIJACK",EME_HIJACK:"EME_HIJACK",SIDX:"SIDX",NO_CANPLAY_ERROR:"NO_CANPLAY_ERROR",BUFFERBREAK_ERROR:"BUFFERBREAK_ERROR",WAITING_TIMEOUT_ERROR:"WAITING_TIMEOUT_ERROR",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_CODEC_NOT_SUPPORTED:"MEDIA_ERR_CODEC_NOT_SUPPORTED",MEDIA_ERR_URL_EMPTY:"MEDIA_ERR_URL_EMPTY"}},a=(n={},(0,i._x)(n,o.MANIFEST,{HLS:1100,DASH:1200}),(0,i._x)(n,o.NETWORK,2100),(0,i._x)(n,o.NETWORK_TIMEOUT,2101),(0,i._x)(n,o.NETWORK_FORBIDDEN,2103),(0,i._x)(n,o.NETWORK_NOTFOUND,2104),(0,i._x)(n,o.NETWROK_RANGE_NOT_SATISFIABLE,2116),(0,i._x)(n,o.DEMUX,{FLV:3100,HLS:3200,MP4:3300,FMP4:3400,SIDX:3410}),(0,i._x)(n,o.REMUX,{FMP4:4100,MP4:4200}),(0,i._x)(n,o.MEDIA,{MEDIA_ERR_ABORTED:5101,MEDIA_ERR_NETWORK:5102,MEDIA_ERR_DECODE:5103,MEDIA_ERR_SRC_NOT_SUPPORTED:5104,MEDIA_ERR_CODEC_NOT_SUPPORTED:5105,MEDIA_ERR_URL_EMPTY:5106,MSE_ADD_SB:5200,MSE_APPEND_BUFFER:5201,MSE_OTHER:5202,MSE_FULL:5203,MSE_HIJACK:5204,EME_HIJACK:5301}),(0,i._x)(n,o.DRM,{LICENSE:7100,CUSTOM_LICENSE:7200}),(0,i._x)(n,o.OTHER,8e3),(0,i._x)(n,o.RUNTIME,{NO_CANPLAY_ERROR:9001,BUFFERBREAK_ERROR:9002,WAITING_TIMEOUT_ERROR:9003}),n),s=function(e){(0,i.XW)(r,e);var t=(0,i.WY)(r);function r(e,n,s,u,c){var l;return(0,i.PA)(this,r),(l=t.call(this,c||(null==s?void 0:s.message))).errorType=e===o.NETWORK_TIMEOUT?o.NETWORK:e,l.originError=s,l.ext=u,l.errorCode=a[e][n]||a[e],l.errorMessage=l.message,l.errorCode||(l.errorType=o.OTHER,l.errorCode=a[l.errorType]),l}return(0,i.qH)(r,null,[{key:"create",value:function(e,t,n,i,a){return e instanceof r?e:(e instanceof Error&&(n=e,e=""),e||(e=o.OTHER),new r(e,t,n,i,a))}},{key:"network",value:function(e){var t;return new r(null!=e&&e.isTimeout?o.NETWORK_TIMEOUT:o.NETWORK,null,e instanceof Error?e:null,{url:null==e?void 0:e.url,response:null==e?void 0:e.response,httpCode:null==e||null===(t=e.response)||void 0===t?void 0:t.status})}}]),r}((0,i.wm)(Error))},42526:function(e,t,r){"use strict";r.d(t,{K:function(){return n}});var n={ERROR:"error",TTFB:"core.ttfb",LOAD_START:"core.loadstart",LOAD_RESPONSE_HEADERS:"core.loadresponseheaders",LOAD_COMPLETE:"core.loadcomplete",LOAD_RETRY:"core.loadretry",SOURCEBUFFER_CREATED:"core.sourcebuffercreated",ANALYZE_DURATION_EXCEEDED:"core.analyzedurationexceeded",REMOVE_BUFFER:"core.removebuffer",BUFFEREOS:"core.buffereos",KEYFRAME:"core.keyframe",METADATA_PARSED:"core.metadataparsed",SEI:"core.sei",SEI_IN_TIME:"core.seiintime",FLV_SCRIPT_DATA:"core.flvscriptdata",LOWDECODE:"core.lowdecode",SWITCH_URL_SUCCESS:"core.switchurlsuccess",SWITCH_URL_FAILED:"core.switchurlfailed",SPEED:"core.speed",HLS_MANIFEST_LOADED:"core.hlsmanifestloaded",HLS_LEVEL_LOADED:"core.hlslevelloaded",DEMUXED_TRACK:"core.demuxedtrack",STREAM_EXCEPTION:"core.streamexception",LARGE_AV_FIRST_FRAME_GAP_DETECT:"LARGE_AV_FIRST_FRAME_GAP_DETECT",LARGE_VIDEO_DTS_GAP_DETECT:"LARGE_VIDEO_DTS_GAP_DETECT",LARGE_AUDIO_DTS_GAP_DETECT:"LARGE_AUDIO_DTS_GAP_DETECT",AUDIO_GAP_DETECT:"AUDIO_GAP_DETECT",AUDIO_OVERLAP_DETECT:"AUDIO_OVERLAP_DETECT",MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT:"MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT",REAL_TIME_SPEED:"real_time_speed"}},82249:function(e,t,r){"use strict";r.d(t,{_:function(){return i},Y:function(){return a}});var n=r(56882),i={DEBUG:1,LOG:2,WARN:3,ERROR:4},o=["Boolean","Number","String","Undefined","Null","Date","Object"],a=function(){function e(t,r){(0,n.PA)(this,e),this.name=t||"",this._prefix="[".concat(this.name,"]"),this.logCacheLevel=(null==r?void 0:r.logCacheLevel)||3,this.logMaxSize=(null==r?void 0:r.logMaxSize)||204800,this.logSize=0,this.logTextArray=[]}return(0,n.qH)(e,[{key:"debug",value:function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];this.logCache.apply(this,[i.DEBUG].concat(n)),e.disabled||(t=console).debug.apply(t,[this._prefix,s()].concat(n))}},{key:"log",value:function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];this.logCache.apply(this,[i.LOG].concat(n)),e.disabled||(t=console).log.apply(t,[this._prefix,s()].concat(n))}},{key:"warn",value:function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];this.logCache.apply(this,[i.WARN].concat(n)),e.disabled||(t=console).warn.apply(t,[this._prefix,s()].concat(n))}},{key:"error",value:function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];this.logCache.apply(this,[i.ERROR].concat(n)),e.disabled||(t=console).error.apply(t,[this._prefix,s()].concat(n))}},{key:"logCache",value:function(e){if(!(e<this.logCacheLevel)){var t="";try{for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=n.map((function(e){return c(e)}));t=this._prefix+s()+JSON.stringify(o)}catch(u){return}if(e>=this.logCacheLevel&&(this.logSize+=t.length,this.logTextArray.push(t)),this.logSize>this.logMaxSize){var a=this.logTextArray.shift();this.logSize-=a.length}}}},{key:"getLogCache",value:function(){var e=this.logTextArray.join("\n");return this.reset(),e}},{key:"reset",value:function(){this.logTextArray=[],this.logSize=0}},{key:"table",value:function(){var t;e.disabled||(t=console).table.apply(t,arguments)}},{key:"setLogLevel",value:function(e){this.logCacheLevel=e}}],[{key:"enable",value:function(){e.disabled=!1}},{key:"disable",value:function(){e.disabled=!0}}]),e}();function s(){return(new Date).toLocaleString()}function u(e){if("object"!==(0,n.Ac)(e))return e;var t=Object.prototype.toString.call(e).slice(8,-1);switch(t){case"Array":case"Uint8Array":case"ArrayBuffer":return t+"["+e.length+"]";case"Object":return"{}";default:return t}}function c(e,t,r){r||(r=1),t||(t=2);var i={};if(!e||"object"!==(0,n.Ac)(e))return e;var a=Object.prototype.toString.call(e).slice(8,-1);if(!o.includes(a))return a;if(!(r>t)){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r===t?i[s]=u(e[s]):"object"===(0,n.Ac)(e[s])?i[s]=c(e[s],t,r+1):i[s]=e[s]);return i}}(0,n._x)(a,"disabled",!0)},15271:function(e,t,r){"use strict";r.d(t,{d1:function(){return h}});var n=r(56882),i=r(8296),o=function(){function e(){(0,n.PA)(this,e)}return(0,n.qH)(e,null,[{key:"start",value:function(e){return e&&e.length?1===e.length&&e.end(0)-e.start(0)<1e-6||1===e.length&&e.start(0)<0?0:e.start(0):0}},{key:"end",value:function(e){return e&&e.length?1===e.length&&e.end(0)-e.start(0)<1e-6?0:e.end(e.length-1):0}},{key:"get",value:function(e){if(e)try{return e.buffered}catch(t){}}},{key:"buffers",value:function(e,t){if(!e||!e.length)return[];for(var r=[],n=0,i=e.length;n<i;n++){var o=r.length;if(o&&t){var a=r[o-1],s=a[1];if(e.start(n)-s<=t){var u=e.end(n);u>s&&(a[1]=u)}else r.push([e.start(n),e.end(n)])}else r.push([e.start(n),e.end(n)])}return r}},{key:"totalLength",value:function(e){return e&&e.length?e.reduce((function(e,t){return e+(t[1]-t[0])}),0):0}},{key:"info",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t||!t.length)return{start:0,end:0,buffers:[]};for(var i=0,o=0,a=0,s=0,u=0,c=0,l=0,f=e.buffers(t,n),d=0,h=f.length;d<h;d++){var p=f[d];if(r+n>=p[0]&&r<=p[1])i=p[0],o=p[1],a=d;else{if(r+n<p[0]){s=p[0],u=p[1];break}r+n>p[1]&&(c=p[0],l=p[1])}}return{start:i,end:o,index:a,buffers:f,nextStart:s,nextEnd:u,prevStart:c,prevEnd:l,currentTime:r,behind:r-i,remaining:o?o-r:0,length:e.totalLength&&e.totalLength(f)}}}]),e}(),a=r(60859),s="undefined"!=typeof window,u=r(82249);var c=function(){try{return s?window.MediaSource:null}catch(e){}}(),l="appendBuffer",f="removeBuffer",d="updateDuration",h=(Error,function(){function e(t,r){var o=this;(0,n.PA)(this,e),(0,n._x)(this,"media",null),(0,n._x)(this,"mediaSource",null),(0,n._x)(this,"_openPromise",(0,i.Q)()),(0,n._x)(this,"_queue",Object.create(null)),(0,n._x)(this,"_sourceBuffer",Object.create(null)),(0,n._x)(this,"_mseFullFlag",{}),(0,n._x)(this,"_st",0),(0,n._x)(this,"_opst",0),(0,n._x)(this,"_logger",null),(0,n._x)(this,"_config",null),(0,n._x)(this,"_url",null),(0,n._x)(this,"_onSBUpdateEnd",(function(e){var t=o._queue[e];if(t){var r=t[0];if((null==r?void 0:r.opName)!==d&&t.shift(),r){var n=(0,i.j)()-o._opst;o._logger.debug("UpdateEnd",r.opName,n,r.context),r.promise.resolve({name:r.opName,context:r.context,costtime:n}),o._startQueue(e)}}})),(0,n._x)(this,"_onSBUpdateError",(function(e,t){var r=o._queue[e];if(r){var n=r[0];n&&(o._logger.error("UpdateError",e,n.opName,n.context),n.promise.reject(new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_APPEND_BUFFER,t)))}})),this._config=Object.assign(e.getDefaultConfig(),r),t&&this.bindMedia(t),this._logger=new u.Y("MSE"),this._config.openLog&&u.Y.enable()}var t,r,s;return(0,n.qH)(e,[{key:"isOpened",get:function(){var e;return"open"===(null===(e=this.mediaSource)||void 0===e?void 0:e.readyState)}},{key:"url",get:function(){return this._url}},{key:"duration",get:function(){var e;return(null===(e=this.mediaSource)||void 0===e?void 0:e.duration)||-1}},{key:"isEnded",get:function(){return!!this.mediaSource&&"ended"===this.mediaSource.readyState}},{key:"isFull",value:function(t){return t?this._mseFullFlag[t]:this._mseFullFlag[e.VIDEO]}},{key:"updateDuration",value:function(e){var t=this,r=this.mediaSource&&this.mediaSource.duration>e;if(this.mediaSource&&this.mediaSource.duration>e){var n=0;if(Object.keys(this._sourceBuffer).forEach((function(e){try{n=Math.max(t.bufferEnd(e)||0,n)}catch(r){}})),e<n)return Promise.resolve()}return this._enqueueBlockingOp((function(){t.isEnded?t._logger.debug("[debug mse] setDuration ended"):t.mediaSource&&(t.mediaSource.duration=e,t._logger.debug("[debug mse] setDuration"))}),d,{isReduceDuration:r})}},{key:"open",value:function(){var e=this;if(this._openPromise.used&&!this.isOpened&&this.mediaSource){var t=this.mediaSource;t.addEventListener("sourceopen",(function r(){var n=(0,i.j)()-e._st;e._logger.debug("MSE OPEN",n),t.removeEventListener("sourceopen",r),e._openPromise.resolve({costtime:n})})),this._openPromise=(0,i.Q)()}return this._openPromise}},{key:"bindMedia",value:(s=(0,n.x)((0,n.l5)().mark((function e(t){var r,o,a=this;return(0,n.l5)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mediaSource&&!this.media){e.next=3;break}return e.next=3,this.unbindMedia();case 3:if(t&&c){e.next=5;break}throw new Error("Param media or MediaSource does not exist");case 5:return this.media=t,r=this.mediaSource=new c,this._st=(0,i.j)(),o=function e(){var n=(0,i.j)()-a._st;a._logger.debug("MSE OPEN"),r.removeEventListener("sourceopen",e),URL.revokeObjectURL(t.src),a._openPromise.resolve({costtime:n})},r.addEventListener("sourceopen",o),this._url=URL.createObjectURL(r),t.src=this._url,e.abrupt("return",this._openPromise);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"unbindMedia",value:(r=(0,n.x)((0,n.l5)().mark((function e(){var t,r,o,a=this;return(0,n.l5)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._openPromise.used||this._openPromise.resolve(),t=this.mediaSource){if(Object.keys(this._queue).forEach((function(e){var t=a._queue[e];t&&t.forEach((function(e){var t,r;return null===(t=e.promise)||void 0===t||null===(r=t.resolve)||void 0===r?void 0:r.call(t)}))})),r=!!this.media&&this.media.readyState>=1,o="open"===t.readyState,r&&o)try{t.endOfStream()}catch(n){}Object.keys(this._sourceBuffer).forEach((function(e){try{t.removeSourceBuffer(a._sourceBuffer[e])}catch(n){}}))}if(this.media){this.media.removeAttribute("src");try{this.media.load()}catch(n){}this.media=null}this.mediaSource=null,this._openPromise=(0,i.Q)(),this._queue=Object.create(null),this._sourceBuffer=Object.create(null);case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"createSource",value:function(e,t){if(!this._sourceBuffer[e]&&this.mediaSource){var r;try{r=this._sourceBuffer[e]=this.mediaSource.addSourceBuffer(t)}catch(n){throw new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_ADD_SB,n)}r.mimeType=t,r.addEventListener("updateend",this._onSBUpdateEnd.bind(this,e)),r.addEventListener("error",this._onSBUpdateError.bind(this,e))}}},{key:"changeType",value:function(e,t){var r=this,n=this._sourceBuffer[e];return this.mediaSource&&n&&n.mimeType!==t?"function"!=typeof n.changeType?Promise.reject():this._enqueueOp(e,(function(){n.changeType(t),n.mimeType=t,r._onSBUpdateEnd(e)}),"changeType",{mimeType:t}):Promise.resolve()}},{key:"createOrChangeSource",value:function(e,t){return this.createSource(e,t),this.changeType(e,t)}},{key:"append",value:function(e,t,r){var n=this;return t&&t.byteLength&&this._sourceBuffer[e]?this._enqueueOp(e,(function(){var o;n.mediaSource&&!n.media.error&&(n._logger.debug("MSE APPEND START",r),n._opst=(0,i.j)(),null===(o=n._sourceBuffer[e])||void 0===o||o.appendBuffer(t))}),l,r):Promise.resolve()}},{key:"remove",value:function(e,t,r,n){var o=this,a=!1;return this._mseFullFlag[e]&&(a=!0),this._enqueueOp(e,(function(){if(o.mediaSource&&!o.media.error){var a=o._sourceBuffer[e];t>=r||!a?o._onSBUpdateEnd(e):(o._opst=(0,i.j)(),o._logger.debug("MSE REMOVE START",e,t,r,n),a.remove(t,r))}}),f,n,a)}},{key:"clearBuffer",value:function(e,t){var r,n=this;return Object.keys(this._sourceBuffer).forEach((function(i){r=n._enqueueOp(i,(function(){if(n.mediaSource&&!n.media.error){var r=n._sourceBuffer[i];n._logger.debug("MSE clearBuffer START",i,e,t),r.remove(e,t)}}),f)})),r||Promise.resolve()}},{key:"clearAllBuffer",value:function(){var e,t=this;return Object.keys(this._sourceBuffer).forEach((function(r){e=t._enqueueOp(r,(function(){if(t.mediaSource&&!t.media.error){var e=t._sourceBuffer[r];t._logger.debug("MSE clearAllBuffer START",r),e.remove(0,o.end(o.get(e)))}}))})),e}},{key:"clearOpQueues",value:function(e,t){var r;this._logger.debug("MSE clearOpQueue START");var n=this._queue[e];if(t&&n)this._queue[e]=[];else if(n&&n[e]&&!(n.length<5)){var i=[];n.forEach((function(e){e.context&&e.context.isinit&&i.push(e)})),this._queue[e]=n.slice(0,2),i.length>0&&(r=this._queue[e]).push.apply(r,i)}}},{key:"endOfStream",value:function(e){var t=this;return this.mediaSource&&"open"===this.mediaSource.readyState?this._enqueueBlockingOp((function(){var r=t.mediaSource;r&&"open"===r.readyState&&(t._logger.debug("MSE endOfStream START"),e?r.endOfStream(e):r.endOfStream())}),"endOfStream"):Promise.resolve()}},{key:"setLiveSeekableRange",value:function(e,t){var r=this.mediaSource;e<0||t<e||null==r||!r.setLiveSeekableRange||"open"!==r.readyState||r.setLiveSeekableRange(e,t)}},{key:"getSourceBuffer",value:function(e){return this._sourceBuffer[e]}},{key:"buffered",value:function(e){return o.get(this._sourceBuffer[e])}},{key:"bufferStart",value:function(e){return o.start(this.buffered(e))}},{key:"bufferEnd",value:function(e){return o.end(this.buffered(e))}},{key:"_enqueueOp",value:function(e,t,r,n,o){var a=this;if(!this.mediaSource)return Promise.resolve();var s=this._queue[e]=this._queue[e]||[],u={exec:t,promise:(0,i.Q)(),opName:r,context:n};return o?(s.splice(0,0,u),this._mseFullFlag[e]=!1,this._startQueue(e)):s.push(u),this.isOpened||this.isEnded?1===s.length&&this._startQueue(e):this._openPromise.then((function(){1===s.length&&a._startQueue(e)})),u.promise}},{key:"_enqueueBlockingOp",value:(t=(0,n.x)((0,n.l5)().mark((function e(t,r,o){var a,s,u=this;return(0,n.l5)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mediaSource){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if((a=Object.keys(this._sourceBuffer)).length){e.next=5;break}return e.abrupt("return",t());case 5:return s=[],a.forEach((function(e){var t=u._queue[e],n=(0,i.Q)();s.push(n),t.push({exec:function(){n.resolve()},promise:n,opName:r,context:o}),1===t.length&&u._startQueue(e)})),e.abrupt("return",Promise.all(s).then((function(){try{return t()}finally{a.forEach((function(e){var t=u._queue[e],r=u._sourceBuffer[e];null==t||t.shift(),r&&r.updating||u._startQueue(e)}))}})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"_startQueue",value:function(e){var t=this._queue[e];if(t){var r=t[0];if(r&&!this._mseFullFlag[e])try{r.exec()}catch(n){n&&n.message&&n.message.indexOf("SourceBuffer is full")>=0?(this._mseFullFlag[e]=!0,this._logger.error("[MSE error],  context,",r.context," ,name,",r.opName,",err,SourceBuffer is full"),r.promise.reject(new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_FULL,n))):(this._logger.error(n),r.promise.reject(new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_OTHER,n)),t.shift(),this._startQueue(e))}}}},{key:"setTimeoffset",value:function(e,t,r){var n=this;return this._enqueueOp(e,(function(){t<0&&(t+=.001),n._sourceBuffer[e].timestampOffset=t,n._onSBUpdateEnd(e)}),"setTimeoffset",r)}},{key:"abort",value:function(e,t){var r=this;return this.isOpened?this._enqueueOp(e,(function(){r._sourceBuffer[e].abort(),r._onSBUpdateEnd(e)}),"abort",t):Promise.resolve()}}],[{key:"getDefaultConfig",value:function(){return{openLog:!1}}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if(!c)return!1;try{return c.isTypeSupported(e)}catch(t){return this._logger.error(e,t),!1}}}]),e}());(0,n._x)(h,"VIDEO","video"),(0,n._x)(h,"AUDIO","audio")},44549:function(e,t,r){"use strict";r.d(t,{mf:function(){return k}});var n=r(56882),i=r(90429),o=function(e){(0,n.XW)(r,e);var t=(0,n.WY)(r);function r(e,o,a,s){var u;return(0,n.PA)(this,r),u=t.call(this,s),(0,n._x)((0,n.Lc)(u),"retryCount",0),(0,n._x)((0,n.Lc)(u),"isTimeout",!1),(0,n._x)((0,n.Lc)(u),"loaderType",i.t.FETCH),(0,n._x)((0,n.Lc)(u),"startTime",0),(0,n._x)((0,n.Lc)(u),"endTime",0),(0,n._x)((0,n.Lc)(u),"options",{}),u.url=e,u.request=o,u.response=a,u}return(0,n.qH)(r)}((0,n.wm)(Error)),a=Object.prototype.toString;function s(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){if(e&&null!==e[0]&&void 0!==e[0]&&(0!==e[0]||null!==e[1]&&void 0!==e[1])){var t="bytes="+e[0]+"-";return e[1]&&(t+=e[1]),t}}function c(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function l(e,t){if(e){if(!t)return e;var r,i=Object.keys(t).map((function(e){if(null!=(r=t[e]))return Array.isArray(r)?e+="[]":r=[r],r.map((function(t){var r;return r=t,"[object Date]"===a.call(r)?t=t.toISOString():function(e){return null!==e&&"object"===(0,n.Ac)(e)}(t)&&(t=JSON.stringify(t)),"".concat(c(e),"=").concat(c(t))})).join("&")})).filter(Boolean).join("&");if(i){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}}function f(e,t,r,n,i,o,a,s,u,c,l){return i=null!=i?parseFloat(i):null,n=parseInt(n||"0",10),Number.isNaN(n)&&(n=0),{data:e,done:t,options:{range:u,vid:c,index:s,contentLength:n,age:i,startTime:o,firstByteTime:a,endTime:Date.now(),priOptions:l},response:r}}function d(e,t){return Math.round(8*e*1e3/t/1024)}var h=r(42526),p=r(3493),v=r.n(p),g=2097152,m=function(e){(0,n.XW)(a,e);var t,r=(0,n.WY)(a);function a(){var e;return(0,n.PA)(this,a),e=r.call(this),(0,n._x)((0,n.Lc)(e),"_abortController",null),(0,n._x)((0,n.Lc)(e),"_timeoutTimer",null),(0,n._x)((0,n.Lc)(e),"_reader",null),(0,n._x)((0,n.Lc)(e),"_response",null),(0,n._x)((0,n.Lc)(e),"_aborted",!1),(0,n._x)((0,n.Lc)(e),"_index",-1),(0,n._x)((0,n.Lc)(e),"_range",null),(0,n._x)((0,n.Lc)(e),"_receivedLength",0),(0,n._x)((0,n.Lc)(e),"_running",!1),(0,n._x)((0,n.Lc)(e),"_logger",null),(0,n._x)((0,n.Lc)(e),"_vid",""),(0,n._x)((0,n.Lc)(e),"_onProcessMinLen",0),(0,n._x)((0,n.Lc)(e),"_onCancel",null),(0,n._x)((0,n.Lc)(e),"_priOptions",null),e}return(0,n.qH)(a,[{key:"load",value:function(e){var t,r=this,a=e.url,s=e.vid,c=e.timeout,p=e.responseType,v=e.onProgress,g=e.index,m=e.onTimeout,y=e.onCancel,_=e.range,b=e.transformResponse,x=e.request,w=e.params,E=e.logger,k=e.method,S=e.headers,T=e.body,A=e.mode,O=e.credentials,L=e.cache,R=e.redirect,C=e.referrer,P=e.referrerPolicy,I=e.onProcessMinLen,D=e.priOptions;this._logger=E,this._aborted=!1,this._onProcessMinLen=I,this._onCancel=y,this._abortController="undefined"!=typeof AbortController&&new AbortController,this._running=!0,this._index=g,this._range=_||[0,0],this._vid=s||a,this._priOptions=D||{};var B={method:k,headers:S,body:T,mode:A,credentials:O,cache:L,redirect:R,referrer:C,referrerPolicy:P,signal:null===(t=this._abortController)||void 0===t?void 0:t.signal},j=!1;clearTimeout(this._timeoutTimer),a=l(a,w);var M=u(_);M&&(S=x?x.headers:B.headers=B.headers||(Headers?new Headers:{}),Headers&&S instanceof Headers?S.append("Range",M):S.Range=M),c&&(this._timeoutTimer=setTimeout((function(){if(j=!0,r.cancel(),m){var e=new o(a,B,null,"timeout");e.isTimeout=!0,m(e,{index:r._index,range:r._range,vid:r._vid,priOptions:r._priOptions})}}),c));var U=Date.now();return this._logger.debug("[fetch load start], index,",g,",range,",_),new Promise((function(e,t){fetch(x||a,x?void 0:B).then(function(){var s=(0,n.x)((0,n.l5)().mark((function s(u){var c,l,m,y;return(0,n.l5)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(clearTimeout(r._timeoutTimer),r._response=u,!r._aborted&&r._running){n.next=4;break}return n.abrupt("return");case 4:if(b&&(u=b(u,a)||u),u.ok){n.next=7;break}throw new o(a,B,u,"bad network response");case 7:if(c=Date.now(),p!==i.U.TEXT){n.next=15;break}return n.next=11,u.text();case 11:l=n.sent,r._running=!1,n.next=37;break;case 15:if(p!==i.U.JSON){n.next=22;break}return n.next=18,u.json();case 18:l=n.sent,r._running=!1,n.next=37;break;case 22:if(!v){n.next=29;break}return r.resolve=e,r.reject=t,r._loadChunk(u,v,U,c),n.abrupt("return");case 29:return n.next=31,u.arrayBuffer();case 31:l=n.sent,l=new Uint8Array(l),r._running=!1,m=Date.now()-U,y=d(l.byteLength,m),r.emit(h.K.REAL_TIME_SPEED,{speed:y,len:l.byteLength,time:m,vid:r._vid,index:r._index,range:r._range,priOptions:r._priOptions});case 37:r._logger.debug("[fetch load end], index,",g,",range,",_),e(f(l,!0,u,u.headers.get("Content-Length"),u.headers.get("age"),U,c,g,_,r._vid,r._priOptions));case 39:case"end":return n.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()).catch((function(e){var n;clearTimeout(r._timeoutTimer),r._running=!1,r._aborted&&!j||((e=e instanceof o?e:new o(a,B,null,null===(n=e)||void 0===n?void 0:n.message)).startTime=U,e.endTime=Date.now(),e.isTimeout=j,e.options={index:r._index,range:r._range,vid:r._vid,priOptions:r._priOptions},t(e))}))}))}},{key:"cancel",value:(t=(0,n.x)((0,n.l5)().mark((function e(){return(0,n.l5)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._aborted){e.next=2;break}return e.abrupt("return");case 2:if(this._aborted=!0,this._running=!1,!this._response){e.next=14;break}if(e.prev=5,!this._reader){e.next=9;break}return e.next=9,this._reader.cancel();case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:this._response=this._reader=null;case 14:if(this._abortController){try{this._abortController.abort()}catch(t){}this._abortController=null}this._onCancel&&this._onCancel({index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions});case 16:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return t.apply(this,arguments)})},{key:"_loadChunk",value:function(e,t,r,i){var a=this;if(!e.body||!e.body.getReader){this._running=!1;var s=new o(e.url,"",e,"onProgress of bad response.body.getReader");return s.options={index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions},void this.reject(s)}this._onProcessMinLen>0&&(this._cache=new Uint8Array(g),this._writeIdx=0);var u,c,l,p=this._reader=e.body.getReader(),v=function(){var o=(0,n.x)((0,n.l5)().mark((function o(){var s,m,y,_,b,x,w,E;return(0,n.l5)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=Date.now(),n.prev=1,n.next=4,p.read();case 4:u=n.sent,l=Date.now(),n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),l=Date.now(),a._aborted||(a._running=!1,n.t0.options={index:a._index,range:a._range,vid:a._vid,priOptions:a._priOptions},a.reject(n.t0)),n.abrupt("return");case 13:if(m=(null===(s=a._range)||void 0===s?void 0:s.length)>0?a._range[0]:0,y=m+a._receivedLength,!a._aborted){n.next=19;break}return a._running=!1,t(void 0,!1,{range:[y,y],vid:a._vid,index:a._index,startTime:c,endTime:l,st:r,firstByteTime:i,priOptions:a._priOptions},e),n.abrupt("return");case 19:_=u.value?u.value.byteLength:0,a._receivedLength+=_,a._logger.debug("\u3010fetchLoader,onProgress call\u3011,task,",a._range,", start,",y,", end,",m+a._receivedLength,", done,",u.done),a._onProcessMinLen>0?a._writeIdx+_>=a._onProcessMinLen||u.done?((b=new Uint8Array(a._writeIdx+_)).set(a._cache.slice(0,a._writeIdx),0),_>0&&b.set(u.value,a._writeIdx),a._writeIdx=0,a._logger.debug("\u3010fetchLoader,onProgress enough\u3011,done,",u.done,",len,",b.byteLength,", writeIdx,",a._writeIdx)):_>0&&a._writeIdx+_<g?(a._cache.set(u.value,a._writeIdx),a._writeIdx+=_,a._logger.debug("\u3010fetchLoader,onProgress cache\u3011,len,",_,", writeIdx,",a._writeIdx)):_>0&&(x=new Uint8Array(a._writeIdx+_+2048),a._logger.debug("\u3010fetchLoader,onProgress extra start\u3011,size,",a._writeIdx+_+2048,", datalen,",_,", writeIdx,",a._writeIdx),x.set(a._cache.slice(0,a._writeIdx),0),_>0&&x.set(u.value,a._writeIdx),a._writeIdx+=_,delete a._cache,a._cache=x,a._logger.debug("\u3010fetchLoader,onProgress extra end\u3011,len,",_,", writeIdx,",a._writeIdx)):b=u.value,(b&&b.byteLength>0||u.done)&&t(b,u.done,{range:[a._range[0]+a._receivedLength-(b?b.byteLength:0),a._range[0]+a._receivedLength],vid:a._vid,index:a._index,startTime:c,endTime:l,st:r,firstByteTime:i,priOptions:a._priOptions},e),u.done?(w=Date.now()-r,E=d(a._receivedLength,w),a.emit(h.K.REAL_TIME_SPEED,{speed:E,len:a._receivedLength,time:w,vid:a._vid,index:a._index,range:a._range,priOptions:a._priOptions}),a._running=!1,a._logger.debug("[fetchLoader onProgress end],task,",a._range,",done,",u.done),a.resolve(f(u,!0,e,e.headers.get("Content-Length"),e.headers.get("age"),r,i,a._index,a._range,a._vid,a._priOptions))):v();case 25:case"end":return n.stop()}}),o,null,[[1,8]])})));return function(){return o.apply(this,arguments)}}();v()}},{key:"receiveLen",get:function(){return this._receivedLength}},{key:"running",get:function(){return this._running},set:function(e){this._running=e}}],[{key:"isSupported",value:function(){return!("undefined"==typeof fetch)}}]),a}(v());var y=function(e){(0,n.XW)(r,e);var t=(0,n.WY)(r);function r(){var e;return(0,n.PA)(this,r),e=t.call(this),(0,n._x)((0,n.Lc)(e),"_xhr",null),(0,n._x)((0,n.Lc)(e),"_aborted",!1),(0,n._x)((0,n.Lc)(e),"_timeoutTimer",null),(0,n._x)((0,n.Lc)(e),"_range",null),(0,n._x)((0,n.Lc)(e),"_receivedLength",0),(0,n._x)((0,n.Lc)(e),"_url",null),(0,n._x)((0,n.Lc)(e),"_onProgress",null),(0,n._x)((0,n.Lc)(e),"_index",-1),(0,n._x)((0,n.Lc)(e),"_headers",null),(0,n._x)((0,n.Lc)(e),"_currentChunkSizeKB",384),(0,n._x)((0,n.Lc)(e),"_timeout",null),(0,n._x)((0,n.Lc)(e),"_xhr",null),(0,n._x)((0,n.Lc)(e),"_withCredentials",null),(0,n._x)((0,n.Lc)(e),"_startTime",-1),(0,n._x)((0,n.Lc)(e),"_loadCompleteResolve",null),(0,n._x)((0,n.Lc)(e),"_loadCompleteReject",null),(0,n._x)((0,n.Lc)(e),"_runing",!1),(0,n._x)((0,n.Lc)(e),"_logger",!1),(0,n._x)((0,n.Lc)(e),"_vid",""),(0,n._x)((0,n.Lc)(e),"_responseType",void 0),(0,n._x)((0,n.Lc)(e),"_credentials",void 0),(0,n._x)((0,n.Lc)(e),"_method",void 0),(0,n._x)((0,n.Lc)(e),"_transformResponse",void 0),(0,n._x)((0,n.Lc)(e),"_firstRtt",void 0),(0,n._x)((0,n.Lc)(e),"_onCancel",null),(0,n._x)((0,n.Lc)(e),"_priOptions",null),e}return(0,n.qH)(r,[{key:"load",value:function(e){var t=this;clearTimeout(this._timeoutTimer),this._logger=e.logger,this._range=e.range,this._onProgress=e.onProgress,this._index=e.index,this._headers=e.headers,this._withCredentials="include"===e.credentials||"same-origin"===e.credentials,this._body=e.body||null,e.method&&(this._method=e.method),this._timeout=e.timeout||null,this._runing=!0,this._vid=e.vid||e.url,this._responseType=e.responseType,this._firstRtt=-1,this._onTimeout=e.onTimeout,this._onCancel=e.onCancel,this._request=e.request,this._priOptions=e.priOptions||{},this._logger.debug("\u3010xhrLoader task\u3011, range",this._range),this._url=l(e.url,e.params);var r=Date.now();return new Promise((function(e,r){t._loadCompleteResolve=e,t._loadCompleteReject=r,t._startLoad()})).catch((function(e){if(clearTimeout(t._timeoutTimer),t._runing=!1,!t._aborted)throw(e=e instanceof o?e:new o(t._url,t._request)).startTime=r,e.endTime=Date.now(),e.options={index:t._index,vid:t._vid,priOptions:t._priOptions},e}))}},{key:"_startLoad",value:function(){var e=null;if(this._responseType===i.U.ARRAY_BUFFER&&this._range&&this._range.length>1)if(this._onProgress){this._firstRtt=-1;var t=1024*this._currentChunkSizeKB,r=this._range[0]+this._receivedLength,n=this._range[1];t<this._range[1]-r&&(n=r+t),e=[r,n],this._logger.debug("[xhr_loader->],tast :",this._range,", SubRange, ",e)}else e=this._range,this._logger.debug("[xhr_loader->],tast :",this._range,", allRange, ",e);this._internalOpen(e)}},{key:"_internalOpen",value:function(e){var t=this;try{this._startTime=Date.now();var r=this._xhr=new XMLHttpRequest;r.open(this._method||"GET",this._url,!0),r.responseType=this._responseType,this._timeout&&(r.timeout=this._timeout),r.withCredentials=this._withCredentials,r.onload=this._onLoad.bind(this),r.onreadystatechange=this._onReadyStatechange.bind(this),r.onerror=function(e){var r,n,i;t._running=!1;var a=new o(t._url,t._request,null==e||null===(r=e.currentTarget)||void 0===r?void 0:r.response,"xhr.onerror.status:"+(null==e||null===(n=e.currentTarget)||void 0===n?void 0:n.status)+",statusText,"+(null==e||null===(i=e.currentTarget)||void 0===i?void 0:i.statusText));a.options={index:t._index,range:t._range,vid:t._vid,priOptions:t._priOptions},t._loadCompleteReject(a)},r.ontimeout=function(e){t.cancel();var r=new o(t._url,t._request,{status:408},"timeout");t._onTimeout&&(r.isTimeout=!0,t._onTimeout(r,{index:t._index,range:t._range,vid:t._vid,priOptions:t._priOptions})),r.options={index:t._index,range:t._range,vid:t._vid,priOptions:t._priOptions},t._loadCompleteReject(r)};var n=this._headers||{},i=u(e);i&&(n.Range=i),n&&Object.keys(n).forEach((function(e){r.setRequestHeader(e,n[e])})),this._logger.debug("[xhr.send->] tast,",this._range,",load sub range, ",e),r.send(this._body)}catch(a){a.options={index:this._index,range:e,vid:this._vid,priOptions:this._priOptions},this._loadCompleteReject(a)}}},{key:"_onReadyStatechange",value:function(e){2===e.target.readyState&&this._firstRtt<0&&(this._firstRtt=Date.now())}},{key:"_onLoad",value:function(e){var t,r=e.target.status;if(r<200||r>299){var a=new o(this._url,null,(0,n.Zj)((0,n.Zj)({},e.target.response),{},{status:r}),"bad response,status:"+r);return a.options={index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions},this._loadCompleteReject(a)}var s,u=null,c=!1,l=(null===(t=this._range)||void 0===t?void 0:t.length)>0?this._range[0]:0;if(this._responseType===i.U.ARRAY_BUFFER){var p,v=new Uint8Array(e.target.response);if(s=l+this._receivedLength,v&&v.byteLength>0){this._receivedLength+=v.byteLength;var g=Date.now()-this._startTime,m=d(this._receivedLength,g);this.emit(h.K.REAL_TIME_SPEED,{speed:m,len:this._receivedLength,time:g,vid:this._vid,index:this._index,range:[s,l+this._receivedLength],priOptions:this._priOptions})}u=v,c=!((null===(p=this._range)||void 0===p?void 0:p.length)>1&&this._range[1]&&this._receivedLength<this._range[1]-this._range[0]),this._logger.debug("[xhr load done->], tast :",this._range,", start",s,"end ",l+this._receivedLength,",dataLen,",v?v.byteLength:0,",receivedLength",this._receivedLength,",index,",this._index,", done,",c)}else c=!0,u=e.target.response;var y={ok:r>=200&&r<300,status:r,statusText:this._xhr.statusText,url:this._xhr.responseURL,headers:this._getHeaders(this._xhr),body:this._xhr.response};this._transformResponse&&(y=this._transformResponse(y,this._url)||y),this._onProgress&&this._onProgress(u,c,{index:this._index,vid:this._vid,range:[s,l+this._receivedLength],startTime:this._startTime,endTime:Date.now(),priOptions:this._priOptions},y),c?(this._runing=!1,this._loadCompleteResolve&&this._loadCompleteResolve(f(this._onProgress?null:u,c,y,y.headers["content-length"],y.headers.age,this._startTime,this._firstRtt,this._index,this._range,this._vid,this._priOptions))):this._startLoad()}},{key:"cancel",value:function(){if(!this._aborted)return this._aborted=!0,this._runing=!1,(0,n.U2)((0,n.IP)(r.prototype),"removeAllListeners",this).call(this),this._onCancel&&this._onCancel({index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions}),this._xhr?this._xhr.abort():void 0}},{key:"receiveLen",get:function(){return this._receivedLength}},{key:"running",get:function(){return this._running},set:function(e){this._running=e}},{key:"_getHeaders",value:function(e){var t,r=e.getAllResponseHeaders().trim().split("\r\n"),i={},o=(0,n.sf)(r);try{for(o.s();!(t=o.n()).done;){var a=t.value.split(": ");i[a[0].toLowerCase()]=a.slice(1).join(": ")}}catch(s){o.e(s)}finally{o.f()}return i}}],[{key:"isSupported",value:function(){return"undefined"!=typeof XMLHttpRequest}}]),r}(v()),_=r(8296),b=r(82249),x=["retry","retryDelay","onRetryError","transformError"],w=function(){function e(t,r){(0,n.PA)(this,e),this.promise=(0,_.Q)(),this.alive=!!r.onProgress,!r.logger&&(r.logger=new b.Y("Loader")),this._loaderType=t,this._loader=t===i.t.FETCH&&window.fetch?new m:new y,this._config=r,this._retryCount=0,this._retryTimer=null,this._canceled=!1,this._retryCheckFunc=r.retryCheckFunc,this._logger=r.logger}var t;return(0,n.qH)(e,[{key:"exec",value:function(){var e=this,t=this._config,r=t.retry,i=t.retryDelay,o=t.onRetryError,a=t.transformError,s=(0,n.Kd)(t,x),u=function(){var t=(0,n.x)((0,n.l5)().mark((function t(){var c,l,f;return(0,n.l5)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._loader.load(s);case 3:c=t.sent,e.promise.resolve(c),t.next=27;break;case 7:if(t.prev=7,t.t0=t.catch(0),e._loader.running=!1,e._logger.debug("[task request catch err]",t.t0),!e._canceled){t.next=13;break}return t.abrupt("return");case 13:if(t.t0.loaderType=e._loaderType,t.t0.retryCount=e._retryCount,l=t.t0,a&&(l=a(l)||l),o&&e._retryCount>0&&o(l,e._retryCount,{index:s.index,vid:s.vid,range:s.range,priOptions:s.priOptions}),e._retryCount++,f=!0,e._retryCheckFunc&&(f=e._retryCheckFunc(t.t0)),!(f&&e._retryCount<=r)){t.next=26;break}return clearTimeout(e._retryTimer),e._logger.debug("[task request setTimeout],retry",e._retryCount,",retry range,",s.range),e._retryTimer=setTimeout(u,i),t.abrupt("return");case 26:e.promise.reject(l);case 27:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return u(),this.promise}},{key:"cancel",value:(t=(0,n.x)((0,n.l5)().mark((function e(){return(0,n.l5)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearTimeout(this._retryTimer),this._canceled=!0,this._loader.running=!1,e.abrupt("return",this._loader.cancel());case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"running",get:function(){return this._loader&&this._loader.running}},{key:"loader",get:function(){return this._loader}}]),e}(),E=r(58566),k=function(e){(0,n.XW)(o,e);var t,r=(0,n.WY)(o);function o(e){var t;return(0,n.PA)(this,o),t=r.call(this,e),(0,n._x)((0,n.Lc)(t),"type",i.t.FETCH),(0,n._x)((0,n.Lc)(t),"_queue",[]),(0,n._x)((0,n.Lc)(t),"_alive",[]),(0,n._x)((0,n.Lc)(t),"_currentTask",null),(0,n._x)((0,n.Lc)(t),"_config",void 0),t._config=function(e){return(0,n.Zj)({loaderType:i.t.FETCH,retry:0,retryDelay:0,timeout:0,request:null,onTimeout:void 0,onProgress:void 0,onRetryError:void 0,transformRequest:void 0,transformResponse:void 0,transformError:void 0,responseType:i.U.TEXT,range:void 0,url:"",params:void 0,method:"GET",headers:{},body:void 0,mode:void 0,credentials:void 0,cache:void 0,redirect:void 0,referrer:void 0,referrerPolicy:void 0,integrity:void 0,onProcessMinLen:0},e)}(e),t._config.loaderType!==i.t.XHR&&m.isSupported()||(t.type=i.t.XHR),t.log=e.logger,t}return(0,n.qH)(o,[{key:"isFetch",value:function(){return this.type===i.t.FETCH}},{key:"load",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"!=typeof e&&e?r=e:r.url=e||r.url||this._config.url,(r=Object.assign({},this._config,r)).params&&(r.params=Object.assign({},r.params)),r.headers&&s(r.headers)&&(r.headers=Object.assign({},r.headers)),r.body&&s(r.body)&&(r.body=Object.assign({},r.body)),r.transformRequest&&(r=r.transformRequest(r)||r),r.logger=this.log;var n=new w(this.type,r);return n.loader.on(h.K.REAL_TIME_SPEED,(function(e){t.emit(h.K.REAL_TIME_SPEED,e)})),this._queue.push(n),1!==this._queue.length||this._currentTask&&this._currentTask.running||this._processTask(),n.promise}},{key:"cancel",value:(t=(0,n.x)((0,n.l5)().mark((function e(){var t;return(0,n.l5)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._queue.map((function(e){return e.cancel()})).concat(this._alive.map((function(e){return e.cancel()}))),this._currentTask&&t.push(this._currentTask.cancel()),this._queue=[],this._alive=[],e.next=6,Promise.all(t);case 6:return e.next=8,(0,E._v)();case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_processTask",value:function(){var e=this;if(this._currentTask=this._queue.shift(),this._currentTask){this._currentTask.alive&&this._alive.push(this._currentTask);var t=this._currentTask.exec().catch((function(e){}));t&&"function"==typeof t.finally&&t.finally((function(){var t,r;null!==(t=e._currentTask)&&void 0!==t&&t.alive&&(null===(r=e._alive)||void 0===r?void 0:r.length)>0&&(e._alive=e._alive.filter((function(t){return t&&t!==e._currentTask}))),e._processTask()}))}}}],[{key:"isFetchSupport",value:function(){return m.isSupported()}}]),o}(v())},90429:function(e,t,r){"use strict";r.d(t,{t:function(){return n},U:function(){return i}});var n={FETCH:"fetch",XHR:"xhr"},i={ARRAY_BUFFER:"arraybuffer",TEXT:"text",JSON:"json"}},58566:function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if((t=t.filter(Boolean)).length<2)return t[0];var n=new Uint8Array(t.reduce((function(e,t){return e+t.byteLength}),0)),i=0;return t.forEach((function(e){n.set(e,i),i+=e.byteLength})),n}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))}r.d(t,{gJ:function(){return n},_v:function(){return i}})},8296:function(e,t,r){"use strict";function n(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return r.used=!1,r.resolve=function(){return r.used=!0,e.apply(void 0,arguments)},r.reject=function(){return r.used=!0,t.apply(void 0,arguments)},r}function i(){try{return parseInt(performance.now(),10)}catch(e){return(new Date).getTime()}}r.d(t,{Q:function(){return n},j:function(){return i}})},68840:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}r.d(t,{PA:function(){return n},qH:function(){return o},_x:function(){return a}})},29773:function(e,t,r){"use strict";r.d(t,{W:function(){return o}});var n=r(68840),i=r(93521),o=function(){function e(){(0,n.PA)(this,e),(0,n._x)(this,"id",2),(0,n._x)(this,"type",i.Vc.AUDIO),(0,n._x)(this,"codecType",i.yQ.AAC),(0,n._x)(this,"pid",-1),(0,n._x)(this,"codec",""),(0,n._x)(this,"sequenceNumber",0),(0,n._x)(this,"sampleDuration",0),(0,n._x)(this,"timescale",0),(0,n._x)(this,"formatTimescale",0),(0,n._x)(this,"baseMediaDecodeTime",0),(0,n._x)(this,"duration",0),(0,n._x)(this,"warnings",[]),(0,n._x)(this,"samples",[]),(0,n._x)(this,"baseDts",0),(0,n._x)(this,"sampleSize",16),(0,n._x)(this,"sampleRate",0),(0,n._x)(this,"channelCount",0),(0,n._x)(this,"objectType",0),(0,n._x)(this,"sampleRateIndex",0),(0,n._x)(this,"config",[]),(0,n._x)(this,"present",!1),(0,n._x)(this,"isVideoEncryption",!1),(0,n._x)(this,"isAudioEncryption",!1),(0,n._x)(this,"kid",null),(0,n._x)(this,"ext",void 0)}return(0,n.qH)(e,[{key:"reset",value:function(){this.sequenceNumber=0,this.timescale=0,this.sampleDuration=0,this.sampleRate=0,this.channelCount=0,this.baseMediaDecodeTime=0,this.present=!1,this.pid=-1,this.codec="",this.samples=[],this.config=[],this.warnings=[]}},{key:"exist",value:function(){return!!(this.sampleRate&&this.channelCount&&this.codec&&this.codecType===i.yQ.AAC)}},{key:"hasSample",value:function(){return!!this.samples.length}},{key:"isEncryption",get:function(){return this.isAudioEncryption}}]),e}()},93521:function(e,t,r){"use strict";r.d(t,{yQ:function(){return o},Vc:function(){return n},_e:function(){return i}});var n={VIDEO:"video",AUDIO:"audio",METADATA:"metadata"},i={AVC:"avc",HEVC:"hevc"},o={AAC:"aac",G711PCMA:"g7110a",G711PCMU:"g7110m"}},72636:function(e,t,r){"use strict";r.d(t,{q:function(){return o}});var n=r(68840),i=r(93521),o=function(){function e(){(0,n.PA)(this,e),(0,n._x)(this,"id",1),(0,n._x)(this,"type",i.Vc.VIDEO),(0,n._x)(this,"codecType",i._e.AVC),(0,n._x)(this,"pid",-1),(0,n._x)(this,"hvcC",void 0),(0,n._x)(this,"codec",""),(0,n._x)(this,"timescale",0),(0,n._x)(this,"formatTimescale",0),(0,n._x)(this,"sequenceNumber",0),(0,n._x)(this,"baseMediaDecodeTime",0),(0,n._x)(this,"baseDts",0),(0,n._x)(this,"duration",0),(0,n._x)(this,"warnings",[]),(0,n._x)(this,"samples",[]),(0,n._x)(this,"pps",[]),(0,n._x)(this,"sps",[]),(0,n._x)(this,"vps",[]),(0,n._x)(this,"fpsNum",0),(0,n._x)(this,"fpsDen",0),(0,n._x)(this,"sarRatio",[]),(0,n._x)(this,"width",0),(0,n._x)(this,"height",0),(0,n._x)(this,"nalUnitSize",4),(0,n._x)(this,"present",!1),(0,n._x)(this,"isVideoEncryption",!1),(0,n._x)(this,"isAudioEncryption",!1),(0,n._x)(this,"isVideo",!0),(0,n._x)(this,"kid",null),(0,n._x)(this,"pssh",null),(0,n._x)(this,"ext",void 0)}return(0,n.qH)(e,[{key:"reset",value:function(){this.sequenceNumber=this.width=this.height=this.fpsDen=this.fpsNum=this.duration=this.baseMediaDecodeTime=this.timescale=0,this.codec="",this.present=!1,this.pid=-1,this.pps=[],this.sps=[],this.vps=[],this.sarRatio=[],this.samples=[],this.warnings=[],this.hvcC=null}},{key:"exist",value:function(){return!!(this.pps.length&&this.sps.length&&this.codec)}},{key:"hasSample",value:function(){return!!this.samples.length}},{key:"isEncryption",get:function(){return this.isVideoEncryption}}]),e}()},85629:function(e,t,r){"use strict";r.d(t,{I:function(){return p}});var n=r(68840),i=r(93521);var o=Math.pow(2,32);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e[t]<<8)+(e[t+1]||0)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e[t]<<24>>>0)+(e[t+1]<<16)+(e[t+2]<<8)+(e[t+3]||0)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e,t)*o+s(e,t+4)}var c="undefined"!=typeof window,l=c&&navigator.userAgent.toLocaleLowerCase(),f=(c&&/^((?!chrome|android).)*safari/.test(l),c&&l.includes("firefox")),d=c&&l.includes("android"),h=function(){function e(){(0,n.PA)(this,e)}return(0,n.qH)(e,null,[{key:"getRateIndexByRate",value:function(t){return e.FREQ.indexOf(t)}},{key:"parseADTS",value:function(t,r){for(var n=t.length,i=0;i+2<n&&(255!==t[i]||240!=(246&t[i+1]));)i++;if(!(i>=n)){var o=i,a=[],s=(60&t[i+2])>>>2,u=e.FREQ[s];if(!u)throw new Error("Invalid sampling index: ".concat(s));for(var c,l,f=1+((192&t[i+2])>>>6),d=(1&t[i+2])<<2|(192&t[i+3])>>>6,h=e._getConfig(s,d,f),p=h.config,v=h.codec,g=0,m=e.getFrameDuration(u);i+7<n;)if(255===t[i]&&240==(246&t[i+1])){if(n-i<(l=(3&t[i+3])<<11|t[i+4]<<3|(224&t[i+5])>>5))break;c=2*(1&~t[i+1]),a.push({pts:r+g*m,data:t.subarray(i+7+c,i+l)}),g++,i+=l}else i++;return{skip:o,remaining:i>=n?void 0:t.subarray(i),frames:a,samplingFrequencyIndex:s,sampleRate:u,objectType:f,channelCount:d,codec:v,config:p,originCodec:"mp4a.40.".concat(f)}}}},{key:"parseAudioSpecificConfig",value:function(t){if(t.length){var r=t[0]>>>3,n=(7&t[0])<<1|t[1]>>>7,i=(120&t[1])>>>3,o=e.FREQ[n];if(o){var a=e._getConfig(n,i,r);return{samplingFrequencyIndex:n,sampleRate:o,objectType:r,channelCount:i,config:a.config,codec:a.codec,originCodec:"mp4a.40.".concat(r)}}}}},{key:"getFrameDuration",value:function(e){return 1024*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4)/e}},{key:"_getConfig",value:function(e,t,r){var n,i,o=[];return f?e>=6?(n=5,i=e-3):(n=2,i=e):d?(n=2,i=e):(n=2===r||5===r?r:5,i=e,e>=6?i=e-3:1===t&&(n=2,i=e)),o[0]=n<<3,o[0]|=(14&e)>>1,o[1]=(1&e)<<7,o[1]|=t<<3,5===n&&(o[1]|=(14&i)>>1,o[2]=(1&i)<<7,o[2]|=8,o[3]=0),{config:o,codec:"mp4a.40.".concat(n)}}},{key:"getSilentFrame",value:function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}]),e}();(0,n._x)(h,"FREQ",[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350]);var p=function(){function e(){(0,n.PA)(this,e)}return(0,n.qH)(e,null,[{key:"findBox",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[];if(!t)return i;for(var o=0,a="",c=0;t.length>7;){if(o=s(t),a=String.fromCharCode.apply(null,t.subarray(4,8)),c=8,1===o?(o=u(t,8),c+=8):o||(o=t.length),!r[0]||a===r[0]){var l=t.subarray(0,o);if(!(r.length<2))return e.findBox(l.subarray(c),r.slice(1),n+c);i.push({start:n,size:o,headerSize:c,type:a,data:l})}n+=o,t=t.subarray(o)}return i}},{key:"tfhd",value:function(e){return y(e,!0,(function(e,t){e.trackId=s(t);var r=4,n=1&e.flags,i=2&e.flags,o=8&e.flags,a=16&e.flags,u=32&e.flags;n&&(r+=4,e.baseDataOffset=s(t,r),r+=4),i&&(e.sampleDescriptionIndex=s(t,r),r+=4),o&&(e.defaultSampleDuration=s(t,r),r+=4),a&&(e.defaultSampleSize=s(t,r),r+=4),u&&(e.defaultSampleFlags=s(t,r))}))}},{key:"sidx",value:function(e){return y(e,!0,(function(e,t){var r=0;e.reference_ID=s(t,r),r+=4,e.timescale=s(t,r),r+=4,0===e.version?(e.earliest_presentation_time=s(t,r),r+=4,e.first_offset=s(t,r),r+=4):(e.earliest_presentation_time=u(t,r),r+=8,e.first_offset=u(t,r),r+=8),r+=2,e.references=[];var n=a(t,r);r+=2;for(var i=0;i<n;i++){var o={};e.references.push(o);var c=s(t,r);r+=4,o.reference_type=c>>31&1,o.referenced_size=2147483647&c,o.subsegment_duration=s(t,r),c=s(t,r+=4),r+=4,o.starts_with_SAP=c>>31&1,o.SAP_type=c>>28&7,o.SAP_delta_time=268435455&c}}))}},{key:"moov",value:function(t){return y(t,!1,(function(t,r,n){t.mvhd=e.mvhd(e.findBox(r,["mvhd"],n)[0]),t.trak=e.findBox(r,["trak"],n).map((function(t){return e.trak(t)})),t.pssh=e.pssh(e.findBox(r,["pssh"],n)[0])}))}},{key:"mvhd",value:function(e){return y(e,!0,(function(e,t){var r=0;1===e.version?(e.timescale=s(t,16),e.duration=u(t,20),r+=28):(e.timescale=s(t,8),e.duration=s(t,12),r+=16),e.nextTrackId=s(t,r+76)}))}},{key:"trak",value:function(t){return y(t,!1,(function(t,r,n){t.tkhd=e.tkhd(e.findBox(r,["tkhd"],n)[0]),t.mdia=e.mdia(e.findBox(r,["mdia"],n)[0])}))}},{key:"tkhd",value:function(e){return y(e,!0,(function(e,t){var r=0;1===e.version?(e.trackId=s(t,16),e.duration=u(t,24),r+=32):(e.trackId=s(t,8),e.duration=s(t,16),r+=20),e.width=s(t,r+52),e.height=s(t,r+56)}))}},{key:"mdia",value:function(t){return y(t,!1,(function(t,r,n){t.mdhd=e.mdhd(e.findBox(r,["mdhd"],n)[0]),t.hdlr=e.hdlr(e.findBox(r,["hdlr"],n)[0]),t.minf=e.minf(e.findBox(r,["minf"],n)[0])}))}},{key:"mdhd",value:function(e){return y(e,!0,(function(e,t){var r=0;1===e.version?(e.timescale=s(t,16),e.duration=u(t,20),r+=28):(e.timescale=s(t,8),e.duration=s(t,12),r+=16);var n=a(t,r);e.language=String.fromCharCode(96+(n>>10&31),96+(n>>5&31),96+(31&n))}))}},{key:"hdlr",value:function(e){return y(e,!0,(function(e,t){0===e.version&&(e.handlerType=String.fromCharCode.apply(null,t.subarray(4,8)))}))}},{key:"minf",value:function(t){return y(t,!1,(function(t,r,n){t.vmhd=e.vmhd(e.findBox(r,["vmhd"],n)[0]),t.smhd=e.smhd(e.findBox(r,["smhd"],n)[0]),t.stbl=e.stbl(e.findBox(r,["stbl"],n)[0])}))}},{key:"vmhd",value:function(e){return y(e,!0,(function(e,t){e.graphicsmode=a(t),e.opcolor=[a(t,2),a(t,4),a(t,6)]}))}},{key:"smhd",value:function(e){return y(e,!0,(function(e,t){e.balance=a(t)}))}},{key:"stbl",value:function(t){return y(t,!1,(function(t,r,n){var i,o,a;t.stsd=e.stsd(e.findBox(r,["stsd"],n)[0]),t.stts=e.stts(e.findBox(r,["stts"],n)[0]),t.ctts=e.ctts(e.findBox(r,["ctts"],n)[0]),t.stsc=e.stsc(e.findBox(r,["stsc"],n)[0]),t.stsz=e.stsz(e.findBox(r,["stsz"],n)[0]),t.stco=e.stco(e.findBox(r,["stco"],n)[0]),t.stco||(t.co64=e.co64(e.findBox(r,["co64"],n)[0]),t.stco=t.co64);var s=null===(i=t.stsd.entries[0])||void 0===i||null===(o=i.sinf)||void 0===o||null===(a=o.schi)||void 0===a?void 0:a.tenc.default_IV_size;t.stss=e.stss(e.findBox(r,["stss"],n)[0]),t.senc=e.senc(e.findBox(r,["senc"],n)[0],s)}))}},{key:"senc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return y(e,!0,(function(e,r){var n=0,i=s(r,n);n+=4,e.samples=[];for(var o=0;o<i;o++){for(var u={InitializationVector:[]},c=0;c<t;c++)u.InitializationVector[c]=r[n+c];if(n+=t,2&e.flags){u.subsamples=[];var l=a(r,n);n+=2;for(var f=0;f<l;f++){var d={};d.BytesOfClearData=a(r,n),n+=2,d.BytesOfProtectedData=s(r,n),n+=4,u.subsamples.push(d)}}e.samples.push(u)}}))}},{key:"pssh",value:function(e){return y(e,!0,(function(e,t){for(var r=[],n=[],i=0,o=0;o<16;o++)n.push(_(t[i+o]));if(i+=16,e.version>0){var a=s(t,i);i+=4;for(var u=0;u<(""+a).length;u++)for(var c=0;c<16;c++){var l=t[i];i+=1,r.push(_(l))}}var f=s(t,i);e.data_size=f,i+=4,e.kid=r,e.system_id=n,e.buffer=t}))}},{key:"stsd",value:function(t){return y(t,!0,(function(t,r,n){t.entryCount=s(r),t.entries=e.findBox(r.subarray(4),[],n+4).map((function(t){switch(t.type){case"avc1":case"avc2":case"avc3":case"avc4":return e.avc1(t);case"hvc1":case"hev1":return e.hvc1(t);case"mp4a":return e.mp4a(t);case"alaw":case"ulaw":return e.alaw(t);case"enca":return y(t,!1,(function(t,r,n){t.channelCount=a(r,16),t.samplesize=a(r,18),t.sampleRate=s(r,24)/65536,r=r.subarray(28),t.sinf=e.sinf(e.findBox(r,["sinf"],n)[0]),t.esds=e.esds(e.findBox(r,["esds"],n)[0])}));case"encv":return y(t,!1,(function(t,r,n){t.width=a(r,24),t.height=a(r,26),t.horizresolution=s(r,28),t.vertresolution=s(r,32),r=r.subarray(78),t.sinf=e.sinf(e.findBox(r,["sinf"],n)[0]),t.avcC=e.avcC(e.findBox(r,["avcC"],n)[0]),t.hvcC=e.hvcC(e.findBox(r,["hvcC"],n)[0]),t.pasp=e.pasp(e.findBox(r,["pasp"],n)[0])}))}})).filter(Boolean)}))}},{key:"tenc",value:function(e){return y(e,!1,(function(e,t){var r=6;e.default_IsEncrypted=t[r],r+=1,e.default_IV_size=t[r],r+=1,e.default_KID=[];for(var n=0;n<16;n++)e.default_KID.push(_(t[r])),r+=1}))}},{key:"schi",value:function(t){return y(t,!1,(function(t,r,n){t.tenc=e.tenc(e.findBox(r,["tenc"],n)[0])}))}},{key:"sinf",value:function(t){return y(t,!1,(function(t,r,n){t.schi=e.schi(e.findBox(r,["schi"],n)[0]),t.frma=e.frma(e.findBox(r,["frma"],n)[0])}))}},{key:"frma",value:function(e){return y(e,!1,(function(e,t){e.data_format="";for(var r=0;r<4;r++)e.data_format+=String.fromCharCode(t[r])}))}},{key:"avc1",value:function(t){return y(t,!1,(function(t,r,n){var i=g(t,r),o=r.subarray(i);n+=i,t.avcC=e.avcC(e.findBox(o,["avcC"],n)[0]),t.pasp=e.pasp(e.findBox(o,["pasp"],n)[0])}))}},{key:"avcC",value:function(e){return y(e,!1,(function(e,t){e.configurationVersion=t[0],e.AVCProfileIndication=t[1],e.profileCompatibility=t[2],e.AVCLevelIndication=t[3],e.codec=function(e){for(var t,r="avc1.",n=0;n<3;n++)(t=e[n].toString(16)).length<2&&(t="0".concat(t)),r+=t;return r}([t[1],t[2],t[3]]),e.lengthSizeMinusOne=3&t[4],e.spsLength=31&t[5],e.sps=[];for(var r=6,n=0;n<e.spsLength;n++){var i=a(t,r);r+=2,e.sps.push(t.subarray(r,r+i)),r+=i}e.ppsLength=t[r],r+=1,e.pps=[];for(var o=0;o<e.ppsLength;o++){var s=a(t,r);r+=2,e.pps.push(t.subarray(r,r+=s)),r+=s}}))}},{key:"hvc1",value:function(t){return y(t,!1,(function(t,r,n){var i=g(t,r),o=r.subarray(i);n+=i,t.hvcC=e.hvcC(e.findBox(o,["hvcC"],n)[0]),t.pasp=e.pasp(e.findBox(o,["pasp"],n)[0])}))}},{key:"hvcC",value:function(e){return y(e,!1,(function(t,r){t.data=e.data,t.codec="hev1.1.6.L93.B0",t.configurationVersion=r[0];var n=r[1];t.generalProfileSpace=n>>6,t.generalTierFlag=(32&n)>>5,t.generalProfileIdc=31&n,t.generalProfileCompatibility=s(r,2),t.generalConstraintIndicatorFlags=r.subarray(6,12),t.generalLevelIdc=r[12],t.avgFrameRate=a(r,19),t.numOfArrays=r[22],t.vps=[],t.sps=[],t.pps=[];for(var i=23,o=0,u=0,c=0,l=0;l<t.numOfArrays;l++){o=63&r[i],u=a(r,i+1),i+=3;for(var f,d=[],h=0;h<u;h++)c=a(r,i),i+=2,d.push(r.subarray(i,i+c)),i+=c;if(32===o)(f=t.vps).push.apply(f,d);else if(33===o){var p;(p=t.sps).push.apply(p,d)}else if(34===o){var v;(v=t.pps).push.apply(v,d)}}}))}},{key:"pasp",value:function(e){return y(e,!1,(function(e,t){e.hSpacing=s(t),e.vSpacing=s(t,4)}))}},{key:"mp4a",value:function(t){return y(t,!1,(function(t,r,n){var i=m(t,r);t.esds=e.esds(e.findBox(r.subarray(i),["esds"],n+i)[0])}))}},{key:"esds",value:function(e){return y(e,!0,(function(e,t){e.codec="mp4a.";for(var r=0,n=0,i=0,o=0;t.length;){for(o=t[r=0],n=t[r+1],r+=2;128&n;)i=(127&n)<<7,n=t[r],r+=1;if(i+=127&n,3===o)t=t.subarray(r+3);else{if(4!==o){if(5===o){var a=e.config=t.subarray(r,r+i),s=(248&a[0])>>3;return 31===s&&a.length>=2&&(s=32+((7&a[0])<<3)+((224&a[1])>>5)),e.objectType=s,e.codec+=s.toString(16),void("."===e.codec[e.codec.length-1]&&(e.codec=e.codec.substring(0,e.codec.length-1)))}return void("."===e.codec[e.codec.length-1]&&(e.codec=e.codec.substring(0,e.codec.length-1)))}e.codec+=(t[r].toString(16)+".").padStart(3,"0"),t=t.subarray(r+13)}}}))}},{key:"alaw",value:function(e){return y(e,!1,(function(e,t){m(e,t)}))}},{key:"stts",value:function(e){return y(e,!0,(function(e,t){for(var r=s(t),n=[],i=4,o=0;o<r;o++)n.push({count:s(t,i),delta:s(t,i+4)}),i+=8;e.entryCount=r,e.entries=n}))}},{key:"ctts",value:function(e){return y(e,!0,(function(e,t){var r=s(t),n=[],i=4;if(1===e.version)for(var o=0;o<r;o++)n.push({count:s(t,i),offset:s(t,i+4)}),i+=8;else for(var a=0;a<r;a++)n.push({count:s(t,i),offset:-(1+~s(t,i+4))}),i+=8;e.entryCount=r,e.entries=n}))}},{key:"stsc",value:function(e){return y(e,!0,(function(e,t){for(var r=s(t),n=[],i=4,o=0;o<r;o++)n.push({firstChunk:s(t,i),samplesPerChunk:s(t,i+4),sampleDescriptionIndex:s(t,i+8)}),i+=12;e.entryCount=r,e.entries=n}))}},{key:"stsz",value:function(e){return y(e,!0,(function(e,t){var r=s(t),n=s(t,4),i=[];if(!r)for(var o=8,a=0;a<n;a++)i.push(s(t,o)),o+=4;e.sampleSize=r,e.sampleCount=n,e.entrySizes=i}))}},{key:"stco",value:function(e){return y(e,!0,(function(e,t){for(var r=s(t),n=[],i=4,o=0;o<r;o++)n.push(s(t,i)),i+=4;e.entryCount=r,e.entries=n}))}},{key:"co64",value:function(e){return y(e,!0,(function(e,t){for(var r=s(t),n=[],i=4,o=0;o<r;o++)n.push(u(t,i)),i+=8;e.entryCount=r,e.entries=n}))}},{key:"stss",value:function(e){return y(e,!0,(function(e,t){for(var r=s(t),n=[],i=4,o=0;o<r;o++)n.push(s(t,i)),i+=4;e.entryCount=r,e.entries=n}))}},{key:"moof",value:function(t){return y(t,!1,(function(t,r,n){t.mfhd=e.mfhd(e.findBox(r,["mfhd"],n)[0]),t.traf=e.findBox(r,["traf"],n).map((function(t){return e.traf(t)}))}))}},{key:"mfhd",value:function(e){return y(e,!0,(function(e,t){e.sequenceNumber=s(t)}))}},{key:"traf",value:function(t){return y(t,!1,(function(t,r,n){t.tfhd=e.tfhd(e.findBox(r,["tfhd"],n)[0]),t.tfdt=e.tfdt(e.findBox(r,["tfdt"],n)[0]),t.trun=e.trun(e.findBox(r,["trun"],n)[0])}))}},{key:"trun",value:function(e){return y(e,!0,(function(e,t){var r=e.version,n=e.flags,i=t.length,o=e.sampleCount=s(t),a=4;if(i>a&&1&n&&(e.dataOffset=-(1+~s(t,a)),a+=4),i>a&&4&n&&(e.firstSampleFlags=s(t,a),a+=4),e.samples=[],i>a)for(var u,c=0;c<o;c++)u={},256&n&&(u.duration=s(t,a),a+=4),512&n&&(u.size=s(t,a),a+=4),1024&n&&(u.flags=s(t,a),a+=4),2048&n&&(u.cts=r?-(1+~s(t,a+4)):s(t,a),a+=4),e.samples.push(u)}))}},{key:"tfdt",value:function(e){return y(e,!0,(function(e,t){1===e.version?e.baseMediaDecodeTime=u(t):e.baseMediaDecodeTime=s(t)}))}},{key:"probe",value:function(t){return!!e.findBox(t,["ftyp"])}},{key:"parseSampleFlags",value:function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}},{key:"moovToTrack",value:function(e,t,r){var n,o,a=e.trak;if(a&&a.length){var s=a.find((function(e){var t,r;return"vide"===(null===(t=e.mdia)||void 0===t||null===(r=t.hdlr)||void 0===r?void 0:r.handlerType)})),u=a.find((function(e){var t,r;return"soun"===(null===(t=e.mdia)||void 0===t||null===(r=t.hdlr)||void 0===r?void 0:r.handlerType)}));if(s&&t){var c,l,f,d,p,v,g,m=t,y=null===(c=s.tkhd)||void 0===c?void 0:c.trackId;null!=y&&(m.id=s.tkhd.trackId),m.tkhdDuration=s.tkhd.duration,m.mvhdDurtion=e.mvhd.duration,m.mvhdTimecale=e.mvhd.timescale,m.timescale=m.formatTimescale=s.mdia.mdhd.timescale,m.duration=s.mdia.mdhd.duration||m.mvhdDurtion/m.mvhdTimecale*m.timescale;var _,b,x,w,E,k,S,T,A=s.mdia.minf.stbl.stsd.entries[0];if(m.width=A.width,m.height=A.height,A.pasp&&(m.sarRatio=[A.pasp.hSpacing,A.pasp.vSpacing]),A.hvcC)m.codecType=i._e.HEVC,m.codec=A.hvcC.codec,m.vps=A.hvcC.vps,m.sps=A.hvcC.sps,m.pps=A.hvcC.pps,m.hvcC=A.hvcC.data;else{if(!A.avcC)throw new Error("unknown video stsd entry");m.codec=A.avcC.codec,m.sps=A.avcC.sps,m.pps=A.avcC.pps}if(m.present=!0,m.ext={},m.ext.stss=null===(l=s.mdia)||void 0===l||null===(f=l.minf)||void 0===f||null===(d=f.stbl)||void 0===d?void 0:d.stss,m.ext.ctts=null===(p=s.mdia)||void 0===p||null===(v=p.minf)||void 0===v||null===(g=v.stbl)||void 0===g?void 0:g.ctts,A&&"encv"===A.type)m.isVideoEncryption=!0,A.default_KID=null===(_=A.sinf)||void 0===_||null===(b=_.schi)||void 0===b?void 0:b.tenc.default_KID,A.default_IsEncrypted=null===(x=A.sinf)||void 0===x||null===(w=x.schi)||void 0===w?void 0:w.tenc.default_IsEncrypted,A.default_IV_size=null===(E=A.sinf)||void 0===E||null===(k=E.schi)||void 0===k?void 0:k.tenc.default_IV_size,m.videoSenc=s.mdia.minf.stbl.senc&&s.mdia.minf.stbl.senc.samples,A.data_format=null===(S=A.sinf)||void 0===S||null===(T=S.frma)||void 0===T?void 0:T.data_format,m.useEME=e.useEME,m.kidValue=e.kidValue,m.pssh=e.pssh,m.encv=A}if(u&&r){var O,L,R,C,P,I,D,B,j,M=r,U=null===(O=u.tkhd)||void 0===O?void 0:O.trackId;null!=U&&(M.id=u.tkhd.trackId),M.tkhdDuration=u.tkhd.duration,M.mvhdDurtion=e.mvhd.duration,M.mvhdTimecale=e.mvhd.timescale,M.timescale=M.formatTimescale=u.mdia.mdhd.timescale,M.duration=u.mdia.mdhd.duration||M.mvhdDurtion/M.mvhdTimecale*M.timescale;var N,F,z,H,V,q,W,G,Y=u.mdia.minf.stbl.stsd.entries[0];switch(M.sampleSize=Y.sampleSize,M.sampleRate=Y.sampleRate,M.channelCount=Y.channelCount,M.present=!0,Y.type){case"alaw":M.codecType=M.codec=i.yQ.G711PCMA,M.sampleRate=8e3;break;case"ulaw":M.codecType=M.codec=i.yQ.G711PCMU,M.sampleRate=8e3;break;default:M.sampleDuration=h.getFrameDuration(M.sampleRate,M.timescale),M.sampleRateIndex=h.getRateIndexByRate(M.sampleRate),M.objectType=(null===(n=Y.esds)||void 0===n?void 0:n.objectType)||2,Y.esds&&(M.config=Array.from(Y.esds.config)),M.codec=(null===(o=Y.esds)||void 0===o?void 0:o.codec)||"mp4a.40.2"}if(M.sampleDuration=h.getFrameDuration(M.sampleRate,M.timescale),M.objectType=(null===(L=Y.esds)||void 0===L?void 0:L.objectType)||2,Y.esds&&Y.esds.config&&(M.config=Array.from(Y.esds.config)),M.codec=(null===(R=Y.esds)||void 0===R?void 0:R.codec)||"mp4a.40.2",M.sampleRateIndex=h.getRateIndexByRate(M.sampleRate),M.ext={},M.ext.stss=null===(C=u.mdia)||void 0===C||null===(P=C.minf)||void 0===P||null===(I=P.stbl)||void 0===I?void 0:I.stss,M.ext.ctts=null===(D=u.mdia)||void 0===D||null===(B=D.minf)||void 0===B||null===(j=B.stbl)||void 0===j?void 0:j.ctts,M.present=!0,Y&&"enca"===Y.type)M.isAudioEncryption=!0,Y.data_format=null===(N=Y.sinf)||void 0===N||null===(F=N.frma)||void 0===F?void 0:F.data_format,Y.default_KID=null===(z=Y.sinf)||void 0===z||null===(H=z.schi)||void 0===H?void 0:H.tenc.default_KID,Y.default_IsEncrypted=null===(V=Y.sinf)||void 0===V||null===(q=V.schi)||void 0===q?void 0:q.tenc.default_IsEncrypted,Y.default_IV_size=null===(W=Y.sinf)||void 0===W||null===(G=W.schi)||void 0===G?void 0:G.tenc.default_IV_size,M.audioSenc=u.mdia.minf.stbl.senc&&u.mdia.minf.stbl.senc.samples,M.useEME=e.useEME,M.kidValue=e.kidValue,M.enca=Y}if(r&&(r.isVideoEncryption=!!t&&t.isVideoEncryption),t&&(t.isAudioEncryption=!!r&&r.isAudioEncryption),null!=t&&t.encv||null!=r&&r.enca){var K,X,Z=null==t||null===(K=t.encv)||void 0===K?void 0:K.default_KID,Q=null==r||null===(X=r.enca)||void 0===X?void 0:X.default_KID,J=Z||Q?(Z||Q).join(""):null;t&&(t.kid=J),r&&(r.kid=J)}return t&&(t.flags=3841),r&&(r.flags=1793),{videoTrack:t,audioTrack:r}}}},{key:"evaluateDefaultDuration",value:function(e,t,r){var n,i=null==t||null===(n=t.samples)||void 0===n?void 0:n.length;return i?1024*i/t.timescale*e.timescale/r:1024}},{key:"moofToSamples",value:function(t,r,n){var i={};return t.mfhd&&(r&&(r.sequenceNumber=t.mfhd.sequenceNumber),n&&(n.sequenceNumber=t.mfhd.sequenceNumber)),t.traf.forEach((function(t){var o=t.tfhd,a=t.tfdt,s=t.trun;if(o&&s){a&&(r&&r.id===o.trackId&&(r.baseMediaDecodeTime=a.baseMediaDecodeTime),n&&n.id===o.trackId&&(n.baseMediaDecodeTime=a.baseMediaDecodeTime));var u=o.defaultSampleSize||0,c=o.defaultSampleDuration||e.evaluateDefaultDuration(r,n,s.samples.length||s.sampleCount),l=s.dataOffset||0,f=0,d=-1;if(!s.samples.length&&s.sampleCount){i[o.trackId]=[];for(var h=0;h<s.sampleCount;h++)i[o.trackId].push({offset:l,dts:f,duration:c,size:u}),f+=c,l+=u}else i[o.trackId]=s.samples.map((function(e,t){return(e={offset:l,dts:f,pts:f+(e.cts||0),duration:e.duration||c,size:e.size||u,gopId:d,keyframe:0===t||null!==e.flags&&void 0!==e.flags&&(65536&e.flags)>>>0!=65536}).keyframe&&(d++,e.gopId=d),f+=e.duration,l+=e.size,e}))}})),i}},{key:"moovToSamples",value:function(e){var t=e.trak;if(t&&t.length){var r=t.find((function(e){var t,r;return"vide"===(null===(t=e.mdia)||void 0===t||null===(r=t.hdlr)||void 0===r?void 0:r.handlerType)})),n=t.find((function(e){var t,r;return"soun"===(null===(t=e.mdia)||void 0===t||null===(r=t.hdlr)||void 0===r?void 0:r.handlerType)}));if(r||n){var i,o;if(r){var a,s,u=null===(a=r.mdia)||void 0===a||null===(s=a.minf)||void 0===s?void 0:s.stbl;if(!u)return;var c=u.stts,l=u.stsc,f=u.stsz,d=u.stco,h=u.stss,p=u.ctts;if(!(c&&l&&f&&d&&h))return;i=v(c,l,f,d,p,h)}if(n){var g,m,y,_=null===(g=n.mdia)||void 0===g||null===(m=g.minf)||void 0===m?void 0:m.stbl;if(!_)return;var b=null===(y=n.mdia.mdhd)||void 0===y?void 0:y.timescale,x=_.stts,w=_.stsc,E=_.stsz,k=_.stco;if(!(b&&x&&w&&E&&k))return;o=v(x,w,E,k)}return{videoSamples:i,audioSamples:o}}}}}]),e}();function v(e,t,r,n,i,o){var a,s,u,c=[],l=null==i?void 0:i.entries,f=t.entries,d=n.entries,h=r.entrySizes,p=null==o?void 0:o.entries;p&&(a={},p.forEach((function(e){a[e-1]=!0}))),l&&(s=[],l.forEach((function(e){for(var t=e.count,r=e.offset,n=0;n<t;n++)s.push(r)})));var v=-1,g=0,m=0,y=0,_=0,b=0,x=f[0].samplesPerChunk,w=f[1]?f[1].firstChunk-1:Infinity;return e.entries.forEach((function(e){for(var t=e.count,n=e.delta,i=0;i<t;i++)u={dts:g,duration:n,size:h[m]||r.sampleSize,offset:d[y]+b,index:m},p&&(u.keyframe=a[m],u.keyframe&&v++,u.gopId=v),s&&m<s.length&&(u.pts=u.dts+s[m]),c.push(u),g+=n,++m<x?b+=u.size:(y++,b=0,y>=w&&(_++,w=f[_+1]?f[_+1].firstChunk-1:Infinity),x+=f[_].samplesPerChunk)})),c}function g(e,t){return e.dataReferenceIndex=a(t,6),e.width=a(t,24),e.height=a(t,26),e.horizresolution=s(t,28),e.vertresolution=s(t,32),e.frameCount=a(t,40),e.depth=a(t,74),78}function m(e,t){return e.dataReferenceIndex=a(t,6),e.channelCount=a(t,16),e.sampleSize=a(t,18),e.sampleRate=s(t,24)/65536,28}function y(e,t,r){if(e){if(e.size!==e.data.length)throw new Error("box ".concat(e.type," size !== data.length"));var n={start:e.start,size:e.size,headerSize:e.headerSize,type:e.type};return t&&(n.version=e.data[e.headerSize],n.flags=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e[t]<<16)+(e[t+1]<<8)+(e[t+2]||0)}(e.data,e.headerSize+1),n.headerSize+=4),r(n,e.data.subarray(n.headerSize),n.start+n.headerSize),n}}var _=function(){for(var e=[],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){e.push(function(e,t,r){for(var n=String(r),i=t>>0,o=Math.ceil(i/n.length),a=[],s=String(e);o--;)a.push(n);return a.join("").substring(0,i-s.length)+s}(Number(t).toString(16),2,0))})),e[0]}},46314:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}r.d(t,{PA:function(){return n},qH:function(){return o},_x:function(){return a},ZQ:function(){return s},u:function(){return u}})},87407:function(e,t,r){"use strict";r.d(t,{yQ:function(){return o},Vc:function(){return n},_e:function(){return i}});var n={VIDEO:"video",AUDIO:"audio",METADATA:"metadata"},i={AVC:"avc",HEVC:"hevc",VVCC:"vvcC"},o={AAC:"aac",G711PCMA:"g7110a",G711PCMU:"g7110m"}},24930:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(46314);var i=function(){function e(){(0,n.PA)(this,e),this.buffer=new Uint8Array(0)}return(0,n.qH)(e,[{key:"write",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach((function(t){t?e.buffer=function(e){for(var t=0,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];n.forEach((function(e){t+=e.length}));var o=new e(t),a=0;return n.forEach((function(e){o.set(e,a),a+=e.length})),o}(Uint8Array,e.buffer,t):window.console.warn(t)}))}}],[{key:"writeUint16",value:function(e){return new Uint8Array([e>>8&255,255&e])}},{key:"writeUint32",value:function(e){return new Uint8Array([e>>24,e>>16&255,e>>8&255,255&e])}}]),e}()},260:function(e,t,r){"use strict";r.d(t,{N:function(){return l}});var n=r(46314),i=r(87407),o=r(30497),a=r(24930),s=Math.pow(2,32)-1,u=function(){function e(){(0,n.PA)(this,e)}return(0,n.qH)(e,null,[{key:"box",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=8+(r=r.filter(Boolean)).reduce((function(e,t){return e+t.byteLength}),0),o=new Uint8Array(i);o[0]=i>>24&255,o[1]=i>>16&255,o[2]=i>>8&255,o[3]=255&i,o.set(e,4);var a=8;return r.forEach((function(e){o.set(e,a),a+=e.byteLength})),o}},{key:"ftyp",value:function(t){return t.find((function(e){return e.type===i.Vc.VIDEO&&e.codecType===i._e.HEVC}))?e.FTYPHEV1:e.FTYPAVC1}},{key:"initSegment",value:function(t){var r=e.ftyp(t);return(0,o.gJ)(r,e.moov(t))}},{key:"pssh",value:function(t){var r=new Uint8Array([1,0,0,0].concat([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75],[0,0,0,1],(0,o.Qc)(t.kid),[0,0,0,0]));return e.box(e.types.pssh,r)}},{key:"moov",value:function(t){if(t[0].useEME&&(t[0].encv||t[0].enca)){t[0].pssh||(t[0].pssh={kid:t[0].kid});var r=this.pssh(t[0].pssh);return e.box.apply(e,[e.types.moov,e.mvhd(t[0].mvhdDurtion||t[0].duration,t[0].mvhdTimecale||t[0].timescale),e.mvex(t)].concat((0,n.u)(t.map((function(t){return e.trak(t)}))),[r]))}return e.box.apply(e,[e.types.moov,e.mvhd(t[0].mvhdDurtion||t[0].duration,t[0].mvhdTimecale||t[0].timescale)].concat((0,n.u)(t.map((function(t){return e.trak(t)}))),[e.mvex(t)]))}},{key:"mvhd",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4;return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,255&r,t>>24&255,t>>16&255,t>>8&255,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}},{key:"trak",value:function(t){return e.box(e.types.trak,e.tkhd(t.id,t.tkhdDuration||0,t.width,t.height),e.mdia(t))}},{key:"tkhd",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,t>>24&255,t>>16&255,t>>8&255,255&t,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>8&255,255&n,0,0,i>>8&255,255&i,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.duration,t.timescale),e.hdlr(t.type),e.minf(t))}},{key:"mdhd",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,255&r,t>>24&255,t>>16&255,t>>8&255,255&t,85,196,0,0]))}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"minf",value:function(t){return e.box(e.types.minf,t.type===i.Vc.VIDEO?e.VMHD:e.SMHD,e.DINF,e.stbl(t))}},{key:"stbl",value:function(t){var r=[];return t&&t.ext&&t.ext.stss&&r.push(e.stss(t.ext.stss.entries)),e.box(e.types.stbl,e.stsd(t),e.STTS,r[0],e.STSC,e.STSZ,e.STCO)}},{key:"stsd",value:function(t){var r;return r="audio"===t.type?t.useEME&&t.enca?e.enca(t):e.mp4a(t):t.useEME&&t.encv?e.encv(t):e.avc1hev1vvc1(t),e.box(e.types.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),r)}},{key:"enca",value:function(t){var r=t.enca.channelCount,n=t.enca.sampleRate,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,r,0,16,0,0,0,0,n>>8&255,255&n,0,0]),o=e.esds(t.config),a=e.sinf(t.enca);return e.box(e.types.enca,i,o,a)}},{key:"encv",value:function(t){var r,i,o=t.sps.length>0?t.sps[0]:[],a=t.pps.length>0?t.pps[0]:[],s=t.width,u=t.height,c=t.sarRatio[0],l=t.sarRatio[1],f=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),d=new Uint8Array((r=(i=[1,o[1],o[2],o[3],255,225,o.length>>>8&255,255&o.length]).concat.apply(i,(0,n.u)(o)).concat([1,a.length>>>8&255,255&a.length])).concat.apply(r,(0,n.u)(a))),h=new Uint8Array([0,0,88,57,0,15,200,192,0,4,86,72]),p=e.sinf(t.encv),v=new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,l>>24,l>>16&255,l>>8&255,255&l]);return e.box(e.types.encv,f,e.box(e.types.avcC,d),e.box(e.types.btrt,h),p,e.box(e.types.pasp,v))}},{key:"schi",value:function(t){var r=new Uint8Array([]),n=e.tenc(t);return e.box(e.types.schi,r,n)}},{key:"tenc",value:function(t){var r=new Uint8Array([0,0,0,0,0,0,255&t.default_IsEncrypted,255&t.default_IV_size].concat((0,o.Qc)(t.default_KID)));return e.box(e.types.tenc,r)}},{key:"sinf",value:function(t){var r=new Uint8Array([]),n=new Uint8Array([t.data_format.charCodeAt(0),t.data_format.charCodeAt(1),t.data_format.charCodeAt(2),t.data_format.charCodeAt(3)]),i=new Uint8Array([0,0,0,0,99,101,110,99,0,1,0,0]),o=e.schi(t);return e.box(e.types.sinf,r,e.box(e.types.frma,n),e.box(e.types.schm,i),o)}},{key:"avc1hev1vvc1",value:function(t){var r,n;t.codecType===i._e.HEVC?(r=e.hvcC(t),n=e.types.hvc1):t.codecType===i._e.VVCC?(r=e.vvcC(t),n=e.types.bvc2):(r=e.avcC(t),n=e.types.avc1);var o=[new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,t.width>>8&255,255&t.width,t.height>>8&255,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),r];return t.codecType===i._e.HEVC?o.push(e.box(e.types.fiel,new Uint8Array([1,0]))):t.sarRatio&&t.sarRatio.length>1&&o.push(e.pasp(t.sarRatio)),e.box.apply(e,[n].concat(o))}},{key:"avcC",value:function(t){var r,i,o,a=[],s=[];return t.sps.forEach((function(e){o=e.byteLength,a.push(o>>>8&255),a.push(255&o),a.push.apply(a,(0,n.u)(e))})),t.pps.forEach((function(e){o=e.byteLength,s.push(o>>>8&255),s.push(255&o),s.push.apply(s,(0,n.u)(e))})),e.box(e.types.avcC,new Uint8Array((r=(i=[1,a[3],a[4],a[5],255,224|t.sps.length]).concat.apply(i,a).concat([t.pps.length])).concat.apply(r,s)))}},{key:"vvcC",value:function(t){var r=t.vvcC;return e.box(e.types.bv2C,new Uint8Array(r))}},{key:"hvcC",value:function(t){var r=t.hvcC;if(r instanceof ArrayBuffer||r instanceof Uint8Array)return r;var i,o=t.vps,a=t.sps,s=t.pps;if(r){var u=r.generalProfileCompatibilityFlags,c=r.generalConstraintIndicatorFlags,l=(o.length&&1)+(a.length&&1)+(s.length&&1);i=[1,r.generalProfileSpace<<6|r.generalTierFlag<<5|r.generalProfileIdc,u>>>24,u>>>16,u>>>8,u,c[0],c[1],c[2],c[3],c[4],c[5],r.generalLevelIdc,240,0,252,252|r.chromaFormatIdc,248|r.bitDepthLumaMinus8,248|r.bitDepthChromaMinus8,0,0,r.numTemporalLayers<<3|r.temporalIdNested<<2|3,l];var f=function(e){var t;i.push(e.length>>8,e.length),(t=i).push.apply(t,(0,n.u)(e))};o.length&&(i.push(160,0,o.length),o.forEach(f)),a.length&&(i.push(161,0,a.length),a.forEach(f)),s.length&&(i.push(162,0,s.length),s.forEach(f))}else i=[1,1,96,0,0,0,144,0,0,0,0,0,93,240,0,252,253,248,248,0,0,15,3,160,0,1,0,24,64,1,12,1,255,255,1,96,0,0,3,0,144,0,0,3,0,0,3,0,93,153,152,9,161,0,1,0,45,66,1,1,1,96,0,0,3,0,144,0,0,3,0,0,3,0,93,160,2,128,128,45,22,89,153,164,147,43,154,128,128,128,130,0,0,3,0,2,0,0,3,0,50,16,162,0,1,0,7,68,1,193,114,180,98,64];return e.box(e.types.hvcC,new Uint8Array(i))}},{key:"pasp",value:function(t){var r=(0,n.ZQ)(t,2),i=r[0],o=r[1];return e.box(e.types.pasp,new Uint8Array([i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o]))}},{key:"mp4a",value:function(t){return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,t.sampleRate>>8&255,255&t.sampleRate,0,0]),t.config.length?e.esds(t.config):void 0)}},{key:"esds",value:function(t){var r=t.length;return e.box(e.types.esds,new Uint8Array([0,0,0,0,3,23+r,0,0,0,4,15+r,64,21,0,6,0,0,0,218,192,0,0,218,192,5].concat([r]).concat(t).concat([6,1,2])))}},{key:"mvex",value:function(t){return e.box.apply(e,[e.types.mvex].concat((0,n.u)(t.map((function(t){return e.trex(t.id)})))))}},{key:"trex",value:function(t){return e.box(e.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trex1",value:function(t){return e.box(e.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,2,0,0,0,0,0,0,1,0,0]))}},{key:"trex2",value:function(t){return e.box(e.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,4,0,0,0,0,0,2,0,0,0]))}},{key:"moof",value:function(t){return e.box.apply(e,[e.types.moof,e.mfhd(t[0].samples?t[0].samples[0].gopId:0)].concat((0,n.u)(t.map((function(t){return e.traf(t)})))))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"traf",value:function(t){var r=e.tfhd(t.id),n=e.tfdt(t,t.baseMediaDecodeTime),i=0;if(t.isVideo&&t.videoSenc&&t.videoSenc.forEach((function(e){i+=8,e.subsamples&&e.subsamples.length&&(i+=2,i+=6*e.subsamples.length)})),t.videoSencLength=i,t.useEME&&(t.isVideoEncryption||t.isAudioEncryption)){if(t.isVideoEncryption){if(t.isVideo){var o=e.saiz(t),a=e.saio(t),s=e.trun1(t),u=e.senc(t);return e.box(e.types.traf,r,n,o,a,s,u)}if(t.isAudioEncryption){var c=e.sbgp(),l=e.saiz(t),f=e.saio(t),d=e.senc(t),h=e.trun1(t);return e.box(e.types.traf,r,n,c,l,f,d,h)}var p=e.sbgp(),v=e.trun1(t);return e.box(e.types.traf,r,n,p,v)}if(t.isVideo){var g=e.trun1(t);return e.box(e.types.traf,r,n,g)}var m=e.sbgp(),y=e.saiz(t),_=e.saio(t),b=e.senc(t),x=e.trun1(t);return e.box(e.types.traf,r,n,m,y,_,b,x)}var w=e.sdtp(t);return e.box(e.types.traf,r,n,w,e.trun(t.samples,w.byteLength+76))}},{key:"sdtp",value:function(t){var r=new a.Z;return t.samples.forEach((function(e){r.write(new Uint8Array(t.isVideo?[e.keyframe?32:16]:[16]))})),e.box(e.types.sdtp,this.extension(0,0),r.buffer)}},{key:"trun1",value:function(t){var r=new a.Z,n=a.Z.writeUint32(t.samples.length),i=null;if(t.isVideo){var o=t.videoSencLength;i=a.Z.writeUint32(16*t.samples.length+o+149),!t.isVideoEncryption&&t.isAudioEncryption&&(i=a.Z.writeUint32(16*t.samples.length+92))}else{var s=12*t.samples.length+124;t.isAudioEncryption&&(s=12*t.samples.length+8*t.audioSenc.length+177),i=a.Z.writeUint32(s)}return t.samples.forEach((function(e){r.write(a.Z.writeUint32(e.duration)),r.write(a.Z.writeUint32(e.size)),r.write(a.Z.writeUint32(e.keyframe?33554432:65536)),t.isVideo&&r.write(a.Z.writeUint32(e.cts?e.cts:0))})),e.box(e.types.trun,this.extension(0,t.flags),n,i,r.buffer)}},{key:"senc",value:function(t){var r=new a.Z,n=t.samples.length,i=t.isVideo?16:8,o=t.isVideo?2:0,s=[],u=0;return t.isVideo?(s=t.videoSenc,u=t.videoSencLength):s=t.audioSenc,u=u||i*n,r.write(a.Z.writeUint32(16+u),e.types.senc,this.extension(0,o)),r.write(a.Z.writeUint32(n)),s.forEach((function(e){for(var t=0;t<e.InitializationVector.length;t++)r.write(new Uint8Array([e.InitializationVector[t]]));e.subsamples&&e.subsamples.length&&(r.write(a.Z.writeUint16(e.subsamples.length)),e.subsamples.forEach((function(e){r.write(a.Z.writeUint16(e.BytesOfClearData)),r.write(a.Z.writeUint32(e.BytesOfProtectedData))})))})),r.buffer}},{key:"saio",value:function(t){var r=12*t.samples.length+141;!t.isVideo&&t.isAudioEncryption&&(r=149);var n=new Uint8Array([1,0,0,0,0,0,0,1,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,255&r]);return e.box(e.types.saio,n)}},{key:"saiz",value:function(t){var r=t.samples.length,n=new Uint8Array([0,0,0,0,16,r>>24&255,r>>16&255,r>>8&255,255&r]);return e.box(e.types.saiz,n)}},{key:"sbgp",value:function(){var t=new Uint8Array([114,111,108,108,0,0,0,1,0,0,1,25,0,0,0,1]);return e.box(e.types.sbgp,this.extension(0,0),t)}},{key:"extension",value:function(e,t){return new Uint8Array([e,t>>16&255,t>>8&255,255&t])}},{key:"tfhd",value:function(t){return e.box(e.types.tfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"tfdt",value:function(t,r){var n=Math.floor(r/(s+1)),i=Math.floor(r%(s+1));return t.useEME&&(t.isVideoEncryption||t.isAudioEncryption)?e.box(e.types.tfdt,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])):e.box(e.types.tfdt,new Uint8Array([1,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i]))}},{key:"trun",value:function(t,r){var n=t.length,i=12+16*n;r+=8+i;var o=new Uint8Array(i);o.set([0,0,15,1,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0);for(var a=0;a<n;a++){var s=t[a],u=s.duration,c=s.size,l=s.flag,f=void 0===l?{}:l,d=s.cts,h=void 0===d?0:d;o.set([u>>>24&255,u>>>16&255,u>>>8&255,255&u,c>>>24&255,c>>>16&255,c>>>8&255,255&c,f.isLeading<<2|(null===f.dependsOn||void 0===f.dependsOn?1:f.dependsOn),f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|(null===f.isNonSyncSample||void 0===f.isNonSyncSample?1:f.isNonSyncSample),61440&f.degradationPriority,15&f.degradationPriority,h>>>24&255,h>>>16&255,h>>>8&255,255&h],12+16*a)}return e.box(e.types.trun,o)}},{key:"moovMP4",value:function(t){return e.box.apply(e,[e.types.moov,e.mvhd(t[0].duration,t[0].timescale)].concat((0,n.u)(t.map((function(t){return e.trackMP4(t)})))))}},{key:"trackMP4",value:function(t){return e.box(e.types.trak,e.tkhd(t.id,t.duration,t.width,t.height),e.mdiaMP4(t))}},{key:"mdiaMP4",value:function(t){return e.box(e.types.mdia,e.mdhd(t.duration,t.timescale),e.hdlr(t.type),e.minfMP4(t))}},{key:"minfMP4",value:function(t){return e.box(e.types.minf,t.type===i.Vc.VIDEO?e.VMHD:e.SMHD,e.DINF,e.stblMP4(t))}},{key:"stblMP4",value:function(t){var r=t.ext,n=[e.stsd(t),e.stts(r.stts),e.stsc(r.stsc),e.stsz(r.stsz),e.stco(r.stco)];return r.stss.length&&n.push(e.stss(r.stss)),r.ctts.length&&n.push(e.ctts(r.ctts)),e.box.apply(e,[e.types.stbl].concat(n))}},{key:"stts",value:function(t){var r=t.length,n=new Uint8Array(8*r),i=0;return t.forEach((function(e){var t=e.value,r=e.count;n.set([r>>24,r>>16&255,r>>8&255,255&r,t>>24,t>>16&255,t>>8&255,255&t],i),i+=8})),e.box(e.types.stts,(0,o.gJ)(new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r]),n))}},{key:"stsc",value:function(t){var r=t.length,n=new Uint8Array(12*r),i=0;return t.forEach((function(e){var t=e.firstChunk,r=e.samplesPerChunk,o=e.sampleDescIndex;n.set([t>>24,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,o>>24,o>>16&255,o>>8&255,255&o],i),i+=12})),e.box(e.types.stsc,(0,o.gJ)(new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r]),n))}},{key:"stsz",value:function(t){var r=t.length,n=new Uint8Array(4*r),i=0;return t.forEach((function(e){n.set([e>>24,e>>16&255,e>>8&255,255&e],i),i+=4})),e.box(e.types.stsz,(0,o.gJ)(new Uint8Array([0,0,0,0,0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r]),n))}},{key:"stco",value:function(t){var r=t.length,n=new Uint8Array(4*r),i=0;return t.forEach((function(e){n.set([e>>24,e>>16&255,e>>8&255,255&e],i),i+=4})),e.box(e.types.stco,(0,o.gJ)(new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r]),n))}},{key:"stss",value:function(t){var r=t.length,n=new Uint8Array(4*r),i=0;return t.forEach((function(e){n.set([e>>24,e>>16&255,e>>8&255,255&e],i),i+=4})),e.box(e.types.stss,(0,o.gJ)(new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r]),n))}},{key:"ctts",value:function(t){var r=t.length,n=new Uint8Array(8*r),i=0;return t.forEach((function(e){var t=e.value,r=e.count;n.set([r>>24,r>>16&255,r>>8&255,255&r,t>>24,t>>16&255,t>>8&255,255&t],i),i+=8})),e.box(e.types.ctts,(0,o.gJ)(new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r]),n))}},{key:"styp",value:function(){return e.box(e.types.styp,new Uint8Array([109,115,100,104,0,0,0,0,109,115,100,104,109,115,105,120]))}},{key:"sidx",value:function(t){var r=t.timescale,n=t.samples[0].duration,i=n*t.samples.length,o=t.samples[0].sampleOffset*n,a=8;t.samples.forEach((function(e){a+=e.size}));var s=0;if(t.isVideo){var u,c=0;t.videoSenc&&(u=t.videoSenc),t.isVideo&&u.forEach((function(e){c+=8,e.subsamples&&e.subsamples.length&&(c+=2,c+=6*e.subsamples.length)})),t.videoSencLength=c,s=a+141+16*t.samples.length+c,t.useEME&&t.isAudioEncryption&&!t.isVideoEncryption&&(s=a+16*t.samples.length+84)}else s=a+116+12*t.samples.length,t.useEME&&t.isAudioEncryption&&(s=a+169+12*t.samples.length+8*t.audioSenc.length);var l=new Uint8Array([0,0,0,0,0,0,0,255&t.id,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,0,0,0,0,0,0,0,1,0,s>>16&255,s>>8&255,255&s,i>>24&255,i>>16&255,i>>8&255,255&i,144,0,0,0]);return e.box(e.types.sidx,l)}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}}]),e}();(0,n._x)(u,"types",["avc1","avcC","hvc1","hvcC","dinf","dref","esds","ftyp","hdlr","mdat","mdhd","mdia","mfhd","minf","moof","moov","mp4a","mvex","mvhd","pasp","stbl","stco","stsc","stsd","stsz","stts","tfdt","tfhd","traf","trak","trex","tkhd","vmhd","smhd","ctts","stss","styp","pssh","sidx","sbgp","saiz","saio","senc","trun","encv","enca","sinf","btrt","frma","tenc","schm","schi","mehd","fiel","sdtp","bvc2","bv2C"].reduce((function(e,t){return e[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)],e}),Object.create(null))),(0,n._x)(u,"HDLR_TYPES",{video:new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),audio:new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0])}),(0,n._x)(u,"FTYPAVC1",u.box(u.types.ftyp,new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]))),(0,n._x)(u,"FTYPHEV1",u.box(u.types.ftyp,new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,104,101,118,49]))),(0,n._x)(u,"DINF",u.box(u.types.dinf,u.box(u.types.dref,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1])))),(0,n._x)(u,"VMHD",u.box(u.types.vmhd,new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]))),(0,n._x)(u,"SMHD",u.box(u.types.smhd,new Uint8Array([0,0,0,0,0,0,0,0]))),(0,n._x)(u,"StblTable",new Uint8Array([0,0,0,0,0,0,0,0])),(0,n._x)(u,"STTS",u.box(u.types.stts,u.StblTable)),(0,n._x)(u,"STSC",u.box(u.types.stsc,u.StblTable)),(0,n._x)(u,"STSZ",u.box(u.types.stsz,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]))),(0,n._x)(u,"STCO",u.box(u.types.stco,u.StblTable));var c=r(60749),l=function(){function e(t,r,i){(0,n.PA)(this,e),this.videoTrack=t,this.audioTrack=r;var o=/Chrome\/([^.]+)/.exec(navigator.userAgent);this.forceFirstIDR=o&&Number(o[1])<50,this.log=new c.Y("FMP4Remuxer",!i||!i.openLog||!i.openLog)}return(0,n.qH)(e,[{key:"remux",value:function(){var e,t,r,n,i,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.videoTrack,c=this.audioTrack,l=s.exist(),f=c.exist(),d=[];return o&&(a&&a.initMerge?(l&&d.push(this.videoTrack),f&&d.push(this.audioTrack),r=u.initSegment(d)):(l&&(e=u.initSegment([this.videoTrack])),f&&(t=u.initSegment([this.audioTrack])))),l&&s.hasSample()&&(n=this._remuxVideo()),f&&c.hasSample()&&(i=this._remuxAudio()),s.samples=[],c.samples=[],{initSegment:r,videoInitSegment:e,audioInitSegment:t,videoSegment:n,audioSegment:i}}},{key:"_remuxVideo",value:function(){var e=this.videoTrack;this.forceFirstIDR&&(e.samples[0].flag={dependsOn:2,isNonSyncSample:0});var t=e.samples,r=0;t.forEach((function(e){r+=e.units.reduce((function(e,t){return e+t.byteLength}),0),r+=4*e.units.length}));for(var n,i=new Uint8Array(r),a=new DataView(i.buffer),s=function(e,r){r=t[c];var o=0;r.units.forEach((function(t){a.setUint32(e,t.byteLength),e+=4,i.set(t,e),e+=t.byteLength,o+=4+t.byteLength})),r.size=o,f=e,n=r},c=0,l=t.length,f=0;c<l;c++)s(f,n);var d=u.mdat(i),h=u.moof([e]);return(0,o.gJ)(h,d)}},{key:"_remuxAudio",value:function(){var e=this.audioTrack,t=new Uint8Array(e.samples.reduce((function(e,t){return e+t.size}),0));e.samples.reduce((function(e,r){return t.set(r.data,e),e+r.size}),0);var r=u.mdat(t),n=u.moof([e]);return(0,o.gJ)(n,r)}},{key:"reset",value:function(){this.videoTrack.reset(),this.audioTrack.reset()}}]),e}()},60749:function(e,t,r){"use strict";r.d(t,{Y:function(){return i}});var n=r(46314),i=function(){function e(t,r){(0,n.PA)(this,e),this.name=t||"",this._prefix="[".concat(this.name,"]"),e.disabled=r}return(0,n.qH)(e,[{key:"debug",value:function(){var t;if(!e.disabled){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).debug.apply(t,[this._prefix].concat(n))}}},{key:"log",value:function(){var t;if(!e.disabled){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).log.apply(t,[this._prefix].concat(n))}}},{key:"warn",value:function(){var t;if(!e.disabled){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).warn.apply(t,[this._prefix].concat(n))}}},{key:"error",value:function(){var t;if(!e.disabled){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).error.apply(t,[this._prefix].concat(n))}}},{key:"table",value:function(){var t;e.disabled||(t=console).table.apply(t,arguments)}}],[{key:"enable",value:function(){e.disabled=!1}},{key:"disable",value:function(){e.disabled=!0}}]),e}();(0,n._x)(i,"disabled",!0)},39966:function(e,t,r){"use strict";r.d(t,{_:function(){return b}});var n=r(46314),i=r(87407),o=function(){function e(){(0,n.PA)(this,e),(0,n._x)(this,"id",1),(0,n._x)(this,"type",i.Vc.VIDEO),(0,n._x)(this,"codecType",i._e.AVC),(0,n._x)(this,"pid",-1),(0,n._x)(this,"hvcC",void 0),(0,n._x)(this,"codec",""),(0,n._x)(this,"timescale",0),(0,n._x)(this,"formatTimescale",0),(0,n._x)(this,"sequenceNumber",0),(0,n._x)(this,"baseMediaDecodeTime",0),(0,n._x)(this,"baseDts",0),(0,n._x)(this,"duration",0),(0,n._x)(this,"warnings",[]),(0,n._x)(this,"samples",[]),(0,n._x)(this,"pps",[]),(0,n._x)(this,"sps",[]),(0,n._x)(this,"vps",[]),(0,n._x)(this,"fpsNum",0),(0,n._x)(this,"fpsDen",0),(0,n._x)(this,"sarRatio",[]),(0,n._x)(this,"width",0),(0,n._x)(this,"height",0),(0,n._x)(this,"nalUnitSize",4),(0,n._x)(this,"present",!1),(0,n._x)(this,"isVideoEncryption",!1),(0,n._x)(this,"isAudioEncryption",!1),(0,n._x)(this,"isVideo",!0),(0,n._x)(this,"kid",null),(0,n._x)(this,"pssh",null),(0,n._x)(this,"ext",void 0)}return(0,n.qH)(e,[{key:"reset",value:function(){this.sequenceNumber=this.width=this.height=this.fpsDen=this.fpsNum=this.duration=this.baseMediaDecodeTime=this.timescale=0,this.codec="",this.present=!1,this.pid=-1,this.pps=[],this.sps=[],this.vps=[],this.sarRatio=[],this.samples=[],this.warnings=[],this.hvcC=null}},{key:"exist",value:function(){return!!(this.pps.length&&this.sps.length&&this.codec)}},{key:"hasSample",value:function(){return!!this.samples.length}},{key:"isEncryption",get:function(){return this.isVideoEncryption}}]),e}(),a=function(){function e(){(0,n.PA)(this,e),(0,n._x)(this,"id",2),(0,n._x)(this,"type",i.Vc.AUDIO),(0,n._x)(this,"codecType",i.yQ.AAC),(0,n._x)(this,"pid",-1),(0,n._x)(this,"codec",""),(0,n._x)(this,"sequenceNumber",0),(0,n._x)(this,"sampleDuration",0),(0,n._x)(this,"timescale",0),(0,n._x)(this,"formatTimescale",0),(0,n._x)(this,"baseMediaDecodeTime",0),(0,n._x)(this,"duration",0),(0,n._x)(this,"warnings",[]),(0,n._x)(this,"samples",[]),(0,n._x)(this,"baseDts",0),(0,n._x)(this,"sampleSize",16),(0,n._x)(this,"sampleRate",0),(0,n._x)(this,"channelCount",0),(0,n._x)(this,"objectType",0),(0,n._x)(this,"sampleRateIndex",0),(0,n._x)(this,"config",[]),(0,n._x)(this,"present",!1),(0,n._x)(this,"isVideoEncryption",!1),(0,n._x)(this,"isAudioEncryption",!1),(0,n._x)(this,"kid",null),(0,n._x)(this,"ext",void 0)}return(0,n.qH)(e,[{key:"reset",value:function(){this.sequenceNumber=0,this.timescale=0,this.sampleDuration=0,this.sampleRate=0,this.channelCount=0,this.baseMediaDecodeTime=0,this.present=!1,this.pid=-1,this.codec="",this.samples=[],this.config=[],this.warnings=[]}},{key:"exist",value:function(){return!!(this.sampleRate&&this.channelCount&&this.codec&&this.codecType===i.yQ.AAC)}},{key:"hasSample",value:function(){return!!this.samples.length}},{key:"isEncryption",get:function(){return this.isAudioEncryption}}]),e}(),s=function(){function e(t,r,i){(0,n.PA)(this,e),(0,n._x)(this,"flag",{}),(0,n._x)(this,"keyframe",!1),(0,n._x)(this,"gopId",0),(0,n._x)(this,"duration",0),(0,n._x)(this,"size",0),(0,n._x)(this,"units",[]),(0,n._x)(this,"chromaFormat",420),this.originPts=this.pts=t,this.originDts=this.dts=r,i&&(this.units=i)}return(0,n.qH)(e,[{key:"cts",get:function(){return this.pts-this.dts}},{key:"setToKeyframe",value:function(){this.keyframe=!0,this.flag.dependsOn=2,this.flag.isNonSyncSample=0}}]),e}(),u=(0,n.qH)((function e(t,r,i,o){(0,n.PA)(this,e),(0,n._x)(this,"duration",1024),(0,n._x)(this,"flag",{dependsOn:2,isNonSyncSample:0}),(0,n._x)(this,"keyframe",!0),this.originPts=this.pts=this.dts=t,this.data=r,this.size=r.byteLength,this.sampleOffset=o,i&&(this.duration=i)})),c=function(){function e(){(0,n.PA)(this,e),(0,n._x)(this,"id",3),(0,n._x)(this,"type",i.Vc.METADATA),(0,n._x)(this,"timescale",0),(0,n._x)(this,"flvScriptSamples",[]),(0,n._x)(this,"seiSamples",[])}return(0,n.qH)(e,[{key:"exist",value:function(){return!(!this.flvScriptSamples.length&&!this.seiSamples.length||!this.timescale)}},{key:"reset",value:function(){this.timescale=0,this.flvScriptSamples=[],this.seiSamples=[]}},{key:"hasSample",value:function(){return!(!this.flvScriptSamples.length&&!this.seiSamples.length)}}]),e}(),l=r(30497),f=r(35761),d=r(60749),h=r(17889),p=r(51332),v=r(83043),g=r(22534),m=r(27257),y=r(24930),_={decryptWordArray:function(e,t,r){var n=h.pU.parse(t),i=h.pU.parse((0,l.mw)(r)),o=h.Ic.create(new Uint8Array(e)),a=v.e.decrypt(p.Qt.create({ciphertext:o}),n,{iv:i,mode:g.M,padding:m.g});return _.wordArrayToUint8Array(a)},wordArrayToUint8Array:function(e){for(var t=e.sigBytes,r=e.words,n=new Uint8Array(t),i=0,o=0;i!==t;){var a=r[o++];if(n[i++]=(4278190080&a)>>>24,i===t)break;if(n[i++]=(16711680&a)>>>16,i===t)break;if(n[i++]=(65280&a)>>>8,i===t)break;n[i++]=255&a}return n},decoderAESCTRData:function(e,t,r){if(e.videoSenc){var n=e.kidValue,i=e.videoSenc;e.samples.forEach((function(t,o){var a=i[o],s=t.data,u=[],c=[],l=a.InitializationVector;if(a.subsamples&&a.subsamples.length)a.subsamples.forEach((function(e){var t=e.BytesOfClearData+e.BytesOfProtectedData,r=s.slice(0,t);u.push(r.slice(0,e.BytesOfClearData)),c.push(r.slice(e.BytesOfClearData)),s=s.slice(t)}));else{var f=t.size;u.push(s.slice(0,0)),c.push(s.slice(0,f)),s=s.slice(f)}var d=new y.Z;d.write.apply(d,c);var h=r?r(d.buffer,n,l):_.decryptWordArray(d.buffer,n,l),p=new y.Z;u.forEach((function(e,t){var r=c[t].length,n=h.slice(0,r);p.write(e),p.write(n),h=h.slice(r)})),e.samples[o].data=p.buffer}))}if(t.audioSenc){var o=t.kidValue,a=t.audioSenc;t.samples.forEach((function(e,n){var i=a[n],s=r?r(e.data,o,i.InitializationVector):_.decryptWordArray(e.data,o,i.InitializationVector);t.samples[n].data=s}))}}},b=function(){function e(t,r,i,s){var u=this;(0,n.PA)(this,e),(0,n._x)(this,"_videoSamples",[]),(0,n._x)(this,"_audioSamples",[]),(0,n._x)(this,"_lastRemainBuffer",[]),(0,n._x)(this,"_lastRemainBufferStartPos",0),this.videoTrack=new o,this.audioTrack=new a,this.metadataTrack=i||new c,this.log=new d.Y("MP4Demuxer",!s||!s.openLog||!s.openLog),t&&t.forEach((function(e){var t;(t=u._videoSamples).push.apply(t,(0,n.u)(e.frames))})),r&&r.forEach((function(e){var t;(t=u._audioSamples).push.apply(t,(0,n.u)(e.frames))}))}return(0,n.qH)(e,[{key:"parseSamples",value:function(e){if(!e)throw new Error("moov is required");if(this.videoTrack.codec||this.audioTrack.codec||(f.I.moovToTrack(e,this.videoTrack,this.audioTrack),this.videoSenc=this.videoTrack.videoSenc,this.audioSenc=this.audioTrack.audioSenc),!this._audioSamples.length&&!this._videoSamples.length){var t=f.I.moovToSamples(e);if(!t)throw new Error("cannot parse samples from moov box");this._videoSamples=t.videoSamples||[],this._audioSamples=t.audioSamples||[]}}},{key:"demux",value:function(e,t,r,n,i){this.parseSamples(i);var o,a,c,f=this.videoTrack,d=this.audioTrack;if(f.samples=[],d.samples=[],r){for(var h,p=0,v=r[0],g=r[1];v<=g;v++){if(!(o=this._videoSamples[v]))throw new Error("cannot found video frame #".concat(v));c=o.offset-t,a=e.subarray(c,c+o.size),(h=new s(o.pts||o.dts,o.dts)).duration=o.duration,h.gopId=o.gopId,o.keyframe&&h.setToKeyframe();for(var m=0,y=a.length-1;m<y;)p=(0,l.Bh)(a,m),m+=4,h.units.push(a.subarray(m,m+p)),m+=p;f.samples.push(h)}f.baseMediaDecodeTime=f.samples[0].dts}if(n){for(var _=n[0],b=n[1];_<=b;_++){if(!(o=this._audioSamples[_]))throw new Error("cannot found video frame #".concat(_));c=o.offset-t,a=e.subarray(c,c+o.size),d.samples.push(new u(o.dts,a,o.duration))}d.baseMediaDecodeTime=d.samples[0].dts}return{videoTrack:f,audioTrack:d,metadataTrack:this.metadataTrack}}},{key:"demuxPart",value:function(e,t,r,n,i,o,a,c){if(this.parseSamples(i),this.videoTrack.useEME=o,this.audioTrack.useEME=o,this._lastRemainBuffer&&this._lastRemainBuffer.byteLength>0&&t>this._lastRemainBufferStartPos&&t<=this._lastRemainBufferStartPos+this._lastRemainBuffer.byteLength)for(var f=0;f<20;)try{var d=this._lastRemainBuffer.subarray(0,t-this._lastRemainBufferStartPos),h=new Uint8Array(e.byteLength+d.byteLength);h.set(d,0),h.set(new Uint8Array(e),d.byteLength),e=h,t-=d.byteLength,this._lastRemainBuffer=null,this._lastRemainBufferStartPos=0;break}catch(R){if(!(f<20))throw new Error("new Uint8Array error:,"+R.errorMessage);f++}var p,v,g,m=this.videoTrack,y=this.audioTrack;m.samples=[],y.samples=[],m.videoSenc=null,y.audioSenc=null;var _=0,b=0;if(this._videoSamples.length>0&&r.length>0){for(var x,w=e.byteLength+t,E=r[0];E<=r[1];E++){if(!(p=this._videoSamples[E]))throw new Error("cannot found video frame #".concat(E));p.offset>=t&&p.offset+p.size<=w&&(_=(g=p.offset-t)+p.size,v=e.subarray(g,_),(x=new s(p.pts||p.dts,p.dts)).duration=p.duration,x.gopId=p.gopId,x.sampleOffset=p.index,p.keyframe&&x.setToKeyframe(),x.data=v,x.size=p.size,m.samples.push(x))}m.samples.length>0&&(m.gopId=m.samples[0].gopId,m.baseMediaDecodeTime=m.samples[0].dts,m.startPts=m.samples[0].pts/m.timescale,m.endPts=m.samples[m.samples.length-1].pts/m.timescale,this.videoSenc&&(m.videoSenc=this.videoSenc.slice(m.samples[0].sampleOffset,m.samples[0].sampleOffset+m.samples.length),m.kidValue=a))}if(this._audioSamples.length>0&&n.length>0){for(var k=n[0];k<=n[1];k++){if(!(p=this._audioSamples[k]))throw new Error("cannot found video frame #".concat(k));p.offset>=t&&p.offset+p.size<=e.byteLength+t&&(b=(g=p.offset-t)+p.size,v=e.subarray(g,b),y.samples.push(new u(p.dts,v,p.duration,p.index)))}y.samples.length>0&&(y.gopId=y.samples[0].gopId||m.gopId,y.baseMediaDecodeTime=y.samples[0].dts,y.startPts=y.samples[0].pts/y.timescale,y.endPts=y.samples[y.samples.length-1].pts/y.timescale,this.audioSenc&&(y.audioSenc=this.audioSenc.slice(y.samples[0].sampleOffset,y.samples[0].sampleOffset+y.samples.length),y.kidValue=a))}this.decoderData(m,y,c);for(var S=0,T=0;T<m.samples.length;T++)for(var A=0,O=m.samples[T].data,L=O.length-1;A<L;)S=(0,l.Bh)(O,A),A+=4,m.samples[T].units.push(O.subarray(A,A+S)),A+=S;return this._lastRemainBuffer=e.subarray(Math.max(_,b)),this._lastRemainBuffer.byteLength>0?this._lastRemainBufferStartPos=t+e.byteLength-this._lastRemainBuffer.byteLength:this._lastRemainBufferStartPos=0,{videoTrack:m,audioTrack:y,metadataTrack:this.metadataTrack}}},{key:"reset",value:function(){this._videoSamples=[],this._audioSamples=[],this._lastRemainBuffer=null,this._lastRemainBufferStartPos=0,this.videoTrack.reset(),this.audioTrack.reset(),this.metadataTrack.reset()}},{key:"decoderData",value:function(e,t,r){e.useEME||t.useEME||_.decoderAESCTRData(e,t,r)}}],[{key:"probe",value:function(e){return f.I.probe(e)}}]),e}()},35761:function(e,t,r){"use strict";r.d(t,{I:function(){return p}});var n=r(46314),i=r(87407),o=r(30497),a="undefined"!=typeof window,s=a&&navigator.userAgent.toLocaleLowerCase(),u=(a&&/^((?!chrome|android).)*safari/.test(s),a&&s.includes("firefox")),c=a&&s.includes("android"),l=function(){function e(){(0,n.PA)(this,e)}return(0,n.qH)(e,null,[{key:"getRateIndexByRate",value:function(t){return e.FREQ.indexOf(t)}},{key:"parseADTS",value:function(t,r){for(var n=t.length,i=0;i+2<n&&(255!==t[i]||240!=(246&t[i+1]));)i++;if(!(i>=n)){var o=i,a=[],s=(60&t[i+2])>>>2,u=e.FREQ[s];if(!u)throw new Error("Invalid sampling index: ".concat(s));for(var c,l,f=1+((192&t[i+2])>>>6),d=(1&t[i+2])<<2|(192&t[i+3])>>>6,h=e._getConfig(s,d,f),p=h.config,v=h.codec,g=0,m=e.getFrameDuration(u);i+7<n;)if(255===t[i]&&240==(246&t[i+1])){if(n-i<(l=(3&t[i+3])<<11|t[i+4]<<3|(224&t[i+5])>>5))break;c=2*(1&~t[i+1]),a.push({pts:r+g*m,data:t.subarray(i+7+c,i+l)}),g++,i+=l}else i++;return{skip:o,remaining:i>=n?void 0:t.subarray(i),frames:a,samplingFrequencyIndex:s,sampleRate:u,objectType:f,channelCount:d,codec:v,config:p,originCodec:"mp4a.40.".concat(f)}}}},{key:"parseAudioSpecificConfig",value:function(t){if(t.length){var r=t[0]>>>3,n=(7&t[0])<<1|t[1]>>>7,i=(120&t[1])>>>3,o=e.FREQ[n];if(o){var a=e._getConfig(n,i,r);return{samplingFrequencyIndex:n,sampleRate:o,objectType:r,channelCount:i,config:a.config,codec:a.codec,originCodec:"mp4a.40.".concat(r)}}}}},{key:"getFrameDuration",value:function(e){return 1024*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4)/e}},{key:"_getConfig",value:function(e,t,r){var n,i,o=[];return u?e>=6?(n=5,i=e-3):(n=2,i=e):c?(n=2,i=e):(n=2===r||5===r?r:5,i=e,e>=6?i=e-3:1===t&&(n=2,i=e)),o[0]=n<<3,o[0]|=(14&e)>>1,o[1]=(1&e)<<7,o[1]|=t<<3,5===n&&(o[1]|=(14&i)>>1,o[2]=(1&i)<<7,o[2]|=8,o[3]=0),{config:o,codec:"mp4a.40.".concat(n)}}},{key:"getSilentFrame",value:function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}]),e}();(0,n._x)(l,"FREQ",[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350]);var f=function(){function e(t){if((0,n.PA)(this,e),(0,n._x)(this,"_bytesAvailable",void 0),(0,n._x)(this,"_bitsAvailable",0),(0,n._x)(this,"_word",0),!t)throw new Error("ExpGolomb data params is required");this._data=t,this._bytesAvailable=t.byteLength,this._bytesAvailable&&this._loadWord()}return(0,n.qH)(e,[{key:"_loadWord",value:function(){var e=this._data.byteLength-this._bytesAvailable,t=Math.min(4,this._bytesAvailable);if(0===t)throw new Error("No bytes available");var r=new Uint8Array(4);r.set(this._data.subarray(e,e+t)),this._word=new DataView(r.buffer).getUint32(0),this._bitsAvailable=8*t,this._bytesAvailable-=t}},{key:"bitsPos",value:function(){return 8*this._bytesAvailable-this._bitsAvailable}},{key:"bitsLeft",value:function(){return 8*this._data.length-this.bitsPos()}},{key:"byteAligned",value:function(){return 0===this.bitsPos()||this.bitsPos()%8==0}},{key:"skipBits",value:function(e){if(this._bitsAvailable>e)this._word<<=e,this._bitsAvailable-=e;else{e-=this._bitsAvailable;var t=Math.floor(e/8);e-=8*t,this._bytesAvailable-=t,this._loadWord(),this._word<<=e,this._bitsAvailable-=e}}},{key:"readBits",value:function(e){if(e>32)throw new Error("Cannot read more than 32 bits");var t=Math.min(this._bitsAvailable,e),r=this._word>>>32-t;return this._bitsAvailable-=t,this._bitsAvailable>0?this._word<<=t:this._bytesAvailable>0&&this._loadWord(),(t=e-t)>0&&this._bitsAvailable?r<<t|this.readBits(t):r}},{key:"skipLZ",value:function(){var e;for(e=0;e<this._bitsAvailable;++e)if(0!=(this._word&2147483648>>>e))return this._word<<=e,this._bitsAvailable-=e,e;return this._loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBool",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"skipScalingList",value:function(e){for(var t=8,r=8,n=0;n<e;n++)0!==r&&(r=(t+this.readEG()+256)%256),t=0===r?t:r}}]),e}(),d=function(){function e(t){(0,n.PA)(this,e),this._buffer=t,this._offset=0,this._heldBits=0,this._numHeldBits=0}return(0,n.qH)(e,[{key:"readUint8",value:function(){return this._buffer[this._offset++]}},{key:"readUint16",value:function(){return this._buffer[this._offset++]<<8|this._buffer[this._offset++]}},{key:"readUint32",value:function(){return this._buffer[this._offset++]<<24|this._buffer[this._offset++]<<16|this._buffer[this._offset++]<<8|this._buffer[this._offset++]}},{key:"readUint8Array",value:function(e){var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t}},{key:"streamRead1Bytes",value:function(){this._heldBits=this.readUint8(),this._numHeldBits=8}},{key:"streamRead2Bytes",value:function(){this._heldBits=this.readUint16(),this._numHeldBits=16}},{key:"extractBits",value:function(e){var t=this._heldBits>>this._numHeldBits-e&(1<<e)-1;return this._numHeldBits-=e,t}}]),e}(),h=function(){function e(){(0,n.PA)(this,e)}return(0,n.qH)(e,null,[{key:"parseVVCDecoderConfigurationRecord",value:function(t){var r=new d(t),n=r.readUint8();r.streamRead1Bytes(),r.extractBits(5);var i,o,a,s,u,c,l,f,h=r.extractBits(2)+1,p=r.extractBits(1),v={};p&&(r.streamRead2Bytes(),s=r.extractBits(2),u=r.extractBits(3),o=r.extractBits(3),a=r.extractBits(2),r.extractBits(6),v=e.parseVVCPTLRecord(r,o),i=r.readUint16(),c=r.readUint16(),l=r.readUint16(),f=r.readUint16());for(var g=r.readUint8(),m=[],y=[],_=[],b=null,x=0;x<g;x++){r.streamRead1Bytes(),r.extractBits(1),r.extractBits(2);var w=r.extractBits(5),E=1;13!==w&&12!==w&&(E=r.readUint16());for(var k=0;k<E;k++){var S=r.readUint16();switch(w){case 14:m.push(r.readUint8Array(S));break;case 15:var T=r.readUint8Array(S);b||(b=e.parseSPS(e.removeEPB(T))),y.push(T);break;case 16:_.push(r.readUint8Array(S))}}}return{data:t,configurationVersion:n,codec:"bvc2.1.6.L93.B0",nalUnitSize:h,ptlPresentFlag:p,olsIdx:i,numSublayers:o,constantFrameRate:a,chromaFormatIdc:s,bitDepthLumaMinus8:u,ptlRecord:v,width:c,height:l,sampleRate:f,numOfArrays:g,vps:m,sps:y,pps:_,spsParsed:b}}},{key:"parseVVCPTLRecord",value:function(e,t){e.streamRead2Bytes(),e.extractBits(2);var r=e.extractBits(6),n=e.extractBits(7),i=e.extractBits(1),o=e.readUint8();e.streamRead1Bytes();var a=e.extractBits(1),s=e.extractBits(1),u=new Uint8Array(r);if(r){for(var c=0;c<r-1;c++){var l=e.extractBits(6);e.streamRead1Bytes();var f=e.extractBits(2);u[c]=l<<2|f}u[r-1]=e.extractBits(6)}else e.extractBits(6);var d=[];if(t>1){e.streamRead1Bytes();for(var h=0,p=t-2;p>=0;--p){h|=e.extractBits(1)<<p}for(var v=t;v<=8&&t>1;++v)e.extractBits(1);for(var g=t-2;g>=0;--g)h&1<<g&&(d[g]=e.readUint8())}var m=e.readUint8(),y=[];if(m)for(var _=0;_<m;_++)y.push(e.readUint32());return{generalProfileIdc:n,generalTierFlag:i,generalLevelIdc:o,ptlFrameOnlyConstraintFlag:a,ptlMultilayerEnabledFlag:s,generalConstraintInfo:u,subLayerLevelIdc:d,generalSubProfileIdc:y,ptlNumSubProfiles:m,numBytesConstraintInfo:r}}},{key:"getAvccNals",value:function(e){for(var t=[];e.position<e.length-4;){var r=e.dataview.getInt32(e.dataview.position);if(!(e.length-e.position>=r))break;var n=e.buffer.slice(e.position,e.position+4);e.skip(4);var i=new Uint8Array(e.buffer.slice(e.position,e.position+r));e.skip(r),t.push({header:n,body:i})}return t}},{key:"analyseNal",value:function(e){var t=(248&e.body[1])>>3;switch(e.type=t,t){case 23:case 24:break;case 7:case 8:e.key=!0;break;case 14:e.vps=!0;break;case 15:e.sps=!0;break;case 16:e.pps=!0;break;case 17:e.aps=!0}}},{key:"removeEPB",value:function(e){for(var t=e.byteLength,r=[],n=1;n<t-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(r.push(n+2),n+=2):n++;if(!r.length)return e;var i=t-r.length,o=new Uint8Array(i),a=0;for(n=0;n<i;a++,n++)a===r[0]&&(a++,r.shift()),o[n]=e[a];return o}},{key:"parseVps",value:function(){}},{key:"parseSPS",value:function(t){var r=new f(t);r.readUByte(),r.readUByte(),r.skipBits(4);var n=r.readBits(4),i=r.readBits(3),o=r.readBits(2),a=420;o<=3&&(a=[0,420,422,444][o]),r.readBits(2),r.readBits(1);var s=e._parseProfileTierLevel(r,1,i);return r.readBits(1),r.readBits(1)&&r.readBits(1),{width:r.readUEG(),height:r.readUEG(),spsMaxSubLayerMinus1:i,spsVideoParameterSetId:n,chromaFormatIdc:o,chromaFormat:a,ptlInfo:s}}},{key:"_parseProfileTierLevel",value:function(t,r,n){var i,o=t.readBits(7),a=t.readBits(1),s=t.readBits(8),u=t.readBits(1),c=t.readBits(1);r&&(i=e._parseGeneralConstraintsInfo(t));for(var l=n-1,f=[],d=[],h=[],p=l;p>=0;--p)f[p]=t.readBits(1);for(;!t.byteAligned();)t.readBits(1);for(var v=l;v>=0;--v)f[v]&&(d[v]=t.readUByte());if(r)for(var g=t.readUByte(),m=0;m<g;m++)h[m]=t.readBits(32);return{generalProfileIdc:o,generalTierFlag:a,generalLevelIdc:s,ptlFrameOnlyConstraintFlag:u,ptlMultilayerEnabledFlag:c,ptlSublayerLevelPresentFlags:f,ptlSublayerLevelIdcs:d,ptlSubProfileIdcs:h,gciInfo:i}}},{key:"_parseGeneralConstraintsInfo",value:function(e){var t=e.readBits(1);if(t){e.skipBits(71);var r=e.readBits(8);r&&e.skipBits(r)}var n=8-e.bitsPos()%8;return e.skipBits(n),{gciPresentFlag:t}}}]),e}(),p=function(){function e(){(0,n.PA)(this,e)}return(0,n.qH)(e,null,[{key:"findBox",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[];if(!t)return i;for(var a=0,s="",u=0;t.length>7;){if(a=(0,o.Bh)(t),s=String.fromCharCode.apply(null,t.subarray(4,8)),u=8,1===a?(a=(0,o.h9)(t,8),u+=8):a||(a=t.length),!r[0]||s===r[0]){var c=t.subarray(0,a);if(!(r.length<2))return e.findBox(c.subarray(u),r.slice(1),n+u);i.push({start:n,size:a,headerSize:u,type:s,data:c})}n+=a,t=t.subarray(a)}return i}},{key:"tfhd",value:function(e){return y(e,!0,(function(e,t){e.trackId=(0,o.Bh)(t);var r=4,n=1&e.flags,i=2&e.flags,a=8&e.flags,s=16&e.flags,u=32&e.flags;n&&(r+=4,e.baseDataOffset=(0,o.Bh)(t,r),r+=4),i&&(e.sampleDescriptionIndex=(0,o.Bh)(t,r),r+=4),a&&(e.defaultSampleDuration=(0,o.Bh)(t,r),r+=4),s&&(e.defaultSampleSize=(0,o.Bh)(t,r),r+=4),u&&(e.defaultSampleFlags=(0,o.Bh)(t,r))}))}},{key:"sidx",value:function(e){return y(e,!0,(function(e,t){var r=0;e.reference_ID=(0,o.Bh)(t,r),r+=4,e.timescale=(0,o.Bh)(t,r),r+=4,0===e.version?(e.earliest_presentation_time=(0,o.Bh)(t,r),r+=4,e.first_offset=(0,o.Bh)(t,r),r+=4):(e.earliest_presentation_time=(0,o.h9)(t,r),r+=8,e.first_offset=(0,o.h9)(t,r),r+=8),r+=2,e.references=[];var n=(0,o.i4)(t,r);r+=2;for(var i=0;i<n;i++){var a={};e.references.push(a);var s=(0,o.Bh)(t,r);r+=4,a.reference_type=s>>31&1,a.referenced_size=2147483647&s,a.subsegment_duration=(0,o.Bh)(t,r),r+=4,s=(0,o.Bh)(t,r),r+=4,a.starts_with_SAP=s>>31&1,a.SAP_type=s>>28&7,a.SAP_delta_time=268435455&s}}))}},{key:"moov",value:function(t){return y(t,!1,(function(t,r,n){t.mvhd=e.mvhd(e.findBox(r,["mvhd"],n)[0]),t.trak=e.findBox(r,["trak"],n).map((function(t){return e.trak(t)})),t.pssh=e.pssh(e.findBox(r,["pssh"],n)[0])}))}},{key:"mvhd",value:function(e){return y(e,!0,(function(e,t){var r=0;1===e.version?(e.timescale=(0,o.Bh)(t,16),e.duration=(0,o.h9)(t,20),r+=28):(e.timescale=(0,o.Bh)(t,8),e.duration=(0,o.Bh)(t,12),r+=16),e.nextTrackId=(0,o.Bh)(t,r+76)}))}},{key:"trak",value:function(t){return y(t,!1,(function(t,r,n){t.tkhd=e.tkhd(e.findBox(r,["tkhd"],n)[0]),t.mdia=e.mdia(e.findBox(r,["mdia"],n)[0])}))}},{key:"tkhd",value:function(e){return y(e,!0,(function(e,t){var r=0;1===e.version?(e.trackId=(0,o.Bh)(t,16),e.duration=(0,o.h9)(t,24),r+=32):(e.trackId=(0,o.Bh)(t,8),e.duration=(0,o.Bh)(t,16),r+=20),e.width=(0,o.Bh)(t,r+52),e.height=(0,o.Bh)(t,r+56)}))}},{key:"mdia",value:function(t){return y(t,!1,(function(t,r,n){t.mdhd=e.mdhd(e.findBox(r,["mdhd"],n)[0]),t.hdlr=e.hdlr(e.findBox(r,["hdlr"],n)[0]),t.minf=e.minf(e.findBox(r,["minf"],n)[0])}))}},{key:"mdhd",value:function(e){return y(e,!0,(function(e,t){var r=0;1===e.version?(e.timescale=(0,o.Bh)(t,16),e.duration=(0,o.h9)(t,20),r+=28):(e.timescale=(0,o.Bh)(t,8),e.duration=(0,o.Bh)(t,12),r+=16);var n=(0,o.i4)(t,r);e.language=String.fromCharCode(96+(n>>10&31),96+(n>>5&31),96+(31&n))}))}},{key:"hdlr",value:function(e){return y(e,!0,(function(e,t){0===e.version&&(e.handlerType=String.fromCharCode.apply(null,t.subarray(4,8)))}))}},{key:"minf",value:function(t){return y(t,!1,(function(t,r,n){t.vmhd=e.vmhd(e.findBox(r,["vmhd"],n)[0]),t.smhd=e.smhd(e.findBox(r,["smhd"],n)[0]),t.stbl=e.stbl(e.findBox(r,["stbl"],n)[0])}))}},{key:"vmhd",value:function(e){return y(e,!0,(function(e,t){e.graphicsmode=(0,o.i4)(t),e.opcolor=[(0,o.i4)(t,2),(0,o.i4)(t,4),(0,o.i4)(t,6)]}))}},{key:"smhd",value:function(e){return y(e,!0,(function(e,t){e.balance=(0,o.i4)(t)}))}},{key:"stbl",value:function(t){return y(t,!1,(function(t,r,n){var i,o,a;t.stsd=e.stsd(e.findBox(r,["stsd"],n)[0]),t.stts=e.stts(e.findBox(r,["stts"],n)[0]),t.ctts=e.ctts(e.findBox(r,["ctts"],n)[0]),t.stsc=e.stsc(e.findBox(r,["stsc"],n)[0]),t.stsz=e.stsz(e.findBox(r,["stsz"],n)[0]),t.stco=e.stco(e.findBox(r,["stco"],n)[0]),t.stco||(t.co64=e.co64(e.findBox(r,["co64"],n)[0]),t.stco=t.co64);var s=null===(i=t.stsd.entries[0])||void 0===i||null===(o=i.sinf)||void 0===o||null===(a=o.schi)||void 0===a?void 0:a.tenc.default_IV_size;t.stss=e.stss(e.findBox(r,["stss"],n)[0]),t.senc=e.senc(e.findBox(r,["senc"],n)[0],s)}))}},{key:"senc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return y(e,!0,(function(e,r){var n=0,i=(0,o.Bh)(r,n);n+=4,e.samples=[];for(var a=0;a<i;a++){for(var s={InitializationVector:[]},u=0;u<t;u++)s.InitializationVector[u]=r[n+u];if(n+=t,2&e.flags){s.subsamples=[];var c=(0,o.i4)(r,n);n+=2;for(var l=0;l<c;l++){var f={};f.BytesOfClearData=(0,o.i4)(r,n),n+=2,f.BytesOfProtectedData=(0,o.Bh)(r,n),n+=4,s.subsamples.push(f)}}e.samples.push(s)}}))}},{key:"pssh",value:function(e){return y(e,!0,(function(e,t){for(var r=[],n=[],i=0,a=0;a<16;a++)n.push(_(t[i+a]));if(i+=16,e.version>0){var s=(0,o.Bh)(t,i);i+=4;for(var u=0;u<(""+s).length;u++)for(var c=0;c<16;c++){var l=t[i];i+=1,r.push(_(l))}}var f=(0,o.Bh)(t,i);e.data_size=f,i+=4,e.kid=r,e.system_id=n,e.buffer=t}))}},{key:"bvc2",value:function(t){return y(t,!1,(function(t,r,n){var i=g(t,r),o=r.subarray(i);n+=i,t.vvcC=e.bv2C(e.findBox(o,["bv2C"],n)[0]),t.pasp=e.pasp(e.findBox(o,["pasp"],n)[0])}))}},{key:"bv2C",value:function(e){return y(e,!1,(function(e,t,r){var n=h.parseVVCDecoderConfigurationRecord(t);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}))}},{key:"stsd",value:function(t){return y(t,!0,(function(t,r,n){t.entryCount=(0,o.Bh)(r),t.entries=e.findBox(r.subarray(4),[],n+4).map((function(t){switch(t.type){case"avc1":case"avc2":case"avc3":case"avc4":return e.avc1(t);case"hvc1":case"hev1":return e.hvc1(t);case"bvc2":return e.bvc2(t);case"mp4a":return e.mp4a(t);case"alaw":case"ulaw":return e.alaw(t);case"enca":return y(t,!1,(function(t,r,n){t.channelCount=(0,o.i4)(r,16),t.samplesize=(0,o.i4)(r,18),t.sampleRate=(0,o.Bh)(r,24)/65536,r=r.subarray(28),t.sinf=e.sinf(e.findBox(r,["sinf"],n)[0]),t.esds=e.esds(e.findBox(r,["esds"],n)[0])}));case"encv":return y(t,!1,(function(t,r,n){t.width=(0,o.i4)(r,24),t.height=(0,o.i4)(r,26),t.horizresolution=(0,o.Bh)(r,28),t.vertresolution=(0,o.Bh)(r,32),r=r.subarray(78),t.sinf=e.sinf(e.findBox(r,["sinf"],n)[0]),t.avcC=e.avcC(e.findBox(r,["avcC"],n)[0]),t.hvcC=e.hvcC(e.findBox(r,["hvcC"],n)[0]),t.pasp=e.pasp(e.findBox(r,["pasp"],n)[0])}))}})).filter(Boolean)}))}},{key:"tenc",value:function(e){return y(e,!1,(function(e,t){var r=6;e.default_IsEncrypted=t[r],r+=1,e.default_IV_size=t[r],r+=1,e.default_KID=[];for(var n=0;n<16;n++)e.default_KID.push(_(t[r])),r+=1}))}},{key:"schi",value:function(t){return y(t,!1,(function(t,r,n){t.tenc=e.tenc(e.findBox(r,["tenc"],n)[0])}))}},{key:"sinf",value:function(t){return y(t,!1,(function(t,r,n){t.schi=e.schi(e.findBox(r,["schi"],n)[0]),t.frma=e.frma(e.findBox(r,["frma"],n)[0])}))}},{key:"frma",value:function(e){return y(e,!1,(function(e,t){e.data_format="";for(var r=0;r<4;r++)e.data_format+=String.fromCharCode(t[r])}))}},{key:"avc1",value:function(t){return y(t,!1,(function(t,r,n){var i=g(t,r),o=r.subarray(i);n+=i,t.avcC=e.avcC(e.findBox(o,["avcC"],n)[0]),t.pasp=e.pasp(e.findBox(o,["pasp"],n)[0])}))}},{key:"avcC",value:function(e){return y(e,!1,(function(e,t){e.configurationVersion=t[0],e.AVCProfileIndication=t[1],e.profileCompatibility=t[2],e.AVCLevelIndication=t[3],e.codec=(0,o.dB)([t[1],t[2],t[3]]),e.lengthSizeMinusOne=3&t[4],e.spsLength=31&t[5],e.sps=[];for(var r=6,n=0;n<e.spsLength;n++){var i=(0,o.i4)(t,r);r+=2,e.sps.push(t.subarray(r,r+i)),r+=i}e.ppsLength=t[r],r+=1,e.pps=[];for(var a=0;a<e.ppsLength;a++){var s=(0,o.i4)(t,r);r+=2,e.pps.push(t.subarray(r,r+=s)),r+=s}}))}},{key:"hvc1",value:function(t){return y(t,!1,(function(t,r,n){var i=g(t,r),o=r.subarray(i);n+=i,t.hvcC=e.hvcC(e.findBox(o,["hvcC"],n)[0]),t.pasp=e.pasp(e.findBox(o,["pasp"],n)[0])}))}},{key:"hvcC",value:function(e){return y(e,!1,(function(t,r){t.data=e.data,t.codec="hev1.1.6.L93.B0",t.configurationVersion=r[0];var n=r[1];t.generalProfileSpace=n>>6,t.generalTierFlag=(32&n)>>5,t.generalProfileIdc=31&n,t.generalProfileCompatibility=(0,o.Bh)(r,2),t.generalConstraintIndicatorFlags=r.subarray(6,12),t.generalLevelIdc=r[12],t.avgFrameRate=(0,o.i4)(r,19),t.numOfArrays=r[22],t.vps=[],t.sps=[],t.pps=[];for(var i=23,a=0,s=0,u=0,c=0;c<t.numOfArrays;c++){a=63&r[i],s=(0,o.i4)(r,i+1),i+=3;for(var l,f=[],d=0;d<s;d++)u=(0,o.i4)(r,i),i+=2,f.push(r.subarray(i,i+u)),i+=u;if(32===a)(l=t.vps).push.apply(l,f);else if(33===a){var h;(h=t.sps).push.apply(h,f)}else if(34===a){var p;(p=t.pps).push.apply(p,f)}}}))}},{key:"pasp",value:function(e){return y(e,!1,(function(e,t){e.hSpacing=(0,o.Bh)(t),e.vSpacing=(0,o.Bh)(t,4)}))}},{key:"mp4a",value:function(t){return y(t,!1,(function(t,r,n){var i=m(t,r);t.esds=e.esds(e.findBox(r.subarray(i),["esds"],n+i)[0])}))}},{key:"esds",value:function(e){return y(e,!0,(function(e,t){e.codec="mp4a.";for(var r=0,n=0,i=0,o=0;t.length;){for(o=t[r=0],n=t[r+1],r+=2;128&n;)i=(127&n)<<7,n=t[r],r+=1;if(i+=127&n,3===o)t=t.subarray(r+3);else{if(4!==o){if(5===o){var a=e.config=t.subarray(r,r+i),s=(248&a[0])>>3;return 31===s&&a.length>=2&&(s=32+((7&a[0])<<3)+((224&a[1])>>5)),e.objectType=s,e.codec+=s.toString(16),void("."===e.codec[e.codec.length-1]&&(e.codec=e.codec.substring(0,e.codec.length-1)))}return void("."===e.codec[e.codec.length-1]&&(e.codec=e.codec.substring(0,e.codec.length-1)))}e.codec+=(t[r].toString(16)+".").padStart(3,"0"),t=t.subarray(r+13)}}}))}},{key:"alaw",value:function(e){return y(e,!1,(function(e,t){m(e,t)}))}},{key:"stts",value:function(e){return y(e,!0,(function(e,t){for(var r=(0,o.Bh)(t),n=[],i=4,a=0;a<r;a++)n.push({count:(0,o.Bh)(t,i),delta:(0,o.Bh)(t,i+4)}),i+=8;e.entryCount=r,e.entries=n}))}},{key:"ctts",value:function(e){return y(e,!0,(function(e,t){var r=(0,o.Bh)(t),n=[],i=4;if(1===e.version)for(var a=0;a<r;a++)n.push({count:(0,o.Bh)(t,i),offset:(0,o.Bh)(t,i+4)}),i+=8;else for(var s=0;s<r;s++)n.push({count:(0,o.Bh)(t,i),offset:-(1+~(0,o.Bh)(t,i+4))}),i+=8;e.entryCount=r,e.entries=n}))}},{key:"stsc",value:function(e){return y(e,!0,(function(e,t){for(var r=(0,o.Bh)(t),n=[],i=4,a=0;a<r;a++)n.push({firstChunk:(0,o.Bh)(t,i),samplesPerChunk:(0,o.Bh)(t,i+4),sampleDescriptionIndex:(0,o.Bh)(t,i+8)}),i+=12;e.entryCount=r,e.entries=n}))}},{key:"stsz",value:function(e){return y(e,!0,(function(e,t){var r=(0,o.Bh)(t),n=(0,o.Bh)(t,4),i=[];if(!r)for(var a=8,s=0;s<n;s++)i.push((0,o.Bh)(t,a)),a+=4;e.sampleSize=r,e.sampleCount=n,e.entrySizes=i}))}},{key:"stco",value:function(e){return y(e,!0,(function(e,t){for(var r=(0,o.Bh)(t),n=[],i=4,a=0;a<r;a++)n.push((0,o.Bh)(t,i)),i+=4;e.entryCount=r,e.entries=n}))}},{key:"co64",value:function(e){return y(e,!0,(function(e,t){for(var r=(0,o.Bh)(t),n=[],i=4,a=0;a<r;a++)n.push((0,o.h9)(t,i)),i+=8;e.entryCount=r,e.entries=n}))}},{key:"stss",value:function(e){return y(e,!0,(function(e,t){for(var r=(0,o.Bh)(t),n=[],i=4,a=0;a<r;a++)n.push((0,o.Bh)(t,i)),i+=4;e.entryCount=r,e.entries=n}))}},{key:"moof",value:function(t){return y(t,!1,(function(t,r,n){t.mfhd=e.mfhd(e.findBox(r,["mfhd"],n)[0]),t.traf=e.findBox(r,["traf"],n).map((function(t){return e.traf(t)}))}))}},{key:"mfhd",value:function(e){return y(e,!0,(function(e,t){e.sequenceNumber=(0,o.Bh)(t)}))}},{key:"traf",value:function(t){return y(t,!1,(function(t,r,n){t.tfhd=e.tfhd(e.findBox(r,["tfhd"],n)[0]),t.tfdt=e.tfdt(e.findBox(r,["tfdt"],n)[0]),t.trun=e.trun(e.findBox(r,["trun"],n)[0])}))}},{key:"trun",value:function(e){return y(e,!0,(function(e,t){var r=e.version,n=e.flags,i=t.length,a=e.sampleCount=(0,o.Bh)(t),s=4;if(i>s&&1&n&&(e.dataOffset=-(1+~(0,o.Bh)(t,s)),s+=4),i>s&&4&n&&(e.firstSampleFlags=(0,o.Bh)(t,s),s+=4),e.samples=[],i>s)for(var u,c=0;c<a;c++)u={},256&n&&(u.duration=(0,o.Bh)(t,s),s+=4),512&n&&(u.size=(0,o.Bh)(t,s),s+=4),1024&n&&(u.flags=(0,o.Bh)(t,s),s+=4),2048&n&&(u.cts=r?-(1+~(0,o.Bh)(t,s+4)):(0,o.Bh)(t,s),s+=4),e.samples.push(u)}))}},{key:"tfdt",value:function(e){return y(e,!0,(function(e,t){1===e.version?e.baseMediaDecodeTime=(0,o.h9)(t):e.baseMediaDecodeTime=(0,o.Bh)(t)}))}},{key:"probe",value:function(t){return!!e.findBox(t,["ftyp"])}},{key:"parseSampleFlags",value:function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}},{key:"moovToTrack",value:function(e,t,r){var n,o,a=e.trak;if(a&&a.length){var s=a.find((function(e){var t,r;return"vide"===(null===(t=e.mdia)||void 0===t||null===(r=t.hdlr)||void 0===r?void 0:r.handlerType)})),u=a.find((function(e){var t,r;return"soun"===(null===(t=e.mdia)||void 0===t||null===(r=t.hdlr)||void 0===r?void 0:r.handlerType)}));if(s&&t){var c,f,d,h,p,v,g,m=t,y=null===(c=s.tkhd)||void 0===c?void 0:c.trackId;null!=y&&(m.id=s.tkhd.trackId),m.tkhdDuration=s.tkhd.duration,m.mvhdDurtion=e.mvhd.duration,m.mvhdTimecale=e.mvhd.timescale,m.timescale=m.formatTimescale=s.mdia.mdhd.timescale,m.duration=s.mdia.mdhd.duration||m.mvhdDurtion/m.mvhdTimecale*m.timescale;var _,b,x,w,E,k,S,T,A=s.mdia.minf.stbl.stsd.entries[0];if(m.width=A.width,m.height=A.height,A.pasp&&(m.sarRatio=[A.pasp.hSpacing,A.pasp.vSpacing]),A.hvcC)m.codecType=i._e.HEVC,m.codec=A.hvcC.codec,m.vps=A.hvcC.vps,m.sps=A.hvcC.sps,m.pps=A.hvcC.pps,m.hvcC=A.hvcC.data;else if(A.avcC)m.codec=A.avcC.codec,m.sps=A.avcC.sps,m.pps=A.avcC.pps;else{if(!A.vvcC)throw new Error("unknown video stsd entry");m.codecType=i._e.VVCC,m.codec=A.vvcC.codec,m.sps=A.vvcC.sps,m.pps=A.vvcC.pps,m.vps=A.vvcC.vps,m.vvcC=A.vvcC.data}if(m.present=!0,m.ext={},m.ext.stss=null===(f=s.mdia)||void 0===f||null===(d=f.minf)||void 0===d||null===(h=d.stbl)||void 0===h?void 0:h.stss,m.ext.ctts=null===(p=s.mdia)||void 0===p||null===(v=p.minf)||void 0===v||null===(g=v.stbl)||void 0===g?void 0:g.ctts,A&&"encv"===A.type)m.isVideoEncryption=!0,A.default_KID=null===(_=A.sinf)||void 0===_||null===(b=_.schi)||void 0===b?void 0:b.tenc.default_KID,A.default_IsEncrypted=null===(x=A.sinf)||void 0===x||null===(w=x.schi)||void 0===w?void 0:w.tenc.default_IsEncrypted,A.default_IV_size=null===(E=A.sinf)||void 0===E||null===(k=E.schi)||void 0===k?void 0:k.tenc.default_IV_size,m.videoSenc=s.mdia.minf.stbl.senc&&s.mdia.minf.stbl.senc.samples,A.data_format=null===(S=A.sinf)||void 0===S||null===(T=S.frma)||void 0===T?void 0:T.data_format,m.useEME=e.useEME,m.kidValue=e.kidValue,m.pssh=e.pssh,m.encv=A}if(u&&r){var O,L,R,C,P,I,D,B,j,M=r,U=null===(O=u.tkhd)||void 0===O?void 0:O.trackId;null!=U&&(M.id=u.tkhd.trackId),M.tkhdDuration=u.tkhd.duration,M.mvhdDurtion=e.mvhd.duration,M.mvhdTimecale=e.mvhd.timescale,M.timescale=M.formatTimescale=u.mdia.mdhd.timescale,M.duration=u.mdia.mdhd.duration||M.mvhdDurtion/M.mvhdTimecale*M.timescale;var N,F,z,H,V,q,W,G,Y=u.mdia.minf.stbl.stsd.entries[0];switch(M.sampleSize=Y.sampleSize,M.sampleRate=Y.sampleRate,M.channelCount=Y.channelCount,M.present=!0,Y.type){case"alaw":M.codecType=M.codec=i.yQ.G711PCMA,M.sampleRate=8e3;break;case"ulaw":M.codecType=M.codec=i.yQ.G711PCMU,M.sampleRate=8e3;break;default:M.sampleDuration=l.getFrameDuration(M.sampleRate,M.timescale),M.sampleRateIndex=l.getRateIndexByRate(M.sampleRate),M.objectType=(null===(n=Y.esds)||void 0===n?void 0:n.objectType)||2,Y.esds&&(M.config=Array.from(Y.esds.config)),M.codec=(null===(o=Y.esds)||void 0===o?void 0:o.codec)||"mp4a.40.2"}if(M.sampleDuration=l.getFrameDuration(M.sampleRate,M.timescale),M.objectType=(null===(L=Y.esds)||void 0===L?void 0:L.objectType)||2,Y.esds&&Y.esds.config&&(M.config=Array.from(Y.esds.config)),M.codec=(null===(R=Y.esds)||void 0===R?void 0:R.codec)||"mp4a.40.2",M.sampleRateIndex=l.getRateIndexByRate(M.sampleRate),M.ext={},M.ext.stss=null===(C=u.mdia)||void 0===C||null===(P=C.minf)||void 0===P||null===(I=P.stbl)||void 0===I?void 0:I.stss,M.ext.ctts=null===(D=u.mdia)||void 0===D||null===(B=D.minf)||void 0===B||null===(j=B.stbl)||void 0===j?void 0:j.ctts,M.present=!0,Y&&"enca"===Y.type)M.isAudioEncryption=!0,Y.data_format=null===(N=Y.sinf)||void 0===N||null===(F=N.frma)||void 0===F?void 0:F.data_format,Y.default_KID=null===(z=Y.sinf)||void 0===z||null===(H=z.schi)||void 0===H?void 0:H.tenc.default_KID,Y.default_IsEncrypted=null===(V=Y.sinf)||void 0===V||null===(q=V.schi)||void 0===q?void 0:q.tenc.default_IsEncrypted,Y.default_IV_size=null===(W=Y.sinf)||void 0===W||null===(G=W.schi)||void 0===G?void 0:G.tenc.default_IV_size,M.audioSenc=u.mdia.minf.stbl.senc&&u.mdia.minf.stbl.senc.samples,M.useEME=e.useEME,M.kidValue=e.kidValue,M.enca=Y}if(r&&(r.isVideoEncryption=!!t&&t.isVideoEncryption),t&&(t.isAudioEncryption=!!r&&r.isAudioEncryption),null!=t&&t.encv||null!=r&&r.enca){var K,X,Z=null==t||null===(K=t.encv)||void 0===K?void 0:K.default_KID,Q=null==r||null===(X=r.enca)||void 0===X?void 0:X.default_KID,J=Z||Q?(Z||Q).join(""):null;t&&(t.kid=J),r&&(r.kid=J)}return t&&(t.flags=3841),r&&(r.flags=1793),{videoTrack:t,audioTrack:r}}}},{key:"evaluateDefaultDuration",value:function(e,t,r){var n,i=null==t||null===(n=t.samples)||void 0===n?void 0:n.length;return i?1024*i/t.timescale*e.timescale/r:1024}},{key:"moofToSamples",value:function(t,r,n){var i={};return t.mfhd&&(r&&(r.sequenceNumber=t.mfhd.sequenceNumber),n&&(n.sequenceNumber=t.mfhd.sequenceNumber)),t.traf.forEach((function(t){var o=t.tfhd,a=t.tfdt,s=t.trun;if(o&&s){a&&(r&&r.id===o.trackId&&(r.baseMediaDecodeTime=a.baseMediaDecodeTime),n&&n.id===o.trackId&&(n.baseMediaDecodeTime=a.baseMediaDecodeTime));var u=o.defaultSampleSize||0,c=o.defaultSampleDuration||e.evaluateDefaultDuration(r,n,s.samples.length||s.sampleCount),l=s.dataOffset||0,f=0,d=-1;if(!s.samples.length&&s.sampleCount){i[o.trackId]=[];for(var h=0;h<s.sampleCount;h++)i[o.trackId].push({offset:l,dts:f,duration:c,size:u}),f+=c,l+=u}else i[o.trackId]=s.samples.map((function(e,t){return(e={offset:l,dts:f,pts:f+(e.cts||0),duration:e.duration||c,size:e.size||u,gopId:d,keyframe:0===t||null!==e.flags&&void 0!==e.flags&&(65536&e.flags)>>>0!=65536}).keyframe&&(d++,e.gopId=d),f+=e.duration,l+=e.size,e}))}})),i}},{key:"moovToSamples",value:function(e){var t=e.trak;if(t&&t.length){var r=t.find((function(e){var t,r;return"vide"===(null===(t=e.mdia)||void 0===t||null===(r=t.hdlr)||void 0===r?void 0:r.handlerType)})),n=t.find((function(e){var t,r;return"soun"===(null===(t=e.mdia)||void 0===t||null===(r=t.hdlr)||void 0===r?void 0:r.handlerType)}));if(r||n){var i,o;if(r){var a,s,u=null===(a=r.mdia)||void 0===a||null===(s=a.minf)||void 0===s?void 0:s.stbl;if(!u)return;var c=u.stts,l=u.stsc,f=u.stsz,d=u.stco,h=u.stss,p=u.ctts;if(!(c&&l&&f&&d&&h))return;i=v(c,l,f,d,p,h)}if(n){var g,m,y,_=null===(g=n.mdia)||void 0===g||null===(m=g.minf)||void 0===m?void 0:m.stbl;if(!_)return;var b=null===(y=n.mdia.mdhd)||void 0===y?void 0:y.timescale,x=_.stts,w=_.stsc,E=_.stsz,k=_.stco;if(!(b&&x&&w&&E&&k))return;o=v(x,w,E,k)}return{videoSamples:i,audioSamples:o}}}}}]),e}();function v(e,t,r,n,i,o){var a,s,u,c=[],l=null==i?void 0:i.entries,f=t.entries,d=n.entries,h=r.entrySizes,p=null==o?void 0:o.entries;p&&(a={},p.forEach((function(e){a[e-1]=!0}))),l&&(s=[],l.forEach((function(e){for(var t=e.count,r=e.offset,n=0;n<t;n++)s.push(r)})));var v=-1,g=0,m=0,y=0,_=0,b=0,x=f[0].samplesPerChunk,w=f[1]?f[1].firstChunk-1:Infinity;return e.entries.forEach((function(e){for(var t=e.count,n=e.delta,i=0;i<t;i++)u={dts:g,duration:n,size:h[m]||r.sampleSize,offset:d[y]+b,index:m},p&&(u.keyframe=a[m],u.keyframe&&v++,u.gopId=v),s&&m<s.length&&(u.pts=u.dts+s[m]),c.push(u),g+=n,++m<x?b+=u.size:(y++,b=0,y>=w&&(_++,w=f[_+1]?f[_+1].firstChunk-1:Infinity),x+=f[_].samplesPerChunk)})),c}function g(e,t){return e.dataReferenceIndex=(0,o.i4)(t,6),e.width=(0,o.i4)(t,24),e.height=(0,o.i4)(t,26),e.horizresolution=(0,o.Bh)(t,28),e.vertresolution=(0,o.Bh)(t,32),e.frameCount=(0,o.i4)(t,40),e.depth=(0,o.i4)(t,74),78}function m(e,t){return e.dataReferenceIndex=(0,o.i4)(t,6),e.channelCount=(0,o.i4)(t,16),e.sampleSize=(0,o.i4)(t,18),e.sampleRate=(0,o.Bh)(t,24)/65536,28}function y(e,t,r){if(e){if(e.size!==e.data.length)throw new Error("box ".concat(e.type," size !== data.length"));var n={start:e.start,size:e.size,headerSize:e.headerSize,type:e.type};return t&&(n.version=e.data[e.headerSize],n.flags=(0,o.sV)(e.data,e.headerSize+1),n.headerSize+=4),r(n,e.data.subarray(n.headerSize),n.start+n.headerSize),n}}var _=function(){for(var e=[],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){e.push(function(e,t,r){for(var n=String(r),i=t>>0,o=Math.ceil(i/n.length),a=[],s=String(e);o--;)a.push(n);return a.join("").substring(0,i-s.length)+s}(Number(t).toString(16),2,0))})),e[0]}},30497:function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t=t.filter(Boolean);var n=new Uint8Array(t.reduce((function(e,t){return e+t.byteLength}),0)),i=0;return t.forEach((function(e){n.set(e,i),i+=e.byteLength})),n}r.d(t,{gJ:function(){return n},mw:function(){return l},dB:function(){return c},Qc:function(){return f},i4:function(){return o},sV:function(){return a},Bh:function(){return s},h9:function(){return u}});var i=Math.pow(2,32);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e[t]<<8)+(e[t+1]||0)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e[t]<<16)+(e[t+1]<<8)+(e[t+2]||0)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e[t]<<24>>>0)+(e[t+1]<<16)+(e[t+2]<<8)+(e[t+3]||0)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e,t)*i+s(e,t+4)}function c(e){for(var t,r="avc1.",n=0;n<3;n++)(t=e[n].toString(16)).length<2&&(t="0".concat(t)),r+=t;return r}function l(e){var t="";if(e.forEach((function(e){t+=function(e){return("0"+Number(e).toString(16)).slice(-2).toUpperCase()}(e)})),t.length<=32)for(var r=32-t.length,n=0;n<r;n++)t+="0";return t}function f(e){if(!Array.isArray(e)){for(var t=[],r="",n=0;n<e.length;n++)n%2&&(r=e[n-1]+e[n],t.push(parseInt(r,16)),r="");return t}return e.map((function(e){return parseInt(e,16)}))}},95815:function(e,t,r){"use strict";r.d(t,{tn:function(){return n},ZD:function(){return i},Pw:function(){return o},wo:function(){return a},Im:function(){return s},_3:function(){return u}});var n=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],o=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],a="data-xgplayerid",s={BUFFER_CONTROLS:"buffer_control"},u={PLAYING:"playing",WAITING:"waiting"}},27408:function(e,t,r){"use strict";r.d(t,{ZP:function(){return c},Po:function(){return u}});var n=r(90691),i=r(97702);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(i=n.key,a=void 0,a=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===o(a)?a:String(a)),n)}var i,a}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var u={1:"network",2:"network",3:"decoder",4:"format"},c=s((function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null,src:null};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=t&&t.i18n?t.i18n.ERROR_TYPES:null;if(t.video){var a=r.mediaError?r.mediaError:t.video.error||{},s=t.duration,u=t.currentTime,c=t.ended,l=t.src,f=t.currentSrc,d=t.video,h=d.readyState,p=d.networkState,v={playerVersion:n.Z,domain:document.domain,currentTime:u,duration:s,ended:c,readyState:h,networkState:p,src:r.src||l||f,errorType:r.errorType,errorCode:r.errorCode||a.code,message:r.errorMessage||a.message,mediaError:a,originError:r.originError?r.originError.stack:"",host:i.ZP.getHostFromUrl(l||f)};return r.ext&&Object.keys(r.ext).map((function(e){v[e]=r.ext[e]})),v}if(arguments.length>1){for(var g={playerVersion:n.Z,domain:document.domain},m=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],y=0;y<arguments.length;y++)g[m[y]]=arguments[y];return g.ex=o?(o[arguments[0]]||{}).msg:"",g}}))},61508:function(e,t,r){"use strict";r.r(t),r.d(t,{PLAY:function(){return n},PLAYING:function(){return i},ENDED:function(){return o},PAUSE:function(){return a},ERROR:function(){return s},SEEKING:function(){return u},SEEKED:function(){return c},TIME_UPDATE:function(){return l},WAITING:function(){return f},CANPLAY:function(){return d},CANPLAY_THROUGH:function(){return h},DURATION_CHANGE:function(){return p},VOLUME_CHANGE:function(){return v},LOADED_DATA:function(){return g},LOADED_METADATA:function(){return m},RATE_CHANGE:function(){return y},PROGRESS:function(){return _},LOAD_START:function(){return b},EMPTIED:function(){return x},STALLED:function(){return w},SUSPEND:function(){return E},ABORT:function(){return k},BUFFER_CHANGE:function(){return S},PLAYER_FOCUS:function(){return T},PLAYER_BLUR:function(){return A},READY:function(){return O},URL_NULL:function(){return L},AUTOPLAY_STARTED:function(){return R},AUTOPLAY_PREVENTED:function(){return C},COMPLETE:function(){return P},REPLAY:function(){return I},DESTROY:function(){return D},URL_CHANGE:function(){return B},DOWNLOAD_SPEED_CHANGE:function(){return j},BUFFER_CONTROLS:function(){return M},FULLSCREEN_CHANGE:function(){return U},CSS_FULLSCREEN_CHANGE:function(){return N},MINI_STATE_CHANGE:function(){return F},DEFINITION_CHANGE:function(){return z},BEFORE_DEFINITION_CHANGE:function(){return H},AFTER_DEFINITION_CHANGE:function(){return V},SEI_PARSED:function(){return q},RETRY:function(){return W},VIDEO_RESIZE:function(){return G},PIP_CHANGE:function(){return Y},ROTATE:function(){return K},SCREEN_SHOT:function(){return X},PLAYNEXT:function(){return Z},SHORTCUT:function(){return Q},XGLOG:function(){return J},USER_ACTION:function(){return $},RESET:function(){return ee},SOURCE_ERROR:function(){return te},SOURCE_SUCCESS:function(){return re},SWITCH_SUBTITLE:function(){return ne},VIDEO_EVENTS:function(){return ie},STATS_EVENTS:function(){return oe},FPS_STUCK:function(){return ae}});var n="play",i="playing",o="ended",a="pause",s="error",u="seeking",c="seeked",l="timeupdate",f="waiting",d="canplay",h="canplaythrough",p="durationchange",v="volumechange",g="loadeddata",m="loadedmetadata",y="ratechange",_="progress",b="loadstart",x="emptied",w="stalled",E="suspend",k="abort",S="bufferedChange",T="focus",A="blur",O="ready",L="urlNull",R="autoplay_started",C="autoplay_was_prevented",P="complete",I="replay",D="destroy",B="urlchange",j="download_speed_change",M="buffer_control",U="fullscreen_change",N="cssFullscreen_change",F="mini_state_change",z="definition_change",H="before_definition_change",V="after_definition_change",q="SEI_PARSED",W="retry",G="video_resize",Y="pip_change",K="rotate",X="screenShot",Z="playnext",Q="shortcut",J="xglog",$="user_action",ee="reset",te="source_error",re="source_success",ne="switch_subtitle",ie=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],oe={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},ae="fps_stuck"},34210:function(e,t,r){"use strict";r.d(t,{ZP:function(){return h}});var n=r(97702),i=r(82468),o=r(46921);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function d(e,t){i.Z.logError("[".concat(e,"] event or callback cant be undefined or null when call ").concat(t))}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.ZP.checkIsFunction(this.beforeCreate)&&this.beforeCreate(t),(0,o.ZP)(this),this.__args=t,this.__events={},this.__onceEvents={},this.config=t.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(t)}var t,r,i;return t=e,r=[{key:"beforeCreate",value:function(e){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(e){this.player=e.player,this.playerConfig=e.player&&e.player.config,this.pluginName=e.pluginName?e.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=e.player&&e.player.logger}},{key:"updateLang",value:function(e){e||(e=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var e=n.ZP.checkTouchSupport()?"touch":"mouse";return!this.playerConfig||"touch"!==this.playerConfig.domEventType&&"mouse"!==this.playerConfig.domEventType||(e=this.playerConfig.domEventType),e}},{key:"on",value:function(e,t){var r=this;e&&t&&this.player?"string"==typeof e?(this.__events[e]=t,this.player.on(e,t)):Array.isArray(e)&&e.forEach((function(e){r.__events[e]=t,r.player.on(e,t)})):d(this.pluginName,"plugin.on(event, callback)")}},{key:"once",value:function(e,t){var r=this;e&&t&&this.player?"string"==typeof e?(this.__onceEvents[e]=t,this.player.once(e,t)):Array.isArray(e)&&e.forEach((function(n){r.__onceEvents[n]=t,r.player.once(e,t)})):d(this.pluginName,"plugin.once(event, callback)")}},{key:"off",value:function(e,t){var r=this;e&&t&&this.player?"string"==typeof e?(delete this.__events[e],this.player.off(e,t)):Array.isArray(e)&&e.forEach((function(n){delete r.__events[e],r.player.off(n,t)})):d(this.pluginName,"plugin.off(event, callback)")}},{key:"offAll",value:function(){var e=this;["__events","__onceEvents"].forEach((function(t){Object.keys(e[t]).forEach((function(r){e[t][r]&&e.off(r,e[t][r]),r&&delete e[t][r]}))})),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(e){var t;if(this.player){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(t=this.player).emit.apply(t,[e].concat(n))}}},{key:"emitUserAction",value:function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(this.player){var n=u(u({},r),{},{pluginName:this.pluginName});this.player.emitUserAction(e,t,n)}}},{key:"hook",value:function(e,t){return arguments.length>2&&undefined,o.z3.call.apply(o.z3,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return o.xn.call.apply(o.xn,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return o.v8.call.apply(o.v8,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";if(this.player)return r&&(t.pluginName=r),this.player.registerPlugin({plugin:e,options:t})}},{key:"getPlugin",value:function(e){return this.player?this.player.getPlugin(e):null}},{key:"__destroy",value:function(){var e=this,t=this.player,r=this.pluginName;this.offAll(),n.ZP.clearAllTimers(this),n.ZP.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map((function(t){e[t]=null})),t.unRegisterPlugin(r),(0,o.Qs)(this)}}],i=[{key:"defineGetterOrSetter",value:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&Object.defineProperty(e,r,t[r])}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}],r&&l(t.prototype,r),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},46921:function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];var a=t.call.apply(t,[e].concat(i));r&&"function"==typeof r&&(a&&a.then?a.then((function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r.call.apply(r,[e].concat(n))})):r.call.apply(r,[e].concat(i)))}function a(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),!this.__hooks[e]&&(this.__hooks[e]=null),function(){var i=arguments,a=this;if(r.pre)try{var s;(s=r.pre).call.apply(s,[this].concat(Array.prototype.slice.call(arguments)))}catch(l){throw l.message="[pluginName: ".concat(this.pluginName,":").concat(e,":pre error] >> ").concat(l.message),l}if(this.__hooks&&this.__hooks[e])try{var u,c=(u=this.__hooks[e]).call.apply(u,[this,this].concat(Array.prototype.slice.call(arguments)));c?c.then?c.then((function(e){!1!==e&&o.apply(void 0,[a,t,r.next].concat(n(i)))})).catch((function(e){throw e})):o.apply(void 0,[this,t,r.next].concat(Array.prototype.slice.call(arguments))):c===undefined&&o.apply(void 0,[this,t,r.next].concat(Array.prototype.slice.call(arguments)))}catch(l){throw l.message="[pluginName: ".concat(this.pluginName,":").concat(e,"] >> ").concat(l.message),l}else o.apply(void 0,[this,t,r.next].concat(Array.prototype.slice.call(arguments)))}.bind(this)}function s(e,t){var r=this.__hooks;if(r)return!!r.hasOwnProperty(e)&&(r&&(r[e]=t),!0)}function u(e,t){var r=this.__hooks;r&&delete r[e]}function c(e){if(this.plugins&&this.plugins[e.toLowerCase()]){for(var t=this.plugins[e.toLowerCase()],r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return t.useHooks&&t.useHooks.apply(t,n)}}function l(e){if(this.plugins&&this.plugins[e.toLowerCase()]){var t=this.plugins[e.toLowerCase()];if(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return t.removeHooks&&t.removeHooks.apply(t,n)}}}function f(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];e.__hooks={},t&&t.map((function(t){e.__hooks[t]=null})),Object.defineProperty(e,"hooks",{get:function(){return e.__hooks&&Object.keys(e.__hooks).map((function(t){if(e.__hooks[t])return t}))}})}function d(e){e.__hooks=null}function h(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];if(!e.__hooks||!e.__hooks[t])return r.call.apply(r,[e,e].concat(i));var a,s=(a=e.__hooks[t]).call.apply(a,[e,e].concat(i));if(s&&s.then)s.then((function(t){return!1===t?null:r.call.apply(r,[e,e].concat(i))})).catch((function(e){}));else if(!1!==s)return r.call.apply(r,[e,e].concat(i))}r.d(t,{ZP:function(){return f},z3:function(){return a},xn:function(){return s},bR:function(){return c},g2:function(){return l},v8:function(){return u},Qs:function(){return d},rl:function(){return h}})},82468:function(e,t,r){"use strict";r.d(t,{Z:function(){return a},w:function(){return s}});var n="undefined"!=typeof window&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,i={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},o="%c[xgplayer]",a={config:{debug:n?3:1},logInfo:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];this.config.debug>=3&&(t=console).log.apply(t,[o,i.info,e].concat(n))},logWarn:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];this.config.debug>=1&&(t=console).warn.apply(t,[o,i.warn,e].concat(n))},logError:function(e){var t;if(!(this.config.debug<1)){for(var r=this.config.debug>=2?"trace":"error",n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];(t=console)[r].apply(t,[o,i.error,e].concat(a))}}};function s(e){e.logInfo=a.logInfo.bind(e),e.logWarn=a.logWarn.bind(e),e.logError=a.logError.bind(e)}},50497:function(e,t){"use strict";var r=/(Android)\s([\d.]+)/,n=/(Version)\/([\d.]+)/,i=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],o={get device(){return o.os.isPc?"pc":"mobile"},get browser(){if("undefined"==typeof navigator)return"";var e=navigator.userAgent.toLowerCase(),t={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(t).filter((function(r){return t[r].test(e)})))[0]},get os(){if("undefined"==typeof navigator)return{};var e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),r=/(?:SymbianOS)/.test(e)||t,n=/(?:Android)/.test(e),i=/(?:Firefox)/.test(e),o=/(?:iPad|PlayBook)/.test(e)||n&&!/(?:Mobile)/.test(e)||i&&/(?:Tablet)/.test(e),a=/(?:iPhone)/.test(e)&&!o,s=!(a||n||r||o),u=/(?:iPad|PlayBook)/.test(e);return{isTablet:o,isPhone:a,isIpad:u,isIos:a||u,isAndroid:n,isPc:s,isSymbian:r,isWindowsPhone:t,isFireFox:i}},get osVersion(){if("undefined"==typeof navigator)return 0;var e=navigator.userAgent,t="",i=(t=/(?:iPhone)|(?:iPad|PlayBook)/.test(e)?n:r)?t.exec(e):[];if(i&&i.length>=3){var o=i[2].split(".");return o.length>0?parseInt(o[0]):0}return 0},get isWeixin(){if("undefined"==typeof navigator)return!1;return!!/(micromessenger)\/([\d.]+)/.exec(navigator.userAgent.toLocaleLowerCase())},isSupportMP4:function(){var e={isSupport:!1,mime:""};if("undefined"==typeof document)return e;if(this.supportResult)return this.supportResult;var t=document.createElement("video");return"function"==typeof t.canPlayType&&i.map((function(r){"probably"===t.canPlayType('video/mp4; codecs="'.concat(r,'"'))&&(e.isSupport=!0,e.mime+="||".concat(r))})),this.supportResult=e,t=null,e},isHevcSupported:function(){return!("undefined"==typeof MediaSource||!MediaSource.isTypeSupported)&&(MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"'))},probeConfigSupported:function(e){var t={supported:!1,smooth:!1,powerEfficient:!1};if(!e||"undefined"==typeof navigator)return Promise.resolve(t);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(e);var r=e.video||{},n=e.audio||{};try{var i=MediaSource.isTypeSupported(r.contentType),o=MediaSource.isTypeSupported(n.contentType);return Promise.resolve({supported:i&&o,smooth:!1,powerEfficient:!1})}catch(a){return Promise.resolve(t)}}};t.Z=o},97702:function(e,t,r){"use strict";r.d(t,{F7:function(){return v},ZP:function(){return l},VQ:function(){return p},P2:function(){return h}});var n=r(82468);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bufferedList=t}var t,r,n;return t=e,(r=[{key:"start",value:function(e){return this.bufferedList[e].start}},{key:"end",value:function(e){return this.bufferedList[e].end}},{key:"length",get:function(){return this.bufferedList.length}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var l={};function f(e){var t=c(e);return null!==e&&("object"===t||"function"===t)}function d(e,t,r){var n,i,o,a,s,u,c=0,l=!1,d=!1,h=!0,p=!t&&0!==t&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=n,o=i;return n=i=undefined,c=t,a=e.apply(o,r)}function g(e,t){return p?(window.cancelAnimationFrame(s),window.requestAnimationFrame(e)):setTimeout(e,t)}function m(e){var r=e-u;return u===undefined||r>=t||r<0||d&&e-c>=o}function y(){var e=Date.now();if(m(e))return _(e);s=g(y,function(e){var r=e-c,n=t-(e-u);return d?Math.min(n,o-r):n}(e))}function _(e){return s=undefined,h&&n?v(e):(n=i=undefined,a)}function b(){for(var e=Date.now(),r=m(e),o=arguments.length,f=new Array(o),h=0;h<o;h++)f[h]=arguments[h];if(n=f,i=this,u=e,r){if(s===undefined)return function(e){return c=e,s=g(y,t),l?v(e):a}(u);if(d)return s=g(y,t),v(u)}return s===undefined&&(s=g(y,t)),a}return t=+t||0,f(r)&&(l=!!r.leading,o=(d="maxWait"in r)?Math.max(+r.maxWait||0,t):o,h="trailing"in r?!!r.trailing:h),b.cancel=function(){s!==undefined&&function(e){if(p)return window.cancelAnimationFrame(e);clearTimeout(e)}(s),c=0,n=u=i=s=undefined},b.flush=function(){return s===undefined?a:_(Date.now())},b.pending=function(){return s!==undefined},b}function h(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return f(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),d(e,t,{leading:n,trailing:i,maxWait:t})}function p(){var e=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();return"zh-cn"===e&&(e="zh"),e}function v(e,t,r){if(e){var n=e.getAttribute(r);return!(!n||n!==t||"VIDEO"!==e.tagName&&"AUDIO"!==e.tagName)}}l.createDom=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div",t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"",i=document.createElement(e);return i.className=n,i.innerHTML=t,Object.keys(r).forEach((function(t){var n=t,o=r[t];"video"===e||"audio"===e||"live-video"===e?o&&i.setAttribute(n,o):i.setAttribute(n,o)})),i},l.createDomFromHtml=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";try{var i=document.createElement("div");i.innerHTML=e;var o=i.children;return i=null,o.length>0?(o=o[0],r&&l.addClass(o,r),t&&Object.keys(t).forEach((function(e){o.setAttribute(e,t[e])})),o):null}catch(a){return n.Z.logError("util.createDomFromHtml",a),null}},l.hasClass=function(e,t){if(!e||!t)return!1;try{return Array.prototype.some.call(e.classList,(function(e){return e===t}))}catch(n){var r=e.className&&"object"===c(e.className)?e.getAttribute("class"):e.className;return r&&!!r.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}},l.addClass=function(e,t){if(e&&t)try{t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach((function(t){t&&e.classList.add(t)}))}catch(r){l.hasClass(e,t)||(e.className&&"object"===c(e.className)?e.setAttribute("class",e.getAttribute("class")+" "+t):e.className+=" "+t)}},l.removeClass=function(e,t){if(e&&t)try{t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach((function(t){t&&e.classList.remove(t)}))}catch(r){l.hasClass(e,t)&&t.split(/\s+/g).forEach((function(t){var r=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className&&"object"===c(e.className)?e.setAttribute("class",e.getAttribute("class").replace(r," ")):e.className=e.className.replace(r," ")}))}},l.toggleClass=function(e,t){e&&t.split(/\s+/g).forEach((function(t){l.hasClass(e,t)?l.removeClass(e,t):l.addClass(e,t)}))},l.classNames=function(){for(var e=arguments,t=[],r=function(r){"String"===l.typeOf(e[r])?t.push(e[r]):"Object"===l.typeOf(e[r])&&Object.keys(e[r]).map((function(n){e[r][n]&&t.push(n)}))},n=0;n<arguments.length;n++)r(n);return t.join(" ")},l.findDom=function(){var e,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document,r=arguments.length>1?arguments[1]:undefined;try{e=t.querySelector(r)}catch(i){n.Z.logError("util.findDom",i),0===r.indexOf("#")&&(e=t.getElementById(r.slice(1)))}return e},l.getCss=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,!1)[t]},l.padStart=function(e,t,r){for(var n=String(r),i=t>>0,o=Math.ceil(i/n.length),a=[],s=String(e);o--;)a.push(n);return a.join("").substring(0,i-s.length)+s},l.format=function(e){if(window.isNaN(e))return"";e=Math.round(e);var t=l.padStart(Math.floor(e/3600),2,0),r=l.padStart(Math.floor((e-3600*t)/60),2,0),n=l.padStart(Math.floor(e-3600*t-60*r),2,0);return("00"===t?[r,n]:[t,r,n]).join(":")},l.event=function(e){if(e.touches){var t=e.touches[0]||e.changedTouches[0];e.clientX=t.clientX||0,e.clientY=t.clientY||0,e.offsetX=t.pageX-t.target.offsetLeft,e.offsetY=t.pageY-t.target.offsetTop}e._target=e.target||e.srcElement},l.typeOf=function(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},l.deepCopy=function(e,t){if("Object"===l.typeOf(t)&&"Object"===l.typeOf(e))return Object.keys(t).forEach((function(r){"Object"!==l.typeOf(t[r])||t[r]instanceof Node?"Array"===l.typeOf(t[r])?e[r]="Array"===l.typeOf(e[r])?e[r].concat(t[r]):t[r]:e[r]=t[r]:e[r]===undefined||e[r]===undefined?e[r]=t[r]:l.deepCopy(e[r],t[r])})),e},l.deepMerge=function(e,t){return Object.keys(t).map((function(r){var n;"Array"===l.typeOf(t[r])&&"Array"===l.typeOf(e[r])?"Array"===l.typeOf(e[r])&&(n=e[r]).push.apply(n,s(t[r])):l.typeOf(e[r])!==l.typeOf(t[r])||null===e[r]||"Object"!==l.typeOf(e[r])||t[r]instanceof window.Node?null!==t[r]&&(e[r]=t[r]):l.deepMerge(e[r],t[r])})),e},l.getBgImage=function(e){var t=(e.currentStyle||window.getComputedStyle(e,null)).backgroundImage;if(!t||"none"===t)return"";var r=document.createElement("a");return r.href=t.replace(/url\("|"\)/g,""),r.href},l.copyDom=function(e){if(e&&1===e.nodeType){var t=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,(function(e){t.setAttribute(e.name,e.value)})),e.innerHTML&&(t.innerHTML=e.innerHTML),t}return""},l.setInterval=function(e,t,r,n){e._interval[t]||(e._interval[t]=window.setInterval(r.bind(e),n))},l.clearInterval=function(e,t){clearInterval(e._interval[t]),e._interval[t]=null},l.setTimeout=function(e,t,r){e._timers||(e._timers=[]);var n=setTimeout((function(){t(),l.clearTimeout(e,n)}),r);return e._timers.push(n),n},l.clearTimeout=function(e,t){var r=e._timers;if("Array"===l.typeOf(r)){for(var n=0;n<r.length;n++)if(r[n]===t){r.splice(n,1),clearTimeout(t);break}}else clearTimeout(t)},l.clearAllTimers=function(e){var t=e._timers;"Array"===l.typeOf(t)&&(t.map((function(e){clearTimeout(e)})),e._timerIds=[])},l.createImgBtn=function(e,t,r,n){var i,o,a,s=l.createDom("xg-".concat(e),"",{},"xgplayer-".concat(e,"-img"));(s.style.backgroundImage='url("'.concat(t,'")'),r&&n)&&(["px","rem","em","pt","dp","vw","vh","vm","%"].every((function(e){return!(r.indexOf(e)>-1&&n.indexOf(e)>-1)||(i=parseFloat(r.slice(0,r.indexOf(e)).trim()),o=parseFloat(n.slice(0,n.indexOf(e)).trim()),a=e,!1)})),s.style.width="".concat(i).concat(a),s.style.height="".concat(o).concat(a),s.style.backgroundSize="".concat(i).concat(a," ").concat(o).concat(a),s.style.margin="start"===e?"-".concat(o/2).concat(a," auto auto -").concat(i/2).concat(a):"auto 5px auto 5px");return s},l.Hex2RGBA=function(e,t){var r=[];if(/^\#[0-9A-F]{3}$/i.test(e)){var n="#";e.replace(/[0-9A-F]/gi,(function(e){n+=e+e})),e=n}return/^#[0-9A-F]{6}$/i.test(e)?(e.replace(/[0-9A-F]{2}/gi,(function(e){r.push(parseInt(e,16))})),"rgba(".concat(r.join(","),", ").concat(t,")")):"rgba(255, 255, 255, 0.1)"},l.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},l.checkIsFunction=function(e){return e&&"function"==typeof e},l.checkIsObject=function(e){return null!==e&&"object"===c(e)},l.hide=function(e){e.style.display="none"},l.show=function(e,t){e.style.display=t||"block"},l.isUndefined=function(e){if(null==e)return!0},l.setStyleFromCsstext=function(e,t){t&&("String"===l.typeOf(t)?t.replace(/\s+/g,"").split(";").map((function(t){if(t){var r=t.split(":");r.length>1&&(e.style[r[0]]=r[1])}})):Object.keys(t).map((function(r){e.style[r]=t[r]})))},l.filterStyleFromText=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],r=e.style.cssText;if(!r)return{};var n=r.replace(/\s+/g,"").split(";"),i={},o={};return n.map((function(e){if(e){var r=e.split(":");r.length>1&&(!function(e,t){for(var r=0,n=t.length;r<n;r++)if(e.indexOf(t[r])>-1)return!0;return!1}(r[0],t)?o[r[0]]=r[1]:i[r[0]]=r[1])}})),e.setAttribute("style",""),Object.keys(o).map((function(t){e.style[t]=o[t]})),i},l.getStyleFromCsstext=function(e){var t=e.style.cssText;if(!t)return{};var r=t.replace(/\s+/g,"").split(";"),n={};return r.map((function(e){if(e){var t=e.split(":");t.length>1&&(n[t[0]]=t[1])}})),n},l.preloadImg=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){};if(e){var n=new window.Image;n.onload=function(e){n=null,t&&t(e)},n.onerror=function(e){n=null,r&&r(e)},n.src=e}},l.stopPropagation=function(e){e&&(e.stopPropagation(),e.cancelable&&e.preventDefault())},l.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},l.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},l.checkTouchSupport=function(){return"ontouchstart"in window},l.getBuffered2=function(e){for(var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:.5,r=[],n=0;n<e.length;n++)r.push({start:e.start(n)<.5?0:e.start(n),end:e.end(n)});r.sort((function(e,t){var r=e.start-t.start;return r||t.end-e.end}));var i=[];if(t)for(var o=0;o<r.length;o++){var s=i.length;if(s){var u=i[s-1].end;r[o].start-u<t?r[o].end>u&&(i[s-1].end=r[o].end):i.push(r[o])}else i.push(r[o])}else i=r;return new a(i)},l.getEventPos=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return e.touches&&e.touches.length>0&&(e=e.touches[0]),{x:e.x/t,y:e.y/t,clientX:e.clientX/t,clientY:e.clientY/t,offsetX:e.offsetX/t,offsetY:e.offsetY/t,pageX:e.pageX/t,pageY:e.pageY/t}},l.requestAnimationFrame=function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(t)return t(e)},l.getHostFromUrl=function(e){if("String"!==l.typeOf(e))return"";var t=e.split("/"),r="";return t.length>3&&t[2]&&(r=t[2]),r},l.cancelAnimationFrame=function(e){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;t&&t(e)},l.isMSE=function(e){return!!(e&&e instanceof HTMLMediaElement)&&(/^blob/.test(e.currentSrc)||/^blob/.test(e.src))},l.generateSessionId=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,t=(new Date).getTime();try{e=parseInt(e)}catch(r){e=0}return t+=e,window.performance&&"function"==typeof window.performance.now&&(t+=parseInt(window.performance.now())),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?r:3&r|8).toString(16)}))},l.adjustTimeByDuration=function(e,t,r){return t&&e&&(e>t||r&&e<t)?t:e}},90691:function(e,t){"use strict";var r=JSON.parse('"3.0.0-alpha.115-6"');t.Z=r}}]);